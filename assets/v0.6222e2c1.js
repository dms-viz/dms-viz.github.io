var JD=Object.defineProperty;var ek=(i,e,t)=>e in i?JD(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Xn=(i,e,t)=>(ek(i,typeof e!="symbol"?e+"":e,t),t),tk=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var D0=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)};var wa=(i,e,t)=>(tk(i,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var cs="top",ca="bottom",la="right",ls="left",ZE="auto",Uf=[cs,ca,la,ls],eu="start",lf="end",nk="clippingParents",FB="viewport",Xu="popper",ik="reference",O7=Uf.reduce(function(i,e){return i.concat([e+"-"+eu,e+"-"+lf])},[]),IB=[].concat(Uf,[ZE]).reduce(function(i,e){return i.concat([e,e+"-"+eu,e+"-"+lf])},[]),rk="beforeRead",sk="read",ak="afterRead",ok="beforeMain",Ak="main",ck="afterMain",lk="beforeWrite",uk="write",dk="afterWrite",fk=[rk,sk,ak,ok,Ak,ck,lk,uk,dk];function fo(i){return i?(i.nodeName||"").toLowerCase():null}function Ns(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}function wc(i){var e=Ns(i).Element;return i instanceof e||i instanceof Element}function oa(i){var e=Ns(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}function JE(i){if(typeof ShadowRoot>"u")return!1;var e=Ns(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}function hk(i){var e=i.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},s=e.elements[t];!oa(s)||!fo(s)||(Object.assign(s.style,n),Object.keys(r).forEach(function(a){var o=r[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function pk(i){var e=i.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var r=e.elements[n],s=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),o=a.reduce(function(A,c){return A[c]="",A},{});!oa(r)||!fo(r)||(Object.assign(r.style,o),Object.keys(s).forEach(function(A){r.removeAttribute(A)}))})}}const UB={name:"applyStyles",enabled:!0,phase:"write",fn:hk,effect:pk,requires:["computeStyles"]};function ro(i){return i.split("-")[0]}var cc=Math.max,rm=Math.min,tu=Math.round;function Jw(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function PB(){return!/^((?!chrome|android).)*safari/i.test(Jw())}function nu(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=i.getBoundingClientRect(),r=1,s=1;e&&oa(i)&&(r=i.offsetWidth>0&&tu(n.width)/i.offsetWidth||1,s=i.offsetHeight>0&&tu(n.height)/i.offsetHeight||1);var a=wc(i)?Ns(i):window,o=a.visualViewport,A=!PB()&&t,c=(n.left+(A&&o?o.offsetLeft:0))/r,l=(n.top+(A&&o?o.offsetTop:0))/s,u=n.width/r,d=n.height/s;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function e_(i){var e=nu(i),t=i.offsetWidth,n=i.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:i.offsetLeft,y:i.offsetTop,width:t,height:n}}function LB(i,e){var t=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(t&&JE(t)){var n=e;do{if(n&&i.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function cA(i){return Ns(i).getComputedStyle(i)}function mk(i){return["table","td","th"].indexOf(fo(i))>=0}function w0(i){return((wc(i)?i.ownerDocument:i.document)||window.document).documentElement}function hg(i){return fo(i)==="html"?i:i.assignedSlot||i.parentNode||(JE(i)?i.host:null)||w0(i)}function Q7(i){return!oa(i)||cA(i).position==="fixed"?null:i.offsetParent}function gk(i){var e=/firefox/i.test(Jw()),t=/Trident/i.test(Jw());if(t&&oa(i)){var n=cA(i);if(n.position==="fixed")return null}var r=hg(i);for(JE(r)&&(r=r.host);oa(r)&&["html","body"].indexOf(fo(r))<0;){var s=cA(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Pf(i){for(var e=Ns(i),t=Q7(i);t&&mk(t)&&cA(t).position==="static";)t=Q7(t);return t&&(fo(t)==="html"||fo(t)==="body"&&cA(t).position==="static")?e:t||gk(i)||e}function t_(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function Hd(i,e,t){return cc(i,rm(e,t))}function yk(i,e,t){var n=Hd(i,e,t);return n>t?t:n}function DB(){return{top:0,right:0,bottom:0,left:0}}function kB(i){return Object.assign({},DB(),i)}function OB(i,e){return e.reduce(function(t,n){return t[n]=i,t},{})}var wk=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,kB(typeof e!="number"?e:OB(e,Uf))};function bk(i){var e,t=i.state,n=i.name,r=i.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,o=ro(t.placement),A=t_(o),c=[ls,la].indexOf(o)>=0,l=c?"height":"width";if(!(!s||!a)){var u=wk(r.padding,t),d=e_(s),h=A==="y"?cs:ls,m=A==="y"?ca:la,y=t.rects.reference[l]+t.rects.reference[A]-a[A]-t.rects.popper[l],g=a[A]-t.rects.reference[A],E=Pf(s),R=E?A==="y"?E.clientHeight||0:E.clientWidth||0:0,p=y/2-g/2,w=u[h],v=R-d[l]-u[m],_=R/2-d[l]/2+p,x=Hd(w,_,v),C=A;t.modifiersData[n]=(e={},e[C]=x,e.centerOffset=x-_,e)}}function Ek(i){var e=i.state,t=i.options,n=t.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!LB(e.elements.popper,r)||(e.elements.arrow=r))}const _k={name:"arrow",enabled:!0,phase:"main",fn:bk,effect:Ek,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function iu(i){return i.split("-")[1]}var vk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xk(i,e){var t=i.x,n=i.y,r=e.devicePixelRatio||1;return{x:tu(t*r)/r||0,y:tu(n*r)/r||0}}function H7(i){var e,t=i.popper,n=i.popperRect,r=i.placement,s=i.variation,a=i.offsets,o=i.position,A=i.gpuAcceleration,c=i.adaptive,l=i.roundOffsets,u=i.isFixed,d=a.x,h=d===void 0?0:d,m=a.y,y=m===void 0?0:m,g=typeof l=="function"?l({x:h,y}):{x:h,y};h=g.x,y=g.y;var E=a.hasOwnProperty("x"),R=a.hasOwnProperty("y"),p=ls,w=cs,v=window;if(c){var _=Pf(t),x="clientHeight",C="clientWidth";if(_===Ns(t)&&(_=w0(t),cA(_).position!=="static"&&o==="absolute"&&(x="scrollHeight",C="scrollWidth")),_=_,r===cs||(r===ls||r===la)&&s===lf){w=ca;var B=u&&_===v&&v.visualViewport?v.visualViewport.height:_[x];y-=B-n.height,y*=A?1:-1}if(r===ls||(r===cs||r===ca)&&s===lf){p=la;var G=u&&_===v&&v.visualViewport?v.visualViewport.width:_[C];h-=G-n.width,h*=A?1:-1}}var I=Object.assign({position:o},c&&vk),N=l===!0?xk({x:h,y},Ns(t)):{x:h,y};if(h=N.x,y=N.y,A){var T;return Object.assign({},I,(T={},T[w]=R?"0":"",T[p]=E?"0":"",T.transform=(v.devicePixelRatio||1)<=1?"translate("+h+"px, "+y+"px)":"translate3d("+h+"px, "+y+"px, 0)",T))}return Object.assign({},I,(e={},e[w]=R?y+"px":"",e[p]=E?h+"px":"",e.transform="",e))}function Rk(i){var e=i.state,t=i.options,n=t.gpuAcceleration,r=n===void 0?!0:n,s=t.adaptive,a=s===void 0?!0:s,o=t.roundOffsets,A=o===void 0?!0:o,c={placement:ro(e.placement),variation:iu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,H7(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:A})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,H7(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:A})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Bk={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rk,data:{}};var zh={passive:!0};function Ck(i){var e=i.state,t=i.instance,n=i.options,r=n.scroll,s=r===void 0?!0:r,a=n.resize,o=a===void 0?!0:a,A=Ns(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(l){l.addEventListener("scroll",t.update,zh)}),o&&A.addEventListener("resize",t.update,zh),function(){s&&c.forEach(function(l){l.removeEventListener("scroll",t.update,zh)}),o&&A.removeEventListener("resize",t.update,zh)}}const Sk={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ck,data:{}};var Nk={left:"right",right:"left",bottom:"top",top:"bottom"};function M1(i){return i.replace(/left|right|bottom|top/g,function(e){return Nk[e]})}var Mk={start:"end",end:"start"};function z7(i){return i.replace(/start|end/g,function(e){return Mk[e]})}function n_(i){var e=Ns(i),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function i_(i){return nu(w0(i)).left+n_(i).scrollLeft}function Tk(i,e){var t=Ns(i),n=w0(i),r=t.visualViewport,s=n.clientWidth,a=n.clientHeight,o=0,A=0;if(r){s=r.width,a=r.height;var c=PB();(c||!c&&e==="fixed")&&(o=r.offsetLeft,A=r.offsetTop)}return{width:s,height:a,x:o+i_(i),y:A}}function Gk(i){var e,t=w0(i),n=n_(i),r=(e=i.ownerDocument)==null?void 0:e.body,s=cc(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=cc(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-n.scrollLeft+i_(i),A=-n.scrollTop;return cA(r||t).direction==="rtl"&&(o+=cc(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:o,y:A}}function r_(i){var e=cA(i),t=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+n)}function QB(i){return["html","body","#document"].indexOf(fo(i))>=0?i.ownerDocument.body:oa(i)&&r_(i)?i:QB(hg(i))}function zd(i,e){var t;e===void 0&&(e=[]);var n=QB(i),r=n===((t=i.ownerDocument)==null?void 0:t.body),s=Ns(n),a=r?[s].concat(s.visualViewport||[],r_(n)?n:[]):n,o=e.concat(a);return r?o:o.concat(zd(hg(a)))}function eb(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Fk(i,e){var t=nu(i,!1,e==="fixed");return t.top=t.top+i.clientTop,t.left=t.left+i.clientLeft,t.bottom=t.top+i.clientHeight,t.right=t.left+i.clientWidth,t.width=i.clientWidth,t.height=i.clientHeight,t.x=t.left,t.y=t.top,t}function V7(i,e,t){return e===FB?eb(Tk(i,t)):wc(e)?Fk(e,t):eb(Gk(w0(i)))}function Ik(i){var e=zd(hg(i)),t=["absolute","fixed"].indexOf(cA(i).position)>=0,n=t&&oa(i)?Pf(i):i;return wc(n)?e.filter(function(r){return wc(r)&&LB(r,n)&&fo(r)!=="body"}):[]}function Uk(i,e,t,n){var r=e==="clippingParents"?Ik(i):[].concat(e),s=[].concat(r,[t]),a=s[0],o=s.reduce(function(A,c){var l=V7(i,c,n);return A.top=cc(l.top,A.top),A.right=rm(l.right,A.right),A.bottom=rm(l.bottom,A.bottom),A.left=cc(l.left,A.left),A},V7(i,a,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function HB(i){var e=i.reference,t=i.element,n=i.placement,r=n?ro(n):null,s=n?iu(n):null,a=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,A;switch(r){case cs:A={x:a,y:e.y-t.height};break;case ca:A={x:a,y:e.y+e.height};break;case la:A={x:e.x+e.width,y:o};break;case ls:A={x:e.x-t.width,y:o};break;default:A={x:e.x,y:e.y}}var c=r?t_(r):null;if(c!=null){var l=c==="y"?"height":"width";switch(s){case eu:A[c]=A[c]-(e[l]/2-t[l]/2);break;case lf:A[c]=A[c]+(e[l]/2-t[l]/2);break}}return A}function uf(i,e){e===void 0&&(e={});var t=e,n=t.placement,r=n===void 0?i.placement:n,s=t.strategy,a=s===void 0?i.strategy:s,o=t.boundary,A=o===void 0?nk:o,c=t.rootBoundary,l=c===void 0?FB:c,u=t.elementContext,d=u===void 0?Xu:u,h=t.altBoundary,m=h===void 0?!1:h,y=t.padding,g=y===void 0?0:y,E=kB(typeof g!="number"?g:OB(g,Uf)),R=d===Xu?ik:Xu,p=i.rects.popper,w=i.elements[m?R:d],v=Uk(wc(w)?w:w.contextElement||w0(i.elements.popper),A,l,a),_=nu(i.elements.reference),x=HB({reference:_,element:p,strategy:"absolute",placement:r}),C=eb(Object.assign({},p,x)),B=d===Xu?C:_,G={top:v.top-B.top+E.top,bottom:B.bottom-v.bottom+E.bottom,left:v.left-B.left+E.left,right:B.right-v.right+E.right},I=i.modifiersData.offset;if(d===Xu&&I){var N=I[r];Object.keys(G).forEach(function(T){var M=[la,ca].indexOf(T)>=0?1:-1,U=[cs,ca].indexOf(T)>=0?"y":"x";G[T]+=N[U]*M})}return G}function Pk(i,e){e===void 0&&(e={});var t=e,n=t.placement,r=t.boundary,s=t.rootBoundary,a=t.padding,o=t.flipVariations,A=t.allowedAutoPlacements,c=A===void 0?IB:A,l=iu(n),u=l?o?O7:O7.filter(function(m){return iu(m)===l}):Uf,d=u.filter(function(m){return c.indexOf(m)>=0});d.length===0&&(d=u);var h=d.reduce(function(m,y){return m[y]=uf(i,{placement:y,boundary:r,rootBoundary:s,padding:a})[ro(y)],m},{});return Object.keys(h).sort(function(m,y){return h[m]-h[y]})}function Lk(i){if(ro(i)===ZE)return[];var e=M1(i);return[z7(i),e,z7(e)]}function Dk(i){var e=i.state,t=i.options,n=i.name;if(!e.modifiersData[n]._skip){for(var r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,o=a===void 0?!0:a,A=t.fallbackPlacements,c=t.padding,l=t.boundary,u=t.rootBoundary,d=t.altBoundary,h=t.flipVariations,m=h===void 0?!0:h,y=t.allowedAutoPlacements,g=e.options.placement,E=ro(g),R=E===g,p=A||(R||!m?[M1(g)]:Lk(g)),w=[g].concat(p).reduce(function(Ae,ee){return Ae.concat(ro(ee)===ZE?Pk(e,{placement:ee,boundary:l,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:y}):ee)},[]),v=e.rects.reference,_=e.rects.popper,x=new Map,C=!0,B=w[0],G=0;G<w.length;G++){var I=w[G],N=ro(I),T=iu(I)===eu,M=[cs,ca].indexOf(N)>=0,U=M?"width":"height",z=uf(e,{placement:I,boundary:l,rootBoundary:u,altBoundary:d,padding:c}),L=M?T?la:ls:T?ca:cs;v[U]>_[U]&&(L=M1(L));var k=M1(L),K=[];if(s&&K.push(z[N]<=0),o&&K.push(z[L]<=0,z[k]<=0),K.every(function(Ae){return Ae})){B=I,C=!1;break}x.set(I,K)}if(C)for(var V=m?3:1,D=function(ee){var se=w.find(function(le){var J=x.get(le);if(J)return J.slice(0,ee).every(function(me){return me})});if(se)return B=se,"break"},H=V;H>0;H--){var oe=D(H);if(oe==="break")break}e.placement!==B&&(e.modifiersData[n]._skip=!0,e.placement=B,e.reset=!0)}}const kk={name:"flip",enabled:!0,phase:"main",fn:Dk,requiresIfExists:["offset"],data:{_skip:!1}};function K7(i,e,t){return t===void 0&&(t={x:0,y:0}),{top:i.top-e.height-t.y,right:i.right-e.width+t.x,bottom:i.bottom-e.height+t.y,left:i.left-e.width-t.x}}function $7(i){return[cs,la,ca,ls].some(function(e){return i[e]>=0})}function Ok(i){var e=i.state,t=i.name,n=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,a=uf(e,{elementContext:"reference"}),o=uf(e,{altBoundary:!0}),A=K7(a,n),c=K7(o,r,s),l=$7(A),u=$7(c);e.modifiersData[t]={referenceClippingOffsets:A,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":u})}const Qk={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ok};function Hk(i,e,t){var n=ro(i),r=[ls,cs].indexOf(n)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:i})):t,a=s[0],o=s[1];return a=a||0,o=(o||0)*r,[ls,la].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}function zk(i){var e=i.state,t=i.options,n=i.name,r=t.offset,s=r===void 0?[0,0]:r,a=IB.reduce(function(l,u){return l[u]=Hk(u,e.rects,s),l},{}),o=a[e.placement],A=o.x,c=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=A,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=a}const Vk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zk};function Kk(i){var e=i.state,t=i.name;e.modifiersData[t]=HB({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const $k={name:"popperOffsets",enabled:!0,phase:"read",fn:Kk,data:{}};function Wk(i){return i==="x"?"y":"x"}function qk(i){var e=i.state,t=i.options,n=i.name,r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,o=a===void 0?!1:a,A=t.boundary,c=t.rootBoundary,l=t.altBoundary,u=t.padding,d=t.tether,h=d===void 0?!0:d,m=t.tetherOffset,y=m===void 0?0:m,g=uf(e,{boundary:A,rootBoundary:c,padding:u,altBoundary:l}),E=ro(e.placement),R=iu(e.placement),p=!R,w=t_(E),v=Wk(w),_=e.modifiersData.popperOffsets,x=e.rects.reference,C=e.rects.popper,B=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,G=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(!!_){if(s){var T,M=w==="y"?cs:ls,U=w==="y"?ca:la,z=w==="y"?"height":"width",L=_[w],k=L+g[M],K=L-g[U],V=h?-C[z]/2:0,D=R===eu?x[z]:C[z],H=R===eu?-C[z]:-x[z],oe=e.elements.arrow,Ae=h&&oe?e_(oe):{width:0,height:0},ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:DB(),se=ee[M],le=ee[U],J=Hd(0,x[z],Ae[z]),me=p?x[z]/2-V-J-se-G.mainAxis:D-J-se-G.mainAxis,ue=p?-x[z]/2+V+J+le+G.mainAxis:H+J+le+G.mainAxis,ge=e.elements.arrow&&Pf(e.elements.arrow),fe=ge?w==="y"?ge.clientTop||0:ge.clientLeft||0:0,we=(T=I==null?void 0:I[w])!=null?T:0,Fe=L+me-we-fe,je=L+ue-we,De=Hd(h?rm(k,Fe):k,L,h?cc(K,je):K);_[w]=De,N[w]=De-L}if(o){var Le,tt=w==="x"?cs:ls,Ie=w==="x"?ca:la,Xe=_[v],et=v==="y"?"height":"width",st=Xe+g[tt],re=Xe-g[Ie],X=[cs,ls].indexOf(E)!==-1,Be=(Le=I==null?void 0:I[v])!=null?Le:0,We=X?st:Xe-x[et]-C[et]-Be+G.altAxis,Se=X?Xe+x[et]+C[et]-Be-G.altAxis:re,ze=h&&X?yk(We,Xe,Se):Hd(h?We:st,Xe,h?Se:re);_[v]=ze,N[v]=ze-Xe}e.modifiersData[n]=N}}const Yk={name:"preventOverflow",enabled:!0,phase:"main",fn:qk,requiresIfExists:["offset"]};function Xk(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function jk(i){return i===Ns(i)||!oa(i)?n_(i):Xk(i)}function Zk(i){var e=i.getBoundingClientRect(),t=tu(e.width)/i.offsetWidth||1,n=tu(e.height)/i.offsetHeight||1;return t!==1||n!==1}function Jk(i,e,t){t===void 0&&(t=!1);var n=oa(e),r=oa(e)&&Zk(e),s=w0(e),a=nu(i,r,t),o={scrollLeft:0,scrollTop:0},A={x:0,y:0};return(n||!n&&!t)&&((fo(e)!=="body"||r_(s))&&(o=jk(e)),oa(e)?(A=nu(e,!0),A.x+=e.clientLeft,A.y+=e.clientTop):s&&(A.x=i_(s))),{x:a.left+o.scrollLeft-A.x,y:a.top+o.scrollTop-A.y,width:a.width,height:a.height}}function eO(i){var e=new Map,t=new Set,n=[];i.forEach(function(s){e.set(s.name,s)});function r(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!t.has(o)){var A=e.get(o);A&&r(A)}}),n.push(s)}return i.forEach(function(s){t.has(s.name)||r(s)}),n}function tO(i){var e=eO(i);return fk.reduce(function(t,n){return t.concat(e.filter(function(r){return r.phase===n}))},[])}function nO(i){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(i())})})),e}}function iO(i){var e=i.reduce(function(t,n){var r=t[n.name];return t[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var W7={placement:"bottom",modifiers:[],strategy:"absolute"};function q7(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function rO(i){i===void 0&&(i={});var e=i,t=e.defaultModifiers,n=t===void 0?[]:t,r=e.defaultOptions,s=r===void 0?W7:r;return function(o,A,c){c===void 0&&(c=s);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},W7,s),modifiersData:{},elements:{reference:o,popper:A},attributes:{},styles:{}},u=[],d=!1,h={state:l,setOptions:function(E){var R=typeof E=="function"?E(l.options):E;y(),l.options=Object.assign({},s,l.options,R),l.scrollParents={reference:wc(o)?zd(o):o.contextElement?zd(o.contextElement):[],popper:zd(A)};var p=tO(iO([].concat(n,l.options.modifiers)));return l.orderedModifiers=p.filter(function(w){return w.enabled}),m(),h.update()},forceUpdate:function(){if(!d){var E=l.elements,R=E.reference,p=E.popper;if(!!q7(R,p)){l.rects={reference:Jk(R,Pf(p),l.options.strategy==="fixed"),popper:e_(p)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(G){return l.modifiersData[G.name]=Object.assign({},G.data)});for(var w=0;w<l.orderedModifiers.length;w++){if(l.reset===!0){l.reset=!1,w=-1;continue}var v=l.orderedModifiers[w],_=v.fn,x=v.options,C=x===void 0?{}:x,B=v.name;typeof _=="function"&&(l=_({state:l,options:C,name:B,instance:h})||l)}}}},update:nO(function(){return new Promise(function(g){h.forceUpdate(),g(l)})}),destroy:function(){y(),d=!0}};if(!q7(o,A))return h;h.setOptions(c).then(function(g){!d&&c.onFirstUpdate&&c.onFirstUpdate(g)});function m(){l.orderedModifiers.forEach(function(g){var E=g.name,R=g.options,p=R===void 0?{}:R,w=g.effect;if(typeof w=="function"){var v=w({state:l,name:E,instance:h,options:p}),_=function(){};u.push(v||_)}})}function y(){u.forEach(function(g){return g()}),u=[]}return h}}var sO=[Sk,$k,Bk,UB,Vk,kk,Yk,_k,Qk],aO=rO({defaultModifiers:sO}),oO="tippy-box",zB="tippy-content",AO="tippy-backdrop",VB="tippy-arrow",KB="tippy-svg-arrow",X0={passive:!0,capture:!0},$B=function(){return document.body};function h3(i,e,t){if(Array.isArray(i)){var n=i[e];return n==null?Array.isArray(t)?t[e]:t:n}return i}function s_(i,e){var t={}.toString.call(i);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function WB(i,e){return typeof i=="function"?i.apply(void 0,e):i}function Y7(i,e){if(e===0)return i;var t;return function(n){clearTimeout(t),t=setTimeout(function(){i(n)},e)}}function cO(i){return i.split(/\s+/).filter(Boolean)}function Sl(i){return[].concat(i)}function X7(i,e){i.indexOf(e)===-1&&i.push(e)}function lO(i){return i.filter(function(e,t){return i.indexOf(e)===t})}function uO(i){return i.split("-")[0]}function sm(i){return[].slice.call(i)}function j7(i){return Object.keys(i).reduce(function(e,t){return i[t]!==void 0&&(e[t]=i[t]),e},{})}function Vd(){return document.createElement("div")}function pg(i){return["Element","Fragment"].some(function(e){return s_(i,e)})}function dO(i){return s_(i,"NodeList")}function fO(i){return s_(i,"MouseEvent")}function hO(i){return!!(i&&i._tippy&&i._tippy.reference===i)}function pO(i){return pg(i)?[i]:dO(i)?sm(i):Array.isArray(i)?i:sm(document.querySelectorAll(i))}function p3(i,e){i.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Z7(i,e){i.forEach(function(t){t&&t.setAttribute("data-state",e)})}function mO(i){var e,t=Sl(i),n=t[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function gO(i,e){var t=e.clientX,n=e.clientY;return i.every(function(r){var s=r.popperRect,a=r.popperState,o=r.props,A=o.interactiveBorder,c=uO(a.placement),l=a.modifiersData.offset;if(!l)return!0;var u=c==="bottom"?l.top.y:0,d=c==="top"?l.bottom.y:0,h=c==="right"?l.left.x:0,m=c==="left"?l.right.x:0,y=s.top-n+u>A,g=n-s.bottom-d>A,E=s.left-t+h>A,R=t-s.right-m>A;return y||g||E||R})}function m3(i,e,t){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){i[n](r,t)})}function J7(i,e){for(var t=e;t;){var n;if(i.contains(t))return!0;t=t.getRootNode==null||(n=t.getRootNode())==null?void 0:n.host}return!1}var Ya={isTouch:!1},ex=0;function yO(){Ya.isTouch||(Ya.isTouch=!0,window.performance&&document.addEventListener("mousemove",qB))}function qB(){var i=performance.now();i-ex<20&&(Ya.isTouch=!1,document.removeEventListener("mousemove",qB)),ex=i}function wO(){var i=document.activeElement;if(hO(i)){var e=i._tippy;i.blur&&!e.state.isVisible&&i.blur()}}function bO(){document.addEventListener("touchstart",yO,X0),window.addEventListener("blur",wO)}var EO=typeof window<"u"&&typeof document<"u",_O=EO?!!window.msCrypto:!1,vO={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},xO={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ua=Object.assign({appendTo:$B,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},vO,xO),RO=Object.keys(Ua),BO=function(e){var t=Object.keys(e);t.forEach(function(n){Ua[n]=e[n]})};function YB(i){var e=i.plugins||[],t=e.reduce(function(n,r){var s=r.name,a=r.defaultValue;if(s){var o;n[s]=i[s]!==void 0?i[s]:(o=Ua[s])!=null?o:a}return n},{});return Object.assign({},i,t)}function CO(i,e){var t=e?Object.keys(YB(Object.assign({},Ua,{plugins:e}))):RO,n=t.reduce(function(r,s){var a=(i.getAttribute("data-tippy-"+s)||"").trim();if(!a)return r;if(s==="content")r[s]=a;else try{r[s]=JSON.parse(a)}catch{r[s]=a}return r},{});return n}function tx(i,e){var t=Object.assign({},e,{content:WB(e.content,[i])},e.ignoreAttributes?{}:CO(i,e.plugins));return t.aria=Object.assign({},Ua.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var SO=function(){return"innerHTML"};function tb(i,e){i[SO()]=e}function nx(i){var e=Vd();return i===!0?e.className=VB:(e.className=KB,pg(i)?e.appendChild(i):tb(e,i)),e}function ix(i,e){pg(e.content)?(tb(i,""),i.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?tb(i,e.content):i.textContent=e.content)}function nb(i){var e=i.firstElementChild,t=sm(e.children);return{box:e,content:t.find(function(n){return n.classList.contains(zB)}),arrow:t.find(function(n){return n.classList.contains(VB)||n.classList.contains(KB)}),backdrop:t.find(function(n){return n.classList.contains(AO)})}}function XB(i){var e=Vd(),t=Vd();t.className=oO,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var n=Vd();n.className=zB,n.setAttribute("data-state","hidden"),ix(n,i.props),e.appendChild(t),t.appendChild(n),r(i.props,i.props);function r(s,a){var o=nb(e),A=o.box,c=o.content,l=o.arrow;a.theme?A.setAttribute("data-theme",a.theme):A.removeAttribute("data-theme"),typeof a.animation=="string"?A.setAttribute("data-animation",a.animation):A.removeAttribute("data-animation"),a.inertia?A.setAttribute("data-inertia",""):A.removeAttribute("data-inertia"),A.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?A.setAttribute("role",a.role):A.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&ix(c,i.props),a.arrow?l?s.arrow!==a.arrow&&(A.removeChild(l),A.appendChild(nx(a.arrow))):A.appendChild(nx(a.arrow)):l&&A.removeChild(l)}return{popper:e,onUpdate:r}}XB.$$tippy=!0;var NO=1,Vh=[],g3=[];function MO(i,e){var t=tx(i,Object.assign({},Ua,YB(j7(e)))),n,r,s,a=!1,o=!1,A=!1,c=!1,l,u,d,h=[],m=Y7(Fe,t.interactiveDebounce),y,g=NO++,E=null,R=lO(t.plugins),p={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},w={id:g,reference:i,popper:Vd(),popperInstance:E,props:t,state:p,plugins:R,clearDelayTimeouts:We,setProps:Se,setContent:ze,show:ut,hide:qe,hideWithInteractivity:dt,enable:X,disable:Be,unmount:yt,destroy:Ut};if(!t.render)return w;var v=t.render(w),_=v.popper,x=v.onUpdate;_.setAttribute("data-tippy-root",""),_.id="tippy-"+w.id,w.popper=_,i._tippy=w,_._tippy=w;var C=R.map(function(ye){return ye.fn(w)}),B=i.hasAttribute("aria-expanded");return ge(),V(),L(),k("onCreate",[w]),t.showOnCreate&&st(),_.addEventListener("mouseenter",function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()}),_.addEventListener("mouseleave",function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&M().addEventListener("mousemove",m)}),w;function G(){var ye=w.props.touch;return Array.isArray(ye)?ye:[ye,0]}function I(){return G()[0]==="hold"}function N(){var ye;return!!((ye=w.props.render)!=null&&ye.$$tippy)}function T(){return y||i}function M(){var ye=T().parentNode;return ye?mO(ye):document}function U(){return nb(_)}function z(ye){return w.state.isMounted&&!w.state.isVisible||Ya.isTouch||l&&l.type==="focus"?0:h3(w.props.delay,ye?0:1,Ua.delay)}function L(ye){ye===void 0&&(ye=!1),_.style.pointerEvents=w.props.interactive&&!ye?"":"none",_.style.zIndex=""+w.props.zIndex}function k(ye,nt,it){if(it===void 0&&(it=!0),C.forEach(function(rt){rt[ye]&&rt[ye].apply(rt,nt)}),it){var ct;(ct=w.props)[ye].apply(ct,nt)}}function K(){var ye=w.props.aria;if(!!ye.content){var nt="aria-"+ye.content,it=_.id,ct=Sl(w.props.triggerTarget||i);ct.forEach(function(rt){var at=rt.getAttribute(nt);if(w.state.isVisible)rt.setAttribute(nt,at?at+" "+it:it);else{var Bt=at&&at.replace(it,"").trim();Bt?rt.setAttribute(nt,Bt):rt.removeAttribute(nt)}})}}function V(){if(!(B||!w.props.aria.expanded)){var ye=Sl(w.props.triggerTarget||i);ye.forEach(function(nt){w.props.interactive?nt.setAttribute("aria-expanded",w.state.isVisible&&nt===T()?"true":"false"):nt.removeAttribute("aria-expanded")})}}function D(){M().removeEventListener("mousemove",m),Vh=Vh.filter(function(ye){return ye!==m})}function H(ye){if(!(Ya.isTouch&&(A||ye.type==="mousedown"))){var nt=ye.composedPath&&ye.composedPath()[0]||ye.target;if(!(w.props.interactive&&J7(_,nt))){if(Sl(w.props.triggerTarget||i).some(function(it){return J7(it,nt)})){if(Ya.isTouch||w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else k("onClickOutside",[w,ye]);w.props.hideOnClick===!0&&(w.clearDelayTimeouts(),w.hide(),o=!0,setTimeout(function(){o=!1}),w.state.isMounted||se())}}}function oe(){A=!0}function Ae(){A=!1}function ee(){var ye=M();ye.addEventListener("mousedown",H,!0),ye.addEventListener("touchend",H,X0),ye.addEventListener("touchstart",Ae,X0),ye.addEventListener("touchmove",oe,X0)}function se(){var ye=M();ye.removeEventListener("mousedown",H,!0),ye.removeEventListener("touchend",H,X0),ye.removeEventListener("touchstart",Ae,X0),ye.removeEventListener("touchmove",oe,X0)}function le(ye,nt){me(ye,function(){!w.state.isVisible&&_.parentNode&&_.parentNode.contains(_)&&nt()})}function J(ye,nt){me(ye,nt)}function me(ye,nt){var it=U().box;function ct(rt){rt.target===it&&(m3(it,"remove",ct),nt())}if(ye===0)return nt();m3(it,"remove",u),m3(it,"add",ct),u=ct}function ue(ye,nt,it){it===void 0&&(it=!1);var ct=Sl(w.props.triggerTarget||i);ct.forEach(function(rt){rt.addEventListener(ye,nt,it),h.push({node:rt,eventType:ye,handler:nt,options:it})})}function ge(){I()&&(ue("touchstart",we,{passive:!0}),ue("touchend",je,{passive:!0})),cO(w.props.trigger).forEach(function(ye){if(ye!=="manual")switch(ue(ye,we),ye){case"mouseenter":ue("mouseleave",je);break;case"focus":ue(_O?"focusout":"blur",De);break;case"focusin":ue("focusout",De);break}})}function fe(){h.forEach(function(ye){var nt=ye.node,it=ye.eventType,ct=ye.handler,rt=ye.options;nt.removeEventListener(it,ct,rt)}),h=[]}function we(ye){var nt,it=!1;if(!(!w.state.isEnabled||Le(ye)||o)){var ct=((nt=l)==null?void 0:nt.type)==="focus";l=ye,y=ye.currentTarget,V(),!w.state.isVisible&&fO(ye)&&Vh.forEach(function(rt){return rt(ye)}),ye.type==="click"&&(w.props.trigger.indexOf("mouseenter")<0||a)&&w.props.hideOnClick!==!1&&w.state.isVisible?it=!0:st(ye),ye.type==="click"&&(a=!it),it&&!ct&&re(ye)}}function Fe(ye){var nt=ye.target,it=T().contains(nt)||_.contains(nt);if(!(ye.type==="mousemove"&&it)){var ct=et().concat(_).map(function(rt){var at,Bt=rt._tippy,he=(at=Bt.popperInstance)==null?void 0:at.state;return he?{popperRect:rt.getBoundingClientRect(),popperState:he,props:t}:null}).filter(Boolean);gO(ct,ye)&&(D(),re(ye))}}function je(ye){var nt=Le(ye)||w.props.trigger.indexOf("click")>=0&&a;if(!nt){if(w.props.interactive){w.hideWithInteractivity(ye);return}re(ye)}}function De(ye){w.props.trigger.indexOf("focusin")<0&&ye.target!==T()||w.props.interactive&&ye.relatedTarget&&_.contains(ye.relatedTarget)||re(ye)}function Le(ye){return Ya.isTouch?I()!==ye.type.indexOf("touch")>=0:!1}function tt(){Ie();var ye=w.props,nt=ye.popperOptions,it=ye.placement,ct=ye.offset,rt=ye.getReferenceClientRect,at=ye.moveTransition,Bt=N()?nb(_).arrow:null,he=rt?{getBoundingClientRect:rt,contextElement:rt.contextElement||T()}:i,Ke={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Je){var Gt=Je.state;if(N()){var on=U(),en=on.box;["placement","reference-hidden","escaped"].forEach(function(Q){Q==="placement"?en.setAttribute("data-placement",Gt.placement):Gt.attributes.popper["data-popper-"+Q]?en.setAttribute("data-"+Q,""):en.removeAttribute("data-"+Q)}),Gt.attributes.popper={}}}},Ne=[{name:"offset",options:{offset:ct}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!at}},Ke];N()&&Bt&&Ne.push({name:"arrow",options:{element:Bt,padding:3}}),Ne.push.apply(Ne,(nt==null?void 0:nt.modifiers)||[]),w.popperInstance=aO(he,_,Object.assign({},nt,{placement:it,onFirstUpdate:d,modifiers:Ne}))}function Ie(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function Xe(){var ye=w.props.appendTo,nt,it=T();w.props.interactive&&ye===$B||ye==="parent"?nt=it.parentNode:nt=WB(ye,[it]),nt.contains(_)||nt.appendChild(_),w.state.isMounted=!0,tt()}function et(){return sm(_.querySelectorAll("[data-tippy-root]"))}function st(ye){w.clearDelayTimeouts(),ye&&k("onTrigger",[w,ye]),ee();var nt=z(!0),it=G(),ct=it[0],rt=it[1];Ya.isTouch&&ct==="hold"&&rt&&(nt=rt),nt?n=setTimeout(function(){w.show()},nt):w.show()}function re(ye){if(w.clearDelayTimeouts(),k("onUntrigger",[w,ye]),!w.state.isVisible){se();return}if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ye.type)>=0&&a)){var nt=z(!1);nt?r=setTimeout(function(){w.state.isVisible&&w.hide()},nt):s=requestAnimationFrame(function(){w.hide()})}}function X(){w.state.isEnabled=!0}function Be(){w.hide(),w.state.isEnabled=!1}function We(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(s)}function Se(ye){if(!w.state.isDestroyed){k("onBeforeUpdate",[w,ye]),fe();var nt=w.props,it=tx(i,Object.assign({},nt,j7(ye),{ignoreAttributes:!0}));w.props=it,ge(),nt.interactiveDebounce!==it.interactiveDebounce&&(D(),m=Y7(Fe,it.interactiveDebounce)),nt.triggerTarget&&!it.triggerTarget?Sl(nt.triggerTarget).forEach(function(ct){ct.removeAttribute("aria-expanded")}):it.triggerTarget&&i.removeAttribute("aria-expanded"),V(),L(),x&&x(nt,it),w.popperInstance&&(tt(),et().forEach(function(ct){requestAnimationFrame(ct._tippy.popperInstance.forceUpdate)})),k("onAfterUpdate",[w,ye])}}function ze(ye){w.setProps({content:ye})}function ut(){var ye=w.state.isVisible,nt=w.state.isDestroyed,it=!w.state.isEnabled,ct=Ya.isTouch&&!w.props.touch,rt=h3(w.props.duration,0,Ua.duration);if(!(ye||nt||it||ct)&&!T().hasAttribute("disabled")&&(k("onShow",[w],!1),w.props.onShow(w)!==!1)){if(w.state.isVisible=!0,N()&&(_.style.visibility="visible"),L(),ee(),w.state.isMounted||(_.style.transition="none"),N()){var at=U(),Bt=at.box,he=at.content;p3([Bt,he],0)}d=function(){var Ne;if(!(!w.state.isVisible||c)){if(c=!0,_.offsetHeight,_.style.transition=w.props.moveTransition,N()&&w.props.animation){var Ge=U(),Je=Ge.box,Gt=Ge.content;p3([Je,Gt],rt),Z7([Je,Gt],"visible")}K(),V(),X7(g3,w),(Ne=w.popperInstance)==null||Ne.forceUpdate(),k("onMount",[w]),w.props.animation&&N()&&J(rt,function(){w.state.isShown=!0,k("onShown",[w])})}},Xe()}}function qe(){var ye=!w.state.isVisible,nt=w.state.isDestroyed,it=!w.state.isEnabled,ct=h3(w.props.duration,1,Ua.duration);if(!(ye||nt||it)&&(k("onHide",[w],!1),w.props.onHide(w)!==!1)){if(w.state.isVisible=!1,w.state.isShown=!1,c=!1,a=!1,N()&&(_.style.visibility="hidden"),D(),se(),L(!0),N()){var rt=U(),at=rt.box,Bt=rt.content;w.props.animation&&(p3([at,Bt],ct),Z7([at,Bt],"hidden"))}K(),V(),w.props.animation?N()&&le(ct,w.unmount):w.unmount()}}function dt(ye){M().addEventListener("mousemove",m),X7(Vh,m),m(ye)}function yt(){w.state.isVisible&&w.hide(),w.state.isMounted&&(Ie(),et().forEach(function(ye){ye._tippy.unmount()}),_.parentNode&&_.parentNode.removeChild(_),g3=g3.filter(function(ye){return ye!==w}),w.state.isMounted=!1,k("onHidden",[w]))}function Ut(){w.state.isDestroyed||(w.clearDelayTimeouts(),w.unmount(),fe(),delete i._tippy,w.state.isDestroyed=!0,k("onDestroy",[w]))}}function Lf(i,e){e===void 0&&(e={});var t=Ua.plugins.concat(e.plugins||[]);bO();var n=Object.assign({},e,{plugins:t}),r=pO(i),s=r.reduce(function(a,o){var A=o&&MO(o,n);return A&&a.push(A),a},[]);return pg(i)?s[0]:s}Lf.defaultProps=Ua;Lf.setDefaultProps=BO;Lf.currentInput=Ya;Object.assign({},UB,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});Lf.setDefaultProps({render:XB});class TO{constructor(){this.sidebar=document.getElementById("app-sidebar"),this.navbar=document.getElementById("app-navbar"),this.main=document.getElementById("app-main"),this.toggle=document.getElementById("sidebar-toggle"),this.localFile=document.getElementById("local-file"),this.remoteFile=document.getElementById("remote-file"),this.infoButton=document.getElementById("dataset-info-button"),this.registerEventListeners(),this.registerTooltips()}toggleSidebar(){let e=this;e.sidebar.classList.toggle("sidebar-collapsed"),e.navbar.classList.toggle("sidebar-collapsed"),e.main.classList.toggle("sidebar-collapsed");const t=document.querySelectorAll(".accordion");e.sidebar.classList.contains("sidebar-collapsed")?(t.forEach(n=>{n.classList.remove("is-open");let r=n.nextElementSibling;r.style.maxHeight=null}),document.querySelector("#sidebar-toggle i").className="bx bx-horizontal-right",document.querySelector("#sidebar-toggle span").textContent="Expand Sidebar"):(document.querySelector("#sidebar-toggle i").className="bx bx-horizontal-left",document.querySelector("#sidebar-toggle span").textContent="Collapse Sidebar"),window.dispatchEvent(new Event("resize"))}toggleAccordion(e){let t=this;e.classList.toggle("is-open"),t.sidebar.classList.contains("sidebar-collapsed")&&t.toggleSidebar();let n=e.nextElementSibling;n.style.maxHeight?n.style.maxHeight=null:n.style.maxHeight=n.scrollHeight+"px"}toggleDownload({target:e}){const t=e.parentNode.parentNode.parentNode.previousElementSibling,n=e.parentNode.parentNode.parentNode;Array.from(e.parentNode.querySelectorAll("button")).forEach(s=>s.classList.remove("upload-method")),e.classList.add("upload-method"),e.id==="local-file"?(document.getElementById("local-file-input").style.display="block",document.getElementById("remote-url-input").style.display="none",document.getElementById("remote-markdown-input").style.display="none",t.classList.contains("is-open")&&(n.style.maxHeight=n.scrollHeight+"px")):e.id==="remote-file"&&(document.getElementById("remote-url-input").style.display="block",document.getElementById("remote-markdown-input").style.display="block",document.getElementById("local-file-input").style.display="none",t.classList.contains("is-open")&&(n.style.maxHeight=n.scrollHeight+"px"))}showDatasetDescription(){const e=this;new mg().showAlert(e.datasetDescription,"info")}registerEventListeners(){this.toggle.addEventListener("click",()=>this.toggleSidebar()),this.sidebar.addEventListener("click",e=>{const t=e.target.closest(".accordion");t&&this.toggleAccordion(t)}),this.localFile.addEventListener("click",e=>this.toggleDownload(e)),this.remoteFile.addEventListener("click",e=>this.toggleDownload(e)),this.infoButton.addEventListener("click",()=>this.showDatasetDescription()),window.addEventListener("load",()=>{window.matchMedia("(max-width: 1200px)").matches?this.toggleSidebar():window.dispatchEvent(new Event("resize"))})}registerTooltips(){Lf(".bx-info-circle",{content:"Click here for more information about the dataset",placement:"right",theme:"select-info",animation:"scale"})}}class mg{constructor(){this.alertBanner=document.getElementById("alertBanner"),this.alertMessage=document.getElementById("alertMessage"),this.alertClose=document.getElementById("alertClose"),this.registerEventListeners()}showAlert(e,t="error"){this.alertMessage.innerHTML=e,this.alertBanner.classList.remove("error","info","warning","instruct"),this.alertBanner.classList.remove("hidden"),this.alertBanner.classList.add(t)}hideAlert(){this.alertBanner.classList.add("hidden")}registerEventListeners(){this.alertClose.addEventListener("click",()=>this.hideAlert())}}function Hl(i,e){return i==null||e==null?NaN:i<e?-1:i>e?1:i>=e?0:NaN}function GO(i,e){return i==null||e==null?NaN:e<i?-1:e>i?1:e>=i?0:NaN}function jB(i){let e,t,n;i.length!==2?(e=Hl,t=(o,A)=>Hl(i(o),A),n=(o,A)=>i(o)-A):(e=i===Hl||i===GO?i:FO,t=i,n=i);function r(o,A,c=0,l=o.length){if(c<l){if(e(A,A)!==0)return l;do{const u=c+l>>>1;t(o[u],A)<0?c=u+1:l=u}while(c<l)}return c}function s(o,A,c=0,l=o.length){if(c<l){if(e(A,A)!==0)return l;do{const u=c+l>>>1;t(o[u],A)<=0?c=u+1:l=u}while(c<l)}return c}function a(o,A,c=0,l=o.length){const u=r(o,A,c,l-1);return u>c&&n(o[u-1],A)>-n(o[u],A)?u-1:u}return{left:r,center:a,right:s}}function FO(){return 0}function IO(i){return i===null?NaN:+i}function*UO(i,e){if(e===void 0)for(let t of i)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let n of i)(n=e(n,++t,i))!=null&&(n=+n)>=n&&(yield n)}}const PO=jB(Hl),LO=PO.right;jB(IO).center;const DO=LO;function Yo(i,e){let t,n;if(e===void 0)for(const r of i)r!=null&&(t===void 0?r>=r&&(t=n=r):(t>r&&(t=r),n<r&&(n=r)));else{let r=-1;for(let s of i)(s=e(s,++r,i))!=null&&(t===void 0?s>=s&&(t=n=s):(t>s&&(t=s),n<s&&(n=s)))}return[t,n]}class ib extends Map{constructor(e,t=QO){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(rx(this,e))}has(e){return super.has(rx(this,e))}set(e,t){return super.set(kO(this,e),t)}delete(e){return super.delete(OO(this,e))}}function rx({_intern:i,_key:e},t){const n=e(t);return i.has(n)?i.get(n):t}function kO({_intern:i,_key:e},t){const n=e(t);return i.has(n)?i.get(n):(i.set(n,t),t)}function OO({_intern:i,_key:e},t){const n=e(t);return i.has(n)&&(t=i.get(n),i.delete(n)),t}function QO(i){return i!==null&&typeof i=="object"?i.valueOf():i}function rb(i){return i}function HO(i,...e){return ZB(i,rb,rb,e)}function zO(i,e,...t){return ZB(i,rb,e,t)}function ZB(i,e,t,n){return function r(s,a){if(a>=n.length)return t(s);const o=new ib,A=n[a++];let c=-1;for(const l of s){const u=A(l,++c,s),d=o.get(u);d?d.push(l):o.set(u,[l])}for(const[l,u]of o)o.set(l,r(u,a));return e(o)}(i,0)}function VO(i=Hl){if(i===Hl)return JB;if(typeof i!="function")throw new TypeError("compare is not a function");return(e,t)=>{const n=i(e,t);return n||n===0?n:(i(t,t)===0)-(i(e,e)===0)}}function JB(i,e){return(i==null||!(i>=i))-(e==null||!(e>=e))||(i<e?-1:i>e?1:0)}const KO=Math.sqrt(50),$O=Math.sqrt(10),WO=Math.sqrt(2);function am(i,e,t){const n=(e-i)/Math.max(0,t),r=Math.floor(Math.log10(n)),s=n/Math.pow(10,r),a=s>=KO?10:s>=$O?5:s>=WO?2:1;let o,A,c;return r<0?(c=Math.pow(10,-r)/a,o=Math.round(i*c),A=Math.round(e*c),o/c<i&&++o,A/c>e&&--A,c=-c):(c=Math.pow(10,r)*a,o=Math.round(i/c),A=Math.round(e/c),o*c<i&&++o,A*c>e&&--A),A<o&&.5<=t&&t<2?am(i,e,t*2):[o,A,c]}function qO(i,e,t){if(e=+e,i=+i,t=+t,!(t>0))return[];if(i===e)return[i];const n=e<i,[r,s,a]=n?am(e,i,t):am(i,e,t);if(!(s>=r))return[];const o=s-r+1,A=new Array(o);if(n)if(a<0)for(let c=0;c<o;++c)A[c]=(s-c)/-a;else for(let c=0;c<o;++c)A[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)A[c]=(r+c)/-a;else for(let c=0;c<o;++c)A[c]=(r+c)*a;return A}function sb(i,e,t){return e=+e,i=+i,t=+t,am(i,e,t)[2]}function YO(i,e,t){e=+e,i=+i,t=+t;const n=e<i,r=n?sb(e,i,t):sb(i,e,t);return(n?-1:1)*(r<0?1/-r:r)}function Or(i,e){let t;if(e===void 0)for(const n of i)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let r of i)(r=e(r,++n,i))!=null&&(t<r||t===void 0&&r>=r)&&(t=r)}return t}function df(i,e){let t;if(e===void 0)for(const n of i)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let r of i)(r=e(r,++n,i))!=null&&(t>r||t===void 0&&r>=r)&&(t=r)}return t}function eC(i,e,t=0,n=1/0,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),n=Math.floor(Math.min(i.length-1,n)),!(t<=e&&e<=n))return i;for(r=r===void 0?JB:VO(r);n>t;){if(n-t>600){const A=n-t+1,c=e-t+1,l=Math.log(A),u=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*u*(A-u)/A)*(c-A/2<0?-1:1),h=Math.max(t,Math.floor(e-c*u/A+d)),m=Math.min(n,Math.floor(e+(A-c)*u/A+d));eC(i,e,h,m,r)}const s=i[e];let a=t,o=n;for(ju(i,t,e),r(i[n],s)>0&&ju(i,t,n);a<o;){for(ju(i,a,o),++a,--o;r(i[a],s)<0;)++a;for(;r(i[o],s)>0;)--o}r(i[t],s)===0?ju(i,t,o):(++o,ju(i,o,n)),o<=e&&(t=o+1),e<=o&&(n=o-1)}return i}function ju(i,e,t){const n=i[e];i[e]=i[t],i[t]=n}function XO(i,e,t){if(i=Float64Array.from(UO(i,t)),!(!(n=i.length)||isNaN(e=+e))){if(e<=0||n<2)return df(i);if(e>=1)return Or(i);var n,r=(n-1)*e,s=Math.floor(r),a=Or(eC(i,s).subarray(0,s+1)),o=df(i.subarray(s+1));return a+(o-a)*(r-s)}}function jO(i,e){let t=0,n=0;if(e===void 0)for(let r of i)r!=null&&(r=+r)>=r&&(++t,n+=r);else{let r=-1;for(let s of i)(s=e(s,++r,i))!=null&&(s=+s)>=s&&(++t,n+=s)}if(t)return n/t}function ZO(i,e){return XO(i,.5,e)}function JO(i,e,t){i=+i,e=+e,t=(r=arguments.length)<2?(e=i,i=0,1):r<3?1:+t;for(var n=-1,r=Math.max(0,Math.ceil((e-i)/t))|0,s=new Array(r);++n<r;)s[n]=i+n*t;return s}function eQ(i,e){let t=0;if(e===void 0)for(let n of i)(n=+n)&&(t+=n);else{let n=-1;for(let r of i)(r=+e(r,++n,i))&&(t+=r)}return t}function tQ(i){return i}var y3=1,T1=2,ab=3,bd=4,sx=1e-6;function nQ(i){return"translate("+i+",0)"}function iQ(i){return"translate(0,"+i+")"}function rQ(i){return e=>+i(e)}function sQ(i,e){return e=Math.max(0,i.bandwidth()-e*2)/2,i.round()&&(e=Math.round(e)),t=>+i(t)+e}function aQ(){return!this.__axis}function a_(i,e){var t=[],n=null,r=null,s=6,a=6,o=3,A=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=i===y3||i===bd?-1:1,l=i===bd||i===T1?"x":"y",u=i===y3||i===ab?nQ:iQ;function d(h){var m=n==null?e.ticks?e.ticks.apply(e,t):e.domain():n,y=r==null?e.tickFormat?e.tickFormat.apply(e,t):tQ:r,g=Math.max(s,0)+o,E=e.range(),R=+E[0]+A,p=+E[E.length-1]+A,w=(e.bandwidth?sQ:rQ)(e.copy(),A),v=h.selection?h.selection():h,_=v.selectAll(".domain").data([null]),x=v.selectAll(".tick").data(m,e).order(),C=x.exit(),B=x.enter().append("g").attr("class","tick"),G=x.select("line"),I=x.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(B),G=G.merge(B.append("line").attr("stroke","currentColor").attr(l+"2",c*s)),I=I.merge(B.append("text").attr("fill","currentColor").attr(l,c*g).attr("dy",i===y3?"0em":i===ab?"0.71em":"0.32em")),h!==v&&(_=_.transition(h),x=x.transition(h),G=G.transition(h),I=I.transition(h),C=C.transition(h).attr("opacity",sx).attr("transform",function(N){return isFinite(N=w(N))?u(N+A):this.getAttribute("transform")}),B.attr("opacity",sx).attr("transform",function(N){var T=this.parentNode.__axis;return u((T&&isFinite(T=T(N))?T:w(N))+A)})),C.remove(),_.attr("d",i===bd||i===T1?a?"M"+c*a+","+R+"H"+A+"V"+p+"H"+c*a:"M"+A+","+R+"V"+p:a?"M"+R+","+c*a+"V"+A+"H"+p+"V"+c*a:"M"+R+","+A+"H"+p),x.attr("opacity",1).attr("transform",function(N){return u(w(N)+A)}),G.attr(l+"2",c*s),I.attr(l,c*g).text(y),v.filter(aQ).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",i===T1?"start":i===bd?"end":"middle"),v.each(function(){this.__axis=w})}return d.scale=function(h){return arguments.length?(e=h,d):e},d.ticks=function(){return t=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(t=h==null?[]:Array.from(h),d):t.slice()},d.tickValues=function(h){return arguments.length?(n=h==null?null:Array.from(h),d):n&&n.slice()},d.tickFormat=function(h){return arguments.length?(r=h,d):r},d.tickSize=function(h){return arguments.length?(s=a=+h,d):s},d.tickSizeInner=function(h){return arguments.length?(s=+h,d):s},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(o=+h,d):o},d.offset=function(h){return arguments.length?(A=+h,d):A},d}function oQ(i){return a_(T1,i)}function w3(i){return a_(ab,i)}function b3(i){return a_(bd,i)}var AQ={value:()=>{}};function gg(){for(var i=0,e=arguments.length,t={},n;i<e;++i){if(!(n=arguments[i]+"")||n in t||/[\s.]/.test(n))throw new Error("illegal type: "+n);t[n]=[]}return new G1(t)}function G1(i){this._=i}function cQ(i,e){return i.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}G1.prototype=gg.prototype={constructor:G1,on:function(i,e){var t=this._,n=cQ(i+"",t),r,s=-1,a=n.length;if(arguments.length<2){for(;++s<a;)if((r=(i=n[s]).type)&&(r=lQ(t[r],i.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(r=(i=n[s]).type)t[r]=ax(t[r],i.name,e);else if(e==null)for(r in t)t[r]=ax(t[r],i.name,null);return this},copy:function(){var i={},e=this._;for(var t in e)i[t]=e[t].slice();return new G1(i)},call:function(i,e){if((r=arguments.length-2)>0)for(var t=new Array(r),n=0,r,s;n<r;++n)t[n]=arguments[n+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(s=this._[i],n=0,r=s.length;n<r;++n)s[n].value.apply(e,t)},apply:function(i,e,t){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var n=this._[i],r=0,s=n.length;r<s;++r)n[r].value.apply(e,t)}};function lQ(i,e){for(var t=0,n=i.length,r;t<n;++t)if((r=i[t]).name===e)return r.value}function ax(i,e,t){for(var n=0,r=i.length;n<r;++n)if(i[n].name===e){i[n]=AQ,i=i.slice(0,n).concat(i.slice(n+1));break}return t!=null&&i.push({name:e,value:t}),i}var ob="http://www.w3.org/1999/xhtml";const ox={svg:"http://www.w3.org/2000/svg",xhtml:ob,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yg(i){var e=i+="",t=e.indexOf(":");return t>=0&&(e=i.slice(0,t))!=="xmlns"&&(i=i.slice(t+1)),ox.hasOwnProperty(e)?{space:ox[e],local:i}:i}function uQ(i){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===ob&&e.documentElement.namespaceURI===ob?e.createElement(i):e.createElementNS(t,i)}}function dQ(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function tC(i){var e=yg(i);return(e.local?dQ:uQ)(e)}function fQ(){}function o_(i){return i==null?fQ:function(){return this.querySelector(i)}}function hQ(i){typeof i!="function"&&(i=o_(i));for(var e=this._groups,t=e.length,n=new Array(t),r=0;r<t;++r)for(var s=e[r],a=s.length,o=n[r]=new Array(a),A,c,l=0;l<a;++l)(A=s[l])&&(c=i.call(A,A.__data__,l,s))&&("__data__"in A&&(c.__data__=A.__data__),o[l]=c);return new Kr(n,this._parents)}function nC(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function pQ(){return[]}function iC(i){return i==null?pQ:function(){return this.querySelectorAll(i)}}function mQ(i){return function(){return nC(i.apply(this,arguments))}}function gQ(i){typeof i=="function"?i=mQ(i):i=iC(i);for(var e=this._groups,t=e.length,n=[],r=[],s=0;s<t;++s)for(var a=e[s],o=a.length,A,c=0;c<o;++c)(A=a[c])&&(n.push(i.call(A,A.__data__,c,a)),r.push(A));return new Kr(n,r)}function rC(i){return function(){return this.matches(i)}}function sC(i){return function(e){return e.matches(i)}}var yQ=Array.prototype.find;function wQ(i){return function(){return yQ.call(this.children,i)}}function bQ(){return this.firstElementChild}function EQ(i){return this.select(i==null?bQ:wQ(typeof i=="function"?i:sC(i)))}var _Q=Array.prototype.filter;function vQ(){return Array.from(this.children)}function xQ(i){return function(){return _Q.call(this.children,i)}}function RQ(i){return this.selectAll(i==null?vQ:xQ(typeof i=="function"?i:sC(i)))}function BQ(i){typeof i!="function"&&(i=rC(i));for(var e=this._groups,t=e.length,n=new Array(t),r=0;r<t;++r)for(var s=e[r],a=s.length,o=n[r]=[],A,c=0;c<a;++c)(A=s[c])&&i.call(A,A.__data__,c,s)&&o.push(A);return new Kr(n,this._parents)}function aC(i){return new Array(i.length)}function CQ(){return new Kr(this._enter||this._groups.map(aC),this._parents)}function om(i,e){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=e}om.prototype={constructor:om,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,e){return this._parent.insertBefore(i,e)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function SQ(i){return function(){return i}}function NQ(i,e,t,n,r,s){for(var a=0,o,A=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],n[a]=o):t[a]=new om(i,s[a]);for(;a<A;++a)(o=e[a])&&(r[a]=o)}function MQ(i,e,t,n,r,s,a){var o,A,c=new Map,l=e.length,u=s.length,d=new Array(l),h;for(o=0;o<l;++o)(A=e[o])&&(d[o]=h=a.call(A,A.__data__,o,e)+"",c.has(h)?r[o]=A:c.set(h,A));for(o=0;o<u;++o)h=a.call(i,s[o],o,s)+"",(A=c.get(h))?(n[o]=A,A.__data__=s[o],c.delete(h)):t[o]=new om(i,s[o]);for(o=0;o<l;++o)(A=e[o])&&c.get(d[o])===A&&(r[o]=A)}function TQ(i){return i.__data__}function GQ(i,e){if(!arguments.length)return Array.from(this,TQ);var t=e?MQ:NQ,n=this._parents,r=this._groups;typeof i!="function"&&(i=SQ(i));for(var s=r.length,a=new Array(s),o=new Array(s),A=new Array(s),c=0;c<s;++c){var l=n[c],u=r[c],d=u.length,h=FQ(i.call(l,l&&l.__data__,c,n)),m=h.length,y=o[c]=new Array(m),g=a[c]=new Array(m),E=A[c]=new Array(d);t(l,u,y,g,E,h,e);for(var R=0,p=0,w,v;R<m;++R)if(w=y[R]){for(R>=p&&(p=R+1);!(v=g[p])&&++p<m;);w._next=v||null}}return a=new Kr(a,n),a._enter=o,a._exit=A,a}function FQ(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function IQ(){return new Kr(this._exit||this._groups.map(aC),this._parents)}function UQ(i,e,t){var n=this.enter(),r=this,s=this.exit();return typeof i=="function"?(n=i(n),n&&(n=n.selection())):n=n.append(i+""),e!=null&&(r=e(r),r&&(r=r.selection())),t==null?s.remove():t(s),n&&r?n.merge(r).order():r}function PQ(i){for(var e=i.selection?i.selection():i,t=this._groups,n=e._groups,r=t.length,s=n.length,a=Math.min(r,s),o=new Array(r),A=0;A<a;++A)for(var c=t[A],l=n[A],u=c.length,d=o[A]=new Array(u),h,m=0;m<u;++m)(h=c[m]||l[m])&&(d[m]=h);for(;A<r;++A)o[A]=t[A];return new Kr(o,this._parents)}function LQ(){for(var i=this._groups,e=-1,t=i.length;++e<t;)for(var n=i[e],r=n.length-1,s=n[r],a;--r>=0;)(a=n[r])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function DQ(i){i||(i=kQ);function e(u,d){return u&&d?i(u.__data__,d.__data__):!u-!d}for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s){for(var a=t[s],o=a.length,A=r[s]=new Array(o),c,l=0;l<o;++l)(c=a[l])&&(A[l]=c);A.sort(e)}return new Kr(r,this._parents).order()}function kQ(i,e){return i<e?-1:i>e?1:i>=e?0:NaN}function OQ(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function QQ(){return Array.from(this)}function HQ(){for(var i=this._groups,e=0,t=i.length;e<t;++e)for(var n=i[e],r=0,s=n.length;r<s;++r){var a=n[r];if(a)return a}return null}function zQ(){let i=0;for(const e of this)++i;return i}function VQ(){return!this.node()}function KQ(i){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,a=r.length,o;s<a;++s)(o=r[s])&&i.call(o,o.__data__,s,r);return this}function $Q(i){return function(){this.removeAttribute(i)}}function WQ(i){return function(){this.removeAttributeNS(i.space,i.local)}}function qQ(i,e){return function(){this.setAttribute(i,e)}}function YQ(i,e){return function(){this.setAttributeNS(i.space,i.local,e)}}function XQ(i,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(i):this.setAttribute(i,t)}}function jQ(i,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,t)}}function ZQ(i,e){var t=yg(i);if(arguments.length<2){var n=this.node();return t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}return this.each((e==null?t.local?WQ:$Q:typeof e=="function"?t.local?jQ:XQ:t.local?YQ:qQ)(t,e))}function oC(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function JQ(i){return function(){this.style.removeProperty(i)}}function eH(i,e,t){return function(){this.style.setProperty(i,e,t)}}function tH(i,e,t){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(i):this.style.setProperty(i,n,t)}}function nH(i,e,t){return arguments.length>1?this.each((e==null?JQ:typeof e=="function"?tH:eH)(i,e,t==null?"":t)):ru(this.node(),i)}function ru(i,e){return i.style.getPropertyValue(e)||oC(i).getComputedStyle(i,null).getPropertyValue(e)}function iH(i){return function(){delete this[i]}}function rH(i,e){return function(){this[i]=e}}function sH(i,e){return function(){var t=e.apply(this,arguments);t==null?delete this[i]:this[i]=t}}function aH(i,e){return arguments.length>1?this.each((e==null?iH:typeof e=="function"?sH:rH)(i,e)):this.node()[i]}function AC(i){return i.trim().split(/^|\s+/)}function A_(i){return i.classList||new cC(i)}function cC(i){this._node=i,this._names=AC(i.getAttribute("class")||"")}cC.prototype={add:function(i){var e=this._names.indexOf(i);e<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var e=this._names.indexOf(i);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function lC(i,e){for(var t=A_(i),n=-1,r=e.length;++n<r;)t.add(e[n])}function uC(i,e){for(var t=A_(i),n=-1,r=e.length;++n<r;)t.remove(e[n])}function oH(i){return function(){lC(this,i)}}function AH(i){return function(){uC(this,i)}}function cH(i,e){return function(){(e.apply(this,arguments)?lC:uC)(this,i)}}function lH(i,e){var t=AC(i+"");if(arguments.length<2){for(var n=A_(this.node()),r=-1,s=t.length;++r<s;)if(!n.contains(t[r]))return!1;return!0}return this.each((typeof e=="function"?cH:e?oH:AH)(t,e))}function uH(){this.textContent=""}function dH(i){return function(){this.textContent=i}}function fH(i){return function(){var e=i.apply(this,arguments);this.textContent=e==null?"":e}}function hH(i){return arguments.length?this.each(i==null?uH:(typeof i=="function"?fH:dH)(i)):this.node().textContent}function pH(){this.innerHTML=""}function mH(i){return function(){this.innerHTML=i}}function gH(i){return function(){var e=i.apply(this,arguments);this.innerHTML=e==null?"":e}}function yH(i){return arguments.length?this.each(i==null?pH:(typeof i=="function"?gH:mH)(i)):this.node().innerHTML}function wH(){this.nextSibling&&this.parentNode.appendChild(this)}function bH(){return this.each(wH)}function EH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _H(){return this.each(EH)}function vH(i){var e=typeof i=="function"?i:tC(i);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function xH(){return null}function RH(i,e){var t=typeof i=="function"?i:tC(i),n=e==null?xH:typeof e=="function"?e:o_(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})}function BH(){var i=this.parentNode;i&&i.removeChild(this)}function CH(){return this.each(BH)}function SH(){var i=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(i,this.nextSibling):i}function NH(){var i=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(i,this.nextSibling):i}function MH(i){return this.select(i?NH:SH)}function TH(i){return arguments.length?this.property("__data__",i):this.node().__data__}function GH(i){return function(e){i.call(this,e,this.__data__)}}function FH(i){return i.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function IH(i){return function(){var e=this.__on;if(!!e){for(var t=0,n=-1,r=e.length,s;t<r;++t)s=e[t],(!i.type||s.type===i.type)&&s.name===i.name?this.removeEventListener(s.type,s.listener,s.options):e[++n]=s;++n?e.length=n:delete this.__on}}}function UH(i,e,t){return function(){var n=this.__on,r,s=GH(e);if(n){for(var a=0,o=n.length;a<o;++a)if((r=n[a]).type===i.type&&r.name===i.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=t),r.value=e;return}}this.addEventListener(i.type,s,t),r={type:i.type,name:i.name,value:e,listener:s,options:t},n?n.push(r):this.__on=[r]}}function PH(i,e,t){var n=FH(i+""),r,s=n.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var A=0,c=o.length,l;A<c;++A)for(r=0,l=o[A];r<s;++r)if((a=n[r]).type===l.type&&a.name===l.name)return l.value}return}for(o=e?UH:IH,r=0;r<s;++r)this.each(o(n[r],e,t));return this}function dC(i,e,t){var n=oC(i),r=n.CustomEvent;typeof r=="function"?r=new r(e,t):(r=n.document.createEvent("Event"),t?(r.initEvent(e,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(e,!1,!1)),i.dispatchEvent(r)}function LH(i,e){return function(){return dC(this,i,e)}}function DH(i,e){return function(){return dC(this,i,e.apply(this,arguments))}}function kH(i,e){return this.each((typeof e=="function"?DH:LH)(i,e))}function*OH(){for(var i=this._groups,e=0,t=i.length;e<t;++e)for(var n=i[e],r=0,s=n.length,a;r<s;++r)(a=n[r])&&(yield a)}var c_=[null];function Kr(i,e){this._groups=i,this._parents=e}function Df(){return new Kr([[document.documentElement]],c_)}function QH(){return this}Kr.prototype=Df.prototype={constructor:Kr,select:hQ,selectAll:gQ,selectChild:EQ,selectChildren:RQ,filter:BQ,data:GQ,enter:CQ,exit:IQ,join:UQ,merge:PQ,selection:QH,order:LQ,sort:DQ,call:OQ,nodes:QQ,node:HQ,size:zQ,empty:VQ,each:KQ,attr:ZQ,style:nH,property:aH,classed:lH,text:hH,html:yH,raise:bH,lower:_H,append:vH,insert:RH,remove:CH,clone:MH,datum:TH,on:PH,dispatch:kH,[Symbol.iterator]:OH};function It(i){return typeof i=="string"?new Kr([[document.querySelector(i)]],[document.documentElement]):new Kr([[i]],c_)}function HH(i){let e;for(;e=i.sourceEvent;)i=e;return i}function Ax(i,e){if(i=HH(i),e===void 0&&(e=i.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var n=t.createSVGPoint();return n.x=i.clientX,n.y=i.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[i.clientX-r.left-e.clientLeft,i.clientY-r.top-e.clientTop]}}return[i.pageX,i.pageY]}function Am(i){return typeof i=="string"?new Kr([document.querySelectorAll(i)],[document.documentElement]):new Kr([nC(i)],c_)}const Ab={capture:!0,passive:!1};function cb(i){i.preventDefault(),i.stopImmediatePropagation()}function zH(i){var e=i.document.documentElement,t=It(i).on("dragstart.drag",cb,Ab);"onselectstart"in e?t.on("selectstart.drag",cb,Ab):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function VH(i,e){var t=i.document.documentElement,n=It(i).on("dragstart.drag",null);e&&(n.on("click.drag",cb,Ab),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in t?n.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}function l_(i,e,t){i.prototype=e.prototype=t,t.constructor=i}function fC(i,e){var t=Object.create(i.prototype);for(var n in e)t[n]=e[n];return t}function kf(){}var ff=.7,cm=1/ff,zl="\\s*([+-]?\\d+)\\s*",hf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",so="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KH=/^#([0-9a-f]{3,8})$/,$H=new RegExp(`^rgb\\(${zl},${zl},${zl}\\)$`),WH=new RegExp(`^rgb\\(${so},${so},${so}\\)$`),qH=new RegExp(`^rgba\\(${zl},${zl},${zl},${hf}\\)$`),YH=new RegExp(`^rgba\\(${so},${so},${so},${hf}\\)$`),XH=new RegExp(`^hsl\\(${hf},${so},${so}\\)$`),jH=new RegExp(`^hsla\\(${hf},${so},${so},${hf}\\)$`),cx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l_(kf,u0,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:lx,formatHex:lx,formatHex8:ZH,formatHsl:JH,formatRgb:ux,toString:ux});function lx(){return this.rgb().formatHex()}function ZH(){return this.rgb().formatHex8()}function JH(){return hC(this).formatHsl()}function ux(){return this.rgb().formatRgb()}function u0(i){var e,t;return i=(i+"").trim().toLowerCase(),(e=KH.exec(i))?(t=e[1].length,e=parseInt(e[1],16),t===6?dx(e):t===3?new As(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Kh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Kh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$H.exec(i))?new As(e[1],e[2],e[3],1):(e=WH.exec(i))?new As(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qH.exec(i))?Kh(e[1],e[2],e[3],e[4]):(e=YH.exec(i))?Kh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=XH.exec(i))?px(e[1],e[2]/100,e[3]/100,1):(e=jH.exec(i))?px(e[1],e[2]/100,e[3]/100,e[4]):cx.hasOwnProperty(i)?dx(cx[i]):i==="transparent"?new As(NaN,NaN,NaN,0):null}function dx(i){return new As(i>>16&255,i>>8&255,i&255,1)}function Kh(i,e,t,n){return n<=0&&(i=e=t=NaN),new As(i,e,t,n)}function ez(i){return i instanceof kf||(i=u0(i)),i?(i=i.rgb(),new As(i.r,i.g,i.b,i.opacity)):new As}function lb(i,e,t,n){return arguments.length===1?ez(i):new As(i,e,t,n==null?1:n)}function As(i,e,t,n){this.r=+i,this.g=+e,this.b=+t,this.opacity=+n}l_(As,lb,fC(kf,{brighter(i){return i=i==null?cm:Math.pow(cm,i),new As(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?ff:Math.pow(ff,i),new As(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new As(lc(this.r),lc(this.g),lc(this.b),lm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fx,formatHex:fx,formatHex8:tz,formatRgb:hx,toString:hx}));function fx(){return`#${ac(this.r)}${ac(this.g)}${ac(this.b)}`}function tz(){return`#${ac(this.r)}${ac(this.g)}${ac(this.b)}${ac((isNaN(this.opacity)?1:this.opacity)*255)}`}function hx(){const i=lm(this.opacity);return`${i===1?"rgb(":"rgba("}${lc(this.r)}, ${lc(this.g)}, ${lc(this.b)}${i===1?")":`, ${i})`}`}function lm(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function lc(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function ac(i){return i=lc(i),(i<16?"0":"")+i.toString(16)}function px(i,e,t,n){return n<=0?i=e=t=NaN:t<=0||t>=1?i=e=NaN:e<=0&&(i=NaN),new Ga(i,e,t,n)}function hC(i){if(i instanceof Ga)return new Ga(i.h,i.s,i.l,i.opacity);if(i instanceof kf||(i=u0(i)),!i)return new Ga;if(i instanceof Ga)return i;i=i.rgb();var e=i.r/255,t=i.g/255,n=i.b/255,r=Math.min(e,t,n),s=Math.max(e,t,n),a=NaN,o=s-r,A=(s+r)/2;return o?(e===s?a=(t-n)/o+(t<n)*6:t===s?a=(n-e)/o+2:a=(e-t)/o+4,o/=A<.5?s+r:2-s-r,a*=60):o=A>0&&A<1?0:a,new Ga(a,o,A,i.opacity)}function nz(i,e,t,n){return arguments.length===1?hC(i):new Ga(i,e,t,n==null?1:n)}function Ga(i,e,t,n){this.h=+i,this.s=+e,this.l=+t,this.opacity=+n}l_(Ga,nz,fC(kf,{brighter(i){return i=i==null?cm:Math.pow(cm,i),new Ga(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?ff:Math.pow(ff,i),new Ga(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,e=isNaN(i)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,r=2*t-n;return new As(E3(i>=240?i-240:i+120,r,n),E3(i,r,n),E3(i<120?i+240:i-120,r,n),this.opacity)},clamp(){return new Ga(mx(this.h),$h(this.s),$h(this.l),lm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=lm(this.opacity);return`${i===1?"hsl(":"hsla("}${mx(this.h)}, ${$h(this.s)*100}%, ${$h(this.l)*100}%${i===1?")":`, ${i})`}`}}));function mx(i){return i=(i||0)%360,i<0?i+360:i}function $h(i){return Math.max(0,Math.min(1,i||0))}function E3(i,e,t){return(i<60?e+(t-e)*i/60:i<180?t:i<240?e+(t-e)*(240-i)/60:e)*255}const u_=i=>()=>i;function iz(i,e){return function(t){return i+t*e}}function rz(i,e,t){return i=Math.pow(i,t),e=Math.pow(e,t)-i,t=1/t,function(n){return Math.pow(i+n*e,t)}}function sz(i){return(i=+i)==1?pC:function(e,t){return t-e?rz(e,t,i):u_(isNaN(e)?t:e)}}function pC(i,e){var t=e-i;return t?iz(i,t):u_(isNaN(i)?e:i)}const um=function i(e){var t=sz(e);function n(r,s){var a=t((r=lb(r)).r,(s=lb(s)).r),o=t(r.g,s.g),A=t(r.b,s.b),c=pC(r.opacity,s.opacity);return function(l){return r.r=a(l),r.g=o(l),r.b=A(l),r.opacity=c(l),r+""}}return n.gamma=i,n}(1);function az(i,e){e||(e=[]);var t=i?Math.min(e.length,i.length):0,n=e.slice(),r;return function(s){for(r=0;r<t;++r)n[r]=i[r]*(1-s)+e[r]*s;return n}}function oz(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function Az(i,e){var t=e?e.length:0,n=i?Math.min(t,i.length):0,r=new Array(n),s=new Array(t),a;for(a=0;a<n;++a)r[a]=wg(i[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=r[a](o);return s}}function cz(i,e){var t=new Date;return i=+i,e=+e,function(n){return t.setTime(i*(1-n)+e*n),t}}function Na(i,e){return i=+i,e=+e,function(t){return i*(1-t)+e*t}}function lz(i,e){var t={},n={},r;(i===null||typeof i!="object")&&(i={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in i?t[r]=wg(i[r],e[r]):n[r]=e[r];return function(s){for(r in t)n[r]=t[r](s);return n}}var ub=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_3=new RegExp(ub.source,"g");function uz(i){return function(){return i}}function dz(i){return function(e){return i(e)+""}}function mC(i,e){var t=ub.lastIndex=_3.lastIndex=0,n,r,s,a=-1,o=[],A=[];for(i=i+"",e=e+"";(n=ub.exec(i))&&(r=_3.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,A.push({i:a,x:Na(n,r)})),t=_3.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?A[0]?dz(A[0].x):uz(e):(e=A.length,function(c){for(var l=0,u;l<e;++l)o[(u=A[l]).i]=u.x(c);return o.join("")})}function wg(i,e){var t=typeof e,n;return e==null||t==="boolean"?u_(e):(t==="number"?Na:t==="string"?(n=u0(e))?(e=n,um):mC:e instanceof u0?um:e instanceof Date?cz:oz(e)?az:Array.isArray(e)?Az:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?lz:Na)(i,e)}function fz(i,e){return i=+i,e=+e,function(t){return Math.round(i*(1-t)+e*t)}}var gx=180/Math.PI,db={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gC(i,e,t,n,r,s){var a,o,A;return(a=Math.sqrt(i*i+e*e))&&(i/=a,e/=a),(A=i*t+e*n)&&(t-=i*A,n-=e*A),(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o,A/=o),i*n<e*t&&(i=-i,e=-e,A=-A,a=-a),{translateX:r,translateY:s,rotate:Math.atan2(e,i)*gx,skewX:Math.atan(A)*gx,scaleX:a,scaleY:o}}var Wh;function hz(i){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return e.isIdentity?db:gC(e.a,e.b,e.c,e.d,e.e,e.f)}function pz(i){return i==null||(Wh||(Wh=document.createElementNS("http://www.w3.org/2000/svg","g")),Wh.setAttribute("transform",i),!(i=Wh.transform.baseVal.consolidate()))?db:(i=i.matrix,gC(i.a,i.b,i.c,i.d,i.e,i.f))}function yC(i,e,t,n){function r(c){return c.length?c.pop()+" ":""}function s(c,l,u,d,h,m){if(c!==u||l!==d){var y=h.push("translate(",null,e,null,t);m.push({i:y-4,x:Na(c,u)},{i:y-2,x:Na(l,d)})}else(u||d)&&h.push("translate("+u+e+d+t)}function a(c,l,u,d){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),d.push({i:u.push(r(u)+"rotate(",null,n)-2,x:Na(c,l)})):l&&u.push(r(u)+"rotate("+l+n)}function o(c,l,u,d){c!==l?d.push({i:u.push(r(u)+"skewX(",null,n)-2,x:Na(c,l)}):l&&u.push(r(u)+"skewX("+l+n)}function A(c,l,u,d,h,m){if(c!==u||l!==d){var y=h.push(r(h)+"scale(",null,",",null,")");m.push({i:y-4,x:Na(c,u)},{i:y-2,x:Na(l,d)})}else(u!==1||d!==1)&&h.push(r(h)+"scale("+u+","+d+")")}return function(c,l){var u=[],d=[];return c=i(c),l=i(l),s(c.translateX,c.translateY,l.translateX,l.translateY,u,d),a(c.rotate,l.rotate,u,d),o(c.skewX,l.skewX,u,d),A(c.scaleX,c.scaleY,l.scaleX,l.scaleY,u,d),c=l=null,function(h){for(var m=-1,y=d.length,g;++m<y;)u[(g=d[m]).i]=g.x(h);return u.join("")}}}var mz=yC(hz,"px, ","px)","deg)"),gz=yC(pz,", ",")",")"),su=0,Ed=0,Zu=0,wC=1e3,dm,_d,fm=0,bc=0,bg=0,pf=typeof performance=="object"&&performance.now?performance:Date,bC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function d_(){return bc||(bC(yz),bc=pf.now()+bg)}function yz(){bc=0}function hm(){this._call=this._time=this._next=null}hm.prototype=EC.prototype={constructor:hm,restart:function(i,e,t){if(typeof i!="function")throw new TypeError("callback is not a function");t=(t==null?d_():+t)+(e==null?0:+e),!this._next&&_d!==this&&(_d?_d._next=this:dm=this,_d=this),this._call=i,this._time=t,fb()},stop:function(){this._call&&(this._call=null,this._time=1/0,fb())}};function EC(i,e,t){var n=new hm;return n.restart(i,e,t),n}function wz(){d_(),++su;for(var i=dm,e;i;)(e=bc-i._time)>=0&&i._call.call(void 0,e),i=i._next;--su}function yx(){bc=(fm=pf.now())+bg,su=Ed=0;try{wz()}finally{su=0,Ez(),bc=0}}function bz(){var i=pf.now(),e=i-fm;e>wC&&(bg-=e,fm=i)}function Ez(){for(var i,e=dm,t,n=1/0;e;)e._call?(n>e._time&&(n=e._time),i=e,e=e._next):(t=e._next,e._next=null,e=i?i._next=t:dm=t);_d=i,fb(n)}function fb(i){if(!su){Ed&&(Ed=clearTimeout(Ed));var e=i-bc;e>24?(i<1/0&&(Ed=setTimeout(yx,i-pf.now()-bg)),Zu&&(Zu=clearInterval(Zu))):(Zu||(fm=pf.now(),Zu=setInterval(bz,wC)),su=1,bC(yx))}}function wx(i,e,t){var n=new hm;return e=e==null?0:+e,n.restart(r=>{n.stop(),i(r+e)},e,t),n}var _z=gg("start","end","cancel","interrupt"),vz=[],_C=0,bx=1,hb=2,F1=3,Ex=4,pb=5,I1=6;function Eg(i,e,t,n,r,s){var a=i.__transition;if(!a)i.__transition={};else if(t in a)return;xz(i,t,{name:e,index:n,group:r,on:_z,tween:vz,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:_C})}function f_(i,e){var t=Da(i,e);if(t.state>_C)throw new Error("too late; already scheduled");return t}function mo(i,e){var t=Da(i,e);if(t.state>F1)throw new Error("too late; already running");return t}function Da(i,e){var t=i.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function xz(i,e,t){var n=i.__transition,r;n[e]=t,t.timer=EC(s,0,t.time);function s(c){t.state=bx,t.timer.restart(a,t.delay,t.time),t.delay<=c&&a(c-t.delay)}function a(c){var l,u,d,h;if(t.state!==bx)return A();for(l in n)if(h=n[l],h.name===t.name){if(h.state===F1)return wx(a);h.state===Ex?(h.state=I1,h.timer.stop(),h.on.call("interrupt",i,i.__data__,h.index,h.group),delete n[l]):+l<e&&(h.state=I1,h.timer.stop(),h.on.call("cancel",i,i.__data__,h.index,h.group),delete n[l])}if(wx(function(){t.state===F1&&(t.state=Ex,t.timer.restart(o,t.delay,t.time),o(c))}),t.state=hb,t.on.call("start",i,i.__data__,t.index,t.group),t.state===hb){for(t.state=F1,r=new Array(d=t.tween.length),l=0,u=-1;l<d;++l)(h=t.tween[l].value.call(i,i.__data__,t.index,t.group))&&(r[++u]=h);r.length=u+1}}function o(c){for(var l=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(A),t.state=pb,1),u=-1,d=r.length;++u<d;)r[u].call(i,l);t.state===pb&&(t.on.call("end",i,i.__data__,t.index,t.group),A())}function A(){t.state=I1,t.timer.stop(),delete n[e];for(var c in n)return;delete i.__transition}}function mb(i,e){var t=i.__transition,n,r,s=!0,a;if(!!t){e=e==null?null:e+"";for(a in t){if((n=t[a]).name!==e){s=!1;continue}r=n.state>hb&&n.state<pb,n.state=I1,n.timer.stop(),n.on.call(r?"interrupt":"cancel",i,i.__data__,n.index,n.group),delete t[a]}s&&delete i.__transition}}function Rz(i){return this.each(function(){mb(this,i)})}function Bz(i,e){var t,n;return function(){var r=mo(this,i),s=r.tween;if(s!==t){n=t=s;for(var a=0,o=n.length;a<o;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}r.tween=n}}function Cz(i,e,t){var n,r;if(typeof t!="function")throw new Error;return function(){var s=mo(this,i),a=s.tween;if(a!==n){r=(n=a).slice();for(var o={name:e,value:t},A=0,c=r.length;A<c;++A)if(r[A].name===e){r[A]=o;break}A===c&&r.push(o)}s.tween=r}}function Sz(i,e){var t=this._id;if(i+="",arguments.length<2){for(var n=Da(this.node(),t).tween,r=0,s=n.length,a;r<s;++r)if((a=n[r]).name===i)return a.value;return null}return this.each((e==null?Bz:Cz)(t,i,e))}function h_(i,e,t){var n=i._id;return i.each(function(){var r=mo(this,n);(r.value||(r.value={}))[e]=t.apply(this,arguments)}),function(r){return Da(r,n).value[e]}}function vC(i,e){var t;return(typeof e=="number"?Na:e instanceof u0?um:(t=u0(e))?(e=t,um):mC)(i,e)}function Nz(i){return function(){this.removeAttribute(i)}}function Mz(i){return function(){this.removeAttributeNS(i.space,i.local)}}function Tz(i,e,t){var n,r=t+"",s;return function(){var a=this.getAttribute(i);return a===r?null:a===n?s:s=e(n=a,t)}}function Gz(i,e,t){var n,r=t+"",s;return function(){var a=this.getAttributeNS(i.space,i.local);return a===r?null:a===n?s:s=e(n=a,t)}}function Fz(i,e,t){var n,r,s;return function(){var a,o=t(this),A;return o==null?void this.removeAttribute(i):(a=this.getAttribute(i),A=o+"",a===A?null:a===n&&A===r?s:(r=A,s=e(n=a,o)))}}function Iz(i,e,t){var n,r,s;return function(){var a,o=t(this),A;return o==null?void this.removeAttributeNS(i.space,i.local):(a=this.getAttributeNS(i.space,i.local),A=o+"",a===A?null:a===n&&A===r?s:(r=A,s=e(n=a,o)))}}function Uz(i,e){var t=yg(i),n=t==="transform"?gz:vC;return this.attrTween(i,typeof e=="function"?(t.local?Iz:Fz)(t,n,h_(this,"attr."+i,e)):e==null?(t.local?Mz:Nz)(t):(t.local?Gz:Tz)(t,n,e))}function Pz(i,e){return function(t){this.setAttribute(i,e.call(this,t))}}function Lz(i,e){return function(t){this.setAttributeNS(i.space,i.local,e.call(this,t))}}function Dz(i,e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Lz(i,s)),t}return r._value=e,r}function kz(i,e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Pz(i,s)),t}return r._value=e,r}function Oz(i,e){var t="attr."+i;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var n=yg(i);return this.tween(t,(n.local?Dz:kz)(n,e))}function Qz(i,e){return function(){f_(this,i).delay=+e.apply(this,arguments)}}function Hz(i,e){return e=+e,function(){f_(this,i).delay=e}}function zz(i){var e=this._id;return arguments.length?this.each((typeof i=="function"?Qz:Hz)(e,i)):Da(this.node(),e).delay}function Vz(i,e){return function(){mo(this,i).duration=+e.apply(this,arguments)}}function Kz(i,e){return e=+e,function(){mo(this,i).duration=e}}function $z(i){var e=this._id;return arguments.length?this.each((typeof i=="function"?Vz:Kz)(e,i)):Da(this.node(),e).duration}function Wz(i,e){if(typeof e!="function")throw new Error;return function(){mo(this,i).ease=e}}function qz(i){var e=this._id;return arguments.length?this.each(Wz(e,i)):Da(this.node(),e).ease}function Yz(i,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;mo(this,i).ease=t}}function Xz(i){if(typeof i!="function")throw new Error;return this.each(Yz(this._id,i))}function jz(i){typeof i!="function"&&(i=rC(i));for(var e=this._groups,t=e.length,n=new Array(t),r=0;r<t;++r)for(var s=e[r],a=s.length,o=n[r]=[],A,c=0;c<a;++c)(A=s[c])&&i.call(A,A.__data__,c,s)&&o.push(A);return new lA(n,this._parents,this._name,this._id)}function Zz(i){if(i._id!==this._id)throw new Error;for(var e=this._groups,t=i._groups,n=e.length,r=t.length,s=Math.min(n,r),a=new Array(n),o=0;o<s;++o)for(var A=e[o],c=t[o],l=A.length,u=a[o]=new Array(l),d,h=0;h<l;++h)(d=A[h]||c[h])&&(u[h]=d);for(;o<n;++o)a[o]=e[o];return new lA(a,this._parents,this._name,this._id)}function Jz(i){return(i+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function eV(i,e,t){var n,r,s=Jz(e)?f_:mo;return function(){var a=s(this,i),o=a.on;o!==n&&(r=(n=o).copy()).on(e,t),a.on=r}}function tV(i,e){var t=this._id;return arguments.length<2?Da(this.node(),t).on.on(i):this.each(eV(t,i,e))}function nV(i){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==i)return;e&&e.removeChild(this)}}function iV(){return this.on("end.remove",nV(this._id))}function rV(i){var e=this._name,t=this._id;typeof i!="function"&&(i=o_(i));for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a)for(var o=n[a],A=o.length,c=s[a]=new Array(A),l,u,d=0;d<A;++d)(l=o[d])&&(u=i.call(l,l.__data__,d,o))&&("__data__"in l&&(u.__data__=l.__data__),c[d]=u,Eg(c[d],e,t,d,c,Da(l,t)));return new lA(s,this._parents,e,t)}function sV(i){var e=this._name,t=this._id;typeof i!="function"&&(i=iC(i));for(var n=this._groups,r=n.length,s=[],a=[],o=0;o<r;++o)for(var A=n[o],c=A.length,l,u=0;u<c;++u)if(l=A[u]){for(var d=i.call(l,l.__data__,u,A),h,m=Da(l,t),y=0,g=d.length;y<g;++y)(h=d[y])&&Eg(h,e,t,y,d,m);s.push(d),a.push(l)}return new lA(s,a,e,t)}var aV=Df.prototype.constructor;function oV(){return new aV(this._groups,this._parents)}function AV(i,e){var t,n,r;return function(){var s=ru(this,i),a=(this.style.removeProperty(i),ru(this,i));return s===a?null:s===t&&a===n?r:r=e(t=s,n=a)}}function xC(i){return function(){this.style.removeProperty(i)}}function cV(i,e,t){var n,r=t+"",s;return function(){var a=ru(this,i);return a===r?null:a===n?s:s=e(n=a,t)}}function lV(i,e,t){var n,r,s;return function(){var a=ru(this,i),o=t(this),A=o+"";return o==null&&(A=o=(this.style.removeProperty(i),ru(this,i))),a===A?null:a===n&&A===r?s:(r=A,s=e(n=a,o))}}function uV(i,e){var t,n,r,s="style."+e,a="end."+s,o;return function(){var A=mo(this,i),c=A.on,l=A.value[s]==null?o||(o=xC(e)):void 0;(c!==t||r!==l)&&(n=(t=c).copy()).on(a,r=l),A.on=n}}function dV(i,e,t){var n=(i+="")=="transform"?mz:vC;return e==null?this.styleTween(i,AV(i,n)).on("end.style."+i,xC(i)):typeof e=="function"?this.styleTween(i,lV(i,n,h_(this,"style."+i,e))).each(uV(this._id,i)):this.styleTween(i,cV(i,n,e),t).on("end.style."+i,null)}function fV(i,e,t){return function(n){this.style.setProperty(i,e.call(this,n),t)}}function hV(i,e,t){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&fV(i,a,t)),n}return s._value=e,s}function pV(i,e,t){var n="style."+(i+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,hV(i,e,t==null?"":t))}function mV(i){return function(){this.textContent=i}}function gV(i){return function(){var e=i(this);this.textContent=e==null?"":e}}function yV(i){return this.tween("text",typeof i=="function"?gV(h_(this,"text",i)):mV(i==null?"":i+""))}function wV(i){return function(e){this.textContent=i.call(this,e)}}function bV(i){var e,t;function n(){var r=i.apply(this,arguments);return r!==t&&(e=(t=r)&&wV(r)),e}return n._value=i,n}function EV(i){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(i==null)return this.tween(e,null);if(typeof i!="function")throw new Error;return this.tween(e,bV(i))}function _V(){for(var i=this._name,e=this._id,t=RC(),n=this._groups,r=n.length,s=0;s<r;++s)for(var a=n[s],o=a.length,A,c=0;c<o;++c)if(A=a[c]){var l=Da(A,e);Eg(A,i,t,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new lA(n,this._parents,i,t)}function vV(){var i,e,t=this,n=t._id,r=t.size();return new Promise(function(s,a){var o={value:a},A={value:function(){--r===0&&s()}};t.each(function(){var c=mo(this,n),l=c.on;l!==i&&(e=(i=l).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(A)),c.on=e}),r===0&&s()})}var xV=0;function lA(i,e,t,n){this._groups=i,this._parents=e,this._name=t,this._id=n}function RC(){return++xV}var Io=Df.prototype;lA.prototype={constructor:lA,select:rV,selectAll:sV,selectChild:Io.selectChild,selectChildren:Io.selectChildren,filter:jz,merge:Zz,selection:oV,transition:_V,call:Io.call,nodes:Io.nodes,node:Io.node,size:Io.size,empty:Io.empty,each:Io.each,on:tV,attr:Uz,attrTween:Oz,style:dV,styleTween:pV,text:yV,textTween:EV,remove:iV,tween:Sz,delay:zz,duration:$z,ease:qz,easeVarying:Xz,end:vV,[Symbol.iterator]:Io[Symbol.iterator]};function RV(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var BV={time:null,delay:0,duration:250,ease:RV};function CV(i,e){for(var t;!(t=i.__transition)||!(t=t[e]);)if(!(i=i.parentNode))throw new Error(`transition ${e} not found`);return t}function SV(i){var e,t;i instanceof lA?(e=i._id,i=i._name):(e=RC(),(t=BV).time=d_(),i=i==null?null:i+"");for(var n=this._groups,r=n.length,s=0;s<r;++s)for(var a=n[s],o=a.length,A,c=0;c<o;++c)(A=a[c])&&Eg(A,i,e,c,a,t||CV(A,e));return new lA(n,this._parents,i,e)}Df.prototype.interrupt=Rz;Df.prototype.transition=SV;const v3=i=>()=>i;function NV(i,{sourceEvent:e,target:t,selection:n,mode:r,dispatch:s}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function MV(i){i.stopImmediatePropagation()}function x3(i){i.preventDefault(),i.stopImmediatePropagation()}var _x={name:"drag"},R3={name:"space"},Wc={name:"handle"},qc={name:"center"};const{abs:vx,max:vr,min:xr}=Math;function xx(i){return[+i[0],+i[1]]}function gb(i){return[xx(i[0]),xx(i[1])]}var U1={name:"x",handles:["w","e"].map(mf),input:function(i,e){return i==null?null:[[+i[0],e[0][1]],[+i[1],e[1][1]]]},output:function(i){return i&&[i[0][0],i[1][0]]}},B3={name:"y",handles:["n","s"].map(mf),input:function(i,e){return i==null?null:[[e[0][0],+i[0]],[e[1][0],+i[1]]]},output:function(i){return i&&[i[0][1],i[1][1]]}},TV={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(mf),input:function(i){return i==null?null:gb(i)},output:function(i){return i}},Uo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Rx={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Bx={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},GV={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},FV={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function mf(i){return{type:i}}function IV(i){return!i.ctrlKey&&!i.button}function UV(){var i=this.ownerSVGElement||this;return i.hasAttribute("viewBox")?(i=i.viewBox.baseVal,[[i.x,i.y],[i.x+i.width,i.y+i.height]]):[[0,0],[i.width.baseVal.value,i.height.baseVal.value]]}function PV(){return navigator.maxTouchPoints||"ontouchstart"in this}function C3(i){for(;!i.__brush;)if(!(i=i.parentNode))return;return i.__brush}function LV(i){return i[0][0]===i[1][0]||i[0][1]===i[1][1]}function DV(){return BC(U1)}function kV(){return BC(TV)}function BC(i){var e=UV,t=IV,n=PV,r=!0,s=gg("start","brush","end"),a=6,o;function A(g){var E=g.property("__brush",y).selectAll(".overlay").data([mf("overlay")]);E.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Uo.overlay).merge(E).each(function(){var p=C3(this).extent;It(this).attr("x",p[0][0]).attr("y",p[0][1]).attr("width",p[1][0]-p[0][0]).attr("height",p[1][1]-p[0][1])}),g.selectAll(".selection").data([mf("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Uo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var R=g.selectAll(".handle").data(i.handles,function(p){return p.type});R.exit().remove(),R.enter().append("rect").attr("class",function(p){return"handle handle--"+p.type}).attr("cursor",function(p){return Uo[p.type]}),g.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(n).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}A.move=function(g,E,R){g.tween?g.on("start.brush",function(p){l(this,arguments).beforestart().start(p)}).on("interrupt.brush end.brush",function(p){l(this,arguments).end(p)}).tween("brush",function(){var p=this,w=p.__brush,v=l(p,arguments),_=w.selection,x=i.input(typeof E=="function"?E.apply(this,arguments):E,w.extent),C=wg(_,x);function B(G){w.selection=G===1&&x===null?null:C(G),c.call(p),v.brush()}return _!==null&&x!==null?B:B(1)}):g.each(function(){var p=this,w=arguments,v=p.__brush,_=i.input(typeof E=="function"?E.apply(p,w):E,v.extent),x=l(p,w).beforestart();mb(p),v.selection=_===null?null:_,c.call(p),x.start(R).brush(R).end(R)})},A.clear=function(g,E){A.move(g,null,E)};function c(){var g=It(this),E=C3(this).selection;E?(g.selectAll(".selection").style("display",null).attr("x",E[0][0]).attr("y",E[0][1]).attr("width",E[1][0]-E[0][0]).attr("height",E[1][1]-E[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(R){return R.type[R.type.length-1]==="e"?E[1][0]-a/2:E[0][0]-a/2}).attr("y",function(R){return R.type[0]==="s"?E[1][1]-a/2:E[0][1]-a/2}).attr("width",function(R){return R.type==="n"||R.type==="s"?E[1][0]-E[0][0]+a:a}).attr("height",function(R){return R.type==="e"||R.type==="w"?E[1][1]-E[0][1]+a:a})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(g,E,R){var p=g.__brush.emitter;return p&&(!R||!p.clean)?p:new u(g,E,R)}function u(g,E,R){this.that=g,this.args=E,this.state=g.__brush,this.active=0,this.clean=R}u.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,E){return this.starting?(this.starting=!1,this.emit("start",g,E)):this.emit("brush",g),this},brush:function(g,E){return this.emit("brush",g,E),this},end:function(g,E){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,E)),this},emit:function(g,E,R){var p=It(this.that).datum();s.call(g,this.that,new NV(g,{sourceEvent:E,target:A,selection:i.output(this.state.selection),mode:R,dispatch:s}),p)}};function d(g){if(o&&!g.touches||!t.apply(this,arguments))return;var E=this,R=g.target.__data__.type,p=(r&&g.metaKey?R="overlay":R)==="selection"?_x:r&&g.altKey?qc:Wc,w=i===B3?null:GV[R],v=i===U1?null:FV[R],_=C3(E),x=_.extent,C=_.selection,B=x[0][0],G,I,N=x[0][1],T,M,U=x[1][0],z,L,k=x[1][1],K,V,D=0,H=0,oe,Ae=w&&v&&r&&g.shiftKey,ee,se,le=Array.from(g.touches||[g],Le=>{const tt=Le.identifier;return Le=Ax(Le,E),Le.point0=Le.slice(),Le.identifier=tt,Le});mb(E);var J=l(E,arguments,!0).beforestart();if(R==="overlay"){C&&(oe=!0);const Le=[le[0],le[1]||le[0]];_.selection=C=[[G=i===B3?B:xr(Le[0][0],Le[1][0]),T=i===U1?N:xr(Le[0][1],Le[1][1])],[z=i===B3?U:vr(Le[0][0],Le[1][0]),K=i===U1?k:vr(Le[0][1],Le[1][1])]],le.length>1&&we(g)}else G=C[0][0],T=C[0][1],z=C[1][0],K=C[1][1];I=G,M=T,L=z,V=K;var me=It(E).attr("pointer-events","none"),ue=me.selectAll(".overlay").attr("cursor",Uo[R]);if(g.touches)J.moved=fe,J.ended=Fe;else{var ge=It(g.view).on("mousemove.brush",fe,!0).on("mouseup.brush",Fe,!0);r&&ge.on("keydown.brush",je,!0).on("keyup.brush",De,!0),zH(g.view)}c.call(E),J.start(g,p.name);function fe(Le){for(const tt of Le.changedTouches||[Le])for(const Ie of le)Ie.identifier===tt.identifier&&(Ie.cur=Ax(tt,E));if(Ae&&!ee&&!se&&le.length===1){const tt=le[0];vx(tt.cur[0]-tt[0])>vx(tt.cur[1]-tt[1])?se=!0:ee=!0}for(const tt of le)tt.cur&&(tt[0]=tt.cur[0],tt[1]=tt.cur[1]);oe=!0,x3(Le),we(Le)}function we(Le){const tt=le[0],Ie=tt.point0;var Xe;switch(D=tt[0]-Ie[0],H=tt[1]-Ie[1],p){case R3:case _x:{w&&(D=vr(B-G,xr(U-z,D)),I=G+D,L=z+D),v&&(H=vr(N-T,xr(k-K,H)),M=T+H,V=K+H);break}case Wc:{le[1]?(w&&(I=vr(B,xr(U,le[0][0])),L=vr(B,xr(U,le[1][0])),w=1),v&&(M=vr(N,xr(k,le[0][1])),V=vr(N,xr(k,le[1][1])),v=1)):(w<0?(D=vr(B-G,xr(U-G,D)),I=G+D,L=z):w>0&&(D=vr(B-z,xr(U-z,D)),I=G,L=z+D),v<0?(H=vr(N-T,xr(k-T,H)),M=T+H,V=K):v>0&&(H=vr(N-K,xr(k-K,H)),M=T,V=K+H));break}case qc:{w&&(I=vr(B,xr(U,G-D*w)),L=vr(B,xr(U,z+D*w))),v&&(M=vr(N,xr(k,T-H*v)),V=vr(N,xr(k,K+H*v)));break}}L<I&&(w*=-1,Xe=G,G=z,z=Xe,Xe=I,I=L,L=Xe,R in Rx&&ue.attr("cursor",Uo[R=Rx[R]])),V<M&&(v*=-1,Xe=T,T=K,K=Xe,Xe=M,M=V,V=Xe,R in Bx&&ue.attr("cursor",Uo[R=Bx[R]])),_.selection&&(C=_.selection),ee&&(I=C[0][0],L=C[1][0]),se&&(M=C[0][1],V=C[1][1]),(C[0][0]!==I||C[0][1]!==M||C[1][0]!==L||C[1][1]!==V)&&(_.selection=[[I,M],[L,V]],c.call(E),J.brush(Le,p.name))}function Fe(Le){if(MV(Le),Le.touches){if(Le.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else VH(Le.view,oe),ge.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);me.attr("pointer-events","all"),ue.attr("cursor",Uo.overlay),_.selection&&(C=_.selection),LV(C)&&(_.selection=null,c.call(E)),J.end(Le,p.name)}function je(Le){switch(Le.keyCode){case 16:{Ae=w&&v;break}case 18:{p===Wc&&(w&&(z=L-D*w,G=I+D*w),v&&(K=V-H*v,T=M+H*v),p=qc,we(Le));break}case 32:{(p===Wc||p===qc)&&(w<0?z=L-D:w>0&&(G=I-D),v<0?K=V-H:v>0&&(T=M-H),p=R3,ue.attr("cursor",Uo.selection),we(Le));break}default:return}x3(Le)}function De(Le){switch(Le.keyCode){case 16:{Ae&&(ee=se=Ae=!1,we(Le));break}case 18:{p===qc&&(w<0?z=L:w>0&&(G=I),v<0?K=V:v>0&&(T=M),p=Wc,we(Le));break}case 32:{p===R3&&(Le.altKey?(w&&(z=L-D*w,G=I+D*w),v&&(K=V-H*v,T=M+H*v),p=qc):(w<0?z=L:w>0&&(G=I),v<0?K=V:v>0&&(T=M),p=Wc),ue.attr("cursor",Uo[R]),we(Le));break}default:return}x3(Le)}}function h(g){l(this,arguments).moved(g)}function m(g){l(this,arguments).ended(g)}function y(){var g=this.__brush||{selection:null};return g.extent=gb(e.apply(this,arguments)),g.dim=i,g}return A.extent=function(g){return arguments.length?(e=typeof g=="function"?g:v3(gb(g)),A):e},A.filter=function(g){return arguments.length?(t=typeof g=="function"?g:v3(!!g),A):t},A.touchable=function(g){return arguments.length?(n=typeof g=="function"?g:v3(!!g),A):n},A.handleSize=function(g){return arguments.length?(a=+g,A):a},A.keyModifiers=function(g){return arguments.length?(r=!!g,A):r},A.on=function(){var g=s.on.apply(s,arguments);return g===s?A:g},A}const yb=Math.PI,wb=2*yb,j0=1e-6,OV=wb-j0;function CC(i){this._+=i[0];for(let e=1,t=i.length;e<t;++e)this._+=arguments[e]+i[e]}function QV(i){let e=Math.floor(i);if(!(e>=0))throw new Error(`invalid digits: ${i}`);if(e>15)return CC;const t=10**e;return function(n){this._+=n[0];for(let r=1,s=n.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+n[r]}}class HV{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?CC:QV(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,s,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,n,r,s){if(e=+e,t=+t,n=+n,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,A=n-e,c=r-t,l=a-e,u=o-t,d=l*l+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(d>j0)if(!(Math.abs(u*A-c*l)>j0)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let h=n-a,m=r-o,y=A*A+c*c,g=h*h+m*m,E=Math.sqrt(y),R=Math.sqrt(d),p=s*Math.tan((yb-Math.acos((y+d-g)/(2*E*R)))/2),w=p/R,v=p/E;Math.abs(w-1)>j0&&this._append`L${e+w*l},${t+w*u}`,this._append`A${s},${s},0,0,${+(u*h>l*m)},${this._x1=e+v*A},${this._y1=t+v*c}`}}arc(e,t,n,r,s,a){if(e=+e,t=+t,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),A=n*Math.sin(r),c=e+o,l=t+A,u=1^a,d=a?r-s:s-r;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>j0||Math.abs(this._y1-l)>j0)&&this._append`L${c},${l}`,n&&(d<0&&(d=d%wb+wb),d>OV?this._append`A${n},${n},0,1,${u},${e-o},${t-A}A${n},${n},0,1,${u},${this._x1=c},${this._y1=l}`:d>j0&&this._append`A${n},${n},0,${+(d>=yb)},${u},${this._x1=e+n*Math.cos(s)},${this._y1=t+n*Math.sin(s)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function zV(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function pm(i,e){if((t=(i=e?i.toExponential(e-1):i.toExponential()).indexOf("e"))<0)return null;var t,n=i.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+i.slice(t+1)]}function au(i){return i=pm(Math.abs(i)),i?i[1]:NaN}function VV(i,e){return function(t,n){for(var r=t.length,s=[],a=0,o=i[0],A=0;r>0&&o>0&&(A+o+1>n&&(o=Math.max(1,n-A)),s.push(t.substring(r-=o,r+o)),!((A+=o+1)>n));)o=i[a=(a+1)%i.length];return s.reverse().join(e)}}function KV(i){return function(e){return e.replace(/[0-9]/g,function(t){return i[+t]})}}var $V=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mm(i){if(!(e=$V.exec(i)))throw new Error("invalid format: "+i);var e;return new p_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}mm.prototype=p_.prototype;function p_(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}p_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WV(i){e:for(var e=i.length,t=1,n=-1,r;t<e;++t)switch(i[t]){case".":n=r=t;break;case"0":n===0&&(n=t),r=t;break;default:if(!+i[t])break e;n>0&&(n=0);break}return n>0?i.slice(0,n)+i.slice(r+1):i}var SC;function qV(i,e){var t=pm(i,e);if(!t)return i+"";var n=t[0],r=t[1],s=r-(SC=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+pm(i,Math.max(0,e+s-1))[0]}function Cx(i,e){var t=pm(i,e);if(!t)return i+"";var n=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}const Sx={"%":(i,e)=>(i*100).toFixed(e),b:i=>Math.round(i).toString(2),c:i=>i+"",d:zV,e:(i,e)=>i.toExponential(e),f:(i,e)=>i.toFixed(e),g:(i,e)=>i.toPrecision(e),o:i=>Math.round(i).toString(8),p:(i,e)=>Cx(i*100,e),r:Cx,s:qV,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function Nx(i){return i}var Mx=Array.prototype.map,Tx=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function YV(i){var e=i.grouping===void 0||i.thousands===void 0?Nx:VV(Mx.call(i.grouping,Number),i.thousands+""),t=i.currency===void 0?"":i.currency[0]+"",n=i.currency===void 0?"":i.currency[1]+"",r=i.decimal===void 0?".":i.decimal+"",s=i.numerals===void 0?Nx:KV(Mx.call(i.numerals,String)),a=i.percent===void 0?"%":i.percent+"",o=i.minus===void 0?"\u2212":i.minus+"",A=i.nan===void 0?"NaN":i.nan+"";function c(u){u=mm(u);var d=u.fill,h=u.align,m=u.sign,y=u.symbol,g=u.zero,E=u.width,R=u.comma,p=u.precision,w=u.trim,v=u.type;v==="n"?(R=!0,v="g"):Sx[v]||(p===void 0&&(p=12),w=!0,v="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var _=y==="$"?t:y==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x=y==="$"?n:/[%p]/.test(v)?a:"",C=Sx[v],B=/[defgprs%]/.test(v);p=p===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function G(I){var N=_,T=x,M,U,z;if(v==="c")T=C(I)+T,I="";else{I=+I;var L=I<0||1/I<0;if(I=isNaN(I)?A:C(Math.abs(I),p),w&&(I=WV(I)),L&&+I==0&&m!=="+"&&(L=!1),N=(L?m==="("?m:o:m==="-"||m==="("?"":m)+N,T=(v==="s"?Tx[8+SC/3]:"")+T+(L&&m==="("?")":""),B){for(M=-1,U=I.length;++M<U;)if(z=I.charCodeAt(M),48>z||z>57){T=(z===46?r+I.slice(M+1):I.slice(M))+T,I=I.slice(0,M);break}}}R&&!g&&(I=e(I,1/0));var k=N.length+I.length+T.length,K=k<E?new Array(E-k+1).join(d):"";switch(R&&g&&(I=e(K+I,K.length?E-T.length:1/0),K=""),h){case"<":I=N+I+T+K;break;case"=":I=N+K+I+T;break;case"^":I=K.slice(0,k=K.length>>1)+N+I+T+K.slice(k);break;default:I=K+N+I+T;break}return s(I)}return G.toString=function(){return u+""},G}function l(u,d){var h=c((u=mm(u),u.type="f",u)),m=Math.max(-8,Math.min(8,Math.floor(au(d)/3)))*3,y=Math.pow(10,-m),g=Tx[8+m/3];return function(E){return h(y*E)+g}}return{format:c,formatPrefix:l}}var qh,nA,NC;XV({thousands:",",grouping:[3],currency:["$",""]});function XV(i){return qh=YV(i),nA=qh.format,NC=qh.formatPrefix,qh}function jV(i){return Math.max(0,-au(Math.abs(i)))}function ZV(i,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(au(e)/3)))*3-au(Math.abs(i)))}function JV(i,e){return i=Math.abs(i),e=Math.abs(e)-i,Math.max(0,au(e)-au(i))+1}function m_(i,e){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(e).domain(i);break}return this}const Gx=Symbol("implicit");function MC(){var i=new ib,e=[],t=[],n=Gx;function r(s){let a=i.get(s);if(a===void 0){if(n!==Gx)return n;i.set(s,a=e.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],i=new ib;for(const a of s)i.has(a)||i.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(n=s,r):n},r.copy=function(){return MC(e,t).unknown(n)},m_.apply(r,arguments),r}function bb(){var i=MC().unknown(void 0),e=i.domain,t=i.range,n=0,r=1,s,a,o=!1,A=0,c=0,l=.5;delete i.unknown;function u(){var d=e().length,h=r<n,m=h?r:n,y=h?n:r;s=(y-m)/Math.max(1,d-A+c*2),o&&(s=Math.floor(s)),m+=(y-m-s*(d-A))*l,a=s*(1-A),o&&(m=Math.round(m),a=Math.round(a));var g=JO(d).map(function(E){return m+s*E});return t(h?g.reverse():g)}return i.domain=function(d){return arguments.length?(e(d),u()):e()},i.range=function(d){return arguments.length?([n,r]=d,n=+n,r=+r,u()):[n,r]},i.rangeRound=function(d){return[n,r]=d,n=+n,r=+r,o=!0,u()},i.bandwidth=function(){return a},i.step=function(){return s},i.round=function(d){return arguments.length?(o=!!d,u()):o},i.padding=function(d){return arguments.length?(A=Math.min(1,c=+d),u()):A},i.paddingInner=function(d){return arguments.length?(A=Math.min(1,d),u()):A},i.paddingOuter=function(d){return arguments.length?(c=+d,u()):c},i.align=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),u()):l},i.copy=function(){return bb(e(),[n,r]).round(o).paddingInner(A).paddingOuter(c).align(l)},m_.apply(u(),arguments)}function eK(i){return function(){return i}}function tK(i){return+i}var Fx=[0,1];function Fl(i){return i}function Eb(i,e){return(e-=i=+i)?function(t){return(t-i)/e}:eK(isNaN(e)?NaN:.5)}function nK(i,e){var t;return i>e&&(t=i,i=e,e=t),function(n){return Math.max(i,Math.min(e,n))}}function iK(i,e,t){var n=i[0],r=i[1],s=e[0],a=e[1];return r<n?(n=Eb(r,n),s=t(a,s)):(n=Eb(n,r),s=t(s,a)),function(o){return s(n(o))}}function rK(i,e,t){var n=Math.min(i.length,e.length)-1,r=new Array(n),s=new Array(n),a=-1;for(i[n]<i[0]&&(i=i.slice().reverse(),e=e.slice().reverse());++a<n;)r[a]=Eb(i[a],i[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var A=DO(i,o,1,n)-1;return s[A](r[A](o))}}function sK(i,e){return e.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function aK(){var i=Fx,e=Fx,t=wg,n,r,s,a=Fl,o,A,c;function l(){var d=Math.min(i.length,e.length);return a!==Fl&&(a=nK(i[0],i[d-1])),o=d>2?rK:iK,A=c=null,u}function u(d){return d==null||isNaN(d=+d)?s:(A||(A=o(i.map(n),e,t)))(n(a(d)))}return u.invert=function(d){return a(r((c||(c=o(e,i.map(n),Na)))(d)))},u.domain=function(d){return arguments.length?(i=Array.from(d,tK),l()):i.slice()},u.range=function(d){return arguments.length?(e=Array.from(d),l()):e.slice()},u.rangeRound=function(d){return e=Array.from(d),t=fz,l()},u.clamp=function(d){return arguments.length?(a=d?!0:Fl,l()):a!==Fl},u.interpolate=function(d){return arguments.length?(t=d,l()):t},u.unknown=function(d){return arguments.length?(s=d,u):s},function(d,h){return n=d,r=h,l()}}function oK(){return aK()(Fl,Fl)}function AK(i,e,t,n){var r=YO(i,e,t),s;switch(n=mm(n==null?",f":n),n.type){case"s":{var a=Math.max(Math.abs(i),Math.abs(e));return n.precision==null&&!isNaN(s=ZV(r,a))&&(n.precision=s),NC(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=JV(r,Math.max(Math.abs(i),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=jV(r))&&(n.precision=s-(n.type==="%")*2);break}}return nA(n)}function cK(i){var e=i.domain;return i.ticks=function(t){var n=e();return qO(n[0],n[n.length-1],t==null?10:t)},i.tickFormat=function(t,n){var r=e();return AK(r[0],r[r.length-1],t==null?10:t,n)},i.nice=function(t){t==null&&(t=10);var n=e(),r=0,s=n.length-1,a=n[r],o=n[s],A,c,l=10;for(o<a&&(c=a,a=o,o=c,c=r,r=s,s=c);l-- >0;){if(c=sb(a,o,t),c===A)return n[r]=a,n[s]=o,e(n);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;A=c}return i},i}function tA(){var i=oK();return i.copy=function(){return sK(i,tA())},m_.apply(i,arguments),cK(i)}function lr(i){return function(){return i}}function TC(i){let e=3;return i.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);e=n}return i},()=>new HV(e)}function GC(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function FC(i){this._context=i}FC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,e){switch(i=+i,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,e):this._context.moveTo(i,e);break;case 1:this._point=2;default:this._context.lineTo(i,e);break}}};function gm(i){return new FC(i)}function IC(i){return i[0]}function UC(i){return i[1]}function PC(i,e){var t=lr(!0),n=null,r=gm,s=null,a=TC(o);i=typeof i=="function"?i:i===void 0?IC:lr(i),e=typeof e=="function"?e:e===void 0?UC:lr(e);function o(A){var c,l=(A=GC(A)).length,u,d=!1,h;for(n==null&&(s=r(h=a())),c=0;c<=l;++c)!(c<l&&t(u=A[c],c,A))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+i(u,c,A),+e(u,c,A));if(h)return s=null,h+""||null}return o.x=function(A){return arguments.length?(i=typeof A=="function"?A:lr(+A),o):i},o.y=function(A){return arguments.length?(e=typeof A=="function"?A:lr(+A),o):e},o.defined=function(A){return arguments.length?(t=typeof A=="function"?A:lr(!!A),o):t},o.curve=function(A){return arguments.length?(r=A,n!=null&&(s=r(n)),o):r},o.context=function(A){return arguments.length?(A==null?n=s=null:s=r(n=A),o):n},o}function lK(i,e,t){var n=null,r=lr(!0),s=null,a=gm,o=null,A=TC(c);i=typeof i=="function"?i:i===void 0?IC:lr(+i),e=typeof e=="function"?e:lr(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?UC:lr(+t);function c(u){var d,h,m,y=(u=GC(u)).length,g,E=!1,R,p=new Array(y),w=new Array(y);for(s==null&&(o=a(R=A())),d=0;d<=y;++d){if(!(d<y&&r(g=u[d],d,u))===E)if(E=!E)h=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=d-1;m>=h;--m)o.point(p[m],w[m]);o.lineEnd(),o.areaEnd()}E&&(p[d]=+i(g,d,u),w[d]=+e(g,d,u),o.point(n?+n(g,d,u):p[d],t?+t(g,d,u):w[d]))}if(R)return o=null,R+""||null}function l(){return PC().defined(r).curve(a).context(s)}return c.x=function(u){return arguments.length?(i=typeof u=="function"?u:lr(+u),n=null,c):i},c.x0=function(u){return arguments.length?(i=typeof u=="function"?u:lr(+u),c):i},c.x1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:lr(+u),c):n},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:lr(+u),t=null,c):e},c.y0=function(u){return arguments.length?(e=typeof u=="function"?u:lr(+u),c):e},c.y1=function(u){return arguments.length?(t=u==null?null:typeof u=="function"?u:lr(+u),c):t},c.lineX0=c.lineY0=function(){return l().x(i).y(e)},c.lineY1=function(){return l().x(i).y(t)},c.lineX1=function(){return l().x(n).y(e)},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:lr(!!u),c):r},c.curve=function(u){return arguments.length?(a=u,s!=null&&(o=a(s)),c):a},c.context=function(u){return arguments.length?(u==null?s=o=null:o=a(s=u),c):s},c}function Il(i,e,t){this.k=i,this.x=e,this.y=t}Il.prototype={constructor:Il,scale:function(i){return i===1?this:new Il(this.k*i,this.x,this.y)},translate:function(i,e){return i===0&e===0?this:new Il(this.k,this.x+this.k*i,this.y+this.k*e)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Il(1,0,0);Il.prototype;function g_(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Sc=g_();function LC(i){Sc=i}const DC=/[&<>"']/,uK=new RegExp(DC.source,"g"),kC=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,dK=new RegExp(kC.source,"g"),fK={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ix=i=>fK[i];function Nr(i,e){if(e){if(DC.test(i))return i.replace(uK,Ix)}else if(kC.test(i))return i.replace(dK,Ix);return i}const hK=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function OC(i){return i.replace(hK,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const pK=/(^|[^\[])\^/g;function Zn(i,e){i=typeof i=="string"?i:i.source,e=e||"";const t={replace:(n,r)=>(r=typeof r=="object"&&"source"in r?r.source:r,r=r.replace(pK,"$1"),i=i.replace(n,r),t),getRegex:()=>new RegExp(i,e)};return t}const mK=/[^\w:]/g,gK=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ux(i,e,t){if(i){let n;try{n=decodeURIComponent(OC(t)).replace(mK,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!gK.test(t)&&(t=EK(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Yh={},yK=/^[^:]+:\/*[^/]*$/,wK=/^([^:]+:)[\s\S]*$/,bK=/^([^:]+:\/*[^/]*)[\s\S]*$/;function EK(i,e){Yh[" "+i]||(yK.test(i)?Yh[" "+i]=i+"/":Yh[" "+i]=P1(i,"/",!0)),i=Yh[" "+i];const t=i.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:i.replace(wK,"$1")+e:e.charAt(0)==="/"?t?e:i.replace(bK,"$1")+e:i+e}const ym={exec:()=>null};function Px(i,e){const t=i.replace(/\|/g,(s,a,o)=>{let A=!1,c=a;for(;--c>=0&&o[c]==="\\";)A=!A;return A?"|":" |"}),n=t.split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function P1(i,e,t){const n=i.length;if(n===0)return"";let r=0;for(;r<n;){const s=i.charAt(n-r-1);if(s===e&&!t)r++;else if(s!==e&&t)r++;else break}return i.slice(0,n-r)}function _K(i,e){if(i.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<i.length;n++)if(i[n]==="\\")n++;else if(i[n]===e[0])t++;else if(i[n]===e[1]&&(t--,t<0))return n;return-1}function vK(i,e){!i||i.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(i.sanitize||i.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(i.highlight||i.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),i.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),i.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),i.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),i.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(i.headerIds||i.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function Lx(i,e,t,n){const r=e.href,s=e.title?Nr(e.title):null,a=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:t,href:r,title:s,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,o}return{type:"image",raw:t,href:r,title:s,text:Nr(a)}}function xK(i,e){const t=i.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(r=>{const s=r.match(/^\s+/);if(s===null)return r;const[a]=s;return a.length>=n.length?r.slice(n.length):r}).join(`
`)}class wm{constructor(e){Xn(this,"options");Xn(this,"rules");Xn(this,"lexer");this.options=e||Sc}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:P1(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=xK(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const r=P1(n,"#");(this.options.pedantic||!r||/ $/.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(n);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:s,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const a=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let o="",A="",c=!1;for(;e;){let l=!1;if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;o=t[0],e=e.substring(o.length);let u=t[2].split(`
`,1)[0].replace(/^\t+/,E=>" ".repeat(3*E.length)),d=e.split(`
`,1)[0],h=0;this.options.pedantic?(h=2,A=u.trimLeft()):(h=t[2].search(/[^ ]/),h=h>4?1:h,A=u.slice(h),h+=t[1].length);let m=!1;if(!u&&/^ *$/.test(d)&&(o+=d+`
`,e=e.substring(d.length+1),l=!0),!l){const E=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),R=new RegExp(`^ {0,${Math.min(3,h-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),p=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:\`\`\`|~~~)`),w=new RegExp(`^ {0,${Math.min(3,h-1)}}#`);for(;e;){const v=e.split(`
`,1)[0];if(d=v,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),p.test(d)||w.test(d)||E.test(d)||R.test(e))break;if(d.search(/[^ ]/)>=h||!d.trim())A+=`
`+d.slice(h);else{if(m||u.search(/[^ ]/)>=4||p.test(u)||w.test(u)||R.test(u))break;A+=`
`+d}!m&&!d.trim()&&(m=!0),o+=v+`
`,e=e.substring(v.length+1),u=d.slice(h)}}s.loose||(c?s.loose=!0:/\n *\n *$/.test(o)&&(c=!0));let y=null,g;this.options.gfm&&(y=/^\[[ xX]\] /.exec(A),y&&(g=y[0]!=="[ ] ",A=A.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:o,task:!!y,checked:g,loose:!1,text:A,tokens:[]}),s.raw+=o}s.items[s.items.length-1].raw=o.trimRight(),s.items[s.items.length-1].text=A.trimRight(),s.raw=s.raw.trimRight();for(let l=0;l<s.items.length;l++)if(this.lexer.state.top=!1,s.items[l].tokens=this.lexer.blockTokens(s.items[l].text,[]),!s.loose){const u=s.items[l].tokens.filter(h=>h.type==="space"),d=u.length>0&&u.some(h=>/\n.*\n/.test(h.raw));s.loose=d}if(s.loose)for(let l=0;l<s.items.length;l++)s.items[l].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",block:!0,raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(t[0]):Nr(t[0]),s=n;s.type="paragraph",s.text=r,s.tokens=this.lexer.inline(r)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",raw:t[0],header:Px(t[1]).map(r=>({text:r,tokens:[]})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){let r=n.align.length,s,a,o,A;for(s=0;s<r;s++){const c=n.align[s];c&&(/^ *-+: *$/.test(c)?n.align[s]="right":/^ *:-+: *$/.test(c)?n.align[s]="center":/^ *:-+ *$/.test(c)?n.align[s]="left":n.align[s]=null)}for(r=n.rows.length,s=0;s<r;s++)n.rows[s]=Px(n.rows[s],n.header.length).map(c=>({text:c,tokens:[]}));for(r=n.header.length,a=0;a<r;a++)n.header[a].tokens=this.lexer.inline(n.header[a].text);for(r=n.rows.length,a=0;a<r;a++)for(A=n.rows[a],o=0;o<A.length;o++)A[o].tokens=this.lexer.inline(A[o].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Nr(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Nr(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const a=P1(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{const a=_K(t[2],"()");if(a>-1){const A=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,A).trim(),t[3]=""}}let r=t[2],s="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);a&&(r=a[1],s=a[3])}else s=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(n)?r=r.slice(1):r=r.slice(1,-1)),Lx(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Lx(n,r,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const a=[...r[0]].length-1;let o,A,c=a,l=0;const u=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+a);(r=u.exec(t))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(A=[...o].length,r[3]||r[4]){c+=A;continue}else if((r[5]||r[6])&&a%3&&!((a+A)%3)){l+=A;continue}if(c-=A,c>0)continue;A=Math.min(A,A+c+l);const d=[...e].slice(0,a+r.index+A+1).join("");if(Math.min(a,A)%2){const m=d.slice(1,-1);return{type:"em",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}const h=d.slice(2,-2);return{type:"strong",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const r=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return r&&s&&(n=n.substring(1,n.length-1)),n=Nr(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let r,s;return n[2]==="@"?(r=Nr(this.options.mangle?t(n[1]):n[1]),s="mailto:"+r):(r=Nr(n[1]),s=r),{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let r,s;if(n[2]==="@")r=Nr(this.options.mangle?t(n[0]):n[0]),s="mailto:"+r;else{let a;do a=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(a!==n[0]);r=Nr(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Nr(n[0]):n[0]:r=Nr(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:r}}}}const tn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ym,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};tn._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;tn._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;tn.def=Zn(tn.def).replace("label",tn._label).replace("title",tn._title).getRegex();tn.bullet=/(?:[*+-]|\d{1,9}[.)])/;tn.listItemStart=Zn(/^( *)(bull) */).replace("bull",tn.bullet).getRegex();tn.list=Zn(tn.list).replace(/bull/g,tn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+tn.def.source+")").getRegex();tn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";tn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;tn.html=Zn(tn.html,"i").replace("comment",tn._comment).replace("tag",tn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();tn.lheading=Zn(tn.lheading).replace(/bull/g,tn.bullet).getRegex();tn.paragraph=Zn(tn._paragraph).replace("hr",tn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tn._tag).getRegex();tn.blockquote=Zn(tn.blockquote).replace("paragraph",tn.paragraph).getRegex();tn.normal={...tn};tn.gfm={...tn.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};tn.gfm.table=Zn(tn.gfm.table).replace("hr",tn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tn._tag).getRegex();tn.gfm.paragraph=Zn(tn._paragraph).replace("hr",tn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",tn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tn._tag).getRegex();tn.pedantic={...tn.normal,html:Zn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",tn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ym,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Zn(tn.normal._paragraph).replace("hr",tn.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",tn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Ot={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ym,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ym,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};Ot._punctuation="\\p{P}$+<=>`^|~";Ot.punctuation=Zn(Ot.punctuation,"u").replace(/punctuation/g,Ot._punctuation).getRegex();Ot.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;Ot.anyPunctuation=/\\[punct]/g;Ot._escapes=/\\([punct])/g;Ot._comment=Zn(tn._comment).replace("(?:-->|$)","-->").getRegex();Ot.emStrong.lDelim=Zn(Ot.emStrong.lDelim,"u").replace(/punct/g,Ot._punctuation).getRegex();Ot.emStrong.rDelimAst=Zn(Ot.emStrong.rDelimAst,"gu").replace(/punct/g,Ot._punctuation).getRegex();Ot.emStrong.rDelimUnd=Zn(Ot.emStrong.rDelimUnd,"gu").replace(/punct/g,Ot._punctuation).getRegex();Ot.anyPunctuation=Zn(Ot.anyPunctuation,"gu").replace(/punct/g,Ot._punctuation).getRegex();Ot._escapes=Zn(Ot._escapes,"gu").replace(/punct/g,Ot._punctuation).getRegex();Ot._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Ot._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Ot.autolink=Zn(Ot.autolink).replace("scheme",Ot._scheme).replace("email",Ot._email).getRegex();Ot._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Ot.tag=Zn(Ot.tag).replace("comment",Ot._comment).replace("attribute",Ot._attribute).getRegex();Ot._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Ot._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Ot._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Ot.link=Zn(Ot.link).replace("label",Ot._label).replace("href",Ot._href).replace("title",Ot._title).getRegex();Ot.reflink=Zn(Ot.reflink).replace("label",Ot._label).replace("ref",tn._label).getRegex();Ot.nolink=Zn(Ot.nolink).replace("ref",tn._label).getRegex();Ot.reflinkSearch=Zn(Ot.reflinkSearch,"g").replace("reflink",Ot.reflink).replace("nolink",Ot.nolink).getRegex();Ot.normal={...Ot};Ot.pedantic={...Ot.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Zn(/^!?\[(label)\]\((.*?)\)/).replace("label",Ot._label).getRegex(),reflink:Zn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ot._label).getRegex()};Ot.gfm={...Ot.normal,escape:Zn(Ot.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Ot.gfm.url=Zn(Ot.gfm.url,"i").replace("email",Ot.gfm._extended_email).getRegex();Ot.breaks={...Ot.gfm,br:Zn(Ot.br).replace("{2,}","*").getRegex(),text:Zn(Ot.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function RK(i){return i.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Dx(i){let e="";for(let t=0;t<i.length;t++){const n=Math.random()>.5?"x"+i.charCodeAt(t).toString(16):i.charCodeAt(t).toString();e+="&#"+n+";"}return e}class eo{constructor(e){Xn(this,"tokens");Xn(this,"options");Xn(this,"state");Xn(this,"tokenizer");Xn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Sc,this.options.tokenizer=this.options.tokenizer||new wm,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:tn.normal,inline:Ot.normal};this.options.pedantic?(t.block=tn.pedantic,t.inline=Ot.pedantic):this.options.gfm&&(t.block=tn.gfm,this.options.breaks?t.inline=Ot.breaks:t.inline=Ot.gfm),this.tokenizer.rules=t}static get rules(){return{block:tn,inline:Ot}}static lex(e,t){return new eo(t).lex(e)}static lexInline(e,t){return new eo(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,A,c)=>A+"    ".repeat(c.length));let n,r,s,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(n=o.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const A=e.slice(1);let c;this.options.extensions.startBlock.forEach(l=>{c=l.call({lexer:this},A),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){r=t[t.length-1],a&&r.type==="paragraph"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),a=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,s,a=e,o,A,c;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)l.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,o.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(A||(c=""),A=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(l=>(n=l.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,a,c)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,Dx)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,Dx))){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let l=1/0;const u=e.slice(1);let d;this.options.extensions.startInline.forEach(h=>{d=h.call({lexer:this},u),typeof d=="number"&&d>=0&&(l=Math.min(l,d))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(n=this.tokenizer.inlineText(s,RK)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(c=n.raw.slice(-1)),A=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return t}}class bm{constructor(e){Xn(this,"options");this.options=e||Sc}code(e,t,n){var s;const r=(s=(t||"").match(/^\S*/))==null?void 0:s[0];if(this.options.highlight){const a=this.options.highlight(e,r);a!=null&&a!==e&&(n=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+Nr(r)+'">'+(n?e:Nr(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Nr(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,n,r){if(this.options.headerIds){const s=this.options.headerPrefix+r.slug(n);return`<h${t} id="${s}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const r=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+r+s+`>
`+e+"</"+r+`>
`}listitem(e,t,n){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const r=Ux(this.options.sanitize,this.options.baseUrl,e);if(r===null)return n;e=r;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s}image(e,t,n){const r=Ux(this.options.sanitize,this.options.baseUrl,e);if(r===null)return n;e=r;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${t}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class y_{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class w_{constructor(){Xn(this,"seen");this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do r++,n=e+"-"+r;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class to{constructor(e){Xn(this,"options");Xn(this,"renderer");Xn(this,"textRenderer");Xn(this,"slugger");this.options=e||Sc,this.options.renderer=this.options.renderer||new bm,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new y_,this.slugger=new w_}static parse(e,t){return new to(t).parse(e)}static parseInline(e,t){return new to(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const a=s,o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){n+=o||"";continue}}switch(s.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{const a=s;n+=this.renderer.heading(this.parseInline(a.tokens),a.depth,OC(this.parseInline(a.tokens,this.textRenderer)),this.slugger);continue}case"code":{const a=s;n+=this.renderer.code(a.text,a.lang,!!a.escaped);continue}case"table":{const a=s;let o="",A="";for(let l=0;l<a.header.length;l++)A+=this.renderer.tablecell(this.parseInline(a.header[l].tokens),{header:!0,align:a.align[l]});o+=this.renderer.tablerow(A);let c="";for(let l=0;l<a.rows.length;l++){const u=a.rows[l];A="";for(let d=0;d<u.length;d++)A+=this.renderer.tablecell(this.parseInline(u[d].tokens),{header:!1,align:a.align[d]});c+=this.renderer.tablerow(A)}n+=this.renderer.table(o,c);continue}case"blockquote":{const a=s,o=this.parse(a.tokens);n+=this.renderer.blockquote(o);continue}case"list":{const a=s,o=a.ordered,A=a.start,c=a.loose;let l="";for(let u=0;u<a.items.length;u++){const d=a.items[u],h=d.checked,m=d.task;let y="";if(d.task){const g=this.renderer.checkbox(!!h);c?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=g+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=g+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:g}):y+=g}y+=this.parse(d.tokens,c),l+=this.renderer.listitem(y,m,!!h)}n+=this.renderer.list(l,o,A);continue}case"html":{const a=s;n+=this.renderer.html(a.text,a.block);continue}case"paragraph":{const a=s;n+=this.renderer.paragraph(this.parseInline(a.tokens));continue}case"text":{let a=s,o=a.tokens?this.parseInline(a.tokens):a.text;for(;r+1<e.length&&e[r+1].type==="text";)a=e[++r],o+=`
`+(a.tokens?this.parseInline(a.tokens):a.text);n+=t?this.renderer.paragraph(o):o;continue}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=a||"";continue}}switch(s.type){case"escape":{const a=s;n+=t.text(a.text);break}case"html":{const a=s;n+=t.html(a.text);break}case"link":{const a=s;n+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{const a=s;n+=t.image(a.href,a.title,a.text);break}case"strong":{const a=s;n+=t.strong(this.parseInline(a.tokens,t));break}case"em":{const a=s;n+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{const a=s;n+=t.codespan(a.text);break}case"br":{n+=t.br();break}case"del":{const a=s;n+=t.del(this.parseInline(a.tokens,t));break}case"text":{const a=s;n+=t.text(a.text);break}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}}class Kd{constructor(e){Xn(this,"options");this.options=e||Sc}preprocess(e){return e}postprocess(e){return e}}Xn(Kd,"passThroughHooks",new Set(["preprocess","postprocess"]));var If,_b,lg,QC;class BK{constructor(...e){D0(this,If);D0(this,lg);Xn(this,"defaults",g_());Xn(this,"options",this.setOptions);Xn(this,"parse",wa(this,If,_b).call(this,eo.lex,to.parse));Xn(this,"parseInline",wa(this,If,_b).call(this,eo.lexInline,to.parseInline));Xn(this,"Parser",to);Xn(this,"parser",to.parse);Xn(this,"Renderer",bm);Xn(this,"TextRenderer",y_);Xn(this,"Lexer",eo);Xn(this,"lexer",eo.lex);Xn(this,"Tokenizer",wm);Xn(this,"Slugger",w_);Xn(this,"Hooks",Kd);this.use(...e)}walkTokens(e,t){var r,s;let n=[];for(const a of e)switch(n=n.concat(t.call(this,a)),a.type){case"table":{const o=a;for(const A of o.header)n=n.concat(this.walkTokens(A.tokens,t));for(const A of o.rows)for(const c of A)n=n.concat(this.walkTokens(c.tokens,t));break}case"list":{const o=a;n=n.concat(this.walkTokens(o.items,t));break}default:{const o=a;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[o.type]?this.defaults.extensions.childTokens[o.type].forEach(A=>{n=n.concat(this.walkTokens(o[A],t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const a=t.renderers[s.name];a?t.renderers[s.name]=function(...o){let A=s.renderer.apply(this,o);return A===!1&&(A=a.apply(this,o)),A}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=t[s.level];a?a.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),r.extensions=t),n.renderer){const s=this.defaults.renderer||new bm(this.defaults);for(const a in n.renderer){const o=n.renderer[a],A=a,c=s[A];s[A]=(...l)=>{let u=o.apply(s,l);return u===!1&&(u=c.apply(s,l)),u||""}}r.renderer=s}if(n.tokenizer){const s=this.defaults.tokenizer||new wm(this.defaults);for(const a in n.tokenizer){const o=n.tokenizer[a],A=a,c=s[A];s[A]=(...l)=>{let u=o.apply(s,l);return u===!1&&(u=c.apply(s,l)),u}}r.tokenizer=s}if(n.hooks){const s=this.defaults.hooks||new Kd;for(const a in n.hooks){const o=n.hooks[a],A=a,c=s[A];Kd.passThroughHooks.has(a)?s[A]=l=>{if(this.defaults.async)return Promise.resolve(o.call(s,l)).then(d=>c.call(s,d));const u=o.call(s,l);return c.call(s,u)}:s[A]=(...l)=>{let u=o.apply(s,l);return u===!1&&(u=c.apply(s,l)),u}}r.hooks=s}if(n.walkTokens){const s=this.defaults.walkTokens,a=n.walkTokens;r.walkTokens=function(o){let A=[];return A.push(a.call(this,o)),s&&(A=A.concat(s.call(this,o))),A}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}If=new WeakSet,_b=function(e,t){return(n,r,s)=>{typeof r=="function"&&(s=r,r=null);const a={...r},o={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const A=wa(this,lg,QC).call(this,!!o.silent,!!o.async,s);if(typeof n>"u"||n===null)return A(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return A(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(vK(o,s),o.hooks&&(o.hooks.options=o),s){const c=s,l=o.highlight;let u;try{o.hooks&&(n=o.hooks.preprocess(n)),u=e(n,o)}catch(m){return A(m)}const d=m=>{let y;if(!m)try{o.walkTokens&&this.walkTokens(u,o.walkTokens),y=t(u,o),o.hooks&&(y=o.hooks.postprocess(y))}catch(g){m=g}return o.highlight=l,m?A(m):c(null,y)};if(!l||l.length<3||(delete o.highlight,!u.length))return d();let h=0;this.walkTokens(u,m=>{m.type==="code"&&(h++,setTimeout(()=>{l(m.text,m.lang,(y,g)=>{if(y)return d(y);g!=null&&g!==m.text&&(m.text=g,m.escaped=!0),h--,h===0&&d()})},0))}),h===0&&d();return}if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(c=>e(c,o)).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>t(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(A);try{o.hooks&&(n=o.hooks.preprocess(n));const c=e(n,o);o.walkTokens&&this.walkTokens(c,o.walkTokens);let l=t(c,o);return o.hooks&&(l=o.hooks.postprocess(l)),l}catch(c){return A(c)}}},lg=new WeakSet,QC=function(e,t,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+Nr(r.message+"",!0)+"</pre>";if(t)return Promise.resolve(s);if(n){n(null,s);return}return s}if(t)return Promise.reject(r);if(n){n(r);return}throw r}};const Ec=new BK;function $n(i,e,t){return Ec.parse(i,e,t)}$n.options=$n.setOptions=function(i){return Ec.setOptions(i),$n.defaults=Ec.defaults,LC($n.defaults),$n};$n.getDefaults=g_;$n.defaults=Sc;$n.use=function(...i){return Ec.use(...i),$n.defaults=Ec.defaults,LC($n.defaults),$n};$n.walkTokens=function(i,e){return Ec.walkTokens(i,e)};$n.parseInline=Ec.parseInline;$n.Parser=to;$n.parser=to.parse;$n.Renderer=bm;$n.TextRenderer=y_;$n.Lexer=eo;$n.lexer=eo.lex;$n.Tokenizer=wm;$n.Slugger=w_;$n.Hooks=Kd;$n.parse=$n;$n.options;$n.setOptions;$n.use;$n.walkTokens;$n.parseInline;to.parse;eo.lex;class Cs{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new Cs(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class ao{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new ao(t,Cs.range(this,e))}}class Rt{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,r,s,a=t&&t.loc;if(a&&a.start<=a.end){var o=a.lexer.input;r=a.start,s=a.end,r===o.length?n+=" at end of input: ":n+=" at position "+(r+1)+": ";var A=o.slice(r,s).replace(/[^]/g,"$&\u0332"),c;r>15?c="\u2026"+o.slice(r-15,r):c=o.slice(0,r);var l;s+15<o.length?l=o.slice(s,s+15)+"\u2026":l=o.slice(s),n+=c+A+l}var u=new Error(n);return u.name="ParseError",u.__proto__=Rt.prototype,u.position=r,r!=null&&s!=null&&(u.length=s-r),u.rawMessage=e,u}}Rt.prototype.__proto__=Error.prototype;var CK=function(e,t){return e.indexOf(t)!==-1},SK=function(e,t){return e===void 0?t:e},NK=/([A-Z])/g,MK=function(e){return e.replace(NK,"-$1").toLowerCase()},TK={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},GK=/[&><"']/g;function FK(i){return String(i).replace(GK,e=>TK[e])}var HC=function i(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?i(e.body[0]):e:e.type==="font"?i(e.body):e},IK=function(e){var t=HC(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},UK=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},PK=function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return t!=null?t[1]:"_relative"},pn={contains:CK,deflt:SK,escape:FK,hyphenate:MK,getBaseElem:HC,isCharacterBox:IK,protocolFromUrl:PK},L1={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:i=>"#"+i},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(i,e)=>(e.push(i),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:i=>Math.max(0,i),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:i=>Math.max(0,i),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:i=>Math.max(0,i),cli:"-e, --max-expand <n>",cliProcessor:i=>i==="Infinity"?1/0:parseInt(i)},globalGroup:{type:"boolean",cli:!1}};function LK(i){if(i.default)return i.default;var e=i.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class b_{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in L1)if(L1.hasOwnProperty(t)){var n=L1[t];this[t]=e[t]!==void 0?n.processor?n.processor(e[t]):e[t]:LK(n)}}reportNonstrict(e,t,n){var r=this.strict;if(typeof r=="function"&&(r=r(e,t,n)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new Rt("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),n);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,n){var r=this.strict;if(typeof r=="function")try{r=r(e,t,n)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+t+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=pn.protocolFromUrl(e.url));var t=typeof this.trust=="function"?this.trust(e):this.trust;return Boolean(t)}}class PA{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return Xa[DK[this.id]]}sub(){return Xa[kK[this.id]]}fracNum(){return Xa[OK[this.id]]}fracDen(){return Xa[QK[this.id]]}cramp(){return Xa[HK[this.id]]}text(){return Xa[zK[this.id]]}isTight(){return this.size>=2}}var E_=0,Em=1,Vl=2,rA=3,gf=4,ra=5,ou=6,Hr=7,Xa=[new PA(E_,0,!1),new PA(Em,0,!0),new PA(Vl,1,!1),new PA(rA,1,!0),new PA(gf,2,!1),new PA(ra,2,!0),new PA(ou,3,!1),new PA(Hr,3,!0)],DK=[gf,ra,gf,ra,ou,Hr,ou,Hr],kK=[ra,ra,ra,ra,Hr,Hr,Hr,Hr],OK=[Vl,rA,gf,ra,ou,Hr,ou,Hr],QK=[rA,rA,ra,ra,Hr,Hr,Hr,Hr],HK=[Em,Em,rA,rA,ra,ra,Hr,Hr],zK=[E_,Em,Vl,rA,Vl,rA,Vl,rA],sn={DISPLAY:Xa[E_],TEXT:Xa[Vl],SCRIPT:Xa[gf],SCRIPTSCRIPT:Xa[ou]},vb=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function VK(i){for(var e=0;e<vb.length;e++)for(var t=vb[e],n=0;n<t.blocks.length;n++){var r=t.blocks[n];if(i>=r[0]&&i<=r[1])return t.name}return null}var D1=[];vb.forEach(i=>i.blocks.forEach(e=>D1.push(...e)));function zC(i){for(var e=0;e<D1.length;e+=2)if(i>=D1[e]&&i<=D1[e+1])return!0;return!1}var Yc=80,KK=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},$K=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},WK=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},qK=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},YK=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},XK=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},jK=function(e,t,n){var r=n-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},ZK=function(e,t,n){t=1e3*t;var r="";switch(e){case"sqrtMain":r=KK(t,Yc);break;case"sqrtSize1":r=$K(t,Yc);break;case"sqrtSize2":r=WK(t,Yc);break;case"sqrtSize3":r=qK(t,Yc);break;case"sqrtSize4":r=YK(t,Yc);break;case"sqrtTall":r=jK(t,Yc,n)}return r},JK=function(e,t){switch(e){case"\u239C":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"\u2223":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"\u2225":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"\u239F":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"\u23A2":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"\u23A5":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"\u23AA":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"\u23D0":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"\u2016":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},kx={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},e$=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Of{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return pn.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var no={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Xh={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Ox={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function t$(i,e){no[i]=e}function __(i,e,t){if(!no[e])throw new Error("Font metrics not found for font: "+e+".");var n=i.charCodeAt(0),r=no[e][n];if(!r&&i[0]in Ox&&(n=Ox[i[0]].charCodeAt(0),r=no[e][n]),!r&&t==="text"&&zC(n)&&(r=no[e][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var S3={};function n$(i){var e;if(i>=5?e=0:i>=3?e=1:e=2,!S3[e]){var t=S3[e]={cssEmPerMu:Xh.quad[e]/18};for(var n in Xh)Xh.hasOwnProperty(n)&&(t[n]=Xh[n][e])}return S3[e]}var i$=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Qx=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Hx=function(e,t){return t.size<2?e:i$[e-1][t.size-1]};class Jo{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Jo.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Qx[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new Jo(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Hx(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Qx[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=Hx(Jo.BASESIZE,e);return this.size===t&&this.textSize===Jo.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Jo.BASESIZE?["sizing","reset-size"+this.size,"size"+Jo.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=n$(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Jo.BASESIZE=6;var xb={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},r$={ex:!0,em:!0,mu:!0},VC=function(e){return typeof e!="string"&&(e=e.unit),e in xb||e in r$||e==="ex"},Ti=function(e,t){var n;if(e.unit in xb)n=xb[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")n=t.fontMetrics().cssEmPerMu;else{var r;if(t.style.isTight()?r=t.havingStyle(t.style.text()):r=t,e.unit==="ex")n=r.fontMetrics().xHeight;else if(e.unit==="em")n=r.fontMetrics().quad;else throw new Rt("Invalid unit: '"+e.unit+"'");r!==t&&(n*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},Tt=function(e){return+e.toFixed(4)+"em"},d0=function(e){return e.filter(t=>t).join(" ")},KC=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var r=t.getColor();r&&(this.style.color=r)}},$C=function(e){var t=document.createElement(e);t.className=d0(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&t.setAttribute(r,this.attributes[r]);for(var s=0;s<this.children.length;s++)t.appendChild(this.children[s].toNode());return t},WC=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+pn.escape(d0(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=pn.hyphenate(r)+":"+this.style[r]+";");n&&(t+=' style="'+pn.escape(n)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(t+=" "+s+'="'+pn.escape(this.attributes[s])+'"');t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+="</"+e+">",t};class Qf{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,KC.call(this,e,n,r),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return pn.contains(this.classes,e)}toNode(){return $C.call(this,"span")}toMarkup(){return WC.call(this,"span")}}class v_{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,KC.call(this,t,r),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return pn.contains(this.classes,e)}toNode(){return $C.call(this,"a")}toMarkup(){return WC.call(this,"a")}}class s${constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return pn.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=pn.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+pn.escape(t)+'"'),e+="'/>",e}}var a$={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"};class ua{constructor(e,t,n,r,s,a,o,A){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=r||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=A||{},this.maxFontSize=0;var c=VK(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=a$[this.text])}hasClass(e){return pn.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=Tt(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=d0(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(t=t||document.createElement("span"),t.style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=pn.escape(d0(this.classes)),t+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=pn.hyphenate(r)+":"+this.style[r]+";");n&&(e=!0,t+=' style="'+pn.escape(n)+'"');var s=pn.escape(this.text);return e?(t+=">",t+=s,t+="</span>",t):s}}class uA{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class f0{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",kx[this.pathName]),t}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+kx[this.pathName]+"'/>"}}class Rb{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>",e}}function zx(i){if(i instanceof ua)return i;throw new Error("Expected symbolNode but got "+String(i)+".")}function o$(i){if(i instanceof Qf)return i;throw new Error("Expected span<HtmlDomNode> but got "+String(i)+".")}var A$={bin:1,close:1,inner:1,open:1,punct:1,rel:1},c$={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},di={math:{},text:{}};function F(i,e,t,n,r,s){di[i][r]={font:e,group:t,replace:n},s&&n&&(di[i][n]=di[i][r])}var O="math",Et="text",j="main",Ee="ams",Bi="accent-token",Ht="bin",Wr="close",wu="inner",cn="mathord",Xi="op-token",Gs="open",_g="punct",ve="rel",bA="spacing",Ue="textord";F(O,j,ve,"\u2261","\\equiv",!0);F(O,j,ve,"\u227A","\\prec",!0);F(O,j,ve,"\u227B","\\succ",!0);F(O,j,ve,"\u223C","\\sim",!0);F(O,j,ve,"\u22A5","\\perp");F(O,j,ve,"\u2AAF","\\preceq",!0);F(O,j,ve,"\u2AB0","\\succeq",!0);F(O,j,ve,"\u2243","\\simeq",!0);F(O,j,ve,"\u2223","\\mid",!0);F(O,j,ve,"\u226A","\\ll",!0);F(O,j,ve,"\u226B","\\gg",!0);F(O,j,ve,"\u224D","\\asymp",!0);F(O,j,ve,"\u2225","\\parallel");F(O,j,ve,"\u22C8","\\bowtie",!0);F(O,j,ve,"\u2323","\\smile",!0);F(O,j,ve,"\u2291","\\sqsubseteq",!0);F(O,j,ve,"\u2292","\\sqsupseteq",!0);F(O,j,ve,"\u2250","\\doteq",!0);F(O,j,ve,"\u2322","\\frown",!0);F(O,j,ve,"\u220B","\\ni",!0);F(O,j,ve,"\u221D","\\propto",!0);F(O,j,ve,"\u22A2","\\vdash",!0);F(O,j,ve,"\u22A3","\\dashv",!0);F(O,j,ve,"\u220B","\\owns");F(O,j,_g,".","\\ldotp");F(O,j,_g,"\u22C5","\\cdotp");F(O,j,Ue,"#","\\#");F(Et,j,Ue,"#","\\#");F(O,j,Ue,"&","\\&");F(Et,j,Ue,"&","\\&");F(O,j,Ue,"\u2135","\\aleph",!0);F(O,j,Ue,"\u2200","\\forall",!0);F(O,j,Ue,"\u210F","\\hbar",!0);F(O,j,Ue,"\u2203","\\exists",!0);F(O,j,Ue,"\u2207","\\nabla",!0);F(O,j,Ue,"\u266D","\\flat",!0);F(O,j,Ue,"\u2113","\\ell",!0);F(O,j,Ue,"\u266E","\\natural",!0);F(O,j,Ue,"\u2663","\\clubsuit",!0);F(O,j,Ue,"\u2118","\\wp",!0);F(O,j,Ue,"\u266F","\\sharp",!0);F(O,j,Ue,"\u2662","\\diamondsuit",!0);F(O,j,Ue,"\u211C","\\Re",!0);F(O,j,Ue,"\u2661","\\heartsuit",!0);F(O,j,Ue,"\u2111","\\Im",!0);F(O,j,Ue,"\u2660","\\spadesuit",!0);F(O,j,Ue,"\xA7","\\S",!0);F(Et,j,Ue,"\xA7","\\S");F(O,j,Ue,"\xB6","\\P",!0);F(Et,j,Ue,"\xB6","\\P");F(O,j,Ue,"\u2020","\\dag");F(Et,j,Ue,"\u2020","\\dag");F(Et,j,Ue,"\u2020","\\textdagger");F(O,j,Ue,"\u2021","\\ddag");F(Et,j,Ue,"\u2021","\\ddag");F(Et,j,Ue,"\u2021","\\textdaggerdbl");F(O,j,Wr,"\u23B1","\\rmoustache",!0);F(O,j,Gs,"\u23B0","\\lmoustache",!0);F(O,j,Wr,"\u27EF","\\rgroup",!0);F(O,j,Gs,"\u27EE","\\lgroup",!0);F(O,j,Ht,"\u2213","\\mp",!0);F(O,j,Ht,"\u2296","\\ominus",!0);F(O,j,Ht,"\u228E","\\uplus",!0);F(O,j,Ht,"\u2293","\\sqcap",!0);F(O,j,Ht,"\u2217","\\ast");F(O,j,Ht,"\u2294","\\sqcup",!0);F(O,j,Ht,"\u25EF","\\bigcirc",!0);F(O,j,Ht,"\u2219","\\bullet",!0);F(O,j,Ht,"\u2021","\\ddagger");F(O,j,Ht,"\u2240","\\wr",!0);F(O,j,Ht,"\u2A3F","\\amalg");F(O,j,Ht,"&","\\And");F(O,j,ve,"\u27F5","\\longleftarrow",!0);F(O,j,ve,"\u21D0","\\Leftarrow",!0);F(O,j,ve,"\u27F8","\\Longleftarrow",!0);F(O,j,ve,"\u27F6","\\longrightarrow",!0);F(O,j,ve,"\u21D2","\\Rightarrow",!0);F(O,j,ve,"\u27F9","\\Longrightarrow",!0);F(O,j,ve,"\u2194","\\leftrightarrow",!0);F(O,j,ve,"\u27F7","\\longleftrightarrow",!0);F(O,j,ve,"\u21D4","\\Leftrightarrow",!0);F(O,j,ve,"\u27FA","\\Longleftrightarrow",!0);F(O,j,ve,"\u21A6","\\mapsto",!0);F(O,j,ve,"\u27FC","\\longmapsto",!0);F(O,j,ve,"\u2197","\\nearrow",!0);F(O,j,ve,"\u21A9","\\hookleftarrow",!0);F(O,j,ve,"\u21AA","\\hookrightarrow",!0);F(O,j,ve,"\u2198","\\searrow",!0);F(O,j,ve,"\u21BC","\\leftharpoonup",!0);F(O,j,ve,"\u21C0","\\rightharpoonup",!0);F(O,j,ve,"\u2199","\\swarrow",!0);F(O,j,ve,"\u21BD","\\leftharpoondown",!0);F(O,j,ve,"\u21C1","\\rightharpoondown",!0);F(O,j,ve,"\u2196","\\nwarrow",!0);F(O,j,ve,"\u21CC","\\rightleftharpoons",!0);F(O,Ee,ve,"\u226E","\\nless",!0);F(O,Ee,ve,"\uE010","\\@nleqslant");F(O,Ee,ve,"\uE011","\\@nleqq");F(O,Ee,ve,"\u2A87","\\lneq",!0);F(O,Ee,ve,"\u2268","\\lneqq",!0);F(O,Ee,ve,"\uE00C","\\@lvertneqq");F(O,Ee,ve,"\u22E6","\\lnsim",!0);F(O,Ee,ve,"\u2A89","\\lnapprox",!0);F(O,Ee,ve,"\u2280","\\nprec",!0);F(O,Ee,ve,"\u22E0","\\npreceq",!0);F(O,Ee,ve,"\u22E8","\\precnsim",!0);F(O,Ee,ve,"\u2AB9","\\precnapprox",!0);F(O,Ee,ve,"\u2241","\\nsim",!0);F(O,Ee,ve,"\uE006","\\@nshortmid");F(O,Ee,ve,"\u2224","\\nmid",!0);F(O,Ee,ve,"\u22AC","\\nvdash",!0);F(O,Ee,ve,"\u22AD","\\nvDash",!0);F(O,Ee,ve,"\u22EA","\\ntriangleleft");F(O,Ee,ve,"\u22EC","\\ntrianglelefteq",!0);F(O,Ee,ve,"\u228A","\\subsetneq",!0);F(O,Ee,ve,"\uE01A","\\@varsubsetneq");F(O,Ee,ve,"\u2ACB","\\subsetneqq",!0);F(O,Ee,ve,"\uE017","\\@varsubsetneqq");F(O,Ee,ve,"\u226F","\\ngtr",!0);F(O,Ee,ve,"\uE00F","\\@ngeqslant");F(O,Ee,ve,"\uE00E","\\@ngeqq");F(O,Ee,ve,"\u2A88","\\gneq",!0);F(O,Ee,ve,"\u2269","\\gneqq",!0);F(O,Ee,ve,"\uE00D","\\@gvertneqq");F(O,Ee,ve,"\u22E7","\\gnsim",!0);F(O,Ee,ve,"\u2A8A","\\gnapprox",!0);F(O,Ee,ve,"\u2281","\\nsucc",!0);F(O,Ee,ve,"\u22E1","\\nsucceq",!0);F(O,Ee,ve,"\u22E9","\\succnsim",!0);F(O,Ee,ve,"\u2ABA","\\succnapprox",!0);F(O,Ee,ve,"\u2246","\\ncong",!0);F(O,Ee,ve,"\uE007","\\@nshortparallel");F(O,Ee,ve,"\u2226","\\nparallel",!0);F(O,Ee,ve,"\u22AF","\\nVDash",!0);F(O,Ee,ve,"\u22EB","\\ntriangleright");F(O,Ee,ve,"\u22ED","\\ntrianglerighteq",!0);F(O,Ee,ve,"\uE018","\\@nsupseteqq");F(O,Ee,ve,"\u228B","\\supsetneq",!0);F(O,Ee,ve,"\uE01B","\\@varsupsetneq");F(O,Ee,ve,"\u2ACC","\\supsetneqq",!0);F(O,Ee,ve,"\uE019","\\@varsupsetneqq");F(O,Ee,ve,"\u22AE","\\nVdash",!0);F(O,Ee,ve,"\u2AB5","\\precneqq",!0);F(O,Ee,ve,"\u2AB6","\\succneqq",!0);F(O,Ee,ve,"\uE016","\\@nsubseteqq");F(O,Ee,Ht,"\u22B4","\\unlhd");F(O,Ee,Ht,"\u22B5","\\unrhd");F(O,Ee,ve,"\u219A","\\nleftarrow",!0);F(O,Ee,ve,"\u219B","\\nrightarrow",!0);F(O,Ee,ve,"\u21CD","\\nLeftarrow",!0);F(O,Ee,ve,"\u21CF","\\nRightarrow",!0);F(O,Ee,ve,"\u21AE","\\nleftrightarrow",!0);F(O,Ee,ve,"\u21CE","\\nLeftrightarrow",!0);F(O,Ee,ve,"\u25B3","\\vartriangle");F(O,Ee,Ue,"\u210F","\\hslash");F(O,Ee,Ue,"\u25BD","\\triangledown");F(O,Ee,Ue,"\u25CA","\\lozenge");F(O,Ee,Ue,"\u24C8","\\circledS");F(O,Ee,Ue,"\xAE","\\circledR");F(Et,Ee,Ue,"\xAE","\\circledR");F(O,Ee,Ue,"\u2221","\\measuredangle",!0);F(O,Ee,Ue,"\u2204","\\nexists");F(O,Ee,Ue,"\u2127","\\mho");F(O,Ee,Ue,"\u2132","\\Finv",!0);F(O,Ee,Ue,"\u2141","\\Game",!0);F(O,Ee,Ue,"\u2035","\\backprime");F(O,Ee,Ue,"\u25B2","\\blacktriangle");F(O,Ee,Ue,"\u25BC","\\blacktriangledown");F(O,Ee,Ue,"\u25A0","\\blacksquare");F(O,Ee,Ue,"\u29EB","\\blacklozenge");F(O,Ee,Ue,"\u2605","\\bigstar");F(O,Ee,Ue,"\u2222","\\sphericalangle",!0);F(O,Ee,Ue,"\u2201","\\complement",!0);F(O,Ee,Ue,"\xF0","\\eth",!0);F(Et,j,Ue,"\xF0","\xF0");F(O,Ee,Ue,"\u2571","\\diagup");F(O,Ee,Ue,"\u2572","\\diagdown");F(O,Ee,Ue,"\u25A1","\\square");F(O,Ee,Ue,"\u25A1","\\Box");F(O,Ee,Ue,"\u25CA","\\Diamond");F(O,Ee,Ue,"\xA5","\\yen",!0);F(Et,Ee,Ue,"\xA5","\\yen",!0);F(O,Ee,Ue,"\u2713","\\checkmark",!0);F(Et,Ee,Ue,"\u2713","\\checkmark");F(O,Ee,Ue,"\u2136","\\beth",!0);F(O,Ee,Ue,"\u2138","\\daleth",!0);F(O,Ee,Ue,"\u2137","\\gimel",!0);F(O,Ee,Ue,"\u03DD","\\digamma",!0);F(O,Ee,Ue,"\u03F0","\\varkappa");F(O,Ee,Gs,"\u250C","\\@ulcorner",!0);F(O,Ee,Wr,"\u2510","\\@urcorner",!0);F(O,Ee,Gs,"\u2514","\\@llcorner",!0);F(O,Ee,Wr,"\u2518","\\@lrcorner",!0);F(O,Ee,ve,"\u2266","\\leqq",!0);F(O,Ee,ve,"\u2A7D","\\leqslant",!0);F(O,Ee,ve,"\u2A95","\\eqslantless",!0);F(O,Ee,ve,"\u2272","\\lesssim",!0);F(O,Ee,ve,"\u2A85","\\lessapprox",!0);F(O,Ee,ve,"\u224A","\\approxeq",!0);F(O,Ee,Ht,"\u22D6","\\lessdot");F(O,Ee,ve,"\u22D8","\\lll",!0);F(O,Ee,ve,"\u2276","\\lessgtr",!0);F(O,Ee,ve,"\u22DA","\\lesseqgtr",!0);F(O,Ee,ve,"\u2A8B","\\lesseqqgtr",!0);F(O,Ee,ve,"\u2251","\\doteqdot");F(O,Ee,ve,"\u2253","\\risingdotseq",!0);F(O,Ee,ve,"\u2252","\\fallingdotseq",!0);F(O,Ee,ve,"\u223D","\\backsim",!0);F(O,Ee,ve,"\u22CD","\\backsimeq",!0);F(O,Ee,ve,"\u2AC5","\\subseteqq",!0);F(O,Ee,ve,"\u22D0","\\Subset",!0);F(O,Ee,ve,"\u228F","\\sqsubset",!0);F(O,Ee,ve,"\u227C","\\preccurlyeq",!0);F(O,Ee,ve,"\u22DE","\\curlyeqprec",!0);F(O,Ee,ve,"\u227E","\\precsim",!0);F(O,Ee,ve,"\u2AB7","\\precapprox",!0);F(O,Ee,ve,"\u22B2","\\vartriangleleft");F(O,Ee,ve,"\u22B4","\\trianglelefteq");F(O,Ee,ve,"\u22A8","\\vDash",!0);F(O,Ee,ve,"\u22AA","\\Vvdash",!0);F(O,Ee,ve,"\u2323","\\smallsmile");F(O,Ee,ve,"\u2322","\\smallfrown");F(O,Ee,ve,"\u224F","\\bumpeq",!0);F(O,Ee,ve,"\u224E","\\Bumpeq",!0);F(O,Ee,ve,"\u2267","\\geqq",!0);F(O,Ee,ve,"\u2A7E","\\geqslant",!0);F(O,Ee,ve,"\u2A96","\\eqslantgtr",!0);F(O,Ee,ve,"\u2273","\\gtrsim",!0);F(O,Ee,ve,"\u2A86","\\gtrapprox",!0);F(O,Ee,Ht,"\u22D7","\\gtrdot");F(O,Ee,ve,"\u22D9","\\ggg",!0);F(O,Ee,ve,"\u2277","\\gtrless",!0);F(O,Ee,ve,"\u22DB","\\gtreqless",!0);F(O,Ee,ve,"\u2A8C","\\gtreqqless",!0);F(O,Ee,ve,"\u2256","\\eqcirc",!0);F(O,Ee,ve,"\u2257","\\circeq",!0);F(O,Ee,ve,"\u225C","\\triangleq",!0);F(O,Ee,ve,"\u223C","\\thicksim");F(O,Ee,ve,"\u2248","\\thickapprox");F(O,Ee,ve,"\u2AC6","\\supseteqq",!0);F(O,Ee,ve,"\u22D1","\\Supset",!0);F(O,Ee,ve,"\u2290","\\sqsupset",!0);F(O,Ee,ve,"\u227D","\\succcurlyeq",!0);F(O,Ee,ve,"\u22DF","\\curlyeqsucc",!0);F(O,Ee,ve,"\u227F","\\succsim",!0);F(O,Ee,ve,"\u2AB8","\\succapprox",!0);F(O,Ee,ve,"\u22B3","\\vartriangleright");F(O,Ee,ve,"\u22B5","\\trianglerighteq");F(O,Ee,ve,"\u22A9","\\Vdash",!0);F(O,Ee,ve,"\u2223","\\shortmid");F(O,Ee,ve,"\u2225","\\shortparallel");F(O,Ee,ve,"\u226C","\\between",!0);F(O,Ee,ve,"\u22D4","\\pitchfork",!0);F(O,Ee,ve,"\u221D","\\varpropto");F(O,Ee,ve,"\u25C0","\\blacktriangleleft");F(O,Ee,ve,"\u2234","\\therefore",!0);F(O,Ee,ve,"\u220D","\\backepsilon");F(O,Ee,ve,"\u25B6","\\blacktriangleright");F(O,Ee,ve,"\u2235","\\because",!0);F(O,Ee,ve,"\u22D8","\\llless");F(O,Ee,ve,"\u22D9","\\gggtr");F(O,Ee,Ht,"\u22B2","\\lhd");F(O,Ee,Ht,"\u22B3","\\rhd");F(O,Ee,ve,"\u2242","\\eqsim",!0);F(O,j,ve,"\u22C8","\\Join");F(O,Ee,ve,"\u2251","\\Doteq",!0);F(O,Ee,Ht,"\u2214","\\dotplus",!0);F(O,Ee,Ht,"\u2216","\\smallsetminus");F(O,Ee,Ht,"\u22D2","\\Cap",!0);F(O,Ee,Ht,"\u22D3","\\Cup",!0);F(O,Ee,Ht,"\u2A5E","\\doublebarwedge",!0);F(O,Ee,Ht,"\u229F","\\boxminus",!0);F(O,Ee,Ht,"\u229E","\\boxplus",!0);F(O,Ee,Ht,"\u22C7","\\divideontimes",!0);F(O,Ee,Ht,"\u22C9","\\ltimes",!0);F(O,Ee,Ht,"\u22CA","\\rtimes",!0);F(O,Ee,Ht,"\u22CB","\\leftthreetimes",!0);F(O,Ee,Ht,"\u22CC","\\rightthreetimes",!0);F(O,Ee,Ht,"\u22CF","\\curlywedge",!0);F(O,Ee,Ht,"\u22CE","\\curlyvee",!0);F(O,Ee,Ht,"\u229D","\\circleddash",!0);F(O,Ee,Ht,"\u229B","\\circledast",!0);F(O,Ee,Ht,"\u22C5","\\centerdot");F(O,Ee,Ht,"\u22BA","\\intercal",!0);F(O,Ee,Ht,"\u22D2","\\doublecap");F(O,Ee,Ht,"\u22D3","\\doublecup");F(O,Ee,Ht,"\u22A0","\\boxtimes",!0);F(O,Ee,ve,"\u21E2","\\dashrightarrow",!0);F(O,Ee,ve,"\u21E0","\\dashleftarrow",!0);F(O,Ee,ve,"\u21C7","\\leftleftarrows",!0);F(O,Ee,ve,"\u21C6","\\leftrightarrows",!0);F(O,Ee,ve,"\u21DA","\\Lleftarrow",!0);F(O,Ee,ve,"\u219E","\\twoheadleftarrow",!0);F(O,Ee,ve,"\u21A2","\\leftarrowtail",!0);F(O,Ee,ve,"\u21AB","\\looparrowleft",!0);F(O,Ee,ve,"\u21CB","\\leftrightharpoons",!0);F(O,Ee,ve,"\u21B6","\\curvearrowleft",!0);F(O,Ee,ve,"\u21BA","\\circlearrowleft",!0);F(O,Ee,ve,"\u21B0","\\Lsh",!0);F(O,Ee,ve,"\u21C8","\\upuparrows",!0);F(O,Ee,ve,"\u21BF","\\upharpoonleft",!0);F(O,Ee,ve,"\u21C3","\\downharpoonleft",!0);F(O,j,ve,"\u22B6","\\origof",!0);F(O,j,ve,"\u22B7","\\imageof",!0);F(O,Ee,ve,"\u22B8","\\multimap",!0);F(O,Ee,ve,"\u21AD","\\leftrightsquigarrow",!0);F(O,Ee,ve,"\u21C9","\\rightrightarrows",!0);F(O,Ee,ve,"\u21C4","\\rightleftarrows",!0);F(O,Ee,ve,"\u21A0","\\twoheadrightarrow",!0);F(O,Ee,ve,"\u21A3","\\rightarrowtail",!0);F(O,Ee,ve,"\u21AC","\\looparrowright",!0);F(O,Ee,ve,"\u21B7","\\curvearrowright",!0);F(O,Ee,ve,"\u21BB","\\circlearrowright",!0);F(O,Ee,ve,"\u21B1","\\Rsh",!0);F(O,Ee,ve,"\u21CA","\\downdownarrows",!0);F(O,Ee,ve,"\u21BE","\\upharpoonright",!0);F(O,Ee,ve,"\u21C2","\\downharpoonright",!0);F(O,Ee,ve,"\u21DD","\\rightsquigarrow",!0);F(O,Ee,ve,"\u21DD","\\leadsto");F(O,Ee,ve,"\u21DB","\\Rrightarrow",!0);F(O,Ee,ve,"\u21BE","\\restriction");F(O,j,Ue,"\u2018","`");F(O,j,Ue,"$","\\$");F(Et,j,Ue,"$","\\$");F(Et,j,Ue,"$","\\textdollar");F(O,j,Ue,"%","\\%");F(Et,j,Ue,"%","\\%");F(O,j,Ue,"_","\\_");F(Et,j,Ue,"_","\\_");F(Et,j,Ue,"_","\\textunderscore");F(O,j,Ue,"\u2220","\\angle",!0);F(O,j,Ue,"\u221E","\\infty",!0);F(O,j,Ue,"\u2032","\\prime");F(O,j,Ue,"\u25B3","\\triangle");F(O,j,Ue,"\u0393","\\Gamma",!0);F(O,j,Ue,"\u0394","\\Delta",!0);F(O,j,Ue,"\u0398","\\Theta",!0);F(O,j,Ue,"\u039B","\\Lambda",!0);F(O,j,Ue,"\u039E","\\Xi",!0);F(O,j,Ue,"\u03A0","\\Pi",!0);F(O,j,Ue,"\u03A3","\\Sigma",!0);F(O,j,Ue,"\u03A5","\\Upsilon",!0);F(O,j,Ue,"\u03A6","\\Phi",!0);F(O,j,Ue,"\u03A8","\\Psi",!0);F(O,j,Ue,"\u03A9","\\Omega",!0);F(O,j,Ue,"A","\u0391");F(O,j,Ue,"B","\u0392");F(O,j,Ue,"E","\u0395");F(O,j,Ue,"Z","\u0396");F(O,j,Ue,"H","\u0397");F(O,j,Ue,"I","\u0399");F(O,j,Ue,"K","\u039A");F(O,j,Ue,"M","\u039C");F(O,j,Ue,"N","\u039D");F(O,j,Ue,"O","\u039F");F(O,j,Ue,"P","\u03A1");F(O,j,Ue,"T","\u03A4");F(O,j,Ue,"X","\u03A7");F(O,j,Ue,"\xAC","\\neg",!0);F(O,j,Ue,"\xAC","\\lnot");F(O,j,Ue,"\u22A4","\\top");F(O,j,Ue,"\u22A5","\\bot");F(O,j,Ue,"\u2205","\\emptyset");F(O,Ee,Ue,"\u2205","\\varnothing");F(O,j,cn,"\u03B1","\\alpha",!0);F(O,j,cn,"\u03B2","\\beta",!0);F(O,j,cn,"\u03B3","\\gamma",!0);F(O,j,cn,"\u03B4","\\delta",!0);F(O,j,cn,"\u03F5","\\epsilon",!0);F(O,j,cn,"\u03B6","\\zeta",!0);F(O,j,cn,"\u03B7","\\eta",!0);F(O,j,cn,"\u03B8","\\theta",!0);F(O,j,cn,"\u03B9","\\iota",!0);F(O,j,cn,"\u03BA","\\kappa",!0);F(O,j,cn,"\u03BB","\\lambda",!0);F(O,j,cn,"\u03BC","\\mu",!0);F(O,j,cn,"\u03BD","\\nu",!0);F(O,j,cn,"\u03BE","\\xi",!0);F(O,j,cn,"\u03BF","\\omicron",!0);F(O,j,cn,"\u03C0","\\pi",!0);F(O,j,cn,"\u03C1","\\rho",!0);F(O,j,cn,"\u03C3","\\sigma",!0);F(O,j,cn,"\u03C4","\\tau",!0);F(O,j,cn,"\u03C5","\\upsilon",!0);F(O,j,cn,"\u03D5","\\phi",!0);F(O,j,cn,"\u03C7","\\chi",!0);F(O,j,cn,"\u03C8","\\psi",!0);F(O,j,cn,"\u03C9","\\omega",!0);F(O,j,cn,"\u03B5","\\varepsilon",!0);F(O,j,cn,"\u03D1","\\vartheta",!0);F(O,j,cn,"\u03D6","\\varpi",!0);F(O,j,cn,"\u03F1","\\varrho",!0);F(O,j,cn,"\u03C2","\\varsigma",!0);F(O,j,cn,"\u03C6","\\varphi",!0);F(O,j,Ht,"\u2217","*",!0);F(O,j,Ht,"+","+");F(O,j,Ht,"\u2212","-",!0);F(O,j,Ht,"\u22C5","\\cdot",!0);F(O,j,Ht,"\u2218","\\circ",!0);F(O,j,Ht,"\xF7","\\div",!0);F(O,j,Ht,"\xB1","\\pm",!0);F(O,j,Ht,"\xD7","\\times",!0);F(O,j,Ht,"\u2229","\\cap",!0);F(O,j,Ht,"\u222A","\\cup",!0);F(O,j,Ht,"\u2216","\\setminus",!0);F(O,j,Ht,"\u2227","\\land");F(O,j,Ht,"\u2228","\\lor");F(O,j,Ht,"\u2227","\\wedge",!0);F(O,j,Ht,"\u2228","\\vee",!0);F(O,j,Ue,"\u221A","\\surd");F(O,j,Gs,"\u27E8","\\langle",!0);F(O,j,Gs,"\u2223","\\lvert");F(O,j,Gs,"\u2225","\\lVert");F(O,j,Wr,"?","?");F(O,j,Wr,"!","!");F(O,j,Wr,"\u27E9","\\rangle",!0);F(O,j,Wr,"\u2223","\\rvert");F(O,j,Wr,"\u2225","\\rVert");F(O,j,ve,"=","=");F(O,j,ve,":",":");F(O,j,ve,"\u2248","\\approx",!0);F(O,j,ve,"\u2245","\\cong",!0);F(O,j,ve,"\u2265","\\ge");F(O,j,ve,"\u2265","\\geq",!0);F(O,j,ve,"\u2190","\\gets");F(O,j,ve,">","\\gt",!0);F(O,j,ve,"\u2208","\\in",!0);F(O,j,ve,"\uE020","\\@not");F(O,j,ve,"\u2282","\\subset",!0);F(O,j,ve,"\u2283","\\supset",!0);F(O,j,ve,"\u2286","\\subseteq",!0);F(O,j,ve,"\u2287","\\supseteq",!0);F(O,Ee,ve,"\u2288","\\nsubseteq",!0);F(O,Ee,ve,"\u2289","\\nsupseteq",!0);F(O,j,ve,"\u22A8","\\models");F(O,j,ve,"\u2190","\\leftarrow",!0);F(O,j,ve,"\u2264","\\le");F(O,j,ve,"\u2264","\\leq",!0);F(O,j,ve,"<","\\lt",!0);F(O,j,ve,"\u2192","\\rightarrow",!0);F(O,j,ve,"\u2192","\\to");F(O,Ee,ve,"\u2271","\\ngeq",!0);F(O,Ee,ve,"\u2270","\\nleq",!0);F(O,j,bA,"\xA0","\\ ");F(O,j,bA,"\xA0","\\space");F(O,j,bA,"\xA0","\\nobreakspace");F(Et,j,bA,"\xA0","\\ ");F(Et,j,bA,"\xA0"," ");F(Et,j,bA,"\xA0","\\space");F(Et,j,bA,"\xA0","\\nobreakspace");F(O,j,bA,null,"\\nobreak");F(O,j,bA,null,"\\allowbreak");F(O,j,_g,",",",");F(O,j,_g,";",";");F(O,Ee,Ht,"\u22BC","\\barwedge",!0);F(O,Ee,Ht,"\u22BB","\\veebar",!0);F(O,j,Ht,"\u2299","\\odot",!0);F(O,j,Ht,"\u2295","\\oplus",!0);F(O,j,Ht,"\u2297","\\otimes",!0);F(O,j,Ue,"\u2202","\\partial",!0);F(O,j,Ht,"\u2298","\\oslash",!0);F(O,Ee,Ht,"\u229A","\\circledcirc",!0);F(O,Ee,Ht,"\u22A1","\\boxdot",!0);F(O,j,Ht,"\u25B3","\\bigtriangleup");F(O,j,Ht,"\u25BD","\\bigtriangledown");F(O,j,Ht,"\u2020","\\dagger");F(O,j,Ht,"\u22C4","\\diamond");F(O,j,Ht,"\u22C6","\\star");F(O,j,Ht,"\u25C3","\\triangleleft");F(O,j,Ht,"\u25B9","\\triangleright");F(O,j,Gs,"{","\\{");F(Et,j,Ue,"{","\\{");F(Et,j,Ue,"{","\\textbraceleft");F(O,j,Wr,"}","\\}");F(Et,j,Ue,"}","\\}");F(Et,j,Ue,"}","\\textbraceright");F(O,j,Gs,"{","\\lbrace");F(O,j,Wr,"}","\\rbrace");F(O,j,Gs,"[","\\lbrack",!0);F(Et,j,Ue,"[","\\lbrack",!0);F(O,j,Wr,"]","\\rbrack",!0);F(Et,j,Ue,"]","\\rbrack",!0);F(O,j,Gs,"(","\\lparen",!0);F(O,j,Wr,")","\\rparen",!0);F(Et,j,Ue,"<","\\textless",!0);F(Et,j,Ue,">","\\textgreater",!0);F(O,j,Gs,"\u230A","\\lfloor",!0);F(O,j,Wr,"\u230B","\\rfloor",!0);F(O,j,Gs,"\u2308","\\lceil",!0);F(O,j,Wr,"\u2309","\\rceil",!0);F(O,j,Ue,"\\","\\backslash");F(O,j,Ue,"\u2223","|");F(O,j,Ue,"\u2223","\\vert");F(Et,j,Ue,"|","\\textbar",!0);F(O,j,Ue,"\u2225","\\|");F(O,j,Ue,"\u2225","\\Vert");F(Et,j,Ue,"\u2225","\\textbardbl");F(Et,j,Ue,"~","\\textasciitilde");F(Et,j,Ue,"\\","\\textbackslash");F(Et,j,Ue,"^","\\textasciicircum");F(O,j,ve,"\u2191","\\uparrow",!0);F(O,j,ve,"\u21D1","\\Uparrow",!0);F(O,j,ve,"\u2193","\\downarrow",!0);F(O,j,ve,"\u21D3","\\Downarrow",!0);F(O,j,ve,"\u2195","\\updownarrow",!0);F(O,j,ve,"\u21D5","\\Updownarrow",!0);F(O,j,Xi,"\u2210","\\coprod");F(O,j,Xi,"\u22C1","\\bigvee");F(O,j,Xi,"\u22C0","\\bigwedge");F(O,j,Xi,"\u2A04","\\biguplus");F(O,j,Xi,"\u22C2","\\bigcap");F(O,j,Xi,"\u22C3","\\bigcup");F(O,j,Xi,"\u222B","\\int");F(O,j,Xi,"\u222B","\\intop");F(O,j,Xi,"\u222C","\\iint");F(O,j,Xi,"\u222D","\\iiint");F(O,j,Xi,"\u220F","\\prod");F(O,j,Xi,"\u2211","\\sum");F(O,j,Xi,"\u2A02","\\bigotimes");F(O,j,Xi,"\u2A01","\\bigoplus");F(O,j,Xi,"\u2A00","\\bigodot");F(O,j,Xi,"\u222E","\\oint");F(O,j,Xi,"\u222F","\\oiint");F(O,j,Xi,"\u2230","\\oiiint");F(O,j,Xi,"\u2A06","\\bigsqcup");F(O,j,Xi,"\u222B","\\smallint");F(Et,j,wu,"\u2026","\\textellipsis");F(O,j,wu,"\u2026","\\mathellipsis");F(Et,j,wu,"\u2026","\\ldots",!0);F(O,j,wu,"\u2026","\\ldots",!0);F(O,j,wu,"\u22EF","\\@cdots",!0);F(O,j,wu,"\u22F1","\\ddots",!0);F(O,j,Ue,"\u22EE","\\varvdots");F(O,j,Bi,"\u02CA","\\acute");F(O,j,Bi,"\u02CB","\\grave");F(O,j,Bi,"\xA8","\\ddot");F(O,j,Bi,"~","\\tilde");F(O,j,Bi,"\u02C9","\\bar");F(O,j,Bi,"\u02D8","\\breve");F(O,j,Bi,"\u02C7","\\check");F(O,j,Bi,"^","\\hat");F(O,j,Bi,"\u20D7","\\vec");F(O,j,Bi,"\u02D9","\\dot");F(O,j,Bi,"\u02DA","\\mathring");F(O,j,cn,"\uE131","\\@imath");F(O,j,cn,"\uE237","\\@jmath");F(O,j,Ue,"\u0131","\u0131");F(O,j,Ue,"\u0237","\u0237");F(Et,j,Ue,"\u0131","\\i",!0);F(Et,j,Ue,"\u0237","\\j",!0);F(Et,j,Ue,"\xDF","\\ss",!0);F(Et,j,Ue,"\xE6","\\ae",!0);F(Et,j,Ue,"\u0153","\\oe",!0);F(Et,j,Ue,"\xF8","\\o",!0);F(Et,j,Ue,"\xC6","\\AE",!0);F(Et,j,Ue,"\u0152","\\OE",!0);F(Et,j,Ue,"\xD8","\\O",!0);F(Et,j,Bi,"\u02CA","\\'");F(Et,j,Bi,"\u02CB","\\`");F(Et,j,Bi,"\u02C6","\\^");F(Et,j,Bi,"\u02DC","\\~");F(Et,j,Bi,"\u02C9","\\=");F(Et,j,Bi,"\u02D8","\\u");F(Et,j,Bi,"\u02D9","\\.");F(Et,j,Bi,"\xB8","\\c");F(Et,j,Bi,"\u02DA","\\r");F(Et,j,Bi,"\u02C7","\\v");F(Et,j,Bi,"\xA8",'\\"');F(Et,j,Bi,"\u02DD","\\H");F(Et,j,Bi,"\u25EF","\\textcircled");var qC={"--":!0,"---":!0,"``":!0,"''":!0};F(Et,j,Ue,"\u2013","--",!0);F(Et,j,Ue,"\u2013","\\textendash");F(Et,j,Ue,"\u2014","---",!0);F(Et,j,Ue,"\u2014","\\textemdash");F(Et,j,Ue,"\u2018","`",!0);F(Et,j,Ue,"\u2018","\\textquoteleft");F(Et,j,Ue,"\u2019","'",!0);F(Et,j,Ue,"\u2019","\\textquoteright");F(Et,j,Ue,"\u201C","``",!0);F(Et,j,Ue,"\u201C","\\textquotedblleft");F(Et,j,Ue,"\u201D","''",!0);F(Et,j,Ue,"\u201D","\\textquotedblright");F(O,j,Ue,"\xB0","\\degree",!0);F(Et,j,Ue,"\xB0","\\degree");F(Et,j,Ue,"\xB0","\\textdegree",!0);F(O,j,Ue,"\xA3","\\pounds");F(O,j,Ue,"\xA3","\\mathsterling",!0);F(Et,j,Ue,"\xA3","\\pounds");F(Et,j,Ue,"\xA3","\\textsterling",!0);F(O,Ee,Ue,"\u2720","\\maltese");F(Et,Ee,Ue,"\u2720","\\maltese");var Vx='0123456789/@."';for(var N3=0;N3<Vx.length;N3++){var Kx=Vx.charAt(N3);F(O,j,Ue,Kx,Kx)}var $x='0123456789!@*()-=+";:?/.,';for(var M3=0;M3<$x.length;M3++){var Wx=$x.charAt(M3);F(Et,j,Ue,Wx,Wx)}var _m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var T3=0;T3<_m.length;T3++){var jh=_m.charAt(T3);F(O,j,cn,jh,jh),F(Et,j,Ue,jh,jh)}F(O,Ee,Ue,"C","\u2102");F(Et,Ee,Ue,"C","\u2102");F(O,Ee,Ue,"H","\u210D");F(Et,Ee,Ue,"H","\u210D");F(O,Ee,Ue,"N","\u2115");F(Et,Ee,Ue,"N","\u2115");F(O,Ee,Ue,"P","\u2119");F(Et,Ee,Ue,"P","\u2119");F(O,Ee,Ue,"Q","\u211A");F(Et,Ee,Ue,"Q","\u211A");F(O,Ee,Ue,"R","\u211D");F(Et,Ee,Ue,"R","\u211D");F(O,Ee,Ue,"Z","\u2124");F(Et,Ee,Ue,"Z","\u2124");F(O,j,cn,"h","\u210E");F(Et,j,cn,"h","\u210E");var wn="";for(var Jr=0;Jr<_m.length;Jr++){var Ki=_m.charAt(Jr);wn=String.fromCharCode(55349,56320+Jr),F(O,j,cn,Ki,wn),F(Et,j,Ue,Ki,wn),wn=String.fromCharCode(55349,56372+Jr),F(O,j,cn,Ki,wn),F(Et,j,Ue,Ki,wn),wn=String.fromCharCode(55349,56424+Jr),F(O,j,cn,Ki,wn),F(Et,j,Ue,Ki,wn),wn=String.fromCharCode(55349,56580+Jr),F(O,j,cn,Ki,wn),F(Et,j,Ue,Ki,wn),wn=String.fromCharCode(55349,56736+Jr),F(O,j,cn,Ki,wn),F(Et,j,Ue,Ki,wn),wn=String.fromCharCode(55349,56788+Jr),F(O,j,cn,Ki,wn),F(Et,j,Ue,Ki,wn),wn=String.fromCharCode(55349,56840+Jr),F(O,j,cn,Ki,wn),F(Et,j,Ue,Ki,wn),wn=String.fromCharCode(55349,56944+Jr),F(O,j,cn,Ki,wn),F(Et,j,Ue,Ki,wn),Jr<26&&(wn=String.fromCharCode(55349,56632+Jr),F(O,j,cn,Ki,wn),F(Et,j,Ue,Ki,wn),wn=String.fromCharCode(55349,56476+Jr),F(O,j,cn,Ki,wn),F(Et,j,Ue,Ki,wn))}wn=String.fromCharCode(55349,56668);F(O,j,cn,"k",wn);F(Et,j,Ue,"k",wn);for(var k0=0;k0<10;k0++){var LA=k0.toString();wn=String.fromCharCode(55349,57294+k0),F(O,j,cn,LA,wn),F(Et,j,Ue,LA,wn),wn=String.fromCharCode(55349,57314+k0),F(O,j,cn,LA,wn),F(Et,j,Ue,LA,wn),wn=String.fromCharCode(55349,57324+k0),F(O,j,cn,LA,wn),F(Et,j,Ue,LA,wn),wn=String.fromCharCode(55349,57334+k0),F(O,j,cn,LA,wn),F(Et,j,Ue,LA,wn)}var Bb="\xD0\xDE\xFE";for(var G3=0;G3<Bb.length;G3++){var Zh=Bb.charAt(G3);F(O,j,cn,Zh,Zh),F(Et,j,Ue,Zh,Zh)}var Jh=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],qx=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],l$=function(e,t){var n=e.charCodeAt(0),r=e.charCodeAt(1),s=(n-55296)*1024+(r-56320)+65536,a=t==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[Jh[o][2],Jh[o][a]]}else if(120782<=s&&s<=120831){var A=Math.floor((s-120782)/10);return[qx[A][2],qx[A][a]]}else{if(s===120485||s===120486)return[Jh[0][2],Jh[0][a]];if(120486<s&&s<120782)return["",""];throw new Rt("Unsupported character: "+e)}},vg=function(e,t,n){return di[n][e]&&di[n][e].replace&&(e=di[n][e].replace),{value:e,metrics:__(e,t,n)}},Ca=function(e,t,n,r,s){var a=vg(e,t,n),o=a.metrics;e=a.value;var A;if(o){var c=o.italic;(n==="text"||r&&r.font==="mathit")&&(c=0),A=new ua(e,o.height,o.depth,c,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+n+"'")),A=new ua(e,0,0,0,0,0,s);if(r){A.maxFontSize=r.sizeMultiplier,r.style.isTight()&&A.classes.push("mtight");var l=r.getColor();l&&(A.style.color=l)}return A},u$=function(e,t,n,r){return r===void 0&&(r=[]),n.font==="boldsymbol"&&vg(e,"Main-Bold",t).metrics?Ca(e,"Main-Bold",t,n,r.concat(["mathbf"])):e==="\\"||di[t][e].font==="main"?Ca(e,"Main-Regular",t,n,r):Ca(e,"AMS-Regular",t,n,r.concat(["amsrm"]))},d$=function(e,t,n,r,s){return s!=="textord"&&vg(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},f$=function(e,t,n){var r=e.mode,s=e.text,a=["mord"],o=r==="math"||r==="text"&&t.font,A=o?t.font:t.fontFamily;if(s.charCodeAt(0)===55349){var[c,l]=l$(s,r);return Ca(s,c,r,t,a.concat(l))}else if(A){var u,d;if(A==="boldsymbol"){var h=d$(s,r,t,a,n);u=h.fontName,d=[h.fontClass]}else o?(u=jC[A].fontName,d=[A]):(u=ep(A,t.fontWeight,t.fontShape),d=[A,t.fontWeight,t.fontShape]);if(vg(s,u,r).metrics)return Ca(s,u,r,t,a.concat(d));if(qC.hasOwnProperty(s)&&u.slice(0,10)==="Typewriter"){for(var m=[],y=0;y<s.length;y++)m.push(Ca(s[y],u,r,t,a.concat(d)));return XC(m)}}if(n==="mathord")return Ca(s,"Math-Italic",r,t,a.concat(["mathnormal"]));if(n==="textord"){var g=di[r][s]&&di[r][s].font;if(g==="ams"){var E=ep("amsrm",t.fontWeight,t.fontShape);return Ca(s,E,r,t,a.concat("amsrm",t.fontWeight,t.fontShape))}else if(g==="main"||!g){var R=ep("textrm",t.fontWeight,t.fontShape);return Ca(s,R,r,t,a.concat(t.fontWeight,t.fontShape))}else{var p=ep(g,t.fontWeight,t.fontShape);return Ca(s,p,r,t,a.concat(p,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},h$=(i,e)=>{if(d0(i.classes)!==d0(e.classes)||i.skew!==e.skew||i.maxFontSize!==e.maxFontSize)return!1;if(i.classes.length===1){var t=i.classes[0];if(t==="mbin"||t==="mord")return!1}for(var n in i.style)if(i.style.hasOwnProperty(n)&&i.style[n]!==e.style[n])return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&i.style[r]!==e.style[r])return!1;return!0},p$=i=>{for(var e=0;e<i.length-1;e++){var t=i[e],n=i[e+1];t instanceof ua&&n instanceof ua&&h$(t,n)&&(t.text+=n.text,t.height=Math.max(t.height,n.height),t.depth=Math.max(t.depth,n.depth),t.italic=n.italic,i.splice(e+1,1),e--)}return i},x_=function(e){for(var t=0,n=0,r=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>t&&(t=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>r&&(r=a.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=r},ts=function(e,t,n,r){var s=new Qf(e,t,n,r);return x_(s),s},YC=(i,e,t,n)=>new Qf(i,e,t,n),m$=function(e,t,n){var r=ts([e],[],t);return r.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),r.style.borderBottomWidth=Tt(r.height),r.maxFontSize=1,r},g$=function(e,t,n,r){var s=new v_(e,t,n,r);return x_(s),s},XC=function(e){var t=new Of(e);return x_(t),t},y$=function(e,t){return e instanceof Of?ts([],[e],t):e},w$=function(e){if(e.positionType==="individualShift"){for(var t=e.children,n=[t[0]],r=-t[0].shift-t[0].elem.depth,s=r,a=1;a<t.length;a++){var o=-t[a].shift-s-t[a].elem.depth,A=o-(t[a-1].elem.height+t[a-1].elem.depth);s=s+o,n.push({type:"kern",size:A}),n.push(t[a])}return{children:n,depth:r}}var c;if(e.positionType==="top"){for(var l=e.positionData,u=0;u<e.children.length;u++){var d=e.children[u];l-=d.type==="kern"?d.size:d.elem.height+d.elem.depth}c=l}else if(e.positionType==="bottom")c=-e.positionData;else{var h=e.children[0];if(h.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-h.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-h.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},b$=function(e,t){for(var{children:n,depth:r}=w$(e),s=0,a=0;a<n.length;a++){var o=n[a];if(o.type==="elem"){var A=o.elem;s=Math.max(s,A.maxFontSize,A.height)}}s+=2;var c=ts(["pstrut"],[]);c.style.height=Tt(s);for(var l=[],u=r,d=r,h=r,m=0;m<n.length;m++){var y=n[m];if(y.type==="kern")h+=y.size;else{var g=y.elem,E=y.wrapperClasses||[],R=y.wrapperStyle||{},p=ts(E,[c,g],void 0,R);p.style.top=Tt(-s-h-g.depth),y.marginLeft&&(p.style.marginLeft=y.marginLeft),y.marginRight&&(p.style.marginRight=y.marginRight),l.push(p),h+=g.height+g.depth}u=Math.min(u,h),d=Math.max(d,h)}var w=ts(["vlist"],l);w.style.height=Tt(d);var v;if(u<0){var _=ts([],[]),x=ts(["vlist"],[_]);x.style.height=Tt(-u);var C=ts(["vlist-s"],[new ua("\u200B")]);v=[ts(["vlist-r"],[w,C]),ts(["vlist-r"],[x])]}else v=[ts(["vlist-r"],[w])];var B=ts(["vlist-t"],v);return v.length===2&&B.classes.push("vlist-t2"),B.height=d,B.depth=-u,B},E$=(i,e)=>{var t=ts(["mspace"],[],e),n=Ti(i,e);return t.style.marginRight=Tt(n),t},ep=function(e,t,n){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}var s;return t==="textbf"&&n==="textit"?s="BoldItalic":t==="textbf"?s="Bold":t==="textit"?s="Italic":s="Regular",r+"-"+s},jC={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},ZC={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},_$=function(e,t){var[n,r,s]=ZC[e],a=new f0(n),o=new uA([a],{width:Tt(r),height:Tt(s),style:"width:"+Tt(r),viewBox:"0 0 "+1e3*r+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),A=YC(["overlay"],[o],t);return A.height=s,A.style.height=Tt(s),A.style.width=Tt(r),A},Ve={fontMap:jC,makeSymbol:Ca,mathsym:u$,makeSpan:ts,makeSvgSpan:YC,makeLineSpan:m$,makeAnchor:g$,makeFragment:XC,wrapFragment:y$,makeVList:b$,makeOrd:f$,makeGlue:E$,staticSvg:_$,svgData:ZC,tryCombineChars:p$},Si={number:3,unit:"mu"},O0={number:4,unit:"mu"},Po={number:5,unit:"mu"},v$={mord:{mop:Si,mbin:O0,mrel:Po,minner:Si},mop:{mord:Si,mop:Si,mrel:Po,minner:Si},mbin:{mord:O0,mop:O0,mopen:O0,minner:O0},mrel:{mord:Po,mop:Po,mopen:Po,minner:Po},mopen:{},mclose:{mop:Si,mbin:O0,mrel:Po,minner:Si},mpunct:{mord:Si,mop:Si,mrel:Po,mopen:Si,mclose:Si,mpunct:Si,minner:Si},minner:{mord:Si,mop:Si,mbin:O0,mrel:Po,mopen:Si,mpunct:Si,minner:Si}},x$={mord:{mop:Si},mop:{mord:Si,mop:Si},mbin:{},mrel:{},mopen:{},mclose:{mop:Si},mpunct:{},minner:{mop:Si}},JC={},vm={},xm={};function Dt(i){for(var{type:e,names:t,props:n,handler:r,htmlBuilder:s,mathmlBuilder:a}=i,o={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:r},A=0;A<t.length;++A)JC[t[A]]=o;e&&(s&&(vm[e]=s),a&&(xm[e]=a))}function Nc(i){var{type:e,htmlBuilder:t,mathmlBuilder:n}=i;Dt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:n})}var Rm=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Vi=function(e){return e.type==="ordgroup"?e.body:[e]},dA=Ve.makeSpan,R$=["leftmost","mbin","mopen","mrel","mop","mpunct"],B$=["rightmost","mrel","mclose","mpunct"],C$={display:sn.DISPLAY,text:sn.TEXT,script:sn.SCRIPT,scriptscript:sn.SCRIPTSCRIPT},S$={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},nr=function(e,t,n,r){r===void 0&&(r=[null,null]);for(var s=[],a=0;a<e.length;a++){var o=On(e[a],t);if(o instanceof Of){var A=o.children;s.push(...A)}else s.push(o)}if(Ve.tryCombineChars(s),!n)return s;var c=t;if(e.length===1){var l=e[0];l.type==="sizing"?c=t.havingSize(l.size):l.type==="styling"&&(c=t.havingStyle(C$[l.style]))}var u=dA([r[0]||"leftmost"],[],t),d=dA([r[1]||"rightmost"],[],t),h=n==="root";return Yx(s,(m,y)=>{var g=y.classes[0],E=m.classes[0];g==="mbin"&&pn.contains(B$,E)?y.classes[0]="mord":E==="mbin"&&pn.contains(R$,g)&&(m.classes[0]="mord")},{node:u},d,h),Yx(s,(m,y)=>{var g=Cb(y),E=Cb(m),R=g&&E?m.hasClass("mtight")?x$[g][E]:v$[g][E]:null;if(R)return Ve.makeGlue(R,c)},{node:u},d,h),s},Yx=function i(e,t,n,r,s){r&&e.push(r);for(var a=0;a<e.length;a++){var o=e[a],A=eS(o);if(A){i(A.children,t,n,null,s);continue}var c=!o.hasClass("mspace");if(c){var l=t(o,n.node);l&&(n.insertAfter?n.insertAfter(l):(e.unshift(l),a++))}c?n.node=o:s&&o.hasClass("newline")&&(n.node=dA(["leftmost"])),n.insertAfter=(u=>d=>{e.splice(u+1,0,d),a++})(a)}r&&e.pop()},eS=function(e){return e instanceof Of||e instanceof v_||e instanceof Qf&&e.hasClass("enclosing")?e:null},N$=function i(e,t){var n=eS(e);if(n){var r=n.children;if(r.length){if(t==="right")return i(r[r.length-1],"right");if(t==="left")return i(r[0],"left")}}return e},Cb=function(e,t){return e?(t&&(e=N$(e,t)),S$[e.classes[0]]||null):null},yf=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return dA(t.concat(n))},On=function(e,t,n){if(!e)return dA();if(vm[e.type]){var r=vm[e.type](e,t);if(n&&t.size!==n.size){r=dA(t.sizingClasses(n),[r],t);var s=t.sizeMultiplier/n.sizeMultiplier;r.height*=s,r.depth*=s}return r}else throw new Rt("Got group of unknown type: '"+e.type+"'")};function tp(i,e){var t=dA(["base"],i,e),n=dA(["strut"]);return n.style.height=Tt(t.height+t.depth),t.depth&&(n.style.verticalAlign=Tt(-t.depth)),t.children.unshift(n),t}function Sb(i,e){var t=null;i.length===1&&i[0].type==="tag"&&(t=i[0].tag,i=i[0].body);var n=nr(i,e,"root"),r;n.length===2&&n[1].hasClass("tag")&&(r=n.pop());for(var s=[],a=[],o=0;o<n.length;o++)if(a.push(n[o]),n[o].hasClass("mbin")||n[o].hasClass("mrel")||n[o].hasClass("allowbreak")){for(var A=!1;o<n.length-1&&n[o+1].hasClass("mspace")&&!n[o+1].hasClass("newline");)o++,a.push(n[o]),n[o].hasClass("nobreak")&&(A=!0);A||(s.push(tp(a,e)),a=[])}else n[o].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(tp(a,e)),a=[]),s.push(n[o]));a.length>0&&s.push(tp(a,e));var c;t?(c=tp(nr(t,e,!0)),c.classes=["tag"],s.push(c)):r&&s.push(r);var l=dA(["katex-html"],s);if(l.setAttribute("aria-hidden","true"),c){var u=c.children[0];u.style.height=Tt(l.height+l.depth),l.depth&&(u.style.verticalAlign=Tt(-l.depth))}return l}function tS(i){return new Of(i)}class na{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=d0(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=pn.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+pn.escape(d0(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class $d{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return pn.escape(this.toText())}toText(){return this.text}}class M${constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="\u200A":e>=.1666&&e<=.1667?this.character="\u2009":e>=.2222&&e<=.2223?this.character="\u2005":e>=.2777&&e<=.2778?this.character="\u2005\u200A":e>=-.05556&&e<=-.05555?this.character="\u200A\u2063":e>=-.1667&&e<=-.1666?this.character="\u2009\u2063":e>=-.2223&&e<=-.2222?this.character="\u205F\u2063":e>=-.2778&&e<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Tt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Tt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var _t={MathNode:na,TextNode:$d,SpaceNode:M$,newDocumentFragment:tS},da=function(e,t,n){return di[t][e]&&di[t][e].replace&&e.charCodeAt(0)!==55349&&!(qC.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=di[t][e].replace),new _t.TextNode(e)},R_=function(e){return e.length===1?e[0]:new _t.MathNode("mrow",e)},B_=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var n=t.font;if(!n||n==="mathnormal")return null;var r=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var s=e.text;if(pn.contains(["\\imath","\\jmath"],s))return null;di[r][s]&&di[r][s].replace&&(s=di[r][s].replace);var a=Ve.fontMap[n].fontName;return __(s,a,r)?Ve.fontMap[n].variant:null},fs=function(e,t,n){if(e.length===1){var r=Ai(e[0],t);return n&&r instanceof na&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var s=[],a,o=0;o<e.length;o++){var A=Ai(e[o],t);if(A instanceof na&&a instanceof na){if(A.type==="mtext"&&a.type==="mtext"&&A.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...A.children);continue}else if(A.type==="mn"&&a.type==="mn"){a.children.push(...A.children);continue}else if(A.type==="mi"&&A.children.length===1&&a.type==="mn"){var c=A.children[0];if(c instanceof $d&&c.text==="."){a.children.push(...A.children);continue}}else if(a.type==="mi"&&a.children.length===1){var l=a.children[0];if(l instanceof $d&&l.text==="\u0338"&&(A.type==="mo"||A.type==="mi"||A.type==="mn")){var u=A.children[0];u instanceof $d&&u.text.length>0&&(u.text=u.text.slice(0,1)+"\u0338"+u.text.slice(1),s.pop())}}}s.push(A),a=A}return s},h0=function(e,t,n){return R_(fs(e,t,n))},Ai=function(e,t){if(!e)return new _t.MathNode("mrow");if(xm[e.type]){var n=xm[e.type](e,t);return n}else throw new Rt("Got group of unknown type: '"+e.type+"'")};function Xx(i,e,t,n,r){var s=fs(i,t),a;s.length===1&&s[0]instanceof na&&pn.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new _t.MathNode("mrow",s);var o=new _t.MathNode("annotation",[new _t.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var A=new _t.MathNode("semantics",[a,o]),c=new _t.MathNode("math",[A]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&c.setAttribute("display","block");var l=r?"katex":"katex-mathml";return Ve.makeSpan([l],[c])}var nS=function(e){return new Jo({style:e.displayMode?sn.DISPLAY:sn.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},iS=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=Ve.makeSpan(n,[e])}return e},T$=function(e,t,n){var r=nS(n),s;if(n.output==="mathml")return Xx(e,t,r,n.displayMode,!0);if(n.output==="html"){var a=Sb(e,r);s=Ve.makeSpan(["katex"],[a])}else{var o=Xx(e,t,r,n.displayMode,!1),A=Sb(e,r);s=Ve.makeSpan(["katex"],[o,A])}return iS(s,n)},G$=function(e,t,n){var r=nS(n),s=Sb(e,r),a=Ve.makeSpan(["katex"],[s]);return iS(a,n)},F$={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},I$=function(e){var t=new _t.MathNode("mo",[new _t.TextNode(F$[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},U$={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},P$=function(e){return e.type==="ordgroup"?e.body.length:1},L$=function(e,t){function n(){var o=4e5,A=e.label.slice(1);if(pn.contains(["widehat","widecheck","widetilde","utilde"],A)){var c=e,l=P$(c.base),u,d,h;if(l>5)A==="widehat"||A==="widecheck"?(u=420,o=2364,h=.42,d=A+"4"):(u=312,o=2340,h=.34,d="tilde4");else{var m=[1,1,2,2,3,3][l];A==="widehat"||A==="widecheck"?(o=[0,1062,2364,2364,2364][m],u=[0,239,300,360,420][m],h=[0,.24,.3,.3,.36,.42][m],d=A+m):(o=[0,600,1033,2339,2340][m],u=[0,260,286,306,312][m],h=[0,.26,.286,.3,.306,.34][m],d="tilde"+m)}var y=new f0(d),g=new uA([y],{width:"100%",height:Tt(h),viewBox:"0 0 "+o+" "+u,preserveAspectRatio:"none"});return{span:Ve.makeSvgSpan([],[g],t),minWidth:0,height:h}}else{var E=[],R=U$[A],[p,w,v]=R,_=v/1e3,x=p.length,C,B;if(x===1){var G=R[3];C=["hide-tail"],B=[G]}else if(x===2)C=["halfarrow-left","halfarrow-right"],B=["xMinYMin","xMaxYMin"];else if(x===3)C=["brace-left","brace-center","brace-right"],B=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+x+" children.");for(var I=0;I<x;I++){var N=new f0(p[I]),T=new uA([N],{width:"400em",height:Tt(_),viewBox:"0 0 "+o+" "+v,preserveAspectRatio:B[I]+" slice"}),M=Ve.makeSvgSpan([C[I]],[T],t);if(x===1)return{span:M,minWidth:w,height:_};M.style.height=Tt(_),E.push(M)}return{span:Ve.makeSpan(["stretchy"],E,t),minWidth:w,height:_}}}var{span:r,minWidth:s,height:a}=n();return r.height=a,r.style.height=Tt(a),s>0&&(r.style.minWidth=Tt(s)),r},D$=function(e,t,n,r,s){var a,o=e.height+e.depth+n+r;if(/fbox|color|angl/.test(t)){if(a=Ve.makeSpan(["stretchy",t],[],s),t==="fbox"){var A=s.color&&s.getColor();A&&(a.style.borderColor=A)}}else{var c=[];/^[bx]cancel$/.test(t)&&c.push(new Rb({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&c.push(new Rb({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var l=new uA(c,{width:"100%",height:Tt(o)});a=Ve.makeSvgSpan([],[l],s)}return a.height=o,a.style.height=Tt(o),a},fA={encloseSpan:D$,mathMLnode:I$,svgSpan:L$};function Cn(i,e){if(!i||i.type!==e)throw new Error("Expected node of type "+e+", but got "+(i?"node of type "+i.type:String(i)));return i}function C_(i){var e=xg(i);if(!e)throw new Error("Expected node of symbol group type, but got "+(i?"node of type "+i.type:String(i)));return e}function xg(i){return i&&(i.type==="atom"||c$.hasOwnProperty(i.type))?i:null}var S_=(i,e)=>{var t,n,r;i&&i.type==="supsub"?(n=Cn(i.base,"accent"),t=n.base,i.base=t,r=o$(On(i,e)),i.base=n):(n=Cn(i,"accent"),t=n.base);var s=On(t,e.havingCrampedStyle()),a=n.isShifty&&pn.isCharacterBox(t),o=0;if(a){var A=pn.getBaseElem(t),c=On(A,e.havingCrampedStyle());o=zx(c).skew}var l=n.label==="\\c",u=l?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),d;if(n.isStretchy)d=fA.svgSpan(n,e),d=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:d,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Tt(2*o)+")",marginLeft:Tt(2*o)}:void 0}]},e);else{var h,m;n.label==="\\vec"?(h=Ve.staticSvg("vec",e),m=Ve.svgData.vec[1]):(h=Ve.makeOrd({mode:n.mode,text:n.label},e,"textord"),h=zx(h),h.italic=0,m=h.width,l&&(u+=h.depth)),d=Ve.makeSpan(["accent-body"],[h]);var y=n.label==="\\textcircled";y&&(d.classes.push("accent-full"),u=s.height);var g=o;y||(g-=m/2),d.style.left=Tt(g),n.label==="\\textcircled"&&(d.style.top=".2em"),d=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-u},{type:"elem",elem:d}]},e)}var E=Ve.makeSpan(["mord","accent"],[d],e);return r?(r.children[0]=E,r.height=Math.max(E.height,r.height),r.classes[0]="mord",r):E},rS=(i,e)=>{var t=i.isStretchy?fA.mathMLnode(i.label):new _t.MathNode("mo",[da(i.label,i.mode)]),n=new _t.MathNode("mover",[Ai(i.base,e),t]);return n.setAttribute("accent","true"),n},k$=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(i=>"\\"+i).join("|"));Dt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(i,e)=>{var t=Rm(e[0]),n=!k$.test(i.funcName),r=!n||i.funcName==="\\widehat"||i.funcName==="\\widetilde"||i.funcName==="\\widecheck";return{type:"accent",mode:i.parser.mode,label:i.funcName,isStretchy:n,isShifty:r,base:t}},htmlBuilder:S_,mathmlBuilder:rS});Dt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(i,e)=>{var t=e[0],n=i.parser.mode;return n==="math"&&(i.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+i.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:i.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:S_,mathmlBuilder:rS});Dt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=e[0];return{type:"accentUnder",mode:t.mode,label:n,base:r}},htmlBuilder:(i,e)=>{var t=On(i.base,e),n=fA.svgSpan(i,e),r=i.label==="\\utilde"?.12:0,s=Ve.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:t}]},e);return Ve.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(i,e)=>{var t=fA.mathMLnode(i.label),n=new _t.MathNode("munder",[Ai(i.base,e),t]);return n.setAttribute("accentunder","true"),n}});var np=i=>{var e=new _t.MathNode("mpadded",i?[i]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Dt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(i,e,t){var{parser:n,funcName:r}=i;return{type:"xArrow",mode:n.mode,label:r,body:e[0],below:t[0]}},htmlBuilder(i,e){var t=e.style,n=e.havingStyle(t.sup()),r=Ve.wrapFragment(On(i.body,n,e),e),s=i.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(s+"-arrow-pad");var a;i.below&&(n=e.havingStyle(t.sub()),a=Ve.wrapFragment(On(i.below,n,e),e),a.classes.push(s+"-arrow-pad"));var o=fA.svgSpan(i,e),A=-e.fontMetrics().axisHeight+.5*o.height,c=-e.fontMetrics().axisHeight-.5*o.height-.111;(r.depth>.25||i.label==="\\xleftequilibrium")&&(c-=r.depth);var l;if(a){var u=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;l=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:c},{type:"elem",elem:o,shift:A},{type:"elem",elem:a,shift:u}]},e)}else l=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:c},{type:"elem",elem:o,shift:A}]},e);return l.children[0].children[0].children[1].classes.push("svg-align"),Ve.makeSpan(["mrel","x-arrow"],[l],e)},mathmlBuilder(i,e){var t=fA.mathMLnode(i.label);t.setAttribute("minsize",i.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(i.body){var r=np(Ai(i.body,e));if(i.below){var s=np(Ai(i.below,e));n=new _t.MathNode("munderover",[t,s,r])}else n=new _t.MathNode("mover",[t,r])}else if(i.below){var a=np(Ai(i.below,e));n=new _t.MathNode("munder",[t,a])}else n=np(),n=new _t.MathNode("mover",[t,n]);return n}});var O$=Ve.makeSpan;function sS(i,e){var t=nr(i.body,e,!0);return O$([i.mclass],t,e)}function aS(i,e){var t,n=fs(i.body,e);return i.mclass==="minner"?t=new _t.MathNode("mpadded",n):i.mclass==="mord"?i.isCharacterBox?(t=n[0],t.type="mi"):t=new _t.MathNode("mi",n):(i.isCharacterBox?(t=n[0],t.type="mo"):t=new _t.MathNode("mo",n),i.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):i.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):i.mclass==="mopen"||i.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):i.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}Dt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(i,e){var{parser:t,funcName:n}=i,r=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+n.slice(5),body:Vi(r),isCharacterBox:pn.isCharacterBox(r)}},htmlBuilder:sS,mathmlBuilder:aS});var Rg=i=>{var e=i.type==="ordgroup"&&i.body.length?i.body[0]:i;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Dt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(i,e){var{parser:t}=i;return{type:"mclass",mode:t.mode,mclass:Rg(e[0]),body:Vi(e[1]),isCharacterBox:pn.isCharacterBox(e[1])}}});Dt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(i,e){var{parser:t,funcName:n}=i,r=e[1],s=e[0],a;n!=="\\stackrel"?a=Rg(r):a="mrel";var o={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Vi(r)},A={type:"supsub",mode:s.mode,base:o,sup:n==="\\underset"?null:s,sub:n==="\\underset"?s:null};return{type:"mclass",mode:t.mode,mclass:a,body:[A],isCharacterBox:pn.isCharacterBox(A)}},htmlBuilder:sS,mathmlBuilder:aS});Dt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(i,e){var{parser:t}=i;return{type:"pmb",mode:t.mode,mclass:Rg(e[0]),body:Vi(e[0])}},htmlBuilder(i,e){var t=nr(i.body,e,!0),n=Ve.makeSpan([i.mclass],t,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(i,e){var t=fs(i.body,e),n=new _t.MathNode("mstyle",t);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var Q$={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},jx=()=>({type:"styling",body:[],mode:"math",style:"display"}),Zx=i=>i.type==="textord"&&i.text==="@",H$=(i,e)=>(i.type==="mathord"||i.type==="atom")&&i.text===e;function z$(i,e,t){var n=Q$[i];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var r=t.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:n,mode:"math",family:"rel"},a=t.callFunction("\\Big",[s],[]),o=t.callFunction("\\\\cdright",[e[1]],[]),A={type:"ordgroup",mode:"math",body:[r,a,o]};return t.callFunction("\\\\cdparent",[A],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function V$(i){var e=[];for(i.gullet.beginGroup(),i.gullet.macros.set("\\cr","\\\\\\relax"),i.gullet.beginGroup();;){e.push(i.parseExpression(!1,"\\\\")),i.gullet.endGroup(),i.gullet.beginGroup();var t=i.fetch().text;if(t==="&"||t==="\\\\")i.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Rt("Expected \\\\ or \\cr or \\end",i.nextToken)}for(var n=[],r=[n],s=0;s<e.length;s++){for(var a=e[s],o=jx(),A=0;A<a.length;A++)if(!Zx(a[A]))o.body.push(a[A]);else{n.push(o),A+=1;var c=C_(a[A]).text,l=new Array(2);if(l[0]={type:"ordgroup",mode:"math",body:[]},l[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var u=0;u<2;u++){for(var d=!0,h=A+1;h<a.length;h++){if(H$(a[h],c)){d=!1,A=h;break}if(Zx(a[h]))throw new Rt("Missing a "+c+" character to complete a CD arrow.",a[h]);l[u].body.push(a[h])}if(d)throw new Rt("Missing a "+c+" character to complete a CD arrow.",a[A])}else throw new Rt('Expected one of "<>AV=|." after @',a[A]);var m=z$(c,l,i),y={type:"styling",body:[m],mode:"math",style:"display"};n.push(y),o=jx()}s%2===0?n.push(o):n.shift(),n=[],r.push(n)}i.gullet.endGroup(),i.gullet.endGroup();var g=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:g,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}Dt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(i,e){var{parser:t,funcName:n}=i;return{type:"cdlabel",mode:t.mode,side:n.slice(4),label:e[0]}},htmlBuilder(i,e){var t=e.havingStyle(e.style.sup()),n=Ve.wrapFragment(On(i.label,t,e),e);return n.classes.push("cd-label-"+i.side),n.style.bottom=Tt(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(i,e){var t=new _t.MathNode("mrow",[Ai(i.label,e)]);return t=new _t.MathNode("mpadded",[t]),t.setAttribute("width","0"),i.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new _t.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});Dt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(i,e){var{parser:t}=i;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(i,e){var t=Ve.wrapFragment(On(i.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(i,e){return new _t.MathNode("mrow",[Ai(i.fragment,e)])}});Dt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(i,e){for(var{parser:t}=i,n=Cn(e[0],"ordgroup"),r=n.body,s="",a=0;a<r.length;a++){var o=Cn(r[a],"textord");s+=o.text}var A=parseInt(s),c;if(isNaN(A))throw new Rt("\\@char has non-numeric argument "+s);if(A<0||A>=1114111)throw new Rt("\\@char with invalid code point "+s);return A<=65535?c=String.fromCharCode(A):(A-=65536,c=String.fromCharCode((A>>10)+55296,(A&1023)+56320)),{type:"textord",mode:t.mode,text:c}}});var oS=(i,e)=>{var t=nr(i.body,e.withColor(i.color),!1);return Ve.makeFragment(t)},AS=(i,e)=>{var t=fs(i.body,e.withColor(i.color)),n=new _t.MathNode("mstyle",t);return n.setAttribute("mathcolor",i.color),n};Dt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(i,e){var{parser:t}=i,n=Cn(e[0],"color-token").color,r=e[1];return{type:"color",mode:t.mode,color:n,body:Vi(r)}},htmlBuilder:oS,mathmlBuilder:AS});Dt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(i,e){var{parser:t,breakOnTokenText:n}=i,r=Cn(e[0],"color-token").color;t.gullet.macros.set("\\current@color",r);var s=t.parseExpression(!0,n);return{type:"color",mode:t.mode,color:r,body:s}},htmlBuilder:oS,mathmlBuilder:AS});Dt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(i,e,t){var{parser:n}=i,r=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,s=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:s,size:r&&Cn(r,"size").value}},htmlBuilder(i,e){var t=Ve.makeSpan(["mspace"],[],e);return i.newLine&&(t.classes.push("newline"),i.size&&(t.style.marginTop=Tt(Ti(i.size,e)))),t},mathmlBuilder(i,e){var t=new _t.MathNode("mspace");return i.newLine&&(t.setAttribute("linebreak","newline"),i.size&&t.setAttribute("height",Tt(Ti(i.size,e)))),t}});var Nb={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},cS=i=>{var e=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Rt("Expected a control sequence",i);return e},K$=i=>{var e=i.gullet.popToken();return e.text==="="&&(e=i.gullet.popToken(),e.text===" "&&(e=i.gullet.popToken())),e},lS=(i,e,t,n)=>{var r=i.gullet.macros.get(t.text);r==null&&(t.noexpand=!0,r={tokens:[t],numArgs:0,unexpandable:!i.gullet.isExpandable(t.text)}),i.gullet.macros.set(e,r,n)};Dt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(i){var{parser:e,funcName:t}=i;e.consumeSpaces();var n=e.fetch();if(Nb[n.text])return(t==="\\global"||t==="\\\\globallong")&&(n.text=Nb[n.text]),Cn(e.parseFunction(),"internal");throw new Rt("Invalid token after macro prefix",n)}});Dt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(i){var{parser:e,funcName:t}=i,n=e.gullet.popToken(),r=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new Rt("Expected a control sequence",n);for(var s=0,a,o=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[s].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new Rt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==s+1)throw new Rt('Argument number "'+n.text+'" out of order');s++,o.push([])}else{if(n.text==="EOF")throw new Rt("Expected a macro definition");o[s].push(n.text)}var{tokens:A}=e.gullet.consumeArg();return a&&A.unshift(a),(t==="\\edef"||t==="\\xdef")&&(A=e.gullet.expandTokens(A),A.reverse()),e.gullet.macros.set(r,{tokens:A,numArgs:s,delimiters:o},t===Nb[t]),{type:"internal",mode:e.mode}}});Dt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(i){var{parser:e,funcName:t}=i,n=cS(e.gullet.popToken());e.gullet.consumeSpaces();var r=K$(e);return lS(e,n,r,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});Dt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(i){var{parser:e,funcName:t}=i,n=cS(e.gullet.popToken()),r=e.gullet.popToken(),s=e.gullet.popToken();return lS(e,n,s,t==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(r),{type:"internal",mode:e.mode}}});var vd=function(e,t,n){var r=di.math[e]&&di.math[e].replace,s=__(r||e,t,n);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return s},N_=function(e,t,n,r){var s=n.havingBaseStyle(t),a=Ve.makeSpan(r.concat(s.sizingClasses(n)),[e],n),o=s.sizeMultiplier/n.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},uS=function(e,t,n){var r=t.havingBaseStyle(n),s=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Tt(s),e.height-=s,e.depth+=s},$$=function(e,t,n,r,s,a){var o=Ve.makeSymbol(e,"Main-Regular",s,r),A=N_(o,t,r,a);return n&&uS(A,r,t),A},W$=function(e,t,n,r){return Ve.makeSymbol(e,"Size"+t+"-Regular",n,r)},dS=function(e,t,n,r,s,a){var o=W$(e,t,s,r),A=N_(Ve.makeSpan(["delimsizing","size"+t],[o],r),sn.TEXT,r,a);return n&&uS(A,r,sn.TEXT),A},F3=function(e,t,n){var r;t==="Size1-Regular"?r="delim-size1":r="delim-size4";var s=Ve.makeSpan(["delimsizinginner",r],[Ve.makeSpan([],[Ve.makeSymbol(e,t,n)])]);return{type:"elem",elem:s}},I3=function(e,t,n){var r=no["Size4-Regular"][e.charCodeAt(0)]?no["Size4-Regular"][e.charCodeAt(0)][4]:no["Size1-Regular"][e.charCodeAt(0)][4],s=new f0("inner",JK(e,Math.round(1e3*t))),a=new uA([s],{width:Tt(r),height:Tt(t),style:"width:"+Tt(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=Ve.makeSvgSpan([],[a],n);return o.height=t,o.style.height=Tt(t),o.style.width=Tt(r),{type:"elem",elem:o}},Mb=.008,ip={type:"kern",size:-1*Mb},q$=["|","\\lvert","\\rvert","\\vert"],Y$=["\\|","\\lVert","\\rVert","\\Vert"],fS=function(e,t,n,r,s,a){var o,A,c,l,u="",d=0;o=c=l=e,A=null;var h="Size1-Regular";e==="\\uparrow"?c=l="\u23D0":e==="\\Uparrow"?c=l="\u2016":e==="\\downarrow"?o=c="\u23D0":e==="\\Downarrow"?o=c="\u2016":e==="\\updownarrow"?(o="\\uparrow",c="\u23D0",l="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",c="\u2016",l="\\Downarrow"):pn.contains(q$,e)?(c="\u2223",u="vert",d=333):pn.contains(Y$,e)?(c="\u2225",u="doublevert",d=556):e==="["||e==="\\lbrack"?(o="\u23A1",c="\u23A2",l="\u23A3",h="Size4-Regular",u="lbrack",d=667):e==="]"||e==="\\rbrack"?(o="\u23A4",c="\u23A5",l="\u23A6",h="Size4-Regular",u="rbrack",d=667):e==="\\lfloor"||e==="\u230A"?(c=o="\u23A2",l="\u23A3",h="Size4-Regular",u="lfloor",d=667):e==="\\lceil"||e==="\u2308"?(o="\u23A1",c=l="\u23A2",h="Size4-Regular",u="lceil",d=667):e==="\\rfloor"||e==="\u230B"?(c=o="\u23A5",l="\u23A6",h="Size4-Regular",u="rfloor",d=667):e==="\\rceil"||e==="\u2309"?(o="\u23A4",c=l="\u23A5",h="Size4-Regular",u="rceil",d=667):e==="("||e==="\\lparen"?(o="\u239B",c="\u239C",l="\u239D",h="Size4-Regular",u="lparen",d=875):e===")"||e==="\\rparen"?(o="\u239E",c="\u239F",l="\u23A0",h="Size4-Regular",u="rparen",d=875):e==="\\{"||e==="\\lbrace"?(o="\u23A7",A="\u23A8",l="\u23A9",c="\u23AA",h="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="\u23AB",A="\u23AC",l="\u23AD",c="\u23AA",h="Size4-Regular"):e==="\\lgroup"||e==="\u27EE"?(o="\u23A7",l="\u23A9",c="\u23AA",h="Size4-Regular"):e==="\\rgroup"||e==="\u27EF"?(o="\u23AB",l="\u23AD",c="\u23AA",h="Size4-Regular"):e==="\\lmoustache"||e==="\u23B0"?(o="\u23A7",l="\u23AD",c="\u23AA",h="Size4-Regular"):(e==="\\rmoustache"||e==="\u23B1")&&(o="\u23AB",l="\u23A9",c="\u23AA",h="Size4-Regular");var m=vd(o,h,s),y=m.height+m.depth,g=vd(c,h,s),E=g.height+g.depth,R=vd(l,h,s),p=R.height+R.depth,w=0,v=1;if(A!==null){var _=vd(A,h,s);w=_.height+_.depth,v=2}var x=y+p+w,C=Math.max(0,Math.ceil((t-x)/(v*E))),B=x+C*v*E,G=r.fontMetrics().axisHeight;n&&(G*=r.sizeMultiplier);var I=B/2-G,N=[];if(u.length>0){var T=B-y-p,M=Math.round(B*1e3),U=e$(u,Math.round(T*1e3)),z=new f0(u,U),L=(d/1e3).toFixed(3)+"em",k=(M/1e3).toFixed(3)+"em",K=new uA([z],{width:L,height:k,viewBox:"0 0 "+d+" "+M}),V=Ve.makeSvgSpan([],[K],r);V.height=M/1e3,V.style.width=L,V.style.height=k,N.push({type:"elem",elem:V})}else{if(N.push(F3(l,h,s)),N.push(ip),A===null){var D=B-y-p+2*Mb;N.push(I3(c,D,r))}else{var H=(B-y-p-w)/2+2*Mb;N.push(I3(c,H,r)),N.push(ip),N.push(F3(A,h,s)),N.push(ip),N.push(I3(c,H,r))}N.push(ip),N.push(F3(o,h,s))}var oe=r.havingBaseStyle(sn.TEXT),Ae=Ve.makeVList({positionType:"bottom",positionData:I,children:N},oe);return N_(Ve.makeSpan(["delimsizing","mult"],[Ae],oe),sn.TEXT,r,a)},U3=80,P3=.08,L3=function(e,t,n,r,s){var a=ZK(e,r,n),o=new f0(e,a),A=new uA([o],{width:"400em",height:Tt(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Ve.makeSvgSpan(["hide-tail"],[A],s)},X$=function(e,t){var n=t.havingBaseSizing(),r=gS("\\surd",e*n.sizeMultiplier,mS,n),s=n.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),o,A=0,c=0,l=0,u;return r.type==="small"?(l=1e3+1e3*a+U3,e<1?s=1:e<1.4&&(s=.7),A=(1+a+P3)/s,c=(1+a)/s,o=L3("sqrtMain",A,l,a,t),o.style.minWidth="0.853em",u=.833/s):r.type==="large"?(l=(1e3+U3)*Wd[r.size],c=(Wd[r.size]+a)/s,A=(Wd[r.size]+a+P3)/s,o=L3("sqrtSize"+r.size,A,l,a,t),o.style.minWidth="1.02em",u=1/s):(A=e+a+P3,c=e+a,l=Math.floor(1e3*e+a)+U3,o=L3("sqrtTall",A,l,a,t),o.style.minWidth="0.742em",u=1.056),o.height=c,o.style.height=Tt(A),{span:o,advanceWidth:u,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*s}},hS=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],j$=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],pS=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Wd=[0,1.2,1.8,2.4,3],Z$=function(e,t,n,r,s){if(e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle"),pn.contains(hS,e)||pn.contains(pS,e))return dS(e,t,!1,n,r,s);if(pn.contains(j$,e))return fS(e,Wd[t],!1,n,r,s);throw new Rt("Illegal delimiter: '"+e+"'")},J$=[{type:"small",style:sn.SCRIPTSCRIPT},{type:"small",style:sn.SCRIPT},{type:"small",style:sn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],eW=[{type:"small",style:sn.SCRIPTSCRIPT},{type:"small",style:sn.SCRIPT},{type:"small",style:sn.TEXT},{type:"stack"}],mS=[{type:"small",style:sn.SCRIPTSCRIPT},{type:"small",style:sn.SCRIPT},{type:"small",style:sn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],tW=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},gS=function(e,t,n,r){for(var s=Math.min(2,3-r.style.size),a=s;a<n.length&&n[a].type!=="stack";a++){var o=vd(e,tW(n[a]),"math"),A=o.height+o.depth;if(n[a].type==="small"){var c=r.havingBaseStyle(n[a].style);A*=c.sizeMultiplier}if(A>t)return n[a]}return n[n.length-1]},yS=function(e,t,n,r,s,a){e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle");var o;pn.contains(pS,e)?o=J$:pn.contains(hS,e)?o=mS:o=eW;var A=gS(e,t,o,r);return A.type==="small"?$$(e,A.style,n,r,s,a):A.type==="large"?dS(e,A.size,n,r,s,a):fS(e,t,n,r,s,a)},nW=function(e,t,n,r,s,a){var o=r.fontMetrics().axisHeight*r.sizeMultiplier,A=901,c=5/r.fontMetrics().ptPerEm,l=Math.max(t-o,n+o),u=Math.max(l/500*A,2*l-c);return yS(e,u,!0,r,s,a)},sA={sqrtImage:X$,sizedDelim:Z$,sizeToMaxHeight:Wd,customSizedDelim:yS,leftRightDelim:nW},Jx={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},iW=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Bg(i,e){var t=xg(i);if(t&&pn.contains(iW,t.text))return t;throw t?new Rt("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",i):new Rt("Invalid delimiter type '"+i.type+"'",i)}Dt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(i,e)=>{var t=Bg(e[0],i);return{type:"delimsizing",mode:i.parser.mode,size:Jx[i.funcName].size,mclass:Jx[i.funcName].mclass,delim:t.text}},htmlBuilder:(i,e)=>i.delim==="."?Ve.makeSpan([i.mclass]):sA.sizedDelim(i.delim,i.size,e,i.mode,[i.mclass]),mathmlBuilder:i=>{var e=[];i.delim!=="."&&e.push(da(i.delim,i.mode));var t=new _t.MathNode("mo",e);i.mclass==="mopen"||i.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var n=Tt(sA.sizeToMaxHeight[i.size]);return t.setAttribute("minsize",n),t.setAttribute("maxsize",n),t}});function e5(i){if(!i.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Dt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(i,e)=>{var t=i.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new Rt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:i.parser.mode,delim:Bg(e[0],i).text,color:t}}});Dt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(i,e)=>{var t=Bg(e[0],i),n=i.parser;++n.leftrightDepth;var r=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var s=Cn(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:r,left:t.text,right:s.delim,rightColor:s.color}},htmlBuilder:(i,e)=>{e5(i);for(var t=nr(i.body,e,!0,["mopen","mclose"]),n=0,r=0,s=!1,a=0;a<t.length;a++)t[a].isMiddle?s=!0:(n=Math.max(t[a].height,n),r=Math.max(t[a].depth,r));n*=e.sizeMultiplier,r*=e.sizeMultiplier;var o;if(i.left==="."?o=yf(e,["mopen"]):o=sA.leftRightDelim(i.left,n,r,e,i.mode,["mopen"]),t.unshift(o),s)for(var A=1;A<t.length;A++){var c=t[A],l=c.isMiddle;l&&(t[A]=sA.leftRightDelim(l.delim,n,r,l.options,i.mode,[]))}var u;if(i.right===".")u=yf(e,["mclose"]);else{var d=i.rightColor?e.withColor(i.rightColor):e;u=sA.leftRightDelim(i.right,n,r,d,i.mode,["mclose"])}return t.push(u),Ve.makeSpan(["minner"],t,e)},mathmlBuilder:(i,e)=>{e5(i);var t=fs(i.body,e);if(i.left!=="."){var n=new _t.MathNode("mo",[da(i.left,i.mode)]);n.setAttribute("fence","true"),t.unshift(n)}if(i.right!=="."){var r=new _t.MathNode("mo",[da(i.right,i.mode)]);r.setAttribute("fence","true"),i.rightColor&&r.setAttribute("mathcolor",i.rightColor),t.push(r)}return R_(t)}});Dt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(i,e)=>{var t=Bg(e[0],i);if(!i.parser.leftrightDepth)throw new Rt("\\middle without preceding \\left",t);return{type:"middle",mode:i.parser.mode,delim:t.text}},htmlBuilder:(i,e)=>{var t;if(i.delim===".")t=yf(e,[]);else{t=sA.sizedDelim(i.delim,1,e,i.mode,[]);var n={delim:i.delim,options:e};t.isMiddle=n}return t},mathmlBuilder:(i,e)=>{var t=i.delim==="\\vert"||i.delim==="|"?da("|","text"):da(i.delim,i.mode),n=new _t.MathNode("mo",[t]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var M_=(i,e)=>{var t=Ve.wrapFragment(On(i.body,e),e),n=i.label.slice(1),r=e.sizeMultiplier,s,a=0,o=pn.isCharacterBox(i.body);if(n==="sout")s=Ve.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/r,a=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var A=Ti({number:.6,unit:"pt"},e),c=Ti({number:.35,unit:"ex"},e),l=e.havingBaseSizing();r=r/l.sizeMultiplier;var u=t.height+t.depth+A+c;t.style.paddingLeft=Tt(u/2+A);var d=Math.floor(1e3*u*r),h=XK(d),m=new uA([new f0("phase",h)],{width:"400em",height:Tt(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});s=Ve.makeSvgSpan(["hide-tail"],[m],e),s.style.height=Tt(u),a=t.depth+A+c}else{/cancel/.test(n)?o||t.classes.push("cancel-pad"):n==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var y=0,g=0,E=0;/box/.test(n)?(E=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),y=e.fontMetrics().fboxsep+(n==="colorbox"?0:E),g=y):n==="angl"?(E=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),y=4*E,g=Math.max(0,.25-t.depth)):(y=o?.2:0,g=y),s=fA.encloseSpan(t,n,y,g,e),/fbox|boxed|fcolorbox/.test(n)?(s.style.borderStyle="solid",s.style.borderWidth=Tt(E)):n==="angl"&&E!==.049&&(s.style.borderTopWidth=Tt(E),s.style.borderRightWidth=Tt(E)),a=t.depth+g,i.backgroundColor&&(s.style.backgroundColor=i.backgroundColor,i.borderColor&&(s.style.borderColor=i.borderColor))}var R;if(i.backgroundColor)R=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:t,shift:0}]},e);else{var p=/cancel|phase/.test(n)?["svg-align"]:[];R=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:p}]},e)}return/cancel/.test(n)&&(R.height=t.height,R.depth=t.depth),/cancel/.test(n)&&!o?Ve.makeSpan(["mord","cancel-lap"],[R],e):Ve.makeSpan(["mord"],[R],e)},T_=(i,e)=>{var t=0,n=new _t.MathNode(i.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ai(i.body,e)]);switch(i.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*t+"pt"),n.setAttribute("height","+"+2*t+"pt"),n.setAttribute("lspace",t+"pt"),n.setAttribute("voffset",t+"pt"),i.label==="\\fcolorbox"){var r=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+r+"em solid "+String(i.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return i.backgroundColor&&n.setAttribute("mathbackground",i.backgroundColor),n};Dt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(i,e,t){var{parser:n,funcName:r}=i,s=Cn(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:n.mode,label:r,backgroundColor:s,body:a}},htmlBuilder:M_,mathmlBuilder:T_});Dt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(i,e,t){var{parser:n,funcName:r}=i,s=Cn(e[0],"color-token").color,a=Cn(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:n.mode,label:r,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:M_,mathmlBuilder:T_});Dt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(i,e){var{parser:t}=i;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});Dt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(i,e){var{parser:t,funcName:n}=i,r=e[0];return{type:"enclose",mode:t.mode,label:n,body:r}},htmlBuilder:M_,mathmlBuilder:T_});Dt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(i,e){var{parser:t}=i;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var wS={};function go(i){for(var{type:e,names:t,props:n,handler:r,htmlBuilder:s,mathmlBuilder:a}=i,o={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},A=0;A<t.length;++A)wS[t[A]]=o;s&&(vm[e]=s),a&&(xm[e]=a)}var bS={};function ae(i,e){bS[i]=e}function t5(i){var e=[];i.consumeSpaces();var t=i.fetch().text;for(t==="\\relax"&&(i.consume(),i.consumeSpaces(),t=i.fetch().text);t==="\\hline"||t==="\\hdashline";)i.consume(),e.push(t==="\\hdashline"),i.consumeSpaces(),t=i.fetch().text;return e}var Cg=i=>{var e=i.parser.settings;if(!e.displayMode)throw new Rt("{"+i.envName+"} can be used only in display mode.")};function G_(i){if(i.indexOf("ed")===-1)return i.indexOf("*")===-1}function b0(i,e,t){var{hskipBeforeAndAfter:n,addJot:r,cols:s,arraystretch:a,colSeparationType:o,autoTag:A,singleRow:c,emptySingleRow:l,maxNumCols:u,leqno:d}=e;if(i.gullet.beginGroup(),c||i.gullet.macros.set("\\cr","\\\\\\relax"),!a){var h=i.gullet.expandMacroAsText("\\arraystretch");if(h==null)a=1;else if(a=parseFloat(h),!a||a<0)throw new Rt("Invalid \\arraystretch: "+h)}i.gullet.beginGroup();var m=[],y=[m],g=[],E=[],R=A!=null?[]:void 0;function p(){A&&i.gullet.macros.set("\\@eqnsw","1",!0)}function w(){R&&(i.gullet.macros.get("\\df@tag")?(R.push(i.subparse([new ao("\\df@tag")])),i.gullet.macros.set("\\df@tag",void 0,!0)):R.push(Boolean(A)&&i.gullet.macros.get("\\@eqnsw")==="1"))}for(p(),E.push(t5(i));;){var v=i.parseExpression(!1,c?"\\end":"\\\\");i.gullet.endGroup(),i.gullet.beginGroup(),v={type:"ordgroup",mode:i.mode,body:v},t&&(v={type:"styling",mode:i.mode,style:t,body:[v]}),m.push(v);var _=i.fetch().text;if(_==="&"){if(u&&m.length===u){if(c||o)throw new Rt("Too many tab characters: &",i.nextToken);i.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}i.consume()}else if(_==="\\end"){w(),m.length===1&&v.type==="styling"&&v.body[0].body.length===0&&(y.length>1||!l)&&y.pop(),E.length<y.length+1&&E.push([]);break}else if(_==="\\\\"){i.consume();var x=void 0;i.gullet.future().text!==" "&&(x=i.parseSizeGroup(!0)),g.push(x?x.value:null),w(),E.push(t5(i)),m=[],y.push(m),p()}else throw new Rt("Expected & or \\\\ or \\cr or \\end",i.nextToken)}return i.gullet.endGroup(),i.gullet.endGroup(),{type:"array",mode:i.mode,addJot:r,arraystretch:a,body:y,cols:s,rowGaps:g,hskipBeforeAndAfter:n,hLinesBeforeRow:E,colSeparationType:o,tags:R,leqno:d}}function F_(i){return i.slice(0,1)==="d"?"display":"text"}var yo=function(e,t){var n,r,s=e.body.length,a=e.hLinesBeforeRow,o=0,A=new Array(s),c=[],l=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),u=1/t.fontMetrics().ptPerEm,d=5*u;if(e.colSeparationType&&e.colSeparationType==="small"){var h=t.havingStyle(sn.SCRIPT).sizeMultiplier;d=.2778*(h/t.sizeMultiplier)}var m=e.colSeparationType==="CD"?Ti({number:3,unit:"ex"},t):12*u,y=3*u,g=e.arraystretch*m,E=.7*g,R=.3*g,p=0;function w(tt){for(var Ie=0;Ie<tt.length;++Ie)Ie>0&&(p+=.25),c.push({pos:p,isDashed:tt[Ie]})}for(w(a[0]),n=0;n<e.body.length;++n){var v=e.body[n],_=E,x=R;o<v.length&&(o=v.length);var C=new Array(v.length);for(r=0;r<v.length;++r){var B=On(v[r],t);x<B.depth&&(x=B.depth),_<B.height&&(_=B.height),C[r]=B}var G=e.rowGaps[n],I=0;G&&(I=Ti(G,t),I>0&&(I+=R,x<I&&(x=I),I=0)),e.addJot&&(x+=y),C.height=_,C.depth=x,p+=_,C.pos=p,p+=x+I,A[n]=C,w(a[n+1])}var N=p/2+t.fontMetrics().axisHeight,T=e.cols||[],M=[],U,z,L=[];if(e.tags&&e.tags.some(tt=>tt))for(n=0;n<s;++n){var k=A[n],K=k.pos-N,V=e.tags[n],D=void 0;V===!0?D=Ve.makeSpan(["eqn-num"],[],t):V===!1?D=Ve.makeSpan([],[],t):D=Ve.makeSpan([],nr(V,t,!0),t),D.depth=k.depth,D.height=k.height,L.push({type:"elem",elem:D,shift:K})}for(r=0,z=0;r<o||z<T.length;++r,++z){for(var H=T[z]||{},oe=!0;H.type==="separator";){if(oe||(U=Ve.makeSpan(["arraycolsep"],[]),U.style.width=Tt(t.fontMetrics().doubleRuleSep),M.push(U)),H.separator==="|"||H.separator===":"){var Ae=H.separator==="|"?"solid":"dashed",ee=Ve.makeSpan(["vertical-separator"],[],t);ee.style.height=Tt(p),ee.style.borderRightWidth=Tt(l),ee.style.borderRightStyle=Ae,ee.style.margin="0 "+Tt(-l/2);var se=p-N;se&&(ee.style.verticalAlign=Tt(-se)),M.push(ee)}else throw new Rt("Invalid separator type: "+H.separator);z++,H=T[z]||{},oe=!1}if(!(r>=o)){var le=void 0;(r>0||e.hskipBeforeAndAfter)&&(le=pn.deflt(H.pregap,d),le!==0&&(U=Ve.makeSpan(["arraycolsep"],[]),U.style.width=Tt(le),M.push(U)));var J=[];for(n=0;n<s;++n){var me=A[n],ue=me[r];if(!!ue){var ge=me.pos-N;ue.depth=me.depth,ue.height=me.height,J.push({type:"elem",elem:ue,shift:ge})}}J=Ve.makeVList({positionType:"individualShift",children:J},t),J=Ve.makeSpan(["col-align-"+(H.align||"c")],[J]),M.push(J),(r<o-1||e.hskipBeforeAndAfter)&&(le=pn.deflt(H.postgap,d),le!==0&&(U=Ve.makeSpan(["arraycolsep"],[]),U.style.width=Tt(le),M.push(U)))}}if(A=Ve.makeSpan(["mtable"],M),c.length>0){for(var fe=Ve.makeLineSpan("hline",t,l),we=Ve.makeLineSpan("hdashline",t,l),Fe=[{type:"elem",elem:A,shift:0}];c.length>0;){var je=c.pop(),De=je.pos-N;je.isDashed?Fe.push({type:"elem",elem:we,shift:De}):Fe.push({type:"elem",elem:fe,shift:De})}A=Ve.makeVList({positionType:"individualShift",children:Fe},t)}if(L.length===0)return Ve.makeSpan(["mord"],[A],t);var Le=Ve.makeVList({positionType:"individualShift",children:L},t);return Le=Ve.makeSpan(["tag"],[Le],t),Ve.makeFragment([A,Le])},rW={c:"center ",l:"left ",r:"right "},wo=function(e,t){for(var n=[],r=new _t.MathNode("mtd",[],["mtr-glue"]),s=new _t.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],A=[],c=0;c<o.length;c++)A.push(new _t.MathNode("mtd",[Ai(o[c],t)]));e.tags&&e.tags[a]&&(A.unshift(r),A.push(r),e.leqno?A.unshift(s):A.push(s)),n.push(new _t.MathNode("mtr",A))}var l=new _t.MathNode("mtable",n),u=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);l.setAttribute("rowspacing",Tt(u));var d="",h="";if(e.cols&&e.cols.length>0){var m=e.cols,y="",g=!1,E=0,R=m.length;m[0].type==="separator"&&(d+="top ",E=1),m[m.length-1].type==="separator"&&(d+="bottom ",R-=1);for(var p=E;p<R;p++)m[p].type==="align"?(h+=rW[m[p].align],g&&(y+="none "),g=!0):m[p].type==="separator"&&g&&(y+=m[p].separator==="|"?"solid ":"dashed ",g=!1);l.setAttribute("columnalign",h.trim()),/[sd]/.test(y)&&l.setAttribute("columnlines",y.trim())}if(e.colSeparationType==="align"){for(var w=e.cols||[],v="",_=1;_<w.length;_++)v+=_%2?"0em ":"1em ";l.setAttribute("columnspacing",v.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?l.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?l.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?l.setAttribute("columnspacing","0.5em"):l.setAttribute("columnspacing","1em");var x="",C=e.hLinesBeforeRow;d+=C[0].length>0?"left ":"",d+=C[C.length-1].length>0?"right ":"";for(var B=1;B<C.length-1;B++)x+=C[B].length===0?"none ":C[B][0]?"dashed ":"solid ";return/[sd]/.test(x)&&l.setAttribute("rowlines",x.trim()),d!==""&&(l=new _t.MathNode("menclose",[l]),l.setAttribute("notation",d.trim())),e.arraystretch&&e.arraystretch<1&&(l=new _t.MathNode("mstyle",[l]),l.setAttribute("scriptlevel","1")),l},ES=function(e,t){e.envName.indexOf("ed")===-1&&Cg(e);var n=[],r=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=b0(e.parser,{cols:n,addJot:!0,autoTag:s?void 0:G_(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,A=0,c={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var l="",u=0;u<t[0].body.length;u++){var d=Cn(t[0].body[u],"textord");l+=d.text}o=Number(l),A=o*2}var h=!A;a.body.forEach(function(E){for(var R=1;R<E.length;R+=2){var p=Cn(E[R],"styling"),w=Cn(p.body[0],"ordgroup");w.body.unshift(c)}if(h)A<E.length&&(A=E.length);else{var v=E.length/2;if(o<v)throw new Rt("Too many math in a row: "+("expected "+o+", but got "+v),E[0])}});for(var m=0;m<A;++m){var y="r",g=0;m%2===1?y="l":m>0&&h&&(g=1),n[m]={type:"align",align:y,pregap:g,postgap:0}}return a.colSeparationType=h?"align":"alignat",a};go({type:"array",names:["array","darray"],props:{numArgs:1},handler(i,e){var t=xg(e[0]),n=t?[e[0]]:Cn(e[0],"ordgroup").body,r=n.map(function(a){var o=C_(a),A=o.text;if("lcr".indexOf(A)!==-1)return{type:"align",align:A};if(A==="|")return{type:"separator",separator:"|"};if(A===":")return{type:"separator",separator:":"};throw new Rt("Unknown column alignment: "+A,a)}),s={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return b0(i.parser,s,F_(i.envName))},htmlBuilder:yo,mathmlBuilder:wo});go({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(i){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[i.envName.replace("*","")],t="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(i.envName.charAt(i.envName.length-1)==="*"){var r=i.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),t=r.fetch().text,"lcr".indexOf(t)===-1)throw new Rt("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),n.cols=[{type:"align",align:t}]}}var s=b0(i.parser,n,F_(i.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:t}),e?{type:"leftright",mode:i.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:yo,mathmlBuilder:wo});go({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(i){var e={arraystretch:.5},t=b0(i.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:yo,mathmlBuilder:wo});go({type:"array",names:["subarray"],props:{numArgs:1},handler(i,e){var t=xg(e[0]),n=t?[e[0]]:Cn(e[0],"ordgroup").body,r=n.map(function(a){var o=C_(a),A=o.text;if("lc".indexOf(A)!==-1)return{type:"align",align:A};throw new Rt("Unknown column alignment: "+A,a)});if(r.length>1)throw new Rt("{subarray} can contain only one column");var s={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=b0(i.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Rt("{subarray} can contain only one column");return s},htmlBuilder:yo,mathmlBuilder:wo});go({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(i){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=b0(i.parser,e,F_(i.envName));return{type:"leftright",mode:i.mode,body:[t],left:i.envName.indexOf("r")>-1?".":"\\{",right:i.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:yo,mathmlBuilder:wo});go({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:ES,htmlBuilder:yo,mathmlBuilder:wo});go({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(i){pn.contains(["gather","gather*"],i.envName)&&Cg(i);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:G_(i.envName),emptySingleRow:!0,leqno:i.parser.settings.leqno};return b0(i.parser,e,"display")},htmlBuilder:yo,mathmlBuilder:wo});go({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:ES,htmlBuilder:yo,mathmlBuilder:wo});go({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(i){Cg(i);var e={autoTag:G_(i.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:i.parser.settings.leqno};return b0(i.parser,e,"display")},htmlBuilder:yo,mathmlBuilder:wo});go({type:"array",names:["CD"],props:{numArgs:0},handler(i){return Cg(i),V$(i.parser)},htmlBuilder:yo,mathmlBuilder:wo});ae("\\nonumber","\\gdef\\@eqnsw{0}");ae("\\notag","\\nonumber");Dt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(i,e){throw new Rt(i.funcName+" valid only within array environment")}});var n5=wS;Dt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(i,e){var{parser:t,funcName:n}=i,r=e[0];if(r.type!=="ordgroup")throw new Rt("Invalid environment name",r);for(var s="",a=0;a<r.body.length;++a)s+=Cn(r.body[a],"textord").text;if(n==="\\begin"){if(!n5.hasOwnProperty(s))throw new Rt("No such environment: "+s,r);var o=n5[s],{args:A,optArgs:c}=t.parseArguments("\\begin{"+s+"}",o),l={mode:t.mode,envName:s,parser:t},u=o.handler(l,A,c);t.expect("\\end",!1);var d=t.nextToken,h=Cn(t.parseFunction(),"environment");if(h.name!==s)throw new Rt("Mismatch: \\begin{"+s+"} matched by \\end{"+h.name+"}",d);return u}return{type:"environment",mode:t.mode,name:s,nameGroup:r}}});var _S=(i,e)=>{var t=i.font,n=e.withFont(t);return On(i.body,n)},vS=(i,e)=>{var t=i.font,n=e.withFont(t);return Ai(i.body,n)},i5={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Dt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=Rm(e[0]),s=n;return s in i5&&(s=i5[s]),{type:"font",mode:t.mode,font:s.slice(1),body:r}},htmlBuilder:_S,mathmlBuilder:vS});Dt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(i,e)=>{var{parser:t}=i,n=e[0],r=pn.isCharacterBox(n);return{type:"mclass",mode:t.mode,mclass:Rg(n),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:n}],isCharacterBox:r}}});Dt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(i,e)=>{var{parser:t,funcName:n,breakOnTokenText:r}=i,{mode:s}=t,a=t.parseExpression(!0,r),o="math"+n.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:t.mode,body:a}}},htmlBuilder:_S,mathmlBuilder:vS});var xS=(i,e)=>{var t=e;return i==="display"?t=t.id>=sn.SCRIPT.id?t.text():sn.DISPLAY:i==="text"&&t.size===sn.DISPLAY.size?t=sn.TEXT:i==="script"?t=sn.SCRIPT:i==="scriptscript"&&(t=sn.SCRIPTSCRIPT),t},I_=(i,e)=>{var t=xS(i.size,e.style),n=t.fracNum(),r=t.fracDen(),s;s=e.havingStyle(n);var a=On(i.numer,s,e);if(i.continued){var o=8.5/e.fontMetrics().ptPerEm,A=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<A?A:a.depth}s=e.havingStyle(r);var c=On(i.denom,s,e),l,u,d;i.hasBarLine?(i.barSize?(u=Ti(i.barSize,e),l=Ve.makeLineSpan("frac-line",e,u)):l=Ve.makeLineSpan("frac-line",e),u=l.height,d=l.height):(l=null,u=0,d=e.fontMetrics().defaultRuleThickness);var h,m,y;t.size===sn.DISPLAY.size||i.size==="display"?(h=e.fontMetrics().num1,u>0?m=3*d:m=7*d,y=e.fontMetrics().denom1):(u>0?(h=e.fontMetrics().num2,m=d):(h=e.fontMetrics().num3,m=3*d),y=e.fontMetrics().denom2);var g;if(l){var R=e.fontMetrics().axisHeight;h-a.depth-(R+.5*u)<m&&(h+=m-(h-a.depth-(R+.5*u))),R-.5*u-(c.height-y)<m&&(y+=m-(R-.5*u-(c.height-y)));var p=-(R-.5*u);g=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:y},{type:"elem",elem:l,shift:p},{type:"elem",elem:a,shift:-h}]},e)}else{var E=h-a.depth-(c.height-y);E<m&&(h+=.5*(m-E),y+=.5*(m-E)),g=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:y},{type:"elem",elem:a,shift:-h}]},e)}s=e.havingStyle(t),g.height*=s.sizeMultiplier/e.sizeMultiplier,g.depth*=s.sizeMultiplier/e.sizeMultiplier;var w;t.size===sn.DISPLAY.size?w=e.fontMetrics().delim1:t.size===sn.SCRIPTSCRIPT.size?w=e.havingStyle(sn.SCRIPT).fontMetrics().delim2:w=e.fontMetrics().delim2;var v,_;return i.leftDelim==null?v=yf(e,["mopen"]):v=sA.customSizedDelim(i.leftDelim,w,!0,e.havingStyle(t),i.mode,["mopen"]),i.continued?_=Ve.makeSpan([]):i.rightDelim==null?_=yf(e,["mclose"]):_=sA.customSizedDelim(i.rightDelim,w,!0,e.havingStyle(t),i.mode,["mclose"]),Ve.makeSpan(["mord"].concat(s.sizingClasses(e)),[v,Ve.makeSpan(["mfrac"],[g]),_],e)},U_=(i,e)=>{var t=new _t.MathNode("mfrac",[Ai(i.numer,e),Ai(i.denom,e)]);if(!i.hasBarLine)t.setAttribute("linethickness","0px");else if(i.barSize){var n=Ti(i.barSize,e);t.setAttribute("linethickness",Tt(n))}var r=xS(i.size,e.style);if(r.size!==e.style.size){t=new _t.MathNode("mstyle",[t]);var s=r.size===sn.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",s),t.setAttribute("scriptlevel","0")}if(i.leftDelim!=null||i.rightDelim!=null){var a=[];if(i.leftDelim!=null){var o=new _t.MathNode("mo",[new _t.TextNode(i.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(t),i.rightDelim!=null){var A=new _t.MathNode("mo",[new _t.TextNode(i.rightDelim.replace("\\",""))]);A.setAttribute("fence","true"),a.push(A)}return R_(a)}return t};Dt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=e[0],s=e[1],a,o=null,A=null,c="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",A=")";break;case"\\\\bracefrac":a=!1,o="\\{",A="\\}";break;case"\\\\brackfrac":a=!1,o="[",A="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:r,denom:s,hasBarLine:a,leftDelim:o,rightDelim:A,size:c,barSize:null}},htmlBuilder:I_,mathmlBuilder:U_});Dt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=e[0],s=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:r,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Dt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(i){var{parser:e,funcName:t,token:n}=i,r;switch(t){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:r,token:n}}});var r5=["display","text","script","scriptscript"],s5=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};Dt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(i,e){var{parser:t}=i,n=e[4],r=e[5],s=Rm(e[0]),a=s.type==="atom"&&s.family==="open"?s5(s.text):null,o=Rm(e[1]),A=o.type==="atom"&&o.family==="close"?s5(o.text):null,c=Cn(e[2],"size"),l,u=null;c.isBlank?l=!0:(u=c.value,l=u.number>0);var d="auto",h=e[3];if(h.type==="ordgroup"){if(h.body.length>0){var m=Cn(h.body[0],"textord");d=r5[Number(m.text)]}}else h=Cn(h,"textord"),d=r5[Number(h.text)];return{type:"genfrac",mode:t.mode,numer:n,denom:r,continued:!1,hasBarLine:l,barSize:u,leftDelim:a,rightDelim:A,size:d}},htmlBuilder:I_,mathmlBuilder:U_});Dt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(i,e){var{parser:t,funcName:n,token:r}=i;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:Cn(e[0],"size").value,token:r}}});Dt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=e[0],s=UK(Cn(e[1],"infix").size),a=e[2],o=s.number>0;return{type:"genfrac",mode:t.mode,numer:r,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:I_,mathmlBuilder:U_});var RS=(i,e)=>{var t=e.style,n,r;i.type==="supsub"?(n=i.sup?On(i.sup,e.havingStyle(t.sup()),e):On(i.sub,e.havingStyle(t.sub()),e),r=Cn(i.base,"horizBrace")):r=Cn(i,"horizBrace");var s=On(r.base,e.havingBaseStyle(sn.DISPLAY)),a=fA.svgSpan(r,e),o;if(r.isOver?(o=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Ve.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),n){var A=Ve.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e);r.isOver?o=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:A},{type:"kern",size:.2},{type:"elem",elem:n}]},e):o=Ve.makeVList({positionType:"bottom",positionData:A.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:A}]},e)}return Ve.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e)},sW=(i,e)=>{var t=fA.mathMLnode(i.label);return new _t.MathNode(i.isOver?"mover":"munder",[Ai(i.base,e),t])};Dt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(i,e){var{parser:t,funcName:n}=i;return{type:"horizBrace",mode:t.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:RS,mathmlBuilder:sW});Dt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,n=e[1],r=Cn(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:t.mode,href:r,body:Vi(n)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(i,e)=>{var t=nr(i.body,e,!1);return Ve.makeAnchor(i.href,[],t,e)},mathmlBuilder:(i,e)=>{var t=h0(i.body,e);return t instanceof na||(t=new na("mrow",[t])),t.setAttribute("href",i.href),t}});Dt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,n=Cn(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:n}))return t.formatUnsupportedCmd("\\url");for(var r=[],s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),r.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:t.mode,font:"\\texttt",body:r};return{type:"href",mode:t.mode,href:n,body:Vi(o)}}});Dt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(i,e){var{parser:t}=i;return{type:"hbox",mode:t.mode,body:Vi(e[0])}},htmlBuilder(i,e){var t=nr(i.body,e,!1);return Ve.makeFragment(t)},mathmlBuilder(i,e){return new _t.MathNode("mrow",fs(i.body,e))}});Dt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(i,e)=>{var{parser:t,funcName:n,token:r}=i,s=Cn(e[0],"raw").string,a=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,A={};switch(n){case"\\htmlClass":A.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":A.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":A.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),l=0;l<c.length;l++){var u=c[l].split("=");if(u.length!==2)throw new Rt("Error parsing key-value for \\htmlData");A["data-"+u[0].trim()]=u[1].trim()}o={command:"\\htmlData",attributes:A};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(o)?{type:"html",mode:t.mode,attributes:A,body:Vi(a)}:t.formatUnsupportedCmd(n)},htmlBuilder:(i,e)=>{var t=nr(i.body,e,!1),n=["enclosing"];i.attributes.class&&n.push(...i.attributes.class.trim().split(/\s+/));var r=Ve.makeSpan(n,t,e);for(var s in i.attributes)s!=="class"&&i.attributes.hasOwnProperty(s)&&r.setAttribute(s,i.attributes[s]);return r},mathmlBuilder:(i,e)=>h0(i.body,e)});Dt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(i,e)=>{var{parser:t}=i;return{type:"htmlmathml",mode:t.mode,html:Vi(e[0]),mathml:Vi(e[1])}},htmlBuilder:(i,e)=>{var t=nr(i.html,e,!1);return Ve.makeFragment(t)},mathmlBuilder:(i,e)=>h0(i.mathml,e)});var D3=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new Rt("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!VC(n))throw new Rt("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Dt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(i,e,t)=>{var{parser:n}=i,r={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(t[0])for(var A=Cn(t[0],"raw").string,c=A.split(","),l=0;l<c.length;l++){var u=c[l].split("=");if(u.length===2){var d=u[1].trim();switch(u[0].trim()){case"alt":o=d;break;case"width":r=D3(d);break;case"height":s=D3(d);break;case"totalheight":a=D3(d);break;default:throw new Rt("Invalid key: '"+u[0]+"' in \\includegraphics.")}}}var h=Cn(e[0],"url").url;return o===""&&(o=h,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:h})?{type:"includegraphics",mode:n.mode,alt:o,width:r,height:s,totalheight:a,src:h}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(i,e)=>{var t=Ti(i.height,e),n=0;i.totalheight.number>0&&(n=Ti(i.totalheight,e)-t);var r=0;i.width.number>0&&(r=Ti(i.width,e));var s={height:Tt(t+n)};r>0&&(s.width=Tt(r)),n>0&&(s.verticalAlign=Tt(-n));var a=new s$(i.src,i.alt,s);return a.height=t,a.depth=n,a},mathmlBuilder:(i,e)=>{var t=new _t.MathNode("mglyph",[]);t.setAttribute("alt",i.alt);var n=Ti(i.height,e),r=0;if(i.totalheight.number>0&&(r=Ti(i.totalheight,e)-n,t.setAttribute("valign",Tt(-r))),t.setAttribute("height",Tt(n+r)),i.width.number>0){var s=Ti(i.width,e);t.setAttribute("width",Tt(s))}return t.setAttribute("src",i.src),t}});Dt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(i,e){var{parser:t,funcName:n}=i,r=Cn(e[0],"size");if(t.settings.strict){var s=n[1]==="m",a=r.value.unit==="mu";s?(a||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+r.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):a&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:r.value}},htmlBuilder(i,e){return Ve.makeGlue(i.dimension,e)},mathmlBuilder(i,e){var t=Ti(i.dimension,e);return new _t.SpaceNode(t)}});Dt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=e[0];return{type:"lap",mode:t.mode,alignment:n.slice(5),body:r}},htmlBuilder:(i,e)=>{var t;i.alignment==="clap"?(t=Ve.makeSpan([],[On(i.body,e)]),t=Ve.makeSpan(["inner"],[t],e)):t=Ve.makeSpan(["inner"],[On(i.body,e)]);var n=Ve.makeSpan(["fix"],[]),r=Ve.makeSpan([i.alignment],[t,n],e),s=Ve.makeSpan(["strut"]);return s.style.height=Tt(r.height+r.depth),r.depth&&(s.style.verticalAlign=Tt(-r.depth)),r.children.unshift(s),r=Ve.makeSpan(["thinbox"],[r],e),Ve.makeSpan(["mord","vbox"],[r],e)},mathmlBuilder:(i,e)=>{var t=new _t.MathNode("mpadded",[Ai(i.body,e)]);if(i.alignment!=="rlap"){var n=i.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",n+"width")}return t.setAttribute("width","0px"),t}});Dt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(i,e){var{funcName:t,parser:n}=i,r=n.mode;n.switchMode("math");var s=t==="\\("?"\\)":"$",a=n.parseExpression(!1,s);return n.expect(s),n.switchMode(r),{type:"styling",mode:n.mode,style:"text",body:a}}});Dt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(i,e){throw new Rt("Mismatched "+i.funcName)}});var a5=(i,e)=>{switch(e.style.size){case sn.DISPLAY.size:return i.display;case sn.TEXT.size:return i.text;case sn.SCRIPT.size:return i.script;case sn.SCRIPTSCRIPT.size:return i.scriptscript;default:return i.text}};Dt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(i,e)=>{var{parser:t}=i;return{type:"mathchoice",mode:t.mode,display:Vi(e[0]),text:Vi(e[1]),script:Vi(e[2]),scriptscript:Vi(e[3])}},htmlBuilder:(i,e)=>{var t=a5(i,e),n=nr(t,e,!1);return Ve.makeFragment(n)},mathmlBuilder:(i,e)=>{var t=a5(i,e);return h0(t,e)}});var BS=(i,e,t,n,r,s,a)=>{i=Ve.makeSpan([],[i]);var o=t&&pn.isCharacterBox(t),A,c;if(e){var l=On(e,n.havingStyle(r.sup()),n);c={elem:l,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-l.depth)}}if(t){var u=On(t,n.havingStyle(r.sub()),n);A={elem:u,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-u.height)}}var d;if(c&&A){var h=n.fontMetrics().bigOpSpacing5+A.elem.height+A.elem.depth+A.kern+i.depth+a;d=Ve.makeVList({positionType:"bottom",positionData:h,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:A.elem,marginLeft:Tt(-s)},{type:"kern",size:A.kern},{type:"elem",elem:i},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:Tt(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(A){var m=i.height-a;d=Ve.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:A.elem,marginLeft:Tt(-s)},{type:"kern",size:A.kern},{type:"elem",elem:i}]},n)}else if(c){var y=i.depth+a;d=Ve.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:i},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:Tt(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return i;var g=[d];if(A&&s!==0&&!o){var E=Ve.makeSpan(["mspace"],[],n);E.style.marginRight=Tt(s),g.unshift(E)}return Ve.makeSpan(["mop","op-limits"],g,n)},CS=["\\smallint"],bu=(i,e)=>{var t,n,r=!1,s;i.type==="supsub"?(t=i.sup,n=i.sub,s=Cn(i.base,"op"),r=!0):s=Cn(i,"op");var a=e.style,o=!1;a.size===sn.DISPLAY.size&&s.symbol&&!pn.contains(CS,s.name)&&(o=!0);var A;if(s.symbol){var c=o?"Size2-Regular":"Size1-Regular",l="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(l=s.name.slice(1),s.name=l==="oiint"?"\\iint":"\\iiint"),A=Ve.makeSymbol(s.name,c,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),l.length>0){var u=A.italic,d=Ve.staticSvg(l+"Size"+(o?"2":"1"),e);A=Ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:A,shift:0},{type:"elem",elem:d,shift:o?.08:0}]},e),s.name="\\"+l,A.classes.unshift("mop"),A.italic=u}}else if(s.body){var h=nr(s.body,e,!0);h.length===1&&h[0]instanceof ua?(A=h[0],A.classes[0]="mop"):A=Ve.makeSpan(["mop"],h,e)}else{for(var m=[],y=1;y<s.name.length;y++)m.push(Ve.mathsym(s.name[y],s.mode,e));A=Ve.makeSpan(["mop"],m,e)}var g=0,E=0;return(A instanceof ua||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(g=(A.height-A.depth)/2-e.fontMetrics().axisHeight,E=A.italic),r?BS(A,t,n,e,a,E,g):(g&&(A.style.position="relative",A.style.top=Tt(g)),A)},Hf=(i,e)=>{var t;if(i.symbol)t=new na("mo",[da(i.name,i.mode)]),pn.contains(CS,i.name)&&t.setAttribute("largeop","false");else if(i.body)t=new na("mo",fs(i.body,e));else{t=new na("mi",[new $d(i.name.slice(1))]);var n=new na("mo",[da("\u2061","text")]);i.parentIsSupSub?t=new na("mrow",[t,n]):t=tS([t,n])}return t},aW={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};Dt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=n;return r.length===1&&(r=aW[r]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:bu,mathmlBuilder:Hf});Dt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(i,e)=>{var{parser:t}=i,n=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Vi(n)}},htmlBuilder:bu,mathmlBuilder:Hf});var oW={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};Dt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(i){var{parser:e,funcName:t}=i;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:bu,mathmlBuilder:Hf});Dt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(i){var{parser:e,funcName:t}=i;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:bu,mathmlBuilder:Hf});Dt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(i){var{parser:e,funcName:t}=i,n=t;return n.length===1&&(n=oW[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:bu,mathmlBuilder:Hf});var SS=(i,e)=>{var t,n,r=!1,s;i.type==="supsub"?(t=i.sup,n=i.sub,s=Cn(i.base,"operatorname"),r=!0):s=Cn(i,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(u=>{var d=u.text;return typeof d=="string"?{type:"textord",mode:u.mode,text:d}:u}),A=nr(o,e.withFont("mathrm"),!0),c=0;c<A.length;c++){var l=A[c];l instanceof ua&&(l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=Ve.makeSpan(["mop"],A,e)}else a=Ve.makeSpan(["mop"],[],e);return r?BS(a,t,n,e,e.style,0,0):a},AW=(i,e)=>{for(var t=fs(i.body,e.withFont("mathrm")),n=!0,r=0;r<t.length;r++){var s=t[r];if(!(s instanceof _t.SpaceNode))if(s instanceof _t.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof _t.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var o=t.map(l=>l.toText()).join("");t=[new _t.TextNode(o)]}var A=new _t.MathNode("mi",t);A.setAttribute("mathvariant","normal");var c=new _t.MathNode("mo",[da("\u2061","text")]);return i.parentIsSupSub?new _t.MathNode("mrow",[A,c]):_t.newDocumentFragment([A,c])};Dt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=e[0];return{type:"operatorname",mode:t.mode,body:Vi(r),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:SS,mathmlBuilder:AW});ae("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Nc({type:"ordgroup",htmlBuilder(i,e){return i.semisimple?Ve.makeFragment(nr(i.body,e,!1)):Ve.makeSpan(["mord"],nr(i.body,e,!0),e)},mathmlBuilder(i,e){return h0(i.body,e,!0)}});Dt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(i,e){var{parser:t}=i,n=e[0];return{type:"overline",mode:t.mode,body:n}},htmlBuilder(i,e){var t=On(i.body,e.havingCrampedStyle()),n=Ve.makeLineSpan("overline-line",e),r=e.fontMetrics().defaultRuleThickness,s=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*r},{type:"elem",elem:n},{type:"kern",size:r}]},e);return Ve.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(i,e){var t=new _t.MathNode("mo",[new _t.TextNode("\u203E")]);t.setAttribute("stretchy","true");var n=new _t.MathNode("mover",[Ai(i.body,e),t]);return n.setAttribute("accent","true"),n}});Dt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,n=e[0];return{type:"phantom",mode:t.mode,body:Vi(n)}},htmlBuilder:(i,e)=>{var t=nr(i.body,e.withPhantom(),!1);return Ve.makeFragment(t)},mathmlBuilder:(i,e)=>{var t=fs(i.body,e);return new _t.MathNode("mphantom",t)}});Dt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,n=e[0];return{type:"hphantom",mode:t.mode,body:n}},htmlBuilder:(i,e)=>{var t=Ve.makeSpan([],[On(i.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var n=0;n<t.children.length;n++)t.children[n].height=0,t.children[n].depth=0;return t=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),Ve.makeSpan(["mord"],[t],e)},mathmlBuilder:(i,e)=>{var t=fs(Vi(i.body),e),n=new _t.MathNode("mphantom",t),r=new _t.MathNode("mpadded",[n]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});Dt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,n=e[0];return{type:"vphantom",mode:t.mode,body:n}},htmlBuilder:(i,e)=>{var t=Ve.makeSpan(["inner"],[On(i.body,e.withPhantom())]),n=Ve.makeSpan(["fix"],[]);return Ve.makeSpan(["mord","rlap"],[t,n],e)},mathmlBuilder:(i,e)=>{var t=fs(Vi(i.body),e),n=new _t.MathNode("mphantom",t),r=new _t.MathNode("mpadded",[n]);return r.setAttribute("width","0px"),r}});Dt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(i,e){var{parser:t}=i,n=Cn(e[0],"size").value,r=e[1];return{type:"raisebox",mode:t.mode,dy:n,body:r}},htmlBuilder(i,e){var t=On(i.body,e),n=Ti(i.dy,e);return Ve.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(i,e){var t=new _t.MathNode("mpadded",[Ai(i.body,e)]),n=i.dy.number+i.dy.unit;return t.setAttribute("voffset",n),t}});Dt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(i){var{parser:e}=i;return{type:"internal",mode:e.mode}}});Dt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(i,e,t){var{parser:n}=i,r=t[0],s=Cn(e[0],"size"),a=Cn(e[1],"size");return{type:"rule",mode:n.mode,shift:r&&Cn(r,"size").value,width:s.value,height:a.value}},htmlBuilder(i,e){var t=Ve.makeSpan(["mord","rule"],[],e),n=Ti(i.width,e),r=Ti(i.height,e),s=i.shift?Ti(i.shift,e):0;return t.style.borderRightWidth=Tt(n),t.style.borderTopWidth=Tt(r),t.style.bottom=Tt(s),t.width=n,t.height=r+s,t.depth=-s,t.maxFontSize=r*1.125*e.sizeMultiplier,t},mathmlBuilder(i,e){var t=Ti(i.width,e),n=Ti(i.height,e),r=i.shift?Ti(i.shift,e):0,s=e.color&&e.getColor()||"black",a=new _t.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",Tt(t)),a.setAttribute("height",Tt(n));var o=new _t.MathNode("mpadded",[a]);return r>=0?o.setAttribute("height",Tt(r)):(o.setAttribute("height",Tt(r)),o.setAttribute("depth",Tt(-r))),o.setAttribute("voffset",Tt(r)),o}});function NS(i,e,t){for(var n=nr(i,e,!1),r=e.sizeMultiplier/t.sizeMultiplier,s=0;s<n.length;s++){var a=n[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(n[s].classes,e.sizingClasses(t)):n[s].classes[a+1]==="reset-size"+e.size&&(n[s].classes[a+1]="reset-size"+t.size),n[s].height*=r,n[s].depth*=r}return Ve.makeFragment(n)}var o5=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],cW=(i,e)=>{var t=e.havingSize(i.size);return NS(i.body,t,e)};Dt({type:"sizing",names:o5,props:{numArgs:0,allowedInText:!0},handler:(i,e)=>{var{breakOnTokenText:t,funcName:n,parser:r}=i,s=r.parseExpression(!1,t);return{type:"sizing",mode:r.mode,size:o5.indexOf(n)+1,body:s}},htmlBuilder:cW,mathmlBuilder:(i,e)=>{var t=e.havingSize(i.size),n=fs(i.body,t),r=new _t.MathNode("mstyle",n);return r.setAttribute("mathsize",Tt(t.sizeMultiplier)),r}});Dt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(i,e,t)=>{var{parser:n}=i,r=!1,s=!1,a=t[0]&&Cn(t[0],"ordgroup");if(a)for(var o="",A=0;A<a.body.length;++A){var c=a.body[A];if(o=c.text,o==="t")r=!0;else if(o==="b")s=!0;else{r=!1,s=!1;break}}else r=!0,s=!0;var l=e[0];return{type:"smash",mode:n.mode,body:l,smashHeight:r,smashDepth:s}},htmlBuilder:(i,e)=>{var t=Ve.makeSpan([],[On(i.body,e)]);if(!i.smashHeight&&!i.smashDepth)return t;if(i.smashHeight&&(t.height=0,t.children))for(var n=0;n<t.children.length;n++)t.children[n].height=0;if(i.smashDepth&&(t.depth=0,t.children))for(var r=0;r<t.children.length;r++)t.children[r].depth=0;var s=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return Ve.makeSpan(["mord"],[s],e)},mathmlBuilder:(i,e)=>{var t=new _t.MathNode("mpadded",[Ai(i.body,e)]);return i.smashHeight&&t.setAttribute("height","0px"),i.smashDepth&&t.setAttribute("depth","0px"),t}});Dt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(i,e,t){var{parser:n}=i,r=t[0],s=e[0];return{type:"sqrt",mode:n.mode,body:s,index:r}},htmlBuilder(i,e){var t=On(i.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=Ve.wrapFragment(t,e);var n=e.fontMetrics(),r=n.defaultRuleThickness,s=r;e.style.id<sn.TEXT.id&&(s=e.fontMetrics().xHeight);var a=r+s/4,o=t.height+t.depth+a+r,{span:A,ruleWidth:c,advanceWidth:l}=sA.sqrtImage(o,e),u=A.height-c;u>t.height+t.depth+a&&(a=(a+u-t.height-t.depth)/2);var d=A.height-t.height-a-c;t.style.paddingLeft=Tt(l);var h=Ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+d)},{type:"elem",elem:A},{type:"kern",size:c}]},e);if(i.index){var m=e.havingStyle(sn.SCRIPTSCRIPT),y=On(i.index,m,e),g=.6*(h.height-h.depth),E=Ve.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:y}]},e),R=Ve.makeSpan(["root"],[E]);return Ve.makeSpan(["mord","sqrt"],[R,h],e)}else return Ve.makeSpan(["mord","sqrt"],[h],e)},mathmlBuilder(i,e){var{body:t,index:n}=i;return n?new _t.MathNode("mroot",[Ai(t,e),Ai(n,e)]):new _t.MathNode("msqrt",[Ai(t,e)])}});var A5={display:sn.DISPLAY,text:sn.TEXT,script:sn.SCRIPT,scriptscript:sn.SCRIPTSCRIPT};Dt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(i,e){var{breakOnTokenText:t,funcName:n,parser:r}=i,s=r.parseExpression(!0,t),a=n.slice(1,n.length-5);return{type:"styling",mode:r.mode,style:a,body:s}},htmlBuilder(i,e){var t=A5[i.style],n=e.havingStyle(t).withFont("");return NS(i.body,n,e)},mathmlBuilder(i,e){var t=A5[i.style],n=e.havingStyle(t),r=fs(i.body,n),s=new _t.MathNode("mstyle",r),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[i.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var lW=function(e,t){var n=e.base;if(n)if(n.type==="op"){var r=n.limits&&(t.style.size===sn.DISPLAY.size||n.alwaysHandleSupSub);return r?bu:null}else if(n.type==="operatorname"){var s=n.alwaysHandleSupSub&&(t.style.size===sn.DISPLAY.size||n.limits);return s?SS:null}else{if(n.type==="accent")return pn.isCharacterBox(n.base)?S_:null;if(n.type==="horizBrace"){var a=!e.sub;return a===n.isOver?RS:null}else return null}else return null};Nc({type:"supsub",htmlBuilder(i,e){var t=lW(i,e);if(t)return t(i,e);var{base:n,sup:r,sub:s}=i,a=On(n,e),o,A,c=e.fontMetrics(),l=0,u=0,d=n&&pn.isCharacterBox(n);if(r){var h=e.havingStyle(e.style.sup());o=On(r,h,e),d||(l=a.height-h.fontMetrics().supDrop*h.sizeMultiplier/e.sizeMultiplier)}if(s){var m=e.havingStyle(e.style.sub());A=On(s,m,e),d||(u=a.depth+m.fontMetrics().subDrop*m.sizeMultiplier/e.sizeMultiplier)}var y;e.style===sn.DISPLAY?y=c.sup1:e.style.cramped?y=c.sup3:y=c.sup2;var g=e.sizeMultiplier,E=Tt(.5/c.ptPerEm/g),R=null;if(A){var p=i.base&&i.base.type==="op"&&i.base.name&&(i.base.name==="\\oiint"||i.base.name==="\\oiiint");(a instanceof ua||p)&&(R=Tt(-a.italic))}var w;if(o&&A){l=Math.max(l,y,o.depth+.25*c.xHeight),u=Math.max(u,c.sub2);var v=c.defaultRuleThickness,_=4*v;if(l-o.depth-(A.height-u)<_){u=_-(l-o.depth)+A.height;var x=.8*c.xHeight-(l-o.depth);x>0&&(l+=x,u-=x)}var C=[{type:"elem",elem:A,shift:u,marginRight:E,marginLeft:R},{type:"elem",elem:o,shift:-l,marginRight:E}];w=Ve.makeVList({positionType:"individualShift",children:C},e)}else if(A){u=Math.max(u,c.sub1,A.height-.8*c.xHeight);var B=[{type:"elem",elem:A,marginLeft:R,marginRight:E}];w=Ve.makeVList({positionType:"shift",positionData:u,children:B},e)}else if(o)l=Math.max(l,y,o.depth+.25*c.xHeight),w=Ve.makeVList({positionType:"shift",positionData:-l,children:[{type:"elem",elem:o,marginRight:E}]},e);else throw new Error("supsub must have either sup or sub.");var G=Cb(a,"right")||"mord";return Ve.makeSpan([G],[a,Ve.makeSpan(["msupsub"],[w])],e)},mathmlBuilder(i,e){var t=!1,n,r;i.base&&i.base.type==="horizBrace"&&(r=!!i.sup,r===i.base.isOver&&(t=!0,n=i.base.isOver)),i.base&&(i.base.type==="op"||i.base.type==="operatorname")&&(i.base.parentIsSupSub=!0);var s=[Ai(i.base,e)];i.sub&&s.push(Ai(i.sub,e)),i.sup&&s.push(Ai(i.sup,e));var a;if(t)a=n?"mover":"munder";else if(i.sub)if(i.sup){var c=i.base;c&&c.type==="op"&&c.limits&&e.style===sn.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===sn.DISPLAY||c.limits)?a="munderover":a="msubsup"}else{var A=i.base;A&&A.type==="op"&&A.limits&&(e.style===sn.DISPLAY||A.alwaysHandleSupSub)||A&&A.type==="operatorname"&&A.alwaysHandleSupSub&&(A.limits||e.style===sn.DISPLAY)?a="munder":a="msub"}else{var o=i.base;o&&o.type==="op"&&o.limits&&(e.style===sn.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===sn.DISPLAY)?a="mover":a="msup"}return new _t.MathNode(a,s)}});Nc({type:"atom",htmlBuilder(i,e){return Ve.mathsym(i.text,i.mode,e,["m"+i.family])},mathmlBuilder(i,e){var t=new _t.MathNode("mo",[da(i.text,i.mode)]);if(i.family==="bin"){var n=B_(i,e);n==="bold-italic"&&t.setAttribute("mathvariant",n)}else i.family==="punct"?t.setAttribute("separator","true"):(i.family==="open"||i.family==="close")&&t.setAttribute("stretchy","false");return t}});var MS={mi:"italic",mn:"normal",mtext:"normal"};Nc({type:"mathord",htmlBuilder(i,e){return Ve.makeOrd(i,e,"mathord")},mathmlBuilder(i,e){var t=new _t.MathNode("mi",[da(i.text,i.mode,e)]),n=B_(i,e)||"italic";return n!==MS[t.type]&&t.setAttribute("mathvariant",n),t}});Nc({type:"textord",htmlBuilder(i,e){return Ve.makeOrd(i,e,"textord")},mathmlBuilder(i,e){var t=da(i.text,i.mode,e),n=B_(i,e)||"normal",r;return i.mode==="text"?r=new _t.MathNode("mtext",[t]):/[0-9]/.test(i.text)?r=new _t.MathNode("mn",[t]):i.text==="\\prime"?r=new _t.MathNode("mo",[t]):r=new _t.MathNode("mi",[t]),n!==MS[r.type]&&r.setAttribute("mathvariant",n),r}});var k3={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},O3={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Nc({type:"spacing",htmlBuilder(i,e){if(O3.hasOwnProperty(i.text)){var t=O3[i.text].className||"";if(i.mode==="text"){var n=Ve.makeOrd(i,e,"textord");return n.classes.push(t),n}else return Ve.makeSpan(["mspace",t],[Ve.mathsym(i.text,i.mode,e)],e)}else{if(k3.hasOwnProperty(i.text))return Ve.makeSpan(["mspace",k3[i.text]],[],e);throw new Rt('Unknown type of space "'+i.text+'"')}},mathmlBuilder(i,e){var t;if(O3.hasOwnProperty(i.text))t=new _t.MathNode("mtext",[new _t.TextNode("\xA0")]);else{if(k3.hasOwnProperty(i.text))return new _t.MathNode("mspace");throw new Rt('Unknown type of space "'+i.text+'"')}return t}});var c5=()=>{var i=new _t.MathNode("mtd",[]);return i.setAttribute("width","50%"),i};Nc({type:"tag",mathmlBuilder(i,e){var t=new _t.MathNode("mtable",[new _t.MathNode("mtr",[c5(),new _t.MathNode("mtd",[h0(i.body,e)]),c5(),new _t.MathNode("mtd",[h0(i.tag,e)])])]);return t.setAttribute("width","100%"),t}});var l5={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},u5={"\\textbf":"textbf","\\textmd":"textmd"},uW={"\\textit":"textit","\\textup":"textup"},d5=(i,e)=>{var t=i.font;return t?l5[t]?e.withTextFontFamily(l5[t]):u5[t]?e.withTextFontWeight(u5[t]):e.withTextFontShape(uW[t]):e};Dt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(i,e){var{parser:t,funcName:n}=i,r=e[0];return{type:"text",mode:t.mode,body:Vi(r),font:n}},htmlBuilder(i,e){var t=d5(i,e),n=nr(i.body,t,!0);return Ve.makeSpan(["mord","text"],n,t)},mathmlBuilder(i,e){var t=d5(i,e);return h0(i.body,t)}});Dt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(i,e){var{parser:t}=i;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(i,e){var t=On(i.body,e),n=Ve.makeLineSpan("underline-line",e),r=e.fontMetrics().defaultRuleThickness,s=Ve.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:r},{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:t}]},e);return Ve.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(i,e){var t=new _t.MathNode("mo",[new _t.TextNode("\u203E")]);t.setAttribute("stretchy","true");var n=new _t.MathNode("munder",[Ai(i.body,e),t]);return n.setAttribute("accentunder","true"),n}});Dt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(i,e){var{parser:t}=i;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(i,e){var t=On(i.body,e),n=e.fontMetrics().axisHeight,r=.5*(t.height-n-(t.depth+n));return Ve.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(i,e){return new _t.MathNode("mpadded",[Ai(i.body,e)],["vcenter"])}});Dt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(i,e,t){throw new Rt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(i,e){for(var t=f5(i),n=[],r=e.havingStyle(e.style.text()),s=0;s<t.length;s++){var a=t[s];a==="~"&&(a="\\textasciitilde"),n.push(Ve.makeSymbol(a,"Typewriter-Regular",i.mode,r,["mord","texttt"]))}return Ve.makeSpan(["mord","text"].concat(r.sizingClasses(e)),Ve.tryCombineChars(n),r)},mathmlBuilder(i,e){var t=new _t.TextNode(f5(i)),n=new _t.MathNode("mtext",[t]);return n.setAttribute("mathvariant","monospace"),n}});var f5=i=>i.body.replace(/ /g,i.star?"\u2423":"\xA0"),ZA=JC,TS=`[ \r
	]`,dW="\\\\[a-zA-Z@]+",fW="\\\\[^\uD800-\uDFFF]",hW="("+dW+")"+TS+"*",pW=`\\\\(
|[ \r	]+
?)[ \r	]*`,Tb="[\u0300-\u036F]",mW=new RegExp(Tb+"+$"),gW="("+TS+"+)|"+(pW+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(Tb+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Tb+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+hW)+("|"+fW+")");class h5{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(gW,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new ao("EOF",new Cs(this,t,t));var n=this.tokenRegex.exec(e);if(n===null||n.index!==t)throw new Rt("Unexpected character: '"+e[t]+"'",new ao(e[t],new Cs(this,t,t+1)));var r=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[r]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new ao(r,new Cs(this,t,this.tokenRegex.lastIndex))}}class yW{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Rt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(n===void 0&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var wW=bS;ae("\\noexpand",function(i){var e=i.popToken();return i.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});ae("\\expandafter",function(i){var e=i.popToken();return i.expandOnce(!0),{tokens:[e],numArgs:0}});ae("\\@firstoftwo",function(i){var e=i.consumeArgs(2);return{tokens:e[0],numArgs:0}});ae("\\@secondoftwo",function(i){var e=i.consumeArgs(2);return{tokens:e[1],numArgs:0}});ae("\\@ifnextchar",function(i){var e=i.consumeArgs(3);i.consumeSpaces();var t=i.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});ae("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ae("\\TextOrMath",function(i){var e=i.consumeArgs(2);return i.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var p5={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ae("\\char",function(i){var e=i.popToken(),t,n="";if(e.text==="'")t=8,e=i.popToken();else if(e.text==='"')t=16,e=i.popToken();else if(e.text==="`")if(e=i.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Rt("\\char` missing argument");n=e.text.charCodeAt(0)}else t=10;if(t){if(n=p5[e.text],n==null||n>=t)throw new Rt("Invalid base-"+t+" digit "+e.text);for(var r;(r=p5[i.future().text])!=null&&r<t;)n*=t,n+=r,i.popToken()}return"\\@char{"+n+"}"});var P_=(i,e,t)=>{var n=i.consumeArg().tokens;if(n.length!==1)throw new Rt("\\newcommand's first argument must be a macro name");var r=n[0].text,s=i.isDefined(r);if(s&&!e)throw new Rt("\\newcommand{"+r+"} attempting to redefine "+(r+"; use \\renewcommand"));if(!s&&!t)throw new Rt("\\renewcommand{"+r+"} when command "+r+" does not yet exist; use \\newcommand");var a=0;if(n=i.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var o="",A=i.expandNextToken();A.text!=="]"&&A.text!=="EOF";)o+=A.text,A=i.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new Rt("Invalid number of arguments: "+o);a=parseInt(o),n=i.consumeArg().tokens}return i.macros.set(r,{tokens:n,numArgs:a}),""};ae("\\newcommand",i=>P_(i,!1,!0));ae("\\renewcommand",i=>P_(i,!0,!1));ae("\\providecommand",i=>P_(i,!0,!0));ae("\\message",i=>{var e=i.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});ae("\\errmessage",i=>{var e=i.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});ae("\\show",i=>{var e=i.popToken(),t=e.text;return console.log(e,i.macros.get(t),ZA[t],di.math[t],di.text[t]),""});ae("\\bgroup","{");ae("\\egroup","}");ae("~","\\nobreakspace");ae("\\lq","`");ae("\\rq","'");ae("\\aa","\\r a");ae("\\AA","\\r A");ae("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");ae("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ae("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");ae("\u212C","\\mathscr{B}");ae("\u2130","\\mathscr{E}");ae("\u2131","\\mathscr{F}");ae("\u210B","\\mathscr{H}");ae("\u2110","\\mathscr{I}");ae("\u2112","\\mathscr{L}");ae("\u2133","\\mathscr{M}");ae("\u211B","\\mathscr{R}");ae("\u212D","\\mathfrak{C}");ae("\u210C","\\mathfrak{H}");ae("\u2128","\\mathfrak{Z}");ae("\\Bbbk","\\Bbb{k}");ae("\xB7","\\cdotp");ae("\\llap","\\mathllap{\\textrm{#1}}");ae("\\rlap","\\mathrlap{\\textrm{#1}}");ae("\\clap","\\mathclap{\\textrm{#1}}");ae("\\mathstrut","\\vphantom{(}");ae("\\underbar","\\underline{\\text{#1}}");ae("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ae("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");ae("\\ne","\\neq");ae("\u2260","\\neq");ae("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}");ae("\u2209","\\notin");ae("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}");ae("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");ae("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");ae("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}");ae("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}");ae("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}");ae("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");ae("\u27C2","\\perp");ae("\u203C","\\mathclose{!\\mkern-0.8mu!}");ae("\u220C","\\notni");ae("\u231C","\\ulcorner");ae("\u231D","\\urcorner");ae("\u231E","\\llcorner");ae("\u231F","\\lrcorner");ae("\xA9","\\copyright");ae("\xAE","\\textregistered");ae("\uFE0F","\\textregistered");ae("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ae("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ae("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ae("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ae("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");ae("\u22EE","\\vdots");ae("\\varGamma","\\mathit{\\Gamma}");ae("\\varDelta","\\mathit{\\Delta}");ae("\\varTheta","\\mathit{\\Theta}");ae("\\varLambda","\\mathit{\\Lambda}");ae("\\varXi","\\mathit{\\Xi}");ae("\\varPi","\\mathit{\\Pi}");ae("\\varSigma","\\mathit{\\Sigma}");ae("\\varUpsilon","\\mathit{\\Upsilon}");ae("\\varPhi","\\mathit{\\Phi}");ae("\\varPsi","\\mathit{\\Psi}");ae("\\varOmega","\\mathit{\\Omega}");ae("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ae("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ae("\\boxed","\\fbox{$\\displaystyle{#1}$}");ae("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ae("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ae("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var m5={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ae("\\dots",function(i){var e="\\dotso",t=i.expandAfterFuture().text;return t in m5?e=m5[t]:(t.slice(0,4)==="\\not"||t in di.math&&pn.contains(["bin","rel"],di.math[t].group))&&(e="\\dotsb"),e});var L_={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ae("\\dotso",function(i){var e=i.future().text;return e in L_?"\\ldots\\,":"\\ldots"});ae("\\dotsc",function(i){var e=i.future().text;return e in L_&&e!==","?"\\ldots\\,":"\\ldots"});ae("\\cdots",function(i){var e=i.future().text;return e in L_?"\\@cdots\\,":"\\@cdots"});ae("\\dotsb","\\cdots");ae("\\dotsm","\\cdots");ae("\\dotsi","\\!\\cdots");ae("\\dotsx","\\ldots\\,");ae("\\DOTSI","\\relax");ae("\\DOTSB","\\relax");ae("\\DOTSX","\\relax");ae("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ae("\\,","\\tmspace+{3mu}{.1667em}");ae("\\thinspace","\\,");ae("\\>","\\mskip{4mu}");ae("\\:","\\tmspace+{4mu}{.2222em}");ae("\\medspace","\\:");ae("\\;","\\tmspace+{5mu}{.2777em}");ae("\\thickspace","\\;");ae("\\!","\\tmspace-{3mu}{.1667em}");ae("\\negthinspace","\\!");ae("\\negmedspace","\\tmspace-{4mu}{.2222em}");ae("\\negthickspace","\\tmspace-{5mu}{.277em}");ae("\\enspace","\\kern.5em ");ae("\\enskip","\\hskip.5em\\relax");ae("\\quad","\\hskip1em\\relax");ae("\\qquad","\\hskip2em\\relax");ae("\\tag","\\@ifstar\\tag@literal\\tag@paren");ae("\\tag@paren","\\tag@literal{({#1})}");ae("\\tag@literal",i=>{if(i.macros.get("\\df@tag"))throw new Rt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ae("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ae("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ae("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ae("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ae("\\newline","\\\\\\relax");ae("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var GS=Tt(no["Main-Regular"]["T".charCodeAt(0)][1]-.7*no["Main-Regular"]["A".charCodeAt(0)][1]);ae("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+GS+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ae("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+GS+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ae("\\hspace","\\@ifstar\\@hspacer\\@hspace");ae("\\@hspace","\\hskip #1\\relax");ae("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ae("\\ordinarycolon",":");ae("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ae("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ae("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ae("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ae("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ae("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ae("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ae("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ae("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ae("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ae("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ae("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ae("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ae("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ae("\u2237","\\dblcolon");ae("\u2239","\\eqcolon");ae("\u2254","\\coloneqq");ae("\u2255","\\eqqcolon");ae("\u2A74","\\Coloneqq");ae("\\ratio","\\vcentcolon");ae("\\coloncolon","\\dblcolon");ae("\\colonequals","\\coloneqq");ae("\\coloncolonequals","\\Coloneqq");ae("\\equalscolon","\\eqqcolon");ae("\\equalscoloncolon","\\Eqqcolon");ae("\\colonminus","\\coloneq");ae("\\coloncolonminus","\\Coloneq");ae("\\minuscolon","\\eqcolon");ae("\\minuscoloncolon","\\Eqcolon");ae("\\coloncolonapprox","\\Colonapprox");ae("\\coloncolonsim","\\Colonsim");ae("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ae("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ae("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ae("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ae("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");ae("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ae("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ae("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ae("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ae("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ae("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ae("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ae("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ae("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");ae("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");ae("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");ae("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");ae("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");ae("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");ae("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");ae("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");ae("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");ae("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");ae("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");ae("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");ae("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");ae("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");ae("\\imath","\\html@mathml{\\@imath}{\u0131}");ae("\\jmath","\\html@mathml{\\@jmath}{\u0237}");ae("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}");ae("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}");ae("\u27E6","\\llbracket");ae("\u27E7","\\rrbracket");ae("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}");ae("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}");ae("\u2983","\\lBrace");ae("\u2984","\\rBrace");ae("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}");ae("\u29B5","\\minuso");ae("\\darr","\\downarrow");ae("\\dArr","\\Downarrow");ae("\\Darr","\\Downarrow");ae("\\lang","\\langle");ae("\\rang","\\rangle");ae("\\uarr","\\uparrow");ae("\\uArr","\\Uparrow");ae("\\Uarr","\\Uparrow");ae("\\N","\\mathbb{N}");ae("\\R","\\mathbb{R}");ae("\\Z","\\mathbb{Z}");ae("\\alef","\\aleph");ae("\\alefsym","\\aleph");ae("\\Alpha","\\mathrm{A}");ae("\\Beta","\\mathrm{B}");ae("\\bull","\\bullet");ae("\\Chi","\\mathrm{X}");ae("\\clubs","\\clubsuit");ae("\\cnums","\\mathbb{C}");ae("\\Complex","\\mathbb{C}");ae("\\Dagger","\\ddagger");ae("\\diamonds","\\diamondsuit");ae("\\empty","\\emptyset");ae("\\Epsilon","\\mathrm{E}");ae("\\Eta","\\mathrm{H}");ae("\\exist","\\exists");ae("\\harr","\\leftrightarrow");ae("\\hArr","\\Leftrightarrow");ae("\\Harr","\\Leftrightarrow");ae("\\hearts","\\heartsuit");ae("\\image","\\Im");ae("\\infin","\\infty");ae("\\Iota","\\mathrm{I}");ae("\\isin","\\in");ae("\\Kappa","\\mathrm{K}");ae("\\larr","\\leftarrow");ae("\\lArr","\\Leftarrow");ae("\\Larr","\\Leftarrow");ae("\\lrarr","\\leftrightarrow");ae("\\lrArr","\\Leftrightarrow");ae("\\Lrarr","\\Leftrightarrow");ae("\\Mu","\\mathrm{M}");ae("\\natnums","\\mathbb{N}");ae("\\Nu","\\mathrm{N}");ae("\\Omicron","\\mathrm{O}");ae("\\plusmn","\\pm");ae("\\rarr","\\rightarrow");ae("\\rArr","\\Rightarrow");ae("\\Rarr","\\Rightarrow");ae("\\real","\\Re");ae("\\reals","\\mathbb{R}");ae("\\Reals","\\mathbb{R}");ae("\\Rho","\\mathrm{P}");ae("\\sdot","\\cdot");ae("\\sect","\\S");ae("\\spades","\\spadesuit");ae("\\sub","\\subset");ae("\\sube","\\subseteq");ae("\\supe","\\supseteq");ae("\\Tau","\\mathrm{T}");ae("\\thetasym","\\vartheta");ae("\\weierp","\\wp");ae("\\Zeta","\\mathrm{Z}");ae("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ae("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ae("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ae("\\bra","\\mathinner{\\langle{#1}|}");ae("\\ket","\\mathinner{|{#1}\\rangle}");ae("\\braket","\\mathinner{\\langle{#1}\\rangle}");ae("\\Bra","\\left\\langle#1\\right|");ae("\\Ket","\\left|#1\\right\\rangle");var FS=i=>e=>{var t=e.consumeArg().tokens,n=e.consumeArg().tokens,r=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var A=u=>d=>{i&&(d.macros.set("|",a),r.length&&d.macros.set("\\|",o));var h=u;if(!u&&r.length){var m=d.future();m.text==="|"&&(d.popToken(),h=!0)}return{tokens:h?r:n,numArgs:0}};e.macros.set("|",A(!1)),r.length&&e.macros.set("\\|",A(!0));var c=e.consumeArg().tokens,l=e.expandTokens([...s,...c,...t]);return e.macros.endGroup(),{tokens:l.reverse(),numArgs:0}};ae("\\bra@ket",FS(!1));ae("\\bra@set",FS(!0));ae("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");ae("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");ae("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");ae("\\angln","{\\angl n}");ae("\\blue","\\textcolor{##6495ed}{#1}");ae("\\orange","\\textcolor{##ffa500}{#1}");ae("\\pink","\\textcolor{##ff00af}{#1}");ae("\\red","\\textcolor{##df0030}{#1}");ae("\\green","\\textcolor{##28ae7b}{#1}");ae("\\gray","\\textcolor{gray}{#1}");ae("\\purple","\\textcolor{##9d38bd}{#1}");ae("\\blueA","\\textcolor{##ccfaff}{#1}");ae("\\blueB","\\textcolor{##80f6ff}{#1}");ae("\\blueC","\\textcolor{##63d9ea}{#1}");ae("\\blueD","\\textcolor{##11accd}{#1}");ae("\\blueE","\\textcolor{##0c7f99}{#1}");ae("\\tealA","\\textcolor{##94fff5}{#1}");ae("\\tealB","\\textcolor{##26edd5}{#1}");ae("\\tealC","\\textcolor{##01d1c1}{#1}");ae("\\tealD","\\textcolor{##01a995}{#1}");ae("\\tealE","\\textcolor{##208170}{#1}");ae("\\greenA","\\textcolor{##b6ffb0}{#1}");ae("\\greenB","\\textcolor{##8af281}{#1}");ae("\\greenC","\\textcolor{##74cf70}{#1}");ae("\\greenD","\\textcolor{##1fab54}{#1}");ae("\\greenE","\\textcolor{##0d923f}{#1}");ae("\\goldA","\\textcolor{##ffd0a9}{#1}");ae("\\goldB","\\textcolor{##ffbb71}{#1}");ae("\\goldC","\\textcolor{##ff9c39}{#1}");ae("\\goldD","\\textcolor{##e07d10}{#1}");ae("\\goldE","\\textcolor{##a75a05}{#1}");ae("\\redA","\\textcolor{##fca9a9}{#1}");ae("\\redB","\\textcolor{##ff8482}{#1}");ae("\\redC","\\textcolor{##f9685d}{#1}");ae("\\redD","\\textcolor{##e84d39}{#1}");ae("\\redE","\\textcolor{##bc2612}{#1}");ae("\\maroonA","\\textcolor{##ffbde0}{#1}");ae("\\maroonB","\\textcolor{##ff92c6}{#1}");ae("\\maroonC","\\textcolor{##ed5fa6}{#1}");ae("\\maroonD","\\textcolor{##ca337c}{#1}");ae("\\maroonE","\\textcolor{##9e034e}{#1}");ae("\\purpleA","\\textcolor{##ddd7ff}{#1}");ae("\\purpleB","\\textcolor{##c6b9fc}{#1}");ae("\\purpleC","\\textcolor{##aa87ff}{#1}");ae("\\purpleD","\\textcolor{##7854ab}{#1}");ae("\\purpleE","\\textcolor{##543b78}{#1}");ae("\\mintA","\\textcolor{##f5f9e8}{#1}");ae("\\mintB","\\textcolor{##edf2df}{#1}");ae("\\mintC","\\textcolor{##e0e5cc}{#1}");ae("\\grayA","\\textcolor{##f6f7f7}{#1}");ae("\\grayB","\\textcolor{##f0f1f2}{#1}");ae("\\grayC","\\textcolor{##e3e5e6}{#1}");ae("\\grayD","\\textcolor{##d6d8da}{#1}");ae("\\grayE","\\textcolor{##babec2}{#1}");ae("\\grayF","\\textcolor{##888d93}{#1}");ae("\\grayG","\\textcolor{##626569}{#1}");ae("\\grayH","\\textcolor{##3b3e40}{#1}");ae("\\grayI","\\textcolor{##21242c}{#1}");ae("\\kaBlue","\\textcolor{##314453}{#1}");ae("\\kaGreen","\\textcolor{##71B307}{#1}");var IS={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class bW{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new yW(wW,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new h5(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,r;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:r,end:n}=this.consumeArg(["]"])}else({tokens:r,start:t,end:n}=this.consumeArg());return this.pushToken(new ao("EOF",n.loc)),this.pushTokens(r),t.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var r=this.future(),s,a=0,o=0;do{if(s=this.popToken(),t.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new Rt("Extra }",s)}else if(s.text==="EOF")throw new Rt("Unexpected end of input in a macro argument, expected '"+(e&&n?e[o]:"}")+"'",s);if(e&&n)if((a===0||a===1&&e[o]==="{")&&s.text===e[o]){if(++o,o===e.length){t.splice(-o,o);break}}else o=0}while(a!==0||n);return r.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:r,end:s}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new Rt("The length of delimiters doesn't match the number of args!");for(var n=t[0],r=0;r<n.length;r++){var s=this.popToken();if(n[r]!==s.text)throw new Rt("Use of the macro doesn't match its definition",s)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(t&&t[o+1]).tokens);return a}expandOnce(e){var t=this.popToken(),n=t.text,r=t.noexpand?null:this._getExpansion(n);if(r==null||e&&r.unexpandable){if(e&&r==null&&n[0]==="\\"&&!this.isDefined(n))throw new Rt("Undefined control sequence: "+n);return this.pushToken(t),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new Rt("Too many expansions: infinite loop or need to increase maxExpand setting");var s=r.tokens,a=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var A=s[o];if(A.text==="#"){if(o===0)throw new Rt("Incomplete placeholder at end of macro body",A);if(A=s[--o],A.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(A.text))s.splice(o,2,...a[+A.text-1]);else throw new Rt("Not a valid argument number",A)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new ao(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),t.push(r)}return t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(n=>n.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var r=typeof t=="function"?t(this):t;if(typeof r=="string"){var s=0;if(r.indexOf("#")!==-1)for(var a=r.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var o=new h5(r,this.settings),A=[],c=o.lex();c.text!=="EOF";)A.push(c),c=o.lex();A.reverse();var l={tokens:A,numArgs:s};return l}return r}isDefined(e){return this.macros.has(e)||ZA.hasOwnProperty(e)||di.math.hasOwnProperty(e)||di.text.hasOwnProperty(e)||IS.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:ZA.hasOwnProperty(e)&&!ZA[e].primitive}}var g5=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,rp=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),Q3={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},y5={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"};class wf{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new bW(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new Rt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new ao("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,n}parseExpression(e,t){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(wf.endOfExpression.indexOf(r.text)!==-1||t&&r.text===t||e&&ZA[r.text]&&ZA[r.text].infix)break;var s=this.parseAtom(t);if(s){if(s.type==="internal")continue}else break;n.push(s)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var t=-1,n,r=0;r<e.length;r++)if(e[r].type==="infix"){if(t!==-1)throw new Rt("only one infix operator per group",e[r].token);t=r,n=e[r].replaceWith}if(t!==-1&&n){var s,a,o=e.slice(0,t),A=e.slice(t+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},A.length===1&&A[0].type==="ordgroup"?a=A[0]:a={type:"ordgroup",mode:this.mode,body:A};var c;return n==="\\\\abovefrac"?c=this.callFunction(n,[s,e[t],a],[]):c=this.callFunction(n,[s,a],[]),[c]}else return e}handleSupSubscript(e){var t=this.fetch(),n=t.text;this.consume(),this.consumeSpaces();var r=this.parseGroup(e);if(!r)throw new Rt("Expected group after '"+n+"'",t);return r}formatUnsupportedCmd(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var r={type:"text",mode:this.mode,body:t},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return s}parseAtom(e){var t=this.parseGroup("atom",e);if(this.mode==="text")return t;for(var n,r;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(t&&t.type==="op"){var a=s.text==="\\limits";t.limits=a,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=s.text==="\\limits");else throw new Rt("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(n)throw new Rt("Double superscript",s);n=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(r)throw new Rt("Double subscript",s);r=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(n)throw new Rt("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},A=[o];for(this.consume();this.fetch().text==="'";)A.push(o),this.consume();this.fetch().text==="^"&&A.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:A}}else if(rp[s.text]){var c=rp[s.text],l=g5.test(s.text);for(this.consume();;){var u=this.fetch().text;if(!rp[u]||g5.test(u)!==l)break;this.consume(),c+=rp[u]}var d=new wf(c,this.settings).parse();l?r={type:"ordgroup",mode:"math",body:d}:n={type:"ordgroup",mode:"math",body:d}}else break}return n||r?{type:"supsub",mode:this.mode,base:t,sup:n,sub:r}:t}parseFunction(e,t){var n=this.fetch(),r=n.text,s=ZA[r];if(!s)return null;if(this.consume(),t&&t!=="atom"&&!s.allowedInArgument)throw new Rt("Got function '"+r+"' with no arguments"+(t?" as "+t:""),n);if(this.mode==="text"&&!s.allowedInText)throw new Rt("Can't use function '"+r+"' in text mode",n);if(this.mode==="math"&&s.allowedInMath===!1)throw new Rt("Can't use function '"+r+"' in math mode",n);var{args:a,optArgs:o}=this.parseArguments(r,s);return this.callFunction(r,a,o,n,e)}callFunction(e,t,n,r,s){var a={funcName:e,parser:this,token:r,breakOnTokenText:s},o=ZA[e];if(o&&o.handler)return o.handler(a,t,n);throw new Rt("No function handler for "+e)}parseArguments(e,t){var n=t.numArgs+t.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var r=[],s=[],a=0;a<n;a++){var o=t.argTypes&&t.argTypes[a],A=a<t.numOptionalArgs;(t.primitive&&o==null||t.type==="sqrt"&&a===1&&s[0]==null)&&(o="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",o,A);if(A)s.push(c);else if(c!=null)r.push(c);else throw new Rt("Null argument, please report this as a bug")}return{args:r,optArgs:s}}parseGroupOfType(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":{var r=this.parseArgumentGroup(n,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",n);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(n)throw new Rt("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new Rt("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new Rt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var n=this.gullet.scanArgument(t);if(n==null)return null;for(var r="",s;(s=this.fetch()).text!=="EOF";)r+=s.text,this.consume();return this.consume(),n.text=r,n}parseRegexGroup(e,t){for(var n=this.fetch(),r=n,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)r=a,s+=r.text,this.consume();if(s==="")throw new Rt("Invalid "+t+": '"+n.text+"'",n);return n.range(r,s)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new Rt("Invalid color: '"+t.text+"'",t);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var t,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new Rt("Invalid size: '"+t.text+"'",t);var s={number:+(r[1]+r[2]),unit:r[3]};if(!VC(s))throw new Rt("Invalid unit: '"+s.unit+"'",t);return{type:"size",mode:this.mode,value:s,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,t){var n=this.gullet.scanArgument(e);if(n==null)return null;var r=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:n.loc,body:s};return t&&this.switchMode(r),a}parseGroup(e,t){var n=this.fetch(),r=n.text,s;if(r==="{"||r==="\\begingroup"){this.consume();var a=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),A=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Cs.range(n,A),body:o,semisimple:r==="\\begingroup"||void 0}}else if(s=this.parseFunction(t,e)||this.parseSymbol(),s==null&&r[0]==="\\"&&!IS.hasOwnProperty(r)){if(this.settings.throwOnError)throw new Rt("Undefined control sequence: "+r,n);s=this.formatUnsupportedCmd(r),this.consume()}return s}formLigatures(e){for(var t=e.length-1,n=0;n<t;++n){var r=e[n],s=r.text;s==="-"&&e[n+1].text==="-"&&(n+1<t&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:Cs.range(r,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:Cs.range(r,e[n+1]),text:"--"}),t-=1)),(s==="'"||s==="`")&&e[n+1].text===s&&(e.splice(n,2,{type:"textord",mode:"text",loc:Cs.range(r,e[n+1]),text:s+s}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),r=n.charAt(0)==="*";if(r&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new Rt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:r}}y5.hasOwnProperty(t[0])&&!di[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=y5[t[0]]+t.slice(1));var s=mW.exec(t);s&&(t=t.substring(0,s.index),t==="i"?t="\u0131":t==="j"&&(t="\u0237"));var a;if(di[this.mode][t]){this.settings.strict&&this.mode==="math"&&Bb.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var o=di[this.mode][t].group,A=Cs.range(e),c;if(A$.hasOwnProperty(o)){var l=o;c={type:"atom",mode:this.mode,family:l,loc:A,text:t}}else c={type:o,mode:this.mode,loc:A,text:t};a=c}else if(t.charCodeAt(0)>=128)this.settings.strict&&(zC(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:Cs.range(e),text:t};else return null;if(this.consume(),s)for(var u=0;u<s[0].length;u++){var d=s[0][u];if(!Q3[d])throw new Rt("Unknown accent ' "+d+"'",e);var h=Q3[d][this.mode]||Q3[d].text;if(!h)throw new Rt("Accent "+d+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:Cs.range(e),label:h,isStretchy:!1,isShifty:!0,base:a}}return a}}wf.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var D_=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new wf(e,t);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new Rt("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:n.subparse([new ao("\\df@tag")])}]}return r},US=function(e,t,n){t.textContent="";var r=k_(e,n).toNode();t.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),US=function(){throw new Rt("KaTeX doesn't work in quirks mode.")});var EW=function(e,t){var n=k_(e,t).toMarkup();return n},_W=function(e,t){var n=new b_(t);return D_(e,n)},PS=function(e,t,n){if(n.throwOnError||!(e instanceof Rt))throw e;var r=Ve.makeSpan(["katex-error"],[new ua(t)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+n.errorColor),r},k_=function(e,t){var n=new b_(t);try{var r=D_(e,n);return T$(r,e,n)}catch(s){return PS(s,e,n)}},vW=function(e,t){var n=new b_(t);try{var r=D_(e,n);return G$(r,e,n)}catch(s){return PS(s,e,n)}},w5={version:"0.16.8",render:US,renderToString:EW,ParseError:Rt,SETTINGS_SCHEMA:L1,__parse:_W,__renderToDomTree:k_,__renderToHTMLTree:vW,__setFontMetrics:t$,__defineSymbol:F,__defineFunction:Dt,__defineMacro:ae,__domTree:{Span:Qf,Anchor:v_,SymbolNode:ua,SvgNode:uA,PathNode:f0,LineNode:Rb}};function LS(i,e=null){e&&(i=i.filter(r=>!e.includes(r.mutant)));const t=zO(i,r=>r.every(s=>s.metric===null)?{count:null,mean:null,sum:null,min:null,max:null,median:null}:{count:r.length,mean:jO(r,s=>s.metric),sum:eQ(r,s=>s.metric),min:df(r,s=>s.metric),max:Or(r,s=>s.metric),median:ZO(r,s=>s.metric)},r=>r.site,r=>r.condition);return i.map(r=>({condition:r.condition,site:r.site,site_reference:r.site_reference,site_protein:String(r.site_protein),site_chain:r.site_chain,wildtype:r.wildtype,...t.get(r.site).get(r.condition)})).filter((r,s,a)=>s===a.findIndex(o=>o.site===r.site&&o.condition===r.condition))}function Gb(i){let e=parseInt(i.slice(1,3),16),t=parseInt(i.slice(3,5),16),n=parseInt(i.slice(5,7),16);e/=255,t/=255,n/=255;let r=Math.max(e,t,n),s=Math.min(e,t,n),a,o,A=(r+s)/2;if(r==s)a=o=0;else{let h=r-s;switch(o=A>.5?h/(2-r-s):h/(r+s),r){case e:a=(t-n)/h+(t<n?6:0);break;case t:a=(n-e)/h+2;break;case n:a=(e-t)/h+4;break}a/=6}a=(a+.5)%1;let c,l,u;if(o==0)c=l=u=A;else{const h=(g,E,R)=>(R<0&&(R+=1),R>1&&(R-=1),R<.16666666666666666?g+(E-g)*6*R:R<.5?E:R<.6666666666666666?g+(E-g)*(.6666666666666666-R)*6:g),m=A<.5?A*(1+o):A+o-A*o,y=2*A-m;c=h(y,m,a+1/3),l=h(y,m,a),u=h(y,m,a-1/3)}const d=h=>{const m=Math.round(h*255).toString(16);return m.length==1?"0"+m:m};return"#"+d(c)+d(l)+d(u)}function xW(i){const e=["mut_metric_df","sitemap","metric_col","pdb"];for(const t in i){const n=e.filter(r=>!(r in i[t]));if(n.length>0)throw new Error(`Invalid specification for dataset ${t}. Missing keys: ${n.join(", ")}.`)}}class RW extends $n.Renderer{constructor(){super();const e=this.text;this.text=t=>{const n=this._replaceMathExpressions(t);return e.call(this,n)}}_replaceMathExpressions(e){return e.replace(/\$\$([\s\S]+?)\$\$/g,(t,n)=>w5.renderToString(n,{displayMode:!0})).replace(/\$([\s\S]+?)\$/g,(t,n)=>w5.renderToString(n,{displayMode:!1}))}}function BW(i){return new Promise(e=>setTimeout(e,i))}var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,e){(function(){var t,n="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",o="Invalid `variable` option passed into `_.template`",A="__lodash_hash_undefined__",c=500,l="__lodash_placeholder__",u=1,d=2,h=4,m=1,y=2,g=1,E=2,R=4,p=8,w=16,v=32,_=64,x=128,C=256,B=512,G=30,I="...",N=800,T=16,M=1,U=2,z=3,L=1/0,k=9007199254740991,K=17976931348623157e292,V=0/0,D=4294967295,H=D-1,oe=D>>>1,Ae=[["ary",x],["bind",g],["bindKey",E],["curry",p],["curryRight",w],["flip",B],["partial",v],["partialRight",_],["rearg",C]],ee="[object Arguments]",se="[object Array]",le="[object AsyncFunction]",J="[object Boolean]",me="[object Date]",ue="[object DOMException]",ge="[object Error]",fe="[object Function]",we="[object GeneratorFunction]",Fe="[object Map]",je="[object Number]",De="[object Null]",Le="[object Object]",tt="[object Promise]",Ie="[object Proxy]",Xe="[object RegExp]",et="[object Set]",st="[object String]",re="[object Symbol]",X="[object Undefined]",Be="[object WeakMap]",We="[object WeakSet]",Se="[object ArrayBuffer]",ze="[object DataView]",ut="[object Float32Array]",qe="[object Float64Array]",dt="[object Int8Array]",yt="[object Int16Array]",Ut="[object Int32Array]",ye="[object Uint8Array]",nt="[object Uint8ClampedArray]",it="[object Uint16Array]",ct="[object Uint32Array]",rt=/\b__p \+= '';/g,at=/\b(__p \+=) '' \+/g,Bt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,he=/&(?:amp|lt|gt|quot|#39);/g,Ke=/[&<>"']/g,Ne=RegExp(he.source),Ge=RegExp(Ke.source),Je=/<%-([\s\S]+?)%>/g,Gt=/<%([\s\S]+?)%>/g,on=/<%=([\s\S]+?)%>/g,en=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,Y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z=/[\\^$.*+?()[\]{}|]/g,ce=RegExp(Z.source),de=/^\s+/,be=/\s/,Re=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Te=/\{\n\/\* \[wrapped with (.+)\] \*/,At=/,? & /,pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,St=/[()=,{}\[\]\/\s]/,Kt=/\\(\\)?/g,Nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,te=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,Oe=/^\[object .+?Constructor\]$/,Pe=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Lt=/($^)/,Wt=/['\n\r\u2028\u2029\\]/g,Ct="\\ud800-\\udfff",$e="\\u0300-\\u036f",mt="\\ufe20-\\ufe2f",Mt="\\u20d0-\\u20ff",Yt=$e+mt+Mt,Vt="\\u2700-\\u27bf",Xt="a-z\\xdf-\\xf6\\xf8-\\xff",ln="\\xac\\xb1\\xd7\\xf7",nn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jt="\\u2000-\\u206f",mn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yn="A-Z\\xc0-\\xd6\\xd8-\\xde",Gr="\\ufe0e\\ufe0f",Is=ln+nn+Jt+mn,hs="['\u2019]",fa="["+Ct+"]",yi="["+Is+"]",sr="["+Yt+"]",Us="\\d+",Pi="["+Vt+"]",Ps="["+Xt+"]",x0="[^"+Ct+Is+Us+Vt+Xt+yn+"]",Ls="\\ud83c[\\udffb-\\udfff]",R0="(?:"+sr+"|"+Ls+")",xA="[^"+Ct+"]",vo="(?:\\ud83c[\\udde6-\\uddff]){2}",xo="[\\ud800-\\udbff][\\udc00-\\udfff]",Ds="["+yn+"]",RA="\\u200d",BA="(?:"+Ps+"|"+x0+")",B0="(?:"+Ds+"|"+x0+")",ha="(?:"+hs+"(?:d|ll|m|re|s|t|ve))?",C0="(?:"+hs+"(?:D|LL|M|RE|S|T|VE))?",Gu=R0+"?",ps="["+Gr+"]?",S0="(?:"+RA+"(?:"+[xA,vo,xo].join("|")+")"+ps+Gu+")*",Fu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Iu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",G4=ps+Gu+S0,aG="(?:"+[Pi,vo,xo].join("|")+")"+G4,oG="(?:"+[xA+sr+"?",sr,vo,xo,fa].join("|")+")",AG=RegExp(hs,"g"),cG=RegExp(sr,"g"),Ay=RegExp(Ls+"(?="+Ls+")|"+oG+G4,"g"),lG=RegExp([Ds+"?"+Ps+"+"+ha+"(?="+[yi,Ds,"$"].join("|")+")",B0+"+"+C0+"(?="+[yi,Ds+BA,"$"].join("|")+")",Ds+"?"+BA+"+"+ha,Ds+"+"+C0,Iu,Fu,Us,aG].join("|"),"g"),uG=RegExp("["+RA+Ct+Yt+Gr+"]"),dG=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,fG=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hG=-1,hi={};hi[ut]=hi[qe]=hi[dt]=hi[yt]=hi[Ut]=hi[ye]=hi[nt]=hi[it]=hi[ct]=!0,hi[ee]=hi[se]=hi[Se]=hi[J]=hi[ze]=hi[me]=hi[ge]=hi[fe]=hi[Fe]=hi[je]=hi[Le]=hi[Xe]=hi[et]=hi[st]=hi[Be]=!1;var ci={};ci[ee]=ci[se]=ci[Se]=ci[ze]=ci[J]=ci[me]=ci[ut]=ci[qe]=ci[dt]=ci[yt]=ci[Ut]=ci[Fe]=ci[je]=ci[Le]=ci[Xe]=ci[et]=ci[st]=ci[re]=ci[ye]=ci[nt]=ci[it]=ci[ct]=!0,ci[ge]=ci[fe]=ci[Be]=!1;var pG={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},mG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gG={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yG={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wG=parseFloat,bG=parseInt,F4=typeof tc=="object"&&tc&&tc.Object===Object&&tc,EG=typeof self=="object"&&self&&self.Object===Object&&self,hr=F4||EG||Function("return this")(),cy=e&&!e.nodeType&&e,N0=cy&&!0&&i&&!i.nodeType&&i,I4=N0&&N0.exports===cy,ly=I4&&F4.process,ks=function(){try{var ke=N0&&N0.require&&N0.require("util").types;return ke||ly&&ly.binding&&ly.binding("util")}catch{}}(),U4=ks&&ks.isArrayBuffer,P4=ks&&ks.isDate,L4=ks&&ks.isMap,D4=ks&&ks.isRegExp,k4=ks&&ks.isSet,O4=ks&&ks.isTypedArray;function ms(ke,lt,Ze){switch(Ze.length){case 0:return ke.call(lt);case 1:return ke.call(lt,Ze[0]);case 2:return ke.call(lt,Ze[0],Ze[1]);case 3:return ke.call(lt,Ze[0],Ze[1],Ze[2])}return ke.apply(lt,Ze)}function _G(ke,lt,Ze,zt){for(var En=-1,Hn=ke==null?0:ke.length;++En<Hn;){var ji=ke[En];lt(zt,ji,Ze(ji),ke)}return zt}function Os(ke,lt){for(var Ze=-1,zt=ke==null?0:ke.length;++Ze<zt&&lt(ke[Ze],Ze,ke)!==!1;);return ke}function vG(ke,lt){for(var Ze=ke==null?0:ke.length;Ze--&&lt(ke[Ze],Ze,ke)!==!1;);return ke}function Q4(ke,lt){for(var Ze=-1,zt=ke==null?0:ke.length;++Ze<zt;)if(!lt(ke[Ze],Ze,ke))return!1;return!0}function CA(ke,lt){for(var Ze=-1,zt=ke==null?0:ke.length,En=0,Hn=[];++Ze<zt;){var ji=ke[Ze];lt(ji,Ze,ke)&&(Hn[En++]=ji)}return Hn}function rh(ke,lt){var Ze=ke==null?0:ke.length;return!!Ze&&Ic(ke,lt,0)>-1}function uy(ke,lt,Ze){for(var zt=-1,En=ke==null?0:ke.length;++zt<En;)if(Ze(lt,ke[zt]))return!0;return!1}function wi(ke,lt){for(var Ze=-1,zt=ke==null?0:ke.length,En=Array(zt);++Ze<zt;)En[Ze]=lt(ke[Ze],Ze,ke);return En}function SA(ke,lt){for(var Ze=-1,zt=lt.length,En=ke.length;++Ze<zt;)ke[En+Ze]=lt[Ze];return ke}function dy(ke,lt,Ze,zt){var En=-1,Hn=ke==null?0:ke.length;for(zt&&Hn&&(Ze=ke[++En]);++En<Hn;)Ze=lt(Ze,ke[En],En,ke);return Ze}function xG(ke,lt,Ze,zt){var En=ke==null?0:ke.length;for(zt&&En&&(Ze=ke[--En]);En--;)Ze=lt(Ze,ke[En],En,ke);return Ze}function fy(ke,lt){for(var Ze=-1,zt=ke==null?0:ke.length;++Ze<zt;)if(lt(ke[Ze],Ze,ke))return!0;return!1}var RG=hy("length");function BG(ke){return ke.split("")}function CG(ke){return ke.match(pt)||[]}function H4(ke,lt,Ze){var zt;return Ze(ke,function(En,Hn,ji){if(lt(En,Hn,ji))return zt=Hn,!1}),zt}function sh(ke,lt,Ze,zt){for(var En=ke.length,Hn=Ze+(zt?1:-1);zt?Hn--:++Hn<En;)if(lt(ke[Hn],Hn,ke))return Hn;return-1}function Ic(ke,lt,Ze){return lt===lt?kG(ke,lt,Ze):sh(ke,z4,Ze)}function SG(ke,lt,Ze,zt){for(var En=Ze-1,Hn=ke.length;++En<Hn;)if(zt(ke[En],lt))return En;return-1}function z4(ke){return ke!==ke}function V4(ke,lt){var Ze=ke==null?0:ke.length;return Ze?my(ke,lt)/Ze:V}function hy(ke){return function(lt){return lt==null?t:lt[ke]}}function py(ke){return function(lt){return ke==null?t:ke[lt]}}function K4(ke,lt,Ze,zt,En){return En(ke,function(Hn,ji,ai){Ze=zt?(zt=!1,Hn):lt(Ze,Hn,ji,ai)}),Ze}function NG(ke,lt){var Ze=ke.length;for(ke.sort(lt);Ze--;)ke[Ze]=ke[Ze].value;return ke}function my(ke,lt){for(var Ze,zt=-1,En=ke.length;++zt<En;){var Hn=lt(ke[zt]);Hn!==t&&(Ze=Ze===t?Hn:Ze+Hn)}return Ze}function gy(ke,lt){for(var Ze=-1,zt=Array(ke);++Ze<ke;)zt[Ze]=lt(Ze);return zt}function MG(ke,lt){return wi(lt,function(Ze){return[Ze,ke[Ze]]})}function $4(ke){return ke&&ke.slice(0,X4(ke)+1).replace(de,"")}function gs(ke){return function(lt){return ke(lt)}}function yy(ke,lt){return wi(lt,function(Ze){return ke[Ze]})}function Uu(ke,lt){return ke.has(lt)}function W4(ke,lt){for(var Ze=-1,zt=ke.length;++Ze<zt&&Ic(lt,ke[Ze],0)>-1;);return Ze}function q4(ke,lt){for(var Ze=ke.length;Ze--&&Ic(lt,ke[Ze],0)>-1;);return Ze}function TG(ke,lt){for(var Ze=ke.length,zt=0;Ze--;)ke[Ze]===lt&&++zt;return zt}var GG=py(pG),FG=py(mG);function IG(ke){return"\\"+yG[ke]}function UG(ke,lt){return ke==null?t:ke[lt]}function Uc(ke){return uG.test(ke)}function PG(ke){return dG.test(ke)}function LG(ke){for(var lt,Ze=[];!(lt=ke.next()).done;)Ze.push(lt.value);return Ze}function wy(ke){var lt=-1,Ze=Array(ke.size);return ke.forEach(function(zt,En){Ze[++lt]=[En,zt]}),Ze}function Y4(ke,lt){return function(Ze){return ke(lt(Ze))}}function NA(ke,lt){for(var Ze=-1,zt=ke.length,En=0,Hn=[];++Ze<zt;){var ji=ke[Ze];(ji===lt||ji===l)&&(ke[Ze]=l,Hn[En++]=Ze)}return Hn}function ah(ke){var lt=-1,Ze=Array(ke.size);return ke.forEach(function(zt){Ze[++lt]=zt}),Ze}function DG(ke){var lt=-1,Ze=Array(ke.size);return ke.forEach(function(zt){Ze[++lt]=[zt,zt]}),Ze}function kG(ke,lt,Ze){for(var zt=Ze-1,En=ke.length;++zt<En;)if(ke[zt]===lt)return zt;return-1}function OG(ke,lt,Ze){for(var zt=Ze+1;zt--;)if(ke[zt]===lt)return zt;return zt}function Pc(ke){return Uc(ke)?HG(ke):RG(ke)}function pa(ke){return Uc(ke)?zG(ke):BG(ke)}function X4(ke){for(var lt=ke.length;lt--&&be.test(ke.charAt(lt)););return lt}var QG=py(gG);function HG(ke){for(var lt=Ay.lastIndex=0;Ay.test(ke);)++lt;return lt}function zG(ke){return ke.match(Ay)||[]}function VG(ke){return ke.match(lG)||[]}var KG=function ke(lt){lt=lt==null?hr:Lc.defaults(hr.Object(),lt,Lc.pick(hr,fG));var Ze=lt.Array,zt=lt.Date,En=lt.Error,Hn=lt.Function,ji=lt.Math,ai=lt.Object,by=lt.RegExp,$G=lt.String,Qs=lt.TypeError,oh=Ze.prototype,WG=Hn.prototype,Dc=ai.prototype,Ah=lt["__core-js_shared__"],ch=WG.toString,Jn=Dc.hasOwnProperty,qG=0,j4=function(){var f=/[^.]+$/.exec(Ah&&Ah.keys&&Ah.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),lh=Dc.toString,YG=ch.call(ai),XG=hr._,jG=by("^"+ch.call(Jn).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uh=I4?lt.Buffer:t,MA=lt.Symbol,dh=lt.Uint8Array,Z4=uh?uh.allocUnsafe:t,fh=Y4(ai.getPrototypeOf,ai),J4=ai.create,ev=Dc.propertyIsEnumerable,hh=oh.splice,tv=MA?MA.isConcatSpreadable:t,Pu=MA?MA.iterator:t,M0=MA?MA.toStringTag:t,ph=function(){try{var f=U0(ai,"defineProperty");return f({},"",{}),f}catch{}}(),ZG=lt.clearTimeout!==hr.clearTimeout&&lt.clearTimeout,JG=zt&&zt.now!==hr.Date.now&&zt.now,eF=lt.setTimeout!==hr.setTimeout&&lt.setTimeout,mh=ji.ceil,gh=ji.floor,Ey=ai.getOwnPropertySymbols,tF=uh?uh.isBuffer:t,nv=lt.isFinite,nF=oh.join,iF=Y4(ai.keys,ai),Zi=ji.max,Er=ji.min,rF=zt.now,sF=lt.parseInt,iv=ji.random,aF=oh.reverse,_y=U0(lt,"DataView"),Lu=U0(lt,"Map"),vy=U0(lt,"Promise"),kc=U0(lt,"Set"),Du=U0(lt,"WeakMap"),ku=U0(ai,"create"),yh=Du&&new Du,Oc={},oF=P0(_y),AF=P0(Lu),cF=P0(vy),lF=P0(kc),uF=P0(Du),wh=MA?MA.prototype:t,Ou=wh?wh.valueOf:t,rv=wh?wh.toString:t;function ie(f){if(Fi(f)&&!_n(f)&&!(f instanceof In)){if(f instanceof Hs)return f;if(Jn.call(f,"__wrapped__"))return s7(f)}return new Hs(f)}var Qc=function(){function f(){}return function(b){if(!Ci(b))return{};if(J4)return J4(b);f.prototype=b;var S=new f;return f.prototype=t,S}}();function bh(){}function Hs(f,b){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=t}ie.templateSettings={escape:Je,evaluate:Gt,interpolate:on,variable:"",imports:{_:ie}},ie.prototype=bh.prototype,ie.prototype.constructor=ie,Hs.prototype=Qc(bh.prototype),Hs.prototype.constructor=Hs;function In(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function dF(){var f=new In(this.__wrapped__);return f.__actions__=Yr(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Yr(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Yr(this.__views__),f}function fF(){if(this.__filtered__){var f=new In(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function hF(){var f=this.__wrapped__.value(),b=this.__dir__,S=_n(f),P=b<0,q=S?f.length:0,pe=BI(0,q,this.__views__),_e=pe.start,Me=pe.end,Qe=Me-_e,ft=P?Me:_e-1,ht=this.__iteratees__,wt=ht.length,Pt=0,qt=Er(Qe,this.__takeCount__);if(!S||!P&&q==Qe&&qt==Qe)return Sv(f,this.__actions__);var un=[];e:for(;Qe--&&Pt<qt;){ft+=b;for(var Sn=-1,dn=f[ft];++Sn<wt;){var Gn=ht[Sn],Pn=Gn.iteratee,bs=Gn.type,Ur=Pn(dn);if(bs==U)dn=Ur;else if(!Ur){if(bs==M)continue e;break e}}un[Pt++]=dn}return un}In.prototype=Qc(bh.prototype),In.prototype.constructor=In;function T0(f){var b=-1,S=f==null?0:f.length;for(this.clear();++b<S;){var P=f[b];this.set(P[0],P[1])}}function pF(){this.__data__=ku?ku(null):{},this.size=0}function mF(f){var b=this.has(f)&&delete this.__data__[f];return this.size-=b?1:0,b}function gF(f){var b=this.__data__;if(ku){var S=b[f];return S===A?t:S}return Jn.call(b,f)?b[f]:t}function yF(f){var b=this.__data__;return ku?b[f]!==t:Jn.call(b,f)}function wF(f,b){var S=this.__data__;return this.size+=this.has(f)?0:1,S[f]=ku&&b===t?A:b,this}T0.prototype.clear=pF,T0.prototype.delete=mF,T0.prototype.get=gF,T0.prototype.has=yF,T0.prototype.set=wF;function Ro(f){var b=-1,S=f==null?0:f.length;for(this.clear();++b<S;){var P=f[b];this.set(P[0],P[1])}}function bF(){this.__data__=[],this.size=0}function EF(f){var b=this.__data__,S=Eh(b,f);if(S<0)return!1;var P=b.length-1;return S==P?b.pop():hh.call(b,S,1),--this.size,!0}function _F(f){var b=this.__data__,S=Eh(b,f);return S<0?t:b[S][1]}function vF(f){return Eh(this.__data__,f)>-1}function xF(f,b){var S=this.__data__,P=Eh(S,f);return P<0?(++this.size,S.push([f,b])):S[P][1]=b,this}Ro.prototype.clear=bF,Ro.prototype.delete=EF,Ro.prototype.get=_F,Ro.prototype.has=vF,Ro.prototype.set=xF;function Bo(f){var b=-1,S=f==null?0:f.length;for(this.clear();++b<S;){var P=f[b];this.set(P[0],P[1])}}function RF(){this.size=0,this.__data__={hash:new T0,map:new(Lu||Ro),string:new T0}}function BF(f){var b=Fh(this,f).delete(f);return this.size-=b?1:0,b}function CF(f){return Fh(this,f).get(f)}function SF(f){return Fh(this,f).has(f)}function NF(f,b){var S=Fh(this,f),P=S.size;return S.set(f,b),this.size+=S.size==P?0:1,this}Bo.prototype.clear=RF,Bo.prototype.delete=BF,Bo.prototype.get=CF,Bo.prototype.has=SF,Bo.prototype.set=NF;function G0(f){var b=-1,S=f==null?0:f.length;for(this.__data__=new Bo;++b<S;)this.add(f[b])}function MF(f){return this.__data__.set(f,A),this}function TF(f){return this.__data__.has(f)}G0.prototype.add=G0.prototype.push=MF,G0.prototype.has=TF;function ma(f){var b=this.__data__=new Ro(f);this.size=b.size}function GF(){this.__data__=new Ro,this.size=0}function FF(f){var b=this.__data__,S=b.delete(f);return this.size=b.size,S}function IF(f){return this.__data__.get(f)}function UF(f){return this.__data__.has(f)}function PF(f,b){var S=this.__data__;if(S instanceof Ro){var P=S.__data__;if(!Lu||P.length<r-1)return P.push([f,b]),this.size=++S.size,this;S=this.__data__=new Bo(P)}return S.set(f,b),this.size=S.size,this}ma.prototype.clear=GF,ma.prototype.delete=FF,ma.prototype.get=IF,ma.prototype.has=UF,ma.prototype.set=PF;function sv(f,b){var S=_n(f),P=!S&&L0(f),q=!S&&!P&&UA(f),pe=!S&&!P&&!q&&Kc(f),_e=S||P||q||pe,Me=_e?gy(f.length,$G):[],Qe=Me.length;for(var ft in f)(b||Jn.call(f,ft))&&!(_e&&(ft=="length"||q&&(ft=="offset"||ft=="parent")||pe&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||Mo(ft,Qe)))&&Me.push(ft);return Me}function av(f){var b=f.length;return b?f[Iy(0,b-1)]:t}function LF(f,b){return Ih(Yr(f),F0(b,0,f.length))}function DF(f){return Ih(Yr(f))}function xy(f,b,S){(S!==t&&!ga(f[b],S)||S===t&&!(b in f))&&Co(f,b,S)}function Qu(f,b,S){var P=f[b];(!(Jn.call(f,b)&&ga(P,S))||S===t&&!(b in f))&&Co(f,b,S)}function Eh(f,b){for(var S=f.length;S--;)if(ga(f[S][0],b))return S;return-1}function kF(f,b,S,P){return TA(f,function(q,pe,_e){b(P,q,S(q),_e)}),P}function ov(f,b){return f&&Ha(b,ar(b),f)}function OF(f,b){return f&&Ha(b,jr(b),f)}function Co(f,b,S){b=="__proto__"&&ph?ph(f,b,{configurable:!0,enumerable:!0,value:S,writable:!0}):f[b]=S}function Ry(f,b){for(var S=-1,P=b.length,q=Ze(P),pe=f==null;++S<P;)q[S]=pe?t:s3(f,b[S]);return q}function F0(f,b,S){return f===f&&(S!==t&&(f=f<=S?f:S),b!==t&&(f=f>=b?f:b)),f}function zs(f,b,S,P,q,pe){var _e,Me=b&u,Qe=b&d,ft=b&h;if(S&&(_e=q?S(f,P,q,pe):S(f)),_e!==t)return _e;if(!Ci(f))return f;var ht=_n(f);if(ht){if(_e=SI(f),!Me)return Yr(f,_e)}else{var wt=_r(f),Pt=wt==fe||wt==we;if(UA(f))return Tv(f,Me);if(wt==Le||wt==ee||Pt&&!q){if(_e=Qe||Pt?{}:Xv(f),!Me)return Qe?gI(f,OF(_e,f)):mI(f,ov(_e,f))}else{if(!ci[wt])return q?f:{};_e=NI(f,wt,Me)}}pe||(pe=new ma);var qt=pe.get(f);if(qt)return qt;pe.set(f,_e),R7(f)?f.forEach(function(dn){_e.add(zs(dn,b,S,dn,f,pe))}):v7(f)&&f.forEach(function(dn,Gn){_e.set(Gn,zs(dn,b,S,Gn,f,pe))});var un=ft?Qe?Ky:Vy:Qe?jr:ar,Sn=ht?t:un(f);return Os(Sn||f,function(dn,Gn){Sn&&(Gn=dn,dn=f[Gn]),Qu(_e,Gn,zs(dn,b,S,Gn,f,pe))}),_e}function QF(f){var b=ar(f);return function(S){return Av(S,f,b)}}function Av(f,b,S){var P=S.length;if(f==null)return!P;for(f=ai(f);P--;){var q=S[P],pe=b[q],_e=f[q];if(_e===t&&!(q in f)||!pe(_e))return!1}return!0}function cv(f,b,S){if(typeof f!="function")throw new Qs(a);return qu(function(){f.apply(t,S)},b)}function Hu(f,b,S,P){var q=-1,pe=rh,_e=!0,Me=f.length,Qe=[],ft=b.length;if(!Me)return Qe;S&&(b=wi(b,gs(S))),P?(pe=uy,_e=!1):b.length>=r&&(pe=Uu,_e=!1,b=new G0(b));e:for(;++q<Me;){var ht=f[q],wt=S==null?ht:S(ht);if(ht=P||ht!==0?ht:0,_e&&wt===wt){for(var Pt=ft;Pt--;)if(b[Pt]===wt)continue e;Qe.push(ht)}else pe(b,wt,P)||Qe.push(ht)}return Qe}var TA=Pv(Qa),lv=Pv(Cy,!0);function HF(f,b){var S=!0;return TA(f,function(P,q,pe){return S=!!b(P,q,pe),S}),S}function _h(f,b,S){for(var P=-1,q=f.length;++P<q;){var pe=f[P],_e=b(pe);if(_e!=null&&(Me===t?_e===_e&&!ws(_e):S(_e,Me)))var Me=_e,Qe=pe}return Qe}function zF(f,b,S,P){var q=f.length;for(S=xn(S),S<0&&(S=-S>q?0:q+S),P=P===t||P>q?q:xn(P),P<0&&(P+=q),P=S>P?0:C7(P);S<P;)f[S++]=b;return f}function uv(f,b){var S=[];return TA(f,function(P,q,pe){b(P,q,pe)&&S.push(P)}),S}function pr(f,b,S,P,q){var pe=-1,_e=f.length;for(S||(S=TI),q||(q=[]);++pe<_e;){var Me=f[pe];b>0&&S(Me)?b>1?pr(Me,b-1,S,P,q):SA(q,Me):P||(q[q.length]=Me)}return q}var By=Lv(),dv=Lv(!0);function Qa(f,b){return f&&By(f,b,ar)}function Cy(f,b){return f&&dv(f,b,ar)}function vh(f,b){return CA(b,function(S){return To(f[S])})}function I0(f,b){b=FA(b,f);for(var S=0,P=b.length;f!=null&&S<P;)f=f[za(b[S++])];return S&&S==P?f:t}function fv(f,b,S){var P=b(f);return _n(f)?P:SA(P,S(f))}function Fr(f){return f==null?f===t?X:De:M0&&M0 in ai(f)?RI(f):DI(f)}function Sy(f,b){return f>b}function VF(f,b){return f!=null&&Jn.call(f,b)}function KF(f,b){return f!=null&&b in ai(f)}function $F(f,b,S){return f>=Er(b,S)&&f<Zi(b,S)}function Ny(f,b,S){for(var P=S?uy:rh,q=f[0].length,pe=f.length,_e=pe,Me=Ze(pe),Qe=1/0,ft=[];_e--;){var ht=f[_e];_e&&b&&(ht=wi(ht,gs(b))),Qe=Er(ht.length,Qe),Me[_e]=!S&&(b||q>=120&&ht.length>=120)?new G0(_e&&ht):t}ht=f[0];var wt=-1,Pt=Me[0];e:for(;++wt<q&&ft.length<Qe;){var qt=ht[wt],un=b?b(qt):qt;if(qt=S||qt!==0?qt:0,!(Pt?Uu(Pt,un):P(ft,un,S))){for(_e=pe;--_e;){var Sn=Me[_e];if(!(Sn?Uu(Sn,un):P(f[_e],un,S)))continue e}Pt&&Pt.push(un),ft.push(qt)}}return ft}function WF(f,b,S,P){return Qa(f,function(q,pe,_e){b(P,S(q),pe,_e)}),P}function zu(f,b,S){b=FA(b,f),f=e7(f,b);var P=f==null?f:f[za(Ks(b))];return P==null?t:ms(P,f,S)}function hv(f){return Fi(f)&&Fr(f)==ee}function qF(f){return Fi(f)&&Fr(f)==Se}function YF(f){return Fi(f)&&Fr(f)==me}function Vu(f,b,S,P,q){return f===b?!0:f==null||b==null||!Fi(f)&&!Fi(b)?f!==f&&b!==b:XF(f,b,S,P,Vu,q)}function XF(f,b,S,P,q,pe){var _e=_n(f),Me=_n(b),Qe=_e?se:_r(f),ft=Me?se:_r(b);Qe=Qe==ee?Le:Qe,ft=ft==ee?Le:ft;var ht=Qe==Le,wt=ft==Le,Pt=Qe==ft;if(Pt&&UA(f)){if(!UA(b))return!1;_e=!0,ht=!1}if(Pt&&!ht)return pe||(pe=new ma),_e||Kc(f)?Wv(f,b,S,P,q,pe):vI(f,b,Qe,S,P,q,pe);if(!(S&m)){var qt=ht&&Jn.call(f,"__wrapped__"),un=wt&&Jn.call(b,"__wrapped__");if(qt||un){var Sn=qt?f.value():f,dn=un?b.value():b;return pe||(pe=new ma),q(Sn,dn,S,P,pe)}}return Pt?(pe||(pe=new ma),xI(f,b,S,P,q,pe)):!1}function jF(f){return Fi(f)&&_r(f)==Fe}function My(f,b,S,P){var q=S.length,pe=q,_e=!P;if(f==null)return!pe;for(f=ai(f);q--;){var Me=S[q];if(_e&&Me[2]?Me[1]!==f[Me[0]]:!(Me[0]in f))return!1}for(;++q<pe;){Me=S[q];var Qe=Me[0],ft=f[Qe],ht=Me[1];if(_e&&Me[2]){if(ft===t&&!(Qe in f))return!1}else{var wt=new ma;if(P)var Pt=P(ft,ht,Qe,f,b,wt);if(!(Pt===t?Vu(ht,ft,m|y,P,wt):Pt))return!1}}return!0}function pv(f){if(!Ci(f)||FI(f))return!1;var b=To(f)?jG:Oe;return b.test(P0(f))}function ZF(f){return Fi(f)&&Fr(f)==Xe}function JF(f){return Fi(f)&&_r(f)==et}function eI(f){return Fi(f)&&Oh(f.length)&&!!hi[Fr(f)]}function mv(f){return typeof f=="function"?f:f==null?Zr:typeof f=="object"?_n(f)?wv(f[0],f[1]):yv(f):D7(f)}function Ty(f){if(!Wu(f))return iF(f);var b=[];for(var S in ai(f))Jn.call(f,S)&&S!="constructor"&&b.push(S);return b}function tI(f){if(!Ci(f))return LI(f);var b=Wu(f),S=[];for(var P in f)P=="constructor"&&(b||!Jn.call(f,P))||S.push(P);return S}function Gy(f,b){return f<b}function gv(f,b){var S=-1,P=Xr(f)?Ze(f.length):[];return TA(f,function(q,pe,_e){P[++S]=b(q,pe,_e)}),P}function yv(f){var b=Wy(f);return b.length==1&&b[0][2]?Zv(b[0][0],b[0][1]):function(S){return S===f||My(S,f,b)}}function wv(f,b){return Yy(f)&&jv(b)?Zv(za(f),b):function(S){var P=s3(S,f);return P===t&&P===b?a3(S,f):Vu(b,P,m|y)}}function xh(f,b,S,P,q){f!==b&&By(b,function(pe,_e){if(q||(q=new ma),Ci(pe))nI(f,b,_e,S,xh,P,q);else{var Me=P?P(jy(f,_e),pe,_e+"",f,b,q):t;Me===t&&(Me=pe),xy(f,_e,Me)}},jr)}function nI(f,b,S,P,q,pe,_e){var Me=jy(f,S),Qe=jy(b,S),ft=_e.get(Qe);if(ft){xy(f,S,ft);return}var ht=pe?pe(Me,Qe,S+"",f,b,_e):t,wt=ht===t;if(wt){var Pt=_n(Qe),qt=!Pt&&UA(Qe),un=!Pt&&!qt&&Kc(Qe);ht=Qe,Pt||qt||un?_n(Me)?ht=Me:Li(Me)?ht=Yr(Me):qt?(wt=!1,ht=Tv(Qe,!0)):un?(wt=!1,ht=Gv(Qe,!0)):ht=[]:Yu(Qe)||L0(Qe)?(ht=Me,L0(Me)?ht=S7(Me):(!Ci(Me)||To(Me))&&(ht=Xv(Qe))):wt=!1}wt&&(_e.set(Qe,ht),q(ht,Qe,P,pe,_e),_e.delete(Qe)),xy(f,S,ht)}function bv(f,b){var S=f.length;if(!!S)return b+=b<0?S:0,Mo(b,S)?f[b]:t}function Ev(f,b,S){b.length?b=wi(b,function(pe){return _n(pe)?function(_e){return I0(_e,pe.length===1?pe[0]:pe)}:pe}):b=[Zr];var P=-1;b=wi(b,gs(An()));var q=gv(f,function(pe,_e,Me){var Qe=wi(b,function(ft){return ft(pe)});return{criteria:Qe,index:++P,value:pe}});return NG(q,function(pe,_e){return pI(pe,_e,S)})}function iI(f,b){return _v(f,b,function(S,P){return a3(f,P)})}function _v(f,b,S){for(var P=-1,q=b.length,pe={};++P<q;){var _e=b[P],Me=I0(f,_e);S(Me,_e)&&Ku(pe,FA(_e,f),Me)}return pe}function rI(f){return function(b){return I0(b,f)}}function Fy(f,b,S,P){var q=P?SG:Ic,pe=-1,_e=b.length,Me=f;for(f===b&&(b=Yr(b)),S&&(Me=wi(f,gs(S)));++pe<_e;)for(var Qe=0,ft=b[pe],ht=S?S(ft):ft;(Qe=q(Me,ht,Qe,P))>-1;)Me!==f&&hh.call(Me,Qe,1),hh.call(f,Qe,1);return f}function vv(f,b){for(var S=f?b.length:0,P=S-1;S--;){var q=b[S];if(S==P||q!==pe){var pe=q;Mo(q)?hh.call(f,q,1):Ly(f,q)}}return f}function Iy(f,b){return f+gh(iv()*(b-f+1))}function sI(f,b,S,P){for(var q=-1,pe=Zi(mh((b-f)/(S||1)),0),_e=Ze(pe);pe--;)_e[P?pe:++q]=f,f+=S;return _e}function Uy(f,b){var S="";if(!f||b<1||b>k)return S;do b%2&&(S+=f),b=gh(b/2),b&&(f+=f);while(b);return S}function Mn(f,b){return Zy(Jv(f,b,Zr),f+"")}function aI(f){return av($c(f))}function oI(f,b){var S=$c(f);return Ih(S,F0(b,0,S.length))}function Ku(f,b,S,P){if(!Ci(f))return f;b=FA(b,f);for(var q=-1,pe=b.length,_e=pe-1,Me=f;Me!=null&&++q<pe;){var Qe=za(b[q]),ft=S;if(Qe==="__proto__"||Qe==="constructor"||Qe==="prototype")return f;if(q!=_e){var ht=Me[Qe];ft=P?P(ht,Qe,Me):t,ft===t&&(ft=Ci(ht)?ht:Mo(b[q+1])?[]:{})}Qu(Me,Qe,ft),Me=Me[Qe]}return f}var xv=yh?function(f,b){return yh.set(f,b),f}:Zr,AI=ph?function(f,b){return ph(f,"toString",{configurable:!0,enumerable:!1,value:A3(b),writable:!0})}:Zr;function cI(f){return Ih($c(f))}function Vs(f,b,S){var P=-1,q=f.length;b<0&&(b=-b>q?0:q+b),S=S>q?q:S,S<0&&(S+=q),q=b>S?0:S-b>>>0,b>>>=0;for(var pe=Ze(q);++P<q;)pe[P]=f[P+b];return pe}function lI(f,b){var S;return TA(f,function(P,q,pe){return S=b(P,q,pe),!S}),!!S}function Rh(f,b,S){var P=0,q=f==null?P:f.length;if(typeof b=="number"&&b===b&&q<=oe){for(;P<q;){var pe=P+q>>>1,_e=f[pe];_e!==null&&!ws(_e)&&(S?_e<=b:_e<b)?P=pe+1:q=pe}return q}return Py(f,b,Zr,S)}function Py(f,b,S,P){var q=0,pe=f==null?0:f.length;if(pe===0)return 0;b=S(b);for(var _e=b!==b,Me=b===null,Qe=ws(b),ft=b===t;q<pe;){var ht=gh((q+pe)/2),wt=S(f[ht]),Pt=wt!==t,qt=wt===null,un=wt===wt,Sn=ws(wt);if(_e)var dn=P||un;else ft?dn=un&&(P||Pt):Me?dn=un&&Pt&&(P||!qt):Qe?dn=un&&Pt&&!qt&&(P||!Sn):qt||Sn?dn=!1:dn=P?wt<=b:wt<b;dn?q=ht+1:pe=ht}return Er(pe,H)}function Rv(f,b){for(var S=-1,P=f.length,q=0,pe=[];++S<P;){var _e=f[S],Me=b?b(_e):_e;if(!S||!ga(Me,Qe)){var Qe=Me;pe[q++]=_e===0?0:_e}}return pe}function Bv(f){return typeof f=="number"?f:ws(f)?V:+f}function ys(f){if(typeof f=="string")return f;if(_n(f))return wi(f,ys)+"";if(ws(f))return rv?rv.call(f):"";var b=f+"";return b=="0"&&1/f==-L?"-0":b}function GA(f,b,S){var P=-1,q=rh,pe=f.length,_e=!0,Me=[],Qe=Me;if(S)_e=!1,q=uy;else if(pe>=r){var ft=b?null:EI(f);if(ft)return ah(ft);_e=!1,q=Uu,Qe=new G0}else Qe=b?[]:Me;e:for(;++P<pe;){var ht=f[P],wt=b?b(ht):ht;if(ht=S||ht!==0?ht:0,_e&&wt===wt){for(var Pt=Qe.length;Pt--;)if(Qe[Pt]===wt)continue e;b&&Qe.push(wt),Me.push(ht)}else q(Qe,wt,S)||(Qe!==Me&&Qe.push(wt),Me.push(ht))}return Me}function Ly(f,b){return b=FA(b,f),f=e7(f,b),f==null||delete f[za(Ks(b))]}function Cv(f,b,S,P){return Ku(f,b,S(I0(f,b)),P)}function Bh(f,b,S,P){for(var q=f.length,pe=P?q:-1;(P?pe--:++pe<q)&&b(f[pe],pe,f););return S?Vs(f,P?0:pe,P?pe+1:q):Vs(f,P?pe+1:0,P?q:pe)}function Sv(f,b){var S=f;return S instanceof In&&(S=S.value()),dy(b,function(P,q){return q.func.apply(q.thisArg,SA([P],q.args))},S)}function Dy(f,b,S){var P=f.length;if(P<2)return P?GA(f[0]):[];for(var q=-1,pe=Ze(P);++q<P;)for(var _e=f[q],Me=-1;++Me<P;)Me!=q&&(pe[q]=Hu(pe[q]||_e,f[Me],b,S));return GA(pr(pe,1),b,S)}function Nv(f,b,S){for(var P=-1,q=f.length,pe=b.length,_e={};++P<q;){var Me=P<pe?b[P]:t;S(_e,f[P],Me)}return _e}function ky(f){return Li(f)?f:[]}function Oy(f){return typeof f=="function"?f:Zr}function FA(f,b){return _n(f)?f:Yy(f,b)?[f]:r7(Yn(f))}var uI=Mn;function IA(f,b,S){var P=f.length;return S=S===t?P:S,!b&&S>=P?f:Vs(f,b,S)}var Mv=ZG||function(f){return hr.clearTimeout(f)};function Tv(f,b){if(b)return f.slice();var S=f.length,P=Z4?Z4(S):new f.constructor(S);return f.copy(P),P}function Qy(f){var b=new f.constructor(f.byteLength);return new dh(b).set(new dh(f)),b}function dI(f,b){var S=b?Qy(f.buffer):f.buffer;return new f.constructor(S,f.byteOffset,f.byteLength)}function fI(f){var b=new f.constructor(f.source,gt.exec(f));return b.lastIndex=f.lastIndex,b}function hI(f){return Ou?ai(Ou.call(f)):{}}function Gv(f,b){var S=b?Qy(f.buffer):f.buffer;return new f.constructor(S,f.byteOffset,f.length)}function Fv(f,b){if(f!==b){var S=f!==t,P=f===null,q=f===f,pe=ws(f),_e=b!==t,Me=b===null,Qe=b===b,ft=ws(b);if(!Me&&!ft&&!pe&&f>b||pe&&_e&&Qe&&!Me&&!ft||P&&_e&&Qe||!S&&Qe||!q)return 1;if(!P&&!pe&&!ft&&f<b||ft&&S&&q&&!P&&!pe||Me&&S&&q||!_e&&q||!Qe)return-1}return 0}function pI(f,b,S){for(var P=-1,q=f.criteria,pe=b.criteria,_e=q.length,Me=S.length;++P<_e;){var Qe=Fv(q[P],pe[P]);if(Qe){if(P>=Me)return Qe;var ft=S[P];return Qe*(ft=="desc"?-1:1)}}return f.index-b.index}function Iv(f,b,S,P){for(var q=-1,pe=f.length,_e=S.length,Me=-1,Qe=b.length,ft=Zi(pe-_e,0),ht=Ze(Qe+ft),wt=!P;++Me<Qe;)ht[Me]=b[Me];for(;++q<_e;)(wt||q<pe)&&(ht[S[q]]=f[q]);for(;ft--;)ht[Me++]=f[q++];return ht}function Uv(f,b,S,P){for(var q=-1,pe=f.length,_e=-1,Me=S.length,Qe=-1,ft=b.length,ht=Zi(pe-Me,0),wt=Ze(ht+ft),Pt=!P;++q<ht;)wt[q]=f[q];for(var qt=q;++Qe<ft;)wt[qt+Qe]=b[Qe];for(;++_e<Me;)(Pt||q<pe)&&(wt[qt+S[_e]]=f[q++]);return wt}function Yr(f,b){var S=-1,P=f.length;for(b||(b=Ze(P));++S<P;)b[S]=f[S];return b}function Ha(f,b,S,P){var q=!S;S||(S={});for(var pe=-1,_e=b.length;++pe<_e;){var Me=b[pe],Qe=P?P(S[Me],f[Me],Me,S,f):t;Qe===t&&(Qe=f[Me]),q?Co(S,Me,Qe):Qu(S,Me,Qe)}return S}function mI(f,b){return Ha(f,qy(f),b)}function gI(f,b){return Ha(f,qv(f),b)}function Ch(f,b){return function(S,P){var q=_n(S)?_G:kF,pe=b?b():{};return q(S,f,An(P,2),pe)}}function Hc(f){return Mn(function(b,S){var P=-1,q=S.length,pe=q>1?S[q-1]:t,_e=q>2?S[2]:t;for(pe=f.length>3&&typeof pe=="function"?(q--,pe):t,_e&&Ir(S[0],S[1],_e)&&(pe=q<3?t:pe,q=1),b=ai(b);++P<q;){var Me=S[P];Me&&f(b,Me,P,pe)}return b})}function Pv(f,b){return function(S,P){if(S==null)return S;if(!Xr(S))return f(S,P);for(var q=S.length,pe=b?q:-1,_e=ai(S);(b?pe--:++pe<q)&&P(_e[pe],pe,_e)!==!1;);return S}}function Lv(f){return function(b,S,P){for(var q=-1,pe=ai(b),_e=P(b),Me=_e.length;Me--;){var Qe=_e[f?Me:++q];if(S(pe[Qe],Qe,pe)===!1)break}return b}}function yI(f,b,S){var P=b&g,q=$u(f);function pe(){var _e=this&&this!==hr&&this instanceof pe?q:f;return _e.apply(P?S:this,arguments)}return pe}function Dv(f){return function(b){b=Yn(b);var S=Uc(b)?pa(b):t,P=S?S[0]:b.charAt(0),q=S?IA(S,1).join(""):b.slice(1);return P[f]()+q}}function zc(f){return function(b){return dy(P7(U7(b).replace(AG,"")),f,"")}}function $u(f){return function(){var b=arguments;switch(b.length){case 0:return new f;case 1:return new f(b[0]);case 2:return new f(b[0],b[1]);case 3:return new f(b[0],b[1],b[2]);case 4:return new f(b[0],b[1],b[2],b[3]);case 5:return new f(b[0],b[1],b[2],b[3],b[4]);case 6:return new f(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new f(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var S=Qc(f.prototype),P=f.apply(S,b);return Ci(P)?P:S}}function wI(f,b,S){var P=$u(f);function q(){for(var pe=arguments.length,_e=Ze(pe),Me=pe,Qe=Vc(q);Me--;)_e[Me]=arguments[Me];var ft=pe<3&&_e[0]!==Qe&&_e[pe-1]!==Qe?[]:NA(_e,Qe);if(pe-=ft.length,pe<S)return zv(f,b,Sh,q.placeholder,t,_e,ft,t,t,S-pe);var ht=this&&this!==hr&&this instanceof q?P:f;return ms(ht,this,_e)}return q}function kv(f){return function(b,S,P){var q=ai(b);if(!Xr(b)){var pe=An(S,3);b=ar(b),S=function(Me){return pe(q[Me],Me,q)}}var _e=f(b,S,P);return _e>-1?q[pe?b[_e]:_e]:t}}function Ov(f){return No(function(b){var S=b.length,P=S,q=Hs.prototype.thru;for(f&&b.reverse();P--;){var pe=b[P];if(typeof pe!="function")throw new Qs(a);if(q&&!_e&&Gh(pe)=="wrapper")var _e=new Hs([],!0)}for(P=_e?P:S;++P<S;){pe=b[P];var Me=Gh(pe),Qe=Me=="wrapper"?$y(pe):t;Qe&&Xy(Qe[0])&&Qe[1]==(x|p|v|C)&&!Qe[4].length&&Qe[9]==1?_e=_e[Gh(Qe[0])].apply(_e,Qe[3]):_e=pe.length==1&&Xy(pe)?_e[Me]():_e.thru(pe)}return function(){var ft=arguments,ht=ft[0];if(_e&&ft.length==1&&_n(ht))return _e.plant(ht).value();for(var wt=0,Pt=S?b[wt].apply(this,ft):ht;++wt<S;)Pt=b[wt].call(this,Pt);return Pt}})}function Sh(f,b,S,P,q,pe,_e,Me,Qe,ft){var ht=b&x,wt=b&g,Pt=b&E,qt=b&(p|w),un=b&B,Sn=Pt?t:$u(f);function dn(){for(var Gn=arguments.length,Pn=Ze(Gn),bs=Gn;bs--;)Pn[bs]=arguments[bs];if(qt)var Ur=Vc(dn),Es=TG(Pn,Ur);if(P&&(Pn=Iv(Pn,P,q,qt)),pe&&(Pn=Uv(Pn,pe,_e,qt)),Gn-=Es,qt&&Gn<ft){var Di=NA(Pn,Ur);return zv(f,b,Sh,dn.placeholder,S,Pn,Di,Me,Qe,ft-Gn)}var ya=wt?S:this,Fo=Pt?ya[f]:f;return Gn=Pn.length,Me?Pn=kI(Pn,Me):un&&Gn>1&&Pn.reverse(),ht&&Qe<Gn&&(Pn.length=Qe),this&&this!==hr&&this instanceof dn&&(Fo=Sn||$u(Fo)),Fo.apply(ya,Pn)}return dn}function Qv(f,b){return function(S,P){return WF(S,f,b(P),{})}}function Nh(f,b){return function(S,P){var q;if(S===t&&P===t)return b;if(S!==t&&(q=S),P!==t){if(q===t)return P;typeof S=="string"||typeof P=="string"?(S=ys(S),P=ys(P)):(S=Bv(S),P=Bv(P)),q=f(S,P)}return q}}function Hy(f){return No(function(b){return b=wi(b,gs(An())),Mn(function(S){var P=this;return f(b,function(q){return ms(q,P,S)})})})}function Mh(f,b){b=b===t?" ":ys(b);var S=b.length;if(S<2)return S?Uy(b,f):b;var P=Uy(b,mh(f/Pc(b)));return Uc(b)?IA(pa(P),0,f).join(""):P.slice(0,f)}function bI(f,b,S,P){var q=b&g,pe=$u(f);function _e(){for(var Me=-1,Qe=arguments.length,ft=-1,ht=P.length,wt=Ze(ht+Qe),Pt=this&&this!==hr&&this instanceof _e?pe:f;++ft<ht;)wt[ft]=P[ft];for(;Qe--;)wt[ft++]=arguments[++Me];return ms(Pt,q?S:this,wt)}return _e}function Hv(f){return function(b,S,P){return P&&typeof P!="number"&&Ir(b,S,P)&&(S=P=t),b=Go(b),S===t?(S=b,b=0):S=Go(S),P=P===t?b<S?1:-1:Go(P),sI(b,S,P,f)}}function Th(f){return function(b,S){return typeof b=="string"&&typeof S=="string"||(b=$s(b),S=$s(S)),f(b,S)}}function zv(f,b,S,P,q,pe,_e,Me,Qe,ft){var ht=b&p,wt=ht?_e:t,Pt=ht?t:_e,qt=ht?pe:t,un=ht?t:pe;b|=ht?v:_,b&=~(ht?_:v),b&R||(b&=~(g|E));var Sn=[f,b,q,qt,wt,un,Pt,Me,Qe,ft],dn=S.apply(t,Sn);return Xy(f)&&t7(dn,Sn),dn.placeholder=P,n7(dn,f,b)}function zy(f){var b=ji[f];return function(S,P){if(S=$s(S),P=P==null?0:Er(xn(P),292),P&&nv(S)){var q=(Yn(S)+"e").split("e"),pe=b(q[0]+"e"+(+q[1]+P));return q=(Yn(pe)+"e").split("e"),+(q[0]+"e"+(+q[1]-P))}return b(S)}}var EI=kc&&1/ah(new kc([,-0]))[1]==L?function(f){return new kc(f)}:u3;function Vv(f){return function(b){var S=_r(b);return S==Fe?wy(b):S==et?DG(b):MG(b,f(b))}}function So(f,b,S,P,q,pe,_e,Me){var Qe=b&E;if(!Qe&&typeof f!="function")throw new Qs(a);var ft=P?P.length:0;if(ft||(b&=~(v|_),P=q=t),_e=_e===t?_e:Zi(xn(_e),0),Me=Me===t?Me:xn(Me),ft-=q?q.length:0,b&_){var ht=P,wt=q;P=q=t}var Pt=Qe?t:$y(f),qt=[f,b,S,P,q,ht,wt,pe,_e,Me];if(Pt&&PI(qt,Pt),f=qt[0],b=qt[1],S=qt[2],P=qt[3],q=qt[4],Me=qt[9]=qt[9]===t?Qe?0:f.length:Zi(qt[9]-ft,0),!Me&&b&(p|w)&&(b&=~(p|w)),!b||b==g)var un=yI(f,b,S);else b==p||b==w?un=wI(f,b,Me):(b==v||b==(g|v))&&!q.length?un=bI(f,b,S,P):un=Sh.apply(t,qt);var Sn=Pt?xv:t7;return n7(Sn(un,qt),f,b)}function Kv(f,b,S,P){return f===t||ga(f,Dc[S])&&!Jn.call(P,S)?b:f}function $v(f,b,S,P,q,pe){return Ci(f)&&Ci(b)&&(pe.set(b,f),xh(f,b,t,$v,pe),pe.delete(b)),f}function _I(f){return Yu(f)?t:f}function Wv(f,b,S,P,q,pe){var _e=S&m,Me=f.length,Qe=b.length;if(Me!=Qe&&!(_e&&Qe>Me))return!1;var ft=pe.get(f),ht=pe.get(b);if(ft&&ht)return ft==b&&ht==f;var wt=-1,Pt=!0,qt=S&y?new G0:t;for(pe.set(f,b),pe.set(b,f);++wt<Me;){var un=f[wt],Sn=b[wt];if(P)var dn=_e?P(Sn,un,wt,b,f,pe):P(un,Sn,wt,f,b,pe);if(dn!==t){if(dn)continue;Pt=!1;break}if(qt){if(!fy(b,function(Gn,Pn){if(!Uu(qt,Pn)&&(un===Gn||q(un,Gn,S,P,pe)))return qt.push(Pn)})){Pt=!1;break}}else if(!(un===Sn||q(un,Sn,S,P,pe))){Pt=!1;break}}return pe.delete(f),pe.delete(b),Pt}function vI(f,b,S,P,q,pe,_e){switch(S){case ze:if(f.byteLength!=b.byteLength||f.byteOffset!=b.byteOffset)return!1;f=f.buffer,b=b.buffer;case Se:return!(f.byteLength!=b.byteLength||!pe(new dh(f),new dh(b)));case J:case me:case je:return ga(+f,+b);case ge:return f.name==b.name&&f.message==b.message;case Xe:case st:return f==b+"";case Fe:var Me=wy;case et:var Qe=P&m;if(Me||(Me=ah),f.size!=b.size&&!Qe)return!1;var ft=_e.get(f);if(ft)return ft==b;P|=y,_e.set(f,b);var ht=Wv(Me(f),Me(b),P,q,pe,_e);return _e.delete(f),ht;case re:if(Ou)return Ou.call(f)==Ou.call(b)}return!1}function xI(f,b,S,P,q,pe){var _e=S&m,Me=Vy(f),Qe=Me.length,ft=Vy(b),ht=ft.length;if(Qe!=ht&&!_e)return!1;for(var wt=Qe;wt--;){var Pt=Me[wt];if(!(_e?Pt in b:Jn.call(b,Pt)))return!1}var qt=pe.get(f),un=pe.get(b);if(qt&&un)return qt==b&&un==f;var Sn=!0;pe.set(f,b),pe.set(b,f);for(var dn=_e;++wt<Qe;){Pt=Me[wt];var Gn=f[Pt],Pn=b[Pt];if(P)var bs=_e?P(Pn,Gn,Pt,b,f,pe):P(Gn,Pn,Pt,f,b,pe);if(!(bs===t?Gn===Pn||q(Gn,Pn,S,P,pe):bs)){Sn=!1;break}dn||(dn=Pt=="constructor")}if(Sn&&!dn){var Ur=f.constructor,Es=b.constructor;Ur!=Es&&"constructor"in f&&"constructor"in b&&!(typeof Ur=="function"&&Ur instanceof Ur&&typeof Es=="function"&&Es instanceof Es)&&(Sn=!1)}return pe.delete(f),pe.delete(b),Sn}function No(f){return Zy(Jv(f,t,A7),f+"")}function Vy(f){return fv(f,ar,qy)}function Ky(f){return fv(f,jr,qv)}var $y=yh?function(f){return yh.get(f)}:u3;function Gh(f){for(var b=f.name+"",S=Oc[b],P=Jn.call(Oc,b)?S.length:0;P--;){var q=S[P],pe=q.func;if(pe==null||pe==f)return q.name}return b}function Vc(f){var b=Jn.call(ie,"placeholder")?ie:f;return b.placeholder}function An(){var f=ie.iteratee||c3;return f=f===c3?mv:f,arguments.length?f(arguments[0],arguments[1]):f}function Fh(f,b){var S=f.__data__;return GI(b)?S[typeof b=="string"?"string":"hash"]:S.map}function Wy(f){for(var b=ar(f),S=b.length;S--;){var P=b[S],q=f[P];b[S]=[P,q,jv(q)]}return b}function U0(f,b){var S=UG(f,b);return pv(S)?S:t}function RI(f){var b=Jn.call(f,M0),S=f[M0];try{f[M0]=t;var P=!0}catch{}var q=lh.call(f);return P&&(b?f[M0]=S:delete f[M0]),q}var qy=Ey?function(f){return f==null?[]:(f=ai(f),CA(Ey(f),function(b){return ev.call(f,b)}))}:d3,qv=Ey?function(f){for(var b=[];f;)SA(b,qy(f)),f=fh(f);return b}:d3,_r=Fr;(_y&&_r(new _y(new ArrayBuffer(1)))!=ze||Lu&&_r(new Lu)!=Fe||vy&&_r(vy.resolve())!=tt||kc&&_r(new kc)!=et||Du&&_r(new Du)!=Be)&&(_r=function(f){var b=Fr(f),S=b==Le?f.constructor:t,P=S?P0(S):"";if(P)switch(P){case oF:return ze;case AF:return Fe;case cF:return tt;case lF:return et;case uF:return Be}return b});function BI(f,b,S){for(var P=-1,q=S.length;++P<q;){var pe=S[P],_e=pe.size;switch(pe.type){case"drop":f+=_e;break;case"dropRight":b-=_e;break;case"take":b=Er(b,f+_e);break;case"takeRight":f=Zi(f,b-_e);break}}return{start:f,end:b}}function CI(f){var b=f.match(Te);return b?b[1].split(At):[]}function Yv(f,b,S){b=FA(b,f);for(var P=-1,q=b.length,pe=!1;++P<q;){var _e=za(b[P]);if(!(pe=f!=null&&S(f,_e)))break;f=f[_e]}return pe||++P!=q?pe:(q=f==null?0:f.length,!!q&&Oh(q)&&Mo(_e,q)&&(_n(f)||L0(f)))}function SI(f){var b=f.length,S=new f.constructor(b);return b&&typeof f[0]=="string"&&Jn.call(f,"index")&&(S.index=f.index,S.input=f.input),S}function Xv(f){return typeof f.constructor=="function"&&!Wu(f)?Qc(fh(f)):{}}function NI(f,b,S){var P=f.constructor;switch(b){case Se:return Qy(f);case J:case me:return new P(+f);case ze:return dI(f,S);case ut:case qe:case dt:case yt:case Ut:case ye:case nt:case it:case ct:return Gv(f,S);case Fe:return new P;case je:case st:return new P(f);case Xe:return fI(f);case et:return new P;case re:return hI(f)}}function MI(f,b){var S=b.length;if(!S)return f;var P=S-1;return b[P]=(S>1?"& ":"")+b[P],b=b.join(S>2?", ":" "),f.replace(Re,`{
/* [wrapped with `+b+`] */
`)}function TI(f){return _n(f)||L0(f)||!!(tv&&f&&f[tv])}function Mo(f,b){var S=typeof f;return b=b==null?k:b,!!b&&(S=="number"||S!="symbol"&&Ye.test(f))&&f>-1&&f%1==0&&f<b}function Ir(f,b,S){if(!Ci(S))return!1;var P=typeof b;return(P=="number"?Xr(S)&&Mo(b,S.length):P=="string"&&b in S)?ga(S[b],f):!1}function Yy(f,b){if(_n(f))return!1;var S=typeof f;return S=="number"||S=="symbol"||S=="boolean"||f==null||ws(f)?!0:Q.test(f)||!en.test(f)||b!=null&&f in ai(b)}function GI(f){var b=typeof f;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?f!=="__proto__":f===null}function Xy(f){var b=Gh(f),S=ie[b];if(typeof S!="function"||!(b in In.prototype))return!1;if(f===S)return!0;var P=$y(S);return!!P&&f===P[0]}function FI(f){return!!j4&&j4 in f}var II=Ah?To:f3;function Wu(f){var b=f&&f.constructor,S=typeof b=="function"&&b.prototype||Dc;return f===S}function jv(f){return f===f&&!Ci(f)}function Zv(f,b){return function(S){return S==null?!1:S[f]===b&&(b!==t||f in ai(S))}}function UI(f){var b=Dh(f,function(P){return S.size===c&&S.clear(),P}),S=b.cache;return b}function PI(f,b){var S=f[1],P=b[1],q=S|P,pe=q<(g|E|x),_e=P==x&&S==p||P==x&&S==C&&f[7].length<=b[8]||P==(x|C)&&b[7].length<=b[8]&&S==p;if(!(pe||_e))return f;P&g&&(f[2]=b[2],q|=S&g?0:R);var Me=b[3];if(Me){var Qe=f[3];f[3]=Qe?Iv(Qe,Me,b[4]):Me,f[4]=Qe?NA(f[3],l):b[4]}return Me=b[5],Me&&(Qe=f[5],f[5]=Qe?Uv(Qe,Me,b[6]):Me,f[6]=Qe?NA(f[5],l):b[6]),Me=b[7],Me&&(f[7]=Me),P&x&&(f[8]=f[8]==null?b[8]:Er(f[8],b[8])),f[9]==null&&(f[9]=b[9]),f[0]=b[0],f[1]=q,f}function LI(f){var b=[];if(f!=null)for(var S in ai(f))b.push(S);return b}function DI(f){return lh.call(f)}function Jv(f,b,S){return b=Zi(b===t?f.length-1:b,0),function(){for(var P=arguments,q=-1,pe=Zi(P.length-b,0),_e=Ze(pe);++q<pe;)_e[q]=P[b+q];q=-1;for(var Me=Ze(b+1);++q<b;)Me[q]=P[q];return Me[b]=S(_e),ms(f,this,Me)}}function e7(f,b){return b.length<2?f:I0(f,Vs(b,0,-1))}function kI(f,b){for(var S=f.length,P=Er(b.length,S),q=Yr(f);P--;){var pe=b[P];f[P]=Mo(pe,S)?q[pe]:t}return f}function jy(f,b){if(!(b==="constructor"&&typeof f[b]=="function")&&b!="__proto__")return f[b]}var t7=i7(xv),qu=eF||function(f,b){return hr.setTimeout(f,b)},Zy=i7(AI);function n7(f,b,S){var P=b+"";return Zy(f,MI(P,OI(CI(P),S)))}function i7(f){var b=0,S=0;return function(){var P=rF(),q=T-(P-S);if(S=P,q>0){if(++b>=N)return arguments[0]}else b=0;return f.apply(t,arguments)}}function Ih(f,b){var S=-1,P=f.length,q=P-1;for(b=b===t?P:b;++S<b;){var pe=Iy(S,q),_e=f[pe];f[pe]=f[S],f[S]=_e}return f.length=b,f}var r7=UI(function(f){var b=[];return f.charCodeAt(0)===46&&b.push(""),f.replace(Y,function(S,P,q,pe){b.push(q?pe.replace(Kt,"$1"):P||S)}),b});function za(f){if(typeof f=="string"||ws(f))return f;var b=f+"";return b=="0"&&1/f==-L?"-0":b}function P0(f){if(f!=null){try{return ch.call(f)}catch{}try{return f+""}catch{}}return""}function OI(f,b){return Os(Ae,function(S){var P="_."+S[0];b&S[1]&&!rh(f,P)&&f.push(P)}),f.sort()}function s7(f){if(f instanceof In)return f.clone();var b=new Hs(f.__wrapped__,f.__chain__);return b.__actions__=Yr(f.__actions__),b.__index__=f.__index__,b.__values__=f.__values__,b}function QI(f,b,S){(S?Ir(f,b,S):b===t)?b=1:b=Zi(xn(b),0);var P=f==null?0:f.length;if(!P||b<1)return[];for(var q=0,pe=0,_e=Ze(mh(P/b));q<P;)_e[pe++]=Vs(f,q,q+=b);return _e}function HI(f){for(var b=-1,S=f==null?0:f.length,P=0,q=[];++b<S;){var pe=f[b];pe&&(q[P++]=pe)}return q}function zI(){var f=arguments.length;if(!f)return[];for(var b=Ze(f-1),S=arguments[0],P=f;P--;)b[P-1]=arguments[P];return SA(_n(S)?Yr(S):[S],pr(b,1))}var VI=Mn(function(f,b){return Li(f)?Hu(f,pr(b,1,Li,!0)):[]}),KI=Mn(function(f,b){var S=Ks(b);return Li(S)&&(S=t),Li(f)?Hu(f,pr(b,1,Li,!0),An(S,2)):[]}),$I=Mn(function(f,b){var S=Ks(b);return Li(S)&&(S=t),Li(f)?Hu(f,pr(b,1,Li,!0),t,S):[]});function WI(f,b,S){var P=f==null?0:f.length;return P?(b=S||b===t?1:xn(b),Vs(f,b<0?0:b,P)):[]}function qI(f,b,S){var P=f==null?0:f.length;return P?(b=S||b===t?1:xn(b),b=P-b,Vs(f,0,b<0?0:b)):[]}function YI(f,b){return f&&f.length?Bh(f,An(b,3),!0,!0):[]}function XI(f,b){return f&&f.length?Bh(f,An(b,3),!0):[]}function jI(f,b,S,P){var q=f==null?0:f.length;return q?(S&&typeof S!="number"&&Ir(f,b,S)&&(S=0,P=q),zF(f,b,S,P)):[]}function a7(f,b,S){var P=f==null?0:f.length;if(!P)return-1;var q=S==null?0:xn(S);return q<0&&(q=Zi(P+q,0)),sh(f,An(b,3),q)}function o7(f,b,S){var P=f==null?0:f.length;if(!P)return-1;var q=P-1;return S!==t&&(q=xn(S),q=S<0?Zi(P+q,0):Er(q,P-1)),sh(f,An(b,3),q,!0)}function A7(f){var b=f==null?0:f.length;return b?pr(f,1):[]}function ZI(f){var b=f==null?0:f.length;return b?pr(f,L):[]}function JI(f,b){var S=f==null?0:f.length;return S?(b=b===t?1:xn(b),pr(f,b)):[]}function eU(f){for(var b=-1,S=f==null?0:f.length,P={};++b<S;){var q=f[b];P[q[0]]=q[1]}return P}function c7(f){return f&&f.length?f[0]:t}function tU(f,b,S){var P=f==null?0:f.length;if(!P)return-1;var q=S==null?0:xn(S);return q<0&&(q=Zi(P+q,0)),Ic(f,b,q)}function nU(f){var b=f==null?0:f.length;return b?Vs(f,0,-1):[]}var iU=Mn(function(f){var b=wi(f,ky);return b.length&&b[0]===f[0]?Ny(b):[]}),rU=Mn(function(f){var b=Ks(f),S=wi(f,ky);return b===Ks(S)?b=t:S.pop(),S.length&&S[0]===f[0]?Ny(S,An(b,2)):[]}),sU=Mn(function(f){var b=Ks(f),S=wi(f,ky);return b=typeof b=="function"?b:t,b&&S.pop(),S.length&&S[0]===f[0]?Ny(S,t,b):[]});function aU(f,b){return f==null?"":nF.call(f,b)}function Ks(f){var b=f==null?0:f.length;return b?f[b-1]:t}function oU(f,b,S){var P=f==null?0:f.length;if(!P)return-1;var q=P;return S!==t&&(q=xn(S),q=q<0?Zi(P+q,0):Er(q,P-1)),b===b?OG(f,b,q):sh(f,z4,q,!0)}function AU(f,b){return f&&f.length?bv(f,xn(b)):t}var cU=Mn(l7);function l7(f,b){return f&&f.length&&b&&b.length?Fy(f,b):f}function lU(f,b,S){return f&&f.length&&b&&b.length?Fy(f,b,An(S,2)):f}function uU(f,b,S){return f&&f.length&&b&&b.length?Fy(f,b,t,S):f}var dU=No(function(f,b){var S=f==null?0:f.length,P=Ry(f,b);return vv(f,wi(b,function(q){return Mo(q,S)?+q:q}).sort(Fv)),P});function fU(f,b){var S=[];if(!(f&&f.length))return S;var P=-1,q=[],pe=f.length;for(b=An(b,3);++P<pe;){var _e=f[P];b(_e,P,f)&&(S.push(_e),q.push(P))}return vv(f,q),S}function Jy(f){return f==null?f:aF.call(f)}function hU(f,b,S){var P=f==null?0:f.length;return P?(S&&typeof S!="number"&&Ir(f,b,S)?(b=0,S=P):(b=b==null?0:xn(b),S=S===t?P:xn(S)),Vs(f,b,S)):[]}function pU(f,b){return Rh(f,b)}function mU(f,b,S){return Py(f,b,An(S,2))}function gU(f,b){var S=f==null?0:f.length;if(S){var P=Rh(f,b);if(P<S&&ga(f[P],b))return P}return-1}function yU(f,b){return Rh(f,b,!0)}function wU(f,b,S){return Py(f,b,An(S,2),!0)}function bU(f,b){var S=f==null?0:f.length;if(S){var P=Rh(f,b,!0)-1;if(ga(f[P],b))return P}return-1}function EU(f){return f&&f.length?Rv(f):[]}function _U(f,b){return f&&f.length?Rv(f,An(b,2)):[]}function vU(f){var b=f==null?0:f.length;return b?Vs(f,1,b):[]}function xU(f,b,S){return f&&f.length?(b=S||b===t?1:xn(b),Vs(f,0,b<0?0:b)):[]}function RU(f,b,S){var P=f==null?0:f.length;return P?(b=S||b===t?1:xn(b),b=P-b,Vs(f,b<0?0:b,P)):[]}function BU(f,b){return f&&f.length?Bh(f,An(b,3),!1,!0):[]}function CU(f,b){return f&&f.length?Bh(f,An(b,3)):[]}var SU=Mn(function(f){return GA(pr(f,1,Li,!0))}),NU=Mn(function(f){var b=Ks(f);return Li(b)&&(b=t),GA(pr(f,1,Li,!0),An(b,2))}),MU=Mn(function(f){var b=Ks(f);return b=typeof b=="function"?b:t,GA(pr(f,1,Li,!0),t,b)});function TU(f){return f&&f.length?GA(f):[]}function GU(f,b){return f&&f.length?GA(f,An(b,2)):[]}function FU(f,b){return b=typeof b=="function"?b:t,f&&f.length?GA(f,t,b):[]}function e3(f){if(!(f&&f.length))return[];var b=0;return f=CA(f,function(S){if(Li(S))return b=Zi(S.length,b),!0}),gy(b,function(S){return wi(f,hy(S))})}function u7(f,b){if(!(f&&f.length))return[];var S=e3(f);return b==null?S:wi(S,function(P){return ms(b,t,P)})}var IU=Mn(function(f,b){return Li(f)?Hu(f,b):[]}),UU=Mn(function(f){return Dy(CA(f,Li))}),PU=Mn(function(f){var b=Ks(f);return Li(b)&&(b=t),Dy(CA(f,Li),An(b,2))}),LU=Mn(function(f){var b=Ks(f);return b=typeof b=="function"?b:t,Dy(CA(f,Li),t,b)}),DU=Mn(e3);function kU(f,b){return Nv(f||[],b||[],Qu)}function OU(f,b){return Nv(f||[],b||[],Ku)}var QU=Mn(function(f){var b=f.length,S=b>1?f[b-1]:t;return S=typeof S=="function"?(f.pop(),S):t,u7(f,S)});function d7(f){var b=ie(f);return b.__chain__=!0,b}function HU(f,b){return b(f),f}function Uh(f,b){return b(f)}var zU=No(function(f){var b=f.length,S=b?f[0]:0,P=this.__wrapped__,q=function(pe){return Ry(pe,f)};return b>1||this.__actions__.length||!(P instanceof In)||!Mo(S)?this.thru(q):(P=P.slice(S,+S+(b?1:0)),P.__actions__.push({func:Uh,args:[q],thisArg:t}),new Hs(P,this.__chain__).thru(function(pe){return b&&!pe.length&&pe.push(t),pe}))});function VU(){return d7(this)}function KU(){return new Hs(this.value(),this.__chain__)}function $U(){this.__values__===t&&(this.__values__=B7(this.value()));var f=this.__index__>=this.__values__.length,b=f?t:this.__values__[this.__index__++];return{done:f,value:b}}function WU(){return this}function qU(f){for(var b,S=this;S instanceof bh;){var P=s7(S);P.__index__=0,P.__values__=t,b?q.__wrapped__=P:b=P;var q=P;S=S.__wrapped__}return q.__wrapped__=f,b}function YU(){var f=this.__wrapped__;if(f instanceof In){var b=f;return this.__actions__.length&&(b=new In(this)),b=b.reverse(),b.__actions__.push({func:Uh,args:[Jy],thisArg:t}),new Hs(b,this.__chain__)}return this.thru(Jy)}function XU(){return Sv(this.__wrapped__,this.__actions__)}var jU=Ch(function(f,b,S){Jn.call(f,S)?++f[S]:Co(f,S,1)});function ZU(f,b,S){var P=_n(f)?Q4:HF;return S&&Ir(f,b,S)&&(b=t),P(f,An(b,3))}function JU(f,b){var S=_n(f)?CA:uv;return S(f,An(b,3))}var eP=kv(a7),tP=kv(o7);function nP(f,b){return pr(Ph(f,b),1)}function iP(f,b){return pr(Ph(f,b),L)}function rP(f,b,S){return S=S===t?1:xn(S),pr(Ph(f,b),S)}function f7(f,b){var S=_n(f)?Os:TA;return S(f,An(b,3))}function h7(f,b){var S=_n(f)?vG:lv;return S(f,An(b,3))}var sP=Ch(function(f,b,S){Jn.call(f,S)?f[S].push(b):Co(f,S,[b])});function aP(f,b,S,P){f=Xr(f)?f:$c(f),S=S&&!P?xn(S):0;var q=f.length;return S<0&&(S=Zi(q+S,0)),Qh(f)?S<=q&&f.indexOf(b,S)>-1:!!q&&Ic(f,b,S)>-1}var oP=Mn(function(f,b,S){var P=-1,q=typeof b=="function",pe=Xr(f)?Ze(f.length):[];return TA(f,function(_e){pe[++P]=q?ms(b,_e,S):zu(_e,b,S)}),pe}),AP=Ch(function(f,b,S){Co(f,S,b)});function Ph(f,b){var S=_n(f)?wi:gv;return S(f,An(b,3))}function cP(f,b,S,P){return f==null?[]:(_n(b)||(b=b==null?[]:[b]),S=P?t:S,_n(S)||(S=S==null?[]:[S]),Ev(f,b,S))}var lP=Ch(function(f,b,S){f[S?0:1].push(b)},function(){return[[],[]]});function uP(f,b,S){var P=_n(f)?dy:K4,q=arguments.length<3;return P(f,An(b,4),S,q,TA)}function dP(f,b,S){var P=_n(f)?xG:K4,q=arguments.length<3;return P(f,An(b,4),S,q,lv)}function fP(f,b){var S=_n(f)?CA:uv;return S(f,kh(An(b,3)))}function hP(f){var b=_n(f)?av:aI;return b(f)}function pP(f,b,S){(S?Ir(f,b,S):b===t)?b=1:b=xn(b);var P=_n(f)?LF:oI;return P(f,b)}function mP(f){var b=_n(f)?DF:cI;return b(f)}function gP(f){if(f==null)return 0;if(Xr(f))return Qh(f)?Pc(f):f.length;var b=_r(f);return b==Fe||b==et?f.size:Ty(f).length}function yP(f,b,S){var P=_n(f)?fy:lI;return S&&Ir(f,b,S)&&(b=t),P(f,An(b,3))}var wP=Mn(function(f,b){if(f==null)return[];var S=b.length;return S>1&&Ir(f,b[0],b[1])?b=[]:S>2&&Ir(b[0],b[1],b[2])&&(b=[b[0]]),Ev(f,pr(b,1),[])}),Lh=JG||function(){return hr.Date.now()};function bP(f,b){if(typeof b!="function")throw new Qs(a);return f=xn(f),function(){if(--f<1)return b.apply(this,arguments)}}function p7(f,b,S){return b=S?t:b,b=f&&b==null?f.length:b,So(f,x,t,t,t,t,b)}function m7(f,b){var S;if(typeof b!="function")throw new Qs(a);return f=xn(f),function(){return--f>0&&(S=b.apply(this,arguments)),f<=1&&(b=t),S}}var t3=Mn(function(f,b,S){var P=g;if(S.length){var q=NA(S,Vc(t3));P|=v}return So(f,P,b,S,q)}),g7=Mn(function(f,b,S){var P=g|E;if(S.length){var q=NA(S,Vc(g7));P|=v}return So(b,P,f,S,q)});function y7(f,b,S){b=S?t:b;var P=So(f,p,t,t,t,t,t,b);return P.placeholder=y7.placeholder,P}function w7(f,b,S){b=S?t:b;var P=So(f,w,t,t,t,t,t,b);return P.placeholder=w7.placeholder,P}function b7(f,b,S){var P,q,pe,_e,Me,Qe,ft=0,ht=!1,wt=!1,Pt=!0;if(typeof f!="function")throw new Qs(a);b=$s(b)||0,Ci(S)&&(ht=!!S.leading,wt="maxWait"in S,pe=wt?Zi($s(S.maxWait)||0,b):pe,Pt="trailing"in S?!!S.trailing:Pt);function qt(Di){var ya=P,Fo=q;return P=q=t,ft=Di,_e=f.apply(Fo,ya),_e}function un(Di){return ft=Di,Me=qu(Gn,b),ht?qt(Di):_e}function Sn(Di){var ya=Di-Qe,Fo=Di-ft,k7=b-ya;return wt?Er(k7,pe-Fo):k7}function dn(Di){var ya=Di-Qe,Fo=Di-ft;return Qe===t||ya>=b||ya<0||wt&&Fo>=pe}function Gn(){var Di=Lh();if(dn(Di))return Pn(Di);Me=qu(Gn,Sn(Di))}function Pn(Di){return Me=t,Pt&&P?qt(Di):(P=q=t,_e)}function bs(){Me!==t&&Mv(Me),ft=0,P=Qe=q=Me=t}function Ur(){return Me===t?_e:Pn(Lh())}function Es(){var Di=Lh(),ya=dn(Di);if(P=arguments,q=this,Qe=Di,ya){if(Me===t)return un(Qe);if(wt)return Mv(Me),Me=qu(Gn,b),qt(Qe)}return Me===t&&(Me=qu(Gn,b)),_e}return Es.cancel=bs,Es.flush=Ur,Es}var EP=Mn(function(f,b){return cv(f,1,b)}),_P=Mn(function(f,b,S){return cv(f,$s(b)||0,S)});function vP(f){return So(f,B)}function Dh(f,b){if(typeof f!="function"||b!=null&&typeof b!="function")throw new Qs(a);var S=function(){var P=arguments,q=b?b.apply(this,P):P[0],pe=S.cache;if(pe.has(q))return pe.get(q);var _e=f.apply(this,P);return S.cache=pe.set(q,_e)||pe,_e};return S.cache=new(Dh.Cache||Bo),S}Dh.Cache=Bo;function kh(f){if(typeof f!="function")throw new Qs(a);return function(){var b=arguments;switch(b.length){case 0:return!f.call(this);case 1:return!f.call(this,b[0]);case 2:return!f.call(this,b[0],b[1]);case 3:return!f.call(this,b[0],b[1],b[2])}return!f.apply(this,b)}}function xP(f){return m7(2,f)}var RP=uI(function(f,b){b=b.length==1&&_n(b[0])?wi(b[0],gs(An())):wi(pr(b,1),gs(An()));var S=b.length;return Mn(function(P){for(var q=-1,pe=Er(P.length,S);++q<pe;)P[q]=b[q].call(this,P[q]);return ms(f,this,P)})}),n3=Mn(function(f,b){var S=NA(b,Vc(n3));return So(f,v,t,b,S)}),E7=Mn(function(f,b){var S=NA(b,Vc(E7));return So(f,_,t,b,S)}),BP=No(function(f,b){return So(f,C,t,t,t,b)});function CP(f,b){if(typeof f!="function")throw new Qs(a);return b=b===t?b:xn(b),Mn(f,b)}function SP(f,b){if(typeof f!="function")throw new Qs(a);return b=b==null?0:Zi(xn(b),0),Mn(function(S){var P=S[b],q=IA(S,0,b);return P&&SA(q,P),ms(f,this,q)})}function NP(f,b,S){var P=!0,q=!0;if(typeof f!="function")throw new Qs(a);return Ci(S)&&(P="leading"in S?!!S.leading:P,q="trailing"in S?!!S.trailing:q),b7(f,b,{leading:P,maxWait:b,trailing:q})}function MP(f){return p7(f,1)}function TP(f,b){return n3(Oy(b),f)}function GP(){if(!arguments.length)return[];var f=arguments[0];return _n(f)?f:[f]}function FP(f){return zs(f,h)}function IP(f,b){return b=typeof b=="function"?b:t,zs(f,h,b)}function UP(f){return zs(f,u|h)}function PP(f,b){return b=typeof b=="function"?b:t,zs(f,u|h,b)}function LP(f,b){return b==null||Av(f,b,ar(b))}function ga(f,b){return f===b||f!==f&&b!==b}var DP=Th(Sy),kP=Th(function(f,b){return f>=b}),L0=hv(function(){return arguments}())?hv:function(f){return Fi(f)&&Jn.call(f,"callee")&&!ev.call(f,"callee")},_n=Ze.isArray,OP=U4?gs(U4):qF;function Xr(f){return f!=null&&Oh(f.length)&&!To(f)}function Li(f){return Fi(f)&&Xr(f)}function QP(f){return f===!0||f===!1||Fi(f)&&Fr(f)==J}var UA=tF||f3,HP=P4?gs(P4):YF;function zP(f){return Fi(f)&&f.nodeType===1&&!Yu(f)}function VP(f){if(f==null)return!0;if(Xr(f)&&(_n(f)||typeof f=="string"||typeof f.splice=="function"||UA(f)||Kc(f)||L0(f)))return!f.length;var b=_r(f);if(b==Fe||b==et)return!f.size;if(Wu(f))return!Ty(f).length;for(var S in f)if(Jn.call(f,S))return!1;return!0}function KP(f,b){return Vu(f,b)}function $P(f,b,S){S=typeof S=="function"?S:t;var P=S?S(f,b):t;return P===t?Vu(f,b,t,S):!!P}function i3(f){if(!Fi(f))return!1;var b=Fr(f);return b==ge||b==ue||typeof f.message=="string"&&typeof f.name=="string"&&!Yu(f)}function WP(f){return typeof f=="number"&&nv(f)}function To(f){if(!Ci(f))return!1;var b=Fr(f);return b==fe||b==we||b==le||b==Ie}function _7(f){return typeof f=="number"&&f==xn(f)}function Oh(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=k}function Ci(f){var b=typeof f;return f!=null&&(b=="object"||b=="function")}function Fi(f){return f!=null&&typeof f=="object"}var v7=L4?gs(L4):jF;function qP(f,b){return f===b||My(f,b,Wy(b))}function YP(f,b,S){return S=typeof S=="function"?S:t,My(f,b,Wy(b),S)}function XP(f){return x7(f)&&f!=+f}function jP(f){if(II(f))throw new En(s);return pv(f)}function ZP(f){return f===null}function JP(f){return f==null}function x7(f){return typeof f=="number"||Fi(f)&&Fr(f)==je}function Yu(f){if(!Fi(f)||Fr(f)!=Le)return!1;var b=fh(f);if(b===null)return!0;var S=Jn.call(b,"constructor")&&b.constructor;return typeof S=="function"&&S instanceof S&&ch.call(S)==YG}var r3=D4?gs(D4):ZF;function eL(f){return _7(f)&&f>=-k&&f<=k}var R7=k4?gs(k4):JF;function Qh(f){return typeof f=="string"||!_n(f)&&Fi(f)&&Fr(f)==st}function ws(f){return typeof f=="symbol"||Fi(f)&&Fr(f)==re}var Kc=O4?gs(O4):eI;function tL(f){return f===t}function nL(f){return Fi(f)&&_r(f)==Be}function iL(f){return Fi(f)&&Fr(f)==We}var rL=Th(Gy),sL=Th(function(f,b){return f<=b});function B7(f){if(!f)return[];if(Xr(f))return Qh(f)?pa(f):Yr(f);if(Pu&&f[Pu])return LG(f[Pu]());var b=_r(f),S=b==Fe?wy:b==et?ah:$c;return S(f)}function Go(f){if(!f)return f===0?f:0;if(f=$s(f),f===L||f===-L){var b=f<0?-1:1;return b*K}return f===f?f:0}function xn(f){var b=Go(f),S=b%1;return b===b?S?b-S:b:0}function C7(f){return f?F0(xn(f),0,D):0}function $s(f){if(typeof f=="number")return f;if(ws(f))return V;if(Ci(f)){var b=typeof f.valueOf=="function"?f.valueOf():f;f=Ci(b)?b+"":b}if(typeof f!="string")return f===0?f:+f;f=$4(f);var S=Ce.test(f);return S||Pe.test(f)?bG(f.slice(2),S?2:8):te.test(f)?V:+f}function S7(f){return Ha(f,jr(f))}function aL(f){return f?F0(xn(f),-k,k):f===0?f:0}function Yn(f){return f==null?"":ys(f)}var oL=Hc(function(f,b){if(Wu(b)||Xr(b)){Ha(b,ar(b),f);return}for(var S in b)Jn.call(b,S)&&Qu(f,S,b[S])}),N7=Hc(function(f,b){Ha(b,jr(b),f)}),Hh=Hc(function(f,b,S,P){Ha(b,jr(b),f,P)}),AL=Hc(function(f,b,S,P){Ha(b,ar(b),f,P)}),cL=No(Ry);function lL(f,b){var S=Qc(f);return b==null?S:ov(S,b)}var uL=Mn(function(f,b){f=ai(f);var S=-1,P=b.length,q=P>2?b[2]:t;for(q&&Ir(b[0],b[1],q)&&(P=1);++S<P;)for(var pe=b[S],_e=jr(pe),Me=-1,Qe=_e.length;++Me<Qe;){var ft=_e[Me],ht=f[ft];(ht===t||ga(ht,Dc[ft])&&!Jn.call(f,ft))&&(f[ft]=pe[ft])}return f}),dL=Mn(function(f){return f.push(t,$v),ms(M7,t,f)});function fL(f,b){return H4(f,An(b,3),Qa)}function hL(f,b){return H4(f,An(b,3),Cy)}function pL(f,b){return f==null?f:By(f,An(b,3),jr)}function mL(f,b){return f==null?f:dv(f,An(b,3),jr)}function gL(f,b){return f&&Qa(f,An(b,3))}function yL(f,b){return f&&Cy(f,An(b,3))}function wL(f){return f==null?[]:vh(f,ar(f))}function bL(f){return f==null?[]:vh(f,jr(f))}function s3(f,b,S){var P=f==null?t:I0(f,b);return P===t?S:P}function EL(f,b){return f!=null&&Yv(f,b,VF)}function a3(f,b){return f!=null&&Yv(f,b,KF)}var _L=Qv(function(f,b,S){b!=null&&typeof b.toString!="function"&&(b=lh.call(b)),f[b]=S},A3(Zr)),vL=Qv(function(f,b,S){b!=null&&typeof b.toString!="function"&&(b=lh.call(b)),Jn.call(f,b)?f[b].push(S):f[b]=[S]},An),xL=Mn(zu);function ar(f){return Xr(f)?sv(f):Ty(f)}function jr(f){return Xr(f)?sv(f,!0):tI(f)}function RL(f,b){var S={};return b=An(b,3),Qa(f,function(P,q,pe){Co(S,b(P,q,pe),P)}),S}function BL(f,b){var S={};return b=An(b,3),Qa(f,function(P,q,pe){Co(S,q,b(P,q,pe))}),S}var CL=Hc(function(f,b,S){xh(f,b,S)}),M7=Hc(function(f,b,S,P){xh(f,b,S,P)}),SL=No(function(f,b){var S={};if(f==null)return S;var P=!1;b=wi(b,function(pe){return pe=FA(pe,f),P||(P=pe.length>1),pe}),Ha(f,Ky(f),S),P&&(S=zs(S,u|d|h,_I));for(var q=b.length;q--;)Ly(S,b[q]);return S});function NL(f,b){return T7(f,kh(An(b)))}var ML=No(function(f,b){return f==null?{}:iI(f,b)});function T7(f,b){if(f==null)return{};var S=wi(Ky(f),function(P){return[P]});return b=An(b),_v(f,S,function(P,q){return b(P,q[0])})}function TL(f,b,S){b=FA(b,f);var P=-1,q=b.length;for(q||(q=1,f=t);++P<q;){var pe=f==null?t:f[za(b[P])];pe===t&&(P=q,pe=S),f=To(pe)?pe.call(f):pe}return f}function GL(f,b,S){return f==null?f:Ku(f,b,S)}function FL(f,b,S,P){return P=typeof P=="function"?P:t,f==null?f:Ku(f,b,S,P)}var G7=Vv(ar),F7=Vv(jr);function IL(f,b,S){var P=_n(f),q=P||UA(f)||Kc(f);if(b=An(b,4),S==null){var pe=f&&f.constructor;q?S=P?new pe:[]:Ci(f)?S=To(pe)?Qc(fh(f)):{}:S={}}return(q?Os:Qa)(f,function(_e,Me,Qe){return b(S,_e,Me,Qe)}),S}function UL(f,b){return f==null?!0:Ly(f,b)}function PL(f,b,S){return f==null?f:Cv(f,b,Oy(S))}function LL(f,b,S,P){return P=typeof P=="function"?P:t,f==null?f:Cv(f,b,Oy(S),P)}function $c(f){return f==null?[]:yy(f,ar(f))}function DL(f){return f==null?[]:yy(f,jr(f))}function kL(f,b,S){return S===t&&(S=b,b=t),S!==t&&(S=$s(S),S=S===S?S:0),b!==t&&(b=$s(b),b=b===b?b:0),F0($s(f),b,S)}function OL(f,b,S){return b=Go(b),S===t?(S=b,b=0):S=Go(S),f=$s(f),$F(f,b,S)}function QL(f,b,S){if(S&&typeof S!="boolean"&&Ir(f,b,S)&&(b=S=t),S===t&&(typeof b=="boolean"?(S=b,b=t):typeof f=="boolean"&&(S=f,f=t)),f===t&&b===t?(f=0,b=1):(f=Go(f),b===t?(b=f,f=0):b=Go(b)),f>b){var P=f;f=b,b=P}if(S||f%1||b%1){var q=iv();return Er(f+q*(b-f+wG("1e-"+((q+"").length-1))),b)}return Iy(f,b)}var HL=zc(function(f,b,S){return b=b.toLowerCase(),f+(S?I7(b):b)});function I7(f){return o3(Yn(f).toLowerCase())}function U7(f){return f=Yn(f),f&&f.replace(bt,GG).replace(cG,"")}function zL(f,b,S){f=Yn(f),b=ys(b);var P=f.length;S=S===t?P:F0(xn(S),0,P);var q=S;return S-=b.length,S>=0&&f.slice(S,q)==b}function VL(f){return f=Yn(f),f&&Ge.test(f)?f.replace(Ke,FG):f}function KL(f){return f=Yn(f),f&&ce.test(f)?f.replace(Z,"\\$&"):f}var $L=zc(function(f,b,S){return f+(S?"-":"")+b.toLowerCase()}),WL=zc(function(f,b,S){return f+(S?" ":"")+b.toLowerCase()}),qL=Dv("toLowerCase");function YL(f,b,S){f=Yn(f),b=xn(b);var P=b?Pc(f):0;if(!b||P>=b)return f;var q=(b-P)/2;return Mh(gh(q),S)+f+Mh(mh(q),S)}function XL(f,b,S){f=Yn(f),b=xn(b);var P=b?Pc(f):0;return b&&P<b?f+Mh(b-P,S):f}function jL(f,b,S){f=Yn(f),b=xn(b);var P=b?Pc(f):0;return b&&P<b?Mh(b-P,S)+f:f}function ZL(f,b,S){return S||b==null?b=0:b&&(b=+b),sF(Yn(f).replace(de,""),b||0)}function JL(f,b,S){return(S?Ir(f,b,S):b===t)?b=1:b=xn(b),Uy(Yn(f),b)}function eD(){var f=arguments,b=Yn(f[0]);return f.length<3?b:b.replace(f[1],f[2])}var tD=zc(function(f,b,S){return f+(S?"_":"")+b.toLowerCase()});function nD(f,b,S){return S&&typeof S!="number"&&Ir(f,b,S)&&(b=S=t),S=S===t?D:S>>>0,S?(f=Yn(f),f&&(typeof b=="string"||b!=null&&!r3(b))&&(b=ys(b),!b&&Uc(f))?IA(pa(f),0,S):f.split(b,S)):[]}var iD=zc(function(f,b,S){return f+(S?" ":"")+o3(b)});function rD(f,b,S){return f=Yn(f),S=S==null?0:F0(xn(S),0,f.length),b=ys(b),f.slice(S,S+b.length)==b}function sD(f,b,S){var P=ie.templateSettings;S&&Ir(f,b,S)&&(b=t),f=Yn(f),b=Hh({},b,P,Kv);var q=Hh({},b.imports,P.imports,Kv),pe=ar(q),_e=yy(q,pe),Me,Qe,ft=0,ht=b.interpolate||Lt,wt="__p += '",Pt=by((b.escape||Lt).source+"|"+ht.source+"|"+(ht===on?Nt:Lt).source+"|"+(b.evaluate||Lt).source+"|$","g"),qt="//# sourceURL="+(Jn.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hG+"]")+`
`;f.replace(Pt,function(dn,Gn,Pn,bs,Ur,Es){return Pn||(Pn=bs),wt+=f.slice(ft,Es).replace(Wt,IG),Gn&&(Me=!0,wt+=`' +
__e(`+Gn+`) +
'`),Ur&&(Qe=!0,wt+=`';
`+Ur+`;
__p += '`),Pn&&(wt+=`' +
((__t = (`+Pn+`)) == null ? '' : __t) +
'`),ft=Es+dn.length,dn}),wt+=`';
`;var un=Jn.call(b,"variable")&&b.variable;if(!un)wt=`with (obj) {
`+wt+`
}
`;else if(St.test(un))throw new En(o);wt=(Qe?wt.replace(rt,""):wt).replace(at,"$1").replace(Bt,"$1;"),wt="function("+(un||"obj")+`) {
`+(un?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Me?", __e = _.escape":"")+(Qe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+wt+`return __p
}`;var Sn=L7(function(){return Hn(pe,qt+"return "+wt).apply(t,_e)});if(Sn.source=wt,i3(Sn))throw Sn;return Sn}function aD(f){return Yn(f).toLowerCase()}function oD(f){return Yn(f).toUpperCase()}function AD(f,b,S){if(f=Yn(f),f&&(S||b===t))return $4(f);if(!f||!(b=ys(b)))return f;var P=pa(f),q=pa(b),pe=W4(P,q),_e=q4(P,q)+1;return IA(P,pe,_e).join("")}function cD(f,b,S){if(f=Yn(f),f&&(S||b===t))return f.slice(0,X4(f)+1);if(!f||!(b=ys(b)))return f;var P=pa(f),q=q4(P,pa(b))+1;return IA(P,0,q).join("")}function lD(f,b,S){if(f=Yn(f),f&&(S||b===t))return f.replace(de,"");if(!f||!(b=ys(b)))return f;var P=pa(f),q=W4(P,pa(b));return IA(P,q).join("")}function uD(f,b){var S=G,P=I;if(Ci(b)){var q="separator"in b?b.separator:q;S="length"in b?xn(b.length):S,P="omission"in b?ys(b.omission):P}f=Yn(f);var pe=f.length;if(Uc(f)){var _e=pa(f);pe=_e.length}if(S>=pe)return f;var Me=S-Pc(P);if(Me<1)return P;var Qe=_e?IA(_e,0,Me).join(""):f.slice(0,Me);if(q===t)return Qe+P;if(_e&&(Me+=Qe.length-Me),r3(q)){if(f.slice(Me).search(q)){var ft,ht=Qe;for(q.global||(q=by(q.source,Yn(gt.exec(q))+"g")),q.lastIndex=0;ft=q.exec(ht);)var wt=ft.index;Qe=Qe.slice(0,wt===t?Me:wt)}}else if(f.indexOf(ys(q),Me)!=Me){var Pt=Qe.lastIndexOf(q);Pt>-1&&(Qe=Qe.slice(0,Pt))}return Qe+P}function dD(f){return f=Yn(f),f&&Ne.test(f)?f.replace(he,QG):f}var fD=zc(function(f,b,S){return f+(S?" ":"")+b.toUpperCase()}),o3=Dv("toUpperCase");function P7(f,b,S){return f=Yn(f),b=S?t:b,b===t?PG(f)?VG(f):CG(f):f.match(b)||[]}var L7=Mn(function(f,b){try{return ms(f,t,b)}catch(S){return i3(S)?S:new En(S)}}),hD=No(function(f,b){return Os(b,function(S){S=za(S),Co(f,S,t3(f[S],f))}),f});function pD(f){var b=f==null?0:f.length,S=An();return f=b?wi(f,function(P){if(typeof P[1]!="function")throw new Qs(a);return[S(P[0]),P[1]]}):[],Mn(function(P){for(var q=-1;++q<b;){var pe=f[q];if(ms(pe[0],this,P))return ms(pe[1],this,P)}})}function mD(f){return QF(zs(f,u))}function A3(f){return function(){return f}}function gD(f,b){return f==null||f!==f?b:f}var yD=Ov(),wD=Ov(!0);function Zr(f){return f}function c3(f){return mv(typeof f=="function"?f:zs(f,u))}function bD(f){return yv(zs(f,u))}function ED(f,b){return wv(f,zs(b,u))}var _D=Mn(function(f,b){return function(S){return zu(S,f,b)}}),vD=Mn(function(f,b){return function(S){return zu(f,S,b)}});function l3(f,b,S){var P=ar(b),q=vh(b,P);S==null&&!(Ci(b)&&(q.length||!P.length))&&(S=b,b=f,f=this,q=vh(b,ar(b)));var pe=!(Ci(S)&&"chain"in S)||!!S.chain,_e=To(f);return Os(q,function(Me){var Qe=b[Me];f[Me]=Qe,_e&&(f.prototype[Me]=function(){var ft=this.__chain__;if(pe||ft){var ht=f(this.__wrapped__),wt=ht.__actions__=Yr(this.__actions__);return wt.push({func:Qe,args:arguments,thisArg:f}),ht.__chain__=ft,ht}return Qe.apply(f,SA([this.value()],arguments))})}),f}function xD(){return hr._===this&&(hr._=XG),this}function u3(){}function RD(f){return f=xn(f),Mn(function(b){return bv(b,f)})}var BD=Hy(wi),CD=Hy(Q4),SD=Hy(fy);function D7(f){return Yy(f)?hy(za(f)):rI(f)}function ND(f){return function(b){return f==null?t:I0(f,b)}}var MD=Hv(),TD=Hv(!0);function d3(){return[]}function f3(){return!1}function GD(){return{}}function FD(){return""}function ID(){return!0}function UD(f,b){if(f=xn(f),f<1||f>k)return[];var S=D,P=Er(f,D);b=An(b),f-=D;for(var q=gy(P,b);++S<f;)b(S);return q}function PD(f){return _n(f)?wi(f,za):ws(f)?[f]:Yr(r7(Yn(f)))}function LD(f){var b=++qG;return Yn(f)+b}var DD=Nh(function(f,b){return f+b},0),kD=zy("ceil"),OD=Nh(function(f,b){return f/b},1),QD=zy("floor");function HD(f){return f&&f.length?_h(f,Zr,Sy):t}function zD(f,b){return f&&f.length?_h(f,An(b,2),Sy):t}function VD(f){return V4(f,Zr)}function KD(f,b){return V4(f,An(b,2))}function $D(f){return f&&f.length?_h(f,Zr,Gy):t}function WD(f,b){return f&&f.length?_h(f,An(b,2),Gy):t}var qD=Nh(function(f,b){return f*b},1),YD=zy("round"),XD=Nh(function(f,b){return f-b},0);function jD(f){return f&&f.length?my(f,Zr):0}function ZD(f,b){return f&&f.length?my(f,An(b,2)):0}return ie.after=bP,ie.ary=p7,ie.assign=oL,ie.assignIn=N7,ie.assignInWith=Hh,ie.assignWith=AL,ie.at=cL,ie.before=m7,ie.bind=t3,ie.bindAll=hD,ie.bindKey=g7,ie.castArray=GP,ie.chain=d7,ie.chunk=QI,ie.compact=HI,ie.concat=zI,ie.cond=pD,ie.conforms=mD,ie.constant=A3,ie.countBy=jU,ie.create=lL,ie.curry=y7,ie.curryRight=w7,ie.debounce=b7,ie.defaults=uL,ie.defaultsDeep=dL,ie.defer=EP,ie.delay=_P,ie.difference=VI,ie.differenceBy=KI,ie.differenceWith=$I,ie.drop=WI,ie.dropRight=qI,ie.dropRightWhile=YI,ie.dropWhile=XI,ie.fill=jI,ie.filter=JU,ie.flatMap=nP,ie.flatMapDeep=iP,ie.flatMapDepth=rP,ie.flatten=A7,ie.flattenDeep=ZI,ie.flattenDepth=JI,ie.flip=vP,ie.flow=yD,ie.flowRight=wD,ie.fromPairs=eU,ie.functions=wL,ie.functionsIn=bL,ie.groupBy=sP,ie.initial=nU,ie.intersection=iU,ie.intersectionBy=rU,ie.intersectionWith=sU,ie.invert=_L,ie.invertBy=vL,ie.invokeMap=oP,ie.iteratee=c3,ie.keyBy=AP,ie.keys=ar,ie.keysIn=jr,ie.map=Ph,ie.mapKeys=RL,ie.mapValues=BL,ie.matches=bD,ie.matchesProperty=ED,ie.memoize=Dh,ie.merge=CL,ie.mergeWith=M7,ie.method=_D,ie.methodOf=vD,ie.mixin=l3,ie.negate=kh,ie.nthArg=RD,ie.omit=SL,ie.omitBy=NL,ie.once=xP,ie.orderBy=cP,ie.over=BD,ie.overArgs=RP,ie.overEvery=CD,ie.overSome=SD,ie.partial=n3,ie.partialRight=E7,ie.partition=lP,ie.pick=ML,ie.pickBy=T7,ie.property=D7,ie.propertyOf=ND,ie.pull=cU,ie.pullAll=l7,ie.pullAllBy=lU,ie.pullAllWith=uU,ie.pullAt=dU,ie.range=MD,ie.rangeRight=TD,ie.rearg=BP,ie.reject=fP,ie.remove=fU,ie.rest=CP,ie.reverse=Jy,ie.sampleSize=pP,ie.set=GL,ie.setWith=FL,ie.shuffle=mP,ie.slice=hU,ie.sortBy=wP,ie.sortedUniq=EU,ie.sortedUniqBy=_U,ie.split=nD,ie.spread=SP,ie.tail=vU,ie.take=xU,ie.takeRight=RU,ie.takeRightWhile=BU,ie.takeWhile=CU,ie.tap=HU,ie.throttle=NP,ie.thru=Uh,ie.toArray=B7,ie.toPairs=G7,ie.toPairsIn=F7,ie.toPath=PD,ie.toPlainObject=S7,ie.transform=IL,ie.unary=MP,ie.union=SU,ie.unionBy=NU,ie.unionWith=MU,ie.uniq=TU,ie.uniqBy=GU,ie.uniqWith=FU,ie.unset=UL,ie.unzip=e3,ie.unzipWith=u7,ie.update=PL,ie.updateWith=LL,ie.values=$c,ie.valuesIn=DL,ie.without=IU,ie.words=P7,ie.wrap=TP,ie.xor=UU,ie.xorBy=PU,ie.xorWith=LU,ie.zip=DU,ie.zipObject=kU,ie.zipObjectDeep=OU,ie.zipWith=QU,ie.entries=G7,ie.entriesIn=F7,ie.extend=N7,ie.extendWith=Hh,l3(ie,ie),ie.add=DD,ie.attempt=L7,ie.camelCase=HL,ie.capitalize=I7,ie.ceil=kD,ie.clamp=kL,ie.clone=FP,ie.cloneDeep=UP,ie.cloneDeepWith=PP,ie.cloneWith=IP,ie.conformsTo=LP,ie.deburr=U7,ie.defaultTo=gD,ie.divide=OD,ie.endsWith=zL,ie.eq=ga,ie.escape=VL,ie.escapeRegExp=KL,ie.every=ZU,ie.find=eP,ie.findIndex=a7,ie.findKey=fL,ie.findLast=tP,ie.findLastIndex=o7,ie.findLastKey=hL,ie.floor=QD,ie.forEach=f7,ie.forEachRight=h7,ie.forIn=pL,ie.forInRight=mL,ie.forOwn=gL,ie.forOwnRight=yL,ie.get=s3,ie.gt=DP,ie.gte=kP,ie.has=EL,ie.hasIn=a3,ie.head=c7,ie.identity=Zr,ie.includes=aP,ie.indexOf=tU,ie.inRange=OL,ie.invoke=xL,ie.isArguments=L0,ie.isArray=_n,ie.isArrayBuffer=OP,ie.isArrayLike=Xr,ie.isArrayLikeObject=Li,ie.isBoolean=QP,ie.isBuffer=UA,ie.isDate=HP,ie.isElement=zP,ie.isEmpty=VP,ie.isEqual=KP,ie.isEqualWith=$P,ie.isError=i3,ie.isFinite=WP,ie.isFunction=To,ie.isInteger=_7,ie.isLength=Oh,ie.isMap=v7,ie.isMatch=qP,ie.isMatchWith=YP,ie.isNaN=XP,ie.isNative=jP,ie.isNil=JP,ie.isNull=ZP,ie.isNumber=x7,ie.isObject=Ci,ie.isObjectLike=Fi,ie.isPlainObject=Yu,ie.isRegExp=r3,ie.isSafeInteger=eL,ie.isSet=R7,ie.isString=Qh,ie.isSymbol=ws,ie.isTypedArray=Kc,ie.isUndefined=tL,ie.isWeakMap=nL,ie.isWeakSet=iL,ie.join=aU,ie.kebabCase=$L,ie.last=Ks,ie.lastIndexOf=oU,ie.lowerCase=WL,ie.lowerFirst=qL,ie.lt=rL,ie.lte=sL,ie.max=HD,ie.maxBy=zD,ie.mean=VD,ie.meanBy=KD,ie.min=$D,ie.minBy=WD,ie.stubArray=d3,ie.stubFalse=f3,ie.stubObject=GD,ie.stubString=FD,ie.stubTrue=ID,ie.multiply=qD,ie.nth=AU,ie.noConflict=xD,ie.noop=u3,ie.now=Lh,ie.pad=YL,ie.padEnd=XL,ie.padStart=jL,ie.parseInt=ZL,ie.random=QL,ie.reduce=uP,ie.reduceRight=dP,ie.repeat=JL,ie.replace=eD,ie.result=TL,ie.round=YD,ie.runInContext=ke,ie.sample=hP,ie.size=gP,ie.snakeCase=tD,ie.some=yP,ie.sortedIndex=pU,ie.sortedIndexBy=mU,ie.sortedIndexOf=gU,ie.sortedLastIndex=yU,ie.sortedLastIndexBy=wU,ie.sortedLastIndexOf=bU,ie.startCase=iD,ie.startsWith=rD,ie.subtract=XD,ie.sum=jD,ie.sumBy=ZD,ie.template=sD,ie.times=UD,ie.toFinite=Go,ie.toInteger=xn,ie.toLength=C7,ie.toLower=aD,ie.toNumber=$s,ie.toSafeInteger=aL,ie.toString=Yn,ie.toUpper=oD,ie.trim=AD,ie.trimEnd=cD,ie.trimStart=lD,ie.truncate=uD,ie.unescape=dD,ie.uniqueId=LD,ie.upperCase=fD,ie.upperFirst=o3,ie.each=f7,ie.eachRight=h7,ie.first=c7,l3(ie,function(){var f={};return Qa(ie,function(b,S){Jn.call(ie.prototype,S)||(f[S]=b)}),f}(),{chain:!1}),ie.VERSION=n,Os(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){ie[f].placeholder=ie}),Os(["drop","take"],function(f,b){In.prototype[f]=function(S){S=S===t?1:Zi(xn(S),0);var P=this.__filtered__&&!b?new In(this):this.clone();return P.__filtered__?P.__takeCount__=Er(S,P.__takeCount__):P.__views__.push({size:Er(S,D),type:f+(P.__dir__<0?"Right":"")}),P},In.prototype[f+"Right"]=function(S){return this.reverse()[f](S).reverse()}}),Os(["filter","map","takeWhile"],function(f,b){var S=b+1,P=S==M||S==z;In.prototype[f]=function(q){var pe=this.clone();return pe.__iteratees__.push({iteratee:An(q,3),type:S}),pe.__filtered__=pe.__filtered__||P,pe}}),Os(["head","last"],function(f,b){var S="take"+(b?"Right":"");In.prototype[f]=function(){return this[S](1).value()[0]}}),Os(["initial","tail"],function(f,b){var S="drop"+(b?"":"Right");In.prototype[f]=function(){return this.__filtered__?new In(this):this[S](1)}}),In.prototype.compact=function(){return this.filter(Zr)},In.prototype.find=function(f){return this.filter(f).head()},In.prototype.findLast=function(f){return this.reverse().find(f)},In.prototype.invokeMap=Mn(function(f,b){return typeof f=="function"?new In(this):this.map(function(S){return zu(S,f,b)})}),In.prototype.reject=function(f){return this.filter(kh(An(f)))},In.prototype.slice=function(f,b){f=xn(f);var S=this;return S.__filtered__&&(f>0||b<0)?new In(S):(f<0?S=S.takeRight(-f):f&&(S=S.drop(f)),b!==t&&(b=xn(b),S=b<0?S.dropRight(-b):S.take(b-f)),S)},In.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},In.prototype.toArray=function(){return this.take(D)},Qa(In.prototype,function(f,b){var S=/^(?:filter|find|map|reject)|While$/.test(b),P=/^(?:head|last)$/.test(b),q=ie[P?"take"+(b=="last"?"Right":""):b],pe=P||/^find/.test(b);!q||(ie.prototype[b]=function(){var _e=this.__wrapped__,Me=P?[1]:arguments,Qe=_e instanceof In,ft=Me[0],ht=Qe||_n(_e),wt=function(Gn){var Pn=q.apply(ie,SA([Gn],Me));return P&&Pt?Pn[0]:Pn};ht&&S&&typeof ft=="function"&&ft.length!=1&&(Qe=ht=!1);var Pt=this.__chain__,qt=!!this.__actions__.length,un=pe&&!Pt,Sn=Qe&&!qt;if(!pe&&ht){_e=Sn?_e:new In(this);var dn=f.apply(_e,Me);return dn.__actions__.push({func:Uh,args:[wt],thisArg:t}),new Hs(dn,Pt)}return un&&Sn?f.apply(this,Me):(dn=this.thru(wt),un?P?dn.value()[0]:dn.value():dn)})}),Os(["pop","push","shift","sort","splice","unshift"],function(f){var b=oh[f],S=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",P=/^(?:pop|shift)$/.test(f);ie.prototype[f]=function(){var q=arguments;if(P&&!this.__chain__){var pe=this.value();return b.apply(_n(pe)?pe:[],q)}return this[S](function(_e){return b.apply(_n(_e)?_e:[],q)})}}),Qa(In.prototype,function(f,b){var S=ie[b];if(S){var P=S.name+"";Jn.call(Oc,P)||(Oc[P]=[]),Oc[P].push({name:b,func:S})}}),Oc[Sh(t,E).name]=[{name:"wrapper",func:t}],In.prototype.clone=dF,In.prototype.reverse=fF,In.prototype.value=hF,ie.prototype.at=zU,ie.prototype.chain=VU,ie.prototype.commit=KU,ie.prototype.next=$U,ie.prototype.plant=qU,ie.prototype.reverse=YU,ie.prototype.toJSON=ie.prototype.valueOf=ie.prototype.value=XU,ie.prototype.first=ie.prototype.head,Pu&&(ie.prototype[Pu]=WU),ie},Lc=KG();N0?((N0.exports=Lc)._=Lc,cy._=Lc):hr._=Lc}).call(tc)})(qd,qd.exports);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fb=function(i,e){return Fb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},Fb(i,e)};function ka(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fb(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ib=function(){return Ib=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ib.apply(this,arguments)};function kr(i,e,t,n){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(l){try{c(n.next(l))}catch(u){a(u)}}function A(l){try{c(n.throw(l))}catch(u){a(u)}}function c(l){l.done?s(l.value):r(l.value).then(o,A)}c((n=n.apply(i,e||[])).next())})}function Cr(i,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,r,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(l){return A([c,l])}}function A(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(i,t)}catch(l){c=[6,l],r=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function sp(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return i.concat(s||e)}var hA=function(){function i(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return i.prototype.add=function(e,t,n,r){return new i(this.left+e,this.top+t,this.width+n,this.height+r)},i.fromClientRect=function(e,t){return new i(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},i.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(r){return r.width!==0});return n?new i(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):i.EMPTY},i.EMPTY=new i(0,0,0,0),i}(),Sg=function(i,e){return hA.fromClientRect(i,e.getBoundingClientRect())},CW=function(i){var e=i.body,t=i.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),r=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new hA(0,0,n,r)},Ng=function(i){for(var e=[],t=0,n=i.length;t<n;){var r=i.charCodeAt(t++);if(r>=55296&&r<=56319&&t<n){var s=i.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},Hi=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,i);var t=i.length;if(!t)return"";for(var n=[],r=-1,s="";++r<t;){var a=i[r];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(r+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},b5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SW=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ap=0;ap<b5.length;ap++)SW[b5.charCodeAt(ap)]=ap;var E5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var op=0;op<E5.length;op++)xd[E5.charCodeAt(op)]=op;var NW=function(i){var e=i.length*.75,t=i.length,n,r=0,s,a,o,A;i[i.length-1]==="="&&(e--,i[i.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<t;n+=4)s=xd[i.charCodeAt(n)],a=xd[i.charCodeAt(n+1)],o=xd[i.charCodeAt(n+2)],A=xd[i.charCodeAt(n+3)],l[r++]=s<<2|a>>4,l[r++]=(a&15)<<4|o>>2,l[r++]=(o&3)<<6|A&63;return c},MW=function(i){for(var e=i.length,t=[],n=0;n<e;n+=2)t.push(i[n+1]<<8|i[n]);return t},TW=function(i){for(var e=i.length,t=[],n=0;n<e;n+=4)t.push(i[n+3]<<24|i[n+2]<<16|i[n+1]<<8|i[n]);return t},uc=5,O_=6+5,H3=2,GW=O_-uc,DS=65536>>uc,FW=1<<uc,z3=FW-1,IW=1024>>uc,UW=DS+IW,PW=UW,LW=32,DW=PW+LW,kW=65536>>O_,OW=1<<GW,QW=OW-1,_5=function(i,e,t){return i.slice?i.slice(e,t):new Uint16Array(Array.prototype.slice.call(i,e,t))},HW=function(i,e,t){return i.slice?i.slice(e,t):new Uint32Array(Array.prototype.slice.call(i,e,t))},zW=function(i,e){var t=NW(i),n=Array.isArray(t)?TW(t):new Uint32Array(t),r=Array.isArray(t)?MW(t):new Uint16Array(t),s=24,a=_5(r,s/2,n[4]/2),o=n[5]===2?_5(r,(s+n[4])/2):HW(n,Math.ceil((s+n[4])/4));return new VW(n[0],n[1],n[2],n[3],a,o)},VW=function(){function i(e,t,n,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=a}return i.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>uc],t=(t<<H3)+(e&z3),this.data[t];if(e<=65535)return t=this.index[DS+(e-55296>>uc)],t=(t<<H3)+(e&z3),this.data[t];if(e<this.highStart)return t=DW-kW+(e>>O_),t=this.index[t],t+=e>>uc&QW,t=this.index[t],t=(t<<H3)+(e&z3),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},i}(),v5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",KW=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ap=0;Ap<v5.length;Ap++)KW[v5.charCodeAt(Ap)]=Ap;var $W="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",x5=50,WW=1,kS=2,OS=3,qW=4,YW=5,R5=7,QS=8,B5=9,JA=10,Ub=11,C5=12,Pb=13,XW=14,Rd=15,Lb=16,cp=17,Ju=18,jW=19,S5=20,Db=21,ed=22,V3=23,Xc=24,Bs=25,Bd=26,Cd=27,jc=28,ZW=29,nc=30,JW=31,lp=32,up=33,kb=34,Ob=35,Qb=36,bf=37,Hb=38,k1=39,O1=40,K3=41,HS=42,eq=43,tq=[9001,65288],zS="!",Un="\xD7",dp="\xF7",zb=zW($W),Lo=[nc,Qb],Vb=[WW,kS,OS,YW],VS=[JA,QS],N5=[Cd,Bd],nq=Vb.concat(VS),M5=[Hb,k1,O1,kb,Ob],iq=[Rd,Pb],rq=function(i,e){e===void 0&&(e="strict");var t=[],n=[],r=[];return i.forEach(function(s,a){var o=zb.get(s);if(o>x5?(r.push(!0),o-=x5):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),t.push(Lb);if(o===qW||o===Ub){if(a===0)return n.push(a),t.push(nc);var A=t[a-1];return nq.indexOf(A)===-1?(n.push(n[a-1]),t.push(A)):(n.push(a),t.push(nc))}if(n.push(a),o===JW)return t.push(e==="strict"?Db:bf);if(o===HS||o===ZW)return t.push(nc);if(o===eq)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(bf):t.push(nc);t.push(o)}),[n,t,r]},$3=function(i,e,t,n){var r=n[t];if(Array.isArray(i)?i.indexOf(r)!==-1:i===r)for(var s=t;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==JA)break}if(r===JA)for(var s=t;s>0;){s--;var o=n[s];if(Array.isArray(i)?i.indexOf(o)!==-1:i===o)for(var A=t;A<=n.length;){A++;var a=n[A];if(a===e)return!0;if(a!==JA)break}if(o!==JA)break}return!1},T5=function(i,e){for(var t=i;t>=0;){var n=e[t];if(n===JA)t--;else return n}return 0},sq=function(i,e,t,n,r){if(t[n]===0)return Un;var s=n-1;if(Array.isArray(r)&&r[s]===!0)return Un;var a=s-1,o=s+1,A=e[s],c=a>=0?e[a]:0,l=e[o];if(A===kS&&l===OS)return Un;if(Vb.indexOf(A)!==-1)return zS;if(Vb.indexOf(l)!==-1||VS.indexOf(l)!==-1)return Un;if(T5(s,e)===QS)return dp;if(zb.get(i[s])===Ub||(A===lp||A===up)&&zb.get(i[o])===Ub||A===R5||l===R5||A===B5||[JA,Pb,Rd].indexOf(A)===-1&&l===B5||[cp,Ju,jW,Xc,jc].indexOf(l)!==-1||T5(s,e)===ed||$3(V3,ed,s,e)||$3([cp,Ju],Db,s,e)||$3(C5,C5,s,e))return Un;if(A===JA)return dp;if(A===V3||l===V3)return Un;if(l===Lb||A===Lb)return dp;if([Pb,Rd,Db].indexOf(l)!==-1||A===XW||c===Qb&&iq.indexOf(A)!==-1||A===jc&&l===Qb||l===S5||Lo.indexOf(l)!==-1&&A===Bs||Lo.indexOf(A)!==-1&&l===Bs||A===Cd&&[bf,lp,up].indexOf(l)!==-1||[bf,lp,up].indexOf(A)!==-1&&l===Bd||Lo.indexOf(A)!==-1&&N5.indexOf(l)!==-1||N5.indexOf(A)!==-1&&Lo.indexOf(l)!==-1||[Cd,Bd].indexOf(A)!==-1&&(l===Bs||[ed,Rd].indexOf(l)!==-1&&e[o+1]===Bs)||[ed,Rd].indexOf(A)!==-1&&l===Bs||A===Bs&&[Bs,jc,Xc].indexOf(l)!==-1)return Un;if([Bs,jc,Xc,cp,Ju].indexOf(l)!==-1)for(var u=s;u>=0;){var d=e[u];if(d===Bs)return Un;if([jc,Xc].indexOf(d)!==-1)u--;else break}if([Cd,Bd].indexOf(l)!==-1)for(var u=[cp,Ju].indexOf(A)!==-1?a:s;u>=0;){var d=e[u];if(d===Bs)return Un;if([jc,Xc].indexOf(d)!==-1)u--;else break}if(Hb===A&&[Hb,k1,kb,Ob].indexOf(l)!==-1||[k1,kb].indexOf(A)!==-1&&[k1,O1].indexOf(l)!==-1||[O1,Ob].indexOf(A)!==-1&&l===O1||M5.indexOf(A)!==-1&&[S5,Bd].indexOf(l)!==-1||M5.indexOf(l)!==-1&&A===Cd||Lo.indexOf(A)!==-1&&Lo.indexOf(l)!==-1||A===Xc&&Lo.indexOf(l)!==-1||Lo.concat(Bs).indexOf(A)!==-1&&l===ed&&tq.indexOf(i[o])===-1||Lo.concat(Bs).indexOf(l)!==-1&&A===Ju)return Un;if(A===K3&&l===K3){for(var h=t[s],m=1;h>0&&(h--,e[h]===K3);)m++;if(m%2!==0)return Un}return A===lp&&l===up?Un:dp},aq=function(i,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=rq(i,e.lineBreak),n=t[0],r=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(o){return[Bs,nc,HS].indexOf(o)!==-1?bf:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,A){return o&&i[A]>=19968&&i[A]<=40959}):void 0;return[n,r,a]},oq=function(){function i(e,t,n,r){this.codePoints=e,this.required=t===zS,this.start=n,this.end=r}return i.prototype.slice=function(){return Hi.apply(void 0,this.codePoints.slice(this.start,this.end))},i}(),Aq=function(i,e){var t=Ng(i),n=aq(t,e),r=n[0],s=n[1],a=n[2],o=t.length,A=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var l=Un;c<o&&(l=sq(t,s,r,++c,a))===Un;);if(l!==Un||c===o){var u=new oq(t,l,A,c);return A=c,{value:u,done:!1}}return{done:!0,value:null}}}},cq=1<<0,lq=1<<1,zf=1<<2,G5=1<<3,Bm=10,F5=47,Yd=92,uq=9,dq=32,fp=34,td=61,fq=35,hq=36,pq=37,hp=39,pp=40,nd=41,mq=95,is=45,gq=33,yq=60,wq=62,bq=64,Eq=91,_q=93,vq=61,xq=123,mp=63,Rq=125,I5=124,Bq=126,Cq=128,U5=65533,W3=42,oc=43,Sq=44,Nq=58,Mq=59,Ef=46,Tq=0,Gq=8,Fq=11,Iq=14,Uq=31,Pq=127,Va=-1,KS=48,$S=97,WS=101,Lq=102,Dq=117,kq=122,qS=65,YS=69,XS=70,Oq=85,Qq=90,Mr=function(i){return i>=KS&&i<=57},Hq=function(i){return i>=55296&&i<=57343},Zc=function(i){return Mr(i)||i>=qS&&i<=XS||i>=$S&&i<=Lq},zq=function(i){return i>=$S&&i<=kq},Vq=function(i){return i>=qS&&i<=Qq},Kq=function(i){return zq(i)||Vq(i)},$q=function(i){return i>=Cq},gp=function(i){return i===Bm||i===uq||i===dq},Cm=function(i){return Kq(i)||$q(i)||i===mq},P5=function(i){return Cm(i)||Mr(i)||i===is},Wq=function(i){return i>=Tq&&i<=Gq||i===Fq||i>=Iq&&i<=Uq||i===Pq},YA=function(i,e){return i!==Yd?!1:e!==Bm},yp=function(i,e,t){return i===is?Cm(e)||YA(e,t):Cm(i)?!0:!!(i===Yd&&YA(i,e))},q3=function(i,e,t){return i===oc||i===is?Mr(e)?!0:e===Ef&&Mr(t):Mr(i===Ef?e:i)},qq=function(i){var e=0,t=1;(i[e]===oc||i[e]===is)&&(i[e]===is&&(t=-1),e++);for(var n=[];Mr(i[e]);)n.push(i[e++]);var r=n.length?parseInt(Hi.apply(void 0,n),10):0;i[e]===Ef&&e++;for(var s=[];Mr(i[e]);)s.push(i[e++]);var a=s.length,o=a?parseInt(Hi.apply(void 0,s),10):0;(i[e]===YS||i[e]===WS)&&e++;var A=1;(i[e]===oc||i[e]===is)&&(i[e]===is&&(A=-1),e++);for(var c=[];Mr(i[e]);)c.push(i[e++]);var l=c.length?parseInt(Hi.apply(void 0,c),10):0;return t*(r+o*Math.pow(10,-a))*Math.pow(10,A*l)},Yq={type:2},Xq={type:3},jq={type:4},Zq={type:13},Jq={type:8},eY={type:21},tY={type:9},nY={type:10},iY={type:11},rY={type:12},sY={type:14},wp={type:23},aY={type:1},oY={type:25},AY={type:24},cY={type:26},lY={type:27},uY={type:28},dY={type:29},fY={type:31},Kb={type:32},jS=function(){function i(){this._value=[]}return i.prototype.write=function(e){this._value=this._value.concat(Ng(e))},i.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Kb;)e.push(t),t=this.consumeToken();return e},i.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case fp:return this.consumeStringToken(fp);case fq:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(P5(t)||YA(n,r)){var s=yp(t,n,r)?lq:cq,a=this.consumeName();return{type:5,value:a,flags:s}}break;case hq:if(this.peekCodePoint(0)===td)return this.consumeCodePoint(),Zq;break;case hp:return this.consumeStringToken(hp);case pp:return Yq;case nd:return Xq;case W3:if(this.peekCodePoint(0)===td)return this.consumeCodePoint(),sY;break;case oc:if(q3(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Sq:return jq;case is:var o=e,A=this.peekCodePoint(0),c=this.peekCodePoint(1);if(q3(o,A,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(yp(o,A,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===is&&c===wq)return this.consumeCodePoint(),this.consumeCodePoint(),AY;break;case Ef:if(q3(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case F5:if(this.peekCodePoint(0)===W3)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===W3&&(l=this.consumeCodePoint(),l===F5))return this.consumeToken();if(l===Va)return this.consumeToken()}break;case Nq:return cY;case Mq:return lY;case yq:if(this.peekCodePoint(0)===gq&&this.peekCodePoint(1)===is&&this.peekCodePoint(2)===is)return this.consumeCodePoint(),this.consumeCodePoint(),oY;break;case bq:var u=this.peekCodePoint(0),d=this.peekCodePoint(1),h=this.peekCodePoint(2);if(yp(u,d,h)){var a=this.consumeName();return{type:7,value:a}}break;case Eq:return uY;case Yd:if(YA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case _q:return dY;case vq:if(this.peekCodePoint(0)===td)return this.consumeCodePoint(),Jq;break;case xq:return iY;case Rq:return rY;case Dq:case Oq:var m=this.peekCodePoint(0),y=this.peekCodePoint(1);return m===oc&&(Zc(y)||y===mp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case I5:if(this.peekCodePoint(0)===td)return this.consumeCodePoint(),tY;if(this.peekCodePoint(0)===I5)return this.consumeCodePoint(),eY;break;case Bq:if(this.peekCodePoint(0)===td)return this.consumeCodePoint(),nY;break;case Va:return Kb}return gp(e)?(this.consumeWhiteSpace(),fY):Mr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Cm(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Hi(e)}},i.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},i.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},i.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},i.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Zc(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===mp&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(Hi.apply(void 0,e.map(function(A){return A===mp?KS:A})),16),s=parseInt(Hi.apply(void 0,e.map(function(A){return A===mp?XS:A})),16);return{type:30,start:r,end:s}}var a=parseInt(Hi.apply(void 0,e),16);if(this.peekCodePoint(0)===is&&Zc(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];Zc(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(Hi.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},i.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===pp?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===pp?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},i.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Va)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===hp||t===fp){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Va||this.peekCodePoint(0)===nd)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),wp)}for(;;){var r=this.consumeCodePoint();if(r===Va||r===nd)return{type:22,value:Hi.apply(void 0,e)};if(gp(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Va||this.peekCodePoint(0)===nd?(this.consumeCodePoint(),{type:22,value:Hi.apply(void 0,e)}):(this.consumeBadUrlRemnants(),wp);if(r===fp||r===hp||r===pp||Wq(r))return this.consumeBadUrlRemnants(),wp;if(r===Yd)if(YA(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),wp;else e.push(r)}},i.prototype.consumeWhiteSpace=function(){for(;gp(this.peekCodePoint(0));)this.consumeCodePoint()},i.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===nd||e===Va)return;YA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},i.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=Hi.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},i.prototype.consumeStringToken=function(e){var t="",n=0;do{var r=this._value[n];if(r===Va||r===void 0||r===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(r===Bm)return this._value.splice(0,n),aY;if(r===Yd){var s=this._value[n+1];s!==Va&&s!==void 0&&(s===Bm?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):YA(r,s)&&(t+=this.consumeStringSlice(n),t+=Hi(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},i.prototype.consumeNumber=function(){var e=[],t=zf,n=this.peekCodePoint(0);for((n===oc||n===is)&&e.push(this.consumeCodePoint());Mr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Ef&&Mr(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=G5;Mr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===YS||n===WS)&&((r===oc||r===is)&&Mr(s)||Mr(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=G5;Mr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[qq(e),t]},i.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(yp(r,s,a)){var o=this.consumeName();return{type:15,number:t,flags:n,unit:o}}return r===pq?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},i.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Zc(e)){for(var t=Hi(e);Zc(this.peekCodePoint(0))&&t.length<6;)t+=Hi(this.consumeCodePoint());gp(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||Hq(n)||n>1114111?U5:n}return e===Va?U5:e},i.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(P5(t))e+=Hi(t);else if(YA(t,this.peekCodePoint(0)))e+=Hi(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},i}(),ZS=function(){function i(e){this._tokens=e}return i.create=function(e){var t=new jS;return t.write(e),new i(t.read())},i.parseValue=function(e){return i.create(e).parseComponentValue()},i.parseValues=function(e){return i.create(e).parseComponentValues()},i.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},i.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},i.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},i.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||pY(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},i.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},i.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Kb:e},i.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},i}(),Vf=function(i){return i.type===15},Eu=function(i){return i.type===17},si=function(i){return i.type===20},hY=function(i){return i.type===0},$b=function(i,e){return si(i)&&i.value===e},JS=function(i){return i.type!==31},Au=function(i){return i.type!==31&&i.type!==4},bo=function(i){var e=[],t=[];return i.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},pY=function(i,e){return e===11&&i.type===12||e===28&&i.type===29?!0:e===2&&i.type===3},p0=function(i){return i.type===17||i.type===15},qi=function(i){return i.type===16||p0(i)},eN=function(i){return i.length>1?[i[0],i[1]]:[i[0]]},wr={type:17,number:0,flags:zf},Q_={type:16,number:50,flags:zf},e0={type:16,number:100,flags:zf},Sd=function(i,e,t){var n=i[0],r=i[1];return[li(n,e),li(typeof r<"u"?r:n,t)]},li=function(i,e){if(i.type===16)return i.number/100*e;if(Vf(i))switch(i.unit){case"rem":case"em":return 16*i.number;case"px":default:return i.number}return i.number},tN="deg",nN="grad",iN="rad",rN="turn",Mg={name:"angle",parse:function(i,e){if(e.type===15)switch(e.unit){case tN:return Math.PI*e.number/180;case nN:return Math.PI/200*e.number;case iN:return e.number;case rN:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},sN=function(i){return i.type===15&&(i.unit===tN||i.unit===nN||i.unit===iN||i.unit===rN)},aN=function(i){var e=i.filter(si).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[wr,wr];case"to top":case"bottom":return sa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[wr,e0];case"to right":case"left":return sa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[e0,e0];case"to bottom":case"top":return sa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[e0,wr];case"to left":case"right":return sa(270)}return 0},sa=function(i){return Math.PI*i/180},r0={name:"color",parse:function(i,e){if(e.type===18){var t=mY[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(i,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3);return t0(parseInt(n+n,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return t0(parseInt(n+n,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6);return t0(parseInt(n,16),parseInt(r,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return t0(parseInt(n,16),parseInt(r,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=aA[e.value.toUpperCase()];if(typeof o<"u")return o}return aA.TRANSPARENT}},s0=function(i){return(255&i)===0},cr=function(i){var e=255&i,t=255&i>>8,n=255&i>>16,r=255&i>>24;return e<255?"rgba("+r+","+n+","+t+","+e/255+")":"rgb("+r+","+n+","+t+")"},t0=function(i,e,t,n){return(i<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},L5=function(i,e){if(i.type===17)return i.number;if(i.type===16){var t=e===3?1:255;return e===3?i.number/100*t:Math.round(i.number/100*t)}return 0},D5=function(i,e){var t=e.filter(Au);if(t.length===3){var n=t.map(L5),r=n[0],s=n[1],a=n[2];return t0(r,s,a,1)}if(t.length===4){var o=t.map(L5),r=o[0],s=o[1],a=o[2],A=o[3];return t0(r,s,a,A)}return 0};function Y3(i,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-i)*t*6+i:t<1/2?e:t<2/3?(e-i)*6*(2/3-t)+i:i}var k5=function(i,e){var t=e.filter(Au),n=t[0],r=t[1],s=t[2],a=t[3],o=(n.type===17?sa(n.number):Mg.parse(i,n))/(Math.PI*2),A=qi(r)?r.number/100:0,c=qi(s)?s.number/100:0,l=typeof a<"u"&&qi(a)?li(a,1):1;if(A===0)return t0(c*255,c*255,c*255,1);var u=c<=.5?c*(A+1):c+A-c*A,d=c*2-u,h=Y3(d,u,o+1/3),m=Y3(d,u,o),y=Y3(d,u,o-1/3);return t0(h*255,m*255,y*255,l)},mY={hsl:k5,hsla:k5,rgb:D5,rgba:D5},Xd=function(i,e){return r0.parse(i,ZS.create(e).parseComponentValue())},aA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},gY={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(i,e){return e.map(function(t){if(si(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},yY={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Tg=function(i,e){var t=r0.parse(i,e[0]),n=e[1];return n&&qi(n)?{color:t,stop:n}:{color:t,stop:null}},O5=function(i,e){var t=i[0],n=i[i.length-1];t.stop===null&&(t.stop=wr),n.stop===null&&(n.stop=e0);for(var r=[],s=0,a=0;a<i.length;a++){var o=i[a].stop;if(o!==null){var A=li(o,e);A>s?r.push(A):r.push(s),s=A}else r.push(null)}for(var c=null,a=0;a<r.length;a++){var l=r[a];if(l===null)c===null&&(c=a);else if(c!==null){for(var u=a-c,d=r[c-1],h=(l-d)/(u+1),m=1;m<=u;m++)r[c+m-1]=h*m;c=null}}return i.map(function(y,g){var E=y.color;return{color:E,stop:Math.max(Math.min(1,r[g]/e),0)}})},wY=function(i,e,t){var n=e/2,r=t/2,s=li(i[0],e)-n,a=r-li(i[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},bY=function(i,e,t){var n=typeof i=="number"?i:wY(i,e,t),r=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),s=e/2,a=t/2,o=r/2,A=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[r,s-c,s+c,a-A,a+A]},Ra=function(i,e){return Math.sqrt(i*i+e*e)},Q5=function(i,e,t,n,r){var s=[[0,0],[0,e],[i,0],[i,e]];return s.reduce(function(a,o){var A=o[0],c=o[1],l=Ra(t-A,n-c);return(r?l<a.optimumDistance:l>a.optimumDistance)?{optimumCorner:o,optimumDistance:l}:a},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},EY=function(i,e,t,n,r){var s=0,a=0;switch(i.size){case 0:i.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-r)):i.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(t),Math.abs(t-r)));break;case 2:if(i.shape===0)s=a=Math.min(Ra(e,t),Ra(e,t-r),Ra(e-n,t),Ra(e-n,t-r));else if(i.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-r))/Math.min(Math.abs(e),Math.abs(e-n)),A=Q5(n,r,e,t,!0),c=A[0],l=A[1];s=Ra(c-e,(l-t)/o),a=o*s}break;case 1:i.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-r)):i.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(t),Math.abs(t-r)));break;case 3:if(i.shape===0)s=a=Math.max(Ra(e,t),Ra(e,t-r),Ra(e-n,t),Ra(e-n,t-r));else if(i.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-r))/Math.max(Math.abs(e),Math.abs(e-n)),u=Q5(n,r,e,t,!1),c=u[0],l=u[1];s=Ra(c-e,(l-t)/o),a=o*s}break}return Array.isArray(i.size)&&(s=li(i.size[0],n),a=i.size.length===2?li(i.size[1],r):s),[s,a]},_Y=function(i,e){var t=sa(180),n=[];return bo(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&a.value==="to"){t=aN(r);return}else if(sN(a)){t=Mg.parse(i,a);return}}var o=Tg(i,r);n.push(o)}),{angle:t,stops:n,type:1}},bp=function(i,e){var t=sa(180),n=[];return bo(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=aN(r);return}else if(sN(a)){t=(Mg.parse(i,a)+sa(270))%sa(360);return}}var o=Tg(i,r);n.push(o)}),{angle:t,stops:n,type:1}},vY=function(i,e){var t=sa(180),n=[],r=1,s=0,a=3,o=[];return bo(e).forEach(function(A,c){var l=A[0];if(c===0){if(si(l)&&l.value==="linear"){r=1;return}else if(si(l)&&l.value==="radial"){r=2;return}}if(l.type===18){if(l.name==="from"){var u=r0.parse(i,l.values[0]);n.push({stop:wr,color:u})}else if(l.name==="to"){var u=r0.parse(i,l.values[0]);n.push({stop:e0,color:u})}else if(l.name==="color-stop"){var d=l.values.filter(Au);if(d.length===2){var u=r0.parse(i,d[1]),h=d[0];Eu(h)&&n.push({stop:{type:16,number:h.number*100,flags:h.flags},color:u})}}}}),r===1?{angle:(t+sa(180))%sa(360),stops:n,type:r}:{size:a,shape:s,stops:n,position:o,type:r}},oN="closest-side",AN="farthest-side",cN="closest-corner",lN="farthest-corner",uN="circle",dN="ellipse",fN="cover",hN="contain",xY=function(i,e){var t=0,n=3,r=[],s=[];return bo(e).forEach(function(a,o){var A=!0;if(o===0){var c=!1;A=a.reduce(function(u,d){if(c)if(si(d))switch(d.value){case"center":return s.push(Q_),u;case"top":case"left":return s.push(wr),u;case"right":case"bottom":return s.push(e0),u}else(qi(d)||p0(d))&&s.push(d);else if(si(d))switch(d.value){case uN:return t=0,!1;case dN:return t=1,!1;case"at":return c=!0,!1;case oN:return n=0,!1;case fN:case AN:return n=1,!1;case hN:case cN:return n=2,!1;case lN:return n=3,!1}else if(p0(d)||qi(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},A)}if(A){var l=Tg(i,a);r.push(l)}}),{size:n,shape:t,stops:r,position:s,type:2}},Ep=function(i,e){var t=0,n=3,r=[],s=[];return bo(e).forEach(function(a,o){var A=!0;if(o===0?A=a.reduce(function(l,u){if(si(u))switch(u.value){case"center":return s.push(Q_),!1;case"top":case"left":return s.push(wr),!1;case"right":case"bottom":return s.push(e0),!1}else if(qi(u)||p0(u))return s.push(u),!1;return l},A):o===1&&(A=a.reduce(function(l,u){if(si(u))switch(u.value){case uN:return t=0,!1;case dN:return t=1,!1;case hN:case oN:return n=0,!1;case AN:return n=1,!1;case cN:return n=2,!1;case fN:case lN:return n=3,!1}else if(p0(u)||qi(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return l},A)),A){var c=Tg(i,a);r.push(c)}}),{size:n,shape:t,stops:r,position:s,type:2}},RY=function(i){return i.type===1},BY=function(i){return i.type===2},H_={name:"image",parse:function(i,e){if(e.type===22){var t={url:e.value,type:0};return i.cache.addImage(e.value),t}if(e.type===18){var n=pN[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(i,e.values)}throw new Error("Unsupported image type "+e.type)}};function CY(i){return!(i.type===20&&i.value==="none")&&(i.type!==18||!!pN[i.name])}var pN={"linear-gradient":_Y,"-moz-linear-gradient":bp,"-ms-linear-gradient":bp,"-o-linear-gradient":bp,"-webkit-linear-gradient":bp,"radial-gradient":xY,"-moz-radial-gradient":Ep,"-ms-radial-gradient":Ep,"-o-radial-gradient":Ep,"-webkit-radial-gradient":Ep,"-webkit-gradient":vY},SY={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(i,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return Au(n)&&CY(n)}).map(function(n){return H_.parse(i,n)})}},NY={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(i,e){return e.map(function(t){if(si(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},MY={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(i,e){return bo(e).map(function(t){return t.filter(qi)}).map(eN)}},TY={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(i,e){return bo(e).map(function(t){return t.filter(si).map(function(n){return n.value}).join(" ")}).map(GY)}},GY=function(i){switch(i){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Kl;(function(i){i.AUTO="auto",i.CONTAIN="contain",i.COVER="cover"})(Kl||(Kl={}));var FY={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(i,e){return bo(e).map(function(t){return t.filter(IY)})}},IY=function(i){return si(i)||qi(i)},Gg=function(i){return{name:"border-"+i+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},UY=Gg("top"),PY=Gg("right"),LY=Gg("bottom"),DY=Gg("left"),Fg=function(i){return{name:"border-radius-"+i,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return eN(t.filter(qi))}}},kY=Fg("top-left"),OY=Fg("top-right"),QY=Fg("bottom-right"),HY=Fg("bottom-left"),Ig=function(i){return{name:"border-"+i+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},zY=Ig("top"),VY=Ig("right"),KY=Ig("bottom"),$Y=Ig("left"),Ug=function(i){return{name:"border-"+i+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Vf(t)?t.number:0}}},WY=Ug("top"),qY=Ug("right"),YY=Ug("bottom"),XY=Ug("left"),jY={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ZY={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(i,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},JY={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(i,e){return e.filter(si).reduce(function(t,n){return t|eX(n.value)},0)}},eX=function(i){switch(i){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},tX={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},nX={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(i,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Sm;(function(i){i.NORMAL="normal",i.STRICT="strict"})(Sm||(Sm={}));var iX={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){switch(e){case"strict":return Sm.STRICT;case"normal":default:return Sm.NORMAL}}},rX={name:"line-height",initialValue:"normal",prefix:!1,type:4},H5=function(i,e){return si(i)&&i.value==="normal"?1.2*e:i.type===17?e*i.number:qi(i)?li(i,e):e},sX={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(i,e){return e.type===20&&e.value==="none"?null:H_.parse(i,e)}},aX={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(i,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Wb={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Pg=function(i){return{name:"margin-"+i,initialValue:"0",prefix:!1,type:4}},oX=Pg("top"),AX=Pg("right"),cX=Pg("bottom"),lX=Pg("left"),uX={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(i,e){return e.filter(si).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},dX={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Lg=function(i){return{name:"padding-"+i,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},fX=Lg("top"),hX=Lg("right"),pX=Lg("bottom"),mX=Lg("left"),gX={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(i,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},yX={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(i,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},wX={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(i,e){return e.length===1&&$b(e[0],"none")?[]:bo(e).map(function(t){for(var n={color:aA.TRANSPARENT,offsetX:wr,offsetY:wr,blur:wr},r=0,s=0;s<t.length;s++){var a=t[s];p0(a)?(r===0?n.offsetX=a:r===1?n.offsetY=a:n.blur=a,r++):n.color=r0.parse(i,a)}return n})}},bX={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},EX={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(i,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=xX[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},_X=function(i){var e=i.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},vX=function(i){var e=i.filter(function(A){return A.type===17}).map(function(A){return A.number}),t=e[0],n=e[1];e[2],e[3];var r=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,n,r,s,a,o]:null},xX={matrix:_X,matrix3d:vX},z5={type:16,number:50,flags:zf},RX=[z5,z5],BX={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(i,e){var t=e.filter(qi);return t.length!==2?RX:[t[0],t[1]]}},CX={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},jd;(function(i){i.NORMAL="normal",i.BREAK_ALL="break-all",i.KEEP_ALL="keep-all"})(jd||(jd={}));var SX={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){switch(e){case"break-all":return jd.BREAK_ALL;case"keep-all":return jd.KEEP_ALL;case"normal":default:return jd.NORMAL}}},NX={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(i,e){if(e.type===20)return{auto:!0,order:0};if(Eu(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},mN={name:"time",parse:function(i,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},MX={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(i,e){return Eu(e)?e.number:1}},TX={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},GX={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(i,e){return e.filter(si).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},FX={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(i,e){var t=[],n=[];return e.forEach(function(r){switch(r.type){case 20:case 0:t.push(r.value);break;case 17:t.push(r.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},IX={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},UX={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(i,e){if(Eu(e))return e.number;if(si(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},PX={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(i,e){return e.filter(si).map(function(t){return t.value})}},LX={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},er=function(i,e){return(i&e)!==0},DX={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(i,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},kX={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(i,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],r=e.filter(JS),s=0;s<r.length;s++){var a=r[s],o=r[s+1];if(a.type===20){var A=o&&Eu(o)?o.number:1;n.push({counter:a.value,increment:A})}}return n}},OX={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(i,e){if(e.length===0)return[];for(var t=[],n=e.filter(JS),r=0;r<n.length;r++){var s=n[r],a=n[r+1];if(si(s)&&s.value!=="none"){var o=a&&Eu(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},QX={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(i,e){return e.filter(Vf).map(function(t){return mN.parse(i,t)})}},HX={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(i,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],r=e.filter(hY);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var a=r[s].value,o=r[s+1].value;n.push({open:a,close:o})}return n}},V5=function(i,e,t){if(!i)return"";var n=i[Math.min(e,i.length-1)];return n?t?n.open:n.close:""},zX={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(i,e){return e.length===1&&$b(e[0],"none")?[]:bo(e).map(function(t){for(var n={color:255,offsetX:wr,offsetY:wr,blur:wr,spread:wr,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];$b(a,"inset")?n.inset=!0:p0(a)?(r===0?n.offsetX=a:r===1?n.offsetY=a:r===2?n.blur=a:n.spread=a,r++):n.color=r0.parse(i,a)}return n})}},VX={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(i,e){var t=[0,1,2],n=[];return e.filter(si).forEach(function(r){switch(r.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(r){n.indexOf(r)===-1&&n.push(r)}),n}},KX={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},$X={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(i,e){return Vf(e)?e.number:0}},WX=function(){function i(e,t){var n,r;this.animationDuration=Qt(e,QX,t.animationDuration),this.backgroundClip=Qt(e,gY,t.backgroundClip),this.backgroundColor=Qt(e,yY,t.backgroundColor),this.backgroundImage=Qt(e,SY,t.backgroundImage),this.backgroundOrigin=Qt(e,NY,t.backgroundOrigin),this.backgroundPosition=Qt(e,MY,t.backgroundPosition),this.backgroundRepeat=Qt(e,TY,t.backgroundRepeat),this.backgroundSize=Qt(e,FY,t.backgroundSize),this.borderTopColor=Qt(e,UY,t.borderTopColor),this.borderRightColor=Qt(e,PY,t.borderRightColor),this.borderBottomColor=Qt(e,LY,t.borderBottomColor),this.borderLeftColor=Qt(e,DY,t.borderLeftColor),this.borderTopLeftRadius=Qt(e,kY,t.borderTopLeftRadius),this.borderTopRightRadius=Qt(e,OY,t.borderTopRightRadius),this.borderBottomRightRadius=Qt(e,QY,t.borderBottomRightRadius),this.borderBottomLeftRadius=Qt(e,HY,t.borderBottomLeftRadius),this.borderTopStyle=Qt(e,zY,t.borderTopStyle),this.borderRightStyle=Qt(e,VY,t.borderRightStyle),this.borderBottomStyle=Qt(e,KY,t.borderBottomStyle),this.borderLeftStyle=Qt(e,$Y,t.borderLeftStyle),this.borderTopWidth=Qt(e,WY,t.borderTopWidth),this.borderRightWidth=Qt(e,qY,t.borderRightWidth),this.borderBottomWidth=Qt(e,YY,t.borderBottomWidth),this.borderLeftWidth=Qt(e,XY,t.borderLeftWidth),this.boxShadow=Qt(e,zX,t.boxShadow),this.color=Qt(e,jY,t.color),this.direction=Qt(e,ZY,t.direction),this.display=Qt(e,JY,t.display),this.float=Qt(e,tX,t.cssFloat),this.fontFamily=Qt(e,FX,t.fontFamily),this.fontSize=Qt(e,IX,t.fontSize),this.fontStyle=Qt(e,LX,t.fontStyle),this.fontVariant=Qt(e,PX,t.fontVariant),this.fontWeight=Qt(e,UX,t.fontWeight),this.letterSpacing=Qt(e,nX,t.letterSpacing),this.lineBreak=Qt(e,iX,t.lineBreak),this.lineHeight=Qt(e,rX,t.lineHeight),this.listStyleImage=Qt(e,sX,t.listStyleImage),this.listStylePosition=Qt(e,aX,t.listStylePosition),this.listStyleType=Qt(e,Wb,t.listStyleType),this.marginTop=Qt(e,oX,t.marginTop),this.marginRight=Qt(e,AX,t.marginRight),this.marginBottom=Qt(e,cX,t.marginBottom),this.marginLeft=Qt(e,lX,t.marginLeft),this.opacity=Qt(e,MX,t.opacity);var s=Qt(e,uX,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Qt(e,dX,t.overflowWrap),this.paddingTop=Qt(e,fX,t.paddingTop),this.paddingRight=Qt(e,hX,t.paddingRight),this.paddingBottom=Qt(e,pX,t.paddingBottom),this.paddingLeft=Qt(e,mX,t.paddingLeft),this.paintOrder=Qt(e,VX,t.paintOrder),this.position=Qt(e,yX,t.position),this.textAlign=Qt(e,gX,t.textAlign),this.textDecorationColor=Qt(e,TX,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=Qt(e,GX,(r=t.textDecorationLine)!==null&&r!==void 0?r:t.textDecoration),this.textShadow=Qt(e,wX,t.textShadow),this.textTransform=Qt(e,bX,t.textTransform),this.transform=Qt(e,EX,t.transform),this.transformOrigin=Qt(e,BX,t.transformOrigin),this.visibility=Qt(e,CX,t.visibility),this.webkitTextStrokeColor=Qt(e,KX,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Qt(e,$X,t.webkitTextStrokeWidth),this.wordBreak=Qt(e,SX,t.wordBreak),this.zIndex=Qt(e,NX,t.zIndex)}return i.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},i.prototype.isTransparent=function(){return s0(this.backgroundColor)},i.prototype.isTransformed=function(){return this.transform!==null},i.prototype.isPositioned=function(){return this.position!==0},i.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},i.prototype.isFloating=function(){return this.float!==0},i.prototype.isInlineLevel=function(){return er(this.display,4)||er(this.display,33554432)||er(this.display,268435456)||er(this.display,536870912)||er(this.display,67108864)||er(this.display,134217728)},i}(),qX=function(){function i(e,t){this.content=Qt(e,DX,t.content),this.quotes=Qt(e,HX,t.quotes)}return i}(),K5=function(){function i(e,t){this.counterIncrement=Qt(e,kX,t.counterIncrement),this.counterReset=Qt(e,OX,t.counterReset)}return i}(),Qt=function(i,e,t){var n=new jS,r=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(r);var s=new ZS(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(i,si(a)?a.value:e.initialValue);case 0:return e.parse(i,s.parseComponentValue());case 1:return e.parse(i,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Mg.parse(i,s.parseComponentValue());case"color":return r0.parse(i,s.parseComponentValue());case"image":return H_.parse(i,s.parseComponentValue());case"length":var o=s.parseComponentValue();return p0(o)?o:wr;case"length-percentage":var A=s.parseComponentValue();return qi(A)?A:wr;case"time":return mN.parse(i,s.parseComponentValue())}break}},YX="data-html2canvas-debug",XX=function(i){var e=i.getAttribute(YX);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},qb=function(i,e){var t=XX(i);return t===1||e===t},Eo=function(){function i(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,qb(t,3))debugger;this.styles=new WX(e,window.getComputedStyle(t,null)),jb(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Sg(this.context,t),qb(t,4)&&(this.flags|=16)}return i}(),jX="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",$5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _p=0;_p<$5.length;_p++)Nd[$5.charCodeAt(_p)]=_p;var ZX=function(i){var e=i.length*.75,t=i.length,n,r=0,s,a,o,A;i[i.length-1]==="="&&(e--,i[i.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<t;n+=4)s=Nd[i.charCodeAt(n)],a=Nd[i.charCodeAt(n+1)],o=Nd[i.charCodeAt(n+2)],A=Nd[i.charCodeAt(n+3)],l[r++]=s<<2|a>>4,l[r++]=(a&15)<<4|o>>2,l[r++]=(o&3)<<6|A&63;return c},JX=function(i){for(var e=i.length,t=[],n=0;n<e;n+=2)t.push(i[n+1]<<8|i[n]);return t},ej=function(i){for(var e=i.length,t=[],n=0;n<e;n+=4)t.push(i[n+3]<<24|i[n+2]<<16|i[n+1]<<8|i[n]);return t},dc=5,z_=6+5,X3=2,tj=z_-dc,gN=65536>>dc,nj=1<<dc,j3=nj-1,ij=1024>>dc,rj=gN+ij,sj=rj,aj=32,oj=sj+aj,Aj=65536>>z_,cj=1<<tj,lj=cj-1,W5=function(i,e,t){return i.slice?i.slice(e,t):new Uint16Array(Array.prototype.slice.call(i,e,t))},uj=function(i,e,t){return i.slice?i.slice(e,t):new Uint32Array(Array.prototype.slice.call(i,e,t))},dj=function(i,e){var t=ZX(i),n=Array.isArray(t)?ej(t):new Uint32Array(t),r=Array.isArray(t)?JX(t):new Uint16Array(t),s=24,a=W5(r,s/2,n[4]/2),o=n[5]===2?W5(r,(s+n[4])/2):uj(n,Math.ceil((s+n[4])/4));return new fj(n[0],n[1],n[2],n[3],a,o)},fj=function(){function i(e,t,n,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=a}return i.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>dc],t=(t<<X3)+(e&j3),this.data[t];if(e<=65535)return t=this.index[gN+(e-55296>>dc)],t=(t<<X3)+(e&j3),this.data[t];if(e<this.highStart)return t=oj-Aj+(e>>z_),t=this.index[t],t+=e>>dc&lj,t=this.index[t],t=(t<<X3)+(e&j3),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},i}(),q5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hj=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var vp=0;vp<q5.length;vp++)hj[q5.charCodeAt(vp)]=vp;var pj=1,Z3=2,J3=3,Y5=4,X5=5,mj=7,j5=8,e2=9,t2=10,Z5=11,J5=12,e9=13,t9=14,n2=15,gj=function(i){for(var e=[],t=0,n=i.length;t<n;){var r=i.charCodeAt(t++);if(r>=55296&&r<=56319&&t<n){var s=i.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},yj=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,i);var t=i.length;if(!t)return"";for(var n=[],r=-1,s="";++r<t;){var a=i[r];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(r+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},wj=dj(jX),Zs="\xD7",i2="\xF7",bj=function(i){return wj.get(i)},Ej=function(i,e,t){var n=t-2,r=e[n],s=e[t-1],a=e[t];if(s===Z3&&a===J3)return Zs;if(s===Z3||s===J3||s===Y5||a===Z3||a===J3||a===Y5)return i2;if(s===j5&&[j5,e2,Z5,J5].indexOf(a)!==-1||(s===Z5||s===e2)&&(a===e2||a===t2)||(s===J5||s===t2)&&a===t2||a===e9||a===X5||a===mj||s===pj)return Zs;if(s===e9&&a===t9){for(;r===X5;)r=e[--n];if(r===t9)return Zs}if(s===n2&&a===n2){for(var o=0;r===n2;)o++,r=e[--n];if(o%2===0)return Zs}return i2},_j=function(i){var e=gj(i),t=e.length,n=0,r=0,s=e.map(bj);return{next:function(){if(n>=t)return{done:!0,value:null};for(var a=Zs;n<t&&(a=Ej(e,s,++n))===Zs;);if(a!==Zs||n===t){var o=yj.apply(null,e.slice(r,n));return r=n,{value:o,done:!1}}return{done:!0,value:null}}}},vj=function(i){for(var e=_j(i),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},xj=function(i){var e=123;if(i.createRange){var t=i.createRange();if(t.getBoundingClientRect){var n=i.createElement("boundtest");n.style.height=e+"px",n.style.display="block",i.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),s=Math.round(r.height);if(i.body.removeChild(n),s===e)return!0}}return!1},Rj=function(i){var e=i.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",i.body.appendChild(e);var t=i.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,r=Ng(n.data).map(function(A){return Hi(A)}),s=0,a={},o=r.every(function(A,c){t.setStart(n,s),t.setEnd(n,s+A.length);var l=t.getBoundingClientRect();s+=A.length;var u=l.x>a.x||l.y>a.y;return a=l,c===0?!0:u});return i.body.removeChild(e),o},Bj=function(){return typeof new Image().crossOrigin<"u"},Cj=function(){return typeof new XMLHttpRequest().responseType=="string"},Sj=function(i){var e=new Image,t=i.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},n9=function(i){return i[0]===0&&i[1]===255&&i[2]===0&&i[3]===255},Nj=function(i){var e=i.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var r=new Image,s=e.toDataURL();r.src=s;var a=Yb(t,t,0,0,r);return n.fillStyle="red",n.fillRect(0,0,t,t),i9(a).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var c=i.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=t+"px",n9(A)?i9(Yb(t,t,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),n9(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},Yb=function(i,e,t,n,r){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",i.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(r),a},i9=function(i){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(i))})},gr={get SUPPORT_RANGE_BOUNDS(){var i=xj(document);return Object.defineProperty(gr,"SUPPORT_RANGE_BOUNDS",{value:i}),i},get SUPPORT_WORD_BREAKING(){var i=gr.SUPPORT_RANGE_BOUNDS&&Rj(document);return Object.defineProperty(gr,"SUPPORT_WORD_BREAKING",{value:i}),i},get SUPPORT_SVG_DRAWING(){var i=Sj(document);return Object.defineProperty(gr,"SUPPORT_SVG_DRAWING",{value:i}),i},get SUPPORT_FOREIGNOBJECT_DRAWING(){var i=typeof Array.from=="function"&&typeof window.fetch=="function"?Nj(document):Promise.resolve(!1);return Object.defineProperty(gr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:i}),i},get SUPPORT_CORS_IMAGES(){var i=Bj();return Object.defineProperty(gr,"SUPPORT_CORS_IMAGES",{value:i}),i},get SUPPORT_RESPONSE_TYPE(){var i=Cj();return Object.defineProperty(gr,"SUPPORT_RESPONSE_TYPE",{value:i}),i},get SUPPORT_CORS_XHR(){var i="withCredentials"in new XMLHttpRequest;return Object.defineProperty(gr,"SUPPORT_CORS_XHR",{value:i}),i},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var i=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(gr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:i}),i}},Zd=function(){function i(e,t){this.text=e,this.bounds=t}return i}(),Mj=function(i,e,t,n){var r=Fj(e,t),s=[],a=0;return r.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(gr.SUPPORT_RANGE_BOUNDS){var A=r9(n,a,o.length).getClientRects();if(A.length>1){var c=V_(o),l=0;c.forEach(function(d){s.push(new Zd(d,hA.fromDOMRectList(i,r9(n,l+a,d.length).getClientRects()))),l+=d.length})}else s.push(new Zd(o,hA.fromDOMRectList(i,A)))}else{var u=n.splitText(o.length);s.push(new Zd(o,Tj(i,n))),n=u}else gr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},Tj=function(i,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(n,e);var s=Sg(i,n);return n.firstChild&&r.replaceChild(n.firstChild,n),s}}return hA.EMPTY},r9=function(i,e,t){var n=i.ownerDocument;if(!n)throw new Error("Node has no owner document");var r=n.createRange();return r.setStart(i,e),r.setEnd(i,e+t),r},V_=function(i){if(gr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(i)).map(function(t){return t.segment})}return vj(i)},Gj=function(i,e){if(gr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(i)).map(function(n){return n.segment})}return Uj(i,e)},Fj=function(i,e){return e.letterSpacing!==0?V_(i):Gj(i,e)},Ij=[32,160,4961,65792,65793,4153,4241],Uj=function(i,e){for(var t=Aq(i,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],r,s=function(){if(r.value){var a=r.value.slice(),o=Ng(a),A="";o.forEach(function(c){Ij.indexOf(c)===-1?A+=Hi(c):(A.length&&n.push(A),n.push(Hi(c)),A="")}),A.length&&n.push(A)}};!(r=t.next()).done;)s();return n},Pj=function(){function i(e,t,n){this.text=Lj(t.data,n.textTransform),this.textBounds=Mj(e,this.text,n,t)}return i}(),Lj=function(i,e){switch(e){case 1:return i.toLowerCase();case 3:return i.replace(Dj,kj);case 2:return i.toUpperCase();default:return i}},Dj=/(^|\s|:|-|\(|\))([a-z])/g,kj=function(i,e,t){return i.length>0?e+t.toUpperCase():i},yN=function(i){ka(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return e}(Eo),wN=function(i){ka(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return e}(Eo),bN=function(i){ka(e,i);function e(t,n){var r=i.call(this,t,n)||this,s=new XMLSerializer,a=Sg(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e}(Eo),EN=function(i){ka(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.value=n.value,r}return e}(Eo),Xb=function(i){ka(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.start=n.start,r.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,r}return e}(Eo),Oj=[{type:15,flags:0,unit:"px",number:3}],Qj=[{type:16,flags:0,number:50}],Hj=function(i){return i.width>i.height?new hA(i.left+(i.width-i.height)/2,i.top,i.height,i.height):i.width<i.height?new hA(i.left,i.top+(i.height-i.width)/2,i.width,i.width):i},zj=function(i){var e=i.type===Vj?new Array(i.value.length+1).join("\u2022"):i.value;return e.length===0?i.placeholder||"":e},Nm="checkbox",Mm="radio",Vj="password",s9=707406591,K_=function(i){ka(e,i);function e(t,n){var r=i.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=zj(n),(r.type===Nm||r.type===Mm)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Hj(r.bounds)),r.type){case Nm:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Oj;break;case Mm:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Qj;break}return r}return e}(Eo),_N=function(i){ka(e,i);function e(t,n){var r=i.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return r.value=s&&s.text||"",r}return e}(Eo),vN=function(i){ka(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.value=n.value,r}return e}(Eo),xN=function(i){ka(e,i);function e(t,n){var r=i.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=BN(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Xd(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):aA.TRANSPARENT,a=n.contentWindow.document.body?Xd(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):aA.TRANSPARENT;r.backgroundColor=s0(s)?s0(a)?r.styles.backgroundColor:a:s}}catch{}return r}return e}(Eo),Kj=["OL","UL","MENU"],Q1=function(i,e,t,n){for(var r=e.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,CN(r)&&r.data.trim().length>0)t.textNodes.push(new Pj(i,r,t.styles));else if(Ul(r))if(TN(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return Q1(i,o,t,n)});else{var a=RN(i,r);a.styles.isVisible()&&($j(r,a,n)?a.flags|=4:Wj(a.styles)&&(a.flags|=2),Kj.indexOf(r.tagName)!==-1&&(a.flags|=8),t.elements.push(a),r.slot,r.shadowRoot?Q1(i,r.shadowRoot,a,n):!Tm(r)&&!SN(r)&&!Gm(r)&&Q1(i,r,a,n))}},RN=function(i,e){return Zb(e)?new yN(i,e):NN(e)?new wN(i,e):SN(e)?new bN(i,e):qj(e)?new EN(i,e):Yj(e)?new Xb(i,e):Xj(e)?new K_(i,e):Gm(e)?new _N(i,e):Tm(e)?new vN(i,e):MN(e)?new xN(i,e):new Eo(i,e)},BN=function(i,e){var t=RN(i,e);return t.flags|=4,Q1(i,e,t,t),t},$j=function(i,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||$_(i)&&t.styles.isTransparent()},Wj=function(i){return i.isPositioned()||i.isFloating()},CN=function(i){return i.nodeType===Node.TEXT_NODE},Ul=function(i){return i.nodeType===Node.ELEMENT_NODE},jb=function(i){return Ul(i)&&typeof i.style<"u"&&!H1(i)},H1=function(i){return typeof i.className=="object"},qj=function(i){return i.tagName==="LI"},Yj=function(i){return i.tagName==="OL"},Xj=function(i){return i.tagName==="INPUT"},jj=function(i){return i.tagName==="HTML"},SN=function(i){return i.tagName==="svg"},$_=function(i){return i.tagName==="BODY"},NN=function(i){return i.tagName==="CANVAS"},a9=function(i){return i.tagName==="VIDEO"},Zb=function(i){return i.tagName==="IMG"},MN=function(i){return i.tagName==="IFRAME"},o9=function(i){return i.tagName==="STYLE"},Zj=function(i){return i.tagName==="SCRIPT"},Tm=function(i){return i.tagName==="TEXTAREA"},Gm=function(i){return i.tagName==="SELECT"},TN=function(i){return i.tagName==="SLOT"},A9=function(i){return i.tagName.indexOf("-")>0},Jj=function(){function i(){this.counters={}}return i.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},i.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},i.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},i.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var A=t.counters[o.counter];A&&o.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var a=[];return s&&r.forEach(function(o){var A=t.counters[o.counter];a.push(o.counter),A||(A=t.counters[o.counter]=[]),A.push(o.reset)}),a},i}(),c9={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},l9={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},eZ={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},tZ={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},Jc=function(i,e,t,n,r,s){return i<e||i>t?_f(i,r,s.length>0):n.integers.reduce(function(a,o,A){for(;i>=o;)i-=o,a+=n.values[A];return a},"")+s},GN=function(i,e,t,n){var r="";do t||i--,r=n(i)+r,i/=e;while(i*e>=e);return r},ki=function(i,e,t,n,r){var s=t-e+1;return(i<0?"-":"")+(GN(Math.abs(i),s,n,function(a){return Hi(Math.floor(a%s)+e)})+r)},Q0=function(i,e,t){t===void 0&&(t=". ");var n=e.length;return GN(Math.abs(i),n,!1,function(r){return e[Math.floor(r%n)]})+t},Nl=1<<0,WA=1<<1,qA=1<<2,Md=1<<3,Do=function(i,e,t,n,r,s){if(i<-9999||i>9999)return _f(i,4,r.length>0);var a=Math.abs(i),o=r;if(a===0)return e[0]+o;for(var A=0;a>0&&A<=4;A++){var c=a%10;c===0&&er(s,Nl)&&o!==""?o=e[c]+o:c>1||c===1&&A===0||c===1&&A===1&&er(s,WA)||c===1&&A===1&&er(s,qA)&&i>100||c===1&&A>1&&er(s,Md)?o=e[c]+(A>0?t[A-1]:"")+o:c===1&&A>0&&(o=t[A-1]+o),a=Math.floor(a/10)}return(i<0?n:"")+o},u9="\u5341\u767E\u5343\u842C",d9="\u62FE\u4F70\u4EDF\u842C",f9="\u30DE\u30A4\u30CA\u30B9",r2="\uB9C8\uC774\uB108\uC2A4",_f=function(i,e,t){var n=t?". ":"",r=t?"\u3001":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return"\u2022"+a;case 1:return"\u25E6"+a;case 2:return"\u25FE"+a;case 5:var o=ki(i,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Q0(i,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",r);case 6:return Jc(i,1,3999,c9,3,n).toLowerCase();case 7:return Jc(i,1,3999,c9,3,n);case 8:return ki(i,945,969,!1,n);case 9:return ki(i,97,122,!1,n);case 10:return ki(i,65,90,!1,n);case 11:return ki(i,1632,1641,!0,n);case 12:case 49:return Jc(i,1,9999,l9,3,n);case 35:return Jc(i,1,9999,l9,3,n).toLowerCase();case 13:return ki(i,2534,2543,!0,n);case 14:case 30:return ki(i,6112,6121,!0,n);case 15:return Q0(i,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",r);case 16:return Q0(i,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",r);case 17:case 48:return Do(i,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",u9,"\u8CA0",r,WA|qA|Md);case 47:return Do(i,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",d9,"\u8CA0",r,Nl|WA|qA|Md);case 42:return Do(i,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",u9,"\u8D1F",r,WA|qA|Md);case 41:return Do(i,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",d9,"\u8D1F",r,Nl|WA|qA|Md);case 26:return Do(i,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",f9,r,0);case 25:return Do(i,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",f9,r,Nl|WA|qA);case 31:return Do(i,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",r2,s,Nl|WA|qA);case 33:return Do(i,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",r2,s,0);case 32:return Do(i,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",r2,s,Nl|WA|qA);case 18:return ki(i,2406,2415,!0,n);case 20:return Jc(i,1,19999,tZ,3,n);case 21:return ki(i,2790,2799,!0,n);case 22:return ki(i,2662,2671,!0,n);case 22:return Jc(i,1,10999,eZ,3,n);case 23:return Q0(i,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return Q0(i,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return ki(i,3302,3311,!0,n);case 28:return Q0(i,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",r);case 29:return Q0(i,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",r);case 34:return ki(i,3792,3801,!0,n);case 37:return ki(i,6160,6169,!0,n);case 38:return ki(i,4160,4169,!0,n);case 39:return ki(i,2918,2927,!0,n);case 40:return ki(i,1776,1785,!0,n);case 43:return ki(i,3046,3055,!0,n);case 44:return ki(i,3174,3183,!0,n);case 45:return ki(i,3664,3673,!0,n);case 46:return ki(i,3872,3881,!0,n);case 3:default:return ki(i,48,57,!0,n)}},FN="data-html2canvas-ignore",h9=function(){function i(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Jj,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return i.prototype.toIFrame=function(e,t){var n=this,r=nZ(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=r.contentWindow,A=o.document,c=sZ(r).then(function(){return kr(n,void 0,void 0,function(){var l,u;return Cr(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(cZ),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),l=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,rZ(A)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(A,u)}).then(function(){return r})]:[2,r]}})})});return A.open(),A.write(oZ(document.doctype)+"<html></html>"),AZ(this.referenceElement.ownerDocument,s,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},i.prototype.createElementClone=function(e){if(qb(e,2))debugger;if(NN(e))return this.createCanvasClone(e);if(a9(e))return this.createVideoClone(e);if(o9(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Zb(t)&&(Zb(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),A9(t)?this.createCustomElementClone(t):t},i.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return s2(e.style,t),t},i.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},i.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},i.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},i.prototype.appendChildNode=function(e,t,n){(!Ul(t)||!Zj(t)&&!t.hasAttribute(FN)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Ul(t)||!o9(t))&&e.appendChild(this.cloneNode(t,n))},i.prototype.cloneChildNodes=function(e,t,n){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Ul(s)&&TN(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return r.appendChildNode(t,o,n)})}else this.appendChildNode(t,s,n)},i.prototype.cloneNode=function(e,t){if(CN(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ul(e)&&(jb(e)||H1(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&jb(r)&&(this.clonedReferenceElement=r),$_(r)&&dZ(r);var A=this.counters.parse(new K5(this.context,s)),c=this.resolvePseudoContent(e,r,a,Jd.BEFORE);A9(e)&&(t=!0),a9(e)||this.cloneChildNodes(e,r,t),c&&r.insertBefore(c,r.firstChild);var l=this.resolvePseudoContent(e,r,o,Jd.AFTER);return l&&r.appendChild(l),this.counters.pop(A),(s&&(this.options.copyStyles||H1(e))&&!MN(e)||t)&&s2(s,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Tm(e)||Gm(e))&&(Tm(r)||Gm(r))&&(r.value=e.value),r}return e.cloneNode(!1)},i.prototype.resolvePseudoContent=function(e,t,n,r){var s=this;if(!!n){var a=n.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new K5(this.context,n));var A=new qX(this.context,n),c=o.createElement("html2canvaspseudoelement");s2(n,c),A.content.forEach(function(u){if(u.type===0)c.appendChild(o.createTextNode(u.value));else if(u.type===22){var d=o.createElement("img");d.src=u.value,d.style.opacity="1",c.appendChild(d)}else if(u.type===18){if(u.name==="attr"){var h=u.values.filter(si);h.length&&c.appendChild(o.createTextNode(e.getAttribute(h[0].value)||""))}else if(u.name==="counter"){var m=u.values.filter(Au),y=m[0],g=m[1];if(y&&si(y)){var E=s.counters.getCounterValue(y.value),R=g&&si(g)?Wb.parse(s.context,g.value):3;c.appendChild(o.createTextNode(_f(E,R,!1)))}}else if(u.name==="counters"){var p=u.values.filter(Au),y=p[0],w=p[1],g=p[2];if(y&&si(y)){var v=s.counters.getCounterValues(y.value),_=g&&si(g)?Wb.parse(s.context,g.value):3,x=w&&w.type===0?w.value:"",C=v.map(function(I){return _f(I,_,!1)}).join(x);c.appendChild(o.createTextNode(C))}}}else if(u.type===20)switch(u.value){case"open-quote":c.appendChild(o.createTextNode(V5(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(V5(A.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(u.value))}}),c.className=Jb+" "+eE;var l=r===Jd.BEFORE?" "+Jb:" "+eE;return H1(t)?t.className.baseValue+=l:t.className+=l,c}}},i.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},i}(),Jd;(function(i){i[i.BEFORE=0]="BEFORE",i[i.AFTER=1]="AFTER"})(Jd||(Jd={}));var nZ=function(i,e){var t=i.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(FN,"true"),i.body.appendChild(t),t},iZ=function(i){return new Promise(function(e){if(i.complete){e();return}if(!i.src){e();return}i.onload=e,i.onerror=e})},rZ=function(i){return Promise.all([].slice.call(i.images,0).map(iZ))},sZ=function(i){return new Promise(function(e,t){var n=i.contentWindow;if(!n)return t("No window assigned for iframe");var r=n.document;n.onload=i.onload=function(){n.onload=i.onload=null;var s=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(s),e(i))},50)}})},aZ=["all","d","content"],s2=function(i,e){for(var t=i.length-1;t>=0;t--){var n=i.item(t);aZ.indexOf(n)===-1&&e.style.setProperty(n,i.getPropertyValue(n))}return e},oZ=function(i){var e="";return i&&(e+="<!DOCTYPE ",i.name&&(e+=i.name),i.internalSubset&&(e+=i.internalSubset),i.publicId&&(e+='"'+i.publicId+'"'),i.systemId&&(e+='"'+i.systemId+'"'),e+=">"),e},AZ=function(i,e,t){i&&i.defaultView&&(e!==i.defaultView.pageXOffset||t!==i.defaultView.pageYOffset)&&i.defaultView.scrollTo(e,t)},cZ=function(i){var e=i[0],t=i[1],n=i[2];e.scrollLeft=t,e.scrollTop=n},lZ=":before",uZ=":after",Jb="___html2canvas___pseudoelement_before",eE="___html2canvas___pseudoelement_after",p9=`{
    content: "" !important;
    display: none !important;
}`,dZ=function(i){fZ(i,"."+Jb+lZ+p9+`
         .`+eE+uZ+p9)},fZ=function(i,e){var t=i.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,i.appendChild(n)}},IN=function(){function i(){}return i.getOrigin=function(e){var t=i._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},i.isSameOrigin=function(e){return i.getOrigin(e)===i._origin},i.setContext=function(e){i._link=e.document.createElement("a"),i._origin=i.getOrigin(e.location.href)},i._origin="about:blank",i}(),hZ=function(){function i(e,t){this.context=e,this._options=t,this._cache={}}return i.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(o2(e)||yZ(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},i.prototype.match=function(e){return this._cache[e]},i.prototype.loadImage=function(e){return kr(this,void 0,void 0,function(){var t,n,r,s,a=this;return Cr(this,function(o){switch(o.label){case 0:return t=IN.isSameOrigin(e),n=!a2(e)&&this._options.useCORS===!0&&gr.SUPPORT_CORS_IMAGES&&!t,r=!a2(e)&&!t&&!o2(e)&&typeof this._options.proxy=="string"&&gr.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!a2(e)&&!o2(e)&&!r&&!n?[2]:(s=e,r?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,c){var l=new Image;l.onload=function(){return A(l)},l.onerror=c,(wZ(s)||n)&&(l.crossOrigin="anonymous"),l.src=s,l.complete===!0&&setTimeout(function(){return A(l)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},i.prototype.has=function(e){return typeof this._cache[e]<"u"},i.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},i.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,a){var o=gr.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")s(A.response);else{var u=new FileReader;u.addEventListener("load",function(){return s(u.result)},!1),u.addEventListener("error",function(d){return a(d)},!1),u.readAsDataURL(A.response)}else a("Failed to proxy resource "+r+" with status code "+A.status)},A.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),t._options.imageTimeout){var l=t._options.imageTimeout;A.timeout=l,A.ontimeout=function(){return a("Timed out ("+l+"ms) proxying "+r)}}A.send()})},i}(),pZ=/^data:image\/svg\+xml/i,mZ=/^data:image\/.*;base64,/i,gZ=/^data:image\/.*/i,yZ=function(i){return gr.SUPPORT_SVG_DRAWING||!bZ(i)},a2=function(i){return gZ.test(i)},wZ=function(i){return mZ.test(i)},o2=function(i){return i.substr(0,4)==="blob"},bZ=function(i){return i.substr(-3).toLowerCase()==="svg"||pZ.test(i)},kt=function(){function i(e,t){this.type=0,this.x=e,this.y=t}return i.prototype.add=function(e,t){return new i(this.x+e,this.y+t)},i}(),el=function(i,e,t){return new kt(i.x+(e.x-i.x)*t,i.y+(e.y-i.y)*t)},xp=function(){function i(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return i.prototype.subdivide=function(e,t){var n=el(this.start,this.startControl,e),r=el(this.startControl,this.endControl,e),s=el(this.endControl,this.end,e),a=el(n,r,e),o=el(r,s,e),A=el(a,o,e);return t?new i(this.start,n,a,A):new i(A,o,s,this.end)},i.prototype.add=function(e,t){return new i(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},i.prototype.reverse=function(){return new i(this.end,this.endControl,this.startControl,this.start)},i}(),ta=function(i){return i.type===1},EZ=function(){function i(e){var t=e.styles,n=e.bounds,r=Sd(t.borderTopLeftRadius,n.width,n.height),s=r[0],a=r[1],o=Sd(t.borderTopRightRadius,n.width,n.height),A=o[0],c=o[1],l=Sd(t.borderBottomRightRadius,n.width,n.height),u=l[0],d=l[1],h=Sd(t.borderBottomLeftRadius,n.width,n.height),m=h[0],y=h[1],g=[];g.push((s+A)/n.width),g.push((m+u)/n.width),g.push((a+y)/n.height),g.push((c+d)/n.height);var E=Math.max.apply(Math,g);E>1&&(s/=E,a/=E,A/=E,c/=E,u/=E,d/=E,m/=E,y/=E);var R=n.width-A,p=n.height-d,w=n.width-u,v=n.height-y,_=t.borderTopWidth,x=t.borderRightWidth,C=t.borderBottomWidth,B=t.borderLeftWidth,G=li(t.paddingTop,e.bounds.width),I=li(t.paddingRight,e.bounds.width),N=li(t.paddingBottom,e.bounds.width),T=li(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?bi(n.left+B/3,n.top+_/3,s-B/3,a-_/3,jn.TOP_LEFT):new kt(n.left+B/3,n.top+_/3),this.topRightBorderDoubleOuterBox=s>0||a>0?bi(n.left+R,n.top+_/3,A-x/3,c-_/3,jn.TOP_RIGHT):new kt(n.left+n.width-x/3,n.top+_/3),this.bottomRightBorderDoubleOuterBox=u>0||d>0?bi(n.left+w,n.top+p,u-x/3,d-C/3,jn.BOTTOM_RIGHT):new kt(n.left+n.width-x/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=m>0||y>0?bi(n.left+B/3,n.top+v,m-B/3,y-C/3,jn.BOTTOM_LEFT):new kt(n.left+B/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?bi(n.left+B*2/3,n.top+_*2/3,s-B*2/3,a-_*2/3,jn.TOP_LEFT):new kt(n.left+B*2/3,n.top+_*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?bi(n.left+R,n.top+_*2/3,A-x*2/3,c-_*2/3,jn.TOP_RIGHT):new kt(n.left+n.width-x*2/3,n.top+_*2/3),this.bottomRightBorderDoubleInnerBox=u>0||d>0?bi(n.left+w,n.top+p,u-x*2/3,d-C*2/3,jn.BOTTOM_RIGHT):new kt(n.left+n.width-x*2/3,n.top+n.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||y>0?bi(n.left+B*2/3,n.top+v,m-B*2/3,y-C*2/3,jn.BOTTOM_LEFT):new kt(n.left+B*2/3,n.top+n.height-C*2/3),this.topLeftBorderStroke=s>0||a>0?bi(n.left+B/2,n.top+_/2,s-B/2,a-_/2,jn.TOP_LEFT):new kt(n.left+B/2,n.top+_/2),this.topRightBorderStroke=s>0||a>0?bi(n.left+R,n.top+_/2,A-x/2,c-_/2,jn.TOP_RIGHT):new kt(n.left+n.width-x/2,n.top+_/2),this.bottomRightBorderStroke=u>0||d>0?bi(n.left+w,n.top+p,u-x/2,d-C/2,jn.BOTTOM_RIGHT):new kt(n.left+n.width-x/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=m>0||y>0?bi(n.left+B/2,n.top+v,m-B/2,y-C/2,jn.BOTTOM_LEFT):new kt(n.left+B/2,n.top+n.height-C/2),this.topLeftBorderBox=s>0||a>0?bi(n.left,n.top,s,a,jn.TOP_LEFT):new kt(n.left,n.top),this.topRightBorderBox=A>0||c>0?bi(n.left+R,n.top,A,c,jn.TOP_RIGHT):new kt(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||d>0?bi(n.left+w,n.top+p,u,d,jn.BOTTOM_RIGHT):new kt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||y>0?bi(n.left,n.top+v,m,y,jn.BOTTOM_LEFT):new kt(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?bi(n.left+B,n.top+_,Math.max(0,s-B),Math.max(0,a-_),jn.TOP_LEFT):new kt(n.left+B,n.top+_),this.topRightPaddingBox=A>0||c>0?bi(n.left+Math.min(R,n.width-x),n.top+_,R>n.width+x?0:Math.max(0,A-x),Math.max(0,c-_),jn.TOP_RIGHT):new kt(n.left+n.width-x,n.top+_),this.bottomRightPaddingBox=u>0||d>0?bi(n.left+Math.min(w,n.width-B),n.top+Math.min(p,n.height-C),Math.max(0,u-x),Math.max(0,d-C),jn.BOTTOM_RIGHT):new kt(n.left+n.width-x,n.top+n.height-C),this.bottomLeftPaddingBox=m>0||y>0?bi(n.left+B,n.top+Math.min(v,n.height-C),Math.max(0,m-B),Math.max(0,y-C),jn.BOTTOM_LEFT):new kt(n.left+B,n.top+n.height-C),this.topLeftContentBox=s>0||a>0?bi(n.left+B+T,n.top+_+G,Math.max(0,s-(B+T)),Math.max(0,a-(_+G)),jn.TOP_LEFT):new kt(n.left+B+T,n.top+_+G),this.topRightContentBox=A>0||c>0?bi(n.left+Math.min(R,n.width+B+T),n.top+_+G,R>n.width+B+T?0:A-B+T,c-(_+G),jn.TOP_RIGHT):new kt(n.left+n.width-(x+I),n.top+_+G),this.bottomRightContentBox=u>0||d>0?bi(n.left+Math.min(w,n.width-(B+T)),n.top+Math.min(p,n.height+_+G),Math.max(0,u-(x+I)),d-(C+N),jn.BOTTOM_RIGHT):new kt(n.left+n.width-(x+I),n.top+n.height-(C+N)),this.bottomLeftContentBox=m>0||y>0?bi(n.left+B+T,n.top+v,Math.max(0,m-(B+T)),y-(C+N),jn.BOTTOM_LEFT):new kt(n.left+B+T,n.top+n.height-(C+N))}return i}(),jn;(function(i){i[i.TOP_LEFT=0]="TOP_LEFT",i[i.TOP_RIGHT=1]="TOP_RIGHT",i[i.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",i[i.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(jn||(jn={}));var bi=function(i,e,t,n,r){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=n*s,A=i+t,c=e+n;switch(r){case jn.TOP_LEFT:return new xp(new kt(i,c),new kt(i,c-o),new kt(A-a,e),new kt(A,e));case jn.TOP_RIGHT:return new xp(new kt(i,e),new kt(i+a,e),new kt(A,c-o),new kt(A,c));case jn.BOTTOM_RIGHT:return new xp(new kt(A,e),new kt(A,e+o),new kt(i+a,c),new kt(i,c));case jn.BOTTOM_LEFT:default:return new xp(new kt(A,c),new kt(A-a,c),new kt(i,e+o),new kt(i,e))}},Fm=function(i){return[i.topLeftBorderBox,i.topRightBorderBox,i.bottomRightBorderBox,i.bottomLeftBorderBox]},_Z=function(i){return[i.topLeftContentBox,i.topRightContentBox,i.bottomRightContentBox,i.bottomLeftContentBox]},Im=function(i){return[i.topLeftPaddingBox,i.topRightPaddingBox,i.bottomRightPaddingBox,i.bottomLeftPaddingBox]},vZ=function(){function i(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return i}(),Rp=function(){function i(e,t){this.path=e,this.target=t,this.type=1}return i}(),xZ=function(){function i(e){this.opacity=e,this.type=2,this.target=6}return i}(),RZ=function(i){return i.type===0},UN=function(i){return i.type===1},BZ=function(i){return i.type===2},m9=function(i,e){return i.length===e.length?i.some(function(t,n){return t===e[n]}):!1},CZ=function(i,e,t,n,r){return i.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+n,t);case 2:return s.add(e+n,t+r);case 3:return s.add(e,t+r)}return s})},PN=function(){function i(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return i}(),LN=function(){function i(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new EZ(this.container),this.container.styles.opacity<1&&this.effects.push(new xZ(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new vZ(n,r,s))}if(this.container.styles.overflowX!==0){var a=Fm(this.curves),o=Im(this.curves);m9(a,o)?this.effects.push(new Rp(a,6)):(this.effects.push(new Rp(a,2)),this.effects.push(new Rp(o,4)))}}return i.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,r=this.effects.slice(0);n;){var s=n.effects.filter(function(A){return!UN(A)});if(t||n.container.styles.position!==0||!n.parent){if(r.unshift.apply(r,s),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=Fm(n.curves),o=Im(n.curves);m9(a,o)||r.unshift(new Rp(o,6))}}else r.unshift.apply(r,s);n=n.parent}return r.filter(function(A){return er(A.target,e)})},i}(),tE=function(i,e,t,n){i.container.elements.forEach(function(r){var s=er(r.flags,4),a=er(r.flags,2),o=new LN(r,i);er(r.styles.display,2048)&&n.push(o);var A=er(r.flags,8)?[]:n;if(s||a){var c=s||r.styles.isPositioned()?t:e,l=new PN(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var u=r.styles.zIndex.order;if(u<0){var d=0;c.negativeZIndex.some(function(m,y){return u>m.element.container.styles.zIndex.order?(d=y,!1):d>0}),c.negativeZIndex.splice(d,0,l)}else if(u>0){var h=0;c.positiveZIndex.some(function(m,y){return u>=m.element.container.styles.zIndex.order?(h=y+1,!1):h>0}),c.positiveZIndex.splice(h,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else r.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);tE(o,l,s?l:t,A)}else r.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),tE(o,e,t,A);er(r.flags,8)&&DN(r,A)})},DN=function(i,e){for(var t=i instanceof Xb?i.start:1,n=i instanceof Xb?i.reversed:!1,r=0;r<e.length;r++){var s=e[r];s.container instanceof EN&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=_f(t,s.container.styles.listStyleType,!0),t+=n?-1:1}},SZ=function(i){var e=new LN(i,null),t=new PN(e),n=[];return tE(e,t,t,n),DN(e.container,n),t},g9=function(i,e){switch(e){case 0:return aa(i.topLeftBorderBox,i.topLeftPaddingBox,i.topRightBorderBox,i.topRightPaddingBox);case 1:return aa(i.topRightBorderBox,i.topRightPaddingBox,i.bottomRightBorderBox,i.bottomRightPaddingBox);case 2:return aa(i.bottomRightBorderBox,i.bottomRightPaddingBox,i.bottomLeftBorderBox,i.bottomLeftPaddingBox);case 3:default:return aa(i.bottomLeftBorderBox,i.bottomLeftPaddingBox,i.topLeftBorderBox,i.topLeftPaddingBox)}},NZ=function(i,e){switch(e){case 0:return aa(i.topLeftBorderBox,i.topLeftBorderDoubleOuterBox,i.topRightBorderBox,i.topRightBorderDoubleOuterBox);case 1:return aa(i.topRightBorderBox,i.topRightBorderDoubleOuterBox,i.bottomRightBorderBox,i.bottomRightBorderDoubleOuterBox);case 2:return aa(i.bottomRightBorderBox,i.bottomRightBorderDoubleOuterBox,i.bottomLeftBorderBox,i.bottomLeftBorderDoubleOuterBox);case 3:default:return aa(i.bottomLeftBorderBox,i.bottomLeftBorderDoubleOuterBox,i.topLeftBorderBox,i.topLeftBorderDoubleOuterBox)}},MZ=function(i,e){switch(e){case 0:return aa(i.topLeftBorderDoubleInnerBox,i.topLeftPaddingBox,i.topRightBorderDoubleInnerBox,i.topRightPaddingBox);case 1:return aa(i.topRightBorderDoubleInnerBox,i.topRightPaddingBox,i.bottomRightBorderDoubleInnerBox,i.bottomRightPaddingBox);case 2:return aa(i.bottomRightBorderDoubleInnerBox,i.bottomRightPaddingBox,i.bottomLeftBorderDoubleInnerBox,i.bottomLeftPaddingBox);case 3:default:return aa(i.bottomLeftBorderDoubleInnerBox,i.bottomLeftPaddingBox,i.topLeftBorderDoubleInnerBox,i.topLeftPaddingBox)}},TZ=function(i,e){switch(e){case 0:return Bp(i.topLeftBorderStroke,i.topRightBorderStroke);case 1:return Bp(i.topRightBorderStroke,i.bottomRightBorderStroke);case 2:return Bp(i.bottomRightBorderStroke,i.bottomLeftBorderStroke);case 3:default:return Bp(i.bottomLeftBorderStroke,i.topLeftBorderStroke)}},Bp=function(i,e){var t=[];return ta(i)?t.push(i.subdivide(.5,!1)):t.push(i),ta(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},aa=function(i,e,t,n){var r=[];return ta(i)?r.push(i.subdivide(.5,!1)):r.push(i),ta(t)?r.push(t.subdivide(.5,!0)):r.push(t),ta(n)?r.push(n.subdivide(.5,!0).reverse()):r.push(n),ta(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},kN=function(i){var e=i.bounds,t=i.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Um=function(i){var e=i.styles,t=i.bounds,n=li(e.paddingLeft,t.width),r=li(e.paddingRight,t.width),s=li(e.paddingTop,t.width),a=li(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+r),-(e.borderTopWidth+e.borderBottomWidth+s+a))},GZ=function(i,e){return i===0?e.bounds:i===2?Um(e):kN(e)},FZ=function(i,e){return i===0?e.bounds:i===2?Um(e):kN(e)},A2=function(i,e,t){var n=GZ(Ml(i.styles.backgroundOrigin,e),i),r=FZ(Ml(i.styles.backgroundClip,e),i),s=IZ(Ml(i.styles.backgroundSize,e),t,n),a=s[0],o=s[1],A=Sd(Ml(i.styles.backgroundPosition,e),n.width-a,n.height-o),c=UZ(Ml(i.styles.backgroundRepeat,e),A,s,n,r),l=Math.round(n.left+A[0]),u=Math.round(n.top+A[1]);return[c,l,u,a,o]},tl=function(i){return si(i)&&i.value===Kl.AUTO},Cp=function(i){return typeof i=="number"},IZ=function(i,e,t){var n=e[0],r=e[1],s=e[2],a=i[0],o=i[1];if(!a)return[0,0];if(qi(a)&&o&&qi(o))return[li(a,t.width),li(o,t.height)];var A=Cp(s);if(si(a)&&(a.value===Kl.CONTAIN||a.value===Kl.COVER)){if(Cp(s)){var c=t.width/t.height;return c<s!=(a.value===Kl.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var l=Cp(n),u=Cp(r),d=l||u;if(tl(a)&&(!o||tl(o))){if(l&&u)return[n,r];if(!A&&!d)return[t.width,t.height];if(d&&A){var h=l?n:r*s,m=u?r:n/s;return[h,m]}var y=l?n:t.width,g=u?r:t.height;return[y,g]}if(A){var E=0,R=0;return qi(a)?E=li(a,t.width):qi(o)&&(R=li(o,t.height)),tl(a)?E=R*s:(!o||tl(o))&&(R=E/s),[E,R]}var p=null,w=null;if(qi(a)?p=li(a,t.width):o&&qi(o)&&(w=li(o,t.height)),p!==null&&(!o||tl(o))&&(w=l&&u?p/n*r:t.height),w!==null&&tl(a)&&(p=l&&u?w/r*n:t.width),p!==null&&w!==null)return[p,w];throw new Error("Unable to calculate background-size for element")},Ml=function(i,e){var t=i[e];return typeof t>"u"?i[0]:t},UZ=function(i,e,t,n,r){var s=e[0],a=e[1],o=t[0],A=t[1];switch(i){case 2:return[new kt(Math.round(n.left),Math.round(n.top+a)),new kt(Math.round(n.left+n.width),Math.round(n.top+a)),new kt(Math.round(n.left+n.width),Math.round(A+n.top+a)),new kt(Math.round(n.left),Math.round(A+n.top+a))];case 3:return[new kt(Math.round(n.left+s),Math.round(n.top)),new kt(Math.round(n.left+s+o),Math.round(n.top)),new kt(Math.round(n.left+s+o),Math.round(n.height+n.top)),new kt(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new kt(Math.round(n.left+s),Math.round(n.top+a)),new kt(Math.round(n.left+s+o),Math.round(n.top+a)),new kt(Math.round(n.left+s+o),Math.round(n.top+a+A)),new kt(Math.round(n.left+s),Math.round(n.top+a+A))];default:return[new kt(Math.round(r.left),Math.round(r.top)),new kt(Math.round(r.left+r.width),Math.round(r.top)),new kt(Math.round(r.left+r.width),Math.round(r.height+r.top)),new kt(Math.round(r.left),Math.round(r.height+r.top))]}},PZ="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",y9="Hidden Text",LZ=function(){function i(e){this._data={},this._document=e}return i.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),r.src=PZ,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(y9)),n.appendChild(s),n.appendChild(r);var o=r.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(y9)),n.style.lineHeight="normal",r.style.verticalAlign="super";var A=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:A}},i.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},i}(),ON=function(){function i(e,t){this.context=e,this.options=t}return i}(),DZ=1e4,kZ=function(i){ka(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new LZ(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(r){return n.applyEffect(r)})},e.prototype.applyEffect=function(t){this.ctx.save(),BZ(t)&&(this.ctx.globalAlpha=t.opacity),RZ(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),UN(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return kr(this,void 0,void 0,function(){var n;return Cr(this,function(r){switch(r.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return kr(this,void 0,void 0,function(){return Cr(this,function(n){switch(n.label){case 0:if(er(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,r){var s=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+r);else{var a=V_(t.text);a.reduce(function(o,A){return s.ctx.fillText(A,o,t.bounds.top+r),o+s.ctx.measureText(A).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),r=VZ(t.fontFamily).join(", "),s=Vf(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,s,r].join(" "),r,s]},e.prototype.renderTextNode=function(t,n){return kr(this,void 0,void 0,function(){var r,s,a,o,A,c,l,u,d=this;return Cr(this,function(h){return r=this.createFontStyle(n),s=r[0],a=r[1],o=r[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(a,o),c=A.baseline,l=A.middle,u=n.paintOrder,t.textBounds.forEach(function(m){u.forEach(function(y){switch(y){case 0:d.ctx.fillStyle=cr(n.color),d.renderTextWithLetterSpacing(m,n.letterSpacing,c);var g=n.textShadow;g.length&&m.text.trim().length&&(g.slice(0).reverse().forEach(function(E){d.ctx.shadowColor=cr(E.color),d.ctx.shadowOffsetX=E.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=E.offsetY.number*d.options.scale,d.ctx.shadowBlur=E.blur.number,d.renderTextWithLetterSpacing(m,n.letterSpacing,c)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),n.textDecorationLine.length&&(d.ctx.fillStyle=cr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(E){switch(E){case 1:d.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:d.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:d.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+l),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(d.ctx.strokeStyle=cr(n.webkitTextStrokeColor),d.ctx.lineWidth=n.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,r){if(r&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=Um(t),a=Im(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return kr(this,void 0,void 0,function(){var n,r,s,a,o,A,R,R,c,l,u,d,w,h,m,v,y,g,E,R,p,w,v;return Cr(this,function(_){switch(_.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,r=t.curves,s=n.styles,a=0,o=n.textNodes,_.label=1;case 1:return a<o.length?(A=o[a],[4,this.renderTextNode(A,s)]):[3,4];case 2:_.sent(),_.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof yN))return[3,8];_.label=5;case 5:return _.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return R=_.sent(),this.renderReplacedElement(n,r,R),[3,8];case 7:return _.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof wN&&this.renderReplacedElement(n,r,n.canvas),!(n instanceof bN))return[3,12];_.label=9;case 9:return _.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return R=_.sent(),this.renderReplacedElement(n,r,R),[3,12];case 11:return _.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof xN&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:l=_.sent(),n.width&&n.height&&this.ctx.drawImage(l,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),_.label=14;case 14:if(n instanceof K_&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===Nm?n.checked&&(this.ctx.save(),this.path([new kt(n.bounds.left+u*.39363,n.bounds.top+u*.79),new kt(n.bounds.left+u*.16,n.bounds.top+u*.5549),new kt(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new kt(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new kt(n.bounds.left+u*.72983,n.bounds.top+u*.23),new kt(n.bounds.left+u*.84,n.bounds.top+u*.34085),new kt(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=cr(s9),this.ctx.fill(),this.ctx.restore()):n.type===Mm&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=cr(s9),this.ctx.fill(),this.ctx.restore())),OZ(n)&&n.value.length){switch(d=this.createFontStyle(s),w=d[0],h=d[1],m=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=cr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=HZ(n.styles.textAlign),v=Um(n),y=0,n.styles.textAlign){case 1:y+=v.width/2;break;case 2:y+=v.width;break}g=v.add(y,0,0,-v.height/2+1),this.ctx.save(),this.path([new kt(v.left,v.top),new kt(v.left+v.width,v.top),new kt(v.left+v.width,v.top+v.height),new kt(v.left,v.top+v.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Zd(n.value,g),s.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!er(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(E=n.styles.listStyleImage,E.type!==0)return[3,18];R=void 0,p=E.url,_.label=15;case 15:return _.trys.push([15,17,,18]),[4,this.context.cache.match(p)];case 16:return R=_.sent(),this.ctx.drawImage(R,n.bounds.left-(R.width+10),n.bounds.top),[3,18];case 17:return _.sent(),this.context.logger.error("Error loading list-style-image "+p),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(w=this.createFontStyle(s)[0],this.ctx.font=w,this.ctx.fillStyle=cr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",v=new hA(n.bounds.left,n.bounds.top+li(n.styles.paddingTop,n.bounds.width),n.bounds.width,H5(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Zd(t.listValue,v),s.letterSpacing,H5(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),_.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return kr(this,void 0,void 0,function(){var n,r,E,s,a,E,o,A,E,c,l,E,u,d,E,h,m,E,y,g,E;return Cr(this,function(R){switch(R.label){case 0:if(er(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:R.sent(),n=0,r=t.negativeZIndex,R.label=2;case 2:return n<r.length?(E=r[n],[4,this.renderStack(E)]):[3,5];case 3:R.sent(),R.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:R.sent(),s=0,a=t.nonInlineLevel,R.label=7;case 7:return s<a.length?(E=a[s],[4,this.renderNode(E)]):[3,10];case 8:R.sent(),R.label=9;case 9:return s++,[3,7];case 10:o=0,A=t.nonPositionedFloats,R.label=11;case 11:return o<A.length?(E=A[o],[4,this.renderStack(E)]):[3,14];case 12:R.sent(),R.label=13;case 13:return o++,[3,11];case 14:c=0,l=t.nonPositionedInlineLevel,R.label=15;case 15:return c<l.length?(E=l[c],[4,this.renderStack(E)]):[3,18];case 16:R.sent(),R.label=17;case 17:return c++,[3,15];case 18:u=0,d=t.inlineLevel,R.label=19;case 19:return u<d.length?(E=d[u],[4,this.renderNode(E)]):[3,22];case 20:R.sent(),R.label=21;case 21:return u++,[3,19];case 22:h=0,m=t.zeroOrAutoZIndexOrTransformedOrOpacity,R.label=23;case 23:return h<m.length?(E=m[h],[4,this.renderStack(E)]):[3,26];case 24:R.sent(),R.label=25;case 25:return h++,[3,23];case 26:y=0,g=t.positiveZIndex,R.label=27;case 27:return y<g.length?(E=g[y],[4,this.renderStack(E)]):[3,30];case 28:R.sent(),R.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(r,s){var a=ta(r)?r.start:r;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),ta(r)&&n.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(t,n,r,s){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},e.prototype.resizeImage=function(t,n,r){var s;if(t.width===n&&t.height===r)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,r);var A=o.getContext("2d");return A.drawImage(t,0,0,t.width,t.height,0,0,n,r),o},e.prototype.renderBackgroundImage=function(t){return kr(this,void 0,void 0,function(){var n,r,s,a,o,A;return Cr(this,function(c){switch(c.label){case 0:n=t.styles.backgroundImage.length-1,r=function(l){var u,d,h,G,z,L,T,M,C,m,G,z,L,T,M,y,g,E,R,p,w,v,_,x,C,B,G,I,N,T,M,U,z,L,k,K,V,D,H,oe,Ae,ee;return Cr(this,function(se){switch(se.label){case 0:if(l.type!==0)return[3,5];u=void 0,d=l.url,se.label=1;case 1:return se.trys.push([1,3,,4]),[4,s.context.cache.match(d)];case 2:return u=se.sent(),[3,4];case 3:return se.sent(),s.context.logger.error("Error loading background-image "+d),[3,4];case 4:return u&&(h=A2(t,n,[u.width,u.height,u.width/u.height]),G=h[0],z=h[1],L=h[2],T=h[3],M=h[4],C=s.ctx.createPattern(s.resizeImage(u,T,M),"repeat"),s.renderRepeat(G,C,z,L)),[3,6];case 5:RY(l)?(m=A2(t,n,[null,null,null]),G=m[0],z=m[1],L=m[2],T=m[3],M=m[4],y=bY(l.angle,T,M),g=y[0],E=y[1],R=y[2],p=y[3],w=y[4],v=document.createElement("canvas"),v.width=T,v.height=M,_=v.getContext("2d"),x=_.createLinearGradient(E,p,R,w),O5(l.stops,g).forEach(function(le){return x.addColorStop(le.stop,cr(le.color))}),_.fillStyle=x,_.fillRect(0,0,T,M),T>0&&M>0&&(C=s.ctx.createPattern(v,"repeat"),s.renderRepeat(G,C,z,L))):BY(l)&&(B=A2(t,n,[null,null,null]),G=B[0],I=B[1],N=B[2],T=B[3],M=B[4],U=l.position.length===0?[Q_]:l.position,z=li(U[0],T),L=li(U[U.length-1],M),k=EY(l,z,L,T,M),K=k[0],V=k[1],K>0&&V>0&&(D=s.ctx.createRadialGradient(I+z,N+L,0,I+z,N+L,K),O5(l.stops,K*2).forEach(function(le){return D.addColorStop(le.stop,cr(le.color))}),s.path(G),s.ctx.fillStyle=D,K!==V?(H=t.bounds.left+.5*t.bounds.width,oe=t.bounds.top+.5*t.bounds.height,Ae=V/K,ee=1/Ae,s.ctx.save(),s.ctx.translate(H,oe),s.ctx.transform(1,0,0,Ae,0,0),s.ctx.translate(-H,-oe),s.ctx.fillRect(I,ee*(N-oe)+oe,T,M*ee),s.ctx.restore()):s.ctx.fill())),se.label=6;case 6:return n--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<o.length?(A=o[a],[5,r(A)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,r){return kr(this,void 0,void 0,function(){return Cr(this,function(s){return this.path(g9(r,n)),this.ctx.fillStyle=cr(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,r,s){return kr(this,void 0,void 0,function(){var a,o;return Cr(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(t,r,s)]:[3,2];case 1:return A.sent(),[2];case 2:return a=NZ(s,r),this.path(a),this.ctx.fillStyle=cr(t),this.ctx.fill(),o=MZ(s,r),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return kr(this,void 0,void 0,function(){var n,r,s,a,o,A,c,l,u=this;return Cr(this,function(d){switch(d.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,r=!s0(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=QZ(Ml(n.backgroundClip,0),t.curves),r||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),s0(n.backgroundColor)||(this.ctx.fillStyle=cr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(h){u.ctx.save();var m=Fm(t.curves),y=h.inset?0:DZ,g=CZ(m,-y+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(u.path(m),u.ctx.clip(),u.mask(g)):(u.mask(m),u.ctx.clip(),u.path(g)),u.ctx.shadowOffsetX=h.offsetX.number+y,u.ctx.shadowOffsetY=h.offsetY.number,u.ctx.shadowColor=cr(h.color),u.ctx.shadowBlur=h.blur.number,u.ctx.fillStyle=h.inset?cr(h.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),d.label=2;case 2:o=0,A=0,c=s,d.label=3;case 3:return A<c.length?(l=c[A],l.style!==0&&!s0(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,o,t.curves,3)];case 6:return d.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,o,t.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,o,t.curves)];case 10:d.sent(),d.label=11;case 11:o++,d.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,r,s,a){return kr(this,void 0,void 0,function(){var o,A,c,l,u,d,h,m,y,g,E,R,p,w,v,_,v,_;return Cr(this,function(x){return this.ctx.save(),o=TZ(s,r),A=g9(s,r),a===2&&(this.path(A),this.ctx.clip()),ta(A[0])?(c=A[0].start.x,l=A[0].start.y):(c=A[0].x,l=A[0].y),ta(A[1])?(u=A[1].end.x,d=A[1].end.y):(u=A[1].x,d=A[1].y),r===0||r===2?h=Math.abs(c-u):h=Math.abs(l-d),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(A.slice(0,2)),m=n<3?n*3:n*2,y=n<3?n*2:n,a===3&&(m=n,y=n),g=!0,h<=m*2?g=!1:h<=m*2+y?(E=h/(2*m+y),m*=E,y*=E):(R=Math.floor((h+y)/(m+y)),p=(h-R*m)/(R-1),w=(h-(R+1)*m)/R,y=w<=0||Math.abs(y-p)<Math.abs(y-w)?p:w),g&&(a===3?this.ctx.setLineDash([0,m+y]):this.ctx.setLineDash([m,y])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=cr(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(ta(A[0])&&(v=A[3],_=A[0],this.ctx.beginPath(),this.formatPath([new kt(v.end.x,v.end.y),new kt(_.start.x,_.start.y)]),this.ctx.stroke()),ta(A[1])&&(v=A[1],_=A[2],this.ctx.beginPath(),this.formatPath([new kt(v.end.x,v.end.y),new kt(_.start.x,_.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return kr(this,void 0,void 0,function(){var n;return Cr(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=cr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=SZ(t),[4,this.renderStack(n)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(ON),OZ=function(i){return i instanceof vN||i instanceof _N?!0:i instanceof K_&&i.type!==Mm&&i.type!==Nm},QZ=function(i,e){switch(i){case 0:return Fm(e);case 2:return _Z(e);case 1:default:return Im(e)}},HZ=function(i){switch(i){case 1:return"center";case 2:return"right";case 0:default:return"left"}},zZ=["-apple-system","system-ui"],VZ=function(i){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?i.filter(function(e){return zZ.indexOf(e)===-1}):i},KZ=function(i){ka(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return e.prototype.render=function(t){return kr(this,void 0,void 0,function(){var n,r;return Cr(this,function(s){switch(s.label){case 0:return n=Yb(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,$Z(n)];case 1:return r=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=cr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(ON),$Z=function(i){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(i))})},WZ=function(){function i(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return i.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,sp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},i.prototype.getTime=function(){return Date.now()-this.start},i.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,sp([this.id,this.getTime()+"ms"],e))},i.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,sp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},i.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,sp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},i.instances={},i}(),qZ=function(){function i(e,t){var n;this.windowBounds=t,this.instanceName="#"+i.instanceCount++,this.logger=new WZ({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new hZ(this,e)}return i.instanceCount=1,i}(),YZ=function(i,e){return e===void 0&&(e={}),XZ(i,e)};typeof window<"u"&&IN.setContext(window);var XZ=function(i,e){return kr(void 0,void 0,void 0,function(){var t,n,r,s,a,o,A,c,l,u,d,h,m,y,g,E,R,p,w,v,x,_,x,C,B,G,I,N,T,M,U,z,L,k,K,V,D,H,oe,Ae;return Cr(this,function(ee){switch(ee.label){case 0:if(!i||typeof i!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=i.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return r={allowTaint:(C=e.allowTaint)!==null&&C!==void 0?C:!1,imageTimeout:(B=e.imageTimeout)!==null&&B!==void 0?B:15e3,proxy:e.proxy,useCORS:(G=e.useCORS)!==null&&G!==void 0?G:!1},s=Ib({logging:(I=e.logging)!==null&&I!==void 0?I:!0,cache:e.cache},r),a={windowWidth:(N=e.windowWidth)!==null&&N!==void 0?N:n.innerWidth,windowHeight:(T=e.windowHeight)!==null&&T!==void 0?T:n.innerHeight,scrollX:(M=e.scrollX)!==null&&M!==void 0?M:n.pageXOffset,scrollY:(U=e.scrollY)!==null&&U!==void 0?U:n.pageYOffset},o=new hA(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),A=new qZ(s,o),c=(z=e.foreignObjectRendering)!==null&&z!==void 0?z:!1,l={allowTaint:(L=e.allowTaint)!==null&&L!==void 0?L:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),u=new h9(A,i,l),d=u.clonedReferenceElement,d?[4,u.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=ee.sent(),m=$_(d)||jj(d)?CW(d.ownerDocument):Sg(A,d),y=m.width,g=m.height,E=m.left,R=m.top,p=jZ(A,d,e.backgroundColor),w={canvas:e.canvas,backgroundColor:p,scale:(K=(k=e.scale)!==null&&k!==void 0?k:n.devicePixelRatio)!==null&&K!==void 0?K:1,x:((V=e.x)!==null&&V!==void 0?V:0)+E,y:((D=e.y)!==null&&D!==void 0?D:0)+R,width:(H=e.width)!==null&&H!==void 0?H:Math.ceil(y),height:(oe=e.height)!==null&&oe!==void 0?oe:Math.ceil(g)},c?(A.logger.debug("Document cloned, using foreign object rendering"),x=new KZ(A,w),[4,x.render(d)]):[3,3];case 2:return v=ee.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+E+","+R+" with size "+y+"x"+g+" using computed rendering"),A.logger.debug("Starting DOM parsing"),_=BN(A,d),p===_.styles.backgroundColor&&(_.styles.backgroundColor=aA.TRANSPARENT),A.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),x=new kZ(A,w),[4,x.render(_)];case 4:v=ee.sent(),ee.label=5;case 5:return(!((Ae=e.removeContainer)!==null&&Ae!==void 0)||Ae)&&(h9.destroy(h)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,v]}})})},jZ=function(i,e,t){var n=e.ownerDocument,r=n.documentElement?Xd(i,getComputedStyle(n.documentElement).backgroundColor):aA.TRANSPARENT,s=n.body?Xd(i,getComputedStyle(n.body).backgroundColor):aA.TRANSPARENT,a=typeof t=="string"?Xd(i,t):t===null?aA.TRANSPARENT:4294967295;return e===n.documentElement?s0(r)?s0(s)?a:s:r:a};class ZZ{constructor(e,t){this.config=e,this.config={dataset:e.dataset,chartConditions:e.chartConditions,filters:e.filters,summary:e.summary,floor:e.floor,mutations:e.mutations,mutationCoverage:e.mutationCoverage,parentElement:e.parentElement,excludedAminoAcids:e.excludedAminoAcids,width:1100,height:300,scaling:{top:.08,left:.1,bottom:.15,right:.06,innerTop:.05,innerRight:.08,focusContextRatio:.15,focusHeatmapRatio:.03}},this.data=JSON.parse(JSON.stringify(t)),this.dispatch=gg("updateSites"),this.selection=[],this.initVis()}initVis(){let e=this;document.querySelector(this.config.parentElement).innerHTML="",Am(".tooltip").remove(),e.margin={top:e.config.height*e.config.scaling.top,left:e.config.width*e.config.scaling.left,bottom:e.config.height*e.config.scaling.bottom,right:e.config.width*e.config.scaling.right,innerTop:e.config.height*e.config.scaling.innerTop,innerRight:e.config.width*e.config.scaling.innerRight};const t=e.config.height-e.margin.top-e.margin.bottom-e.margin.innerTop,n=e.config.width-e.margin.left-e.margin.right-e.margin.innerRight;e.bounds={context:{height:t*e.config.scaling.focusContextRatio,width:n*(1-e.config.scaling.focusHeatmapRatio)},focus:{height:t*(1-e.config.scaling.focusContextRatio),width:n*(1-e.config.scaling.focusHeatmapRatio)},heatmap:{height:e.config.height-e.margin.top-e.margin.bottom,width:n*e.config.scaling.focusHeatmapRatio}},e.aspect=e.config.width/e.config.height,e.svg=It(e.config.parentElement).append("svg").attr("width",e.config.width).attr("height",e.config.height).attr("class","wrapper"),e.svg.attr("viewBox",`0 0 ${e.config.width} ${e.config.height}`).attr("preserveAspectRatio","xMidYMid").call(function(){e.resize()}),e.boundedArea=e.svg.append("g").style("transform",`translate(${e.margin.left}px, ${e.margin.top}px)`);const r=n/2,s=-8;e.title=e.boundedArea.append("text").attr("class","chart-title").attr("x",r).attr("y",s).attr("text-anchor","middle").attr("font-size","16px").attr("font-weight","bold"),e.contextPlot=e.boundedArea.append("g").attr("class","context"),e.contextPlot.append("clipPath").attr("id","contextClipPath").append("rect").attr("width",e.bounds.context.width).attr("height",e.bounds.context.height),e.contextAreaG=e.contextPlot.append("g").attr("class","context-area-group"),e.focusPlot=e.boundedArea.append("g").style("transform",`translateY(${e.margin.innerTop+e.bounds.context.height}px)`).attr("class","focus").on("dblclick",function(){e.deselectSites()}),e.focusPlot.append("clipPath").attr("id","focusClipPath").append("rect").attr("transform","translate(0,"+-5+")").attr("width",e.bounds.focus.width).attr("height",e.bounds.focus.height+5),e.focusLineG=e.focusPlot.append("g").attr("class","focus-line-group"),e.focusCircleG=e.focusPlot.append("g").attr("class","focus-circle-group"),e.focusLegend=e.focusPlot.append("g").attr("class","legend").attr("transform",`translate(0,${e.bounds.focus.height+e.margin.bottom})`),e.heatmapPlot=e.boundedArea.append("g").style("transform",`translateX(${e.margin.innerRight+e.bounds.context.width}px)`).attr("class","heatmap"),e.heatmapPlot.append("rect").attr("width",e.bounds.heatmap.width).attr("height",e.bounds.heatmap.height).style("fill","none").style("stroke","black"),e.heatmapPlotG=e.heatmapPlot.append("g").attr("class","heatmap-group"),e.mutantRectG=e.heatmapPlotG.append("g").attr("class","rect-container"),e.wildtypetTextG=e.heatmapPlotG.append("g").attr("class","text-container"),e.heatmapLegend=e.heatmapPlot.append("g").attr("class","legend").attr("transform",`translate(${e.bounds.heatmap.width+10})`),e.legendLinearGradient=e.heatmapLegend.append("defs").append("linearGradient").attr("id","linear-gradient").attr("x1","0%").attr("y1","100%").attr("x2","0%").attr("y2","0%"),e.legendColorRamp=e.heatmapLegend.append("rect").attr("width",`${e.bounds.heatmap.width/2}px`).attr("height",`${e.bounds.heatmap.height/2}px`).style("fill","url(#linear-gradient)"),e.focusTooltip=It("body").append("div").attr("class","focus-tooltip").style("position","absolute").style("opacity",0),e.heatmapTooltip=It("body").append("div").attr("class","heatmap-tooltip").style("position","absolute").style("opacity",0),e.yScaleContext=tA().range([e.bounds.context.height,0]),e.xScaleContext=tA().range([0,e.bounds.context.width]).nice(),e.xScaleFocus=tA().range([0,e.bounds.focus.width]).nice(),e.yScaleFocus=tA().range([e.bounds.focus.height,0]),e.xScaleHeatmap=bb().range([0,e.bounds.heatmap.width]).padding(.1),e.yScaleHeatmap=bb().range([0,e.bounds.heatmap.height]).padding(.1),e.colorScaleHeatmap=tA(),e.legendScaleHeatmap=e.colorScaleHeatmap.copy(),e.xAxisContext=w3(e.xScaleContext).tickSizeOuter(0),e.xAxisContextG=e.contextPlot.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${e.bounds.context.height})`),e.yAxisContext=b3(e.yScaleContext).ticks(2).tickSizeOuter(0),e.yAxisContextG=e.contextPlot.append("g").attr("class","axis y-axis"),e.xAxisFocus=w3(e.xScaleFocus).tickSizeOuter(0),e.xAxisFocusG=e.focusPlot.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${e.bounds.focus.height})`),e.xAxisFocusG.append("text").attr("class","axis-label").attr("x",e.bounds.focus.width/2).attr("y",40).attr("fill","black").attr("font-size","16px").attr("text-anchor","middle").text("Site"),e.yAxisFocus=b3(e.yScaleFocus).tickSizeOuter(0).ticks(3).tickFormat(a=>{var o=Math.abs(a),A=a.toString().split(".")[1]?a.toString().split(".")[1].length:0;return(o>1e3||o<.001)&&o!==0?nA(".2e")(a):A>3?nA(".3f")(a):nA("")(a)}),e.yAxisFocusG=e.focusPlot.append("g").attr("class","axis y-axis"),e.yAxisFocusG.append("text").attr("class","axis-label").attr("transform","rotate(-90)").attr("x",-(e.bounds.focus.height/2)).attr("y",-60).attr("fill","black").attr("font-size","16px").attr("text-anchor","middle"),e.xAxisHeatmap=w3(e.xScaleHeatmap).tickSizeOuter(0),e.xAxisHeatmapG=e.heatmapPlot.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${e.bounds.heatmap.height})`),e.yAxisHeatmap=b3(e.yScaleHeatmap).tickSizeOuter(0),e.yAxisHeatmapG=e.heatmapPlot.append("g").attr("class","axis y-axis"),e.yAxisHeatmapLegend=oQ(e.legendScaleHeatmap).tickSize(0),e.yAxisHeatmapLegendG=e.heatmapLegend.append("g").attr("transform",`translate(${e.bounds.heatmap.width/2})`).attr("class","axis legend-axis"),e.brushG=e.contextPlot.append("g").attr("class","brush context-brush"),e.brush=DV().extent([[0,0],[e.bounds.context.width,e.bounds.context.height]]).on("brush",function(a){a.selection&&e.brushed(a.selection)}).on("end",function(a){a.selection||e.brushed(null)}),e.focusBrushG=e.focusCircleG.append("g").attr("class","brush focus-brush"),e.focusBrush=kV().extent([[0,0],[e.bounds.focus.width,e.bounds.focus.height+5]]).on("end",function(a){a.selection&&e.handleBrushedPoints(a)}).keyModifiers(!1),e.updateVis()}updateVis(){let e=this;e.originalMutMetric=e.data[e.config.dataset].mut_metric_df,e.mutMetric=e.originalMutMetric.map(u=>{let d={...u};for(let h in e.config.filters){let m=e.config.filters[h];if(d[h]<m){d.metric=null;break}}return d}),e.excludedAminoAcids=e.data[e.config.dataset].excludedAminoAcids,e.mutMetricSummary=LS(e.mutMetric,e.excludedAminoAcids).filter(u=>e.config.chartConditions.includes(u.condition)),e.config.mutationCoverage&&(e.mutMetricSummary=e.mutMetricSummary.filter(u=>u.count>=e.config.mutationCoverage)),e.mutMetricSummaryPerCondition=Array.from(HO(e.mutMetricSummary.map(u=>({condition:u.condition,site:u.site,[e.config.summary]:u[e.config.summary],count:u.count})),u=>u.condition),([u,d])=>({condition:u,data:d}));const[t,n]=Yo(e.mutMetricSummary,u=>u.site);if(e.mutMetricSummaryPerCondition.forEach(u=>{let d=u.data;const h=u.condition;let m=new Map(d.map(y=>[y.site,y]));for(let y=t;y<=n;y++)m.has(y)||d.push({condition:h,site:y,[e.config.summary]:null,count:null});d.sort((y,g)=>y.site-g.site)}),e.filteredMutMetricSummary=e.mutMetricSummary.filter(u=>u[e.config.summary]!==null),e.filteredMutMetricSummary.length===0){e.renderEmpty();return}e.initSiteSelection=e.mutMetricSummary.filter(u=>u[e.config.summary]===Or(e.mutMetricSummary,d=>d[e.config.summary]))[0].site,e.initConditionSelection=e.mutMetricSummary.filter(u=>u[e.config.summary]===Or(e.mutMetricSummary,d=>d[e.config.summary]))[0].condition,e.mutMetricHeatmap=e.mutMetric.filter(u=>u.site===e.initSiteSelection&&u.condition===e.initConditionSelection),e.positiveColor=e.data[e.config.dataset].condition_colors[e.initConditionSelection],e.data[e.config.dataset].negative_condition_colors?e.negativeColor=e.data[e.config.dataset].negative_condition_colors[e.initConditionSelection]:e.negativeColor=Gb(e.positiveColor),e.alphabet=e.data[e.config.dataset].alphabet,e.wildtype=e.mutMetricHeatmap.map(u=>u.wildtype)[0],e.siteMap=new Map,Object.entries(e.data[e.config.dataset].sitemap).forEach(u=>{const[d,h]=u;e.siteMap.set(h.sequential_site,d)}),e.xAccessorContext=u=>u.site,e.yAccessorContext=u=>e.config.mutations?u.count:e.config.floor&&u[e.config.summary]<0?0:u[e.config.summary],e.xAccessorFocus=u=>u.site,e.yAccessorFocus=u=>e.config.floor&&u[e.config.summary]<0?0:u[e.config.summary],e.xAccessorHeatmap=u=>u.site,e.yAccessorHeatmap=u=>u.mutant,e.colorAccessorHeatmap=u=>e.config.floor&&u.metric<0?0:u.metric;const r=Yo(e.mutMetricSummary,e.xAccessorFocus),s=r[1]-r[0],a=Yo(e.mutMetricSummary,e.yAccessorFocus),o=a[1]-a[0],A=Yo(e.mutMetricSummary,e.yAccessorContext),c=A[1]-A[0];e.yScaleContext.domain([A[0],A[1]+c*.05]),e.xScaleContext.domain([r[0],r[1]+s*.05]),e.xScaleFocus.domain([r[0],r[1]+s*.05]),e.yScaleFocus.domain([a[0],a[1]+o*.05]),e.xScaleHeatmap.domain([Or(e.mutMetricHeatmap,e.xAccessorHeatmap)]),e.yScaleHeatmap.domain(e.alphabet),e.data[e.config.dataset].heatmap_limits?(e.data[e.config.dataset].heatmap_limits=e.data[e.config.dataset].heatmap_limits.map(u=>+u),e.data[e.config.dataset].heatmap_limits.length===1?(e.heatmapCenter=e.data[e.config.dataset].heatmap_limits[0],e.heatmapMin=-Or(Yo(e.originalMutMetric,e.colorAccessorHeatmap).map(Math.abs)),e.heatmapMax=Or(Yo(e.originalMutMetric,e.colorAccessorHeatmap).map(Math.abs)),(e.heatmapCenter<e.heatmapMin||e.heatmapCenter>e.heatmapMax)&&(e.heatmapCenter=0)):e.data[e.config.dataset].heatmap_limits.length===2?(e.heatmapMin=e.data[e.config.dataset].heatmap_limits[0],e.heatmapMax=e.data[e.config.dataset].heatmap_limits[1],e.heatmapMin>0?e.heatmapCenter=(e.heatmapMax+e.heatmapMin)/2:e.heatmapCenter=0):e.data[e.config.dataset].heatmap_limits.length===3&&(e.heatmapMin=e.data[e.config.dataset].heatmap_limits[0],e.heatmapCenter=e.data[e.config.dataset].heatmap_limits[1],e.heatmapMax=e.data[e.config.dataset].heatmap_limits[2])):(e.heatmapCenter=0,e.heatmapMin=-Or(Yo(e.originalMutMetric,e.colorAccessorHeatmap).map(Math.abs)),e.heatmapMax=Or(Yo(e.originalMutMetric,e.colorAccessorHeatmap).map(Math.abs))),e.config.floor?e.colorScaleHeatmap.domain([e.heatmapCenter,e.heatmapMax]).range(["white",e.positiveColor]):e.colorScaleHeatmap.domain([e.heatmapMin,e.heatmapCenter,e.heatmapMax]).range([e.negativeColor,"white",e.positiveColor]);const l=e.colorScaleHeatmap.domain().map(u=>{const d=e.colorScaleHeatmap.domain(),h=(u-d[0])/(d[d.length-1]-d[0]);return e.bounds.heatmap.height/2*(1-h)});e.legendScaleHeatmap.domain(e.colorScaleHeatmap.domain()).range(l),e.tooltipContent=u=>{const d=`<strong>${e.data[e.config.dataset].metric_col}:</strong> ${u.metric!==null?u.metric.toFixed(2):"Filtered"}</br>`;if(e.data[e.config.dataset].tooltip_cols){const h=Object.entries(e.data[e.config.dataset].tooltip_cols).map(([m,y])=>`<strong>${y}:</strong> ${typeof u[m]=="number"?u[m].toFixed(2):u[m]}</br>`);return d+h.join("")}else return d},e.contextArea=lK().curve(gm).x(u=>e.xScaleContext(e.xAccessorContext(u))).y0(e.yScaleContext(0)).y1(u=>e.yScaleContext(e.yAccessorContext(u)||0)),e.focusLine=PC().curve(gm).x(u=>e.xScaleFocus(e.xAccessorFocus(u))).y(u=>e.yScaleFocus(e.yAccessorFocus(u)||0)),e.renderVis()}renderVis(){let e=this;e.focusPlot.select(".empty-message").remove(),e.contextAreaG.selectAll(".context-area").data(e.mutMetricSummaryPerCondition,n=>`${n.condition}-${n.site}`).join("path").attr("class","context-area").attr("clip-path","url(#contextClipPath)").attr("d",n=>e.contextArea(n.data)).attr("fill",n=>e.config.mutations?"#8a8a8a":e.data[e.config.dataset].condition_colors[n.condition]),e.focusLineG.selectAll(".focus-line").data(e.mutMetricSummaryPerCondition,n=>`${n.condition}-${n.site}`).join("path").attr("class","focus-line").attr("clip-path","url(#focusClipPath)").attr("fill","none").attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-opacity",1).attr("d",n=>e.focusLine(n.data)).attr("stroke",n=>e.data[e.config.dataset].condition_colors[n.condition]),e.focusCircleG.selectAll("circle").data(e.filteredMutMetricSummary,n=>`${n.condition}-${n.site}`).join(n=>n.append("circle").attr("cy",r=>e.yScaleFocus(e.yAccessorFocus(r))),n=>n.call(r=>r.attr("cy",s=>e.yScaleFocus(e.yAccessorFocus(s)))),n=>n.remove()).attr("cx",n=>e.xScaleFocus(e.xAccessorFocus(n))).attr("r",5).attr("clip-path","url(#focusClipPath)").attr("fill","white").attr("stroke",n=>e.data[e.config.dataset].condition_colors[n.condition]).attr("stroke-width",2).on("mouseover",(n,r)=>{e.focusTooltip.style("opacity",1).html(`<strong>Site:</strong> ${r.site_reference}<br><strong>${e.data[e.config.dataset].metric_col} ${e.config.summary}:</strong> ${r[e.config.summary].toFixed(2)}<br><strong>Wildtype:</strong> ${r.wildtype}<br><strong>Mutations:</strong> ${r.count}`).style("border-color",e.data[e.config.dataset].condition_colors[r.condition])}).on("mousemove",n=>{e.focusTooltip.style("top",n.pageY-10+"px").style("left",n.pageX+10+"px")}).on("mouseout",()=>{e.focusTooltip.style("opacity",0)}).on("click",function(n,r){e.updateHeatmap(r),n.altKey?e.deselectSites(It(this)):e.selectSites(It(this))}),e.focusPlot.selectAll("circle").filter(n=>e.selection.map(r=>r.site).includes(n.site)).attr("fill",n=>e.data[e.config.dataset].condition_colors[n.condition]).classed("selected",!0),e.focusPlot.selectAll("circle").filter(n=>n.site===e.initSiteSelection&&n.condition===e.initConditionSelection).classed("heatmap-site",!0).attr("r",8).attr("stroke","black").attr("stroke-width",4),e.mutantRectG.selectAll(".mutant-rect").data(e.mutMetricHeatmap,n=>n.mutation).join(n=>n.append("rect").attr("class","mutant-rect").style("fill",r=>e.colorAccessorHeatmap(r)!==null?e.colorScaleHeatmap(e.colorAccessorHeatmap(r)):"grey").style("stroke","black"),n=>n.call(r=>r.style("fill",s=>e.colorAccessorHeatmap(s)!==null?e.colorScaleHeatmap(e.colorAccessorHeatmap(s)):"grey")),n=>n.remove()).attr("x",n=>e.xScaleHeatmap(e.xAccessorHeatmap(n))).attr("y",n=>e.yScaleHeatmap(e.yAccessorHeatmap(n))).attr("width",e.xScaleHeatmap.bandwidth()).attr("height",e.yScaleHeatmap.bandwidth()).on("mouseover",(n,r)=>{e.heatmapTooltip.style("opacity",1).html(e.tooltipContent(r)).style("border-color",e.positiveColor).style("font-size","1em")}).on("mousemove",n=>{e.heatmapTooltip.style("top",n.pageY-10+"px").style("left",n.pageX+10+"px")}).on("mouseout",()=>{e.heatmapTooltip.style("opacity",0)}),e.wildtypetTextG.selectAll(".wildtype-text").data([e.wildtype],n=>n).join("text").attr("class","wildtype-text").attr("transform",`translate(${e.bounds.heatmap.width/2}, ${e.yScaleHeatmap.bandwidth()/2})`).attr("y",n=>e.yScaleHeatmap(n)).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("font-size","1em").attr("font-weight","bold").text("x"),e.xAxisContextG.call(e.xAxisContext).call(n=>n.select(".domain").style("stroke-width",".5")).call(n=>n.selectAll(".tick").remove()),e.yAxisContextG.call(e.yAxisContext),e.xAxisFocusG.call(e.xAxisFocus.tickFormat(function(n){return e.siteMap.get(n)})),e.yAxisFocusG.call(e.yAxisFocus),e.yAxisFocusG.select(".axis-label").text(`${e.config.summary.charAt(0).toUpperCase()+e.config.summary.slice(1)} of ${e.data[e.config.dataset].metric_col}`),e.xAxisHeatmapG.call(e.xAxisHeatmap.tickFormat(function(n){return e.siteMap.get(n)})),e.yAxisHeatmapG.call(e.yAxisHeatmap),e.legendLinearGradient.selectAll("stop").data(e.colorScaleHeatmap.domain()).join("stop").attr("offset",(n,r)=>{if(e.config.floor)return r/(e.colorScaleHeatmap.range().length-1);if(r===0)return"0%";if(r===1){let s;return e.config.floor?s=50:s=(e.heatmapCenter-e.heatmapMin)/(e.heatmapMax-e.heatmapMin)*100,`${s}%`}else return"100%"}).attr("stop-color",n=>e.colorScaleHeatmap(n)),e.yAxisHeatmapLegendG.call(e.yAxisHeatmapLegend.tickValues([e.colorScaleHeatmap.domain()[0],e.colorScaleHeatmap.domain()[1],e.colorScaleHeatmap.domain()[e.colorScaleHeatmap.domain().length-1]])).call(n=>n.select(".domain").remove()),e.brushSelection=e.brushSelection||null,e.brushG.call(e.brush).call(e.brush.move,e.brushSelection),e.focusBrushG.call(e.focusBrush);const t=e.data[e.config.dataset].title;t?e.title.text(t):e.title.text("")}brushed(e){let t=this;if(e){const n=e.map(t.xScaleContext.invert,t.xScaleContext);t.xScaleFocus.domain(n)}else t.xScaleFocus.domain(t.xScaleContext.domain());t.brushSelection=e,t.focusPlot.selectAll(".focus-line").attr("d",n=>t.focusLine(n.data)),t.focusPlot.selectAll("circle").attr("cx",n=>t.xScaleFocus(t.xAccessorFocus(n))),t.xAxisFocusG.call(t.xAxisFocus)}renderEmpty(){let e=this;e.focusPlot.select(".empty-message").remove(),e.contextAreaG.selectAll(".context-area").remove(),e.focusLineG.selectAll(".focus-line").remove(),e.focusCircleG.selectAll("circle").remove(),e.heatmapPlotG.selectAll(".mutant-rect").remove(),e.heatmapPlotG.selectAll(".wildtype-text").remove(),e.yAxisFocusG.selectAll(".tick").remove(),e.yAxisContextG.selectAll(".tick").remove(),e.xAxisHeatmapG.selectAll(".tick").remove(),e.focusPlot.append("text").attr("class","empty-message").attr("x",e.bounds.focus.width/2).attr("y",e.bounds.focus.height/2).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-size","1.5em").attr("fill","darkred").text("All sites filtered out")}handleBrushedPoints(e){let t=this;t.focusPlot.select(".focus-brush").call(t.focusBrush.move,null);const[[n,r],[s,a]]=e.selection;let o=t.focusPlot.selectAll("circle").filter(A=>n<=t.xScaleFocus(t.xAccessorFocus(A))&&t.xScaleFocus(t.xAccessorFocus(A))<s&&r<=t.yScaleFocus(t.yAccessorFocus(A))&&t.yScaleFocus(t.yAccessorFocus(A))<a);e.sourceEvent.altKey?t.deselectSites(o):t.selectSites(o)}selectSites(e=null){let t=this;e?(t.focusPlot.selectAll("circle").filter(n=>e.data().map(r=>r.site).includes(n.site)).classed("selected",!0).attr("fill",n=>t.data[t.config.dataset].condition_colors[n.condition]),t.selection.push(...e.data()),this.dispatch.call("updateSites",this,t.selection)):(It("#selectAll").property("checked",!0),t.focusPlot.selectAll("circle").classed("selected",!0).attr("fill",n=>t.data[t.config.dataset].condition_colors[n.condition]),t.selection=t.focusPlot.selectAll(".selected").data(),this.dispatch.call("updateSites",this,t.selection))}deselectSites(e=null){let t=this;It("#selectAll").property("checked",!1),e?(t.focusPlot.selectAll("circle").filter(r=>e.data().map(s=>s.site).includes(r.site)).classed("selected",!1).attr("fill","white"),t.selection=t.selection.filter(r=>!e.data().map(a=>a.site).includes(r.site)),this.dispatch.call("updateSites",this,t.selection)):(t.focusPlot.selectAll(".selected").classed("selected",!1).attr("fill","white"),t.selection=[],this.dispatch.call("updateSites",this,t.selection));const n=new CustomEvent("sitesDeselected",{detail:{}});document.dispatchEvent(n)}updateHeatmap(e){let t=this;const n=e.site,r=e.condition;t.positiveColor=t.data[t.config.dataset].condition_colors[r],t.data[t.config.dataset].negative_condition_colors?t.negativeColor=t.data[t.config.dataset].negative_condition_colors[r]:t.negativeColor=Gb(t.positiveColor),t.wildtype=e.wildtype,t.focusPlot.selectAll(".heatmap-site").attr("r",5).attr("stroke-width",2).attr("stroke",s=>t.data[t.config.dataset].condition_colors[s.condition]).classed("heatmap-site",!1),t.focusPlot.selectAll("circle").filter(s=>s.site===n&&s.condition===r).classed("heatmap-site",!0).attr("r",8).attr("stroke","black").attr("stroke-width",4),t.mutMetricHeatmap=t.mutMetric.filter(s=>s.site===n&&s.condition===r),t.xScaleHeatmap.domain([n]),t.config.floor?t.colorScaleHeatmap.range(["white",t.positiveColor]):t.colorScaleHeatmap.range([t.negativeColor,"white",t.positiveColor]),t.legendLinearGradient.selectAll("stop").data(t.colorScaleHeatmap.domain()).join(s=>s.append("stop").attr("offset",(a,o)=>{if(t.config.floor)return o/(t.colorScaleHeatmap.range().length-1);if(o===0)return"0%";if(o===1){let A;return t.config.floor?A=50:A=(t.heatmapCenter-t.heatmapMin)/(t.heatmapMax-t.heatmapMin)*100,`${A}%`}else return"100%"}).attr("stop-color",a=>t.colorScaleHeatmap(a)),s=>s.attr("offset",(a,o)=>{if(t.config.floor)return o/(t.colorScaleHeatmap.range().length-1);if(o===0)return"0%";if(o===1){let A;return t.config.floor?A=50:A=(t.heatmapCenter-t.heatmapMin)/(t.heatmapMax-t.heatmapMin)*100,`${A}%`}else return"100%"}).attr("stop-color",a=>t.colorScaleHeatmap(a)),s=>s.remove()),t.xAxisHeatmapG.call(t.xAxisHeatmap),t.mutantRectG.selectAll(".mutant-rect").data(t.mutMetricHeatmap,s=>s.mutation).join(s=>s.append("rect").attr("class","mutant-rect").style("fill",a=>t.colorAccessorHeatmap(a)!==null?t.colorScaleHeatmap(t.colorAccessorHeatmap(a)):"grey").style("stroke","black"),s=>s.call(a=>a.style("fill",o=>t.colorAccessorHeatmap(o)!==null?t.colorScaleHeatmap(t.colorAccessorHeatmap(o)):"grey")),s=>s.remove()).attr("x",s=>t.xScaleHeatmap(t.xAccessorHeatmap(s))).attr("y",s=>t.yScaleHeatmap(t.yAccessorHeatmap(s))).attr("width",t.xScaleHeatmap.bandwidth()).attr("height",t.yScaleHeatmap.bandwidth()).on("mouseover",(s,a)=>{t.heatmapTooltip.style("opacity",1).html(t.tooltipContent(a)).style("border-color",t.positiveColor).style("font-size","1em")}).on("mousemove",s=>{t.heatmapTooltip.style("top",s.pageY-10+"px").style("left",s.pageX+10+"px")}).on("mouseout",()=>{t.heatmapTooltip.style("opacity",0)}),t.wildtypetTextG.selectAll(".wildtype-text").data([t.wildtype],s=>s).join("text").attr("class","wildtype-text").attr("transform",`translate(${t.bounds.heatmap.width/2}, ${t.yScaleHeatmap.bandwidth()/2})`).attr("y",s=>t.yScaleHeatmap(s)).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("font-size","1em").attr("font-weight","bold").text("x")}resize(){let e=this;const t=It(e.config.parentElement).node();return e.config.width=t.offsetWidth,e.config.height=t.offsetHeight,e.svg.attr("width",e.config.width).attr("height",e.config.width/e.aspect),e.config.width/e.aspect}async saveImage(){let e=this;const n=It(e.config.parentElement).node().cloneNode(!0),s=300/96;n.style.transform=`scale(${s})`,n.style.transformOrigin="top left",n.style.position="fixed",n.style.top="-10000px",document.body.appendChild(n);const a=await YZ(n,{scale:s,useCORS:!0,logging:!1});document.body.removeChild(n);const o=await new Promise(c=>a.toBlob(c,"image/png")),A=document.createElement("a");A.href=URL.createObjectURL(o),A.download=`${e.config.dataset}_${e.data[e.config.dataset].metric_col}_${e.config.summary}.png`,A.click(),A.remove()}}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const W_="158",JZ=0,w9=1,eJ=2,QN=1,tJ=2,Xo=3,pA=0,zr=1,Za=2,oA=0,AA=1,nE=2,b9=3,E9=4,nJ=5,ic=100,iJ=101,rJ=102,_9=103,v9=104,sJ=200,aJ=201,oJ=202,AJ=203,iE=204,rE=205,cJ=206,lJ=207,uJ=208,dJ=209,fJ=210,hJ=211,pJ=212,mJ=213,gJ=214,yJ=0,wJ=1,bJ=2,Pm=3,EJ=4,_J=5,vJ=6,xJ=7,HN=0,RJ=1,BJ=2,a0=0,CJ=1,SJ=2,NJ=3,MJ=4,TJ=5,zN=300,cu=301,lu=302,sE=303,aE=304,Dg=306,oE=1e3,Fa=1001,AE=1002,oi=1003,x9=1004,c2=1005,Tr=1006,GJ=1007,vf=1008,La=1009,FJ=1010,IJ=1011,q_=1012,VN=1013,n0=1014,Pa=1015,_c=1016,KN=1017,$N=1018,fc=1020,UJ=1021,os=1023,PJ=1024,LJ=1025,hc=1026,uu=1027,DJ=1028,WN=1029,kJ=1030,qN=1031,YN=1033,l2=33776,u2=33777,d2=33778,f2=33779,R9=35840,B9=35841,C9=35842,S9=35843,OJ=36196,N9=37492,M9=37496,T9=37808,G9=37809,F9=37810,I9=37811,U9=37812,P9=37813,L9=37814,D9=37815,k9=37816,O9=37817,Q9=37818,H9=37819,z9=37820,V9=37821,h2=36492,K9=36494,$9=36495,QJ=36283,W9=36284,q9=36285,Y9=36286,XN=3e3,pc=3001,HJ=3200,zJ=3201,VJ=0,KJ=1,ia="",yr="srgb",mA="srgb-linear",Y_="display-p3",kg="display-p3-linear",Lm="linear",mi="srgb",Dm="rec709",km="p3",nl=7680,X9=519,$J=512,WJ=513,qJ=514,YJ=515,XJ=516,jJ=517,ZJ=518,JJ=519,XA=35044,il=35048,j9="300 es",cE=1035,iA=2e3,Om=2001;class _u{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}const Rr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],z1=Math.PI/180,lE=180/Math.PI;function Kf(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Rr[i&255]+Rr[i>>8&255]+Rr[i>>16&255]+Rr[i>>24&255]+"-"+Rr[e&255]+Rr[e>>8&255]+"-"+Rr[e>>16&15|64]+Rr[e>>24&255]+"-"+Rr[t&63|128]+Rr[t>>8&255]+"-"+Rr[t>>16&255]+Rr[t>>24&255]+Rr[n&255]+Rr[n>>8&255]+Rr[n>>16&255]+Rr[n>>24&255]).toLowerCase()}function ss(i,e,t){return Math.max(e,Math.min(t,i))}function eee(i,e){return(i%e+e)%e}function p2(i,e,t){return(1-t)*i+t*e}function Z9(i){return(i&i-1)===0&&i!==0}function uE(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function id(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function es(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}class bn{constructor(e=0,t=0){bn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(ss(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*n-a*r+e.x,this.y=s*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Nn{constructor(e,t,n,r,s,a,o,A,c){Nn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,a,o,A,c)}set(e,t,n,r,s,a,o,A,c){const l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=s,l[5]=A,l[6]=n,l[7]=a,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],o=n[3],A=n[6],c=n[1],l=n[4],u=n[7],d=n[2],h=n[5],m=n[8],y=r[0],g=r[3],E=r[6],R=r[1],p=r[4],w=r[7],v=r[2],_=r[5],x=r[8];return s[0]=a*y+o*R+A*v,s[3]=a*g+o*p+A*_,s[6]=a*E+o*w+A*x,s[1]=c*y+l*R+u*v,s[4]=c*g+l*p+u*_,s[7]=c*E+l*w+u*x,s[2]=d*y+h*R+m*v,s[5]=d*g+h*p+m*_,s[8]=d*E+h*w+m*x,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],A=e[6],c=e[7],l=e[8];return t*a*l-t*o*c-n*s*l+n*o*A+r*s*c-r*a*A}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],A=e[6],c=e[7],l=e[8],u=l*a-o*c,d=o*A-l*s,h=c*s-a*A,m=t*u+n*d+r*h;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/m;return e[0]=u*y,e[1]=(r*c-l*n)*y,e[2]=(o*n-r*a)*y,e[3]=d*y,e[4]=(l*t-r*A)*y,e[5]=(r*s-o*t)*y,e[6]=h*y,e[7]=(n*A-c*t)*y,e[8]=(a*t-n*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,a,o){const A=Math.cos(s),c=Math.sin(s);return this.set(n*A,n*c,-n*(A*a+c*o)+a+e,-r*c,r*A,-r*(-c*a+A*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(m2.makeScale(e,t)),this}rotate(e){return this.premultiply(m2.makeRotation(-e)),this}translate(e,t){return this.premultiply(m2.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const m2=new Nn;function jN(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}function Qm(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function tee(){const i=Qm("canvas");return i.style.display="block",i}const J9={};function ef(i){i in J9||(J9[i]=!0,console.warn(i))}const e8=new Nn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),t8=new Nn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Sp={[mA]:{transfer:Lm,primaries:Dm,toReference:i=>i,fromReference:i=>i},[yr]:{transfer:mi,primaries:Dm,toReference:i=>i.convertSRGBToLinear(),fromReference:i=>i.convertLinearToSRGB()},[kg]:{transfer:Lm,primaries:km,toReference:i=>i.applyMatrix3(t8),fromReference:i=>i.applyMatrix3(e8)},[Y_]:{transfer:mi,primaries:km,toReference:i=>i.convertSRGBToLinear().applyMatrix3(t8),fromReference:i=>i.applyMatrix3(e8).convertLinearToSRGB()}},nee=new Set([mA,kg]),ii={enabled:!0,_workingColorSpace:mA,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(i){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!i},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(i){if(!nee.has(i))throw new Error(`Unsupported working color space, "${i}".`);this._workingColorSpace=i},convert:function(i,e,t){if(this.enabled===!1||e===t||!e||!t)return i;const n=Sp[e].toReference,r=Sp[t].fromReference;return r(n(i))},fromWorkingColorSpace:function(i,e){return this.convert(i,this._workingColorSpace,e)},toWorkingColorSpace:function(i,e){return this.convert(i,e,this._workingColorSpace)},getPrimaries:function(i){return Sp[i].primaries},getTransfer:function(i){return i===ia?Lm:Sp[i].transfer}};function $l(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function g2(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let rl;class ZN{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{rl===void 0&&(rl=Qm("canvas")),rl.width=e.width,rl.height=e.height;const n=rl.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=rl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Qm("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=$l(s[a]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor($l(t[n]/255)*255):t[n]=$l(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let iee=0;class JN{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:iee++}),this.uuid=Kf(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(y2(r[a].image)):s.push(y2(r[a]))}else s=y2(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function y2(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?ZN.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ree=0;class Vr extends _u{constructor(e=Vr.DEFAULT_IMAGE,t=Vr.DEFAULT_MAPPING,n=Fa,r=Fa,s=Tr,a=vf,o=os,A=La,c=Vr.DEFAULT_ANISOTROPY,l=ia){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ree++}),this.uuid=Kf(),this.name="",this.source=new JN(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=A,this.offset=new bn(0,0),this.repeat=new bn(1,1),this.center=new bn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof l=="string"?this.colorSpace=l:(ef("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=l===pc?yr:ia),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==zN)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case oE:e.x=e.x-Math.floor(e.x);break;case Fa:e.x=e.x<0?0:1;break;case AE:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case oE:e.y=e.y-Math.floor(e.y);break;case Fa:e.y=e.y<0?0:1;break;case AE:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return ef("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===yr?pc:XN}set encoding(e){ef("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===pc?yr:ia}}Vr.DEFAULT_IMAGE=null;Vr.DEFAULT_MAPPING=zN;Vr.DEFAULT_ANISOTROPY=1;class ur{constructor(e=0,t=0,n=0,r=1){ur.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const A=e.elements,c=A[0],l=A[4],u=A[8],d=A[1],h=A[5],m=A[9],y=A[2],g=A[6],E=A[10];if(Math.abs(l-d)<.01&&Math.abs(u-y)<.01&&Math.abs(m-g)<.01){if(Math.abs(l+d)<.1&&Math.abs(u+y)<.1&&Math.abs(m+g)<.1&&Math.abs(c+h+E-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const p=(c+1)/2,w=(h+1)/2,v=(E+1)/2,_=(l+d)/4,x=(u+y)/4,C=(m+g)/4;return p>w&&p>v?p<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(p),r=_/n,s=x/n):w>v?w<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),n=_/r,s=C/r):v<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(v),n=x/s,r=C/s),this.set(n,r,s,t),this}let R=Math.sqrt((g-m)*(g-m)+(u-y)*(u-y)+(d-l)*(d-l));return Math.abs(R)<.001&&(R=1),this.x=(g-m)/R,this.y=(u-y)/R,this.z=(d-l)/R,this.w=Math.acos((c+h+E-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class see extends _u{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ur(0,0,e,t),this.scissorTest=!1,this.viewport=new ur(0,0,e,t);const r={width:e,height:t,depth:1};n.encoding!==void 0&&(ef("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===pc?yr:ia),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Tr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},n),this.texture=new Vr(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps,this.texture.internalFormat=n.internalFormat,this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new JN(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class oo extends see{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class eM extends Vr{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=oi,this.minFilter=oi,this.wrapR=Fa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class aee extends Vr{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=oi,this.minFilter=oi,this.wrapR=Fa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class $r{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,a,o){let A=n[r+0],c=n[r+1],l=n[r+2],u=n[r+3];const d=s[a+0],h=s[a+1],m=s[a+2],y=s[a+3];if(o===0){e[t+0]=A,e[t+1]=c,e[t+2]=l,e[t+3]=u;return}if(o===1){e[t+0]=d,e[t+1]=h,e[t+2]=m,e[t+3]=y;return}if(u!==y||A!==d||c!==h||l!==m){let g=1-o;const E=A*d+c*h+l*m+u*y,R=E>=0?1:-1,p=1-E*E;if(p>Number.EPSILON){const v=Math.sqrt(p),_=Math.atan2(v,E*R);g=Math.sin(g*_)/v,o=Math.sin(o*_)/v}const w=o*R;if(A=A*g+d*w,c=c*g+h*w,l=l*g+m*w,u=u*g+y*w,g===1-o){const v=1/Math.sqrt(A*A+c*c+l*l+u*u);A*=v,c*=v,l*=v,u*=v}}e[t]=A,e[t+1]=c,e[t+2]=l,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,s,a){const o=n[r],A=n[r+1],c=n[r+2],l=n[r+3],u=s[a],d=s[a+1],h=s[a+2],m=s[a+3];return e[t]=o*m+l*u+A*h-c*d,e[t+1]=A*m+l*d+c*u-o*h,e[t+2]=c*m+l*h+o*d-A*u,e[t+3]=l*m-o*u-A*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,A=Math.sin,c=o(n/2),l=o(r/2),u=o(s/2),d=A(n/2),h=A(r/2),m=A(s/2);switch(a){case"XYZ":this._x=d*l*u+c*h*m,this._y=c*h*u-d*l*m,this._z=c*l*m+d*h*u,this._w=c*l*u-d*h*m;break;case"YXZ":this._x=d*l*u+c*h*m,this._y=c*h*u-d*l*m,this._z=c*l*m-d*h*u,this._w=c*l*u+d*h*m;break;case"ZXY":this._x=d*l*u-c*h*m,this._y=c*h*u+d*l*m,this._z=c*l*m+d*h*u,this._w=c*l*u-d*h*m;break;case"ZYX":this._x=d*l*u-c*h*m,this._y=c*h*u+d*l*m,this._z=c*l*m-d*h*u,this._w=c*l*u+d*h*m;break;case"YZX":this._x=d*l*u+c*h*m,this._y=c*h*u+d*l*m,this._z=c*l*m-d*h*u,this._w=c*l*u-d*h*m;break;case"XZY":this._x=d*l*u-c*h*m,this._y=c*h*u-d*l*m,this._z=c*l*m+d*h*u,this._w=c*l*u+d*h*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],a=t[1],o=t[5],A=t[9],c=t[2],l=t[6],u=t[10],d=n+o+u;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(l-A)*h,this._y=(s-c)*h,this._z=(a-r)*h}else if(n>o&&n>u){const h=2*Math.sqrt(1+n-o-u);this._w=(l-A)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(s+c)/h}else if(o>u){const h=2*Math.sqrt(1+o-n-u);this._w=(s-c)/h,this._x=(r+a)/h,this._y=.25*h,this._z=(A+l)/h}else{const h=2*Math.sqrt(1+u-n-o);this._w=(a-r)/h,this._x=(s+c)/h,this._y=(A+l)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ss(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,a=e._w,o=t._x,A=t._y,c=t._z,l=t._w;return this._x=n*l+a*o+r*c-s*A,this._y=r*l+a*A+s*o-n*c,this._z=s*l+a*c+n*A-r*o,this._w=a*l-n*o-r*A-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+n*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=s,this;const A=1-o*o;if(A<=Number.EPSILON){const h=1-t;return this._w=h*a+t*this._w,this._x=h*n+t*this._x,this._y=h*r+t*this._y,this._z=h*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(A),l=Math.atan2(c,o),u=Math.sin((1-t)*l)/c,d=Math.sin(t*l)/c;return this._w=a*u+this._w*d,this._x=n*u+this._x*d,this._y=r*u+this._y*d,this._z=s*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(s),n*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ne{constructor(e=0,t=0,n=0){ne.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(n8.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(n8.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,a=e.y,o=e.z,A=e.w,c=2*(a*r-o*n),l=2*(o*t-s*r),u=2*(s*n-a*t);return this.x=t+A*c+a*u-o*l,this.y=n+A*l+o*c-s*u,this.z=r+A*u+s*l-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,a=t.x,o=t.y,A=t.z;return this.x=r*A-s*o,this.y=s*a-n*A,this.z=n*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return w2.copy(this).projectOnVector(e),this.sub(w2)}reflect(e){return this.sub(w2.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(ss(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const w2=new ne,n8=new $r;class Gi{constructor(e=new ne(1/0,1/0,1/0),t=new ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(ba.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(ba.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=ba.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,ba):ba.fromBufferAttribute(s,a),ba.applyMatrix4(e.matrixWorld),this.expandByPoint(ba);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Np.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),Np.copy(n.boundingBox)),Np.applyMatrix4(e.matrixWorld),this.union(Np)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ba),ba.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(rd),Mp.subVectors(this.max,rd),sl.subVectors(e.a,rd),al.subVectors(e.b,rd),ol.subVectors(e.c,rd),DA.subVectors(al,sl),kA.subVectors(ol,al),H0.subVectors(sl,ol);let t=[0,-DA.z,DA.y,0,-kA.z,kA.y,0,-H0.z,H0.y,DA.z,0,-DA.x,kA.z,0,-kA.x,H0.z,0,-H0.x,-DA.y,DA.x,0,-kA.y,kA.x,0,-H0.y,H0.x,0];return!b2(t,sl,al,ol,Mp)||(t=[1,0,0,0,1,0,0,0,1],!b2(t,sl,al,ol,Mp))?!1:(Tp.crossVectors(DA,kA),t=[Tp.x,Tp.y,Tp.z],b2(t,sl,al,ol,Mp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ba).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ba).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ko[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ko[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ko[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ko[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ko[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ko[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ko[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ko[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ko),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ko=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],ba=new ne,Np=new Gi,sl=new ne,al=new ne,ol=new ne,DA=new ne,kA=new ne,H0=new ne,rd=new ne,Mp=new ne,Tp=new ne,z0=new ne;function b2(i,e,t,n,r){for(let s=0,a=i.length-3;s<=a;s+=3){z0.fromArray(i,s);const o=r.x*Math.abs(z0.x)+r.y*Math.abs(z0.y)+r.z*Math.abs(z0.z),A=e.dot(z0),c=t.dot(z0),l=n.dot(z0);if(Math.max(-Math.max(A,c,l),Math.min(A,c,l))>o)return!1}return!0}const oee=new Gi,sd=new ne,E2=new ne;class $f{constructor(e=new ne,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):oee.setFromPoints(e).getCenter(n);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;sd.subVectors(e,this.center);const t=sd.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(sd,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(E2.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(sd.copy(e.center).add(E2)),this.expandByPoint(sd.copy(e.center).sub(E2))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Oo=new ne,_2=new ne,Gp=new ne,OA=new ne,v2=new ne,Fp=new ne,x2=new ne;class X_{constructor(e=new ne,t=new ne(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Oo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Oo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Oo.copy(this.origin).addScaledVector(this.direction,t),Oo.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){_2.copy(e).add(t).multiplyScalar(.5),Gp.copy(t).sub(e).normalize(),OA.copy(this.origin).sub(_2);const s=e.distanceTo(t)*.5,a=-this.direction.dot(Gp),o=OA.dot(this.direction),A=-OA.dot(Gp),c=OA.lengthSq(),l=Math.abs(1-a*a);let u,d,h,m;if(l>0)if(u=a*A-o,d=a*o-A,m=s*l,u>=0)if(d>=-m)if(d<=m){const y=1/l;u*=y,d*=y,h=u*(u+a*d+2*o)+d*(a*u+d+2*A)+c}else d=s,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*A)+c;else d=-s,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*A)+c;else d<=-m?(u=Math.max(0,-(-a*s+o)),d=u>0?-s:Math.min(Math.max(-s,-A),s),h=-u*u+d*(d+2*A)+c):d<=m?(u=0,d=Math.min(Math.max(-s,-A),s),h=d*(d+2*A)+c):(u=Math.max(0,-(a*s+o)),d=u>0?s:Math.min(Math.max(-s,-A),s),h=-u*u+d*(d+2*A)+c);else d=a>0?-s:s,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*A)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(_2).addScaledVector(Gp,d),h}intersectSphere(e,t){Oo.subVectors(e.center,this.origin);const n=Oo.dot(this.direction),r=Oo.dot(Oo)-n*n,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=n-a,A=n+a;return A<0?null:o<0?this.at(A,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,a,o,A;const c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,d=this.origin;return c>=0?(n=(e.min.x-d.x)*c,r=(e.max.x-d.x)*c):(n=(e.max.x-d.x)*c,r=(e.min.x-d.x)*c),l>=0?(s=(e.min.y-d.y)*l,a=(e.max.y-d.y)*l):(s=(e.max.y-d.y)*l,a=(e.min.y-d.y)*l),n>a||s>r||((s>n||isNaN(n))&&(n=s),(a<r||isNaN(r))&&(r=a),u>=0?(o=(e.min.z-d.z)*u,A=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,A=(e.min.z-d.z)*u),n>A||o>r)||((o>n||n!==n)&&(n=o),(A<r||r!==r)&&(r=A),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,Oo)!==null}intersectTriangle(e,t,n,r,s){v2.subVectors(t,e),Fp.subVectors(n,e),x2.crossVectors(v2,Fp);let a=this.direction.dot(x2),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;OA.subVectors(this.origin,e);const A=o*this.direction.dot(Fp.crossVectors(OA,Fp));if(A<0)return null;const c=o*this.direction.dot(v2.cross(OA));if(c<0||A+c>a)return null;const l=-o*OA.dot(x2);return l<0?null:this.at(l/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class xt{constructor(e,t,n,r,s,a,o,A,c,l,u,d,h,m,y,g){xt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,a,o,A,c,l,u,d,h,m,y,g)}set(e,t,n,r,s,a,o,A,c,l,u,d,h,m,y,g){const E=this.elements;return E[0]=e,E[4]=t,E[8]=n,E[12]=r,E[1]=s,E[5]=a,E[9]=o,E[13]=A,E[2]=c,E[6]=l,E[10]=u,E[14]=d,E[3]=h,E[7]=m,E[11]=y,E[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new xt().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Al.setFromMatrixColumn(e,0).length(),s=1/Al.setFromMatrixColumn(e,1).length(),a=1/Al.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,a=Math.cos(n),o=Math.sin(n),A=Math.cos(r),c=Math.sin(r),l=Math.cos(s),u=Math.sin(s);if(e.order==="XYZ"){const d=a*l,h=a*u,m=o*l,y=o*u;t[0]=A*l,t[4]=-A*u,t[8]=c,t[1]=h+m*c,t[5]=d-y*c,t[9]=-o*A,t[2]=y-d*c,t[6]=m+h*c,t[10]=a*A}else if(e.order==="YXZ"){const d=A*l,h=A*u,m=c*l,y=c*u;t[0]=d+y*o,t[4]=m*o-h,t[8]=a*c,t[1]=a*u,t[5]=a*l,t[9]=-o,t[2]=h*o-m,t[6]=y+d*o,t[10]=a*A}else if(e.order==="ZXY"){const d=A*l,h=A*u,m=c*l,y=c*u;t[0]=d-y*o,t[4]=-a*u,t[8]=m+h*o,t[1]=h+m*o,t[5]=a*l,t[9]=y-d*o,t[2]=-a*c,t[6]=o,t[10]=a*A}else if(e.order==="ZYX"){const d=a*l,h=a*u,m=o*l,y=o*u;t[0]=A*l,t[4]=m*c-h,t[8]=d*c+y,t[1]=A*u,t[5]=y*c+d,t[9]=h*c-m,t[2]=-c,t[6]=o*A,t[10]=a*A}else if(e.order==="YZX"){const d=a*A,h=a*c,m=o*A,y=o*c;t[0]=A*l,t[4]=y-d*u,t[8]=m*u+h,t[1]=u,t[5]=a*l,t[9]=-o*l,t[2]=-c*l,t[6]=h*u+m,t[10]=d-y*u}else if(e.order==="XZY"){const d=a*A,h=a*c,m=o*A,y=o*c;t[0]=A*l,t[4]=-u,t[8]=c*l,t[1]=d*u+y,t[5]=a*l,t[9]=h*u-m,t[2]=m*u-h,t[6]=o*l,t[10]=y*u+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Aee,e,cee)}lookAt(e,t,n){const r=this.elements;return _s.subVectors(e,t),_s.lengthSq()===0&&(_s.z=1),_s.normalize(),QA.crossVectors(n,_s),QA.lengthSq()===0&&(Math.abs(n.z)===1?_s.x+=1e-4:_s.z+=1e-4,_s.normalize(),QA.crossVectors(n,_s)),QA.normalize(),Ip.crossVectors(_s,QA),r[0]=QA.x,r[4]=Ip.x,r[8]=_s.x,r[1]=QA.y,r[5]=Ip.y,r[9]=_s.y,r[2]=QA.z,r[6]=Ip.z,r[10]=_s.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],o=n[4],A=n[8],c=n[12],l=n[1],u=n[5],d=n[9],h=n[13],m=n[2],y=n[6],g=n[10],E=n[14],R=n[3],p=n[7],w=n[11],v=n[15],_=r[0],x=r[4],C=r[8],B=r[12],G=r[1],I=r[5],N=r[9],T=r[13],M=r[2],U=r[6],z=r[10],L=r[14],k=r[3],K=r[7],V=r[11],D=r[15];return s[0]=a*_+o*G+A*M+c*k,s[4]=a*x+o*I+A*U+c*K,s[8]=a*C+o*N+A*z+c*V,s[12]=a*B+o*T+A*L+c*D,s[1]=l*_+u*G+d*M+h*k,s[5]=l*x+u*I+d*U+h*K,s[9]=l*C+u*N+d*z+h*V,s[13]=l*B+u*T+d*L+h*D,s[2]=m*_+y*G+g*M+E*k,s[6]=m*x+y*I+g*U+E*K,s[10]=m*C+y*N+g*z+E*V,s[14]=m*B+y*T+g*L+E*D,s[3]=R*_+p*G+w*M+v*k,s[7]=R*x+p*I+w*U+v*K,s[11]=R*C+p*N+w*z+v*V,s[15]=R*B+p*T+w*L+v*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],a=e[1],o=e[5],A=e[9],c=e[13],l=e[2],u=e[6],d=e[10],h=e[14],m=e[3],y=e[7],g=e[11],E=e[15];return m*(+s*A*u-r*c*u-s*o*d+n*c*d+r*o*h-n*A*h)+y*(+t*A*h-t*c*d+s*a*d-r*a*h+r*c*l-s*A*l)+g*(+t*c*u-t*o*h-s*a*u+n*a*h+s*o*l-n*c*l)+E*(-r*o*l-t*A*u+t*o*d+r*a*u-n*a*d+n*A*l)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],A=e[6],c=e[7],l=e[8],u=e[9],d=e[10],h=e[11],m=e[12],y=e[13],g=e[14],E=e[15],R=u*g*c-y*d*c+y*A*h-o*g*h-u*A*E+o*d*E,p=m*d*c-l*g*c-m*A*h+a*g*h+l*A*E-a*d*E,w=l*y*c-m*u*c+m*o*h-a*y*h-l*o*E+a*u*E,v=m*u*A-l*y*A-m*o*d+a*y*d+l*o*g-a*u*g,_=t*R+n*p+r*w+s*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/_;return e[0]=R*x,e[1]=(y*d*s-u*g*s-y*r*h+n*g*h+u*r*E-n*d*E)*x,e[2]=(o*g*s-y*A*s+y*r*c-n*g*c-o*r*E+n*A*E)*x,e[3]=(u*A*s-o*d*s-u*r*c+n*d*c+o*r*h-n*A*h)*x,e[4]=p*x,e[5]=(l*g*s-m*d*s+m*r*h-t*g*h-l*r*E+t*d*E)*x,e[6]=(m*A*s-a*g*s-m*r*c+t*g*c+a*r*E-t*A*E)*x,e[7]=(a*d*s-l*A*s+l*r*c-t*d*c-a*r*h+t*A*h)*x,e[8]=w*x,e[9]=(m*u*s-l*y*s-m*n*h+t*y*h+l*n*E-t*u*E)*x,e[10]=(a*y*s-m*o*s+m*n*c-t*y*c-a*n*E+t*o*E)*x,e[11]=(l*o*s-a*u*s-l*n*c+t*u*c+a*n*h-t*o*h)*x,e[12]=v*x,e[13]=(l*y*r-m*u*r+m*n*d-t*y*d-l*n*g+t*u*g)*x,e[14]=(m*o*r-a*y*r-m*n*A+t*y*A+a*n*g-t*o*g)*x,e[15]=(a*u*r-l*o*r+l*n*A-t*u*A-a*n*d+t*o*d)*x,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,a=e.x,o=e.y,A=e.z,c=s*a,l=s*o;return this.set(c*a+n,c*o-r*A,c*A+r*o,0,c*o+r*A,l*o+n,l*A-r*a,0,c*A-r*o,l*A+r*a,s*A*A+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,a){return this.set(1,n,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,a=t._y,o=t._z,A=t._w,c=s+s,l=a+a,u=o+o,d=s*c,h=s*l,m=s*u,y=a*l,g=a*u,E=o*u,R=A*c,p=A*l,w=A*u,v=n.x,_=n.y,x=n.z;return r[0]=(1-(y+E))*v,r[1]=(h+w)*v,r[2]=(m-p)*v,r[3]=0,r[4]=(h-w)*_,r[5]=(1-(d+E))*_,r[6]=(g+R)*_,r[7]=0,r[8]=(m+p)*x,r[9]=(g-R)*x,r[10]=(1-(d+y))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=Al.set(r[0],r[1],r[2]).length();const a=Al.set(r[4],r[5],r[6]).length(),o=Al.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ea.copy(this);const c=1/s,l=1/a,u=1/o;return Ea.elements[0]*=c,Ea.elements[1]*=c,Ea.elements[2]*=c,Ea.elements[4]*=l,Ea.elements[5]*=l,Ea.elements[6]*=l,Ea.elements[8]*=u,Ea.elements[9]*=u,Ea.elements[10]*=u,t.setFromRotationMatrix(Ea),n.x=s,n.y=a,n.z=o,this}makePerspective(e,t,n,r,s,a,o=iA){const A=this.elements,c=2*s/(t-e),l=2*s/(n-r),u=(t+e)/(t-e),d=(n+r)/(n-r);let h,m;if(o===iA)h=-(a+s)/(a-s),m=-2*a*s/(a-s);else if(o===Om)h=-a/(a-s),m=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return A[0]=c,A[4]=0,A[8]=u,A[12]=0,A[1]=0,A[5]=l,A[9]=d,A[13]=0,A[2]=0,A[6]=0,A[10]=h,A[14]=m,A[3]=0,A[7]=0,A[11]=-1,A[15]=0,this}makeOrthographic(e,t,n,r,s,a,o=iA){const A=this.elements,c=1/(t-e),l=1/(n-r),u=1/(a-s),d=(t+e)*c,h=(n+r)*l;let m,y;if(o===iA)m=(a+s)*u,y=-2*u;else if(o===Om)m=s*u,y=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return A[0]=2*c,A[4]=0,A[8]=0,A[12]=-d,A[1]=0,A[5]=2*l,A[9]=0,A[13]=-h,A[2]=0,A[6]=0,A[10]=y,A[14]=-m,A[3]=0,A[7]=0,A[11]=0,A[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Al=new ne,Ea=new xt,Aee=new ne(0,0,0),cee=new ne(1,1,1),QA=new ne,Ip=new ne,_s=new ne,i8=new xt,r8=new $r;class du{constructor(e=0,t=0,n=0,r=du.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],A=r[1],c=r[5],l=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(ss(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,h),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ss(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(A,c)):(this._y=Math.atan2(-u,s),this._z=0);break;case"ZXY":this._x=Math.asin(ss(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(A,s));break;case"ZYX":this._y=Math.asin(-ss(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(A,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(ss(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-ss(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-l,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return i8.makeRotationFromQuaternion(e),this.setFromRotationMatrix(i8,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return r8.setFromEuler(this),this.setFromQuaternion(r8,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}du.DEFAULT_ORDER="XYZ";class tM{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let lee=0;const s8=new ne,cl=new $r,Qo=new xt,Up=new ne,ad=new ne,uee=new ne,dee=new $r,a8=new ne(1,0,0),o8=new ne(0,1,0),A8=new ne(0,0,1),fee={type:"added"},hee={type:"removed"};class dr extends _u{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:lee++}),this.uuid=Kf(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=dr.DEFAULT_UP.clone();const e=new ne,t=new du,n=new $r,r=new ne(1,1,1);function s(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new xt},normalMatrix:{value:new Nn}}),this.matrix=new xt,this.matrixWorld=new xt,this.matrixAutoUpdate=dr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=dr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new tM,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return cl.setFromAxisAngle(e,t),this.quaternion.multiply(cl),this}rotateOnWorldAxis(e,t){return cl.setFromAxisAngle(e,t),this.quaternion.premultiply(cl),this}rotateX(e){return this.rotateOnAxis(a8,e)}rotateY(e){return this.rotateOnAxis(o8,e)}rotateZ(e){return this.rotateOnAxis(A8,e)}translateOnAxis(e,t){return s8.copy(e).applyQuaternion(this.quaternion),this.position.add(s8.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(a8,e)}translateY(e){return this.translateOnAxis(o8,e)}translateZ(e){return this.translateOnAxis(A8,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Qo.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Up.copy(e):Up.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),ad.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qo.lookAt(ad,Up,this.up):Qo.lookAt(Up,ad,this.up),this.quaternion.setFromRotationMatrix(Qo),r&&(Qo.extractRotation(r.matrixWorld),cl.setFromRotationMatrix(Qo),this.quaternion.premultiply(cl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(fee)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(hee)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Qo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Qo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Qo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ad,e,uee),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ad,dee,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const s=t[n];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++){const o=r[s];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(o,A){return o[A.uuid]===void 0&&(o[A.uuid]=A.toJSON(e)),A.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const A=o.shapes;if(Array.isArray(A))for(let c=0,l=A.length;c<l;c++){const u=A[c];s(e.shapes,u)}else s(e.shapes,A)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let A=0,c=this.material.length;A<c;A++)o.push(s(e.materials,this.material[A]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const A=this.animations[o];r.animations.push(s(e.animations,A))}}if(t){const o=a(e.geometries),A=a(e.materials),c=a(e.textures),l=a(e.images),u=a(e.shapes),d=a(e.skeletons),h=a(e.animations),m=a(e.nodes);o.length>0&&(n.geometries=o),A.length>0&&(n.materials=A),c.length>0&&(n.textures=c),l.length>0&&(n.images=l),u.length>0&&(n.shapes=u),d.length>0&&(n.skeletons=d),h.length>0&&(n.animations=h),m.length>0&&(n.nodes=m)}return n.object=r,n;function a(o){const A=[];for(const c in o){const l=o[c];delete l.metadata,A.push(l)}return A}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}dr.DEFAULT_UP=new ne(0,1,0);dr.DEFAULT_MATRIX_AUTO_UPDATE=!0;dr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _a=new ne,Ho=new ne,R2=new ne,zo=new ne,ll=new ne,ul=new ne,c8=new ne,B2=new ne,C2=new ne,S2=new ne;let Pp=!1;class Ma{constructor(e=new ne,t=new ne,n=new ne){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),_a.subVectors(e,t),r.cross(_a);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){_a.subVectors(r,t),Ho.subVectors(n,t),R2.subVectors(e,t);const a=_a.dot(_a),o=_a.dot(Ho),A=_a.dot(R2),c=Ho.dot(Ho),l=Ho.dot(R2),u=a*c-o*o;if(u===0)return s.set(-2,-1,-1);const d=1/u,h=(c*A-o*l)*d,m=(a*l-o*A)*d;return s.set(1-h-m,m,h)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,zo),zo.x>=0&&zo.y>=0&&zo.x+zo.y<=1}static getUV(e,t,n,r,s,a,o,A){return Pp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Pp=!0),this.getInterpolation(e,t,n,r,s,a,o,A)}static getInterpolation(e,t,n,r,s,a,o,A){return this.getBarycoord(e,t,n,r,zo),A.setScalar(0),A.addScaledVector(s,zo.x),A.addScaledVector(a,zo.y),A.addScaledVector(o,zo.z),A}static isFrontFacing(e,t,n,r){return _a.subVectors(n,t),Ho.subVectors(e,t),_a.cross(Ho).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _a.subVectors(this.c,this.b),Ho.subVectors(this.a,this.b),_a.cross(Ho).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ma.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ma.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,s){return Pp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Pp=!0),Ma.getInterpolation(e,this.a,this.b,this.c,t,n,r,s)}getInterpolation(e,t,n,r,s){return Ma.getInterpolation(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return Ma.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ma.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let a,o;ll.subVectors(r,n),ul.subVectors(s,n),B2.subVectors(e,n);const A=ll.dot(B2),c=ul.dot(B2);if(A<=0&&c<=0)return t.copy(n);C2.subVectors(e,r);const l=ll.dot(C2),u=ul.dot(C2);if(l>=0&&u<=l)return t.copy(r);const d=A*u-l*c;if(d<=0&&A>=0&&l<=0)return a=A/(A-l),t.copy(n).addScaledVector(ll,a);S2.subVectors(e,s);const h=ll.dot(S2),m=ul.dot(S2);if(m>=0&&h<=m)return t.copy(s);const y=h*c-A*m;if(y<=0&&c>=0&&m<=0)return o=c/(c-m),t.copy(n).addScaledVector(ul,o);const g=l*m-h*u;if(g<=0&&u-l>=0&&h-m>=0)return c8.subVectors(s,r),o=(u-l)/(u-l+(h-m)),t.copy(r).addScaledVector(c8,o);const E=1/(g+y+d);return a=y*E,o=d*E,t.copy(n).addScaledVector(ll,a).addScaledVector(ul,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const nM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},HA={h:0,s:0,l:0},Lp={h:0,s:0,l:0};function N2(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class $t{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=yr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ii.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=ii.workingColorSpace){return this.r=e,this.g=t,this.b=n,ii.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=ii.workingColorSpace){if(e=eee(e,1),t=ss(t,0,1),n=ss(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,a=2*n-s;this.r=N2(a,s,e+1/3),this.g=N2(a,s,e),this.b=N2(a,s,e-1/3)}return ii.toWorkingColorSpace(this,r),this}setStyle(e,t=yr){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=yr){const n=nM[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$l(e.r),this.g=$l(e.g),this.b=$l(e.b),this}copyLinearToSRGB(e){return this.r=g2(e.r),this.g=g2(e.g),this.b=g2(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=yr){return ii.fromWorkingColorSpace(Br.copy(this),e),Math.round(ss(Br.r*255,0,255))*65536+Math.round(ss(Br.g*255,0,255))*256+Math.round(ss(Br.b*255,0,255))}getHexString(e=yr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ii.workingColorSpace){ii.fromWorkingColorSpace(Br.copy(this),t);const n=Br.r,r=Br.g,s=Br.b,a=Math.max(n,r,s),o=Math.min(n,r,s);let A,c;const l=(o+a)/2;if(o===a)A=0,c=0;else{const u=a-o;switch(c=l<=.5?u/(a+o):u/(2-a-o),a){case n:A=(r-s)/u+(r<s?6:0);break;case r:A=(s-n)/u+2;break;case s:A=(n-r)/u+4;break}A/=6}return e.h=A,e.s=c,e.l=l,e}getRGB(e,t=ii.workingColorSpace){return ii.fromWorkingColorSpace(Br.copy(this),t),e.r=Br.r,e.g=Br.g,e.b=Br.b,e}getStyle(e=yr){ii.fromWorkingColorSpace(Br.copy(this),e);const t=Br.r,n=Br.g,r=Br.b;return e!==yr?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(HA),this.setHSL(HA.h+e,HA.s+t,HA.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(HA),e.getHSL(Lp);const n=p2(HA.h,Lp.h,t),r=p2(HA.s,Lp.s,t),s=p2(HA.l,Lp.l,t);return this.setHSL(n,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*r,this.g=s[1]*t+s[4]*n+s[7]*r,this.b=s[2]*t+s[5]*n+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Br=new $t;$t.NAMES=nM;let pee=0;class vu extends _u{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:pee++}),this.uuid=Kf(),this.name="",this.type="Material",this.blending=AA,this.side=pA,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=iE,this.blendDst=rE,this.blendEquation=ic,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new $t(0,0,0),this.blendAlpha=0,this.depthFunc=Pm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=X9,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=nl,this.stencilZFail=nl,this.stencilZPass=nl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==AA&&(n.blending=this.blending),this.side!==pA&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==iE&&(n.blendSrc=this.blendSrc),this.blendDst!==rE&&(n.blendDst=this.blendDst),this.blendEquation!==ic&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Pm&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==X9&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==nl&&(n.stencilFail=this.stencilFail),this.stencilZFail!==nl&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==nl&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const a=[];for(const o in s){const A=s[o];delete A.metadata,a.push(A)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(n.textures=s),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class iM extends vu{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new $t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=HN,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const $i=new ne,Dp=new bn;class zi{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=XA,this.updateRange={offset:0,count:-1},this.gpuType=Pa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Dp.fromBufferAttribute(this,t),Dp.applyMatrix3(e),this.setXY(t,Dp.x,Dp.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)$i.fromBufferAttribute(this,t),$i.applyMatrix3(e),this.setXYZ(t,$i.x,$i.y,$i.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)$i.fromBufferAttribute(this,t),$i.applyMatrix4(e),this.setXYZ(t,$i.x,$i.y,$i.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)$i.fromBufferAttribute(this,t),$i.applyNormalMatrix(e),this.setXYZ(t,$i.x,$i.y,$i.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)$i.fromBufferAttribute(this,t),$i.transformDirection(e),this.setXYZ(t,$i.x,$i.y,$i.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=id(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=es(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=id(t,this.array)),t}setX(e,t){return this.normalized&&(t=es(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=id(t,this.array)),t}setY(e,t){return this.normalized&&(t=es(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=id(t,this.array)),t}setZ(e,t){return this.normalized&&(t=es(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=id(t,this.array)),t}setW(e,t){return this.normalized&&(t=es(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=es(t,this.array),n=es(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=es(t,this.array),n=es(n,this.array),r=es(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=es(t,this.array),n=es(n,this.array),r=es(r,this.array),s=es(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==XA&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class rM extends zi{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class sM extends zi{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class fr extends zi{constructor(e,t,n){super(new Float32Array(e),t,n)}}let mee=0;const Ws=new xt,M2=new dr,dl=new ne,vs=new Gi,od=new Gi,or=new ne;class tr extends _u{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:mee++}),this.uuid=Kf(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(jN(e)?sM:rM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new Nn().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ws.makeRotationFromQuaternion(e),this.applyMatrix4(Ws),this}rotateX(e){return Ws.makeRotationX(e),this.applyMatrix4(Ws),this}rotateY(e){return Ws.makeRotationY(e),this.applyMatrix4(Ws),this}rotateZ(e){return Ws.makeRotationZ(e),this.applyMatrix4(Ws),this}translate(e,t,n){return Ws.makeTranslation(e,t,n),this.applyMatrix4(Ws),this}scale(e,t,n){return Ws.makeScale(e,t,n),this.applyMatrix4(Ws),this}lookAt(e){return M2.lookAt(e),M2.updateMatrix(),this.applyMatrix4(M2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(dl).negate(),this.translate(dl.x,dl.y,dl.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new fr(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const s=t[n];vs.setFromBufferAttribute(s),this.morphTargetsRelative?(or.addVectors(this.boundingBox.min,vs.min),this.boundingBox.expandByPoint(or),or.addVectors(this.boundingBox.max,vs.max),this.boundingBox.expandByPoint(or)):(this.boundingBox.expandByPoint(vs.min),this.boundingBox.expandByPoint(vs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $f);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ne,1/0);return}if(e){const n=this.boundingSphere.center;if(vs.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];od.setFromBufferAttribute(o),this.morphTargetsRelative?(or.addVectors(vs.min,od.min),vs.expandByPoint(or),or.addVectors(vs.max,od.max),vs.expandByPoint(or)):(vs.expandByPoint(od.min),vs.expandByPoint(od.max))}vs.getCenter(n);let r=0;for(let s=0,a=e.count;s<a;s++)or.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(or));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],A=this.morphTargetsRelative;for(let c=0,l=o.count;c<l;c++)or.fromBufferAttribute(o,c),A&&(dl.fromBufferAttribute(e,c),or.add(dl)),r=Math.max(r,n.distanceToSquared(or))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,r=t.position.array,s=t.normal.array,a=t.uv.array,o=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new zi(new Float32Array(4*o),4));const A=this.getAttribute("tangent").array,c=[],l=[];for(let G=0;G<o;G++)c[G]=new ne,l[G]=new ne;const u=new ne,d=new ne,h=new ne,m=new bn,y=new bn,g=new bn,E=new ne,R=new ne;function p(G,I,N){u.fromArray(r,G*3),d.fromArray(r,I*3),h.fromArray(r,N*3),m.fromArray(a,G*2),y.fromArray(a,I*2),g.fromArray(a,N*2),d.sub(u),h.sub(u),y.sub(m),g.sub(m);const T=1/(y.x*g.y-g.x*y.y);!isFinite(T)||(E.copy(d).multiplyScalar(g.y).addScaledVector(h,-y.y).multiplyScalar(T),R.copy(h).multiplyScalar(y.x).addScaledVector(d,-g.x).multiplyScalar(T),c[G].add(E),c[I].add(E),c[N].add(E),l[G].add(R),l[I].add(R),l[N].add(R))}let w=this.groups;w.length===0&&(w=[{start:0,count:n.length}]);for(let G=0,I=w.length;G<I;++G){const N=w[G],T=N.start,M=N.count;for(let U=T,z=T+M;U<z;U+=3)p(n[U+0],n[U+1],n[U+2])}const v=new ne,_=new ne,x=new ne,C=new ne;function B(G){x.fromArray(s,G*3),C.copy(x);const I=c[G];v.copy(I),v.sub(x.multiplyScalar(x.dot(I))).normalize(),_.crossVectors(C,I);const T=_.dot(l[G])<0?-1:1;A[G*4]=v.x,A[G*4+1]=v.y,A[G*4+2]=v.z,A[G*4+3]=T}for(let G=0,I=w.length;G<I;++G){const N=w[G],T=N.start,M=N.count;for(let U=T,z=T+M;U<z;U+=3)B(n[U+0]),B(n[U+1]),B(n[U+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new zi(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let d=0,h=n.count;d<h;d++)n.setXYZ(d,0,0,0);const r=new ne,s=new ne,a=new ne,o=new ne,A=new ne,c=new ne,l=new ne,u=new ne;if(e)for(let d=0,h=e.count;d<h;d+=3){const m=e.getX(d+0),y=e.getX(d+1),g=e.getX(d+2);r.fromBufferAttribute(t,m),s.fromBufferAttribute(t,y),a.fromBufferAttribute(t,g),l.subVectors(a,s),u.subVectors(r,s),l.cross(u),o.fromBufferAttribute(n,m),A.fromBufferAttribute(n,y),c.fromBufferAttribute(n,g),o.add(l),A.add(l),c.add(l),n.setXYZ(m,o.x,o.y,o.z),n.setXYZ(y,A.x,A.y,A.z),n.setXYZ(g,c.x,c.y,c.z)}else for(let d=0,h=t.count;d<h;d+=3)r.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),a.fromBufferAttribute(t,d+2),l.subVectors(a,s),u.subVectors(r,s),l.cross(u),n.setXYZ(d+0,l.x,l.y,l.z),n.setXYZ(d+1,l.x,l.y,l.z),n.setXYZ(d+2,l.x,l.y,l.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)or.fromBufferAttribute(e,t),or.normalize(),e.setXYZ(t,or.x,or.y,or.z)}toNonIndexed(){function e(o,A){const c=o.array,l=o.itemSize,u=o.normalized,d=new c.constructor(A.length*l);let h=0,m=0;for(let y=0,g=A.length;y<g;y++){o.isInterleavedBufferAttribute?h=A[y]*o.data.stride+o.offset:h=A[y]*l;for(let E=0;E<l;E++)d[m++]=c[h++]}return new zi(d,l,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new tr,n=this.index.array,r=this.attributes;for(const o in r){const A=r[o],c=e(A,n);t.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const A=[],c=s[o];for(let l=0,u=c.length;l<u;l++){const d=c[l],h=e(d,n);A.push(h)}t.morphAttributes[o]=A}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,A=a.length;o<A;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const A=this.parameters;for(const c in A)A[c]!==void 0&&(e[c]=A[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const A in n){const c=n[A];e.data.attributes[A]=c.toJSON(e.data)}const r={};let s=!1;for(const A in this.morphAttributes){const c=this.morphAttributes[A],l=[];for(let u=0,d=c.length;u<d;u++){const h=c[u];l.push(h.toJSON(e.data))}l.length>0&&(r[A]=l,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r){const l=r[c];this.setAttribute(c,l.clone(t))}const s=e.morphAttributes;for(const c in s){const l=[],u=s[c];for(let d=0,h=u.length;d<h;d++)l.push(u[d].clone(t));this.morphAttributes[c]=l}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,l=a.length;c<l;c++){const u=a[c];this.addGroup(u.start,u.count,u.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const A=e.boundingSphere;return A!==null&&(this.boundingSphere=A.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const l8=new xt,V0=new X_,kp=new $f,u8=new ne,fl=new ne,hl=new ne,pl=new ne,T2=new ne,Op=new ne,Qp=new bn,Hp=new bn,zp=new bn,d8=new ne,f8=new ne,h8=new ne,Vp=new ne,Kp=new ne;class io extends dr{constructor(e=new tr,t=new iM){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){Op.set(0,0,0);for(let A=0,c=s.length;A<c;A++){const l=o[A],u=s[A];l!==0&&(T2.fromBufferAttribute(u,e),a?Op.addScaledVector(T2,l):Op.addScaledVector(T2.sub(t),l))}t.add(Op)}return t}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),kp.copy(n.boundingSphere),kp.applyMatrix4(s),V0.copy(e.ray).recast(e.near),!(kp.containsPoint(V0.origin)===!1&&(V0.intersectSphere(kp,u8)===null||V0.origin.distanceToSquared(u8)>(e.far-e.near)**2))&&(l8.copy(s).invert(),V0.copy(e.ray).applyMatrix4(l8),!(n.boundingBox!==null&&V0.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,V0)))}_computeIntersections(e,t,n){let r;const s=this.geometry,a=this.material,o=s.index,A=s.attributes.position,c=s.attributes.uv,l=s.attributes.uv1,u=s.attributes.normal,d=s.groups,h=s.drawRange;if(o!==null)if(Array.isArray(a))for(let m=0,y=d.length;m<y;m++){const g=d[m],E=a[g.materialIndex],R=Math.max(g.start,h.start),p=Math.min(o.count,Math.min(g.start+g.count,h.start+h.count));for(let w=R,v=p;w<v;w+=3){const _=o.getX(w),x=o.getX(w+1),C=o.getX(w+2);r=$p(this,E,e,n,c,l,u,_,x,C),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=g.materialIndex,t.push(r))}}else{const m=Math.max(0,h.start),y=Math.min(o.count,h.start+h.count);for(let g=m,E=y;g<E;g+=3){const R=o.getX(g),p=o.getX(g+1),w=o.getX(g+2);r=$p(this,a,e,n,c,l,u,R,p,w),r&&(r.faceIndex=Math.floor(g/3),t.push(r))}}else if(A!==void 0)if(Array.isArray(a))for(let m=0,y=d.length;m<y;m++){const g=d[m],E=a[g.materialIndex],R=Math.max(g.start,h.start),p=Math.min(A.count,Math.min(g.start+g.count,h.start+h.count));for(let w=R,v=p;w<v;w+=3){const _=w,x=w+1,C=w+2;r=$p(this,E,e,n,c,l,u,_,x,C),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=g.materialIndex,t.push(r))}}else{const m=Math.max(0,h.start),y=Math.min(A.count,h.start+h.count);for(let g=m,E=y;g<E;g+=3){const R=g,p=g+1,w=g+2;r=$p(this,a,e,n,c,l,u,R,p,w),r&&(r.faceIndex=Math.floor(g/3),t.push(r))}}}}function gee(i,e,t,n,r,s,a,o){let A;if(e.side===zr?A=n.intersectTriangle(a,s,r,!0,o):A=n.intersectTriangle(r,s,a,e.side===pA,o),A===null)return null;Kp.copy(o),Kp.applyMatrix4(i.matrixWorld);const c=t.ray.origin.distanceTo(Kp);return c<t.near||c>t.far?null:{distance:c,point:Kp.clone(),object:i}}function $p(i,e,t,n,r,s,a,o,A,c){i.getVertexPosition(o,fl),i.getVertexPosition(A,hl),i.getVertexPosition(c,pl);const l=gee(i,e,t,n,fl,hl,pl,Vp);if(l){r&&(Qp.fromBufferAttribute(r,o),Hp.fromBufferAttribute(r,A),zp.fromBufferAttribute(r,c),l.uv=Ma.getInterpolation(Vp,fl,hl,pl,Qp,Hp,zp,new bn)),s&&(Qp.fromBufferAttribute(s,o),Hp.fromBufferAttribute(s,A),zp.fromBufferAttribute(s,c),l.uv1=Ma.getInterpolation(Vp,fl,hl,pl,Qp,Hp,zp,new bn),l.uv2=l.uv1),a&&(d8.fromBufferAttribute(a,o),f8.fromBufferAttribute(a,A),h8.fromBufferAttribute(a,c),l.normal=Ma.getInterpolation(Vp,fl,hl,pl,d8,f8,h8,new ne),l.normal.dot(n.direction)>0&&l.normal.multiplyScalar(-1));const u={a:o,b:A,c,normal:new ne,materialIndex:0};Ma.getNormal(fl,hl,pl,u.normal),l.face=u}return l}class xu extends tr{constructor(e=1,t=1,n=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const A=[],c=[],l=[],u=[];let d=0,h=0;m("z","y","x",-1,-1,n,t,e,a,s,0),m("z","y","x",1,-1,n,t,-e,a,s,1),m("x","z","y",1,1,e,n,t,r,a,2),m("x","z","y",1,-1,e,n,-t,r,a,3),m("x","y","z",1,-1,e,t,n,r,s,4),m("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(A),this.setAttribute("position",new fr(c,3)),this.setAttribute("normal",new fr(l,3)),this.setAttribute("uv",new fr(u,2));function m(y,g,E,R,p,w,v,_,x,C,B){const G=w/x,I=v/C,N=w/2,T=v/2,M=_/2,U=x+1,z=C+1;let L=0,k=0;const K=new ne;for(let V=0;V<z;V++){const D=V*I-T;for(let H=0;H<U;H++){const oe=H*G-N;K[y]=oe*R,K[g]=D*p,K[E]=M,c.push(K.x,K.y,K.z),K[y]=0,K[g]=0,K[E]=_>0?1:-1,l.push(K.x,K.y,K.z),u.push(H/x),u.push(1-V/C),L+=1}}for(let V=0;V<C;V++)for(let D=0;D<x;D++){const H=d+D+U*V,oe=d+D+U*(V+1),Ae=d+(D+1)+U*(V+1),ee=d+(D+1)+U*V;A.push(H,oe,ee),A.push(oe,Ae,ee),k+=6}o.addGroup(h,k,B),h+=k,d+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function fu(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function Lr(i){const e={};for(let t=0;t<i.length;t++){const n=fu(i[t]);for(const r in n)e[r]=n[r]}return e}function yee(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function aM(i){return i.getRenderTarget()===null?i.outputColorSpace:ii.workingColorSpace}const V1={clone:fu,merge:Lr};var wee=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,bee=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Aa extends vu{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=wee,this.fragmentShader=bee,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=fu(e.uniforms),this.uniformsGroups=yee(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class oM extends dr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new xt,this.projectionMatrix=new xt,this.projectionMatrixInverse=new xt,this.coordinateSystem=iA}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class as extends oM{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=lE*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(z1*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return lE*2*Math.atan(Math.tan(z1*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(z1*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const A=a.fullWidth,c=a.fullHeight;s+=a.offsetX*r/A,t-=a.offsetY*n/c,r*=a.width/A,n*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ml=-90,gl=1;class Eee extends dr{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new as(ml,gl,e,t);r.layers=this.layers,this.add(r);const s=new as(ml,gl,e,t);s.layers=this.layers,this.add(s);const a=new as(ml,gl,e,t);a.layers=this.layers,this.add(a);const o=new as(ml,gl,e,t);o.layers=this.layers,this.add(o);const A=new as(ml,gl,e,t);A.layers=this.layers,this.add(A);const c=new as(ml,gl,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,s,a,o,A]=t;for(const c of t)this.remove(c);if(e===iA)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),A.up.set(0,1,0),A.lookAt(0,0,-1);else if(e===Om)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),A.up.set(0,-1,0),A.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,A,c,l]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const y=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,s),e.setRenderTarget(n,1,r),e.render(t,a),e.setRenderTarget(n,2,r),e.render(t,o),e.setRenderTarget(n,3,r),e.render(t,A),e.setRenderTarget(n,4,r),e.render(t,c),n.texture.generateMipmaps=y,e.setRenderTarget(n,5,r),e.render(t,l),e.setRenderTarget(u,d,h),e.xr.enabled=m,n.texture.needsPMREMUpdate=!0}}class AM extends Vr{constructor(e,t,n,r,s,a,o,A,c,l){e=e!==void 0?e:[],t=t!==void 0?t:cu,super(e,t,n,r,s,a,o,A,c,l),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class _ee extends oo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];t.encoding!==void 0&&(ef("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===pc?yr:ia),this.texture=new AM(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Tr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new xu(5,5,5),s=new Aa({name:"CubemapFromEquirect",uniforms:fu(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:zr,blending:oA});s.uniforms.tEquirect.value=t;const a=new io(r,s),o=t.minFilter;return t.minFilter===vf&&(t.minFilter=Tr),new Eee(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(s)}}const G2=new ne,vee=new ne,xee=new Nn;class Z0{constructor(e=new ne(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=G2.subVectors(n,t).cross(vee.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(G2),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||xee.getNormalMatrix(e),r=this.coplanarPoint(G2).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const K0=new $f,Wp=new ne;class j_{constructor(e=new Z0,t=new Z0,n=new Z0,r=new Z0,s=new Z0,a=new Z0){this.planes=[e,t,n,r,s,a]}set(e,t,n,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=iA){const n=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],A=r[3],c=r[4],l=r[5],u=r[6],d=r[7],h=r[8],m=r[9],y=r[10],g=r[11],E=r[12],R=r[13],p=r[14],w=r[15];if(n[0].setComponents(A-s,d-c,g-h,w-E).normalize(),n[1].setComponents(A+s,d+c,g+h,w+E).normalize(),n[2].setComponents(A+a,d+l,g+m,w+R).normalize(),n[3].setComponents(A-a,d-l,g-m,w-R).normalize(),n[4].setComponents(A-o,d-u,g-y,w-p).normalize(),t===iA)n[5].setComponents(A+o,d+u,g+y,w+p).normalize();else if(t===Om)n[5].setComponents(o,u,y,p).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),K0.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),K0.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(K0)}intersectsSprite(e){return K0.center.set(0,0,0),K0.radius=.7071067811865476,K0.applyMatrix4(e.matrixWorld),this.intersectsSphere(K0)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Wp.x=r.normal.x>0?e.max.x:e.min.x,Wp.y=r.normal.y>0?e.max.y:e.min.y,Wp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Wp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function cM(){let i=null,e=!1,t=null,n=null;function r(s,a){t(s,a),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function Ree(i,e){const t=e.isWebGL2,n=new WeakMap;function r(c,l){const u=c.array,d=c.usage,h=i.createBuffer();i.bindBuffer(l,h),i.bufferData(l,u,d),c.onUploadCallback();let m;if(u instanceof Float32Array)m=i.FLOAT;else if(u instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)m=i.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=i.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=i.SHORT;else if(u instanceof Uint32Array)m=i.UNSIGNED_INT;else if(u instanceof Int32Array)m=i.INT;else if(u instanceof Int8Array)m=i.BYTE;else if(u instanceof Uint8Array)m=i.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:c.version}}function s(c,l,u){const d=l.array,h=l.updateRange;i.bindBuffer(u,c),h.count===-1?i.bufferSubData(u,0,d):(t?i.bufferSubData(u,h.offset*d.BYTES_PER_ELEMENT,d,h.offset,h.count):i.bufferSubData(u,h.offset*d.BYTES_PER_ELEMENT,d.subarray(h.offset,h.offset+h.count)),h.count=-1),l.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),n.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const l=n.get(c);l&&(i.deleteBuffer(l.buffer),n.delete(c))}function A(c,l){if(c.isGLBufferAttribute){const d=n.get(c);(!d||d.version<c.version)&&n.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const u=n.get(c);u===void 0?n.set(c,r(c,l)):u.version<c.version&&(s(u.buffer,c,l),u.version=c.version)}return{get:a,remove:o,update:A}}class Og extends tr{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(n),A=Math.floor(r),c=o+1,l=A+1,u=e/o,d=t/A,h=[],m=[],y=[],g=[];for(let E=0;E<l;E++){const R=E*d-a;for(let p=0;p<c;p++){const w=p*u-s;m.push(w,-R,0),y.push(0,0,1),g.push(p/o),g.push(1-E/A)}}for(let E=0;E<A;E++)for(let R=0;R<o;R++){const p=R+c*E,w=R+c*(E+1),v=R+1+c*(E+1),_=R+1+c*E;h.push(p,w,_),h.push(w,v,_)}this.setIndex(h),this.setAttribute("position",new fr(m,3)),this.setAttribute("normal",new fr(y,3)),this.setAttribute("uv",new fr(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Og(e.width,e.height,e.widthSegments,e.heightSegments)}}var Bee=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Cee=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,See=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Nee=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Mee=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Tee=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Gee=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Fee=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Iee=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Uee=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Pee=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Lee=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Dee=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,kee=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Oee=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Qee=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Hee=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,zee=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Vee=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Kee=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,$ee=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Wee=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,qee=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Yee=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Xee=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,jee=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Zee=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Jee=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ete="gl_FragColor = linearToOutputTexel( gl_FragColor );",tte=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,nte=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,ite=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,rte=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,ste=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ate=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ote=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Ate=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,cte=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,lte=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ute=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,dte=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,fte=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,hte=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,pte=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,mte=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,gte=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,yte=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,wte=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,bte=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Ete=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_te=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,vte=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,xte=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Rte=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Bte=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Cte=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Ste=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Nte=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Mte=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Tte=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Gte=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Fte=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Ite=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ute=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Pte=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Lte=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Dte=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,kte=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Ote=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Qte=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Hte=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,zte=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Vte=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Kte=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,$te=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Wte=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,qte=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Yte=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Xte=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,jte=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Zte=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Jte=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,ene=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,tne=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,nne=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ine=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,rne=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,sne=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,ane=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,one=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Ane=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,cne=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,lne=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,une=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,dne=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,fne=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,hne=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,pne=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,mne=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,gne=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,yne=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,wne=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,bne=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ene=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,_ne=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vne=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,xne=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Rne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Bne=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Cne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Sne=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Nne=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Mne=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Tne=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Gne=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Fne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Ine=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Une=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Pne=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Lne=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Dne=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kne=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,One=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qne=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Hne=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zne=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Vne=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Kne=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$ne=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wne=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,qne=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yne=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xne=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jne=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Zne=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Jne=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,eie=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,tie=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nie=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Rn={alphahash_fragment:Bee,alphahash_pars_fragment:Cee,alphamap_fragment:See,alphamap_pars_fragment:Nee,alphatest_fragment:Mee,alphatest_pars_fragment:Tee,aomap_fragment:Gee,aomap_pars_fragment:Fee,begin_vertex:Iee,beginnormal_vertex:Uee,bsdfs:Pee,iridescence_fragment:Lee,bumpmap_pars_fragment:Dee,clipping_planes_fragment:kee,clipping_planes_pars_fragment:Oee,clipping_planes_pars_vertex:Qee,clipping_planes_vertex:Hee,color_fragment:zee,color_pars_fragment:Vee,color_pars_vertex:Kee,color_vertex:$ee,common:Wee,cube_uv_reflection_fragment:qee,defaultnormal_vertex:Yee,displacementmap_pars_vertex:Xee,displacementmap_vertex:jee,emissivemap_fragment:Zee,emissivemap_pars_fragment:Jee,colorspace_fragment:ete,colorspace_pars_fragment:tte,envmap_fragment:nte,envmap_common_pars_fragment:ite,envmap_pars_fragment:rte,envmap_pars_vertex:ste,envmap_physical_pars_fragment:gte,envmap_vertex:ate,fog_vertex:ote,fog_pars_vertex:Ate,fog_fragment:cte,fog_pars_fragment:lte,gradientmap_pars_fragment:ute,lightmap_fragment:dte,lightmap_pars_fragment:fte,lights_lambert_fragment:hte,lights_lambert_pars_fragment:pte,lights_pars_begin:mte,lights_toon_fragment:yte,lights_toon_pars_fragment:wte,lights_phong_fragment:bte,lights_phong_pars_fragment:Ete,lights_physical_fragment:_te,lights_physical_pars_fragment:vte,lights_fragment_begin:xte,lights_fragment_maps:Rte,lights_fragment_end:Bte,logdepthbuf_fragment:Cte,logdepthbuf_pars_fragment:Ste,logdepthbuf_pars_vertex:Nte,logdepthbuf_vertex:Mte,map_fragment:Tte,map_pars_fragment:Gte,map_particle_fragment:Fte,map_particle_pars_fragment:Ite,metalnessmap_fragment:Ute,metalnessmap_pars_fragment:Pte,morphcolor_vertex:Lte,morphnormal_vertex:Dte,morphtarget_pars_vertex:kte,morphtarget_vertex:Ote,normal_fragment_begin:Qte,normal_fragment_maps:Hte,normal_pars_fragment:zte,normal_pars_vertex:Vte,normal_vertex:Kte,normalmap_pars_fragment:$te,clearcoat_normal_fragment_begin:Wte,clearcoat_normal_fragment_maps:qte,clearcoat_pars_fragment:Yte,iridescence_pars_fragment:Xte,opaque_fragment:jte,packing:Zte,premultiplied_alpha_fragment:Jte,project_vertex:ene,dithering_fragment:tne,dithering_pars_fragment:nne,roughnessmap_fragment:ine,roughnessmap_pars_fragment:rne,shadowmap_pars_fragment:sne,shadowmap_pars_vertex:ane,shadowmap_vertex:one,shadowmask_pars_fragment:Ane,skinbase_vertex:cne,skinning_pars_vertex:lne,skinning_vertex:une,skinnormal_vertex:dne,specularmap_fragment:fne,specularmap_pars_fragment:hne,tonemapping_fragment:pne,tonemapping_pars_fragment:mne,transmission_fragment:gne,transmission_pars_fragment:yne,uv_pars_fragment:wne,uv_pars_vertex:bne,uv_vertex:Ene,worldpos_vertex:_ne,background_vert:vne,background_frag:xne,backgroundCube_vert:Rne,backgroundCube_frag:Bne,cube_vert:Cne,cube_frag:Sne,depth_vert:Nne,depth_frag:Mne,distanceRGBA_vert:Tne,distanceRGBA_frag:Gne,equirect_vert:Fne,equirect_frag:Ine,linedashed_vert:Une,linedashed_frag:Pne,meshbasic_vert:Lne,meshbasic_frag:Dne,meshlambert_vert:kne,meshlambert_frag:One,meshmatcap_vert:Qne,meshmatcap_frag:Hne,meshnormal_vert:zne,meshnormal_frag:Vne,meshphong_vert:Kne,meshphong_frag:$ne,meshphysical_vert:Wne,meshphysical_frag:qne,meshtoon_vert:Yne,meshtoon_frag:Xne,points_vert:jne,points_frag:Zne,shadow_vert:Jne,shadow_frag:eie,sprite_vert:tie,sprite_frag:nie},Ft={common:{diffuse:{value:new $t(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Nn},alphaMap:{value:null},alphaMapTransform:{value:new Nn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Nn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Nn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Nn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Nn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Nn},normalScale:{value:new bn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Nn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Nn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Nn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Nn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new $t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new $t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Nn},alphaTest:{value:0},uvTransform:{value:new Nn}},sprite:{diffuse:{value:new $t(16777215)},opacity:{value:1},center:{value:new bn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Nn},alphaMap:{value:null},alphaMapTransform:{value:new Nn},alphaTest:{value:0}}},ja={basic:{uniforms:Lr([Ft.common,Ft.specularmap,Ft.envmap,Ft.aomap,Ft.lightmap,Ft.fog]),vertexShader:Rn.meshbasic_vert,fragmentShader:Rn.meshbasic_frag},lambert:{uniforms:Lr([Ft.common,Ft.specularmap,Ft.envmap,Ft.aomap,Ft.lightmap,Ft.emissivemap,Ft.bumpmap,Ft.normalmap,Ft.displacementmap,Ft.fog,Ft.lights,{emissive:{value:new $t(0)}}]),vertexShader:Rn.meshlambert_vert,fragmentShader:Rn.meshlambert_frag},phong:{uniforms:Lr([Ft.common,Ft.specularmap,Ft.envmap,Ft.aomap,Ft.lightmap,Ft.emissivemap,Ft.bumpmap,Ft.normalmap,Ft.displacementmap,Ft.fog,Ft.lights,{emissive:{value:new $t(0)},specular:{value:new $t(1118481)},shininess:{value:30}}]),vertexShader:Rn.meshphong_vert,fragmentShader:Rn.meshphong_frag},standard:{uniforms:Lr([Ft.common,Ft.envmap,Ft.aomap,Ft.lightmap,Ft.emissivemap,Ft.bumpmap,Ft.normalmap,Ft.displacementmap,Ft.roughnessmap,Ft.metalnessmap,Ft.fog,Ft.lights,{emissive:{value:new $t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Rn.meshphysical_vert,fragmentShader:Rn.meshphysical_frag},toon:{uniforms:Lr([Ft.common,Ft.aomap,Ft.lightmap,Ft.emissivemap,Ft.bumpmap,Ft.normalmap,Ft.displacementmap,Ft.gradientmap,Ft.fog,Ft.lights,{emissive:{value:new $t(0)}}]),vertexShader:Rn.meshtoon_vert,fragmentShader:Rn.meshtoon_frag},matcap:{uniforms:Lr([Ft.common,Ft.bumpmap,Ft.normalmap,Ft.displacementmap,Ft.fog,{matcap:{value:null}}]),vertexShader:Rn.meshmatcap_vert,fragmentShader:Rn.meshmatcap_frag},points:{uniforms:Lr([Ft.points,Ft.fog]),vertexShader:Rn.points_vert,fragmentShader:Rn.points_frag},dashed:{uniforms:Lr([Ft.common,Ft.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Rn.linedashed_vert,fragmentShader:Rn.linedashed_frag},depth:{uniforms:Lr([Ft.common,Ft.displacementmap]),vertexShader:Rn.depth_vert,fragmentShader:Rn.depth_frag},normal:{uniforms:Lr([Ft.common,Ft.bumpmap,Ft.normalmap,Ft.displacementmap,{opacity:{value:1}}]),vertexShader:Rn.meshnormal_vert,fragmentShader:Rn.meshnormal_frag},sprite:{uniforms:Lr([Ft.sprite,Ft.fog]),vertexShader:Rn.sprite_vert,fragmentShader:Rn.sprite_frag},background:{uniforms:{uvTransform:{value:new Nn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Rn.background_vert,fragmentShader:Rn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Rn.backgroundCube_vert,fragmentShader:Rn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Rn.cube_vert,fragmentShader:Rn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Rn.equirect_vert,fragmentShader:Rn.equirect_frag},distanceRGBA:{uniforms:Lr([Ft.common,Ft.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Rn.distanceRGBA_vert,fragmentShader:Rn.distanceRGBA_frag},shadow:{uniforms:Lr([Ft.lights,Ft.fog,{color:{value:new $t(0)},opacity:{value:1}}]),vertexShader:Rn.shadow_vert,fragmentShader:Rn.shadow_frag}};ja.physical={uniforms:Lr([ja.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Nn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Nn},clearcoatNormalScale:{value:new bn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Nn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Nn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Nn},sheen:{value:0},sheenColor:{value:new $t(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Nn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Nn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Nn},transmissionSamplerSize:{value:new bn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Nn},attenuationDistance:{value:0},attenuationColor:{value:new $t(0)},specularColor:{value:new $t(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Nn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Nn},anisotropyVector:{value:new bn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Nn}}]),vertexShader:Rn.meshphysical_vert,fragmentShader:Rn.meshphysical_frag};const qp={r:0,b:0,g:0};function iie(i,e,t,n,r,s,a){const o=new $t(0);let A=s===!0?0:1,c,l,u=null,d=0,h=null;function m(g,E){let R=!1,p=E.isScene===!0?E.background:null;p&&p.isTexture&&(p=(E.backgroundBlurriness>0?t:e).get(p)),p===null?y(o,A):p&&p.isColor&&(y(p,1),R=!0);const w=i.xr.getEnvironmentBlendMode();w==="additive"?n.buffers.color.setClear(0,0,0,1,a):w==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,a),(i.autoClear||R)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),p&&(p.isCubeTexture||p.mapping===Dg)?(l===void 0&&(l=new io(new xu(1,1,1),new Aa({name:"BackgroundCubeMaterial",uniforms:fu(ja.backgroundCube.uniforms),vertexShader:ja.backgroundCube.vertexShader,fragmentShader:ja.backgroundCube.fragmentShader,side:zr,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(v,_,x){this.matrixWorld.copyPosition(x.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),l.material.uniforms.envMap.value=p,l.material.uniforms.flipEnvMap.value=p.isCubeTexture&&p.isRenderTargetTexture===!1?-1:1,l.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,l.material.toneMapped=ii.getTransfer(p.colorSpace)!==mi,(u!==p||d!==p.version||h!==i.toneMapping)&&(l.material.needsUpdate=!0,u=p,d=p.version,h=i.toneMapping),l.layers.enableAll(),g.unshift(l,l.geometry,l.material,0,0,null)):p&&p.isTexture&&(c===void 0&&(c=new io(new Og(2,2),new Aa({name:"BackgroundMaterial",uniforms:fu(ja.background.uniforms),vertexShader:ja.background.vertexShader,fragmentShader:ja.background.fragmentShader,side:pA,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=p,c.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,c.material.toneMapped=ii.getTransfer(p.colorSpace)!==mi,p.matrixAutoUpdate===!0&&p.updateMatrix(),c.material.uniforms.uvTransform.value.copy(p.matrix),(u!==p||d!==p.version||h!==i.toneMapping)&&(c.material.needsUpdate=!0,u=p,d=p.version,h=i.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null))}function y(g,E){g.getRGB(qp,aM(i)),n.buffers.color.setClear(qp.r,qp.g,qp.b,E,a)}return{getClearColor:function(){return o},setClearColor:function(g,E=1){o.set(g),A=E,y(o,A)},getClearAlpha:function(){return A},setClearAlpha:function(g){A=g,y(o,A)},render:m}}function rie(i,e,t,n){const r=i.getParameter(i.MAX_VERTEX_ATTRIBS),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),a=n.isWebGL2||s!==null,o={},A=g(null);let c=A,l=!1;function u(M,U,z,L,k){let K=!1;if(a){const V=y(L,z,U);c!==V&&(c=V,h(c.object)),K=E(M,L,z,k),K&&R(M,L,z,k)}else{const V=U.wireframe===!0;(c.geometry!==L.id||c.program!==z.id||c.wireframe!==V)&&(c.geometry=L.id,c.program=z.id,c.wireframe=V,K=!0)}k!==null&&t.update(k,i.ELEMENT_ARRAY_BUFFER),(K||l)&&(l=!1,C(M,U,z,L),k!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.get(k).buffer))}function d(){return n.isWebGL2?i.createVertexArray():s.createVertexArrayOES()}function h(M){return n.isWebGL2?i.bindVertexArray(M):s.bindVertexArrayOES(M)}function m(M){return n.isWebGL2?i.deleteVertexArray(M):s.deleteVertexArrayOES(M)}function y(M,U,z){const L=z.wireframe===!0;let k=o[M.id];k===void 0&&(k={},o[M.id]=k);let K=k[U.id];K===void 0&&(K={},k[U.id]=K);let V=K[L];return V===void 0&&(V=g(d()),K[L]=V),V}function g(M){const U=[],z=[],L=[];for(let k=0;k<r;k++)U[k]=0,z[k]=0,L[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:z,attributeDivisors:L,object:M,attributes:{},index:null}}function E(M,U,z,L){const k=c.attributes,K=U.attributes;let V=0;const D=z.getAttributes();for(const H in D)if(D[H].location>=0){const Ae=k[H];let ee=K[H];if(ee===void 0&&(H==="instanceMatrix"&&M.instanceMatrix&&(ee=M.instanceMatrix),H==="instanceColor"&&M.instanceColor&&(ee=M.instanceColor)),Ae===void 0||Ae.attribute!==ee||ee&&Ae.data!==ee.data)return!0;V++}return c.attributesNum!==V||c.index!==L}function R(M,U,z,L){const k={},K=U.attributes;let V=0;const D=z.getAttributes();for(const H in D)if(D[H].location>=0){let Ae=K[H];Ae===void 0&&(H==="instanceMatrix"&&M.instanceMatrix&&(Ae=M.instanceMatrix),H==="instanceColor"&&M.instanceColor&&(Ae=M.instanceColor));const ee={};ee.attribute=Ae,Ae&&Ae.data&&(ee.data=Ae.data),k[H]=ee,V++}c.attributes=k,c.attributesNum=V,c.index=L}function p(){const M=c.newAttributes;for(let U=0,z=M.length;U<z;U++)M[U]=0}function w(M){v(M,0)}function v(M,U){const z=c.newAttributes,L=c.enabledAttributes,k=c.attributeDivisors;z[M]=1,L[M]===0&&(i.enableVertexAttribArray(M),L[M]=1),k[M]!==U&&((n.isWebGL2?i:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](M,U),k[M]=U)}function _(){const M=c.newAttributes,U=c.enabledAttributes;for(let z=0,L=U.length;z<L;z++)U[z]!==M[z]&&(i.disableVertexAttribArray(z),U[z]=0)}function x(M,U,z,L,k,K,V){V===!0?i.vertexAttribIPointer(M,U,z,k,K):i.vertexAttribPointer(M,U,z,L,k,K)}function C(M,U,z,L){if(n.isWebGL2===!1&&(M.isInstancedMesh||L.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;p();const k=L.attributes,K=z.getAttributes(),V=U.defaultAttributeValues;for(const D in K){const H=K[D];if(H.location>=0){let oe=k[D];if(oe===void 0&&(D==="instanceMatrix"&&M.instanceMatrix&&(oe=M.instanceMatrix),D==="instanceColor"&&M.instanceColor&&(oe=M.instanceColor)),oe!==void 0){const Ae=oe.normalized,ee=oe.itemSize,se=t.get(oe);if(se===void 0)continue;const le=se.buffer,J=se.type,me=se.bytesPerElement,ue=n.isWebGL2===!0&&(J===i.INT||J===i.UNSIGNED_INT||oe.gpuType===VN);if(oe.isInterleavedBufferAttribute){const ge=oe.data,fe=ge.stride,we=oe.offset;if(ge.isInstancedInterleavedBuffer){for(let Fe=0;Fe<H.locationSize;Fe++)v(H.location+Fe,ge.meshPerAttribute);M.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let Fe=0;Fe<H.locationSize;Fe++)w(H.location+Fe);i.bindBuffer(i.ARRAY_BUFFER,le);for(let Fe=0;Fe<H.locationSize;Fe++)x(H.location+Fe,ee/H.locationSize,J,Ae,fe*me,(we+ee/H.locationSize*Fe)*me,ue)}else{if(oe.isInstancedBufferAttribute){for(let ge=0;ge<H.locationSize;ge++)v(H.location+ge,oe.meshPerAttribute);M.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let ge=0;ge<H.locationSize;ge++)w(H.location+ge);i.bindBuffer(i.ARRAY_BUFFER,le);for(let ge=0;ge<H.locationSize;ge++)x(H.location+ge,ee/H.locationSize,J,Ae,ee*me,ee/H.locationSize*ge*me,ue)}}else if(V!==void 0){const Ae=V[D];if(Ae!==void 0)switch(Ae.length){case 2:i.vertexAttrib2fv(H.location,Ae);break;case 3:i.vertexAttrib3fv(H.location,Ae);break;case 4:i.vertexAttrib4fv(H.location,Ae);break;default:i.vertexAttrib1fv(H.location,Ae)}}}}_()}function B(){N();for(const M in o){const U=o[M];for(const z in U){const L=U[z];for(const k in L)m(L[k].object),delete L[k];delete U[z]}delete o[M]}}function G(M){if(o[M.id]===void 0)return;const U=o[M.id];for(const z in U){const L=U[z];for(const k in L)m(L[k].object),delete L[k];delete U[z]}delete o[M.id]}function I(M){for(const U in o){const z=o[U];if(z[M.id]===void 0)continue;const L=z[M.id];for(const k in L)m(L[k].object),delete L[k];delete z[M.id]}}function N(){T(),l=!0,c!==A&&(c=A,h(c.object))}function T(){A.geometry=null,A.program=null,A.wireframe=!1}return{setup:u,reset:N,resetDefaultState:T,dispose:B,releaseStatesOfGeometry:G,releaseStatesOfProgram:I,initAttributes:p,enableAttribute:w,disableUnusedAttributes:_}}function sie(i,e,t,n){const r=n.isWebGL2;let s;function a(c){s=c}function o(c,l){i.drawArrays(s,c,l),t.update(l,s,1)}function A(c,l,u){if(u===0)return;let d,h;if(r)d=i,h="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[h](s,c,l,u),t.update(l,s,u)}this.setMode=a,this.render=o,this.renderInstances=A}function aie(i,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const x=e.get("EXT_texture_filter_anisotropic");n=i.getParameter(x.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function s(x){if(x==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";x="mediump"}return x==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&i.constructor.name==="WebGL2RenderingContext";let o=t.precision!==void 0?t.precision:"highp";const A=s(o);A!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",A,"instead."),o=A);const c=a||e.has("WEBGL_draw_buffers"),l=t.logarithmicDepthBuffer===!0,u=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),d=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=i.getParameter(i.MAX_TEXTURE_SIZE),m=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),y=i.getParameter(i.MAX_VERTEX_ATTRIBS),g=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),E=i.getParameter(i.MAX_VARYING_VECTORS),R=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),p=d>0,w=a||e.has("OES_texture_float"),v=p&&w,_=a?i.getParameter(i.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:m,maxAttributes:y,maxVertexUniforms:g,maxVaryings:E,maxFragmentUniforms:R,vertexTextures:p,floatFragmentTextures:w,floatVertexTextures:v,maxSamples:_}}function oie(i){const e=this;let t=null,n=0,r=!1,s=!1;const a=new Z0,o=new Nn,A={value:null,needsUpdate:!1};this.uniform=A,this.numPlanes=0,this.numIntersection=0,this.init=function(u,d){const h=u.length!==0||d||n!==0||r;return r=d,n=u.length,h},this.beginShadows=function(){s=!0,l(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(u,d){t=l(u,d,0)},this.setState=function(u,d,h){const m=u.clippingPlanes,y=u.clipIntersection,g=u.clipShadows,E=i.get(u);if(!r||m===null||m.length===0||s&&!g)s?l(null):c();else{const R=s?0:n,p=R*4;let w=E.clippingState||null;A.value=w,w=l(m,d,p,h);for(let v=0;v!==p;++v)w[v]=t[v];E.clippingState=w,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=R}};function c(){A.value!==t&&(A.value=t,A.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function l(u,d,h,m){const y=u!==null?u.length:0;let g=null;if(y!==0){if(g=A.value,m!==!0||g===null){const E=h+y*4,R=d.matrixWorldInverse;o.getNormalMatrix(R),(g===null||g.length<E)&&(g=new Float32Array(E));for(let p=0,w=h;p!==y;++p,w+=4)a.copy(u[p]).applyMatrix4(R,o),a.normal.toArray(g,w),g[w+3]=a.constant}A.value=g,A.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,g}}function Aie(i){let e=new WeakMap;function t(a,o){return o===sE?a.mapping=cu:o===aE&&(a.mapping=lu),a}function n(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const o=a.mapping;if(o===sE||o===aE)if(e.has(a)){const A=e.get(a).texture;return t(A,a.mapping)}else{const A=a.image;if(A&&A.height>0){const c=new _ee(A.height/2);return c.fromEquirectangularTexture(i,a),e.set(a,c),a.addEventListener("dispose",r),t(c.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const A=e.get(o);A!==void 0&&(e.delete(o),A.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}class xf extends oM{constructor(e=-1,t=1,n=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,a=n+e,o=r+t,A=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=l*this.view.offsetY,A=o-l*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,A,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Pl=4,p8=[.125,.215,.35,.446,.526,.582],rc=20,F2=new xf,m8=new $t;let I2=null,U2=0,P2=0;const J0=(1+Math.sqrt(5))/2,yl=1/J0,g8=[new ne(1,1,1),new ne(-1,1,1),new ne(1,1,-1),new ne(-1,1,-1),new ne(0,J0,yl),new ne(0,J0,-yl),new ne(yl,0,J0),new ne(-yl,0,J0),new ne(J0,yl,0),new ne(-J0,yl,0)];class y8{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){I2=this._renderer.getRenderTarget(),U2=this._renderer.getActiveCubeFace(),P2=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=E8(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=b8(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(I2,U2,P2),e.scissorTest=!1,Yp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===cu||e.mapping===lu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),I2=this._renderer.getRenderTarget(),U2=this._renderer.getActiveCubeFace(),P2=this._renderer.getActiveMipmapLevel();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Tr,minFilter:Tr,generateMipmaps:!1,type:_c,format:os,colorSpace:mA,depthBuffer:!1},r=w8(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=w8(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=cie(s)),this._blurMaterial=lie(s,e,t)}return r}_compileMaterial(e){const t=new io(this._lodPlanes[0],e);this._renderer.compile(t,F2)}_sceneToCubeUV(e,t,n,r){const o=new as(90,1,t,n),A=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],l=this._renderer,u=l.autoClear,d=l.toneMapping;l.getClearColor(m8),l.toneMapping=a0,l.autoClear=!1;const h=new iM({name:"PMREM.Background",side:zr,depthWrite:!1,depthTest:!1}),m=new io(new xu,h);let y=!1;const g=e.background;g?g.isColor&&(h.color.copy(g),e.background=null,y=!0):(h.color.copy(m8),y=!0);for(let E=0;E<6;E++){const R=E%3;R===0?(o.up.set(0,A[E],0),o.lookAt(c[E],0,0)):R===1?(o.up.set(0,0,A[E]),o.lookAt(0,c[E],0)):(o.up.set(0,A[E],0),o.lookAt(0,0,c[E]));const p=this._cubeSize;Yp(r,R*p,E>2?p:0,p,p),l.setRenderTarget(r),y&&l.render(m,o),l.render(e,o)}m.geometry.dispose(),m.material.dispose(),l.toneMapping=d,l.autoClear=u,e.background=g}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===cu||e.mapping===lu;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=E8()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=b8());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new io(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const A=this._cubeSize;Yp(t,0,0,3*A,2*A),n.setRenderTarget(t),n.render(a,F2)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=g8[(r-1)%g8.length];this._blur(e,r-1,r,s,a)}t.autoClear=n}_blur(e,t,n,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",s),this._halfBlur(a,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,a,o){const A=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const l=3,u=new io(this._lodPlanes[r],c),d=c.uniforms,h=this._sizeLods[n]-1,m=isFinite(s)?Math.PI/(2*h):2*Math.PI/(2*rc-1),y=s/m,g=isFinite(s)?1+Math.floor(l*y):rc;g>rc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${rc}`);const E=[];let R=0;for(let x=0;x<rc;++x){const C=x/y,B=Math.exp(-C*C/2);E.push(B),x===0?R+=B:x<g&&(R+=2*B)}for(let x=0;x<E.length;x++)E[x]=E[x]/R;d.envMap.value=e.texture,d.samples.value=g,d.weights.value=E,d.latitudinal.value=a==="latitudinal",o&&(d.poleAxis.value=o);const{_lodMax:p}=this;d.dTheta.value=m,d.mipInt.value=p-n;const w=this._sizeLods[r],v=3*w*(r>p-Pl?r-p+Pl:0),_=4*(this._cubeSize-w);Yp(t,v,_,3*w,2*w),A.setRenderTarget(t),A.render(u,F2)}}function cie(i){const e=[],t=[],n=[];let r=i;const s=i-Pl+1+p8.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let A=1/o;a>i-Pl?A=p8[a-i+Pl-1]:a===0&&(A=0),n.push(A);const c=1/(o-2),l=-c,u=1+c,d=[l,l,u,l,u,u,l,l,u,u,l,u],h=6,m=6,y=3,g=2,E=1,R=new Float32Array(y*m*h),p=new Float32Array(g*m*h),w=new Float32Array(E*m*h);for(let _=0;_<h;_++){const x=_%3*2/3-1,C=_>2?0:-1,B=[x,C,0,x+2/3,C,0,x+2/3,C+1,0,x,C,0,x+2/3,C+1,0,x,C+1,0];R.set(B,y*m*_),p.set(d,g*m*_);const G=[_,_,_,_,_,_];w.set(G,E*m*_)}const v=new tr;v.setAttribute("position",new zi(R,y)),v.setAttribute("uv",new zi(p,g)),v.setAttribute("faceIndex",new zi(w,E)),e.push(v),r>Pl&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function w8(i,e,t){const n=new oo(i,e,t);return n.texture.mapping=Dg,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Yp(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function lie(i,e,t){const n=new Float32Array(rc),r=new ne(0,1,0);return new Aa({name:"SphericalGaussianBlur",defines:{n:rc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Z_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:oA,depthTest:!1,depthWrite:!1})}function b8(){return new Aa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Z_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:oA,depthTest:!1,depthWrite:!1})}function E8(){return new Aa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Z_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:oA,depthTest:!1,depthWrite:!1})}function Z_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function uie(i){let e=new WeakMap,t=null;function n(o){if(o&&o.isTexture){const A=o.mapping,c=A===sE||A===aE,l=A===cu||A===lu;if(c||l)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let u=e.get(o);return t===null&&(t=new y8(i)),u=c?t.fromEquirectangular(o,u):t.fromCubemap(o,u),e.set(o,u),u.texture}else{if(e.has(o))return e.get(o).texture;{const u=o.image;if(c&&u&&u.height>0||l&&u&&r(u)){t===null&&(t=new y8(i));const d=c?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,d),o.addEventListener("dispose",s),d.texture}else return null}}}return o}function r(o){let A=0;const c=6;for(let l=0;l<c;l++)o[l]!==void 0&&A++;return A===c}function s(o){const A=o.target;A.removeEventListener("dispose",s);const c=e.get(A);c!==void 0&&(e.delete(A),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function die(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function fie(i,e,t,n){const r={},s=new WeakMap;function a(u){const d=u.target;d.index!==null&&e.remove(d.index);for(const m in d.attributes)e.remove(d.attributes[m]);for(const m in d.morphAttributes){const y=d.morphAttributes[m];for(let g=0,E=y.length;g<E;g++)e.remove(y[g])}d.removeEventListener("dispose",a),delete r[d.id];const h=s.get(d);h&&(e.remove(h),s.delete(d)),n.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function o(u,d){return r[d.id]===!0||(d.addEventListener("dispose",a),r[d.id]=!0,t.memory.geometries++),d}function A(u){const d=u.attributes;for(const m in d)e.update(d[m],i.ARRAY_BUFFER);const h=u.morphAttributes;for(const m in h){const y=h[m];for(let g=0,E=y.length;g<E;g++)e.update(y[g],i.ARRAY_BUFFER)}}function c(u){const d=[],h=u.index,m=u.attributes.position;let y=0;if(h!==null){const R=h.array;y=h.version;for(let p=0,w=R.length;p<w;p+=3){const v=R[p+0],_=R[p+1],x=R[p+2];d.push(v,_,_,x,x,v)}}else if(m!==void 0){const R=m.array;y=m.version;for(let p=0,w=R.length/3-1;p<w;p+=3){const v=p+0,_=p+1,x=p+2;d.push(v,_,_,x,x,v)}}else return;const g=new(jN(d)?sM:rM)(d,1);g.version=y;const E=s.get(u);E&&e.remove(E),s.set(u,g)}function l(u){const d=s.get(u);if(d){const h=u.index;h!==null&&d.version<h.version&&c(u)}else c(u);return s.get(u)}return{get:o,update:A,getWireframeAttribute:l}}function hie(i,e,t,n){const r=n.isWebGL2;let s;function a(d){s=d}let o,A;function c(d){o=d.type,A=d.bytesPerElement}function l(d,h){i.drawElements(s,h,o,d*A),t.update(h,s,1)}function u(d,h,m){if(m===0)return;let y,g;if(r)y=i,g="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[g](s,h,o,d*A,m),t.update(h,s,m)}this.setMode=a,this.setIndex=c,this.render=l,this.renderInstances=u}function pie(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,a,o){switch(t.calls++,a){case i.TRIANGLES:t.triangles+=o*(s/3);break;case i.LINES:t.lines+=o*(s/2);break;case i.LINE_STRIP:t.lines+=o*(s-1);break;case i.LINE_LOOP:t.lines+=o*s;break;case i.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function mie(i,e){return i[0]-e[0]}function gie(i,e){return Math.abs(e[1])-Math.abs(i[1])}function yie(i,e,t){const n={},r=new Float32Array(8),s=new WeakMap,a=new ur,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function A(c,l,u){const d=c.morphTargetInfluences;if(e.isWebGL2===!0){const m=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,y=m!==void 0?m.length:0;let g=s.get(l);if(g===void 0||g.count!==y){let U=function(){T.dispose(),s.delete(l),l.removeEventListener("dispose",U)};var h=U;g!==void 0&&g.texture.dispose();const p=l.morphAttributes.position!==void 0,w=l.morphAttributes.normal!==void 0,v=l.morphAttributes.color!==void 0,_=l.morphAttributes.position||[],x=l.morphAttributes.normal||[],C=l.morphAttributes.color||[];let B=0;p===!0&&(B=1),w===!0&&(B=2),v===!0&&(B=3);let G=l.attributes.position.count*B,I=1;G>e.maxTextureSize&&(I=Math.ceil(G/e.maxTextureSize),G=e.maxTextureSize);const N=new Float32Array(G*I*4*y),T=new eM(N,G,I,y);T.type=Pa,T.needsUpdate=!0;const M=B*4;for(let z=0;z<y;z++){const L=_[z],k=x[z],K=C[z],V=G*I*4*z;for(let D=0;D<L.count;D++){const H=D*M;p===!0&&(a.fromBufferAttribute(L,D),N[V+H+0]=a.x,N[V+H+1]=a.y,N[V+H+2]=a.z,N[V+H+3]=0),w===!0&&(a.fromBufferAttribute(k,D),N[V+H+4]=a.x,N[V+H+5]=a.y,N[V+H+6]=a.z,N[V+H+7]=0),v===!0&&(a.fromBufferAttribute(K,D),N[V+H+8]=a.x,N[V+H+9]=a.y,N[V+H+10]=a.z,N[V+H+11]=K.itemSize===4?a.w:1)}}g={count:y,texture:T,size:new bn(G,I)},s.set(l,g),l.addEventListener("dispose",U)}let E=0;for(let p=0;p<d.length;p++)E+=d[p];const R=l.morphTargetsRelative?1:1-E;u.getUniforms().setValue(i,"morphTargetBaseInfluence",R),u.getUniforms().setValue(i,"morphTargetInfluences",d),u.getUniforms().setValue(i,"morphTargetsTexture",g.texture,t),u.getUniforms().setValue(i,"morphTargetsTextureSize",g.size)}else{const m=d===void 0?0:d.length;let y=n[l.id];if(y===void 0||y.length!==m){y=[];for(let w=0;w<m;w++)y[w]=[w,0];n[l.id]=y}for(let w=0;w<m;w++){const v=y[w];v[0]=w,v[1]=d[w]}y.sort(gie);for(let w=0;w<8;w++)w<m&&y[w][1]?(o[w][0]=y[w][0],o[w][1]=y[w][1]):(o[w][0]=Number.MAX_SAFE_INTEGER,o[w][1]=0);o.sort(mie);const g=l.morphAttributes.position,E=l.morphAttributes.normal;let R=0;for(let w=0;w<8;w++){const v=o[w],_=v[0],x=v[1];_!==Number.MAX_SAFE_INTEGER&&x?(g&&l.getAttribute("morphTarget"+w)!==g[_]&&l.setAttribute("morphTarget"+w,g[_]),E&&l.getAttribute("morphNormal"+w)!==E[_]&&l.setAttribute("morphNormal"+w,E[_]),r[w]=x,R+=x):(g&&l.hasAttribute("morphTarget"+w)===!0&&l.deleteAttribute("morphTarget"+w),E&&l.hasAttribute("morphNormal"+w)===!0&&l.deleteAttribute("morphNormal"+w),r[w]=0)}const p=l.morphTargetsRelative?1:1-R;u.getUniforms().setValue(i,"morphTargetBaseInfluence",p),u.getUniforms().setValue(i,"morphTargetInfluences",r)}}return{update:A}}function wie(i,e,t,n){let r=new WeakMap;function s(A){const c=n.render.frame,l=A.geometry,u=e.get(A,l);if(r.get(u)!==c&&(e.update(u),r.set(u,c)),A.isInstancedMesh&&(A.hasEventListener("dispose",o)===!1&&A.addEventListener("dispose",o),r.get(A)!==c&&(t.update(A.instanceMatrix,i.ARRAY_BUFFER),A.instanceColor!==null&&t.update(A.instanceColor,i.ARRAY_BUFFER),r.set(A,c))),A.isSkinnedMesh){const d=A.skeleton;r.get(d)!==c&&(d.update(),r.set(d,c))}return u}function a(){r=new WeakMap}function o(A){const c=A.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:a}}const lM=new Vr,uM=new eM,dM=new aee,fM=new AM,_8=[],v8=[],x8=new Float32Array(16),R8=new Float32Array(9),B8=new Float32Array(4);function Ru(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=_8[r];if(s===void 0&&(s=new Float32Array(r),_8[r]=s),e!==0){n.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,i[a].toArray(s,o)}return s}function ir(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function rr(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function Qg(i,e){let t=v8[e];t===void 0&&(t=new Int32Array(e),v8[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function bie(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function Eie(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ir(t,e))return;i.uniform2fv(this.addr,e),rr(t,e)}}function _ie(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ir(t,e))return;i.uniform3fv(this.addr,e),rr(t,e)}}function vie(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ir(t,e))return;i.uniform4fv(this.addr,e),rr(t,e)}}function xie(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(ir(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),rr(t,e)}else{if(ir(t,n))return;B8.set(n),i.uniformMatrix2fv(this.addr,!1,B8),rr(t,n)}}function Rie(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(ir(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),rr(t,e)}else{if(ir(t,n))return;R8.set(n),i.uniformMatrix3fv(this.addr,!1,R8),rr(t,n)}}function Bie(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(ir(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),rr(t,e)}else{if(ir(t,n))return;x8.set(n),i.uniformMatrix4fv(this.addr,!1,x8),rr(t,n)}}function Cie(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function Sie(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ir(t,e))return;i.uniform2iv(this.addr,e),rr(t,e)}}function Nie(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ir(t,e))return;i.uniform3iv(this.addr,e),rr(t,e)}}function Mie(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ir(t,e))return;i.uniform4iv(this.addr,e),rr(t,e)}}function Tie(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function Gie(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ir(t,e))return;i.uniform2uiv(this.addr,e),rr(t,e)}}function Fie(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ir(t,e))return;i.uniform3uiv(this.addr,e),rr(t,e)}}function Iie(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ir(t,e))return;i.uniform4uiv(this.addr,e),rr(t,e)}}function Uie(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||lM,r)}function Pie(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||dM,r)}function Lie(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||fM,r)}function Die(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||uM,r)}function kie(i){switch(i){case 5126:return bie;case 35664:return Eie;case 35665:return _ie;case 35666:return vie;case 35674:return xie;case 35675:return Rie;case 35676:return Bie;case 5124:case 35670:return Cie;case 35667:case 35671:return Sie;case 35668:case 35672:return Nie;case 35669:case 35673:return Mie;case 5125:return Tie;case 36294:return Gie;case 36295:return Fie;case 36296:return Iie;case 35678:case 36198:case 36298:case 36306:case 35682:return Uie;case 35679:case 36299:case 36307:return Pie;case 35680:case 36300:case 36308:case 36293:return Lie;case 36289:case 36303:case 36311:case 36292:return Die}}function Oie(i,e){i.uniform1fv(this.addr,e)}function Qie(i,e){const t=Ru(e,this.size,2);i.uniform2fv(this.addr,t)}function Hie(i,e){const t=Ru(e,this.size,3);i.uniform3fv(this.addr,t)}function zie(i,e){const t=Ru(e,this.size,4);i.uniform4fv(this.addr,t)}function Vie(i,e){const t=Ru(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function Kie(i,e){const t=Ru(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function $ie(i,e){const t=Ru(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function Wie(i,e){i.uniform1iv(this.addr,e)}function qie(i,e){i.uniform2iv(this.addr,e)}function Yie(i,e){i.uniform3iv(this.addr,e)}function Xie(i,e){i.uniform4iv(this.addr,e)}function jie(i,e){i.uniform1uiv(this.addr,e)}function Zie(i,e){i.uniform2uiv(this.addr,e)}function Jie(i,e){i.uniform3uiv(this.addr,e)}function ere(i,e){i.uniform4uiv(this.addr,e)}function tre(i,e,t){const n=this.cache,r=e.length,s=Qg(t,r);ir(n,s)||(i.uniform1iv(this.addr,s),rr(n,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||lM,s[a])}function nre(i,e,t){const n=this.cache,r=e.length,s=Qg(t,r);ir(n,s)||(i.uniform1iv(this.addr,s),rr(n,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||dM,s[a])}function ire(i,e,t){const n=this.cache,r=e.length,s=Qg(t,r);ir(n,s)||(i.uniform1iv(this.addr,s),rr(n,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||fM,s[a])}function rre(i,e,t){const n=this.cache,r=e.length,s=Qg(t,r);ir(n,s)||(i.uniform1iv(this.addr,s),rr(n,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||uM,s[a])}function sre(i){switch(i){case 5126:return Oie;case 35664:return Qie;case 35665:return Hie;case 35666:return zie;case 35674:return Vie;case 35675:return Kie;case 35676:return $ie;case 5124:case 35670:return Wie;case 35667:case 35671:return qie;case 35668:case 35672:return Yie;case 35669:case 35673:return Xie;case 5125:return jie;case 36294:return Zie;case 36295:return Jie;case 36296:return ere;case 35678:case 36198:case 36298:case 36306:case 35682:return tre;case 35679:case 36299:case 36307:return nre;case 35680:case 36300:case 36308:case 36293:return ire;case 36289:case 36303:case 36311:case 36292:return rre}}class are{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=kie(t.type)}}class ore{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=sre(t.type)}}class Are{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],n)}}}const L2=/(\w+)(\])?(\[|\.)?/g;function C8(i,e){i.seq.push(e),i.map[e.id]=e}function cre(i,e,t){const n=i.name,r=n.length;for(L2.lastIndex=0;;){const s=L2.exec(n),a=L2.lastIndex;let o=s[1];const A=s[2]==="]",c=s[3];if(A&&(o=o|0),c===void 0||c==="["&&a+2===r){C8(t,c===void 0?new are(o,i,e):new ore(o,i,e));break}else{let u=t.map[o];u===void 0&&(u=new Are(o),C8(t,u)),t=u}}}class K1{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);cre(s,a,this)}}setValue(e,t,n,r){const s=this.map[t];s!==void 0&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],A=n[o.id];A.needsUpdate!==!1&&o.setValue(e,A.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&n.push(a)}return n}}function S8(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const lre=37297;let ure=0;function dre(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;n.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return n.join(`
`)}function fre(i){const e=ii.getPrimaries(ii.workingColorSpace),t=ii.getPrimaries(i);let n;switch(e===t?n="":e===km&&t===Dm?n="LinearDisplayP3ToLinearSRGB":e===Dm&&t===km&&(n="LinearSRGBToLinearDisplayP3"),i){case mA:case kg:return[n,"LinearTransferOETF"];case yr:case Y_:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",i),[n,"LinearTransferOETF"]}}function N8(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+dre(i.getShaderSource(e),a)}else return r}function hre(i,e){const t=fre(e);return`vec4 ${i}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function pre(i,e){let t;switch(e){case CJ:t="Linear";break;case SJ:t="Reinhard";break;case NJ:t="OptimizedCineon";break;case MJ:t="ACESFilmic";break;case TJ:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function mre(i){return[i.extensionDerivatives||!!i.envMapCubeUVHeight||i.bumpMap||i.normalMapTangentSpace||i.clearcoatNormalMap||i.flatShading||i.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Td).join(`
`)}function gre(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function yre(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),a=s.name;let o=1;s.type===i.FLOAT_MAT2&&(o=2),s.type===i.FLOAT_MAT3&&(o=3),s.type===i.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:i.getAttribLocation(e,a),locationSize:o}}return t}function Td(i){return i!==""}function M8(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function T8(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const wre=/^[ \t]*#include +<([\w\d./]+)>/gm;function dE(i){return i.replace(wre,Ere)}const bre=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Ere(i,e){let t=Rn[e];if(t===void 0){const n=bre.get(e);if(n!==void 0)t=Rn[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return dE(t)}const _re=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function G8(i){return i.replace(_re,vre)}function vre(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function F8(i){let e="precision "+i.precision+` float;
precision `+i.precision+" int;";return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function xre(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===QN?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===tJ?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Xo&&(e="SHADOWMAP_TYPE_VSM"),e}function Rre(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case cu:case lu:e="ENVMAP_TYPE_CUBE";break;case Dg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Bre(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case lu:e="ENVMAP_MODE_REFRACTION";break}return e}function Cre(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case HN:e="ENVMAP_BLENDING_MULTIPLY";break;case RJ:e="ENVMAP_BLENDING_MIX";break;case BJ:e="ENVMAP_BLENDING_ADD";break}return e}function Sre(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function Nre(i,e,t,n){const r=i.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const A=xre(t),c=Rre(t),l=Bre(t),u=Cre(t),d=Sre(t),h=t.isWebGL2?"":mre(t),m=gre(s),y=r.createProgram();let g,E,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(Td).join(`
`),g.length>0&&(g+=`
`),E=[h,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(Td).join(`
`),E.length>0&&(E+=`
`)):(g=[F8(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+l:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+A:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Td).join(`
`),E=[h,F8(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+l:"",t.envMap?"#define "+u:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+A:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==a0?"#define TONE_MAPPING":"",t.toneMapping!==a0?Rn.tonemapping_pars_fragment:"",t.toneMapping!==a0?pre("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Rn.colorspace_pars_fragment,hre("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Td).join(`
`)),a=dE(a),a=M8(a,t),a=T8(a,t),o=dE(o),o=M8(o,t),o=T8(o,t),a=G8(a),o=G8(o),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,E=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===j9?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===j9?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const p=R+g+a,w=R+E+o,v=S8(r,r.VERTEX_SHADER,p),_=S8(r,r.FRAGMENT_SHADER,w);r.attachShader(y,v),r.attachShader(y,_),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y);function x(I){if(i.debug.checkShaderErrors){const N=r.getProgramInfoLog(y).trim(),T=r.getShaderInfoLog(v).trim(),M=r.getShaderInfoLog(_).trim();let U=!0,z=!0;if(r.getProgramParameter(y,r.LINK_STATUS)===!1)if(U=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,y,v,_);else{const L=N8(r,v,"vertex"),k=N8(r,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,r.VALIDATE_STATUS)+`

Program Info Log: `+N+`
`+L+`
`+k)}else N!==""?console.warn("THREE.WebGLProgram: Program Info Log:",N):(T===""||M==="")&&(z=!1);z&&(I.diagnostics={runnable:U,programLog:N,vertexShader:{log:T,prefix:g},fragmentShader:{log:M,prefix:E}})}r.deleteShader(v),r.deleteShader(_),C=new K1(r,y),B=yre(r,y)}let C;this.getUniforms=function(){return C===void 0&&x(this),C};let B;this.getAttributes=function(){return B===void 0&&x(this),B};let G=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return G===!1&&(G=r.getProgramParameter(y,lre)),G},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=ure++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=v,this.fragmentShader=_,this}let Mre=0;class Tre{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new Gre(e),t.set(e,n)),n}}class Gre{constructor(e){this.id=Mre++,this.code=e,this.usedTimes=0}}function Fre(i,e,t,n,r,s,a){const o=new tM,A=new Tre,c=[],l=r.isWebGL2,u=r.logarithmicDepthBuffer,d=r.vertexTextures;let h=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(B){return B===0?"uv":`uv${B}`}function g(B,G,I,N,T){const M=N.fog,U=T.geometry,z=B.isMeshStandardMaterial?N.environment:null,L=(B.isMeshStandardMaterial?t:e).get(B.envMap||z),k=!!L&&L.mapping===Dg?L.image.height:null,K=m[B.type];B.precision!==null&&(h=r.getMaxPrecision(B.precision),h!==B.precision&&console.warn("THREE.WebGLProgram.getParameters:",B.precision,"not supported, using",h,"instead."));const V=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,D=V!==void 0?V.length:0;let H=0;U.morphAttributes.position!==void 0&&(H=1),U.morphAttributes.normal!==void 0&&(H=2),U.morphAttributes.color!==void 0&&(H=3);let oe,Ae,ee,se;if(K){const en=ja[K];oe=en.vertexShader,Ae=en.fragmentShader}else oe=B.vertexShader,Ae=B.fragmentShader,A.update(B),ee=A.getVertexShaderID(B),se=A.getFragmentShaderID(B);const le=i.getRenderTarget(),J=T.isInstancedMesh===!0,me=!!B.map,ue=!!B.matcap,ge=!!L,fe=!!B.aoMap,we=!!B.lightMap,Fe=!!B.bumpMap,je=!!B.normalMap,De=!!B.displacementMap,Le=!!B.emissiveMap,tt=!!B.metalnessMap,Ie=!!B.roughnessMap,Xe=B.anisotropy>0,et=B.clearcoat>0,st=B.iridescence>0,re=B.sheen>0,X=B.transmission>0,Be=Xe&&!!B.anisotropyMap,We=et&&!!B.clearcoatMap,Se=et&&!!B.clearcoatNormalMap,ze=et&&!!B.clearcoatRoughnessMap,ut=st&&!!B.iridescenceMap,qe=st&&!!B.iridescenceThicknessMap,dt=re&&!!B.sheenColorMap,yt=re&&!!B.sheenRoughnessMap,Ut=!!B.specularMap,ye=!!B.specularColorMap,nt=!!B.specularIntensityMap,it=X&&!!B.transmissionMap,ct=X&&!!B.thicknessMap,rt=!!B.gradientMap,at=!!B.alphaMap,Bt=B.alphaTest>0,he=!!B.alphaHash,Ke=!!B.extensions,Ne=!!U.attributes.uv1,Ge=!!U.attributes.uv2,Je=!!U.attributes.uv3;let Gt=a0;return B.toneMapped&&(le===null||le.isXRRenderTarget===!0)&&(Gt=i.toneMapping),{isWebGL2:l,shaderID:K,shaderType:B.type,shaderName:B.name,vertexShader:oe,fragmentShader:Ae,defines:B.defines,customVertexShaderID:ee,customFragmentShaderID:se,isRawShaderMaterial:B.isRawShaderMaterial===!0,glslVersion:B.glslVersion,precision:h,instancing:J,instancingColor:J&&T.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:le===null?i.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:mA,map:me,matcap:ue,envMap:ge,envMapMode:ge&&L.mapping,envMapCubeUVHeight:k,aoMap:fe,lightMap:we,bumpMap:Fe,normalMap:je,displacementMap:d&&De,emissiveMap:Le,normalMapObjectSpace:je&&B.normalMapType===KJ,normalMapTangentSpace:je&&B.normalMapType===VJ,metalnessMap:tt,roughnessMap:Ie,anisotropy:Xe,anisotropyMap:Be,clearcoat:et,clearcoatMap:We,clearcoatNormalMap:Se,clearcoatRoughnessMap:ze,iridescence:st,iridescenceMap:ut,iridescenceThicknessMap:qe,sheen:re,sheenColorMap:dt,sheenRoughnessMap:yt,specularMap:Ut,specularColorMap:ye,specularIntensityMap:nt,transmission:X,transmissionMap:it,thicknessMap:ct,gradientMap:rt,opaque:B.transparent===!1&&B.blending===AA,alphaMap:at,alphaTest:Bt,alphaHash:he,combine:B.combine,mapUv:me&&y(B.map.channel),aoMapUv:fe&&y(B.aoMap.channel),lightMapUv:we&&y(B.lightMap.channel),bumpMapUv:Fe&&y(B.bumpMap.channel),normalMapUv:je&&y(B.normalMap.channel),displacementMapUv:De&&y(B.displacementMap.channel),emissiveMapUv:Le&&y(B.emissiveMap.channel),metalnessMapUv:tt&&y(B.metalnessMap.channel),roughnessMapUv:Ie&&y(B.roughnessMap.channel),anisotropyMapUv:Be&&y(B.anisotropyMap.channel),clearcoatMapUv:We&&y(B.clearcoatMap.channel),clearcoatNormalMapUv:Se&&y(B.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ze&&y(B.clearcoatRoughnessMap.channel),iridescenceMapUv:ut&&y(B.iridescenceMap.channel),iridescenceThicknessMapUv:qe&&y(B.iridescenceThicknessMap.channel),sheenColorMapUv:dt&&y(B.sheenColorMap.channel),sheenRoughnessMapUv:yt&&y(B.sheenRoughnessMap.channel),specularMapUv:Ut&&y(B.specularMap.channel),specularColorMapUv:ye&&y(B.specularColorMap.channel),specularIntensityMapUv:nt&&y(B.specularIntensityMap.channel),transmissionMapUv:it&&y(B.transmissionMap.channel),thicknessMapUv:ct&&y(B.thicknessMap.channel),alphaMapUv:at&&y(B.alphaMap.channel),vertexTangents:!!U.attributes.tangent&&(je||Xe),vertexColors:B.vertexColors,vertexAlphas:B.vertexColors===!0&&!!U.attributes.color&&U.attributes.color.itemSize===4,vertexUv1s:Ne,vertexUv2s:Ge,vertexUv3s:Je,pointsUvs:T.isPoints===!0&&!!U.attributes.uv&&(me||at),fog:!!M,useFog:B.fog===!0,fogExp2:M&&M.isFogExp2,flatShading:B.flatShading===!0,sizeAttenuation:B.sizeAttenuation===!0,logarithmicDepthBuffer:u,skinning:T.isSkinnedMesh===!0,morphTargets:U.morphAttributes.position!==void 0,morphNormals:U.morphAttributes.normal!==void 0,morphColors:U.morphAttributes.color!==void 0,morphTargetsCount:D,morphTextureStride:H,numDirLights:G.directional.length,numPointLights:G.point.length,numSpotLights:G.spot.length,numSpotLightMaps:G.spotLightMap.length,numRectAreaLights:G.rectArea.length,numHemiLights:G.hemi.length,numDirLightShadows:G.directionalShadowMap.length,numPointLightShadows:G.pointShadowMap.length,numSpotLightShadows:G.spotShadowMap.length,numSpotLightShadowsWithMaps:G.numSpotLightShadowsWithMaps,numLightProbes:G.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:B.dithering,shadowMapEnabled:i.shadowMap.enabled&&I.length>0,shadowMapType:i.shadowMap.type,toneMapping:Gt,useLegacyLights:i._useLegacyLights,decodeVideoTexture:me&&B.map.isVideoTexture===!0&&ii.getTransfer(B.map.colorSpace)===mi,premultipliedAlpha:B.premultipliedAlpha,doubleSided:B.side===Za,flipSided:B.side===zr,useDepthPacking:B.depthPacking>=0,depthPacking:B.depthPacking||0,index0AttributeName:B.index0AttributeName,extensionDerivatives:Ke&&B.extensions.derivatives===!0,extensionFragDepth:Ke&&B.extensions.fragDepth===!0,extensionDrawBuffers:Ke&&B.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ke&&B.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:l||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||n.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:B.customProgramCacheKey()}}function E(B){const G=[];if(B.shaderID?G.push(B.shaderID):(G.push(B.customVertexShaderID),G.push(B.customFragmentShaderID)),B.defines!==void 0)for(const I in B.defines)G.push(I),G.push(B.defines[I]);return B.isRawShaderMaterial===!1&&(R(G,B),p(G,B),G.push(i.outputColorSpace)),G.push(B.customProgramCacheKey),G.join()}function R(B,G){B.push(G.precision),B.push(G.outputColorSpace),B.push(G.envMapMode),B.push(G.envMapCubeUVHeight),B.push(G.mapUv),B.push(G.alphaMapUv),B.push(G.lightMapUv),B.push(G.aoMapUv),B.push(G.bumpMapUv),B.push(G.normalMapUv),B.push(G.displacementMapUv),B.push(G.emissiveMapUv),B.push(G.metalnessMapUv),B.push(G.roughnessMapUv),B.push(G.anisotropyMapUv),B.push(G.clearcoatMapUv),B.push(G.clearcoatNormalMapUv),B.push(G.clearcoatRoughnessMapUv),B.push(G.iridescenceMapUv),B.push(G.iridescenceThicknessMapUv),B.push(G.sheenColorMapUv),B.push(G.sheenRoughnessMapUv),B.push(G.specularMapUv),B.push(G.specularColorMapUv),B.push(G.specularIntensityMapUv),B.push(G.transmissionMapUv),B.push(G.thicknessMapUv),B.push(G.combine),B.push(G.fogExp2),B.push(G.sizeAttenuation),B.push(G.morphTargetsCount),B.push(G.morphAttributeCount),B.push(G.numDirLights),B.push(G.numPointLights),B.push(G.numSpotLights),B.push(G.numSpotLightMaps),B.push(G.numHemiLights),B.push(G.numRectAreaLights),B.push(G.numDirLightShadows),B.push(G.numPointLightShadows),B.push(G.numSpotLightShadows),B.push(G.numSpotLightShadowsWithMaps),B.push(G.numLightProbes),B.push(G.shadowMapType),B.push(G.toneMapping),B.push(G.numClippingPlanes),B.push(G.numClipIntersection),B.push(G.depthPacking)}function p(B,G){o.disableAll(),G.isWebGL2&&o.enable(0),G.supportsVertexTextures&&o.enable(1),G.instancing&&o.enable(2),G.instancingColor&&o.enable(3),G.matcap&&o.enable(4),G.envMap&&o.enable(5),G.normalMapObjectSpace&&o.enable(6),G.normalMapTangentSpace&&o.enable(7),G.clearcoat&&o.enable(8),G.iridescence&&o.enable(9),G.alphaTest&&o.enable(10),G.vertexColors&&o.enable(11),G.vertexAlphas&&o.enable(12),G.vertexUv1s&&o.enable(13),G.vertexUv2s&&o.enable(14),G.vertexUv3s&&o.enable(15),G.vertexTangents&&o.enable(16),G.anisotropy&&o.enable(17),G.alphaHash&&o.enable(18),B.push(o.mask),o.disableAll(),G.fog&&o.enable(0),G.useFog&&o.enable(1),G.flatShading&&o.enable(2),G.logarithmicDepthBuffer&&o.enable(3),G.skinning&&o.enable(4),G.morphTargets&&o.enable(5),G.morphNormals&&o.enable(6),G.morphColors&&o.enable(7),G.premultipliedAlpha&&o.enable(8),G.shadowMapEnabled&&o.enable(9),G.useLegacyLights&&o.enable(10),G.doubleSided&&o.enable(11),G.flipSided&&o.enable(12),G.useDepthPacking&&o.enable(13),G.dithering&&o.enable(14),G.transmission&&o.enable(15),G.sheen&&o.enable(16),G.opaque&&o.enable(17),G.pointsUvs&&o.enable(18),G.decodeVideoTexture&&o.enable(19),B.push(o.mask)}function w(B){const G=m[B.type];let I;if(G){const N=ja[G];I=V1.clone(N.uniforms)}else I=B.uniforms;return I}function v(B,G){let I;for(let N=0,T=c.length;N<T;N++){const M=c[N];if(M.cacheKey===G){I=M,++I.usedTimes;break}}return I===void 0&&(I=new Nre(i,G,B,s),c.push(I)),I}function _(B){if(--B.usedTimes===0){const G=c.indexOf(B);c[G]=c[c.length-1],c.pop(),B.destroy()}}function x(B){A.remove(B)}function C(){A.dispose()}return{getParameters:g,getProgramCacheKey:E,getUniforms:w,acquireProgram:v,releaseProgram:_,releaseShaderCache:x,programs:c,dispose:C}}function Ire(){let i=new WeakMap;function e(s){let a=i.get(s);return a===void 0&&(a={},i.set(s,a)),a}function t(s){i.delete(s)}function n(s,a,o){i.get(s)[a]=o}function r(){i=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function Ure(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function I8(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function U8(){const i=[];let e=0;const t=[],n=[],r=[];function s(){e=0,t.length=0,n.length=0,r.length=0}function a(u,d,h,m,y,g){let E=i[e];return E===void 0?(E={id:u.id,object:u,geometry:d,material:h,groupOrder:m,renderOrder:u.renderOrder,z:y,group:g},i[e]=E):(E.id=u.id,E.object=u,E.geometry=d,E.material=h,E.groupOrder=m,E.renderOrder=u.renderOrder,E.z=y,E.group=g),e++,E}function o(u,d,h,m,y,g){const E=a(u,d,h,m,y,g);h.transmission>0?n.push(E):h.transparent===!0?r.push(E):t.push(E)}function A(u,d,h,m,y,g){const E=a(u,d,h,m,y,g);h.transmission>0?n.unshift(E):h.transparent===!0?r.unshift(E):t.unshift(E)}function c(u,d){t.length>1&&t.sort(u||Ure),n.length>1&&n.sort(d||I8),r.length>1&&r.sort(d||I8)}function l(){for(let u=e,d=i.length;u<d;u++){const h=i[u];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:t,transmissive:n,transparent:r,init:s,push:o,unshift:A,finish:l,sort:c}}function Pre(){let i=new WeakMap;function e(n,r){const s=i.get(n);let a;return s===void 0?(a=new U8,i.set(n,[a])):r>=s.length?(a=new U8,s.push(a)):a=s[r],a}function t(){i=new WeakMap}return{get:e,dispose:t}}function Lre(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ne,color:new $t};break;case"SpotLight":t={position:new ne,direction:new ne,color:new $t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ne,color:new $t,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ne,skyColor:new $t,groundColor:new $t};break;case"RectAreaLight":t={color:new $t,position:new ne,halfWidth:new ne,halfHeight:new ne};break}return i[e.id]=t,t}}}function Dre(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bn};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bn};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bn,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let kre=0;function Ore(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function Qre(i,e){const t=new Lre,n=Dre(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let l=0;l<9;l++)r.probe.push(new ne);const s=new ne,a=new xt,o=new xt;function A(l,u){let d=0,h=0,m=0;for(let N=0;N<9;N++)r.probe[N].set(0,0,0);let y=0,g=0,E=0,R=0,p=0,w=0,v=0,_=0,x=0,C=0,B=0;l.sort(Ore);const G=u===!0?Math.PI:1;for(let N=0,T=l.length;N<T;N++){const M=l[N],U=M.color,z=M.intensity,L=M.distance,k=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)d+=U.r*z*G,h+=U.g*z*G,m+=U.b*z*G;else if(M.isLightProbe){for(let K=0;K<9;K++)r.probe[K].addScaledVector(M.sh.coefficients[K],z);B++}else if(M.isDirectionalLight){const K=t.get(M);if(K.color.copy(M.color).multiplyScalar(M.intensity*G),M.castShadow){const V=M.shadow,D=n.get(M);D.shadowBias=V.bias,D.shadowNormalBias=V.normalBias,D.shadowRadius=V.radius,D.shadowMapSize=V.mapSize,r.directionalShadow[y]=D,r.directionalShadowMap[y]=k,r.directionalShadowMatrix[y]=M.shadow.matrix,w++}r.directional[y]=K,y++}else if(M.isSpotLight){const K=t.get(M);K.position.setFromMatrixPosition(M.matrixWorld),K.color.copy(U).multiplyScalar(z*G),K.distance=L,K.coneCos=Math.cos(M.angle),K.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),K.decay=M.decay,r.spot[E]=K;const V=M.shadow;if(M.map&&(r.spotLightMap[x]=M.map,x++,V.updateMatrices(M),M.castShadow&&C++),r.spotLightMatrix[E]=V.matrix,M.castShadow){const D=n.get(M);D.shadowBias=V.bias,D.shadowNormalBias=V.normalBias,D.shadowRadius=V.radius,D.shadowMapSize=V.mapSize,r.spotShadow[E]=D,r.spotShadowMap[E]=k,_++}E++}else if(M.isRectAreaLight){const K=t.get(M);K.color.copy(U).multiplyScalar(z),K.halfWidth.set(M.width*.5,0,0),K.halfHeight.set(0,M.height*.5,0),r.rectArea[R]=K,R++}else if(M.isPointLight){const K=t.get(M);if(K.color.copy(M.color).multiplyScalar(M.intensity*G),K.distance=M.distance,K.decay=M.decay,M.castShadow){const V=M.shadow,D=n.get(M);D.shadowBias=V.bias,D.shadowNormalBias=V.normalBias,D.shadowRadius=V.radius,D.shadowMapSize=V.mapSize,D.shadowCameraNear=V.camera.near,D.shadowCameraFar=V.camera.far,r.pointShadow[g]=D,r.pointShadowMap[g]=k,r.pointShadowMatrix[g]=M.shadow.matrix,v++}r.point[g]=K,g++}else if(M.isHemisphereLight){const K=t.get(M);K.skyColor.copy(M.color).multiplyScalar(z*G),K.groundColor.copy(M.groundColor).multiplyScalar(z*G),r.hemi[p]=K,p++}}R>0&&(e.isWebGL2||i.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ft.LTC_FLOAT_1,r.rectAreaLTC2=Ft.LTC_FLOAT_2):i.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ft.LTC_HALF_1,r.rectAreaLTC2=Ft.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=d,r.ambient[1]=h,r.ambient[2]=m;const I=r.hash;(I.directionalLength!==y||I.pointLength!==g||I.spotLength!==E||I.rectAreaLength!==R||I.hemiLength!==p||I.numDirectionalShadows!==w||I.numPointShadows!==v||I.numSpotShadows!==_||I.numSpotMaps!==x||I.numLightProbes!==B)&&(r.directional.length=y,r.spot.length=E,r.rectArea.length=R,r.point.length=g,r.hemi.length=p,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=v,r.pointShadowMap.length=v,r.spotShadow.length=_,r.spotShadowMap.length=_,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=v,r.spotLightMatrix.length=_+x-C,r.spotLightMap.length=x,r.numSpotLightShadowsWithMaps=C,r.numLightProbes=B,I.directionalLength=y,I.pointLength=g,I.spotLength=E,I.rectAreaLength=R,I.hemiLength=p,I.numDirectionalShadows=w,I.numPointShadows=v,I.numSpotShadows=_,I.numSpotMaps=x,I.numLightProbes=B,r.version=kre++)}function c(l,u){let d=0,h=0,m=0,y=0,g=0;const E=u.matrixWorldInverse;for(let R=0,p=l.length;R<p;R++){const w=l[R];if(w.isDirectionalLight){const v=r.directional[d];v.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),v.direction.sub(s),v.direction.transformDirection(E),d++}else if(w.isSpotLight){const v=r.spot[m];v.position.setFromMatrixPosition(w.matrixWorld),v.position.applyMatrix4(E),v.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),v.direction.sub(s),v.direction.transformDirection(E),m++}else if(w.isRectAreaLight){const v=r.rectArea[y];v.position.setFromMatrixPosition(w.matrixWorld),v.position.applyMatrix4(E),o.identity(),a.copy(w.matrixWorld),a.premultiply(E),o.extractRotation(a),v.halfWidth.set(w.width*.5,0,0),v.halfHeight.set(0,w.height*.5,0),v.halfWidth.applyMatrix4(o),v.halfHeight.applyMatrix4(o),y++}else if(w.isPointLight){const v=r.point[h];v.position.setFromMatrixPosition(w.matrixWorld),v.position.applyMatrix4(E),h++}else if(w.isHemisphereLight){const v=r.hemi[g];v.direction.setFromMatrixPosition(w.matrixWorld),v.direction.transformDirection(E),g++}}}return{setup:A,setupView:c,state:r}}function P8(i,e){const t=new Qre(i,e),n=[],r=[];function s(){n.length=0,r.length=0}function a(u){n.push(u)}function o(u){r.push(u)}function A(u){t.setup(n,u)}function c(u){t.setupView(n,u)}return{init:s,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:A,setupLightsView:c,pushLight:a,pushShadow:o}}function Hre(i,e){let t=new WeakMap;function n(s,a=0){const o=t.get(s);let A;return o===void 0?(A=new P8(i,e),t.set(s,[A])):a>=o.length?(A=new P8(i,e),o.push(A)):A=o[a],A}function r(){t=new WeakMap}return{get:n,dispose:r}}class zre extends vu{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=HJ,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Vre extends vu{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Kre=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,$re=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Wre(i,e,t){let n=new j_;const r=new bn,s=new bn,a=new ur,o=new zre({depthPacking:zJ}),A=new Vre,c={},l=t.maxTextureSize,u={[pA]:zr,[zr]:pA,[Za]:Za},d=new Aa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new bn},radius:{value:4}},vertexShader:Kre,fragmentShader:$re}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const m=new tr;m.setAttribute("position",new zi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new io(m,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=QN;let E=this.type;this.render=function(v,_,x){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||v.length===0)return;const C=i.getRenderTarget(),B=i.getActiveCubeFace(),G=i.getActiveMipmapLevel(),I=i.state;I.setBlending(oA),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);const N=E!==Xo&&this.type===Xo,T=E===Xo&&this.type!==Xo;for(let M=0,U=v.length;M<U;M++){const z=v[M],L=z.shadow;if(L===void 0){console.warn("THREE.WebGLShadowMap:",z,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;r.copy(L.mapSize);const k=L.getFrameExtents();if(r.multiply(k),s.copy(L.mapSize),(r.x>l||r.y>l)&&(r.x>l&&(s.x=Math.floor(l/k.x),r.x=s.x*k.x,L.mapSize.x=s.x),r.y>l&&(s.y=Math.floor(l/k.y),r.y=s.y*k.y,L.mapSize.y=s.y)),L.map===null||N===!0||T===!0){const V=this.type!==Xo?{minFilter:oi,magFilter:oi}:{};L.map!==null&&L.map.dispose(),L.map=new oo(r.x,r.y,V),L.map.texture.name=z.name+".shadowMap",L.camera.updateProjectionMatrix()}i.setRenderTarget(L.map),i.clear();const K=L.getViewportCount();for(let V=0;V<K;V++){const D=L.getViewport(V);a.set(s.x*D.x,s.y*D.y,s.x*D.z,s.y*D.w),I.viewport(a),L.updateMatrices(z,V),n=L.getFrustum(),w(_,x,L.camera,z,this.type)}L.isPointLightShadow!==!0&&this.type===Xo&&R(L,x),L.needsUpdate=!1}E=this.type,g.needsUpdate=!1,i.setRenderTarget(C,B,G)};function R(v,_){const x=e.update(y);d.defines.VSM_SAMPLES!==v.blurSamples&&(d.defines.VSM_SAMPLES=v.blurSamples,h.defines.VSM_SAMPLES=v.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),v.mapPass===null&&(v.mapPass=new oo(r.x,r.y)),d.uniforms.shadow_pass.value=v.map.texture,d.uniforms.resolution.value=v.mapSize,d.uniforms.radius.value=v.radius,i.setRenderTarget(v.mapPass),i.clear(),i.renderBufferDirect(_,null,x,d,y,null),h.uniforms.shadow_pass.value=v.mapPass.texture,h.uniforms.resolution.value=v.mapSize,h.uniforms.radius.value=v.radius,i.setRenderTarget(v.map),i.clear(),i.renderBufferDirect(_,null,x,h,y,null)}function p(v,_,x,C){let B=null;const G=x.isPointLight===!0?v.customDistanceMaterial:v.customDepthMaterial;if(G!==void 0)B=G;else if(B=x.isPointLight===!0?A:o,i.localClippingEnabled&&_.clipShadows===!0&&Array.isArray(_.clippingPlanes)&&_.clippingPlanes.length!==0||_.displacementMap&&_.displacementScale!==0||_.alphaMap&&_.alphaTest>0||_.map&&_.alphaTest>0){const I=B.uuid,N=_.uuid;let T=c[I];T===void 0&&(T={},c[I]=T);let M=T[N];M===void 0&&(M=B.clone(),T[N]=M),B=M}if(B.visible=_.visible,B.wireframe=_.wireframe,C===Xo?B.side=_.shadowSide!==null?_.shadowSide:_.side:B.side=_.shadowSide!==null?_.shadowSide:u[_.side],B.alphaMap=_.alphaMap,B.alphaTest=_.alphaTest,B.map=_.map,B.clipShadows=_.clipShadows,B.clippingPlanes=_.clippingPlanes,B.clipIntersection=_.clipIntersection,B.displacementMap=_.displacementMap,B.displacementScale=_.displacementScale,B.displacementBias=_.displacementBias,B.wireframeLinewidth=_.wireframeLinewidth,B.linewidth=_.linewidth,x.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const I=i.properties.get(B);I.light=x}return B}function w(v,_,x,C,B){if(v.visible===!1)return;if(v.layers.test(_.layers)&&(v.isMesh||v.isLine||v.isPoints)&&(v.castShadow||v.receiveShadow&&B===Xo)&&(!v.frustumCulled||n.intersectsObject(v))){v.modelViewMatrix.multiplyMatrices(x.matrixWorldInverse,v.matrixWorld);const N=e.update(v),T=v.material;if(Array.isArray(T)){const M=N.groups;for(let U=0,z=M.length;U<z;U++){const L=M[U],k=T[L.materialIndex];if(k&&k.visible){const K=p(v,k,C,B);i.renderBufferDirect(x,null,N,K,v,L)}}}else if(T.visible){const M=p(v,T,C,B);i.renderBufferDirect(x,null,N,M,v,null)}}const I=v.children;for(let N=0,T=I.length;N<T;N++)w(I[N],_,x,C,B)}}function qre(i,e,t){const n=t.isWebGL2;function r(){let he=!1;const Ke=new ur;let Ne=null;const Ge=new ur(0,0,0,0);return{setMask:function(Je){Ne!==Je&&!he&&(i.colorMask(Je,Je,Je,Je),Ne=Je)},setLocked:function(Je){he=Je},setClear:function(Je,Gt,on,en,Q){Q===!0&&(Je*=en,Gt*=en,on*=en),Ke.set(Je,Gt,on,en),Ge.equals(Ke)===!1&&(i.clearColor(Je,Gt,on,en),Ge.copy(Ke))},reset:function(){he=!1,Ne=null,Ge.set(-1,0,0,0)}}}function s(){let he=!1,Ke=null,Ne=null,Ge=null;return{setTest:function(Je){Je?me(i.DEPTH_TEST):ue(i.DEPTH_TEST)},setMask:function(Je){Ke!==Je&&!he&&(i.depthMask(Je),Ke=Je)},setFunc:function(Je){if(Ne!==Je){switch(Je){case yJ:i.depthFunc(i.NEVER);break;case wJ:i.depthFunc(i.ALWAYS);break;case bJ:i.depthFunc(i.LESS);break;case Pm:i.depthFunc(i.LEQUAL);break;case EJ:i.depthFunc(i.EQUAL);break;case _J:i.depthFunc(i.GEQUAL);break;case vJ:i.depthFunc(i.GREATER);break;case xJ:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}Ne=Je}},setLocked:function(Je){he=Je},setClear:function(Je){Ge!==Je&&(i.clearDepth(Je),Ge=Je)},reset:function(){he=!1,Ke=null,Ne=null,Ge=null}}}function a(){let he=!1,Ke=null,Ne=null,Ge=null,Je=null,Gt=null,on=null,en=null,Q=null;return{setTest:function(Y){he||(Y?me(i.STENCIL_TEST):ue(i.STENCIL_TEST))},setMask:function(Y){Ke!==Y&&!he&&(i.stencilMask(Y),Ke=Y)},setFunc:function(Y,Z,ce){(Ne!==Y||Ge!==Z||Je!==ce)&&(i.stencilFunc(Y,Z,ce),Ne=Y,Ge=Z,Je=ce)},setOp:function(Y,Z,ce){(Gt!==Y||on!==Z||en!==ce)&&(i.stencilOp(Y,Z,ce),Gt=Y,on=Z,en=ce)},setLocked:function(Y){he=Y},setClear:function(Y){Q!==Y&&(i.clearStencil(Y),Q=Y)},reset:function(){he=!1,Ke=null,Ne=null,Ge=null,Je=null,Gt=null,on=null,en=null,Q=null}}}const o=new r,A=new s,c=new a,l=new WeakMap,u=new WeakMap;let d={},h={},m=new WeakMap,y=[],g=null,E=!1,R=null,p=null,w=null,v=null,_=null,x=null,C=null,B=new $t(0,0,0),G=0,I=!1,N=null,T=null,M=null,U=null,z=null;const L=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,K=0;const V=i.getParameter(i.VERSION);V.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(V)[1]),k=K>=1):V.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),k=K>=2);let D=null,H={};const oe=i.getParameter(i.SCISSOR_BOX),Ae=i.getParameter(i.VIEWPORT),ee=new ur().fromArray(oe),se=new ur().fromArray(Ae);function le(he,Ke,Ne,Ge){const Je=new Uint8Array(4),Gt=i.createTexture();i.bindTexture(he,Gt),i.texParameteri(he,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(he,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let on=0;on<Ne;on++)n&&(he===i.TEXTURE_3D||he===i.TEXTURE_2D_ARRAY)?i.texImage3D(Ke,0,i.RGBA,1,1,Ge,0,i.RGBA,i.UNSIGNED_BYTE,Je):i.texImage2D(Ke+on,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,Je);return Gt}const J={};J[i.TEXTURE_2D]=le(i.TEXTURE_2D,i.TEXTURE_2D,1),J[i.TEXTURE_CUBE_MAP]=le(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(J[i.TEXTURE_2D_ARRAY]=le(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),J[i.TEXTURE_3D]=le(i.TEXTURE_3D,i.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),A.setClear(1),c.setClear(0),me(i.DEPTH_TEST),A.setFunc(Pm),tt(!1),Ie(w9),me(i.CULL_FACE),De(oA);function me(he){d[he]!==!0&&(i.enable(he),d[he]=!0)}function ue(he){d[he]!==!1&&(i.disable(he),d[he]=!1)}function ge(he,Ke){return h[he]!==Ke?(i.bindFramebuffer(he,Ke),h[he]=Ke,n&&(he===i.DRAW_FRAMEBUFFER&&(h[i.FRAMEBUFFER]=Ke),he===i.FRAMEBUFFER&&(h[i.DRAW_FRAMEBUFFER]=Ke)),!0):!1}function fe(he,Ke){let Ne=y,Ge=!1;if(he)if(Ne=m.get(Ke),Ne===void 0&&(Ne=[],m.set(Ke,Ne)),he.isWebGLMultipleRenderTargets){const Je=he.texture;if(Ne.length!==Je.length||Ne[0]!==i.COLOR_ATTACHMENT0){for(let Gt=0,on=Je.length;Gt<on;Gt++)Ne[Gt]=i.COLOR_ATTACHMENT0+Gt;Ne.length=Je.length,Ge=!0}}else Ne[0]!==i.COLOR_ATTACHMENT0&&(Ne[0]=i.COLOR_ATTACHMENT0,Ge=!0);else Ne[0]!==i.BACK&&(Ne[0]=i.BACK,Ge=!0);Ge&&(t.isWebGL2?i.drawBuffers(Ne):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ne))}function we(he){return g!==he?(i.useProgram(he),g=he,!0):!1}const Fe={[ic]:i.FUNC_ADD,[iJ]:i.FUNC_SUBTRACT,[rJ]:i.FUNC_REVERSE_SUBTRACT};if(n)Fe[_9]=i.MIN,Fe[v9]=i.MAX;else{const he=e.get("EXT_blend_minmax");he!==null&&(Fe[_9]=he.MIN_EXT,Fe[v9]=he.MAX_EXT)}const je={[sJ]:i.ZERO,[aJ]:i.ONE,[oJ]:i.SRC_COLOR,[iE]:i.SRC_ALPHA,[fJ]:i.SRC_ALPHA_SATURATE,[uJ]:i.DST_COLOR,[cJ]:i.DST_ALPHA,[AJ]:i.ONE_MINUS_SRC_COLOR,[rE]:i.ONE_MINUS_SRC_ALPHA,[dJ]:i.ONE_MINUS_DST_COLOR,[lJ]:i.ONE_MINUS_DST_ALPHA,[hJ]:i.CONSTANT_COLOR,[pJ]:i.ONE_MINUS_CONSTANT_COLOR,[mJ]:i.CONSTANT_ALPHA,[gJ]:i.ONE_MINUS_CONSTANT_ALPHA};function De(he,Ke,Ne,Ge,Je,Gt,on,en,Q,Y){if(he===oA){E===!0&&(ue(i.BLEND),E=!1);return}if(E===!1&&(me(i.BLEND),E=!0),he!==nJ){if(he!==R||Y!==I){if((p!==ic||_!==ic)&&(i.blendEquation(i.FUNC_ADD),p=ic,_=ic),Y)switch(he){case AA:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case nE:i.blendFunc(i.ONE,i.ONE);break;case b9:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case E9:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}else switch(he){case AA:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case nE:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case b9:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case E9:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}w=null,v=null,x=null,C=null,B.set(0,0,0),G=0,R=he,I=Y}return}Je=Je||Ke,Gt=Gt||Ne,on=on||Ge,(Ke!==p||Je!==_)&&(i.blendEquationSeparate(Fe[Ke],Fe[Je]),p=Ke,_=Je),(Ne!==w||Ge!==v||Gt!==x||on!==C)&&(i.blendFuncSeparate(je[Ne],je[Ge],je[Gt],je[on]),w=Ne,v=Ge,x=Gt,C=on),(en.equals(B)===!1||Q!==G)&&(i.blendColor(en.r,en.g,en.b,Q),B.copy(en),G=Q),R=he,I=!1}function Le(he,Ke){he.side===Za?ue(i.CULL_FACE):me(i.CULL_FACE);let Ne=he.side===zr;Ke&&(Ne=!Ne),tt(Ne),he.blending===AA&&he.transparent===!1?De(oA):De(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.blendColor,he.blendAlpha,he.premultipliedAlpha),A.setFunc(he.depthFunc),A.setTest(he.depthTest),A.setMask(he.depthWrite),o.setMask(he.colorWrite);const Ge=he.stencilWrite;c.setTest(Ge),Ge&&(c.setMask(he.stencilWriteMask),c.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),c.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),et(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?me(i.SAMPLE_ALPHA_TO_COVERAGE):ue(i.SAMPLE_ALPHA_TO_COVERAGE)}function tt(he){N!==he&&(he?i.frontFace(i.CW):i.frontFace(i.CCW),N=he)}function Ie(he){he!==JZ?(me(i.CULL_FACE),he!==T&&(he===w9?i.cullFace(i.BACK):he===eJ?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):ue(i.CULL_FACE),T=he}function Xe(he){he!==M&&(k&&i.lineWidth(he),M=he)}function et(he,Ke,Ne){he?(me(i.POLYGON_OFFSET_FILL),(U!==Ke||z!==Ne)&&(i.polygonOffset(Ke,Ne),U=Ke,z=Ne)):ue(i.POLYGON_OFFSET_FILL)}function st(he){he?me(i.SCISSOR_TEST):ue(i.SCISSOR_TEST)}function re(he){he===void 0&&(he=i.TEXTURE0+L-1),D!==he&&(i.activeTexture(he),D=he)}function X(he,Ke,Ne){Ne===void 0&&(D===null?Ne=i.TEXTURE0+L-1:Ne=D);let Ge=H[Ne];Ge===void 0&&(Ge={type:void 0,texture:void 0},H[Ne]=Ge),(Ge.type!==he||Ge.texture!==Ke)&&(D!==Ne&&(i.activeTexture(Ne),D=Ne),i.bindTexture(he,Ke||J[he]),Ge.type=he,Ge.texture=Ke)}function Be(){const he=H[D];he!==void 0&&he.type!==void 0&&(i.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function We(){try{i.compressedTexImage2D.apply(i,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Se(){try{i.compressedTexImage3D.apply(i,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ze(){try{i.texSubImage2D.apply(i,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ut(){try{i.texSubImage3D.apply(i,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function qe(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function dt(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function yt(){try{i.texStorage2D.apply(i,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ut(){try{i.texStorage3D.apply(i,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ye(){try{i.texImage2D.apply(i,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function nt(){try{i.texImage3D.apply(i,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function it(he){ee.equals(he)===!1&&(i.scissor(he.x,he.y,he.z,he.w),ee.copy(he))}function ct(he){se.equals(he)===!1&&(i.viewport(he.x,he.y,he.z,he.w),se.copy(he))}function rt(he,Ke){let Ne=u.get(Ke);Ne===void 0&&(Ne=new WeakMap,u.set(Ke,Ne));let Ge=Ne.get(he);Ge===void 0&&(Ge=i.getUniformBlockIndex(Ke,he.name),Ne.set(he,Ge))}function at(he,Ke){const Ge=u.get(Ke).get(he);l.get(Ke)!==Ge&&(i.uniformBlockBinding(Ke,Ge,he.__bindingPointIndex),l.set(Ke,Ge))}function Bt(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),n===!0&&(i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),d={},D=null,H={},h={},m=new WeakMap,y=[],g=null,E=!1,R=null,p=null,w=null,v=null,_=null,x=null,C=null,B=new $t(0,0,0),G=0,I=!1,N=null,T=null,M=null,U=null,z=null,ee.set(0,0,i.canvas.width,i.canvas.height),se.set(0,0,i.canvas.width,i.canvas.height),o.reset(),A.reset(),c.reset()}return{buffers:{color:o,depth:A,stencil:c},enable:me,disable:ue,bindFramebuffer:ge,drawBuffers:fe,useProgram:we,setBlending:De,setMaterial:Le,setFlipSided:tt,setCullFace:Ie,setLineWidth:Xe,setPolygonOffset:et,setScissorTest:st,activeTexture:re,bindTexture:X,unbindTexture:Be,compressedTexImage2D:We,compressedTexImage3D:Se,texImage2D:ye,texImage3D:nt,updateUBOMapping:rt,uniformBlockBinding:at,texStorage2D:yt,texStorage3D:Ut,texSubImage2D:ze,texSubImage3D:ut,compressedTexSubImage2D:qe,compressedTexSubImage3D:dt,scissor:it,viewport:ct,reset:Bt}}function Yre(i,e,t,n,r,s,a){const o=r.isWebGL2,A=r.maxTextures,c=r.maxCubemapSize,l=r.maxTextureSize,u=r.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let y;const g=new WeakMap;let E=!1;try{E=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function R(re,X){return E?new OffscreenCanvas(re,X):Qm("canvas")}function p(re,X,Be,We){let Se=1;if((re.width>We||re.height>We)&&(Se=We/Math.max(re.width,re.height)),Se<1||X===!0)if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap){const ze=X?uE:Math.floor,ut=ze(Se*re.width),qe=ze(Se*re.height);y===void 0&&(y=R(ut,qe));const dt=Be?R(ut,qe):y;return dt.width=ut,dt.height=qe,dt.getContext("2d").drawImage(re,0,0,ut,qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+re.width+"x"+re.height+") to ("+ut+"x"+qe+")."),dt}else return"data"in re&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+re.width+"x"+re.height+")."),re;return re}function w(re){return Z9(re.width)&&Z9(re.height)}function v(re){return o?!1:re.wrapS!==Fa||re.wrapT!==Fa||re.minFilter!==oi&&re.minFilter!==Tr}function _(re,X){return re.generateMipmaps&&X&&re.minFilter!==oi&&re.minFilter!==Tr}function x(re){i.generateMipmap(re)}function C(re,X,Be,We,Se=!1){if(o===!1)return X;if(re!==null){if(i[re]!==void 0)return i[re];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let ze=X;if(X===i.RED&&(Be===i.FLOAT&&(ze=i.R32F),Be===i.HALF_FLOAT&&(ze=i.R16F),Be===i.UNSIGNED_BYTE&&(ze=i.R8)),X===i.RED_INTEGER&&(Be===i.UNSIGNED_BYTE&&(ze=i.R8UI),Be===i.UNSIGNED_SHORT&&(ze=i.R16UI),Be===i.UNSIGNED_INT&&(ze=i.R32UI),Be===i.BYTE&&(ze=i.R8I),Be===i.SHORT&&(ze=i.R16I),Be===i.INT&&(ze=i.R32I)),X===i.RG&&(Be===i.FLOAT&&(ze=i.RG32F),Be===i.HALF_FLOAT&&(ze=i.RG16F),Be===i.UNSIGNED_BYTE&&(ze=i.RG8)),X===i.RGBA){const ut=Se?Lm:ii.getTransfer(We);Be===i.FLOAT&&(ze=i.RGBA32F),Be===i.HALF_FLOAT&&(ze=i.RGBA16F),Be===i.UNSIGNED_BYTE&&(ze=ut===mi?i.SRGB8_ALPHA8:i.RGBA8),Be===i.UNSIGNED_SHORT_4_4_4_4&&(ze=i.RGBA4),Be===i.UNSIGNED_SHORT_5_5_5_1&&(ze=i.RGB5_A1)}return(ze===i.R16F||ze===i.R32F||ze===i.RG16F||ze===i.RG32F||ze===i.RGBA16F||ze===i.RGBA32F)&&e.get("EXT_color_buffer_float"),ze}function B(re,X,Be){return _(re,Be)===!0||re.isFramebufferTexture&&re.minFilter!==oi&&re.minFilter!==Tr?Math.log2(Math.max(X.width,X.height))+1:re.mipmaps!==void 0&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?X.mipmaps.length:1}function G(re){return re===oi||re===x9||re===c2?i.NEAREST:i.LINEAR}function I(re){const X=re.target;X.removeEventListener("dispose",I),T(X),X.isVideoTexture&&m.delete(X)}function N(re){const X=re.target;X.removeEventListener("dispose",N),U(X)}function T(re){const X=n.get(re);if(X.__webglInit===void 0)return;const Be=re.source,We=g.get(Be);if(We){const Se=We[X.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&M(re),Object.keys(We).length===0&&g.delete(Be)}n.remove(re)}function M(re){const X=n.get(re);i.deleteTexture(X.__webglTexture);const Be=re.source,We=g.get(Be);delete We[X.__cacheKey],a.memory.textures--}function U(re){const X=re.texture,Be=n.get(re),We=n.get(X);if(We.__webglTexture!==void 0&&(i.deleteTexture(We.__webglTexture),a.memory.textures--),re.depthTexture&&re.depthTexture.dispose(),re.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++){if(Array.isArray(Be.__webglFramebuffer[Se]))for(let ze=0;ze<Be.__webglFramebuffer[Se].length;ze++)i.deleteFramebuffer(Be.__webglFramebuffer[Se][ze]);else i.deleteFramebuffer(Be.__webglFramebuffer[Se]);Be.__webglDepthbuffer&&i.deleteRenderbuffer(Be.__webglDepthbuffer[Se])}else{if(Array.isArray(Be.__webglFramebuffer))for(let Se=0;Se<Be.__webglFramebuffer.length;Se++)i.deleteFramebuffer(Be.__webglFramebuffer[Se]);else i.deleteFramebuffer(Be.__webglFramebuffer);if(Be.__webglDepthbuffer&&i.deleteRenderbuffer(Be.__webglDepthbuffer),Be.__webglMultisampledFramebuffer&&i.deleteFramebuffer(Be.__webglMultisampledFramebuffer),Be.__webglColorRenderbuffer)for(let Se=0;Se<Be.__webglColorRenderbuffer.length;Se++)Be.__webglColorRenderbuffer[Se]&&i.deleteRenderbuffer(Be.__webglColorRenderbuffer[Se]);Be.__webglDepthRenderbuffer&&i.deleteRenderbuffer(Be.__webglDepthRenderbuffer)}if(re.isWebGLMultipleRenderTargets)for(let Se=0,ze=X.length;Se<ze;Se++){const ut=n.get(X[Se]);ut.__webglTexture&&(i.deleteTexture(ut.__webglTexture),a.memory.textures--),n.remove(X[Se])}n.remove(X),n.remove(re)}let z=0;function L(){z=0}function k(){const re=z;return re>=A&&console.warn("THREE.WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+A),z+=1,re}function K(re){const X=[];return X.push(re.wrapS),X.push(re.wrapT),X.push(re.wrapR||0),X.push(re.magFilter),X.push(re.minFilter),X.push(re.anisotropy),X.push(re.internalFormat),X.push(re.format),X.push(re.type),X.push(re.generateMipmaps),X.push(re.premultiplyAlpha),X.push(re.flipY),X.push(re.unpackAlignment),X.push(re.colorSpace),X.join()}function V(re,X){const Be=n.get(re);if(re.isVideoTexture&&et(re),re.isRenderTargetTexture===!1&&re.version>0&&Be.__version!==re.version){const We=re.image;if(We===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(We.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{me(Be,re,X);return}}t.bindTexture(i.TEXTURE_2D,Be.__webglTexture,i.TEXTURE0+X)}function D(re,X){const Be=n.get(re);if(re.version>0&&Be.__version!==re.version){me(Be,re,X);return}t.bindTexture(i.TEXTURE_2D_ARRAY,Be.__webglTexture,i.TEXTURE0+X)}function H(re,X){const Be=n.get(re);if(re.version>0&&Be.__version!==re.version){me(Be,re,X);return}t.bindTexture(i.TEXTURE_3D,Be.__webglTexture,i.TEXTURE0+X)}function oe(re,X){const Be=n.get(re);if(re.version>0&&Be.__version!==re.version){ue(Be,re,X);return}t.bindTexture(i.TEXTURE_CUBE_MAP,Be.__webglTexture,i.TEXTURE0+X)}const Ae={[oE]:i.REPEAT,[Fa]:i.CLAMP_TO_EDGE,[AE]:i.MIRRORED_REPEAT},ee={[oi]:i.NEAREST,[x9]:i.NEAREST_MIPMAP_NEAREST,[c2]:i.NEAREST_MIPMAP_LINEAR,[Tr]:i.LINEAR,[GJ]:i.LINEAR_MIPMAP_NEAREST,[vf]:i.LINEAR_MIPMAP_LINEAR},se={[$J]:i.NEVER,[JJ]:i.ALWAYS,[WJ]:i.LESS,[YJ]:i.LEQUAL,[qJ]:i.EQUAL,[ZJ]:i.GEQUAL,[XJ]:i.GREATER,[jJ]:i.NOTEQUAL};function le(re,X,Be){if(Be?(i.texParameteri(re,i.TEXTURE_WRAP_S,Ae[X.wrapS]),i.texParameteri(re,i.TEXTURE_WRAP_T,Ae[X.wrapT]),(re===i.TEXTURE_3D||re===i.TEXTURE_2D_ARRAY)&&i.texParameteri(re,i.TEXTURE_WRAP_R,Ae[X.wrapR]),i.texParameteri(re,i.TEXTURE_MAG_FILTER,ee[X.magFilter]),i.texParameteri(re,i.TEXTURE_MIN_FILTER,ee[X.minFilter])):(i.texParameteri(re,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(re,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),(re===i.TEXTURE_3D||re===i.TEXTURE_2D_ARRAY)&&i.texParameteri(re,i.TEXTURE_WRAP_R,i.CLAMP_TO_EDGE),(X.wrapS!==Fa||X.wrapT!==Fa)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(re,i.TEXTURE_MAG_FILTER,G(X.magFilter)),i.texParameteri(re,i.TEXTURE_MIN_FILTER,G(X.minFilter)),X.minFilter!==oi&&X.minFilter!==Tr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),X.compareFunction&&(i.texParameteri(re,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(re,i.TEXTURE_COMPARE_FUNC,se[X.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const We=e.get("EXT_texture_filter_anisotropic");if(X.magFilter===oi||X.minFilter!==c2&&X.minFilter!==vf||X.type===Pa&&e.has("OES_texture_float_linear")===!1||o===!1&&X.type===_c&&e.has("OES_texture_half_float_linear")===!1)return;(X.anisotropy>1||n.get(X).__currentAnisotropy)&&(i.texParameterf(re,We.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(X.anisotropy,r.getMaxAnisotropy())),n.get(X).__currentAnisotropy=X.anisotropy)}}function J(re,X){let Be=!1;re.__webglInit===void 0&&(re.__webglInit=!0,X.addEventListener("dispose",I));const We=X.source;let Se=g.get(We);Se===void 0&&(Se={},g.set(We,Se));const ze=K(X);if(ze!==re.__cacheKey){Se[ze]===void 0&&(Se[ze]={texture:i.createTexture(),usedTimes:0},a.memory.textures++,Be=!0),Se[ze].usedTimes++;const ut=Se[re.__cacheKey];ut!==void 0&&(Se[re.__cacheKey].usedTimes--,ut.usedTimes===0&&M(X)),re.__cacheKey=ze,re.__webglTexture=Se[ze].texture}return Be}function me(re,X,Be){let We=i.TEXTURE_2D;(X.isDataArrayTexture||X.isCompressedArrayTexture)&&(We=i.TEXTURE_2D_ARRAY),X.isData3DTexture&&(We=i.TEXTURE_3D);const Se=J(re,X),ze=X.source;t.bindTexture(We,re.__webglTexture,i.TEXTURE0+Be);const ut=n.get(ze);if(ze.version!==ut.__version||Se===!0){t.activeTexture(i.TEXTURE0+Be);const qe=ii.getPrimaries(ii.workingColorSpace),dt=X.colorSpace===ia?null:ii.getPrimaries(X.colorSpace),yt=X.colorSpace===ia||qe===dt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,X.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,X.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);const Ut=v(X)&&w(X.image)===!1;let ye=p(X.image,Ut,!1,l);ye=st(X,ye);const nt=w(ye)||o,it=s.convert(X.format,X.colorSpace);let ct=s.convert(X.type),rt=C(X.internalFormat,it,ct,X.colorSpace,X.isVideoTexture);le(We,X,nt);let at;const Bt=X.mipmaps,he=o&&X.isVideoTexture!==!0,Ke=ut.__version===void 0||Se===!0,Ne=B(X,ye,nt);if(X.isDepthTexture)rt=i.DEPTH_COMPONENT,o?X.type===Pa?rt=i.DEPTH_COMPONENT32F:X.type===n0?rt=i.DEPTH_COMPONENT24:X.type===fc?rt=i.DEPTH24_STENCIL8:rt=i.DEPTH_COMPONENT16:X.type===Pa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),X.format===hc&&rt===i.DEPTH_COMPONENT&&X.type!==q_&&X.type!==n0&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),X.type=n0,ct=s.convert(X.type)),X.format===uu&&rt===i.DEPTH_COMPONENT&&(rt=i.DEPTH_STENCIL,X.type!==fc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),X.type=fc,ct=s.convert(X.type))),Ke&&(he?t.texStorage2D(i.TEXTURE_2D,1,rt,ye.width,ye.height):t.texImage2D(i.TEXTURE_2D,0,rt,ye.width,ye.height,0,it,ct,null));else if(X.isDataTexture)if(Bt.length>0&&nt){he&&Ke&&t.texStorage2D(i.TEXTURE_2D,Ne,rt,Bt[0].width,Bt[0].height);for(let Ge=0,Je=Bt.length;Ge<Je;Ge++)at=Bt[Ge],he?t.texSubImage2D(i.TEXTURE_2D,Ge,0,0,at.width,at.height,it,ct,at.data):t.texImage2D(i.TEXTURE_2D,Ge,rt,at.width,at.height,0,it,ct,at.data);X.generateMipmaps=!1}else he?(Ke&&t.texStorage2D(i.TEXTURE_2D,Ne,rt,ye.width,ye.height),t.texSubImage2D(i.TEXTURE_2D,0,0,0,ye.width,ye.height,it,ct,ye.data)):t.texImage2D(i.TEXTURE_2D,0,rt,ye.width,ye.height,0,it,ct,ye.data);else if(X.isCompressedTexture)if(X.isCompressedArrayTexture){he&&Ke&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Ne,rt,Bt[0].width,Bt[0].height,ye.depth);for(let Ge=0,Je=Bt.length;Ge<Je;Ge++)at=Bt[Ge],X.format!==os?it!==null?he?t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Ge,0,0,0,at.width,at.height,ye.depth,it,at.data,0,0):t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,Ge,rt,at.width,at.height,ye.depth,0,at.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):he?t.texSubImage3D(i.TEXTURE_2D_ARRAY,Ge,0,0,0,at.width,at.height,ye.depth,it,ct,at.data):t.texImage3D(i.TEXTURE_2D_ARRAY,Ge,rt,at.width,at.height,ye.depth,0,it,ct,at.data)}else{he&&Ke&&t.texStorage2D(i.TEXTURE_2D,Ne,rt,Bt[0].width,Bt[0].height);for(let Ge=0,Je=Bt.length;Ge<Je;Ge++)at=Bt[Ge],X.format!==os?it!==null?he?t.compressedTexSubImage2D(i.TEXTURE_2D,Ge,0,0,at.width,at.height,it,at.data):t.compressedTexImage2D(i.TEXTURE_2D,Ge,rt,at.width,at.height,0,at.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):he?t.texSubImage2D(i.TEXTURE_2D,Ge,0,0,at.width,at.height,it,ct,at.data):t.texImage2D(i.TEXTURE_2D,Ge,rt,at.width,at.height,0,it,ct,at.data)}else if(X.isDataArrayTexture)he?(Ke&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Ne,rt,ye.width,ye.height,ye.depth),t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,ye.width,ye.height,ye.depth,it,ct,ye.data)):t.texImage3D(i.TEXTURE_2D_ARRAY,0,rt,ye.width,ye.height,ye.depth,0,it,ct,ye.data);else if(X.isData3DTexture)he?(Ke&&t.texStorage3D(i.TEXTURE_3D,Ne,rt,ye.width,ye.height,ye.depth),t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,ye.width,ye.height,ye.depth,it,ct,ye.data)):t.texImage3D(i.TEXTURE_3D,0,rt,ye.width,ye.height,ye.depth,0,it,ct,ye.data);else if(X.isFramebufferTexture){if(Ke)if(he)t.texStorage2D(i.TEXTURE_2D,Ne,rt,ye.width,ye.height);else{let Ge=ye.width,Je=ye.height;for(let Gt=0;Gt<Ne;Gt++)t.texImage2D(i.TEXTURE_2D,Gt,rt,Ge,Je,0,it,ct,null),Ge>>=1,Je>>=1}}else if(Bt.length>0&&nt){he&&Ke&&t.texStorage2D(i.TEXTURE_2D,Ne,rt,Bt[0].width,Bt[0].height);for(let Ge=0,Je=Bt.length;Ge<Je;Ge++)at=Bt[Ge],he?t.texSubImage2D(i.TEXTURE_2D,Ge,0,0,it,ct,at):t.texImage2D(i.TEXTURE_2D,Ge,rt,it,ct,at);X.generateMipmaps=!1}else he?(Ke&&t.texStorage2D(i.TEXTURE_2D,Ne,rt,ye.width,ye.height),t.texSubImage2D(i.TEXTURE_2D,0,0,0,it,ct,ye)):t.texImage2D(i.TEXTURE_2D,0,rt,it,ct,ye);_(X,nt)&&x(We),ut.__version=ze.version,X.onUpdate&&X.onUpdate(X)}re.__version=X.version}function ue(re,X,Be){if(X.image.length!==6)return;const We=J(re,X),Se=X.source;t.bindTexture(i.TEXTURE_CUBE_MAP,re.__webglTexture,i.TEXTURE0+Be);const ze=n.get(Se);if(Se.version!==ze.__version||We===!0){t.activeTexture(i.TEXTURE0+Be);const ut=ii.getPrimaries(ii.workingColorSpace),qe=X.colorSpace===ia?null:ii.getPrimaries(X.colorSpace),dt=X.colorSpace===ia||ut===qe?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,X.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,X.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,dt);const yt=X.isCompressedTexture||X.image[0].isCompressedTexture,Ut=X.image[0]&&X.image[0].isDataTexture,ye=[];for(let Ge=0;Ge<6;Ge++)!yt&&!Ut?ye[Ge]=p(X.image[Ge],!1,!0,c):ye[Ge]=Ut?X.image[Ge].image:X.image[Ge],ye[Ge]=st(X,ye[Ge]);const nt=ye[0],it=w(nt)||o,ct=s.convert(X.format,X.colorSpace),rt=s.convert(X.type),at=C(X.internalFormat,ct,rt,X.colorSpace),Bt=o&&X.isVideoTexture!==!0,he=ze.__version===void 0||We===!0;let Ke=B(X,nt,it);le(i.TEXTURE_CUBE_MAP,X,it);let Ne;if(yt){Bt&&he&&t.texStorage2D(i.TEXTURE_CUBE_MAP,Ke,at,nt.width,nt.height);for(let Ge=0;Ge<6;Ge++){Ne=ye[Ge].mipmaps;for(let Je=0;Je<Ne.length;Je++){const Gt=Ne[Je];X.format!==os?ct!==null?Bt?t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Je,0,0,Gt.width,Gt.height,ct,Gt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Je,at,Gt.width,Gt.height,0,Gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Bt?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Je,0,0,Gt.width,Gt.height,ct,rt,Gt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Je,at,Gt.width,Gt.height,0,ct,rt,Gt.data)}}}else{Ne=X.mipmaps,Bt&&he&&(Ne.length>0&&Ke++,t.texStorage2D(i.TEXTURE_CUBE_MAP,Ke,at,ye[0].width,ye[0].height));for(let Ge=0;Ge<6;Ge++)if(Ut){Bt?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,ye[Ge].width,ye[Ge].height,ct,rt,ye[Ge].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,at,ye[Ge].width,ye[Ge].height,0,ct,rt,ye[Ge].data);for(let Je=0;Je<Ne.length;Je++){const on=Ne[Je].image[Ge].image;Bt?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Je+1,0,0,on.width,on.height,ct,rt,on.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Je+1,at,on.width,on.height,0,ct,rt,on.data)}}else{Bt?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,ct,rt,ye[Ge]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,at,ct,rt,ye[Ge]);for(let Je=0;Je<Ne.length;Je++){const Gt=Ne[Je];Bt?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Je+1,0,0,ct,rt,Gt.image[Ge]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Je+1,at,ct,rt,Gt.image[Ge])}}}_(X,it)&&x(i.TEXTURE_CUBE_MAP),ze.__version=Se.version,X.onUpdate&&X.onUpdate(X)}re.__version=X.version}function ge(re,X,Be,We,Se,ze){const ut=s.convert(Be.format,Be.colorSpace),qe=s.convert(Be.type),dt=C(Be.internalFormat,ut,qe,Be.colorSpace);if(!n.get(X).__hasExternalTextures){const Ut=Math.max(1,X.width>>ze),ye=Math.max(1,X.height>>ze);Se===i.TEXTURE_3D||Se===i.TEXTURE_2D_ARRAY?t.texImage3D(Se,ze,dt,Ut,ye,X.depth,0,ut,qe,null):t.texImage2D(Se,ze,dt,Ut,ye,0,ut,qe,null)}t.bindFramebuffer(i.FRAMEBUFFER,re),Xe(X)?d.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,We,Se,n.get(Be).__webglTexture,0,Ie(X)):(Se===i.TEXTURE_2D||Se>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,We,Se,n.get(Be).__webglTexture,ze),t.bindFramebuffer(i.FRAMEBUFFER,null)}function fe(re,X,Be){if(i.bindRenderbuffer(i.RENDERBUFFER,re),X.depthBuffer&&!X.stencilBuffer){let We=o===!0?i.DEPTH_COMPONENT24:i.DEPTH_COMPONENT16;if(Be||Xe(X)){const Se=X.depthTexture;Se&&Se.isDepthTexture&&(Se.type===Pa?We=i.DEPTH_COMPONENT32F:Se.type===n0&&(We=i.DEPTH_COMPONENT24));const ze=Ie(X);Xe(X)?d.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,ze,We,X.width,X.height):i.renderbufferStorageMultisample(i.RENDERBUFFER,ze,We,X.width,X.height)}else i.renderbufferStorage(i.RENDERBUFFER,We,X.width,X.height);i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,re)}else if(X.depthBuffer&&X.stencilBuffer){const We=Ie(X);Be&&Xe(X)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,We,i.DEPTH24_STENCIL8,X.width,X.height):Xe(X)?d.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,We,i.DEPTH24_STENCIL8,X.width,X.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,X.width,X.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,re)}else{const We=X.isWebGLMultipleRenderTargets===!0?X.texture:[X.texture];for(let Se=0;Se<We.length;Se++){const ze=We[Se],ut=s.convert(ze.format,ze.colorSpace),qe=s.convert(ze.type),dt=C(ze.internalFormat,ut,qe,ze.colorSpace),yt=Ie(X);Be&&Xe(X)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,yt,dt,X.width,X.height):Xe(X)?d.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,yt,dt,X.width,X.height):i.renderbufferStorage(i.RENDERBUFFER,dt,X.width,X.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function we(re,X){if(X&&X.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,re),!(X.depthTexture&&X.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(X.depthTexture).__webglTexture||X.depthTexture.image.width!==X.width||X.depthTexture.image.height!==X.height)&&(X.depthTexture.image.width=X.width,X.depthTexture.image.height=X.height,X.depthTexture.needsUpdate=!0),V(X.depthTexture,0);const We=n.get(X.depthTexture).__webglTexture,Se=Ie(X);if(X.depthTexture.format===hc)Xe(X)?d.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,We,0,Se):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,We,0);else if(X.depthTexture.format===uu)Xe(X)?d.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,We,0,Se):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,We,0);else throw new Error("Unknown depthTexture format")}function Fe(re){const X=n.get(re),Be=re.isWebGLCubeRenderTarget===!0;if(re.depthTexture&&!X.__autoAllocateDepthBuffer){if(Be)throw new Error("target.depthTexture not supported in Cube render targets");we(X.__webglFramebuffer,re)}else if(Be){X.__webglDepthbuffer=[];for(let We=0;We<6;We++)t.bindFramebuffer(i.FRAMEBUFFER,X.__webglFramebuffer[We]),X.__webglDepthbuffer[We]=i.createRenderbuffer(),fe(X.__webglDepthbuffer[We],re,!1)}else t.bindFramebuffer(i.FRAMEBUFFER,X.__webglFramebuffer),X.__webglDepthbuffer=i.createRenderbuffer(),fe(X.__webglDepthbuffer,re,!1);t.bindFramebuffer(i.FRAMEBUFFER,null)}function je(re,X,Be){const We=n.get(re);X!==void 0&&ge(We.__webglFramebuffer,re,re.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),Be!==void 0&&Fe(re)}function De(re){const X=re.texture,Be=n.get(re),We=n.get(X);re.addEventListener("dispose",N),re.isWebGLMultipleRenderTargets!==!0&&(We.__webglTexture===void 0&&(We.__webglTexture=i.createTexture()),We.__version=X.version,a.memory.textures++);const Se=re.isWebGLCubeRenderTarget===!0,ze=re.isWebGLMultipleRenderTargets===!0,ut=w(re)||o;if(Se){Be.__webglFramebuffer=[];for(let qe=0;qe<6;qe++)if(o&&X.mipmaps&&X.mipmaps.length>0){Be.__webglFramebuffer[qe]=[];for(let dt=0;dt<X.mipmaps.length;dt++)Be.__webglFramebuffer[qe][dt]=i.createFramebuffer()}else Be.__webglFramebuffer[qe]=i.createFramebuffer()}else{if(o&&X.mipmaps&&X.mipmaps.length>0){Be.__webglFramebuffer=[];for(let qe=0;qe<X.mipmaps.length;qe++)Be.__webglFramebuffer[qe]=i.createFramebuffer()}else Be.__webglFramebuffer=i.createFramebuffer();if(ze)if(r.drawBuffers){const qe=re.texture;for(let dt=0,yt=qe.length;dt<yt;dt++){const Ut=n.get(qe[dt]);Ut.__webglTexture===void 0&&(Ut.__webglTexture=i.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&re.samples>0&&Xe(re)===!1){const qe=ze?X:[X];Be.__webglMultisampledFramebuffer=i.createFramebuffer(),Be.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,Be.__webglMultisampledFramebuffer);for(let dt=0;dt<qe.length;dt++){const yt=qe[dt];Be.__webglColorRenderbuffer[dt]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,Be.__webglColorRenderbuffer[dt]);const Ut=s.convert(yt.format,yt.colorSpace),ye=s.convert(yt.type),nt=C(yt.internalFormat,Ut,ye,yt.colorSpace,re.isXRRenderTarget===!0),it=Ie(re);i.renderbufferStorageMultisample(i.RENDERBUFFER,it,nt,re.width,re.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+dt,i.RENDERBUFFER,Be.__webglColorRenderbuffer[dt])}i.bindRenderbuffer(i.RENDERBUFFER,null),re.depthBuffer&&(Be.__webglDepthRenderbuffer=i.createRenderbuffer(),fe(Be.__webglDepthRenderbuffer,re,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Se){t.bindTexture(i.TEXTURE_CUBE_MAP,We.__webglTexture),le(i.TEXTURE_CUBE_MAP,X,ut);for(let qe=0;qe<6;qe++)if(o&&X.mipmaps&&X.mipmaps.length>0)for(let dt=0;dt<X.mipmaps.length;dt++)ge(Be.__webglFramebuffer[qe][dt],re,X,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+qe,dt);else ge(Be.__webglFramebuffer[qe],re,X,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0);_(X,ut)&&x(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ze){const qe=re.texture;for(let dt=0,yt=qe.length;dt<yt;dt++){const Ut=qe[dt],ye=n.get(Ut);t.bindTexture(i.TEXTURE_2D,ye.__webglTexture),le(i.TEXTURE_2D,Ut,ut),ge(Be.__webglFramebuffer,re,Ut,i.COLOR_ATTACHMENT0+dt,i.TEXTURE_2D,0),_(Ut,ut)&&x(i.TEXTURE_2D)}t.unbindTexture()}else{let qe=i.TEXTURE_2D;if((re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(o?qe=re.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(qe,We.__webglTexture),le(qe,X,ut),o&&X.mipmaps&&X.mipmaps.length>0)for(let dt=0;dt<X.mipmaps.length;dt++)ge(Be.__webglFramebuffer[dt],re,X,i.COLOR_ATTACHMENT0,qe,dt);else ge(Be.__webglFramebuffer,re,X,i.COLOR_ATTACHMENT0,qe,0);_(X,ut)&&x(qe),t.unbindTexture()}re.depthBuffer&&Fe(re)}function Le(re){const X=w(re)||o,Be=re.isWebGLMultipleRenderTargets===!0?re.texture:[re.texture];for(let We=0,Se=Be.length;We<Se;We++){const ze=Be[We];if(_(ze,X)){const ut=re.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D,qe=n.get(ze).__webglTexture;t.bindTexture(ut,qe),x(ut),t.unbindTexture()}}}function tt(re){if(o&&re.samples>0&&Xe(re)===!1){const X=re.isWebGLMultipleRenderTargets?re.texture:[re.texture],Be=re.width,We=re.height;let Se=i.COLOR_BUFFER_BIT;const ze=[],ut=re.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,qe=n.get(re),dt=re.isWebGLMultipleRenderTargets===!0;if(dt)for(let yt=0;yt<X.length;yt++)t.bindFramebuffer(i.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+yt,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,qe.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+yt,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,qe.__webglFramebuffer);for(let yt=0;yt<X.length;yt++){ze.push(i.COLOR_ATTACHMENT0+yt),re.depthBuffer&&ze.push(ut);const Ut=qe.__ignoreDepthValues!==void 0?qe.__ignoreDepthValues:!1;if(Ut===!1&&(re.depthBuffer&&(Se|=i.DEPTH_BUFFER_BIT),re.stencilBuffer&&(Se|=i.STENCIL_BUFFER_BIT)),dt&&i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,qe.__webglColorRenderbuffer[yt]),Ut===!0&&(i.invalidateFramebuffer(i.READ_FRAMEBUFFER,[ut]),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[ut])),dt){const ye=n.get(X[yt]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,ye,0)}i.blitFramebuffer(0,0,Be,We,0,0,Be,We,Se,i.NEAREST),h&&i.invalidateFramebuffer(i.READ_FRAMEBUFFER,ze)}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),dt)for(let yt=0;yt<X.length;yt++){t.bindFramebuffer(i.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+yt,i.RENDERBUFFER,qe.__webglColorRenderbuffer[yt]);const Ut=n.get(X[yt]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,qe.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+yt,i.TEXTURE_2D,Ut,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,qe.__webglMultisampledFramebuffer)}}function Ie(re){return Math.min(u,re.samples)}function Xe(re){const X=n.get(re);return o&&re.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&X.__useRenderToTexture!==!1}function et(re){const X=a.render.frame;m.get(re)!==X&&(m.set(re,X),re.update())}function st(re,X){const Be=re.colorSpace,We=re.format,Se=re.type;return re.isCompressedTexture===!0||re.isVideoTexture===!0||re.format===cE||Be!==mA&&Be!==ia&&(ii.getTransfer(Be)===mi?o===!1?e.has("EXT_sRGB")===!0&&We===os?(re.format=cE,re.minFilter=Tr,re.generateMipmaps=!1):X=ZN.sRGBToLinear(X):(We!==os||Se!==La)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Be)),X}this.allocateTextureUnit=k,this.resetTextureUnits=L,this.setTexture2D=V,this.setTexture2DArray=D,this.setTexture3D=H,this.setTextureCube=oe,this.rebindTextures=je,this.setupRenderTarget=De,this.updateRenderTargetMipmap=Le,this.updateMultisampleRenderTarget=tt,this.setupDepthRenderbuffer=Fe,this.setupFrameBufferTexture=ge,this.useMultisampledRTT=Xe}function Xre(i,e,t){const n=t.isWebGL2;function r(s,a=ia){let o;const A=ii.getTransfer(a);if(s===La)return i.UNSIGNED_BYTE;if(s===KN)return i.UNSIGNED_SHORT_4_4_4_4;if(s===$N)return i.UNSIGNED_SHORT_5_5_5_1;if(s===FJ)return i.BYTE;if(s===IJ)return i.SHORT;if(s===q_)return i.UNSIGNED_SHORT;if(s===VN)return i.INT;if(s===n0)return i.UNSIGNED_INT;if(s===Pa)return i.FLOAT;if(s===_c)return n?i.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===UJ)return i.ALPHA;if(s===os)return i.RGBA;if(s===PJ)return i.LUMINANCE;if(s===LJ)return i.LUMINANCE_ALPHA;if(s===hc)return i.DEPTH_COMPONENT;if(s===uu)return i.DEPTH_STENCIL;if(s===cE)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(s===DJ)return i.RED;if(s===WN)return i.RED_INTEGER;if(s===kJ)return i.RG;if(s===qN)return i.RG_INTEGER;if(s===YN)return i.RGBA_INTEGER;if(s===l2||s===u2||s===d2||s===f2)if(A===mi)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(s===l2)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===u2)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===d2)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===f2)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===l2)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===u2)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===d2)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===f2)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===R9||s===B9||s===C9||s===S9)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===R9)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===B9)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===C9)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===S9)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===OJ)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===N9||s===M9)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(s===N9)return A===mi?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===M9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===T9||s===G9||s===F9||s===I9||s===U9||s===P9||s===L9||s===D9||s===k9||s===O9||s===Q9||s===H9||s===z9||s===V9)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(s===T9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===G9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===F9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===I9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===U9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===P9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===L9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===D9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===k9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===O9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Q9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===H9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===z9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===V9)return A===mi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===h2||s===K9||s===$9)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(s===h2)return A===mi?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===K9)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===$9)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===QJ||s===W9||s===q9||s===Y9)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(s===h2)return o.COMPRESSED_RED_RGTC1_EXT;if(s===W9)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===q9)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Y9)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===fc?n?i.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):i[s]!==void 0?i[s]:null}return{convert:r}}class jre extends as{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ri extends dr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Zre={type:"move"};class D2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ri,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ri,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ri,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,a=null;const o=this._targetRay,A=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const y of e.hand.values()){const g=t.getJointPose(y,n),E=this._getHandJoint(c,y);g!==null&&(E.matrix.fromArray(g.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.matrixWorldNeedsUpdate=!0,E.jointRadius=g.radius),E.visible=g!==null}const l=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],d=l.position.distanceTo(u.position),h=.02,m=.005;c.inputState.pinching&&d>h+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=h-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else A!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(A.matrix.fromArray(s.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,s.linearVelocity?(A.hasLinearVelocity=!0,A.linearVelocity.copy(s.linearVelocity)):A.hasLinearVelocity=!1,s.angularVelocity?(A.hasAngularVelocity=!0,A.angularVelocity.copy(s.angularVelocity)):A.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Zre)))}return o!==null&&(o.visible=r!==null),A!==null&&(A.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new ri;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Jre extends Vr{constructor(e,t,n,r,s,a,o,A,c,l){if(l=l!==void 0?l:hc,l!==hc&&l!==uu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&l===hc&&(n=n0),n===void 0&&l===uu&&(n=fc),super(null,r,s,a,o,A,l,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:oi,this.minFilter=A!==void 0?A:oi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class ese extends _u{constructor(e,t){super();const n=this;let r=null,s=1,a=null,o="local-floor",A=1,c=null,l=null,u=null,d=null,h=null,m=null;const y=t.getContextAttributes();let g=null,E=null;const R=[],p=[],w=new as;w.layers.enable(1),w.viewport=new ur;const v=new as;v.layers.enable(2),v.viewport=new ur;const _=[w,v],x=new jre;x.layers.enable(1),x.layers.enable(2);let C=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(D){let H=R[D];return H===void 0&&(H=new D2,R[D]=H),H.getTargetRaySpace()},this.getControllerGrip=function(D){let H=R[D];return H===void 0&&(H=new D2,R[D]=H),H.getGripSpace()},this.getHand=function(D){let H=R[D];return H===void 0&&(H=new D2,R[D]=H),H.getHandSpace()};function G(D){const H=p.indexOf(D.inputSource);if(H===-1)return;const oe=R[H];oe!==void 0&&(oe.update(D.inputSource,D.frame,c||a),oe.dispatchEvent({type:D.type,data:D.inputSource}))}function I(){r.removeEventListener("select",G),r.removeEventListener("selectstart",G),r.removeEventListener("selectend",G),r.removeEventListener("squeeze",G),r.removeEventListener("squeezestart",G),r.removeEventListener("squeezeend",G),r.removeEventListener("end",I),r.removeEventListener("inputsourceschange",N);for(let D=0;D<R.length;D++){const H=p[D];H!==null&&(p[D]=null,R[D].disconnect(H))}C=null,B=null,e.setRenderTarget(g),h=null,d=null,u=null,r=null,E=null,V.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(D){s=D,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(D){o=D,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(D){c=D},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return u},this.getFrame=function(){return m},this.getSession=function(){return r},this.setSession=async function(D){if(r=D,r!==null){if(g=e.getRenderTarget(),r.addEventListener("select",G),r.addEventListener("selectstart",G),r.addEventListener("selectend",G),r.addEventListener("squeeze",G),r.addEventListener("squeezestart",G),r.addEventListener("squeezeend",G),r.addEventListener("end",I),r.addEventListener("inputsourceschange",N),y.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const H={antialias:r.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(r,t,H),r.updateRenderState({baseLayer:h}),E=new oo(h.framebufferWidth,h.framebufferHeight,{format:os,type:La,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let H=null,oe=null,Ae=null;y.depth&&(Ae=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,H=y.stencil?uu:hc,oe=y.stencil?fc:n0);const ee={colorFormat:t.RGBA8,depthFormat:Ae,scaleFactor:s};u=new XRWebGLBinding(r,t),d=u.createProjectionLayer(ee),r.updateRenderState({layers:[d]}),E=new oo(d.textureWidth,d.textureHeight,{format:os,type:La,depthTexture:new Jre(d.textureWidth,d.textureHeight,oe,void 0,void 0,void 0,void 0,void 0,void 0,H),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const se=e.properties.get(E);se.__ignoreDepthValues=d.ignoreDepthValues}E.isXRRenderTarget=!0,this.setFoveation(A),c=null,a=await r.requestReferenceSpace(o),V.setContext(r),V.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function N(D){for(let H=0;H<D.removed.length;H++){const oe=D.removed[H],Ae=p.indexOf(oe);Ae>=0&&(p[Ae]=null,R[Ae].disconnect(oe))}for(let H=0;H<D.added.length;H++){const oe=D.added[H];let Ae=p.indexOf(oe);if(Ae===-1){for(let se=0;se<R.length;se++)if(se>=p.length){p.push(oe),Ae=se;break}else if(p[se]===null){p[se]=oe,Ae=se;break}if(Ae===-1)break}const ee=R[Ae];ee&&ee.connect(oe)}}const T=new ne,M=new ne;function U(D,H,oe){T.setFromMatrixPosition(H.matrixWorld),M.setFromMatrixPosition(oe.matrixWorld);const Ae=T.distanceTo(M),ee=H.projectionMatrix.elements,se=oe.projectionMatrix.elements,le=ee[14]/(ee[10]-1),J=ee[14]/(ee[10]+1),me=(ee[9]+1)/ee[5],ue=(ee[9]-1)/ee[5],ge=(ee[8]-1)/ee[0],fe=(se[8]+1)/se[0],we=le*ge,Fe=le*fe,je=Ae/(-ge+fe),De=je*-ge;H.matrixWorld.decompose(D.position,D.quaternion,D.scale),D.translateX(De),D.translateZ(je),D.matrixWorld.compose(D.position,D.quaternion,D.scale),D.matrixWorldInverse.copy(D.matrixWorld).invert();const Le=le+je,tt=J+je,Ie=we-De,Xe=Fe+(Ae-De),et=me*J/tt*Le,st=ue*J/tt*Le;D.projectionMatrix.makePerspective(Ie,Xe,et,st,Le,tt),D.projectionMatrixInverse.copy(D.projectionMatrix).invert()}function z(D,H){H===null?D.matrixWorld.copy(D.matrix):D.matrixWorld.multiplyMatrices(H.matrixWorld,D.matrix),D.matrixWorldInverse.copy(D.matrixWorld).invert()}this.updateCamera=function(D){if(r===null)return;x.near=v.near=w.near=D.near,x.far=v.far=w.far=D.far,(C!==x.near||B!==x.far)&&(r.updateRenderState({depthNear:x.near,depthFar:x.far}),C=x.near,B=x.far);const H=D.parent,oe=x.cameras;z(x,H);for(let Ae=0;Ae<oe.length;Ae++)z(oe[Ae],H);oe.length===2?U(x,w,v):x.projectionMatrix.copy(w.projectionMatrix),L(D,x,H)};function L(D,H,oe){oe===null?D.matrix.copy(H.matrixWorld):(D.matrix.copy(oe.matrixWorld),D.matrix.invert(),D.matrix.multiply(H.matrixWorld)),D.matrix.decompose(D.position,D.quaternion,D.scale),D.updateMatrixWorld(!0),D.projectionMatrix.copy(H.projectionMatrix),D.projectionMatrixInverse.copy(H.projectionMatrixInverse),D.isPerspectiveCamera&&(D.fov=lE*2*Math.atan(1/D.projectionMatrix.elements[5]),D.zoom=1)}this.getCamera=function(){return x},this.getFoveation=function(){if(!(d===null&&h===null))return A},this.setFoveation=function(D){A=D,d!==null&&(d.fixedFoveation=D),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=D)};let k=null;function K(D,H){if(l=H.getViewerPose(c||a),m=H,l!==null){const oe=l.views;h!==null&&(e.setRenderTargetFramebuffer(E,h.framebuffer),e.setRenderTarget(E));let Ae=!1;oe.length!==x.cameras.length&&(x.cameras.length=0,Ae=!0);for(let ee=0;ee<oe.length;ee++){const se=oe[ee];let le=null;if(h!==null)le=h.getViewport(se);else{const me=u.getViewSubImage(d,se);le=me.viewport,ee===0&&(e.setRenderTargetTextures(E,me.colorTexture,d.ignoreDepthValues?void 0:me.depthStencilTexture),e.setRenderTarget(E))}let J=_[ee];J===void 0&&(J=new as,J.layers.enable(ee),J.viewport=new ur,_[ee]=J),J.matrix.fromArray(se.transform.matrix),J.matrix.decompose(J.position,J.quaternion,J.scale),J.projectionMatrix.fromArray(se.projectionMatrix),J.projectionMatrixInverse.copy(J.projectionMatrix).invert(),J.viewport.set(le.x,le.y,le.width,le.height),ee===0&&(x.matrix.copy(J.matrix),x.matrix.decompose(x.position,x.quaternion,x.scale)),Ae===!0&&x.cameras.push(J)}}for(let oe=0;oe<R.length;oe++){const Ae=p[oe],ee=R[oe];Ae!==null&&ee!==void 0&&ee.update(Ae,H,c||a)}k&&k(D,H),H.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:H}),m=null}const V=new cM;V.setAnimationLoop(K),this.setAnimationLoop=function(D){k=D},this.dispose=function(){}}}function tse(i,e){function t(g,E){g.matrixAutoUpdate===!0&&g.updateMatrix(),E.value.copy(g.matrix)}function n(g,E){E.color.getRGB(g.fogColor.value,aM(i)),E.isFog?(g.fogNear.value=E.near,g.fogFar.value=E.far):E.isFogExp2&&(g.fogDensity.value=E.density)}function r(g,E,R,p,w){E.isMeshBasicMaterial||E.isMeshLambertMaterial?s(g,E):E.isMeshToonMaterial?(s(g,E),u(g,E)):E.isMeshPhongMaterial?(s(g,E),l(g,E)):E.isMeshStandardMaterial?(s(g,E),d(g,E),E.isMeshPhysicalMaterial&&h(g,E,w)):E.isMeshMatcapMaterial?(s(g,E),m(g,E)):E.isMeshDepthMaterial?s(g,E):E.isMeshDistanceMaterial?(s(g,E),y(g,E)):E.isMeshNormalMaterial?s(g,E):E.isLineBasicMaterial?(a(g,E),E.isLineDashedMaterial&&o(g,E)):E.isPointsMaterial?A(g,E,R,p):E.isSpriteMaterial?c(g,E):E.isShadowMaterial?(g.color.value.copy(E.color),g.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function s(g,E){g.opacity.value=E.opacity,E.color&&g.diffuse.value.copy(E.color),E.emissive&&g.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(g.map.value=E.map,t(E.map,g.mapTransform)),E.alphaMap&&(g.alphaMap.value=E.alphaMap,t(E.alphaMap,g.alphaMapTransform)),E.bumpMap&&(g.bumpMap.value=E.bumpMap,t(E.bumpMap,g.bumpMapTransform),g.bumpScale.value=E.bumpScale,E.side===zr&&(g.bumpScale.value*=-1)),E.normalMap&&(g.normalMap.value=E.normalMap,t(E.normalMap,g.normalMapTransform),g.normalScale.value.copy(E.normalScale),E.side===zr&&g.normalScale.value.negate()),E.displacementMap&&(g.displacementMap.value=E.displacementMap,t(E.displacementMap,g.displacementMapTransform),g.displacementScale.value=E.displacementScale,g.displacementBias.value=E.displacementBias),E.emissiveMap&&(g.emissiveMap.value=E.emissiveMap,t(E.emissiveMap,g.emissiveMapTransform)),E.specularMap&&(g.specularMap.value=E.specularMap,t(E.specularMap,g.specularMapTransform)),E.alphaTest>0&&(g.alphaTest.value=E.alphaTest);const R=e.get(E).envMap;if(R&&(g.envMap.value=R,g.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=E.reflectivity,g.ior.value=E.ior,g.refractionRatio.value=E.refractionRatio),E.lightMap){g.lightMap.value=E.lightMap;const p=i._useLegacyLights===!0?Math.PI:1;g.lightMapIntensity.value=E.lightMapIntensity*p,t(E.lightMap,g.lightMapTransform)}E.aoMap&&(g.aoMap.value=E.aoMap,g.aoMapIntensity.value=E.aoMapIntensity,t(E.aoMap,g.aoMapTransform))}function a(g,E){g.diffuse.value.copy(E.color),g.opacity.value=E.opacity,E.map&&(g.map.value=E.map,t(E.map,g.mapTransform))}function o(g,E){g.dashSize.value=E.dashSize,g.totalSize.value=E.dashSize+E.gapSize,g.scale.value=E.scale}function A(g,E,R,p){g.diffuse.value.copy(E.color),g.opacity.value=E.opacity,g.size.value=E.size*R,g.scale.value=p*.5,E.map&&(g.map.value=E.map,t(E.map,g.uvTransform)),E.alphaMap&&(g.alphaMap.value=E.alphaMap,t(E.alphaMap,g.alphaMapTransform)),E.alphaTest>0&&(g.alphaTest.value=E.alphaTest)}function c(g,E){g.diffuse.value.copy(E.color),g.opacity.value=E.opacity,g.rotation.value=E.rotation,E.map&&(g.map.value=E.map,t(E.map,g.mapTransform)),E.alphaMap&&(g.alphaMap.value=E.alphaMap,t(E.alphaMap,g.alphaMapTransform)),E.alphaTest>0&&(g.alphaTest.value=E.alphaTest)}function l(g,E){g.specular.value.copy(E.specular),g.shininess.value=Math.max(E.shininess,1e-4)}function u(g,E){E.gradientMap&&(g.gradientMap.value=E.gradientMap)}function d(g,E){g.metalness.value=E.metalness,E.metalnessMap&&(g.metalnessMap.value=E.metalnessMap,t(E.metalnessMap,g.metalnessMapTransform)),g.roughness.value=E.roughness,E.roughnessMap&&(g.roughnessMap.value=E.roughnessMap,t(E.roughnessMap,g.roughnessMapTransform)),e.get(E).envMap&&(g.envMapIntensity.value=E.envMapIntensity)}function h(g,E,R){g.ior.value=E.ior,E.sheen>0&&(g.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),g.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(g.sheenColorMap.value=E.sheenColorMap,t(E.sheenColorMap,g.sheenColorMapTransform)),E.sheenRoughnessMap&&(g.sheenRoughnessMap.value=E.sheenRoughnessMap,t(E.sheenRoughnessMap,g.sheenRoughnessMapTransform))),E.clearcoat>0&&(g.clearcoat.value=E.clearcoat,g.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(g.clearcoatMap.value=E.clearcoatMap,t(E.clearcoatMap,g.clearcoatMapTransform)),E.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap,t(E.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),E.clearcoatNormalMap&&(g.clearcoatNormalMap.value=E.clearcoatNormalMap,t(E.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),E.side===zr&&g.clearcoatNormalScale.value.negate())),E.iridescence>0&&(g.iridescence.value=E.iridescence,g.iridescenceIOR.value=E.iridescenceIOR,g.iridescenceThicknessMinimum.value=E.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=E.iridescenceThicknessRange[1],E.iridescenceMap&&(g.iridescenceMap.value=E.iridescenceMap,t(E.iridescenceMap,g.iridescenceMapTransform)),E.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=E.iridescenceThicknessMap,t(E.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),E.transmission>0&&(g.transmission.value=E.transmission,g.transmissionSamplerMap.value=R.texture,g.transmissionSamplerSize.value.set(R.width,R.height),E.transmissionMap&&(g.transmissionMap.value=E.transmissionMap,t(E.transmissionMap,g.transmissionMapTransform)),g.thickness.value=E.thickness,E.thicknessMap&&(g.thicknessMap.value=E.thicknessMap,t(E.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=E.attenuationDistance,g.attenuationColor.value.copy(E.attenuationColor)),E.anisotropy>0&&(g.anisotropyVector.value.set(E.anisotropy*Math.cos(E.anisotropyRotation),E.anisotropy*Math.sin(E.anisotropyRotation)),E.anisotropyMap&&(g.anisotropyMap.value=E.anisotropyMap,t(E.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=E.specularIntensity,g.specularColor.value.copy(E.specularColor),E.specularColorMap&&(g.specularColorMap.value=E.specularColorMap,t(E.specularColorMap,g.specularColorMapTransform)),E.specularIntensityMap&&(g.specularIntensityMap.value=E.specularIntensityMap,t(E.specularIntensityMap,g.specularIntensityMapTransform))}function m(g,E){E.matcap&&(g.matcap.value=E.matcap)}function y(g,E){const R=e.get(E).light;g.referencePosition.value.setFromMatrixPosition(R.matrixWorld),g.nearDistance.value=R.shadow.camera.near,g.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function nse(i,e,t,n){let r={},s={},a=[];const o=t.isWebGL2?i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS):0;function A(R,p){const w=p.program;n.uniformBlockBinding(R,w)}function c(R,p){let w=r[R.id];w===void 0&&(m(R),w=l(R),r[R.id]=w,R.addEventListener("dispose",g));const v=p.program;n.updateUBOMapping(R,v);const _=e.render.frame;s[R.id]!==_&&(d(R),s[R.id]=_)}function l(R){const p=u();R.__bindingPointIndex=p;const w=i.createBuffer(),v=R.__size,_=R.usage;return i.bindBuffer(i.UNIFORM_BUFFER,w),i.bufferData(i.UNIFORM_BUFFER,v,_),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,p,w),w}function u(){for(let R=0;R<o;R++)if(a.indexOf(R)===-1)return a.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(R){const p=r[R.id],w=R.uniforms,v=R.__cache;i.bindBuffer(i.UNIFORM_BUFFER,p);for(let _=0,x=w.length;_<x;_++){const C=w[_];if(h(C,_,v)===!0){const B=C.__offset,G=Array.isArray(C.value)?C.value:[C.value];let I=0;for(let N=0;N<G.length;N++){const T=G[N],M=y(T);typeof T=="number"?(C.__data[0]=T,i.bufferSubData(i.UNIFORM_BUFFER,B+I,C.__data)):T.isMatrix3?(C.__data[0]=T.elements[0],C.__data[1]=T.elements[1],C.__data[2]=T.elements[2],C.__data[3]=T.elements[0],C.__data[4]=T.elements[3],C.__data[5]=T.elements[4],C.__data[6]=T.elements[5],C.__data[7]=T.elements[0],C.__data[8]=T.elements[6],C.__data[9]=T.elements[7],C.__data[10]=T.elements[8],C.__data[11]=T.elements[0]):(T.toArray(C.__data,I),I+=M.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,B,C.__data)}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function h(R,p,w){const v=R.value;if(w[p]===void 0){if(typeof v=="number")w[p]=v;else{const _=Array.isArray(v)?v:[v],x=[];for(let C=0;C<_.length;C++)x.push(_[C].clone());w[p]=x}return!0}else if(typeof v=="number"){if(w[p]!==v)return w[p]=v,!0}else{const _=Array.isArray(w[p])?w[p]:[w[p]],x=Array.isArray(v)?v:[v];for(let C=0;C<_.length;C++){const B=_[C];if(B.equals(x[C])===!1)return B.copy(x[C]),!0}}return!1}function m(R){const p=R.uniforms;let w=0;const v=16;let _=0;for(let x=0,C=p.length;x<C;x++){const B=p[x],G={boundary:0,storage:0},I=Array.isArray(B.value)?B.value:[B.value];for(let N=0,T=I.length;N<T;N++){const M=I[N],U=y(M);G.boundary+=U.boundary,G.storage+=U.storage}if(B.__data=new Float32Array(G.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=w,x>0){_=w%v;const N=v-_;_!==0&&N-G.boundary<0&&(w+=v-_,B.__offset=w)}w+=G.storage}return _=w%v,_>0&&(w+=v-_),R.__size=w,R.__cache={},this}function y(R){const p={boundary:0,storage:0};return typeof R=="number"?(p.boundary=4,p.storage=4):R.isVector2?(p.boundary=8,p.storage=8):R.isVector3||R.isColor?(p.boundary=16,p.storage=12):R.isVector4?(p.boundary=16,p.storage=16):R.isMatrix3?(p.boundary=48,p.storage=48):R.isMatrix4?(p.boundary=64,p.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),p}function g(R){const p=R.target;p.removeEventListener("dispose",g);const w=a.indexOf(p.__bindingPointIndex);a.splice(w,1),i.deleteBuffer(r[p.id]),delete r[p.id],delete s[p.id]}function E(){for(const R in r)i.deleteBuffer(r[R]);a=[],r={},s={}}return{bind:A,update:c,dispose:E}}class hM{constructor(e={}){const{canvas:t=tee(),context:n=null,depth:r=!0,stencil:s=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:A=!0,preserveDrawingBuffer:c=!1,powerPreference:l="default",failIfMajorPerformanceCaveat:u=!1}=e;this.isWebGLRenderer=!0;let d;n!==null?d=n.getContextAttributes().alpha:d=a;const h=new Uint32Array(4),m=new Int32Array(4);let y=null,g=null;const E=[],R=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=yr,this._useLegacyLights=!1,this.toneMapping=a0,this.toneMappingExposure=1;const p=this;let w=!1,v=0,_=0,x=null,C=-1,B=null;const G=new ur,I=new ur;let N=null;const T=new $t(0);let M=0,U=t.width,z=t.height,L=1,k=null,K=null;const V=new ur(0,0,U,z),D=new ur(0,0,U,z);let H=!1;const oe=new j_;let Ae=!1,ee=!1,se=null;const le=new xt,J=new bn,me=new ne,ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ge(){return x===null?L:1}let fe=n;function we(te,Ce){for(let Oe=0;Oe<te.length;Oe++){const Pe=te[Oe],Ye=t.getContext(Pe,Ce);if(Ye!==null)return Ye}return null}try{const te={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:A,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${W_}`),t.addEventListener("webglcontextlost",Bt,!1),t.addEventListener("webglcontextrestored",he,!1),t.addEventListener("webglcontextcreationerror",Ke,!1),fe===null){const Ce=["webgl2","webgl","experimental-webgl"];if(p.isWebGL1Renderer===!0&&Ce.shift(),fe=we(Ce,te),fe===null)throw we(Ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&fe instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),fe.getShaderPrecisionFormat===void 0&&(fe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(te){throw console.error("THREE.WebGLRenderer: "+te.message),te}let Fe,je,De,Le,tt,Ie,Xe,et,st,re,X,Be,We,Se,ze,ut,qe,dt,yt,Ut,ye,nt,it,ct;function rt(){Fe=new die(fe),je=new aie(fe,Fe,e),Fe.init(je),nt=new Xre(fe,Fe,je),De=new qre(fe,Fe,je),Le=new pie(fe),tt=new Ire,Ie=new Yre(fe,Fe,De,tt,je,nt,Le),Xe=new Aie(p),et=new uie(p),st=new Ree(fe,je),it=new rie(fe,Fe,st,je),re=new fie(fe,st,Le,it),X=new wie(fe,re,st,Le),yt=new yie(fe,je,Ie),ut=new oie(tt),Be=new Fre(p,Xe,et,Fe,je,it,ut),We=new tse(p,tt),Se=new Pre,ze=new Hre(Fe,je),dt=new iie(p,Xe,et,De,X,d,A),qe=new Wre(p,X,je),ct=new nse(fe,Le,je,De),Ut=new sie(fe,Fe,Le,je),ye=new hie(fe,Fe,Le,je),Le.programs=Be.programs,p.capabilities=je,p.extensions=Fe,p.properties=tt,p.renderLists=Se,p.shadowMap=qe,p.state=De,p.info=Le}rt();const at=new ese(p,fe);this.xr=at,this.getContext=function(){return fe},this.getContextAttributes=function(){return fe.getContextAttributes()},this.forceContextLoss=function(){const te=Fe.get("WEBGL_lose_context");te&&te.loseContext()},this.forceContextRestore=function(){const te=Fe.get("WEBGL_lose_context");te&&te.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(te){te!==void 0&&(L=te,this.setSize(U,z,!1))},this.getSize=function(te){return te.set(U,z)},this.setSize=function(te,Ce,Oe=!0){if(at.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=te,z=Ce,t.width=Math.floor(te*L),t.height=Math.floor(Ce*L),Oe===!0&&(t.style.width=te+"px",t.style.height=Ce+"px"),this.setViewport(0,0,te,Ce)},this.getDrawingBufferSize=function(te){return te.set(U*L,z*L).floor()},this.setDrawingBufferSize=function(te,Ce,Oe){U=te,z=Ce,L=Oe,t.width=Math.floor(te*Oe),t.height=Math.floor(Ce*Oe),this.setViewport(0,0,te,Ce)},this.getCurrentViewport=function(te){return te.copy(G)},this.getViewport=function(te){return te.copy(V)},this.setViewport=function(te,Ce,Oe,Pe){te.isVector4?V.set(te.x,te.y,te.z,te.w):V.set(te,Ce,Oe,Pe),De.viewport(G.copy(V).multiplyScalar(L).floor())},this.getScissor=function(te){return te.copy(D)},this.setScissor=function(te,Ce,Oe,Pe){te.isVector4?D.set(te.x,te.y,te.z,te.w):D.set(te,Ce,Oe,Pe),De.scissor(I.copy(D).multiplyScalar(L).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(te){De.setScissorTest(H=te)},this.setOpaqueSort=function(te){k=te},this.setTransparentSort=function(te){K=te},this.getClearColor=function(te){return te.copy(dt.getClearColor())},this.setClearColor=function(){dt.setClearColor.apply(dt,arguments)},this.getClearAlpha=function(){return dt.getClearAlpha()},this.setClearAlpha=function(){dt.setClearAlpha.apply(dt,arguments)},this.clear=function(te=!0,Ce=!0,Oe=!0){let Pe=0;if(te){let Ye=!1;if(x!==null){const bt=x.texture.format;Ye=bt===YN||bt===qN||bt===WN}if(Ye){const bt=x.texture.type,Lt=bt===La||bt===n0||bt===q_||bt===fc||bt===KN||bt===$N,Wt=dt.getClearColor(),Ct=dt.getClearAlpha(),$e=Wt.r,mt=Wt.g,Mt=Wt.b;Lt?(h[0]=$e,h[1]=mt,h[2]=Mt,h[3]=Ct,fe.clearBufferuiv(fe.COLOR,0,h)):(m[0]=$e,m[1]=mt,m[2]=Mt,m[3]=Ct,fe.clearBufferiv(fe.COLOR,0,m))}else Pe|=fe.COLOR_BUFFER_BIT}Ce&&(Pe|=fe.DEPTH_BUFFER_BIT),Oe&&(Pe|=fe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),fe.clear(Pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Bt,!1),t.removeEventListener("webglcontextrestored",he,!1),t.removeEventListener("webglcontextcreationerror",Ke,!1),Se.dispose(),ze.dispose(),tt.dispose(),Xe.dispose(),et.dispose(),X.dispose(),it.dispose(),ct.dispose(),Be.dispose(),at.dispose(),at.removeEventListener("sessionstart",Q),at.removeEventListener("sessionend",Y),se&&(se.dispose(),se=null),Z.stop()};function Bt(te){te.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function he(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const te=Le.autoReset,Ce=qe.enabled,Oe=qe.autoUpdate,Pe=qe.needsUpdate,Ye=qe.type;rt(),Le.autoReset=te,qe.enabled=Ce,qe.autoUpdate=Oe,qe.needsUpdate=Pe,qe.type=Ye}function Ke(te){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",te.statusMessage)}function Ne(te){const Ce=te.target;Ce.removeEventListener("dispose",Ne),Ge(Ce)}function Ge(te){Je(te),tt.remove(te)}function Je(te){const Ce=tt.get(te).programs;Ce!==void 0&&(Ce.forEach(function(Oe){Be.releaseProgram(Oe)}),te.isShaderMaterial&&Be.releaseShaderCache(te))}this.renderBufferDirect=function(te,Ce,Oe,Pe,Ye,bt){Ce===null&&(Ce=ue);const Lt=Ye.isMesh&&Ye.matrixWorld.determinant()<0,Wt=Kt(te,Ce,Oe,Pe,Ye);De.setMaterial(Pe,Lt);let Ct=Oe.index,$e=1;if(Pe.wireframe===!0){if(Ct=re.getWireframeAttribute(Oe),Ct===void 0)return;$e=2}const mt=Oe.drawRange,Mt=Oe.attributes.position;let Yt=mt.start*$e,Vt=(mt.start+mt.count)*$e;bt!==null&&(Yt=Math.max(Yt,bt.start*$e),Vt=Math.min(Vt,(bt.start+bt.count)*$e)),Ct!==null?(Yt=Math.max(Yt,0),Vt=Math.min(Vt,Ct.count)):Mt!=null&&(Yt=Math.max(Yt,0),Vt=Math.min(Vt,Mt.count));const Xt=Vt-Yt;if(Xt<0||Xt===1/0)return;it.setup(Ye,Pe,Wt,Oe,Ct);let ln,nn=Ut;if(Ct!==null&&(ln=st.get(Ct),nn=ye,nn.setIndex(ln)),Ye.isMesh)Pe.wireframe===!0?(De.setLineWidth(Pe.wireframeLinewidth*ge()),nn.setMode(fe.LINES)):nn.setMode(fe.TRIANGLES);else if(Ye.isLine){let Jt=Pe.linewidth;Jt===void 0&&(Jt=1),De.setLineWidth(Jt*ge()),Ye.isLineSegments?nn.setMode(fe.LINES):Ye.isLineLoop?nn.setMode(fe.LINE_LOOP):nn.setMode(fe.LINE_STRIP)}else Ye.isPoints?nn.setMode(fe.POINTS):Ye.isSprite&&nn.setMode(fe.TRIANGLES);if(Ye.isInstancedMesh)nn.renderInstances(Yt,Xt,Ye.count);else if(Oe.isInstancedBufferGeometry){const Jt=Oe._maxInstanceCount!==void 0?Oe._maxInstanceCount:1/0,mn=Math.min(Oe.instanceCount,Jt);nn.renderInstances(Yt,Xt,mn)}else nn.render(Yt,Xt)};function Gt(te,Ce,Oe){te.transparent===!0&&te.side===Za&&te.forceSinglePass===!1?(te.side=zr,te.needsUpdate=!0,At(te,Ce,Oe),te.side=pA,te.needsUpdate=!0,At(te,Ce,Oe),te.side=Za):At(te,Ce,Oe)}this.compile=function(te,Ce,Oe=null){Oe===null&&(Oe=te),g=ze.get(Oe),g.init(),R.push(g),Oe.traverseVisible(function(Ye){Ye.isLight&&Ye.layers.test(Ce.layers)&&(g.pushLight(Ye),Ye.castShadow&&g.pushShadow(Ye))}),te!==Oe&&te.traverseVisible(function(Ye){Ye.isLight&&Ye.layers.test(Ce.layers)&&(g.pushLight(Ye),Ye.castShadow&&g.pushShadow(Ye))}),g.setupLights(p._useLegacyLights);const Pe=new Set;return te.traverse(function(Ye){const bt=Ye.material;if(bt)if(Array.isArray(bt))for(let Lt=0;Lt<bt.length;Lt++){const Wt=bt[Lt];Gt(Wt,Oe,Ye),Pe.add(Wt)}else Gt(bt,Oe,Ye),Pe.add(bt)}),R.pop(),g=null,Pe},this.compileAsync=function(te,Ce,Oe=null){const Pe=this.compile(te,Ce,Oe);return new Promise(Ye=>{function bt(){if(Pe.forEach(function(Lt){tt.get(Lt).currentProgram.isReady()&&Pe.delete(Lt)}),Pe.size===0){Ye(te);return}setTimeout(bt,10)}Fe.get("KHR_parallel_shader_compile")!==null?bt():setTimeout(bt,10)})};let on=null;function en(te){on&&on(te)}function Q(){Z.stop()}function Y(){Z.start()}const Z=new cM;Z.setAnimationLoop(en),typeof self<"u"&&Z.setContext(self),this.setAnimationLoop=function(te){on=te,at.setAnimationLoop(te),te===null?Z.stop():Z.start()},at.addEventListener("sessionstart",Q),at.addEventListener("sessionend",Y),this.render=function(te,Ce){if(Ce!==void 0&&Ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),Ce.parent===null&&Ce.matrixWorldAutoUpdate===!0&&Ce.updateMatrixWorld(),at.enabled===!0&&at.isPresenting===!0&&(at.cameraAutoUpdate===!0&&at.updateCamera(Ce),Ce=at.getCamera()),te.isScene===!0&&te.onBeforeRender(p,te,Ce,x),g=ze.get(te,R.length),g.init(),R.push(g),le.multiplyMatrices(Ce.projectionMatrix,Ce.matrixWorldInverse),oe.setFromProjectionMatrix(le),ee=this.localClippingEnabled,Ae=ut.init(this.clippingPlanes,ee),y=Se.get(te,E.length),y.init(),E.push(y),ce(te,Ce,0,p.sortObjects),y.finish(),p.sortObjects===!0&&y.sort(k,K),this.info.render.frame++,Ae===!0&&ut.beginShadows();const Oe=g.state.shadowsArray;if(qe.render(Oe,te,Ce),Ae===!0&&ut.endShadows(),this.info.autoReset===!0&&this.info.reset(),dt.render(y,te),g.setupLights(p._useLegacyLights),Ce.isArrayCamera){const Pe=Ce.cameras;for(let Ye=0,bt=Pe.length;Ye<bt;Ye++){const Lt=Pe[Ye];de(y,te,Lt,Lt.viewport)}}else de(y,te,Ce);x!==null&&(Ie.updateMultisampleRenderTarget(x),Ie.updateRenderTargetMipmap(x)),te.isScene===!0&&te.onAfterRender(p,te,Ce),it.resetDefaultState(),C=-1,B=null,R.pop(),R.length>0?g=R[R.length-1]:g=null,E.pop(),E.length>0?y=E[E.length-1]:y=null};function ce(te,Ce,Oe,Pe){if(te.visible===!1)return;if(te.layers.test(Ce.layers)){if(te.isGroup)Oe=te.renderOrder;else if(te.isLOD)te.autoUpdate===!0&&te.update(Ce);else if(te.isLight)g.pushLight(te),te.castShadow&&g.pushShadow(te);else if(te.isSprite){if(!te.frustumCulled||oe.intersectsSprite(te)){Pe&&me.setFromMatrixPosition(te.matrixWorld).applyMatrix4(le);const Lt=X.update(te),Wt=te.material;Wt.visible&&y.push(te,Lt,Wt,Oe,me.z,null)}}else if((te.isMesh||te.isLine||te.isPoints)&&(!te.frustumCulled||oe.intersectsObject(te))){const Lt=X.update(te),Wt=te.material;if(Pe&&(te.boundingSphere!==void 0?(te.boundingSphere===null&&te.computeBoundingSphere(),me.copy(te.boundingSphere.center)):(Lt.boundingSphere===null&&Lt.computeBoundingSphere(),me.copy(Lt.boundingSphere.center)),me.applyMatrix4(te.matrixWorld).applyMatrix4(le)),Array.isArray(Wt)){const Ct=Lt.groups;for(let $e=0,mt=Ct.length;$e<mt;$e++){const Mt=Ct[$e],Yt=Wt[Mt.materialIndex];Yt&&Yt.visible&&y.push(te,Lt,Yt,Oe,me.z,Mt)}}else Wt.visible&&y.push(te,Lt,Wt,Oe,me.z,null)}}const bt=te.children;for(let Lt=0,Wt=bt.length;Lt<Wt;Lt++)ce(bt[Lt],Ce,Oe,Pe)}function de(te,Ce,Oe,Pe){const Ye=te.opaque,bt=te.transmissive,Lt=te.transparent;g.setupLightsView(Oe),Ae===!0&&ut.setGlobalState(p.clippingPlanes,Oe),bt.length>0&&be(Ye,bt,Ce,Oe),Pe&&De.viewport(G.copy(Pe)),Ye.length>0&&Re(Ye,Ce,Oe),bt.length>0&&Re(bt,Ce,Oe),Lt.length>0&&Re(Lt,Ce,Oe),De.buffers.depth.setTest(!0),De.buffers.depth.setMask(!0),De.buffers.color.setMask(!0),De.setPolygonOffset(!1)}function be(te,Ce,Oe,Pe){if((Oe.isScene===!0?Oe.overrideMaterial:null)!==null)return;const bt=je.isWebGL2;se===null&&(se=new oo(1,1,{generateMipmaps:!0,type:Fe.has("EXT_color_buffer_half_float")?_c:La,minFilter:vf,samples:bt?4:0})),p.getDrawingBufferSize(J),bt?se.setSize(J.x,J.y):se.setSize(uE(J.x),uE(J.y));const Lt=p.getRenderTarget();p.setRenderTarget(se),p.getClearColor(T),M=p.getClearAlpha(),M<1&&p.setClearColor(16777215,.5),p.clear();const Wt=p.toneMapping;p.toneMapping=a0,Re(te,Oe,Pe),Ie.updateMultisampleRenderTarget(se),Ie.updateRenderTargetMipmap(se);let Ct=!1;for(let $e=0,mt=Ce.length;$e<mt;$e++){const Mt=Ce[$e],Yt=Mt.object,Vt=Mt.geometry,Xt=Mt.material,ln=Mt.group;if(Xt.side===Za&&Yt.layers.test(Pe.layers)){const nn=Xt.side;Xt.side=zr,Xt.needsUpdate=!0,Te(Yt,Oe,Pe,Vt,Xt,ln),Xt.side=nn,Xt.needsUpdate=!0,Ct=!0}}Ct===!0&&(Ie.updateMultisampleRenderTarget(se),Ie.updateRenderTargetMipmap(se)),p.setRenderTarget(Lt),p.setClearColor(T,M),p.toneMapping=Wt}function Re(te,Ce,Oe){const Pe=Ce.isScene===!0?Ce.overrideMaterial:null;for(let Ye=0,bt=te.length;Ye<bt;Ye++){const Lt=te[Ye],Wt=Lt.object,Ct=Lt.geometry,$e=Pe===null?Lt.material:Pe,mt=Lt.group;Wt.layers.test(Oe.layers)&&Te(Wt,Ce,Oe,Ct,$e,mt)}}function Te(te,Ce,Oe,Pe,Ye,bt){te.onBeforeRender(p,Ce,Oe,Pe,Ye,bt),te.modelViewMatrix.multiplyMatrices(Oe.matrixWorldInverse,te.matrixWorld),te.normalMatrix.getNormalMatrix(te.modelViewMatrix),Ye.onBeforeRender(p,Ce,Oe,Pe,te,bt),Ye.transparent===!0&&Ye.side===Za&&Ye.forceSinglePass===!1?(Ye.side=zr,Ye.needsUpdate=!0,p.renderBufferDirect(Oe,Ce,Pe,Ye,te,bt),Ye.side=pA,Ye.needsUpdate=!0,p.renderBufferDirect(Oe,Ce,Pe,Ye,te,bt),Ye.side=Za):p.renderBufferDirect(Oe,Ce,Pe,Ye,te,bt),te.onAfterRender(p,Ce,Oe,Pe,Ye,bt)}function At(te,Ce,Oe){Ce.isScene!==!0&&(Ce=ue);const Pe=tt.get(te),Ye=g.state.lights,bt=g.state.shadowsArray,Lt=Ye.state.version,Wt=Be.getParameters(te,Ye.state,bt,Ce,Oe),Ct=Be.getProgramCacheKey(Wt);let $e=Pe.programs;Pe.environment=te.isMeshStandardMaterial?Ce.environment:null,Pe.fog=Ce.fog,Pe.envMap=(te.isMeshStandardMaterial?et:Xe).get(te.envMap||Pe.environment),$e===void 0&&(te.addEventListener("dispose",Ne),$e=new Map,Pe.programs=$e);let mt=$e.get(Ct);if(mt!==void 0){if(Pe.currentProgram===mt&&Pe.lightsStateVersion===Lt)return St(te,Wt),mt}else Wt.uniforms=Be.getUniforms(te),te.onBuild(Oe,Wt,p),te.onBeforeCompile(Wt,p),mt=Be.acquireProgram(Wt,Ct),$e.set(Ct,mt),Pe.uniforms=Wt.uniforms;const Mt=Pe.uniforms;return(!te.isShaderMaterial&&!te.isRawShaderMaterial||te.clipping===!0)&&(Mt.clippingPlanes=ut.uniform),St(te,Wt),Pe.needsLights=gt(te),Pe.lightsStateVersion=Lt,Pe.needsLights&&(Mt.ambientLightColor.value=Ye.state.ambient,Mt.lightProbe.value=Ye.state.probe,Mt.directionalLights.value=Ye.state.directional,Mt.directionalLightShadows.value=Ye.state.directionalShadow,Mt.spotLights.value=Ye.state.spot,Mt.spotLightShadows.value=Ye.state.spotShadow,Mt.rectAreaLights.value=Ye.state.rectArea,Mt.ltc_1.value=Ye.state.rectAreaLTC1,Mt.ltc_2.value=Ye.state.rectAreaLTC2,Mt.pointLights.value=Ye.state.point,Mt.pointLightShadows.value=Ye.state.pointShadow,Mt.hemisphereLights.value=Ye.state.hemi,Mt.directionalShadowMap.value=Ye.state.directionalShadowMap,Mt.directionalShadowMatrix.value=Ye.state.directionalShadowMatrix,Mt.spotShadowMap.value=Ye.state.spotShadowMap,Mt.spotLightMatrix.value=Ye.state.spotLightMatrix,Mt.spotLightMap.value=Ye.state.spotLightMap,Mt.pointShadowMap.value=Ye.state.pointShadowMap,Mt.pointShadowMatrix.value=Ye.state.pointShadowMatrix),Pe.currentProgram=mt,Pe.uniformsList=null,mt}function pt(te){if(te.uniformsList===null){const Ce=te.currentProgram.getUniforms();te.uniformsList=K1.seqWithValue(Ce.seq,te.uniforms)}return te.uniformsList}function St(te,Ce){const Oe=tt.get(te);Oe.outputColorSpace=Ce.outputColorSpace,Oe.instancing=Ce.instancing,Oe.instancingColor=Ce.instancingColor,Oe.skinning=Ce.skinning,Oe.morphTargets=Ce.morphTargets,Oe.morphNormals=Ce.morphNormals,Oe.morphColors=Ce.morphColors,Oe.morphTargetsCount=Ce.morphTargetsCount,Oe.numClippingPlanes=Ce.numClippingPlanes,Oe.numIntersection=Ce.numClipIntersection,Oe.vertexAlphas=Ce.vertexAlphas,Oe.vertexTangents=Ce.vertexTangents,Oe.toneMapping=Ce.toneMapping}function Kt(te,Ce,Oe,Pe,Ye){Ce.isScene!==!0&&(Ce=ue),Ie.resetTextureUnits();const bt=Ce.fog,Lt=Pe.isMeshStandardMaterial?Ce.environment:null,Wt=x===null?p.outputColorSpace:x.isXRRenderTarget===!0?x.texture.colorSpace:mA,Ct=(Pe.isMeshStandardMaterial?et:Xe).get(Pe.envMap||Lt),$e=Pe.vertexColors===!0&&!!Oe.attributes.color&&Oe.attributes.color.itemSize===4,mt=!!Oe.attributes.tangent&&(!!Pe.normalMap||Pe.anisotropy>0),Mt=!!Oe.morphAttributes.position,Yt=!!Oe.morphAttributes.normal,Vt=!!Oe.morphAttributes.color;let Xt=a0;Pe.toneMapped&&(x===null||x.isXRRenderTarget===!0)&&(Xt=p.toneMapping);const ln=Oe.morphAttributes.position||Oe.morphAttributes.normal||Oe.morphAttributes.color,nn=ln!==void 0?ln.length:0,Jt=tt.get(Pe),mn=g.state.lights;if(Ae===!0&&(ee===!0||te!==B)){const Pi=te===B&&Pe.id===C;ut.setState(Pe,te,Pi)}let yn=!1;Pe.version===Jt.__version?(Jt.needsLights&&Jt.lightsStateVersion!==mn.state.version||Jt.outputColorSpace!==Wt||Ye.isInstancedMesh&&Jt.instancing===!1||!Ye.isInstancedMesh&&Jt.instancing===!0||Ye.isSkinnedMesh&&Jt.skinning===!1||!Ye.isSkinnedMesh&&Jt.skinning===!0||Ye.isInstancedMesh&&Jt.instancingColor===!0&&Ye.instanceColor===null||Ye.isInstancedMesh&&Jt.instancingColor===!1&&Ye.instanceColor!==null||Jt.envMap!==Ct||Pe.fog===!0&&Jt.fog!==bt||Jt.numClippingPlanes!==void 0&&(Jt.numClippingPlanes!==ut.numPlanes||Jt.numIntersection!==ut.numIntersection)||Jt.vertexAlphas!==$e||Jt.vertexTangents!==mt||Jt.morphTargets!==Mt||Jt.morphNormals!==Yt||Jt.morphColors!==Vt||Jt.toneMapping!==Xt||je.isWebGL2===!0&&Jt.morphTargetsCount!==nn)&&(yn=!0):(yn=!0,Jt.__version=Pe.version);let Gr=Jt.currentProgram;yn===!0&&(Gr=At(Pe,Ce,Ye));let Is=!1,hs=!1,fa=!1;const yi=Gr.getUniforms(),sr=Jt.uniforms;if(De.useProgram(Gr.program)&&(Is=!0,hs=!0,fa=!0),Pe.id!==C&&(C=Pe.id,hs=!0),Is||B!==te){yi.setValue(fe,"projectionMatrix",te.projectionMatrix),yi.setValue(fe,"viewMatrix",te.matrixWorldInverse);const Pi=yi.map.cameraPosition;Pi!==void 0&&Pi.setValue(fe,me.setFromMatrixPosition(te.matrixWorld)),je.logarithmicDepthBuffer&&yi.setValue(fe,"logDepthBufFC",2/(Math.log(te.far+1)/Math.LN2)),(Pe.isMeshPhongMaterial||Pe.isMeshToonMaterial||Pe.isMeshLambertMaterial||Pe.isMeshBasicMaterial||Pe.isMeshStandardMaterial||Pe.isShaderMaterial)&&yi.setValue(fe,"isOrthographic",te.isOrthographicCamera===!0),B!==te&&(B=te,hs=!0,fa=!0)}if(Ye.isSkinnedMesh){yi.setOptional(fe,Ye,"bindMatrix"),yi.setOptional(fe,Ye,"bindMatrixInverse");const Pi=Ye.skeleton;Pi&&(je.floatVertexTextures?(Pi.boneTexture===null&&Pi.computeBoneTexture(),yi.setValue(fe,"boneTexture",Pi.boneTexture,Ie),yi.setValue(fe,"boneTextureSize",Pi.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Us=Oe.morphAttributes;if((Us.position!==void 0||Us.normal!==void 0||Us.color!==void 0&&je.isWebGL2===!0)&&yt.update(Ye,Oe,Gr),(hs||Jt.receiveShadow!==Ye.receiveShadow)&&(Jt.receiveShadow=Ye.receiveShadow,yi.setValue(fe,"receiveShadow",Ye.receiveShadow)),Pe.isMeshGouraudMaterial&&Pe.envMap!==null&&(sr.envMap.value=Ct,sr.flipEnvMap.value=Ct.isCubeTexture&&Ct.isRenderTargetTexture===!1?-1:1),hs&&(yi.setValue(fe,"toneMappingExposure",p.toneMappingExposure),Jt.needsLights&&Nt(sr,fa),bt&&Pe.fog===!0&&We.refreshFogUniforms(sr,bt),We.refreshMaterialUniforms(sr,Pe,L,z,se),K1.upload(fe,pt(Jt),sr,Ie)),Pe.isShaderMaterial&&Pe.uniformsNeedUpdate===!0&&(K1.upload(fe,pt(Jt),sr,Ie),Pe.uniformsNeedUpdate=!1),Pe.isSpriteMaterial&&yi.setValue(fe,"center",Ye.center),yi.setValue(fe,"modelViewMatrix",Ye.modelViewMatrix),yi.setValue(fe,"normalMatrix",Ye.normalMatrix),yi.setValue(fe,"modelMatrix",Ye.matrixWorld),Pe.isShaderMaterial||Pe.isRawShaderMaterial){const Pi=Pe.uniformsGroups;for(let Ps=0,x0=Pi.length;Ps<x0;Ps++)if(je.isWebGL2){const Ls=Pi[Ps];ct.update(Ls,Gr),ct.bind(Ls,Gr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Gr}function Nt(te,Ce){te.ambientLightColor.needsUpdate=Ce,te.lightProbe.needsUpdate=Ce,te.directionalLights.needsUpdate=Ce,te.directionalLightShadows.needsUpdate=Ce,te.pointLights.needsUpdate=Ce,te.pointLightShadows.needsUpdate=Ce,te.spotLights.needsUpdate=Ce,te.spotLightShadows.needsUpdate=Ce,te.rectAreaLights.needsUpdate=Ce,te.hemisphereLights.needsUpdate=Ce}function gt(te){return te.isMeshLambertMaterial||te.isMeshToonMaterial||te.isMeshPhongMaterial||te.isMeshStandardMaterial||te.isShadowMaterial||te.isShaderMaterial&&te.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(te,Ce,Oe){tt.get(te.texture).__webglTexture=Ce,tt.get(te.depthTexture).__webglTexture=Oe;const Pe=tt.get(te);Pe.__hasExternalTextures=!0,Pe.__hasExternalTextures&&(Pe.__autoAllocateDepthBuffer=Oe===void 0,Pe.__autoAllocateDepthBuffer||Fe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Pe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(te,Ce){const Oe=tt.get(te);Oe.__webglFramebuffer=Ce,Oe.__useDefaultFramebuffer=Ce===void 0},this.setRenderTarget=function(te,Ce=0,Oe=0){x=te,v=Ce,_=Oe;let Pe=!0,Ye=null,bt=!1,Lt=!1;if(te){const Ct=tt.get(te);Ct.__useDefaultFramebuffer!==void 0?(De.bindFramebuffer(fe.FRAMEBUFFER,null),Pe=!1):Ct.__webglFramebuffer===void 0?Ie.setupRenderTarget(te):Ct.__hasExternalTextures&&Ie.rebindTextures(te,tt.get(te.texture).__webglTexture,tt.get(te.depthTexture).__webglTexture);const $e=te.texture;($e.isData3DTexture||$e.isDataArrayTexture||$e.isCompressedArrayTexture)&&(Lt=!0);const mt=tt.get(te).__webglFramebuffer;te.isWebGLCubeRenderTarget?(Array.isArray(mt[Ce])?Ye=mt[Ce][Oe]:Ye=mt[Ce],bt=!0):je.isWebGL2&&te.samples>0&&Ie.useMultisampledRTT(te)===!1?Ye=tt.get(te).__webglMultisampledFramebuffer:Array.isArray(mt)?Ye=mt[Oe]:Ye=mt,G.copy(te.viewport),I.copy(te.scissor),N=te.scissorTest}else G.copy(V).multiplyScalar(L).floor(),I.copy(D).multiplyScalar(L).floor(),N=H;if(De.bindFramebuffer(fe.FRAMEBUFFER,Ye)&&je.drawBuffers&&Pe&&De.drawBuffers(te,Ye),De.viewport(G),De.scissor(I),De.setScissorTest(N),bt){const Ct=tt.get(te.texture);fe.framebufferTexture2D(fe.FRAMEBUFFER,fe.COLOR_ATTACHMENT0,fe.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Ct.__webglTexture,Oe)}else if(Lt){const Ct=tt.get(te.texture),$e=Ce||0;fe.framebufferTextureLayer(fe.FRAMEBUFFER,fe.COLOR_ATTACHMENT0,Ct.__webglTexture,Oe||0,$e)}C=-1},this.readRenderTargetPixels=function(te,Ce,Oe,Pe,Ye,bt,Lt){if(!(te&&te.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Wt=tt.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&Lt!==void 0&&(Wt=Wt[Lt]),Wt){De.bindFramebuffer(fe.FRAMEBUFFER,Wt);try{const Ct=te.texture,$e=Ct.format,mt=Ct.type;if($e!==os&&nt.convert($e)!==fe.getParameter(fe.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Mt=mt===_c&&(Fe.has("EXT_color_buffer_half_float")||je.isWebGL2&&Fe.has("EXT_color_buffer_float"));if(mt!==La&&nt.convert(mt)!==fe.getParameter(fe.IMPLEMENTATION_COLOR_READ_TYPE)&&!(mt===Pa&&(je.isWebGL2||Fe.has("OES_texture_float")||Fe.has("WEBGL_color_buffer_float")))&&!Mt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ce>=0&&Ce<=te.width-Pe&&Oe>=0&&Oe<=te.height-Ye&&fe.readPixels(Ce,Oe,Pe,Ye,nt.convert($e),nt.convert(mt),bt)}finally{const Ct=x!==null?tt.get(x).__webglFramebuffer:null;De.bindFramebuffer(fe.FRAMEBUFFER,Ct)}}},this.copyFramebufferToTexture=function(te,Ce,Oe=0){const Pe=Math.pow(2,-Oe),Ye=Math.floor(Ce.image.width*Pe),bt=Math.floor(Ce.image.height*Pe);Ie.setTexture2D(Ce,0),fe.copyTexSubImage2D(fe.TEXTURE_2D,Oe,0,0,te.x,te.y,Ye,bt),De.unbindTexture()},this.copyTextureToTexture=function(te,Ce,Oe,Pe=0){const Ye=Ce.image.width,bt=Ce.image.height,Lt=nt.convert(Oe.format),Wt=nt.convert(Oe.type);Ie.setTexture2D(Oe,0),fe.pixelStorei(fe.UNPACK_FLIP_Y_WEBGL,Oe.flipY),fe.pixelStorei(fe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Oe.premultiplyAlpha),fe.pixelStorei(fe.UNPACK_ALIGNMENT,Oe.unpackAlignment),Ce.isDataTexture?fe.texSubImage2D(fe.TEXTURE_2D,Pe,te.x,te.y,Ye,bt,Lt,Wt,Ce.image.data):Ce.isCompressedTexture?fe.compressedTexSubImage2D(fe.TEXTURE_2D,Pe,te.x,te.y,Ce.mipmaps[0].width,Ce.mipmaps[0].height,Lt,Ce.mipmaps[0].data):fe.texSubImage2D(fe.TEXTURE_2D,Pe,te.x,te.y,Lt,Wt,Ce.image),Pe===0&&Oe.generateMipmaps&&fe.generateMipmap(fe.TEXTURE_2D),De.unbindTexture()},this.copyTextureToTexture3D=function(te,Ce,Oe,Pe,Ye=0){if(p.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const bt=te.max.x-te.min.x+1,Lt=te.max.y-te.min.y+1,Wt=te.max.z-te.min.z+1,Ct=nt.convert(Pe.format),$e=nt.convert(Pe.type);let mt;if(Pe.isData3DTexture)Ie.setTexture3D(Pe,0),mt=fe.TEXTURE_3D;else if(Pe.isDataArrayTexture)Ie.setTexture2DArray(Pe,0),mt=fe.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}fe.pixelStorei(fe.UNPACK_FLIP_Y_WEBGL,Pe.flipY),fe.pixelStorei(fe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pe.premultiplyAlpha),fe.pixelStorei(fe.UNPACK_ALIGNMENT,Pe.unpackAlignment);const Mt=fe.getParameter(fe.UNPACK_ROW_LENGTH),Yt=fe.getParameter(fe.UNPACK_IMAGE_HEIGHT),Vt=fe.getParameter(fe.UNPACK_SKIP_PIXELS),Xt=fe.getParameter(fe.UNPACK_SKIP_ROWS),ln=fe.getParameter(fe.UNPACK_SKIP_IMAGES),nn=Oe.isCompressedTexture?Oe.mipmaps[0]:Oe.image;fe.pixelStorei(fe.UNPACK_ROW_LENGTH,nn.width),fe.pixelStorei(fe.UNPACK_IMAGE_HEIGHT,nn.height),fe.pixelStorei(fe.UNPACK_SKIP_PIXELS,te.min.x),fe.pixelStorei(fe.UNPACK_SKIP_ROWS,te.min.y),fe.pixelStorei(fe.UNPACK_SKIP_IMAGES,te.min.z),Oe.isDataTexture||Oe.isData3DTexture?fe.texSubImage3D(mt,Ye,Ce.x,Ce.y,Ce.z,bt,Lt,Wt,Ct,$e,nn.data):Oe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),fe.compressedTexSubImage3D(mt,Ye,Ce.x,Ce.y,Ce.z,bt,Lt,Wt,Ct,nn.data)):fe.texSubImage3D(mt,Ye,Ce.x,Ce.y,Ce.z,bt,Lt,Wt,Ct,$e,nn),fe.pixelStorei(fe.UNPACK_ROW_LENGTH,Mt),fe.pixelStorei(fe.UNPACK_IMAGE_HEIGHT,Yt),fe.pixelStorei(fe.UNPACK_SKIP_PIXELS,Vt),fe.pixelStorei(fe.UNPACK_SKIP_ROWS,Xt),fe.pixelStorei(fe.UNPACK_SKIP_IMAGES,ln),Ye===0&&Pe.generateMipmaps&&fe.generateMipmap(mt),De.unbindTexture()},this.initTexture=function(te){te.isCubeTexture?Ie.setTextureCube(te,0):te.isData3DTexture?Ie.setTexture3D(te,0):te.isDataArrayTexture||te.isCompressedArrayTexture?Ie.setTexture2DArray(te,0):Ie.setTexture2D(te,0),De.unbindTexture()},this.resetState=function(){v=0,_=0,x=null,De.reset(),it.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return iA}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Y_?"display-p3":"srgb",t.unpackColorSpace=ii.workingColorSpace===kg?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===yr?pc:XN}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===pc?yr:mA}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class ise extends hM{}ise.prototype.isWebGL1Renderer=!0;class J_{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new $t(e),this.near=t,this.far=n}clone(){return new J_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class L8 extends dr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class fE extends Vr{constructor(e=null,t=1,n=1,r,s,a,o,A,c=oi,l=oi,u,d){super(null,a,o,A,c,l,r,s,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rse extends vu{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new $t(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const D8=new ne,k8=new ne,O8=new xt,k2=new X_,Xp=new $f;class sse extends dr{constructor(e=new tr,t=new rse){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,s=t.count;r<s;r++)D8.fromBufferAttribute(t,r-1),k8.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=D8.distanceTo(k8);e.setAttribute("lineDistance",new fr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Xp.copy(n.boundingSphere),Xp.applyMatrix4(r),Xp.radius+=s,e.ray.intersectsSphere(Xp)===!1)return;O8.copy(r).invert(),k2.copy(e.ray).applyMatrix4(O8);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),A=o*o,c=new ne,l=new ne,u=new ne,d=new ne,h=this.isLineSegments?2:1,m=n.index,g=n.attributes.position;if(m!==null){const E=Math.max(0,a.start),R=Math.min(m.count,a.start+a.count);for(let p=E,w=R-1;p<w;p+=h){const v=m.getX(p),_=m.getX(p+1);if(c.fromBufferAttribute(g,v),l.fromBufferAttribute(g,_),k2.distanceSqToSegment(c,l,d,u)>A)continue;d.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(d);C<e.near||C>e.far||t.push({distance:C,point:u.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}else{const E=Math.max(0,a.start),R=Math.min(g.count,a.start+a.count);for(let p=E,w=R-1;p<w;p+=h){if(c.fromBufferAttribute(g,p),l.fromBufferAttribute(g,p+1),k2.distanceSqToSegment(c,l,d,u)>A)continue;d.applyMatrix4(this.matrixWorld);const _=e.ray.origin.distanceTo(d);_<e.near||_>e.far||t.push({distance:_,point:u.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}const Q8=new ne,H8=new ne;class hE extends sse{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,s=t.count;r<s;r+=2)Q8.fromBufferAttribute(t,r),H8.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+Q8.distanceTo(H8);e.setAttribute("lineDistance",new fr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ase extends vu{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new $t(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const z8=new xt,pE=new X_,jp=new $f,Zp=new ne;class pM extends dr{constructor(e=new tr,t=new ase){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),jp.copy(n.boundingSphere),jp.applyMatrix4(r),jp.radius+=s,e.ray.intersectsSphere(jp)===!1)return;z8.copy(r).invert(),pE.copy(e.ray).applyMatrix4(z8);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),A=o*o,c=n.index,u=n.attributes.position;if(c!==null){const d=Math.max(0,a.start),h=Math.min(c.count,a.start+a.count);for(let m=d,y=h;m<y;m++){const g=c.getX(m);Zp.fromBufferAttribute(u,g),V8(Zp,g,A,r,e,t,this)}}else{const d=Math.max(0,a.start),h=Math.min(u.count,a.start+a.count);for(let m=d,y=h;m<y;m++)Zp.fromBufferAttribute(u,m),V8(Zp,m,A,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function V8(i,e,t,n,r,s,a){const o=pE.distanceSqToPoint(i);if(o<t){const A=new ne;pE.closestPointToPoint(i,A),A.applyMatrix4(n);const c=r.ray.origin.distanceTo(A);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:A,index:e,face:null,object:a})}}class ose extends Vr{constructor(e,t,n,r,s,a,o,A,c){super(e,t,n,r,s,a,o,A,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Hg extends tr{constructor(e=1,t=1,n=1,r=32,s=1,a=!1,o=0,A=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:A};const c=this;r=Math.floor(r),s=Math.floor(s);const l=[],u=[],d=[],h=[];let m=0;const y=[],g=n/2;let E=0;R(),a===!1&&(e>0&&p(!0),t>0&&p(!1)),this.setIndex(l),this.setAttribute("position",new fr(u,3)),this.setAttribute("normal",new fr(d,3)),this.setAttribute("uv",new fr(h,2));function R(){const w=new ne,v=new ne;let _=0;const x=(t-e)/n;for(let C=0;C<=s;C++){const B=[],G=C/s,I=G*(t-e)+e;for(let N=0;N<=r;N++){const T=N/r,M=T*A+o,U=Math.sin(M),z=Math.cos(M);v.x=I*U,v.y=-G*n+g,v.z=I*z,u.push(v.x,v.y,v.z),w.set(U,x,z).normalize(),d.push(w.x,w.y,w.z),h.push(T,1-G),B.push(m++)}y.push(B)}for(let C=0;C<r;C++)for(let B=0;B<s;B++){const G=y[B][C],I=y[B+1][C],N=y[B+1][C+1],T=y[B][C+1];l.push(G,I,T),l.push(I,N,T),_+=6}c.addGroup(E,_,0),E+=_}function p(w){const v=m,_=new bn,x=new ne;let C=0;const B=w===!0?e:t,G=w===!0?1:-1;for(let N=1;N<=r;N++)u.push(0,g*G,0),d.push(0,G,0),h.push(.5,.5),m++;const I=m;for(let N=0;N<=r;N++){const M=N/r*A+o,U=Math.cos(M),z=Math.sin(M);x.x=B*z,x.y=g*G,x.z=B*U,u.push(x.x,x.y,x.z),d.push(0,G,0),_.x=U*.5+.5,_.y=z*.5*G+.5,h.push(_.x,_.y),m++}for(let N=0;N<r;N++){const T=v+N,M=I+N;w===!0?l.push(M,M+1,T):l.push(M+1,M,T),C+=3}c.addGroup(E,C,w===!0?1:2),E+=C}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hg(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class e4 extends Hg{constructor(e=1,t=1,n=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,n,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new e4(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Wf extends tr{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const s=[],a=[];o(r),c(n),l(),this.setAttribute("position",new fr(s,3)),this.setAttribute("normal",new fr(s.slice(),3)),this.setAttribute("uv",new fr(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(R){const p=new ne,w=new ne,v=new ne;for(let _=0;_<t.length;_+=3)h(t[_+0],p),h(t[_+1],w),h(t[_+2],v),A(p,w,v,R)}function A(R,p,w,v){const _=v+1,x=[];for(let C=0;C<=_;C++){x[C]=[];const B=R.clone().lerp(w,C/_),G=p.clone().lerp(w,C/_),I=_-C;for(let N=0;N<=I;N++)N===0&&C===_?x[C][N]=B:x[C][N]=B.clone().lerp(G,N/I)}for(let C=0;C<_;C++)for(let B=0;B<2*(_-C)-1;B++){const G=Math.floor(B/2);B%2===0?(d(x[C][G+1]),d(x[C+1][G]),d(x[C][G])):(d(x[C][G+1]),d(x[C+1][G+1]),d(x[C+1][G]))}}function c(R){const p=new ne;for(let w=0;w<s.length;w+=3)p.x=s[w+0],p.y=s[w+1],p.z=s[w+2],p.normalize().multiplyScalar(R),s[w+0]=p.x,s[w+1]=p.y,s[w+2]=p.z}function l(){const R=new ne;for(let p=0;p<s.length;p+=3){R.x=s[p+0],R.y=s[p+1],R.z=s[p+2];const w=g(R)/2/Math.PI+.5,v=E(R)/Math.PI+.5;a.push(w,1-v)}m(),u()}function u(){for(let R=0;R<a.length;R+=6){const p=a[R+0],w=a[R+2],v=a[R+4],_=Math.max(p,w,v),x=Math.min(p,w,v);_>.9&&x<.1&&(p<.2&&(a[R+0]+=1),w<.2&&(a[R+2]+=1),v<.2&&(a[R+4]+=1))}}function d(R){s.push(R.x,R.y,R.z)}function h(R,p){const w=R*3;p.x=e[w+0],p.y=e[w+1],p.z=e[w+2]}function m(){const R=new ne,p=new ne,w=new ne,v=new ne,_=new bn,x=new bn,C=new bn;for(let B=0,G=0;B<s.length;B+=9,G+=6){R.set(s[B+0],s[B+1],s[B+2]),p.set(s[B+3],s[B+4],s[B+5]),w.set(s[B+6],s[B+7],s[B+8]),_.set(a[G+0],a[G+1]),x.set(a[G+2],a[G+3]),C.set(a[G+4],a[G+5]),v.copy(R).add(p).add(w).divideScalar(3);const I=g(v);y(_,G+0,R,I),y(x,G+2,p,I),y(C,G+4,w,I)}}function y(R,p,w,v){v<0&&R.x===1&&(a[p]=R.x-1),w.x===0&&w.z===0&&(a[p]=v/2/Math.PI+.5)}function g(R){return Math.atan2(R.z,-R.x)}function E(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wf(e.vertices,e.indices,e.radius,e.details)}}class zg extends Wf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zg(e.radius,e.detail)}}class t4 extends Wf{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new t4(e.radius,e.detail)}}class n4 extends Wf{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new n4(e.radius,e.detail)}}class i4 extends tr{constructor(e=1,t=.4,n=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:s},n=Math.floor(n),r=Math.floor(r);const a=[],o=[],A=[],c=[],l=new ne,u=new ne,d=new ne;for(let h=0;h<=n;h++)for(let m=0;m<=r;m++){const y=m/r*s,g=h/n*Math.PI*2;u.x=(e+t*Math.cos(g))*Math.cos(y),u.y=(e+t*Math.cos(g))*Math.sin(y),u.z=t*Math.sin(g),o.push(u.x,u.y,u.z),l.x=e*Math.cos(y),l.y=e*Math.sin(y),d.subVectors(u,l).normalize(),A.push(d.x,d.y,d.z),c.push(m/r),c.push(h/n)}for(let h=1;h<=n;h++)for(let m=1;m<=r;m++){const y=(r+1)*h+m-1,g=(r+1)*(h-1)+m-1,E=(r+1)*(h-1)+m,R=(r+1)*h+m;a.push(y,g,R),a.push(g,E,R)}this.setIndex(a),this.setAttribute("position",new fr(o,3)),this.setAttribute("normal",new fr(A,3)),this.setAttribute("uv",new fr(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i4(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class mM extends dr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new $t(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}const O2=new xt,K8=new ne,$8=new ne;class Ase{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new bn(512,512),this.map=null,this.mapPass=null,this.matrix=new xt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new j_,this._frameExtents=new bn(1,1),this._viewportCount=1,this._viewports=[new ur(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;K8.setFromMatrixPosition(e.matrixWorld),t.position.copy(K8),$8.setFromMatrixPosition(e.target.matrixWorld),t.lookAt($8),t.updateMatrixWorld(),O2.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(O2),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(O2)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class cse extends Ase{constructor(){super(new xf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class lse extends mM{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(dr.DEFAULT_UP),this.updateMatrix(),this.target=new dr,this.shadow=new cse}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class use extends mM{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}const W8=new xt,q8=new xt,$0=new xt;class dse{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new as,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new as,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,$0.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(z1*t.fov*.5)/t.zoom;let o,A;q8.elements[12]=-r,W8.elements[12]=r,o=-a*t.aspect+s,A=a*t.aspect+s,$0.elements[0]=2*t.near/(A-o),$0.elements[8]=(A+o)/(A-o),this.cameraL.projectionMatrix.copy($0),o=-a*t.aspect-s,A=a*t.aspect-s,$0.elements[0]=2*t.near/(A-o),$0.elements[8]=(A+o)/(A-o),this.cameraR.projectionMatrix.copy($0)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(q8),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(W8)}}class Hm{constructor(e){this.value=e}clone(){return new Hm(this.value.clone===void 0?this.value:this.value.clone())}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:W_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=W_);var mE={exports:{}};(function(i,e){/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var t,n,r,s,a,o,A,c,l,u,d,h,m,y,g,E,R,p,w,v,_,x,C,B,G,I,N,T,M,U,z,L,k,K,V,D,H,oe,Ae,ee,se,le,J,me,ue,ge,fe,we,Fe,je,De,Le,tt,Ie,Xe,et,st,re,X,Be,We,Se,ze,ut,qe,dt,yt,Ut,ye,nt,it,ct,rt,at,Bt,he,Ke,Ne,Ge,Je,Gt,on,en=[].slice;Ne=function(){var Q,Y,Z,ce,de;for(Q={},de="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),ce=0,Y=de.length;ce<Y;ce++)Z=de[ce],Q["[object "+Z+"]"]=Z.toLowerCase();return function(be){var Re;return Re=Object.prototype.toString.call(be),Q[Re]||"object"}}(),fe=function(Q,Y,Z){return Y==null&&(Y=0),Z==null&&(Z=1),Q<Y&&(Q=Y),Q>Z&&(Q=Z),Q},Ge=function(Q){return Q.length>=3?Array.prototype.slice.call(Q):Q[0]},_=function(Q){var Y,Z;for(Q._clipped=!1,Q._unclipped=Q.slice(0),Y=Z=0;Z<3;Y=++Z)Y<3?((Q[Y]<0||Q[Y]>255)&&(Q._clipped=!0),Q[Y]<0&&(Q[Y]=0),Q[Y]>255&&(Q[Y]=255)):Y===3&&(Q[Y]<0&&(Q[Y]=0),Q[Y]>1&&(Q[Y]=1));return Q._clipped||delete Q._unclipped,Q},s=Math.PI,rt=Math.round,C=Math.cos,T=Math.floor,et=Math.pow,we=Math.log,Bt=Math.sin,he=Math.sqrt,y=Math.atan2,De=Math.max,m=Math.abs,A=s*2,a=s/3,n=s/180,o=180/s,v=function(){return arguments[0]instanceof t?arguments[0]:function(Q,Y,Z){Z.prototype=Q.prototype;var ce=new Z,de=Q.apply(ce,Y);return Object(de)===de?de:ce}(t,arguments,function(){})},v.default=v,h=[],i!==null&&i.exports!=null&&(i.exports=v),ct=e!==null?e:this,ct.chroma=v,v.version="1.4.1",d={},l=[],u=!1,t=function(){function Q(){var Y,Z,ce,de,be,Re,Te,At,pt;for(Re=this,Z=[],At=0,de=arguments.length;At<de;At++)Y=arguments[At],Y!=null&&Z.push(Y);if(Z.length>1&&(Te=Z[Z.length-1]),d[Te]!=null)Re._rgb=_(d[Te](Ge(Z.slice(0,-1))));else{for(u||(l=l.sort(function(St,Kt){return Kt.p-St.p}),u=!0),pt=0,be=l.length;pt<be&&(ce=l[pt],Te=ce.test.apply(ce,Z),!Te);pt++);Te&&(Re._rgb=_(d[Te].apply(d,Z)))}Re._rgb==null&&console.warn("unknown format: "+Z),Re._rgb==null&&(Re._rgb=[0,0,0]),Re._rgb.length===3&&Re._rgb.push(1)}return Q.prototype.toString=function(){return this.hex()},Q}(),v._input=d;/**
	ColorBrewer colors for chroma.js

	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
	Pennsylvania State University.

	Licensed under the Apache License, Version 2.0 (the "License"); 
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at	
	http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software distributed
	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
	CONDITIONS OF ANY KIND, either express or implied. See the License for the
	specific language governing permissions and limitations under the License.

    @preserve
 */v.brewer=p={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var Q,Y;Y=[];for(Q in p)Y.push(p[Q.toLowerCase()]=p[Q]);return Y}(),Je={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},v.colors=Je,le=function(){var Q,Y,Z,ce,de,be,Re,Te,At;return Y=Ge(arguments),de=Y[0],Q=Y[1],Z=Y[2],Te=(de+16)/116,Re=isNaN(Q)?Te:Te+Q/500,At=isNaN(Z)?Te:Te-Z/200,Te=r.Yn*J(Te),Re=r.Xn*J(Re),At=r.Zn*J(At),be=on(3.2404542*Re-1.5371385*Te-.4985314*At),ce=on(-.969266*Re+1.8760108*Te+.041556*At),Z=on(.0556434*Re-.2040259*Te+1.0572252*At),[be,ce,Z,Y.length>3?Y[3]:1]},on=function(Q){return 255*(Q<=.00304?12.92*Q:1.055*et(Q,1/2.4)-.055)},J=function(Q){return Q>r.t1?Q*Q*Q:r.t2*(Q-r.t0)},r={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ut=function(){var Q,Y,Z,ce,de,be,Re,Te;return ce=Ge(arguments),Z=ce[0],Y=ce[1],Q=ce[2],de=ye(Z,Y,Q),be=de[0],Re=de[1],Te=de[2],[116*Re-16,500*(be-Re),200*(Re-Te)]},nt=function(Q){return(Q/=255)<=.04045?Q/12.92:et((Q+.055)/1.055,2.4)},Gt=function(Q){return Q>r.t3?et(Q,1/3):Q/r.t2+r.t0},ye=function(){var Q,Y,Z,ce,de,be,Re;return ce=Ge(arguments),Z=ce[0],Y=ce[1],Q=ce[2],Z=nt(Z),Y=nt(Y),Q=nt(Q),de=Gt((.4124564*Z+.3575761*Y+.1804375*Q)/r.Xn),be=Gt((.2126729*Z+.7151522*Y+.072175*Q)/r.Yn),Re=Gt((.0193339*Z+.119192*Y+.9503041*Q)/r.Zn),[de,be,Re]},v.lab=function(){return function(Q,Y,Z){Z.prototype=Q.prototype;var ce=new Z,de=Q.apply(ce,Y);return Object(de)===de?de:ce}(t,en.call(arguments).concat(["lab"]),function(){})},d.lab=le,t.prototype.lab=function(){return ut(this._rgb)},g=function(Q){var Y,Z,ce,de,be,Re,Te,At,pt,St,Kt;return Q=function(){var Nt,gt,te;for(te=[],gt=0,Nt=Q.length;gt<Nt;gt++)de=Q[gt],te.push(v(de));return te}(),Q.length===2?(pt=function(){var Nt,gt,te;for(te=[],gt=0,Nt=Q.length;gt<Nt;gt++)de=Q[gt],te.push(de.lab());return te}(),be=pt[0],Re=pt[1],Y=function(Nt){var gt,te;return te=function(){var Ce,Oe;for(Oe=[],gt=Ce=0;Ce<=2;gt=++Ce)Oe.push(be[gt]+Nt*(Re[gt]-be[gt]));return Oe}(),v.lab.apply(v,te)}):Q.length===3?(St=function(){var Nt,gt,te;for(te=[],gt=0,Nt=Q.length;gt<Nt;gt++)de=Q[gt],te.push(de.lab());return te}(),be=St[0],Re=St[1],Te=St[2],Y=function(Nt){var gt,te;return te=function(){var Ce,Oe;for(Oe=[],gt=Ce=0;Ce<=2;gt=++Ce)Oe.push((1-Nt)*(1-Nt)*be[gt]+2*(1-Nt)*Nt*Re[gt]+Nt*Nt*Te[gt]);return Oe}(),v.lab.apply(v,te)}):Q.length===4?(Kt=function(){var Nt,gt,te;for(te=[],gt=0,Nt=Q.length;gt<Nt;gt++)de=Q[gt],te.push(de.lab());return te}(),be=Kt[0],Re=Kt[1],Te=Kt[2],At=Kt[3],Y=function(Nt){var gt,te;return te=function(){var Ce,Oe;for(Oe=[],gt=Ce=0;Ce<=2;gt=++Ce)Oe.push((1-Nt)*(1-Nt)*(1-Nt)*be[gt]+3*(1-Nt)*(1-Nt)*Nt*Re[gt]+3*(1-Nt)*Nt*Nt*Te[gt]+Nt*Nt*Nt*At[gt]);return Oe}(),v.lab.apply(v,te)}):Q.length===5&&(Z=g(Q.slice(0,3)),ce=g(Q.slice(2,5)),Y=function(Nt){return Nt<.5?Z(Nt*2):ce((Nt-.5)*2)}),Y},v.bezier=function(Q){var Y;return Y=g(Q),Y.scale=function(){return v.scale(Y)},Y},v.cubehelix=function(Q,Y,Z,ce,de){var be,Re,Te;return Q==null&&(Q=300),Y==null&&(Y=-1.5),Z==null&&(Z=1),ce==null&&(ce=1),de==null&&(de=[0,1]),be=0,Ne(de)==="array"?Re=de[1]-de[0]:(Re=0,de=[de,de]),Te=function(At){var pt,St,Kt,Nt,gt,te,Ce,Oe,Pe;return pt=A*((Q+120)/360+Y*At),Ce=et(de[0]+Re*At,ce),te=be!==0?Z[0]+At*be:Z,St=te*Ce*(1-Ce)/2,Nt=C(pt),Pe=Bt(pt),Oe=Ce+St*(-.14861*Nt+1.78277*Pe),gt=Ce+St*(-.29227*Nt-.90649*Pe),Kt=Ce+St*(1.97294*Nt),v(_([Oe*255,gt*255,Kt*255,1]))},Te.start=function(At){return At==null?Q:(Q=At,Te)},Te.rotations=function(At){return At==null?Y:(Y=At,Te)},Te.gamma=function(At){return At==null?ce:(ce=At,Te)},Te.hue=function(At){return At==null?Z:(Z=At,Ne(Z)==="array"?(be=Z[1]-Z[0],be===0&&(Z=Z[1])):be=0,Te)},Te.lightness=function(At){return At==null?de:(Ne(At)==="array"?(de=At,Re=At[1]-At[0]):(de=[At,At],Re=0),Te)},Te.scale=function(){return v.scale(Te)},Te.hue(Z),Te},v.random=function(){var Q,Y,Z;for(Y="0123456789abcdef",Q="#",Z=0;Z<6;++Z)Q+=Y.charAt(T(Math.random()*16));return new t(Q)},h=[],V=function(Q,Y,Z,ce){var de,be,Re,Te;for(Z==null&&(Z=.5),ce==null&&(ce="rgb"),Ne(Q)!=="object"&&(Q=v(Q)),Ne(Y)!=="object"&&(Y=v(Y)),Re=0,be=h.length;Re<be;Re++)if(de=h[Re],ce===de[0]){Te=de[1](Q,Y,Z,ce);break}if(Te==null)throw"color mode "+ce+" is not supported";return Te.alpha(Q.alpha()+Z*(Y.alpha()-Q.alpha()))},v.interpolate=V,t.prototype.interpolate=function(Q,Y,Z){return V(this,Q,Y,Z)},v.mix=V,t.prototype.mix=t.prototype.interpolate,d.rgb=function(){var Q,Y,Z,ce;Y=Ge(arguments),Z=[];for(Q in Y)ce=Y[Q],Z.push(ce);return Z},v.rgb=function(){return function(Q,Y,Z){Z.prototype=Q.prototype;var ce=new Z,de=Q.apply(ce,Y);return Object(de)===de?de:ce}(t,en.call(arguments).concat(["rgb"]),function(){})},t.prototype.rgb=function(Q){return Q==null&&(Q=!0),Q?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},t.prototype.rgba=function(Q){return Q==null&&(Q=!0),Q?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},l.push({p:3,test:function(Q){var Y;if(Y=Ge(arguments),Ne(Y)==="array"&&Y.length===3||Y.length===4&&Ne(Y[3])==="number"&&Y[3]>=0&&Y[3]<=1)return"rgb"}}),d.lrgb=d.rgb,oe=function(Q,Y,Z,ce){var de,be;return de=Q._rgb,be=Y._rgb,new t(he(et(de[0],2)*(1-Z)+et(be[0],2)*Z),he(et(de[1],2)*(1-Z)+et(be[1],2)*Z),he(et(de[2],2)*(1-Z)+et(be[2],2)*Z),ce)},c=function(Q){var Y,Z,ce,de,be,Re;for(Z=1/Q.length,Re=[0,0,0,0],de=0,ce=Q.length;de<ce;de++)Y=Q[de],be=Y._rgb,Re[0]+=et(be[0],2)*Z,Re[1]+=et(be[1],2)*Z,Re[2]+=et(be[2],2)*Z,Re[3]+=be[3]*Z;return Re[0]=he(Re[0]),Re[1]=he(Re[1]),Re[2]=he(Re[2]),Re[3]>1&&(Re[3]=1),new t(_(Re))},h.push(["lrgb",oe]),v.average=function(Q,Y){var Z,ce,de,be,Re,Te,At,pt,St,Kt,Nt,gt,te;if(Y==null&&(Y="rgb"),St=Q.length,Q=Q.map(function(Ce){return v(Ce)}),At=Q.splice(0,1)[0],Y==="lrgb")return c(Q);gt=At.get(Y),be=[],Re=0,Te=0;for(pt in gt)gt[pt]=gt[pt]||0,be.push(isNaN(gt[pt])?0:1),Y.charAt(pt)==="h"&&!isNaN(gt[pt])&&(Z=gt[pt]/180*s,Re+=C(Z),Te+=Bt(Z));for(ce=At.alpha(),Nt=0,Kt=Q.length;Nt<Kt;Nt++){de=Q[Nt],te=de.get(Y),ce+=de.alpha();for(pt in gt)isNaN(te[pt])||(be[pt]+=1,Y.charAt(pt)==="h"?(Z=te[pt]/180*s,Re+=C(Z),Te+=Bt(Z)):gt[pt]+=te[pt])}for(pt in gt)if(Y.charAt(pt)==="h"){for(Z=y(Te/be[pt],Re/be[pt])/s*180;Z<0;)Z+=360;for(;Z>=360;)Z-=360;gt[pt]=Z}else gt[pt]=gt[pt]/be[pt];return v(gt,Y).alpha(ce/St)},U=function(Q){var Y,Z,ce,de,be,Re;if(Q.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(Q.length===4||Q.length===7)&&(Q=Q.substr(1)),Q.length===3&&(Q=Q.split(""),Q=Q[0]+Q[0]+Q[1]+Q[1]+Q[2]+Q[2]),Re=parseInt(Q,16),de=Re>>16,ce=Re>>8&255,Z=Re&255,[de,ce,Z,1];if(Q.match(/^#?([A-Fa-f0-9]{8})$/))return Q.length===9&&(Q=Q.substr(1)),Re=parseInt(Q,16),de=Re>>24&255,ce=Re>>16&255,Z=Re>>8&255,Y=rt((Re&255)/255*100)/100,[de,ce,Z,Y];if(d.css!=null&&(be=d.css(Q)))return be;throw"unknown color: "+Q},Be=function(Q,Y){var Z,ce,de,be,Re,Te,At;return Y==null&&(Y="auto"),Re=Q[0],de=Q[1],ce=Q[2],Z=Q[3],Y==="auto"&&(Y=Z<1?"rgba":"rgb"),Re=Math.round(Re),de=Math.round(de),ce=Math.round(ce),At=Re<<16|de<<8|ce,Te="000000"+At.toString(16),Te=Te.substr(Te.length-6),be="0"+rt(Z*255).toString(16),be=be.substr(be.length-2),"#"+function(){switch(Y.toLowerCase()){case"rgba":return Te+be;case"argb":return be+Te;default:return Te}}()},d.hex=function(Q){return U(Q)},v.hex=function(){return function(Q,Y,Z){Z.prototype=Q.prototype;var ce=new Z,de=Q.apply(ce,Y);return Object(de)===de?de:ce}(t,en.call(arguments).concat(["hex"]),function(){})},t.prototype.hex=function(Q){return Q==null&&(Q="auto"),Be(this._rgb,Q)},l.push({p:4,test:function(Q){if(arguments.length===1&&Ne(Q)==="string")return"hex"}}),k=function(){var Q,Y,Z,ce,de,be,Re,Te,At,pt,St,Kt,Nt,gt;if(Q=Ge(arguments),de=Q[0],St=Q[1],Re=Q[2],St===0)At=ce=Y=Re*255;else{for(gt=[0,0,0],Z=[0,0,0],Nt=Re<.5?Re*(1+St):Re+St-Re*St,Kt=2*Re-Nt,de/=360,gt[0]=de+1/3,gt[1]=de,gt[2]=de-1/3,be=Te=0;Te<=2;be=++Te)gt[be]<0&&(gt[be]+=1),gt[be]>1&&(gt[be]-=1),6*gt[be]<1?Z[be]=Kt+(Nt-Kt)*6*gt[be]:2*gt[be]<1?Z[be]=Nt:3*gt[be]<2?Z[be]=Kt+(Nt-Kt)*(2/3-gt[be])*6:Z[be]=Kt;pt=[rt(Z[0]*255),rt(Z[1]*255),rt(Z[2]*255)],At=pt[0],ce=pt[1],Y=pt[2]}return Q.length>3?[At,ce,Y,Q[3]]:[At,ce,Y]},Se=function(Q,Y,Z){var ce,de,be,Re,Te;return Q!==void 0&&Q.length>=3&&(Re=Q,Q=Re[0],Y=Re[1],Z=Re[2]),Q/=255,Y/=255,Z/=255,be=Math.min(Q,Y,Z),De=Math.max(Q,Y,Z),de=(De+be)/2,De===be?(Te=0,ce=Number.NaN):Te=de<.5?(De-be)/(De+be):(De-be)/(2-De-be),Q===De?ce=(Y-Z)/(De-be):Y===De?ce=2+(Z-Q)/(De-be):Z===De&&(ce=4+(Q-Y)/(De-be)),ce*=60,ce<0&&(ce+=360),[ce,Te,de]},v.hsl=function(){return function(Q,Y,Z){Z.prototype=Q.prototype;var ce=new Z,de=Q.apply(ce,Y);return Object(de)===de?de:ce}(t,en.call(arguments).concat(["hsl"]),function(){})},d.hsl=k,t.prototype.hsl=function(){return Se(this._rgb)},K=function(){var Q,Y,Z,ce,de,be,Re,Te,At,pt,St,Kt,Nt,gt,te,Ce,Oe,Pe;if(Q=Ge(arguments),de=Q[0],Ce=Q[1],Pe=Q[2],Pe*=255,Ce===0)At=ce=Y=Pe;else switch(de===360&&(de=0),de>360&&(de-=360),de<0&&(de+=360),de/=60,be=T(de),Z=de-be,Re=Pe*(1-Ce),Te=Pe*(1-Ce*Z),Oe=Pe*(1-Ce*(1-Z)),be){case 0:pt=[Pe,Oe,Re],At=pt[0],ce=pt[1],Y=pt[2];break;case 1:St=[Te,Pe,Re],At=St[0],ce=St[1],Y=St[2];break;case 2:Kt=[Re,Pe,Oe],At=Kt[0],ce=Kt[1],Y=Kt[2];break;case 3:Nt=[Re,Te,Pe],At=Nt[0],ce=Nt[1],Y=Nt[2];break;case 4:gt=[Oe,Re,Pe],At=gt[0],ce=gt[1],Y=gt[2];break;case 5:te=[Pe,Re,Te],At=te[0],ce=te[1],Y=te[2]}return[At,ce,Y,Q.length>3?Q[3]:1]},ze=function(){var Q,Y,Z,ce,de,be,Re,Te,At;return Re=Ge(arguments),be=Re[0],Z=Re[1],Q=Re[2],de=Math.min(be,Z,Q),De=Math.max(be,Z,Q),Y=De-de,At=De/255,De===0?(ce=Number.NaN,Te=0):(Te=Y/De,be===De&&(ce=(Z-Q)/Y),Z===De&&(ce=2+(Q-be)/Y),Q===De&&(ce=4+(be-Z)/Y),ce*=60,ce<0&&(ce+=360)),[ce,Te,At]},v.hsv=function(){return function(Q,Y,Z){Z.prototype=Q.prototype;var ce=new Z,de=Q.apply(ce,Y);return Object(de)===de?de:ce}(t,en.call(arguments).concat(["hsv"]),function(){})},d.hsv=K,t.prototype.hsv=function(){return ze(this._rgb)},Ie=function(Q){var Y,Z,ce;return Ne(Q)==="number"&&Q>=0&&Q<=16777215?(ce=Q>>16,Z=Q>>8&255,Y=Q&255,[ce,Z,Y,1]):(console.warn("unknown num color: "+Q),[0,0,0,1])},yt=function(){var Q,Y,Z,ce;return ce=Ge(arguments),Z=ce[0],Y=ce[1],Q=ce[2],(Z<<16)+(Y<<8)+Q},v.num=function(Q){return new t(Q,"num")},t.prototype.num=function(Q){return Q==null&&(Q="rgb"),yt(this._rgb,Q)},d.num=Ie,l.push({p:1,test:function(Q){if(arguments.length===1&&Ne(Q)==="number"&&Q>=0&&Q<=16777215)return"num"}}),M=function(){var Q,Y,Z,ce,de,be,Re,Te,At,pt,St,Kt,Nt,gt,te,Ce,Oe,Pe,Ye,bt;if(Z=Ge(arguments),Te=Z[0],de=Z[1],Y=Z[2],de=de/100,Re=Re/100*255,Q=de*255,de===0)Kt=Re=ce=Y;else switch(Te===360&&(Te=0),Te>360&&(Te-=360),Te<0&&(Te+=360),Te/=60,At=T(Te),be=Te-At,pt=Y*(1-de),St=pt+Q*(1-be),Ye=pt+Q*be,bt=pt+Q,At){case 0:Nt=[bt,Ye,pt],Kt=Nt[0],Re=Nt[1],ce=Nt[2];break;case 1:gt=[St,bt,pt],Kt=gt[0],Re=gt[1],ce=gt[2];break;case 2:te=[pt,bt,Ye],Kt=te[0],Re=te[1],ce=te[2];break;case 3:Ce=[pt,St,bt],Kt=Ce[0],Re=Ce[1],ce=Ce[2];break;case 4:Oe=[Ye,pt,bt],Kt=Oe[0],Re=Oe[1],ce=Oe[2];break;case 5:Pe=[bt,pt,St],Kt=Pe[0],Re=Pe[1],ce=Pe[2]}return[Kt,Re,ce,Z.length>3?Z[3]:1]},X=function(){var Q,Y,Z,ce,de,be,Re,Te,At;return At=Ge(arguments),Te=At[0],de=At[1],Y=At[2],Re=Math.min(Te,de,Y),De=Math.max(Te,de,Y),ce=De-Re,Z=ce*100/255,Q=Re/(255-ce)*100,ce===0?be=Number.NaN:(Te===De&&(be=(de-Y)/ce),de===De&&(be=2+(Y-Te)/ce),Y===De&&(be=4+(Te-de)/ce),be*=60,be<0&&(be+=360)),[be,Z,Q]},v.hcg=function(){return function(Q,Y,Z){Z.prototype=Q.prototype;var ce=new Z,de=Q.apply(ce,Y);return Object(de)===de?de:ce}(t,en.call(arguments).concat(["hcg"]),function(){})},d.hcg=M,t.prototype.hcg=function(){return X(this._rgb)},B=function(Q){var Y,Z,ce,de,be,Re,Te,At;if(Q=Q.toLowerCase(),v.colors!=null&&v.colors[Q])return U(v.colors[Q]);if(be=Q.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(Te=be.slice(1,4),de=Re=0;Re<=2;de=++Re)Te[de]=+Te[de];Te[3]=1}else if(be=Q.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(Te=be.slice(1,5),de=At=0;At<=3;de=++At)Te[de]=+Te[de];else if(be=Q.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(Te=be.slice(1,4),de=Y=0;Y<=2;de=++Y)Te[de]=rt(Te[de]*2.55);Te[3]=1}else if(be=Q.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(Te=be.slice(1,5),de=Z=0;Z<=2;de=++Z)Te[de]=rt(Te[de]*2.55);Te[3]=+Te[3]}else(be=Q.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(ce=be.slice(1,4),ce[1]*=.01,ce[2]*=.01,Te=k(ce),Te[3]=1):(be=Q.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(ce=be.slice(1,4),ce[1]*=.01,ce[2]*=.01,Te=k(ce),Te[3]=+be[4]);return Te},re=function(Q){var Y;if(Y=Q[3]<1?"rgba":"rgb",Y==="rgb")return Y+"("+Q.slice(0,3).map(rt).join(",")+")";if(Y==="rgba")return Y+"("+Q.slice(0,3).map(rt).join(",")+","+Q[3]+")"},it=function(Q){return rt(Q*100)/100},L=function(Q,Y){var Z;return Z=Y<1?"hsla":"hsl",Q[0]=it(Q[0]||0),Q[1]=it(Q[1]*100)+"%",Q[2]=it(Q[2]*100)+"%",Z==="hsla"&&(Q[3]=Y),Z+"("+Q.join(",")+")"},d.css=function(Q){return B(Q)},v.css=function(){return function(Q,Y,Z){Z.prototype=Q.prototype;var ce=new Z,de=Q.apply(ce,Y);return Object(de)===de?de:ce}(t,en.call(arguments).concat(["css"]),function(){})},t.prototype.css=function(Q){if(Q==null&&(Q="rgb"),Q.slice(0,3)==="rgb")return re(this._rgb);if(Q.slice(0,3)==="hsl")return L(this.hsl(),this.alpha())},d.named=function(Q){return U(Je[Q])},l.push({p:5,test:function(Q){if(arguments.length===1&&Je[Q]!=null)return"named"}}),t.prototype.name=function(Q){var Y,Z;arguments.length&&(Je[Q]&&(this._rgb=U(Je[Q])),this._rgb[3]=1),Y=this.hex("rgb");for(Z in Je)if(Y===Je[Z])return Z;return Y},me=function(){var Q,Y,Z,ce;return ce=Ge(arguments),Z=ce[0],Q=ce[1],Y=ce[2],Y=Y*n,[Z,C(Y)*Q,Bt(Y)*Q]},ue=function(){var Q,Y,Z,ce,de,be,Re,Te,At,pt,St;return Z=Ge(arguments),Te=Z[0],de=Z[1],Re=Z[2],pt=me(Te,de,Re),Q=pt[0],Y=pt[1],ce=pt[2],St=le(Q,Y,ce),At=St[0],be=St[1],ce=St[2],[At,be,ce,Z.length>3?Z[3]:1]},se=function(){var Q,Y,Z,ce,de,be;return be=Ge(arguments),de=be[0],Q=be[1],Y=be[2],Z=he(Q*Q+Y*Y),ce=(y(Y,Q)*o+360)%360,rt(Z*1e4)===0&&(ce=Number.NaN),[de,Z,ce]},qe=function(){var Q,Y,Z,ce,de,be,Re;return be=Ge(arguments),de=be[0],Z=be[1],Y=be[2],Re=ut(de,Z,Y),ce=Re[0],Q=Re[1],Y=Re[2],se(ce,Q,Y)},v.lch=function(){var Q;return Q=Ge(arguments),new t(Q,"lch")},v.hcl=function(){var Q;return Q=Ge(arguments),new t(Q,"hcl")},d.lch=ue,d.hcl=function(){var Q,Y,Z,ce;return ce=Ge(arguments),Y=ce[0],Q=ce[1],Z=ce[2],ue([Z,Q,Y])},t.prototype.lch=function(){return qe(this._rgb)},t.prototype.hcl=function(){return qe(this._rgb).reverse()},st=function(Q){var Y,Z,ce,de,be,Re,Te,At,pt;return Q==null&&(Q="rgb"),At=Ge(arguments),Te=At[0],de=At[1],Y=At[2],Te=Te/255,de=de/255,Y=Y/255,be=1-Math.max(Te,Math.max(de,Y)),ce=be<1?1/(1-be):0,Z=(1-Te-be)*ce,Re=(1-de-be)*ce,pt=(1-Y-be)*ce,[Z,Re,pt,be]},x=function(){var Q,Y,Z,ce,de,be,Re,Te,At;return Y=Ge(arguments),ce=Y[0],Re=Y[1],At=Y[2],be=Y[3],Q=Y.length>4?Y[4]:1,be===1?[0,0,0,Q]:(Te=ce>=1?0:255*(1-ce)*(1-be),de=Re>=1?0:255*(1-Re)*(1-be),Z=At>=1?0:255*(1-At)*(1-be),[Te,de,Z,Q])},d.cmyk=function(){return x(Ge(arguments))},v.cmyk=function(){return function(Q,Y,Z){Z.prototype=Q.prototype;var ce=new Z,de=Q.apply(ce,Y);return Object(de)===de?de:ce}(t,en.call(arguments).concat(["cmyk"]),function(){})},t.prototype.cmyk=function(){return st(this._rgb)},d.gl=function(){var Q,Y,Z,ce,de;for(ce=function(){var be,Re;be=Ge(arguments),Re=[];for(Y in be)de=be[Y],Re.push(de);return Re}.apply(this,arguments),Q=Z=0;Z<=2;Q=++Z)ce[Q]*=255;return ce},v.gl=function(){return function(Q,Y,Z){Z.prototype=Q.prototype;var ce=new Z,de=Q.apply(ce,Y);return Object(de)===de?de:ce}(t,en.call(arguments).concat(["gl"]),function(){})},t.prototype.gl=function(){var Q;return Q=this._rgb,[Q[0]/255,Q[1]/255,Q[2]/255,Q[3]]},dt=function(Q,Y,Z){var ce;return ce=Ge(arguments),Q=ce[0],Y=ce[1],Z=ce[2],Q=Fe(Q),Y=Fe(Y),Z=Fe(Z),.2126*Q+.7152*Y+.0722*Z},Fe=function(Q){return Q/=255,Q<=.03928?Q/12.92:et((Q+.055)/1.055,2.4)},ee=function(Q,Y,Z,ce){var de,be;return de=Q._rgb,be=Y._rgb,new t(de[0]+Z*(be[0]-de[0]),de[1]+Z*(be[1]-de[1]),de[2]+Z*(be[2]-de[2]),ce)},h.push(["rgb",ee]),t.prototype.luminance=function(Q,Y){var Z,ce,de,be,Re;return Y==null&&(Y="rgb"),arguments.length?(be=this._rgb,Q===0?be=[0,0,0,this._rgb[3]]:Q===1?be=[255,255,255,this[3]]:(Z=dt(this._rgb),ce=1e-7,de=20,Re=function(Te,At){var pt,St;return St=Te.interpolate(At,.5,Y),pt=St.luminance(),Math.abs(Q-pt)<ce||!de--?St:pt>Q?Re(Te,St):Re(St,At)},Z>Q?be=Re(v("black"),this).rgba():be=Re(this,v("white")).rgba()),v(be).alpha(this.alpha())):dt(this._rgb)},Ke=function(Q){var Y,Z,ce,de;return de=Q/100,de<66?(ce=255,Z=-155.25485562709179-.44596950469579133*(Z=de-2)+104.49216199393888*we(Z),Y=de<20?0:-254.76935184120902+.8274096064007395*(Y=de-10)+115.67994401066147*we(Y)):(ce=351.97690566805693+.114206453784165*(ce=de-55)-40.25366309332127*we(ce),Z=325.4494125711974+.07943456536662342*(Z=de-50)-28.0852963507957*we(Z),Y=255),[ce,Z,Y]},Ut=function(){var Q,Y,Z,ce,de,be,Re,Te;for(be=Ge(arguments),de=be[0],be[1],Q=be[2],ce=1e3,Z=4e4,Y=.4;Z-ce>Y;)Te=(Z+ce)*.5,Re=Ke(Te),Re[2]/Re[0]>=Q/de?Z=Te:ce=Te;return rt(Te)},v.temperature=v.kelvin=function(){return function(Q,Y,Z){Z.prototype=Q.prototype;var ce=new Z,de=Q.apply(ce,Y);return Object(de)===de?de:ce}(t,en.call(arguments).concat(["temperature"]),function(){})},d.temperature=d.kelvin=d.K=Ke,t.prototype.temperature=function(){return Ut(this._rgb)},t.prototype.kelvin=t.prototype.temperature,v.contrast=function(Q,Y){var Z,ce,de,be;return((de=Ne(Q))==="string"||de==="number")&&(Q=new t(Q)),((be=Ne(Y))==="string"||be==="number")&&(Y=new t(Y)),Z=Q.luminance(),ce=Y.luminance(),Z>ce?(Z+.05)/(ce+.05):(ce+.05)/(Z+.05)},v.distance=function(Q,Y,Z){var ce,de,be,Re,Te,At,pt;Z==null&&(Z="lab"),((Te=Ne(Q))==="string"||Te==="number")&&(Q=new t(Q)),((At=Ne(Y))==="string"||At==="number")&&(Y=new t(Y)),be=Q.get(Z),Re=Y.get(Z),pt=0;for(de in be)ce=(be[de]||0)-(Re[de]||0),pt+=ce*ce;return Math.sqrt(pt)},v.deltaE=function(Q,Y,Z,ce){var de,be,Re,Te,At,pt,St,Kt,Nt,gt,te,Ce,Oe,Pe,Ye,bt,Lt,Wt,Ct,$e,mt,Mt,Yt,Vt,Xt,ln,nn;for(Z==null&&(Z=1),ce==null&&(ce=1),((Lt=Ne(Q))==="string"||Lt==="number")&&(Q=new t(Q)),((Wt=Ne(Y))==="string"||Wt==="number")&&(Y=new t(Y)),Ct=Q.lab(),de=Ct[0],Re=Ct[1],At=Ct[2],$e=Y.lab(),be=$e[0],Te=$e[1],pt=$e[2],St=he(Re*Re+At*At),Kt=he(Te*Te+pt*pt),Yt=de<16?.511:.040975*de/(1+.01765*de),mt=.0638*St/(1+.0131*St)+.638,bt=St<1e-6?0:y(At,Re)*180/s;bt<0;)bt+=360;for(;bt>=360;)bt-=360;return Vt=bt>=164&&bt<=345?.56+m(.2*C(s*(bt+168)/180)):.36+m(.4*C(s*(bt+35)/180)),Nt=St*St*St*St,Ye=he(Nt/(Nt+1900)),Mt=mt*(Ye*Vt+1-Ye),Pe=de-be,Oe=St-Kt,te=Re-Te,Ce=At-pt,gt=te*te+Ce*Ce-Oe*Oe,Xt=Pe/(Z*Yt),ln=Oe/(ce*mt),nn=Mt,he(Xt*Xt+ln*ln+gt/(nn*nn))},t.prototype.get=function(Q){var Y,Z,ce,de,be,Re;return ce=this,be=Q.split("."),de=be[0],Y=be[1],Re=ce[de](),Y?(Z=de.indexOf(Y),Z>-1?Re[Z]:console.warn("unknown channel "+Y+" in mode "+de)):Re},t.prototype.set=function(Q,Y){var Z,ce,de,be,Re,Te;if(de=this,Re=Q.split("."),be=Re[0],Z=Re[1],Z)if(Te=de[be](),ce=be.indexOf(Z),ce>-1)if(Ne(Y)==="string")switch(Y.charAt(0)){case"+":Te[ce]+=+Y;break;case"-":Te[ce]+=+Y;break;case"*":Te[ce]*=+Y.substr(1);break;case"/":Te[ce]/=+Y.substr(1);break;default:Te[ce]=+Y}else Te[ce]=Y;else console.warn("unknown channel "+Z+" in mode "+be);else Te=Y;return v(Te,be).alpha(de.alpha())},t.prototype.clipped=function(){return this._rgb._clipped||!1},t.prototype.alpha=function(Q){return arguments.length?v.rgb([this._rgb[0],this._rgb[1],this._rgb[2],Q]):this._rgb[3]},t.prototype.darken=function(Q){var Y,Z;return Q==null&&(Q=1),Z=this,Y=Z.lab(),Y[0]-=r.Kn*Q,v.lab(Y).alpha(Z.alpha())},t.prototype.brighten=function(Q){return Q==null&&(Q=1),this.darken(-Q)},t.prototype.darker=t.prototype.darken,t.prototype.brighter=t.prototype.brighten,t.prototype.saturate=function(Q){var Y,Z;return Q==null&&(Q=1),Z=this,Y=Z.lch(),Y[1]+=Q*r.Kn,Y[1]<0&&(Y[1]=0),v.lch(Y).alpha(Z.alpha())},t.prototype.desaturate=function(Q){return Q==null&&(Q=1),this.saturate(-Q)},t.prototype.premultiply=function(){var Q,Y;return Y=this.rgb(),Q=this.alpha(),v(Y[0]*Q,Y[1]*Q,Y[2]*Q,Q)},E=function(Q,Y,Z){if(!E[Z])throw"unknown blend mode "+Z;return E[Z](Q,Y)},R=function(Q){return function(Y,Z){var ce,de;return ce=v(Z).rgb(),de=v(Y).rgb(),v(Q(ce,de),"rgb")}},N=function(Q){return function(Y,Z){var ce,de,be;for(be=[],ce=de=0;de<=3;ce=++de)be[ce]=Q(Y[ce],Z[ce]);return be}},tt=function(Q,Y){return Q},Le=function(Q,Y){return Q*Y/255},G=function(Q,Y){return Q>Y?Y:Q},ge=function(Q,Y){return Q>Y?Q:Y},at=function(Q,Y){return 255*(1-(1-Q/255)*(1-Y/255))},Xe=function(Q,Y){return Y<128?2*Q*Y/255:255*(1-2*(1-Q/255)*(1-Y/255))},w=function(Q,Y){return 255*(1-(1-Y/255)/(Q/255))},I=function(Q,Y){return Q===255||(Q=255*(Y/255)/(1-Q/255),Q>255)?255:Q},E.normal=R(N(tt)),E.multiply=R(N(Le)),E.screen=R(N(at)),E.overlay=R(N(Xe)),E.darken=R(N(G)),E.lighten=R(N(ge)),E.dodge=R(N(I)),E.burn=R(N(w)),v.blend=E,v.analyze=function(Q){var Y,Z,ce,de;for(ce={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},Z=0,Y=Q.length;Z<Y;Z++)de=Q[Z],de!=null&&!isNaN(de)&&(ce.values.push(de),ce.sum+=de,de<ce.min&&(ce.min=de),de>ce.max&&(ce.max=de),ce.count+=1);return ce.domain=[ce.min,ce.max],ce.limits=function(be,Re){return v.limits(ce,be,Re)},ce},v.scale=function(Q,Y){var Z,ce,de,be,Re,Te,At,pt,St,Kt,Nt,gt,te,Ce,Oe,Pe,Ye,bt,Lt,Wt,Ct;return St="rgb",Kt=v("#ccc"),Ce=0,Re=[0,1],te=[],gt=[0,0],Z=!1,de=[],Nt=!1,pt=0,At=1,be=!1,ce={},Oe=!0,Te=1,Wt=function($e){var mt,Mt,Yt,Vt,Xt,ln;if($e==null&&($e=["#fff","#000"]),$e!=null&&Ne($e)==="string"&&v.brewer!=null&&($e=v.brewer[$e]||v.brewer[$e.toLowerCase()]||$e),Ne($e)==="array"){for($e.length===1&&($e=[$e[0],$e[0]]),$e=$e.slice(0),mt=Yt=0,Vt=$e.length-1;0<=Vt?Yt<=Vt:Yt>=Vt;mt=0<=Vt?++Yt:--Yt)Mt=$e[mt],Ne(Mt)==="string"&&($e[mt]=v(Mt));for(te.length=0,mt=ln=0,Xt=$e.length-1;0<=Xt?ln<=Xt:ln>=Xt;mt=0<=Xt?++ln:--ln)te.push(mt/($e.length-1))}return Lt(),de=$e},Ye=function($e){var mt,Mt;if(Z!=null){for(Mt=Z.length-1,mt=0;mt<Mt&&$e>=Z[mt];)mt++;return mt-1}return 0},Ct=function($e){return $e},bt=function($e,mt){var Mt,Yt,Vt,Xt,ln,nn,Jt,mn;if(mt==null&&(mt=!1),isNaN($e)||$e===null)return Kt;if(mt?mn=$e:Z&&Z.length>2?(Mt=Ye($e),mn=Mt/(Z.length-2)):At!==pt?mn=($e-pt)/(At-pt):mn=1,mt||(mn=Ct(mn)),Te!==1&&(mn=et(mn,Te)),mn=gt[0]+mn*(1-gt[0]-gt[1]),mn=Math.min(1,Math.max(0,mn)),Xt=Math.floor(mn*1e4),Oe&&ce[Xt])Yt=ce[Xt];else{if(Ne(de)==="array")for(Vt=ln=0,Jt=te.length-1;0<=Jt?ln<=Jt:ln>=Jt;Vt=0<=Jt?++ln:--ln){if(nn=te[Vt],mn<=nn){Yt=de[Vt];break}if(mn>=nn&&Vt===te.length-1){Yt=de[Vt];break}if(mn>nn&&mn<te[Vt+1]){mn=(mn-nn)/(te[Vt+1]-nn),Yt=v.interpolate(de[Vt],de[Vt+1],mn,St);break}}else Ne(de)==="function"&&(Yt=de(mn));Oe&&(ce[Xt]=Yt)}return Yt},Lt=function(){return ce={}},Wt(Q),Pe=function($e){var mt;return mt=v(bt($e)),Nt&&mt[Nt]?mt[Nt]():mt},Pe.classes=function($e){var mt;return $e!=null?(Ne($e)==="array"?(Z=$e,Re=[$e[0],$e[$e.length-1]]):(mt=v.analyze(Re),$e===0?Z=[mt.min,mt.max]:Z=v.limits(mt,"e",$e)),Pe):Z},Pe.domain=function($e){var mt,Mt,Yt,Vt,Xt,ln,nn;if(!arguments.length)return Re;if(pt=$e[0],At=$e[$e.length-1],te=[],Yt=de.length,$e.length===Yt&&pt!==At)for(Xt=0,Vt=$e.length;Xt<Vt;Xt++)Mt=$e[Xt],te.push((Mt-pt)/(At-pt));else for(mt=nn=0,ln=Yt-1;0<=ln?nn<=ln:nn>=ln;mt=0<=ln?++nn:--nn)te.push(mt/(Yt-1));return Re=[pt,At],Pe},Pe.mode=function($e){return arguments.length?(St=$e,Lt(),Pe):St},Pe.range=function($e,mt){return Wt($e,mt),Pe},Pe.out=function($e){return Nt=$e,Pe},Pe.spread=function($e){return arguments.length?(Ce=$e,Pe):Ce},Pe.correctLightness=function($e){return $e==null&&($e=!0),be=$e,Lt(),be?Ct=function(mt){var Mt,Yt,Vt,Xt,ln,nn,Jt,mn,yn;for(Mt=bt(0,!0).lab()[0],Yt=bt(1,!0).lab()[0],Jt=Mt>Yt,Vt=bt(mt,!0).lab()[0],ln=Mt+(Yt-Mt)*mt,Xt=Vt-ln,mn=0,yn=1,nn=20;Math.abs(Xt)>.01&&nn-- >0;)(function(){return Jt&&(Xt*=-1),Xt<0?(mn=mt,mt+=(yn-mt)*.5):(yn=mt,mt+=(mn-mt)*.5),Vt=bt(mt,!0).lab()[0],Xt=Vt-ln})();return mt}:Ct=function(mt){return mt},Pe},Pe.padding=function($e){return $e!=null?(Ne($e)==="number"&&($e=[$e,$e]),gt=$e,Pe):gt},Pe.colors=function($e,mt){var Mt,Yt,Vt,Xt,ln,nn,Jt,mn;if(arguments.length<2&&(mt="hex"),ln=[],arguments.length===0)ln=de.slice(0);else if($e===1)ln=[Pe(.5)];else if($e>1)Yt=Re[0],Mt=Re[1]-Yt,ln=function(){nn=[];for(var yn=0;0<=$e?yn<$e:yn>$e;0<=$e?yn++:yn--)nn.push(yn);return nn}.apply(this).map(function(yn){return Pe(Yt+yn/($e-1)*Mt)});else{if(Q=[],Jt=[],Z&&Z.length>2)for(Vt=mn=1,Xt=Z.length;1<=Xt?mn<Xt:mn>Xt;Vt=1<=Xt?++mn:--mn)Jt.push((Z[Vt-1]+Z[Vt])*.5);else Jt=Re;ln=Jt.map(function(yn){return Pe(yn)})}return v[mt]&&(ln=ln.map(function(yn){return yn[mt]()})),ln},Pe.cache=function($e){return $e!=null?(Oe=$e,Pe):Oe},Pe.gamma=function($e){return $e!=null?(Te=$e,Pe):Te},Pe.nodata=function($e){return $e!=null?(Kt=v($e),Pe):Kt},Pe},v.scales==null&&(v.scales={}),v.scales.cool=function(){return v.scale([v.hsl(180,1,.9),v.hsl(250,.7,.4)])},v.scales.hot=function(){return v.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},v.analyze=function(Q,Y,Z){var ce,de,be,Re,Te,At,pt;if(Te={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},Z==null&&(Z=function(){return!0}),ce=function(St){St!=null&&!isNaN(St)&&(Te.values.push(St),Te.sum+=St,St<Te.min&&(Te.min=St),St>Te.max&&(Te.max=St),Te.count+=1)},pt=function(St,Kt){if(Z(St,Kt))return Y!=null&&Ne(Y)==="function"?ce(Y(St)):Y!=null&&Ne(Y)==="string"||Ne(Y)==="number"?ce(St[Y]):ce(St)},Ne(Q)==="array")for(Re=0,be=Q.length;Re<be;Re++)At=Q[Re],pt(At);else for(de in Q)At=Q[de],pt(At,de);return Te.domain=[Te.min,Te.max],Te.limits=function(St,Kt){return v.limits(Te,St,Kt)},Te},v.limits=function(Q,Y,Z){var ce,de,be,Re,Te,At,pt,St,Kt,Nt,gt,te,Ce,Oe,Pe,Ye,bt,Lt,Wt,Ct,$e,mt,Mt,Yt,Vt,Xt,ln,nn,Jt,mn,yn,Gr,Is,hs,fa,yi,sr,Us,Pi,Ps,x0,Ls,R0,xA,vo,xo,Ds,RA,BA,B0,ha,C0,Gu,ps,S0;if(Y==null&&(Y="equal"),Z==null&&(Z=7),Ne(Q)==="array"&&(Q=v.analyze(Q)),Vt=Q.min,De=Q.max,Q.sum,ps=Q.values.sort(function(Fu,Iu){return Fu-Iu}),Z===1)return[Vt,De];if(Mt=[],Y.substr(0,1)==="c"&&(Mt.push(Vt),Mt.push(De)),Y.substr(0,1)==="e"){for(Mt.push(Vt),Ct=yn=1,fa=Z-1;1<=fa?yn<=fa:yn>=fa;Ct=1<=fa?++yn:--yn)Mt.push(Vt+Ct/Z*(De-Vt));Mt.push(De)}else if(Y.substr(0,1)==="l"){if(Vt<=0)throw"Logarithmic scales are only possible for values > 0";for(Xt=Math.LOG10E*we(Vt),Yt=Math.LOG10E*we(De),Mt.push(Vt),Ct=S0=1,yi=Z-1;1<=yi?S0<=yi:S0>=yi;Ct=1<=yi?++S0:--S0)Mt.push(et(10,Xt+Ct/Z*(Yt-Xt)));Mt.push(De)}else if(Y.substr(0,1)==="q"){for(Mt.push(Vt),Ct=ce=1,Ls=Z-1;1<=Ls?ce<=Ls:ce>=Ls;Ct=1<=Ls?++ce:--ce)Gr=(ps.length-1)*Ct/Z,Is=T(Gr),Is===Gr?Mt.push(ps[Is]):(hs=Gr-Is,Mt.push(ps[Is]*(1-hs)+ps[Is+1]*hs));Mt.push(De)}else if(Y.substr(0,1)==="k"){for(nn=ps.length,Oe=new Array(nn),Lt=new Array(Z),B0=!0,Jt=0,Ye=null,Ye=[],Ye.push(Vt),Ct=de=1,R0=Z-1;1<=R0?de<=R0:de>=R0;Ct=1<=R0?++de:--de)Ye.push(Vt+Ct/Z*(De-Vt));for(Ye.push(De);B0;){for($e=be=0,xA=Z-1;0<=xA?be<=xA:be>=xA;$e=0<=xA?++be:--be)Lt[$e]=0;for(Ct=Re=0,vo=nn-1;0<=vo?Re<=vo:Re>=vo;Ct=0<=vo?++Re:--Re){for(Gu=ps[Ct],ln=Number.MAX_VALUE,$e=Te=0,xo=Z-1;0<=xo?Te<=xo:Te>=xo;$e=0<=xo?++Te:--Te)Wt=m(Ye[$e]-Gu),Wt<ln&&(ln=Wt,Pe=$e);Lt[Pe]++,Oe[Ct]=Pe}for(mn=new Array(Z),$e=At=0,Ds=Z-1;0<=Ds?At<=Ds:At>=Ds;$e=0<=Ds?++At:--At)mn[$e]=null;for(Ct=pt=0,RA=nn-1;0<=RA?pt<=RA:pt>=RA;Ct=0<=RA?++pt:--pt)bt=Oe[Ct],mn[bt]===null?mn[bt]=ps[Ct]:mn[bt]+=ps[Ct];for($e=St=0,BA=Z-1;0<=BA?St<=BA:St>=BA;$e=0<=BA?++St:--St)mn[$e]*=1/Lt[$e];for(B0=!1,$e=Kt=0,sr=Z-1;0<=sr?Kt<=sr:Kt>=sr;$e=0<=sr?++Kt:--Kt)if(mn[$e]!==Ye[Ct]){B0=!0;break}Ye=mn,Jt++,Jt>200&&(B0=!1)}for(mt={},$e=Nt=0,Us=Z-1;0<=Us?Nt<=Us:Nt>=Us;$e=0<=Us?++Nt:--Nt)mt[$e]=[];for(Ct=gt=0,Pi=nn-1;0<=Pi?gt<=Pi:gt>=Pi;Ct=0<=Pi?++gt:--gt)bt=Oe[Ct],mt[bt].push(ps[Ct]);for(ha=[],$e=te=0,Ps=Z-1;0<=Ps?te<=Ps:te>=Ps;$e=0<=Ps?++te:--te)ha.push(mt[$e][0]),ha.push(mt[$e][mt[$e].length-1]);for(ha=ha.sort(function(Fu,Iu){return Fu-Iu}),Mt.push(ha[0]),Ct=Ce=1,x0=ha.length-1;Ce<=x0;Ct=Ce+=2)C0=ha[Ct],!isNaN(C0)&&Mt.indexOf(C0)===-1&&Mt.push(C0)}return Mt},z=function(Q,Y,Z){var ce,de,be,Re;return ce=Ge(arguments),Q=ce[0],Y=ce[1],Z=ce[2],isNaN(Q)&&(Q=0),Q/=360,Q<1/3?(de=(1-Y)/3,Re=(1+Y*C(A*Q)/C(a-A*Q))/3,be=1-(de+Re)):Q<2/3?(Q-=1/3,Re=(1-Y)/3,be=(1+Y*C(A*Q)/C(a-A*Q))/3,de=1-(Re+be)):(Q-=2/3,be=(1-Y)/3,de=(1+Y*C(A*Q)/C(a-A*Q))/3,Re=1-(be+de)),Re=fe(Z*Re*3),be=fe(Z*be*3),de=fe(Z*de*3),[Re*255,be*255,de*255,ce.length>3?ce[3]:1]},We=function(){var Q,Y,Z,ce,de,be,Re,Te;return Re=Ge(arguments),be=Re[0],Y=Re[1],Q=Re[2],A=Math.PI*2,be/=255,Y/=255,Q/=255,de=Math.min(be,Y,Q),ce=(be+Y+Q)/3,Te=1-de/ce,Te===0?Z=0:(Z=(be-Y+(be-Q))/2,Z/=Math.sqrt((be-Y)*(be-Y)+(be-Q)*(Y-Q)),Z=Math.acos(Z),Q>Y&&(Z=A-Z),Z/=A),[Z*360,Te,ce]},v.hsi=function(){return function(Q,Y,Z){Z.prototype=Q.prototype;var ce=new Z,de=Q.apply(ce,Y);return Object(de)===de?de:ce}(t,en.call(arguments).concat(["hsi"]),function(){})},d.hsi=z,t.prototype.hsi=function(){return We(this._rgb)},D=function(Q,Y,Z,ce){var de,be,Re,Te,At,pt,St,Kt,Nt,gt,te,Ce;return ce==="hsl"?(te=Q.hsl(),Ce=Y.hsl()):ce==="hsv"?(te=Q.hsv(),Ce=Y.hsv()):ce==="hcg"?(te=Q.hcg(),Ce=Y.hcg()):ce==="hsi"?(te=Q.hsi(),Ce=Y.hsi()):(ce==="lch"||ce==="hcl")&&(ce="hcl",te=Q.hcl(),Ce=Y.hcl()),ce.substr(0,1)==="h"&&(Re=te[0],Nt=te[1],pt=te[2],Te=Ce[0],gt=Ce[1],St=Ce[2]),!isNaN(Re)&&!isNaN(Te)?(Te>Re&&Te-Re>180?de=Te-(Re+360):Te<Re&&Re-Te>180?de=Te+360-Re:de=Te-Re,be=Re+Z*de):isNaN(Re)?isNaN(Te)?be=Number.NaN:(be=Te,(pt===1||pt===0)&&ce!=="hsv"&&(Kt=gt)):(be=Re,(St===1||St===0)&&ce!=="hsv"&&(Kt=Nt)),Kt==null&&(Kt=Nt+Z*(gt-Nt)),At=pt+Z*(St-pt),v[ce](be,Kt,At)},h=h.concat(function(){var Q,Y,Z,ce;for(Z=["hsv","hsl","hsi","hcl","lch","hcg"],ce=[],Y=0,Q=Z.length;Y<Q;Y++)je=Z[Y],ce.push([je,D]);return ce}()),Ae=function(Q,Y,Z,ce){var de,be;return de=Q.num(),be=Y.num(),v.num(de+(be-de)*Z,"num")},h.push(["num",Ae]),H=function(Q,Y,Z,ce){var de,be;return de=Q.lab(),be=Y.lab(),new t(de[0]+Z*(be[0]-de[0]),de[1]+Z*(be[1]-de[1]),de[2]+Z*(be[2]-de[2]),ce)},h.push(["lab",H])}).call(tc)})(mE,mE.exports);var fn={exports:{}};(function(i){/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */(function(e){function t(a,o,A,c,l){this._listener=o,this._isOnce=A,this.context=c,this._signal=a,this._priority=l||0}t.prototype={active:!0,params:null,execute:function(a){var o,A;return this.active&&!!this._listener&&(A=this.params?this.params.concat(a):a,o=this._listener.apply(this.context,A),this._isOnce&&this.detach()),o},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function n(a,o){if(typeof a!="function")throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",o))}function r(){this._bindings=[],this._prevParams=null;var a=this;this.dispatch=function(){r.prototype.dispatch.apply(a,arguments)}}r.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(a,o,A,c){var l=this._indexOfListener(a,A),u;if(l!==-1){if(u=this._bindings[l],u.isOnce()!==o)throw new Error("You cannot add"+(o?"":"Once")+"() then add"+(o?"Once":"")+"() the same listener without removing the relationship first.")}else u=new t(this,a,o,A,c),this._addBinding(u);return this.memorize&&this._prevParams&&u.execute(this._prevParams),u},_addBinding:function(a){var o=this._bindings.length;do--o;while(this._bindings[o]&&a._priority<=this._bindings[o]._priority);this._bindings.splice(o+1,0,a)},_indexOfListener:function(a,o){for(var A=this._bindings.length,c;A--;)if(c=this._bindings[A],c._listener===a&&c.context===o)return A;return-1},has:function(a,o){return this._indexOfListener(a,o)!==-1},add:function(a,o,A){return n(a,"add"),this._registerListener(a,!1,o,A)},addOnce:function(a,o,A){return n(a,"addOnce"),this._registerListener(a,!0,o,A)},remove:function(a,o){n(a,"remove");var A=this._indexOfListener(a,o);return A!==-1&&(this._bindings[A]._destroy(),this._bindings.splice(A,1)),a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(!!this.active){var o=Array.prototype.slice.call(arguments),A=this._bindings.length,c;if(this.memorize&&(this._prevParams=o),!!A){c=this._bindings.slice(),this._shouldPropagate=!0;do A--;while(c[A]&&this._shouldPropagate&&c[A].execute(o)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var s=r;s.Signal=r,i.exports?i.exports=s:e.signals=s})(tc)})(fn);var gM={};(function(i){(function(){var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function t(o){return r(a(o),arguments)}function n(o,A){return t.apply(null,[o].concat(A||[]))}function r(o,A){var c=1,l=o.length,u,d="",h,m,y,g,E,R,p,w;for(h=0;h<l;h++)if(typeof o[h]=="string")d+=o[h];else if(typeof o[h]=="object"){if(y=o[h],y.keys)for(u=A[c],m=0;m<y.keys.length;m++){if(u==null)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[m],y.keys[m-1]));u=u[y.keys[m]]}else y.param_no?u=A[y.param_no]:u=A[c++];if(e.not_type.test(y.type)&&e.not_primitive.test(y.type)&&u instanceof Function&&(u=u()),e.numeric_arg.test(y.type)&&typeof u!="number"&&isNaN(u))throw new TypeError(t("[sprintf] expecting number but found %T",u));switch(e.number.test(y.type)&&(p=u>=0),y.type){case"b":u=parseInt(u,10).toString(2);break;case"c":u=String.fromCharCode(parseInt(u,10));break;case"d":case"i":u=parseInt(u,10);break;case"j":u=JSON.stringify(u,null,y.width?parseInt(y.width):0);break;case"e":u=y.precision?parseFloat(u).toExponential(y.precision):parseFloat(u).toExponential();break;case"f":u=y.precision?parseFloat(u).toFixed(y.precision):parseFloat(u);break;case"g":u=y.precision?String(Number(u.toPrecision(y.precision))):parseFloat(u);break;case"o":u=(parseInt(u,10)>>>0).toString(8);break;case"s":u=String(u),u=y.precision?u.substring(0,y.precision):u;break;case"t":u=String(!!u),u=y.precision?u.substring(0,y.precision):u;break;case"T":u=Object.prototype.toString.call(u).slice(8,-1).toLowerCase(),u=y.precision?u.substring(0,y.precision):u;break;case"u":u=parseInt(u,10)>>>0;break;case"v":u=u.valueOf(),u=y.precision?u.substring(0,y.precision):u;break;case"x":u=(parseInt(u,10)>>>0).toString(16);break;case"X":u=(parseInt(u,10)>>>0).toString(16).toUpperCase();break}e.json.test(y.type)?d+=u:(e.number.test(y.type)&&(!p||y.sign)?(w=p?"+":"-",u=u.toString().replace(e.sign,"")):w="",E=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",R=y.width-(w+u).length,g=y.width&&R>0?E.repeat(R):"",d+=y.align?w+u+g:E==="0"?w+g+u:g+w+u)}return d}var s=Object.create(null);function a(o){if(s[o])return s[o];for(var A=o,c,l=[],u=0;A;){if((c=e.text.exec(A))!==null)l.push(c[0]);else if((c=e.modulo.exec(A))!==null)l.push("%");else if((c=e.placeholder.exec(A))!==null){if(c[2]){u|=1;var d=[],h=c[2],m=[];if((m=e.key.exec(h))!==null)for(d.push(m[1]);(h=h.substring(m[0].length))!=="";)if((m=e.key_access.exec(h))!==null)d.push(m[1]);else if((m=e.index_access.exec(h))!==null)d.push(m[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=d}else u|=2;if(u===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");l.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");A=A.substring(c[0].length)}return s[o]=l}i.sprintf=t,i.vsprintf=n,typeof window<"u"&&(window.sprintf=t,window.vsprintf=n)})()})(gM);function fse(i){if(typeof window>"u")return;const e=new RegExp(`${i}=([^&#=]*)`).exec(window.location.search);return e?decodeURIComponent(e[1]):void 0}function W(i,e){return i!==void 0?i:e}function Ms(i,e){const t=Object.assign({},i);for(const n in e)i[n]===void 0&&(t[n]=e[n]);return t}function yM(i,e){for(const t in e){const n=e[t];n!==void 0&&(i[t]=n)}return i}function wM(){if(typeof window>"u")return!1;const i=window.navigator.userAgent;return/Opera|OPR/.test(i)?"Opera":/Chrome/i.test(i)?"Chrome":/Firefox/i.test(i)?"Firefox":/Mobile(\/.*)? Safari/i.test(i)?"Mobile Safari":/MSIE/i.test(i)?"Internet Explorer":!!/Safari/i.test(i)&&"Safari"}function Y8(i){window.open(i,"_blank")||(window.location.href=i)}function hse(i,e="download"){if(!i)return;const t=wM()==="Safari",n=/CriOS\/[\d]+/.test(window.navigator.userAgent),r=document.createElement("a");function s(o){Y8(n?o:o.replace(/^data:[^;]*;/,"data:attachment/file;"))}if(typeof navigator<"u"&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,e);else if((t||n)&&FileReader)if(i instanceof Blob){var a=new FileReader;a.onloadend=function(){s(a.result)},a.readAsDataURL(i)}else s(i);else{let o=!1;i instanceof Blob&&(i=URL.createObjectURL(i),o=!0),"download"in r?(r.style.display="hidden",document.body.appendChild(r),r.href=i,r.download=e,r.target="_blank",r.click(),document.body.removeChild(r)):Y8(i),o&&window.URL.revokeObjectURL(i)}}function pse(i,e){return i<e?-1:i>e?1:0}function ec(i,e,t=pse){let n=0,r=i.length-1;for(;n<=r;){const s=n+r>>1,a=t(e,i[s]);if(a>0)n=s+1;else{if(!(a<0))return s;r=s-1}}return-n-1}function r4(i,e,t){const n=function(s,a){let o=s.length-1;if(s[o]<a)return-1;let A=0;for(;A<=o;){const c=A+o>>1;s[c]>=a?o=c-1:A=c+1}return o+1}(i,e),r=function(s,a){if(s[0]>a)return-1;let o=0,A=s.length-1;for(;o<=A;){const c=o+A>>1;s[c]>a?A=c-1:o=c+1}return o-1}(i,t);return n===-1||r===-1||n>r?0:r-n+1}function s4(i){return i.sort().filter(function(e,t,n){return t===0||e!==n[t-1]})}function Rf(i){if(i.length>28672){const t=[];for(let n=0;n<i.length;n+=28672)t.push(String.fromCharCode.apply(null,i.subarray(n,n+28672)));return t.join("")}return String.fromCharCode.apply(null,i)}function bM(i,e){switch(i){case"int8":return new Int8Array(e);case"int16":return new Int16Array(e);case"int32":return new Int32Array(e);case"uint8":return new Uint8Array(e);case"uint16":return new Uint16Array(e);case"uint32":return new Uint32Array(e);case"float32":return new Float32Array(e);default:throw new Error("arrayType unknown: "+i)}}function ho(i,e){return new(e>65535?Uint32Array:Uint16Array)(i)}function Bu(i){return i.buffer&&i.buffer instanceof ArrayBuffer?i.buffer:i}function Vg(i,e){return i===void 0?i=new e:Array.isArray(i)&&(i=new e().fromArray(i)),i}function mc(i){return Vg(i,ne)}function Gd(i){return Vg(i,xt)}function gE(i){return Vg(i,$r)}function Q2(i){return e=i,t=Float32Array,e instanceof t?e:new t(e);var e,t}function X8(i){return W(i,"").toString().toLowerCase()}class E0{constructor(e){this.name=e,this._dict={}}add(e,t){this._dict[X8(e)]=t}get(e){return this._dict[X8(e)]}get names(){return Object.keys(this._dict)}}function Mi(i){return .01745*i}const mse="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Jp=new Array(36);function a4(){let i,e=0;for(let t=0;t<36;t++)t===8||t===13||t===18||t===23?Jp[t]="-":t===14?Jp[t]="4":(e<=2&&(e=33554432+16777216*Math.random()|0),i=15&e,e>>=4,Jp[t]=mse[t===19?3&i|8:i]);return Jp.join("")}function yE(i,e,t){return Math.max(e,Math.min(t,i))}function Js(i,e,t){return i+(e-i)*t}function eA(i,e,t,n,r,s){const a=(t-i)*s,o=(n-e)*s,A=r*r;return(2*e-2*t+a+o)*(r*A)+(-3*e+3*t-2*a-o)*A+a*r+e}function qf(i,e,t){var n;return n=function(r,s,a){return(r-s)/(a-s)}(t,i,e),(t=yE(n,0,1))*t*(3-2*t)}var EM="sRGB";const gse={scale:"uniform",mode:"hcl",domain:[0,1],value:16777215,reverse:!1},$1=new $t;function Wn(i,e,t){const n=t.value;return t.value=function(r,s){let a=n.bind(this,r,s)();return EM=="linear"?($1.set(a),$1.convertSRGBToLinear(),$1.getHex()):a},t}class ni{constructor(e={}){this.parameters=Ms(e,gse),typeof this.parameters.value=="string"&&(this.parameters.value=$1.set(this.parameters.value).getHex()),this.parameters.structure&&(this.atomProxy=this.parameters.structure.getAtomProxy())}getScale(e={}){const t=Ms(e,this.parameters);return t.scale==="rainbow"?t.scale=["red","orange","yellow","green","blue"]:t.scale==="rwb"&&(t.scale=["red","white","blue"]),t.reverse&&(t.domain=t.domain.slice().reverse()),mE.exports.scale(t.scale).mode(t.mode).domain(t.domain).out("num")}colorToArray(e,t=[],n=0){return t[n]=(e>>16&255)/255,t[n+1]=(e>>8&255)/255,t[n+2]=(255&e)/255,t}atomColorToArray(e,t,n){return this.colorToArray(this.atomColor?this.atomColor(e):0,t,n)}bondColor(e,t){return this.atomProxy&&this.atomColor?(this.atomProxy.index=t?e.atomIndex1:e.atomIndex2,this.atomColor(this.atomProxy)):0}bondColorToArray(e,t,n,r){return this.colorToArray(this.bondColor(e,t),n,r)}volumeColorToArray(e,t,n){return this.colorToArray(this.volumeColor?this.volumeColor(e):0,t,n)}positionColorToArray(e,t,n){return this.colorToArray(this.positionColor?this.positionColor(e):0,t,n)}}var Zt;(function(i){i[i.PROTEIN=1]="PROTEIN",i[i.NUCLEIC=2]="NUCLEIC",i[i.RNA=3]="RNA",i[i.DNA=4]="DNA",i[i.POLYMER=5]="POLYMER",i[i.WATER=6]="WATER",i[i.HELIX=7]="HELIX",i[i.SHEET=8]="SHEET",i[i.TURN=9]="TURN",i[i.BACKBONE=10]="BACKBONE",i[i.SIDECHAIN=11]="SIDECHAIN",i[i.ALL=12]="ALL",i[i.HETERO=13]="HETERO",i[i.ION=14]="ION",i[i.SACCHARIDE=15]="SACCHARIDE",i[i.SUGAR=15]="SUGAR",i[i.BONDED=16]="BONDED",i[i.RING=17]="RING",i[i.AROMATICRING=18]="AROMATICRING",i[i.METAL=19]="METAL",i[i.POLARH=20]="POLARH",i[i.NONE=21]="NONE"})(Zt||(Zt={}));const j8=["*","","ALL"],yse=["NONE"],o4=[Zt.BACKBONE,Zt.SIDECHAIN,Zt.BONDED,Zt.RING,Zt.AROMATICRING,Zt.METAL,Zt.POLARH],_M=[Zt.POLYMER,Zt.WATER],wse=["ALA","GLY","SER"],bse=["CYS","SER","THR"],Ese=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],_se=["PHE","TRP","TYR","HIS"],vse=["ASN","GLN"],xse=["ASP","GLU"],Rse=["ARG","HIS","LYS"],Bse=["ARG","ASP","GLU","HIS","LYS"],Cse=["ASN","ARG","ASP","CYS","GLY","GLN","GLU","HIS","LYS","SER","THR","TYR"],Sse=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],Nse=["HIS","PHE","PRO","TRP","TYR"],Mse=["ALA","GLY","ILE","LEU","VAL"];function Tse(i,e){if(e.atomname===void 0&&e.element===void 0&&e.altloc===void 0&&e.atomindex===void 0&&e.keyword===void 0&&e.inscode===void 0&&e.resname===void 0&&e.sstruc===void 0&&e.resno===void 0&&e.chainname===void 0&&e.model===void 0)return-1;if(e.keyword!==void 0&&(e.keyword===Zt.BACKBONE&&!i.isBackbone()||e.keyword===Zt.SIDECHAIN&&!i.isSidechain()||e.keyword===Zt.BONDED&&!i.isBonded()||e.keyword===Zt.RING&&!i.isRing()||e.keyword===Zt.AROMATICRING&&!i.isAromatic()||e.keyword===Zt.HETERO&&!i.isHetero()||e.keyword===Zt.PROTEIN&&!i.isProtein()||e.keyword===Zt.NUCLEIC&&!i.isNucleic()||e.keyword===Zt.RNA&&!i.isRna()||e.keyword===Zt.DNA&&!i.isDna()||e.keyword===Zt.POLYMER&&!i.isPolymer()||e.keyword===Zt.WATER&&!i.isWater()||e.keyword===Zt.HELIX&&!i.isHelix()||e.keyword===Zt.SHEET&&!i.isSheet()||e.keyword===Zt.TURN&&!i.isTurn()||e.keyword===Zt.ION&&!i.isIon()||e.keyword===Zt.SACCHARIDE&&!i.isSaccharide()||e.keyword===Zt.METAL&&!i.isMetal()||e.keyword===Zt.POLARH&&!i.isPolarHydrogen())||e.atomname!==void 0&&e.atomname!==i.atomname||e.element!==void 0&&e.element!==i.element||e.altloc!==void 0&&e.altloc!==i.altloc||e.atomindex!==void 0&&ec(e.atomindex,i.index)<0)return!1;if(e.resname!==void 0){if(Array.isArray(e.resname)){if(!e.resname.includes(i.resname))return!1}else if(e.resname!==i.resname)return!1}if(e.sstruc!==void 0&&e.sstruc!==i.sstruc)return!1;if(e.resno!==void 0){if(Array.isArray(e.resno)&&e.resno.length===2){if(e.resno[0]>i.resno||e.resno[1]<i.resno)return!1}else if(e.resno!==i.resno)return!1}return(e.inscode===void 0||e.inscode===i.inscode)&&(e.chainname===void 0||e.chainname===i.chainname)&&(e.model===void 0||e.model===i.modelIndex)}function Gse(i,e){if(e.resname===void 0&&e.resno===void 0&&e.inscode===void 0&&e.sstruc===void 0&&e.model===void 0&&e.chainname===void 0&&e.atomindex===void 0&&(e.keyword===void 0||o4.includes(e.keyword)))return-1;if(e.keyword!==void 0&&(e.keyword===Zt.HETERO&&!i.isHetero()||e.keyword===Zt.PROTEIN&&!i.isProtein()||e.keyword===Zt.NUCLEIC&&!i.isNucleic()||e.keyword===Zt.RNA&&!i.isRna()||e.keyword===Zt.DNA&&!i.isDna()||e.keyword===Zt.POLYMER&&!i.isPolymer()||e.keyword===Zt.WATER&&!i.isWater()||e.keyword===Zt.HELIX&&!i.isHelix()||e.keyword===Zt.SHEET&&!i.isSheet()||e.keyword===Zt.TURN&&!i.isTurn()||e.keyword===Zt.ION&&!i.isIon()||e.keyword===Zt.SACCHARIDE&&!i.isSaccharide())||e.atomindex!==void 0&&r4(e.atomindex,i.atomOffset,i.atomEnd)===0)return!1;if(e.resname!==void 0){if(Array.isArray(e.resname)){if(!e.resname.includes(i.resname))return!1}else if(e.resname!==i.resname)return!1}if(e.sstruc!==void 0&&e.sstruc!==i.sstruc)return!1;if(e.resno!==void 0){if(Array.isArray(e.resno)&&e.resno.length===2){if(e.resno[0]>i.resno||e.resno[1]<i.resno)return!1}else if(e.resno!==i.resno)return!1}return(e.inscode===void 0||e.inscode===i.inscode)&&(e.chainname===void 0||e.chainname===i.chainname)&&(e.model===void 0||e.model===i.modelIndex)}function Fse(i,e){return e.chainname!==void 0||e.model!==void 0||e.atomindex!==void 0||e.keyword!==void 0&&_M.includes(e.keyword)&&i.entity?e.keyword!==void 0&&(e.keyword===Zt.POLYMER&&!i.entity.isPolymer()||e.keyword===Zt.WATER&&!i.entity.isWater())?!1:(e.atomindex===void 0||r4(e.atomindex,i.atomOffset,i.atomEnd)!==0)&&(e.chainname===void 0||e.chainname===i.chainname)&&(e.model===void 0||e.model===i.modelIndex):-1}function Ise(i,e){return e.model===void 0&&e.atomindex===void 0?-1:(e.atomindex===void 0||r4(e.atomindex,i.atomOffset,i.atomEnd)!==0)&&(e.model===void 0||e.model===i.index)}function Yf(i,e){if(i===null||i.error||!i.rules||i.rules.length===0)return!1;const t=i.rules.length,n=!i.negate,r=!!i.negate,s=[];for(let a=0;a<t;++a){const o=i.rules[a];o.hasOwnProperty("operator")&&(s[a]=Yf(o,e))}return function(a){const o=i.operator==="AND";let A=!1;for(let c=0;c<t;++c){const l=i.rules[c];let u;if(l.hasOwnProperty("operator")){const d=s[c];if(u=d!==!1?d(a):-1,u===-1){A=!0;continue}if(u===!0){if(o)continue;return n}if(o)return r}else{if(l.keyword===Zt.ALL){if(o)continue;return n}if(l.keyword===Zt.NONE){if(o)continue;return r}if(u=e(a,l),u!==-1){if(u===!0){if(o)continue;return n}if(o)return r}else A=!0}}return A?-1:o?n:r}}function Xf(i,e){if(i.error||!i.rules||i.rules.length===0)return i;const t=i.rules.length,n={operator:i.operator,rules:[]};i.hasOwnProperty("negate")&&(n.negate=i.negate);for(let r=0;r<t;++r){const s=i.rules[r];if(s.hasOwnProperty("operator")){const a=Xf(s,e);a!==null&&n.rules.push(a)}else e(s)||n.rules.push(s)}return n.rules.length>0?i:null}function Z8(i,e=!1){let t=i;return e&&(t=Xf(i,function(n){return n.keyword!==void 0&&!o4.includes(n.keyword)||n.model!==void 0||n.chainname!==void 0||n.resname!==void 0||n.resno!==void 0||n.sstruc!==void 0})),Yf(t,Tse)}function J8(i,e=!1){let t=i;return e&&(t=Xf(i,function(n){return!(n.keyword===void 0||!o4.includes(n.keyword))||n.model!==void 0||n.chainname!==void 0||n.atomname!==void 0||n.element!==void 0||n.altloc!==void 0})),Yf(t,Gse)}function e6(i,e=!1){let t=i;return e&&(t=Xf(i,function(n){return n.keyword!==void 0&&!_M.includes(n.keyword)||n.resname!==void 0||n.resno!==void 0||n.atomname!==void 0||n.element!==void 0||n.altloc!==void 0||n.sstruc!==void 0||n.inscode!==void 0})),Yf(t,Fse)}function t6(i,e=!1){let t=i;return e&&(t=Xf(i,function(n){return n.keyword!==void 0||n.chainname!==void 0||n.resname!==void 0||n.resno!==void 0||n.atomname!==void 0||n.element!==void 0||n.altloc!==void 0||n.sstruc!==void 0||n.inscode!==void 0})),Yf(t,Ise)}class ui{constructor(e){this.signals={stringChanged:new fn.exports.Signal},this.setString(e)}get type(){return"selection"}setString(e,t){if(e===void 0&&(e=this.string||""),e===this.string)return;try{this.selection=function(r){let s={operator:void 0,rules:[]};if(!r)return s;let a,o,A=s;const c=[];(r=r.replace(/\(/g," ( ").replace(/\)/g," ) ").trim()).charAt(0)==="("&&r.substr(-1)===")"&&(r=r.slice(1,-1).trim());const l=r.split(/\s+/),u=y=>{a={operator:y,rules:[]},A===void 0?(A=a,s=a):(A.rules.push(a),c.push(A),A=a)},d=function(y){o=A,A=c.pop(),A===void 0&&(u(y),h(o))},h=function(y){A.rules.push(y)};let m=!1;for(let y=0;y<l.length;++y){const g=l[y],E=g.toUpperCase();if(g==="("){m=!1,u();continue}if(g===")"){d(),A.negate&&d();continue}if(m>0)if(E==="NOT")m=1;else if(m===1)m=2;else{if(m!==2)throw new Error("something went wrong with 'not'");m=!1,d()}if(E==="AND"){if(A.operator==="OR"){const C=A.rules.pop();u("AND"),h(C)}else A.operator="AND";continue}if(E==="OR"){A.operator==="AND"?d("OR"):A.operator="OR";continue}if(g.toUpperCase()==="NOT"){m=1,u(),A.negate=!0;continue}if(+E!=+E){const C=Zt[E];if(C!==void 0){h({keyword:C});continue}}if(E==="HYDROGEN"){h({operator:"OR",rules:[{element:"H"},{element:"D"}]});continue}if(E==="SMALL"){h({resname:wse});continue}if(E==="NUCLEOPHILIC"){h({resname:bse});continue}if(E==="HYDROPHOBIC"){h({resname:Ese});continue}if(E==="AROMATIC"){h({resname:_se});continue}if(E==="AMIDE"){h({resname:vse});continue}if(E==="ACIDIC"){h({resname:xse});continue}if(E==="BASIC"){h({resname:Rse});continue}if(E==="CHARGED"){h({resname:Bse});continue}if(E==="POLAR"){h({resname:Cse});continue}if(E==="NONPOLAR"){h({resname:Sse});continue}if(E==="CYCLIC"){h({resname:Nse});continue}if(E==="ALIPHATIC"){h({resname:Mse});continue}if(E==="SIDECHAINATTACHED"){h({operator:"OR",rules:[{keyword:Zt.SIDECHAIN},{operator:"AND",negate:!1,rules:[{keyword:Zt.PROTEIN},{operator:"OR",negate:!1,rules:[{atomname:"CA"},{atomname:"BB"}]}]},{operator:"AND",negate:!1,rules:[{resname:"PRO"},{atomname:"N"}]},{operator:"AND",negate:!1,rules:[{keyword:Zt.NUCLEIC},{operator:"OR",negate:!0,rules:[{atomname:"P"},{atomname:"OP1"},{atomname:"OP2"},{atomname:"O3'"},{atomname:"O3*"},{atomname:"HO3'"},{atomname:"O5'"},{atomname:"O5*"},{atomname:"HO5'"},{atomname:"C5'"},{atomname:"C5*"},{atomname:"H5'"},{atomname:"H5''"}]}]}]});continue}if(E==="APOLARH"){h({operator:"AND",negate:!1,rules:[{element:"H"},{negate:!0,operator:void 0,rules:[{keyword:Zt.POLARH}]}]});continue}if(E==="LIGAND"){h({operator:"AND",rules:[{operator:"OR",rules:[{operator:"AND",rules:[{keyword:Zt.HETERO},{negate:!0,operator:void 0,rules:[{keyword:Zt.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{keyword:Zt.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{operator:"OR",rules:[{keyword:Zt.WATER},{keyword:Zt.ION}]}]}]});continue}if(j8.indexOf(E)!==-1){h({keyword:Zt.ALL});continue}if(g.charAt(0)==="@"){const C=g.substr(1).split(",").map(B=>parseInt(B));C.sort(function(B,G){return B-G}),h({atomindex:C});continue}if(g.charAt(0)==="#"){console.error("# for element selection deprecated, use _"),h({element:E.substr(1)});continue}if(g.charAt(0)==="_"){h({element:E.substr(1)});continue}if(g[0]==="["&&g[g.length-1]==="]"){const C=E.substr(1,g.length-2).split(","),B=C.length>1?C:C[0];h({resname:B});continue}if(g.length>=1&&g.length<=4&&g[0]!=="^"&&g[0]!==":"&&g[0]!=="."&&g[0]!=="%"&&g[0]!=="/"&&isNaN(parseInt(g))){h({resname:E});continue}const R={operator:"AND",rules:[]},p=g.split("/");if(p.length>1&&p[1]){if(isNaN(parseInt(p[1])))throw new Error("model must be an integer");R.rules.push({model:parseInt(p[1])})}const w=p[0].split("%");w.length>1&&R.rules.push({altloc:w[1]});const v=w[0].split(".");if(v.length>1&&v[1]){if(v[1].length>4)throw new Error("atomname must be one to four characters");R.rules.push({atomname:v[1].substring(0,4).toUpperCase()})}const _=v[0].split(":");_.length>1&&_[1]&&R.rules.push({chainname:_[1]});const x=_[0].split("^");if(x.length>1&&R.rules.push({inscode:x[1]}),x[0]){let C,B;x[0][0]==="-"&&(x[0]=x[0].substr(1),C=!0),x[0].includes("--")&&(x[0]=x[0].replace("--","-"),B=!0);let G=x[0].split("-");if(G.length===1){let I=parseInt(G[0]);if(isNaN(I))throw new Error("resi must be an integer");C&&(I*=-1),R.rules.push({resno:I})}else{if(G.length!==2)throw new Error("resi range must contain one '-'");{const I=G.map(N=>parseInt(N));C&&(I[0]*=-1),B&&(I[1]*=-1),R.rules.push({resno:[I[0],I[1]]})}}}if(R.rules.length===1)h(R.rules[0]);else{if(!(R.rules.length>1))throw new Error("empty selection chunk");h(R)}}return s.operator===void 0&&s.rules.length===1&&s.rules[0].hasOwnProperty("operator")&&(s=s.rules[0]),s}(e)}catch(r){this.selection={error:r.message}}const n=this.selection;this.string=e,this.test=Z8(n),this.residueTest=J8(n),this.chainTest=e6(n),this.modelTest=t6(n),this.atomOnlyTest=Z8(n,!0),this.residueOnlyTest=J8(n,!0),this.chainOnlyTest=e6(n,!0),this.modelOnlyTest=t6(n,!0),t||this.signals.stringChanged.dispatch(this.string)}isAllSelection(){return j8.includes(this.string.toUpperCase())}isNoneSelection(){return yse.includes(this.string.toUpperCase())}}class Use extends ni{constructor(e){super(e),this.colormakerList=[],this.selectionList=[],(e.dataList||[]).forEach(t=>{const[n,r,s={}]=t;Bn.hasScheme(n)?Object.assign(s,{scheme:n,structure:this.parameters.structure}):Object.assign(s,{scheme:"uniform",value:new $t(n).getHex()}),this.colormakerList.push(Bn.getScheme(s)),this.selectionList.push(new ui(r))})}atomColor(e){for(let t=0,n=this.selectionList.length;t<n;++t){const r=this.selectionList[t].test;if(r&&r(e))return this.colormakerList[t].atomColor(e)}return 16777215}}const Pse={"":"",OrRd:"[S] Orange-Red",PuBu:"[S] Purple-Blue",BuPu:"[S] Blue-Purple",Oranges:"[S] Oranges",BuGn:"[S] Blue-Green",YlOrBr:"[S] Yellow-Orange-Brown",YlGn:"[S] Yellow-Green",Reds:"[S] Reds",RdPu:"[S] Red-Purple",Greens:"[S] Greens",YlGnBu:"[S] Yellow-Green-Blue",Purples:"[S] Purples",GnBu:"[S] Green-Blue",Greys:"[S] Greys",YlOrRd:"[S] Yellow-Orange-Red",PuRd:"[S] Purple-Red",Blues:"[S] Blues",PuBuGn:"[S] Purple-Blue-Green",Viridis:"[D] Viridis",Spectral:"[D] Spectral",RdYlGn:"[D] Red-Yellow-Green",RdBu:"[D] Red-Blue",PiYG:"[D] Pink-Yellowgreen",PRGn:"[D] Purplered-Green",RdYlBu:"[D] Red-Yellow-Blue",BrBG:"[D] Brown-Bluegreen",RdGy:"[D] Red-Grey",PuOr:"[D] Purple-Orange",Set1:"[Q] Set1",Set2:"[Q] Set2",Set3:"[Q] Set3",Dark2:"[Q] Dark2",Paired:"[Q] Paired",Pastel1:"[Q] Pastel1",Pastel2:"[Q] Pastel2",Accent:"[Q] Accent",rainbow:"[?] Rainbow",rwb:"[?] Red-White-Blue"},Lse={"":"",rgb:"Red Green Blue",hsv:"Hue Saturation Value",hsl:"Hue Saturation Lightness",hsi:"Hue Saturation Intensity",lab:"CIE L*a*b*",hcl:"Hue Chroma Lightness"};function vM(i){const e=i;return i.forEach(function(t){t.__deps&&Array.prototype.push.apply(e,vM(t.__deps))}),e}function Dse(i){return s4(vM(i)).map(function(e){return e.toString()}).join(`


`)}function kse(i){const e=i.data.__name,t=i.data.__postId;if(e===void 0)console.error("message __name undefined");else if(self.func===void 0)console.error("worker func undefined",e);else{const n=function(r,s){r=r||{},t!==void 0&&(r.__postId=t);try{self.postMessage(r,s)}catch(a){console.error("self.postMessage:",a),self.postMessage(r)}};self.func(i,n)}}function Ose(i,e){let t=`'use strict';

`+Dse(e);return t+=`


self.func = `+i.toString()+";",t+=`


self.onmessage = `+kse.toString()+";",new Blob([t],{type:"application/javascript"})}const xM=wM();let RM=!1;try{const i=Object.defineProperty({},"passive",{get:function(){RM=!0}});window.addEventListener("test",e=>{},i)}catch{}const BM=typeof window<"u"&&window.orientation!==void 0;let qa=!1;function n6(i){qa=i}let Ao=!1;function i6(i){Ao=i}const He={log:Function.prototype.bind.call(console.log,console),info:Function.prototype.bind.call(console.info,console),warn:Function.prototype.bind.call(console.warn,console),error:Function.prototype.bind.call(console.error,console),time:Function.prototype.bind.call(console.time,console),timeEnd:Function.prototype.bind.call(console.timeEnd,console)};let Ad={color:"green",labelColor:8421504,labelAttachment:"bottom-center",labelSize:.7,labelZOffset:.5,labelYOffset:.1,labelBorder:!0,labelBorderColor:13882323,labelBorderWidth:.25,lineOpacity:.8,linewidth:5,opacity:.6,labelUnit:"angstrom",arcVisible:!0,planeVisible:!1},ot=!!(H2=fse("debug"))&&(typeof H2!="string"||/^1|true|t|yes|y$/i.test(H2));var H2;const Qse=["ngl","js"],tf=new class{constructor(){this.activeWorkerCount=0,this._funcDict={},this._depsDict={},this._blobDict={}}add(i,e,t){this._funcDict[i]=e,this._depsDict[i]=t}get(i){return this._blobDict[i]||(this._blobDict[i]=Ose(this._funcDict[i],this._depsDict[i])),this._blobDict[i]}},Bn=new class{constructor(){this.schemes={},this.userSchemes={}}getScheme(i){const e=((i||{}).scheme||"").toLowerCase();let t;return t=e in this.schemes?this.schemes[e]:e in this.userSchemes?this.userSchemes[e]:ni,new t(i)}getSchemes(){const i={};return Object.keys(this.schemes).forEach(function(e){i[e]=e}),Object.keys(this.userSchemes).forEach(function(e){i[e]=e.split("|")[1]}),i}getScales(){return Pse}getModes(){return Lse}add(i,e){i=i.toLowerCase(),this.schemes[i]=e}addScheme(i,e){return function(t){return t instanceof ni}(i)||(i=this._createScheme(i)),this._addUserScheme(i,e)}_addUserScheme(i,e){e=e||"";const t=`${a4()}|${e}`.toLowerCase();return this.userSchemes[t]=i,t}removeScheme(i){i=i.toLowerCase(),delete this.userSchemes[i]}_createScheme(i){return class extends ni{constructor(e){super(e),i.call(this,e)}}}addSelectionScheme(i,e){return this._addUserScheme(class extends Use{constructor(t){super(Object.assign({dataList:i},t))}},e)}hasScheme(i){return(i=i.toLowerCase())in this.schemes||i in this.userSchemes}},o0=new E0("datasource"),fi=new E0("representatation"),an=new class extends E0{constructor(){super("parser")}__hasObjName(i,e){const t=this.get(i);return t&&t.prototype.__objName===e}isTrajectory(i){return this.__hasObjName(i,"frames")}isStructure(i){return this.__hasObjName(i,"structure")}isVolume(i){return this.__hasObjName(i,"volume")}isSurface(i){return this.__hasObjName(i,"surface")}isBinary(i){const e=this.get(i);return e&&e.prototype.isBinary}isXml(i){const e=this.get(i);return e&&e.prototype.isXml}isJson(i){const e=this.get(i);return e&&e.prototype.isJson}getTrajectoryExtensions(){return this.names.filter(i=>this.isTrajectory(i))}getStructureExtensions(){return this.names.filter(i=>this.isStructure(i))}getVolumeExtensions(){return this.names.filter(i=>this.isVolume(i))}getSurfaceExtensions(){return this.names.filter(i=>this.isSurface(i))}},kn=new E0("shader"),A4=new E0("decompressor"),hu=new E0("component"),Fs=new E0("buffer"),Xs=new E0("picker");let z2;class CM{constructor(e,t={}){this.chunkSize=10485760,this.newline=`
`,this.__pointer=0,this.__partialLine="",this.compressed=W(t.compressed,!1),this.binary=W(t.binary,!1),this.json=W(t.json,!1),this.xml=W(t.xml,!1),this.src=e}isBinary(){return this.binary||this.compressed}read(){return this._read().then(e=>{const t=this.compressed?A4.get(this.compressed):void 0;return this.compressed&&t?this.data=t(e):((this.binary||this.compressed)&&e instanceof ArrayBuffer&&(e=new Uint8Array(e)),this.data=e),this.data})}_chunk(e,t){return t=Math.min(this.data.length,t),e===0&&this.data.length===t?this.data:this.isBinary()?this.data.subarray(e,t):this.data.substring(e,t)}chunk(e){const t=e+this.chunkSize;return this._chunk(e,t)}peekLines(e){const t=this.data,n=t.length,r=this.isBinary()?this.newline.charCodeAt(0):this.newline;let s,a=0;for(s=0;s<n&&(t[s]===r&&++a,a!==e);++s);const o=this._chunk(0,s+1);return this.chunkToLines(o,"",s>n).lines}chunkCount(){return Math.floor(this.data.length/this.chunkSize)+1}asText(){return this.isBinary()?Rf(this.data):this.data}chunkToLines(e,t,n){const r=this.newline;if(!this.isBinary()&&e.length===this.data.length)return{lines:e.split(r),partialLine:""};let s=[];const a=this.isBinary()?Rf(e):e,o=a.lastIndexOf(r);if(o===-1)t+=a;else{const A=t+a.substr(0,o);s=s.concat(A.split(r)),t=o===a.length-r.length?"":a.substr(o+r.length)}return n&&t!==""&&s.push(t),{lines:s,partialLine:t}}nextChunk(){const e=this.__pointer;if(!(e>this.data.length))return this.__pointer+=this.chunkSize,this.chunk(e)}nextChunkOfLines(){const e=this.nextChunk();if(e===void 0)return;const t=this.__pointer>this.data.length,n=this.chunkToLines(e,this.__partialLine,t);return this.__partialLine=n.partialLine,n.lines}eachChunk(e){const t=this.chunkSize,n=this.data.length,r=this.chunkCount();for(let s=0;s<n;s+=t)e(this.chunk(s),Math.round(s/t),r)}eachChunkOfLines(e){this.eachChunk((t,n,r)=>{const s=n===r+1,a=this.chunkToLines(t,this.__partialLine,s);this.__partialLine=a.partialLine,e(a.lines,n,r)})}dispose(){delete this.src}}class Hse extends CM{_read(){return new Promise((e,t)=>{const n=this.src,r=new FileReader;r.onload=s=>{s.target&&e(s.target.result)},r.onerror=s=>t(s),this.binary||this.compressed?r.readAsArrayBuffer(n):r.readAsText(n)})}}class zse extends CM{_read(){return new Promise((e,t)=>{const n=this.src,r=new XMLHttpRequest;r.open("GET",n,!0),r.addEventListener("load",()=>{if(r.status===200||r.status===304||r.status===0)try{e(r.response)}catch(s){t(s)}else t(r.statusText)},!1),r.addEventListener("error",s=>t("network error"),!1),this.isBinary()?r.responseType="arraybuffer":this.json?r.responseType="json":this.xml?r.responseType="document":r.responseType="text",r.send()})}}class SM{constructor(e,t={}){this.parameters=Ms(t,{ext:"",compressed:!1,binary:an.isBinary(t.ext||""),name:"",dir:"",path:"",protocol:""});const n={compressed:this.parameters.compressed,binary:this.parameters.binary,json:an.isJson(this.parameters.ext),xml:an.isXml(this.parameters.ext)};typeof File<"u"&&e instanceof File||typeof Blob<"u"&&e instanceof Blob?this.streamer=new Hse(e,n):this.streamer=new zse(e,n)}}class Vse extends SM{constructor(e,t={}){super(e,t),this.parserParams={voxelSize:t.voxelSize,firstModelOnly:t.firstModelOnly,asTrajectory:t.asTrajectory,cAlphaOnly:t.cAlphaOnly,delimiter:t.delimiter,comment:t.comment,columnNames:t.columnNames,inferBonds:t.inferBonds,name:this.parameters.name,path:this.parameters.path}}load(){return new(an.get(this.parameters.ext))(this.streamer,this.parserParams).parse()}}class Kse{constructor(e,t,n){this.name=t,this.path=n,this.signals={elementAdded:new fn.exports.Signal,elementRemoved:new fn.exports.Signal,nameChanged:new fn.exports.Signal},this.type="Script",this.dir=n.substring(0,n.lastIndexOf("/")+1);try{this.fn=new Function("stage","__name","__path","__dir",e)}catch(r){He.error("Script compilation failed",r),this.fn=function(){}}}run(e){return new Promise((t,n)=>{try{this.fn.apply(null,[e,this.name,this.path,this.dir]),t()}catch(r){He.error("Script.fn",r),n(r)}})}}class $se extends SM{load(){return this.streamer.read().then(()=>new Kse(this.streamer.asText(),this.parameters.name,this.parameters.path))}}function us(i){const e=A4.names;let t,n,r="";t=i instanceof File?i.name:i instanceof Blob?"":i;const s=t.lastIndexOf("?"),a=s!==-1?t.substring(s):"";t=t.substring(0,s===-1?t.length:s);const o=t.replace(/^.*[\\/]/,"");let A=o.substring(0,o.lastIndexOf("."));const c=o.split(".");let l=c.length>1?(c.pop()||"").toLowerCase():"";const u=t.match(/^(.+):\/\/(.+)$/);u&&(r=u[1].toLowerCase(),t=u[2]||"");const d=t.substring(0,t.lastIndexOf("/")+1);if(e.includes(l)){n=l;const h=t.length-l.length-1;l=(t.substr(0,h).split(".").pop()||"").toLowerCase();const m=A.length-l.length-1;A=A.substr(0,m)}else n=!1;return{path:t,name:o,ext:l,base:A,dir:d,compressed:n,protocol:r,query:a,src:i}}function Wse(i){let e=us(i);const t=o0.get(e.protocol);return t&&(e=us(t.getUrl(e.src)),!e.ext&&t.getExt&&(e.ext=t.getExt(i))),e}function r6(i,e={}){const t=Object.assign(Wse(i),e);let n;return an.names.includes(t.ext)?n=new Vse(t.src,t):Qse.includes(t.ext)&&(n=new $se(t.src,t)),n?n.load():Promise.reject(new Error(`autoLoad: ext '${t.ext}' unknown`))}const V2=[];class qse{constructor(e,t={}){this._mark=0,this._marks=[],this.offset=0,this.littleEndian=!0;let n=!1;e===void 0&&(e=8192),typeof e=="number"?e=new ArrayBuffer(e):n=!0;const r=t.offset?t.offset>>>0:0;let s=e.byteLength-r,a=r;e instanceof ArrayBuffer||(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+r),e=e.buffer),this._lastWrittenByte=n?s:0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this._data=new DataView(this.buffer,a,s)}available(e){return e===void 0&&(e=1),this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e){return e===void 0&&(e=1),this.offset+=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e){if(e===void 0&&(e=1),!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e){e===void 0&&(e=1);for(var t=new Uint8Array(e),n=0;n<e;n++)t[n]=this.readByte();return t}readInt16(){var e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){var e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){var e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){var e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){var e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){var e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){V2.length=e;for(var t=0;t<e;t++)V2[t]=this.readChar();return V2.join("")}writeBoolean(e=!1){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(var t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(var t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)}_updateLastWrittenByte(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)}}class NM{constructor(){this.count=0,this.signals={countChanged:new fn.exports.Signal}}clear(){this.change(-this.count)}change(e){this.count+=e,this.signals.countChanged.dispatch(e,this.count),this.count<0&&He.warn("Counter.count below zero",this.count)}increment(){this.change(1)}decrement(){this.change(-1)}listen(e){this.change(e.count),e.signals.countChanged.add(this.change,this)}unlisten(e){const t=e.signals.countChanged;t.has(this.change,this)&&t.remove(this.change,this)}onZeroOnce(e,t){if(this.count===0)e.call(t);else{const n=()=>{this.count===0&&(this.signals.countChanged.remove(n,this),e.call(t))};this.signals.countChanged.add(n,this)}}dispose(){this.clear(),this.signals.countChanged.dispose()}}kn.add("shader/BasicLine.vert",`void main(){
#include begin_vertex
#include project_vertex
}`),kn.add("shader/BasicLine.frag",`uniform vec3 uColor;
#include common
#include fog_pars_fragment
void main(){
gl_FragColor = vec4( uColor, 1.0 );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include colorspace_fragment
#include fog_fragment
}`),kn.add("shader/Quad.vert",`varying vec2 vUv;
void main() {
vUv = uv;
gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`),kn.add("shader/Quad.frag",`varying vec2 vUv;
uniform sampler2D tForeground;
uniform float scale;
void main() {
vec4 foreground = texture2D( tForeground, vUv );
gl_FragColor = foreground * scale;
}`);class Yse{constructor(){this.signals={updated:new fn.exports.Signal},this.maxDuration=-1/0,this.minDuration=1/0,this.avgDuration=14,this.lastDuration=1/0,this.prevFpsTime=0,this.lastFps=1/0,this.lastFrames=1,this.frames=0,this.count=0,this.begin()}update(){this.startTime=this.end(),this.currentTime=this.startTime,this.signals.updated.dispatch()}begin(){this.startTime=window.performance.now(),this.lastFrames=this.frames}end(){const e=window.performance.now();return this.count+=1,this.frames+=1,this.lastDuration=e-this.startTime,this.minDuration=Math.min(this.minDuration,this.lastDuration),this.maxDuration=Math.max(this.maxDuration,this.lastDuration),this.avgDuration-=this.avgDuration/30,this.avgDuration+=this.lastDuration/30,e>this.prevFpsTime+1e3&&(this.lastFps=this.frames,this.prevFpsTime=e,this.frames=0),e}}kn.add("shader/chunk/fog_fragment.glsl",`#ifdef USE_FOG
float depth = length( vViewPosition );
#ifdef FOG_EXP2
float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );
#else
float fogFactor = smoothstep( fogNear, fogFar, depth );
#endif
gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`),kn.add("shader/chunk/interior_fragment.glsl",`if( gl_FrontFacing == false ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}`),kn.add("shader/chunk/matrix_scale.glsl",`float matrixScale( in mat4 m ){
vec4 r = m[ 0 ];
return sqrt( r[ 0 ] * r[ 0 ] + r[ 1 ] * r[ 1 ] + r[ 2 ] * r[ 2 ] );
}`),kn.add("shader/chunk/nearclip_vertex.glsl",`#ifdef NEAR_CLIP
if( vViewPosition.z < clipNear - 5.0 )
gl_Position.z = 2.0 * gl_Position.w;
#endif`),kn.add("shader/chunk/nearclip_fragment.glsl",`#ifdef NEAR_CLIP
if( vViewPosition.z < clipNear )
discard;
#endif`),kn.add("shader/chunk/opaque_back_fragment.glsl",`#ifdef OPAQUE_BACK
#ifdef FLIP_SIDED
if( gl_FrontFacing == true ){
gl_FragColor.a = 1.0;
}
#else
if( gl_FrontFacing == false ){
gl_FragColor.a = 1.0;
}
#endif
#endif`),kn.add("shader/chunk/radiusclip_vertex.glsl",`#ifdef RADIUS_CLIP
if( distance( vViewPosition, vClipCenter ) > clipRadius + 5.0 )
gl_Position.z = 2.0 * gl_Position.w;
#endif`),kn.add("shader/chunk/radiusclip_fragment.glsl",`#ifdef RADIUS_CLIP
if( distance( vViewPosition, vClipCenter ) > clipRadius )
discard;
#endif`),kn.add("shader/chunk/unpack_color.glsl",`vec3 unpackColor(float f) {
vec3 color;
color.r = floor(f / 256.0 / 256.0);
color.g = floor((f - color.r * 256.0 * 256.0) / 256.0);
color.b = floor(f - color.r * 256.0 * 256.0 - color.g * 256.0);
return color / 255.0;
}`);const Xse=/^(?!\/\/)\s*#include\s+(\S+)/gim,K2={};function Fd(i,e={}){let t=i+"|";for(const n in e)t+=n+":"+e[n];if(!K2[t]){const n=function(s){if(s===void 0)return"";const a=[];for(const o in s){const A=s[o];A&&a.push(`#define ${o} ${A}`)}return a.join(`
`)+`
`}(e);let r=kn.get(`shader/${i}`);if(!r)throw new Error(`empty shader, '${i}'`);r=r.replace(Xse,function(s,a){const o=`shader/chunk/${a}.glsl`,A=kn.get(o)||Rn[a];if(!A)throw new Error(`empty chunk, '${a}'`);return A}),K2[t]=n+r}return K2[t]}if(typeof WebGLRenderingContext<"u"){const i=WebGLRenderingContext.prototype,e=i.getShaderParameter;i.getShaderParameter=function(){return!ot||e.apply(this,arguments)};const t=i.getShaderInfoLog;i.getShaderInfoLog=function(){return ot?t.apply(this,arguments):""};const n=i.getProgramParameter;i.getProgramParameter=function(s,a){return!ot&&a===i.LINK_STATUS||n.apply(this,arguments)};const r=i.getProgramInfoLog;i.getProgramInfoLog=function(){return ot?r.apply(this,arguments):""}}const MM=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]];MM.forEach(i=>{i.forEach(e=>{e[0]*=.0625,e[1]*=.0625})});class jse{constructor(e,t,n,r){this.canvas=document.createElement("canvas"),this._viewer=n,this._factor=W(r.factor,2),this._antialias=W(r.antialias,!1),this._onProgress=r.onProgress,this._onFinish=r.onFinish,this._antialias&&(this._factor*=2),this._n=this._factor*this._factor,this._width=this._viewer.width,this._height=this._viewer.height,this._antialias?(this.canvas.width=this._width*this._factor/2,this.canvas.height=this._height*this._factor/2):(this.canvas.width=this._width*this._factor,this.canvas.height=this._height*this._factor),this._ctx=this.canvas.getContext("2d"),this._viewerSampleLevel=n.sampleLevel,this._viewer.setSampling(-1)}_renderTile(e){const t=this._viewer,n=this._width,r=this._height,s=this._factor,a=e%s*n,o=Math.floor(e/s)*r;if(t.camera.setViewOffset(n*s,r*s,a,o,n,r),t.render(),this._antialias){const A=Math.round((a+n)/2)-Math.round(a/2),c=Math.round((o+r)/2)-Math.round(o/2);this._ctx.drawImage(t.renderer.domElement,Math.round(a/2),Math.round(o/2),A,c)}else this._ctx.drawImage(t.renderer.domElement,Math.floor(a),Math.floor(o),Math.ceil(n),Math.ceil(r));typeof this._onProgress=="function"&&this._onProgress(e+1,this._n,!1)}_finalize(){this._viewer.setSampling(this._viewerSampleLevel),this._viewer.camera.view=null,typeof this._onFinish=="function"&&this._onFinish(this._n+1,this._n,!1)}render(){for(let e=0;e<=this._n;++e)e===this._n?this._finalize():this._renderTile(e)}renderAsync(){let e=0;const t=this._n,n=()=>{e===t?this._finalize():this._renderTile(e),e+=1};for(let r=0;r<=t;++r)setTimeout(n,0)}}const $2=2*Math.PI,TM=180/Math.PI;function W2(i,e,t=1,n=0,r){const s=r?r.length:i.length/t;let a=0,o=0;if(r)for(let A=0;A<s;++A){const c=(i[r[A]*t+n]+e)%e/e*$2-Math.PI;a+=Math.cos(c),o+=Math.sin(c)}else for(let A=n;A<s;A+=t){const c=(i[A]+e)%e/e*$2-Math.PI;a+=Math.cos(c),o+=Math.sin(c)}return a/=s,o/=s,(Math.atan2(o,a)+Math.PI)/$2*e}function co(i,e,t,n=0){const r=i.length,s=t||new Float32Array(r);for(let a=0;a<r;a+=3)s[n+a+0]=(i[a+0]+e[a+0])/2,s[n+a+1]=(i[a+1]+e[a+1])/2,s[n+a+2]=(i[a+2]+e[a+2])/2;return s}function Kg(i,e){const t=i.length,n=new Float32Array(t);for(let r=0;r<t;r+=3)n[r+0]=e[r+0]-i[r+0],n[r+1]=e[r+1]-i[r+1],n[r+2]=e[r+2]-i[r+2];return n}function Ts(i,e,t){const n=t||new Float32Array(i);for(let r=0;r<i;++r)n[r]=e;return n}function ei(i,e,t,n,r){const s=r||new Float32Array(3*i);for(let a=0;a<i;++a){const o=3*a;s[o+0]=e,s[o+1]=t,s[o+2]=n}return s}function Cu(i){const e=new Float32Array(i);for(let t=0;t<i;++t)e[t]=t;return e}function wE(i,e,t=0,n){const r=n||new Float32Array(i*e);for(let s=0;s<i;++s){const a=t+s*e;for(let o=0;o<e;++o)r[a+o]=s}return r}function q2(i,e){const t=i.length,n=new Float32Array(t*e);for(let r=0;r<t;++r){const s=r*e,a=i[r];for(let o=0;o<e;++o)n[s+o]=a}return n}function Yi(i,e,t,n,r){for(let s=0;s<r;++s)e[n+s]=i[t+s]}function s6(i,e,t,n){Yi(i,i,e,t,n)}function W1(i){let e=-1/0;for(let t=0,n=i.length;t<n;++t)i[t]>e&&(e=i[t]);return e}function q1(i){let e=1/0;for(let t=0,n=i.length;t<n;++t)i[t]<e&&(e=i[t]);return e}function c4(i,e=1,t=0){const n=i.length;let r=0;for(let s=t;s<n;s+=e)r+=i[s];return r}function Y1(i,e=1,t=0){return c4(i,e,t)/(i.length/e)}const Zse={trim:!1,factor:1,antialias:!1,transparent:!1,onProgress:void 0};function Jse(i,e={}){const{trim:t,factor:n,antialias:r,transparent:s}=Ms(e,Zse),a=i.renderer,o=i.camera,A=a.getClearAlpha(),c=a.getClearColor(new $t);function l(h=!1){let m=n;r&&(m*=2),h&&(m=1/m),i.scene.traverse(function(y){const g=y.material;g&&g.linewidth&&(g.linewidth*=m),g&&g.uniforms&&g.uniforms.size&&g.uniforms.size.__seen===void 0&&(g.uniforms.size.value*=m,g.uniforms.size.__seen=!0),g&&g.uniforms&&g.uniforms.linewidth&&g.uniforms.linewidth.__seen===void 0&&(g.uniforms.linewidth.value*=m,g.uniforms.linewidth.__seen=!0)}),i.scene.traverse(function(y){const g=y.material;g&&g.uniforms&&g.uniforms.size&&delete g.uniforms.size.__seen,g&&g.uniforms&&g.uniforms.linewidth&&delete g.uniforms.linewidth.__seen})}function u(h){if(t){const m=c;return function(y,g,E,R,p){const w=y.height,v=y.width,_=y.getContext("2d").getImageData(0,0,v,w).data;let x,C,B,G;for(B=!1,C=0;C<w;C++){for(x=0;x<v;x++)if(G=4*(C*v+x),_[G]!==g||_[G+1]!==E||_[G+2]!==R||_[G+3]!==p){B=!0;break}if(B)break}const I=C;for(B=!1,x=0;x<v;x++){for(C=0;C<w;C++)if(G=4*(C*v+x),_[G]!==g||_[G+1]!==E||_[G+2]!==R||_[G+3]!==p){B=!0;break}if(B)break}const N=x;for(B=!1,C=w-1;C>=0;C--){for(x=v-1;x>=0;x--)if(G=4*(C*v+x),_[G]!==g||_[G+1]!==E||_[G+2]!==R||_[G+3]!==p){B=!0;break}if(B)break}const T=C;for(B=!1,x=v-1;x>=0;x--){for(C=w-1;C>=0;C--)if(G=4*(C*v+x),_[G]!==g||_[G+1]!==E||_[G+2]!==R||_[G+3]!==p){B=!0;break}if(B)break}const M=x,U=document.createElement("canvas");return U.width=M-N,U.height=T-I,U.getContext("2d").drawImage(y,N,I,U.width,U.height,0,0,U.width,U.height),U}(h,s?0:255*m.r,s?0:255*m.g,s?0:255*m.b,s?0:255)}return h}function d(h,m,y){typeof e.onProgress=="function"&&e.onProgress(h,m,y)}return new Promise(function(h,m){const y=new jse(a,o,i,{factor:n,antialias:r,onProgress:d,onFinish:function(g,E){u(y.canvas).toBlob(function(R){a.setClearAlpha(A),l(!0),i.requestRender(),d(E,E,!0),R?h(R):m("error creating image")},"image/png")}});a.setClearAlpha(s?0:1),l(),y.renderAsync()})}const Y2=new ne,a6=new xt,o6=new xt,A6=new bn,zm=new xt,Vm=new xt;function X2(i,e){zm.copy(e.projectionMatrix).invert(),Vm.copy(e.projectionMatrix).transpose(),i.traverse(function(t){const n=t.material;if(!n)return;const r=n.uniforms;r&&(r.projectionMatrixInverse&&r.projectionMatrixInverse.value.copy(zm),r.projectionMatrixTranspose&&r.projectionMatrixTranspose.value.copy(Vm))})}function c6(i,e,t){const n=i.createShader(t);return n?(i.shaderSource(n,e),i.compileShader(n),i.getShaderParameter(n,i.COMPILE_STATUS)?n:(console.log(`error compiling shader ${n}: ${i.getShaderInfoLog(n)}`),i.deleteShader(n),null)):void console.log(`error creating WebGL shader ${t}`)}function j2(i,e){const t=i.getExtension(e);return t||console.log(`extension '${e}' not available`),t}const eae=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);function e1(i){const e=document.createElement("canvas");e.width=16,e.height=16,e.style.width="16px",e.style.height="16px";const t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)return console.log(`error creating webgl context for ${i}`),!1;if(!(t instanceof WebGLRenderingContext))return console.log("Got unexpected type for WebGL rendering context"),!1;j2(t,"OES_texture_float"),j2(t,"OES_texture_half_float"),j2(t,"WEBGL_color_buffer_float");const n=c6(t,`
attribute vec4 a_position;

void main() {
  gl_Position = a_position;
}`,t.VERTEX_SHADER),r=c6(t,`
precision mediump float;
uniform vec4 u_color;
uniform sampler2D u_texture;

void main() {
  gl_FragColor = texture2D(u_texture, vec2(0.5, 0.5)) * u_color;
}`,t.FRAGMENT_SHADER);if(!n||!r)return!1;const s=function(m,y,g,E){const R=m.createProgram();return R?(y.forEach(p=>m.attachShader(R,p)),g&&g.forEach((p,w)=>{m.bindAttribLocation(R,E?E[w]:w,p)}),m.linkProgram(R),m.getProgramParameter(R,m.LINK_STATUS)?R:(console.log(`error linking program: ${m.getProgramInfoLog(R)}`),m.deleteProgram(R),null)):void console.log("error creating WebGL program")}(t,[n,r]);if(!s)return console.log("error creating WebGL program"),!1;t.useProgram(s);const a=t.getAttribLocation(s,"a_position"),o=t.getUniformLocation(s,"u_color");if(!o)return console.log("error getting 'u_color' uniform location"),!1;const A=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,A),t.bufferData(t.ARRAY_BUFFER,eae,t.STATIC_DRAW),t.enableVertexAttribArray(a),t.vertexAttribPointer(a,2,t.FLOAT,!1,0,0);const c=t.createTexture(),l=new Uint8Array([255,255,255,255]);t.bindTexture(t.TEXTURE_2D,c),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,l);const u=t.createTexture();t.bindTexture(t.TEXTURE_2D,u),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,i,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST);const d=t.createFramebuffer();if(t.bindFramebuffer(t.FRAMEBUFFER,d),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,u,0),t.checkFramebufferStatus(t.FRAMEBUFFER)!==t.FRAMEBUFFER_COMPLETE)return console.log(`error creating framebuffer for ${i}`),!1;t.bindTexture(t.TEXTURE_2D,c),t.uniform4fv(o,[0,10,20,1]),t.drawArrays(t.TRIANGLES,0,6),t.bindTexture(t.TEXTURE_2D,u),t.bindFramebuffer(t.FRAMEBUFFER,null),t.clearColor(1,0,0,1),t.clear(t.COLOR_BUFFER_BIT),t.uniform4fv(o,[0,.1,.05,1]),t.drawArrays(t.TRIANGLES,0,6);const h=new Uint8Array(4);if(t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,h),h[0]!==0||h[1]<248||h[2]<248||h[3]<254)return console.log(`not able to actually render to ${i} texture`),!1;if(i===t.FLOAT){t.bindFramebuffer(t.FRAMEBUFFER,d);const m=new Float32Array(4);t.readPixels(0,0,1,1,t.RGBA,t.FLOAT,m);const y=t.getError();if(y)return console.log(`error reading pixels as float: '${function(g,E){switch(E){case g.NO_ERROR:return"no error";case g.INVALID_ENUM:return"invalid enum";case g.INVALID_VALUE:return"invalid value";case g.INVALID_OPERATION:return"invalid operation";case g.INVALID_FRAMEBUFFER_OPERATION:return"invalid framebuffer operation";case g.OUT_OF_MEMORY:return"out of memory";case g.CONTEXT_LOST_WEBGL:return"context lost"}return"unknown error"}(t,y)}'`),!1}return!0}const tae=new Float32Array(100),nae=new Uint8Array(100),l6=[12,7,13,17,11,6,8,18,16,2,14,22,10,1,3,9,19,23,21,15,5,0,4,24,20],t1=new xt;function iae(i,e,t,n,r){const s=r.uniforms,a=[];if(s&&(s.objectId&&(s.objectId.value=qa?this.id:this.id/255,a.push("objectId")),(s.modelViewMatrixInverse||s.modelViewMatrixInverseTranspose||s.modelViewProjectionMatrix||s.modelViewProjectionMatrixInverse)&&this.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,this.matrixWorld),s.modelViewMatrixInverse&&(s.modelViewMatrixInverse.value.copy(this.modelViewMatrix).invert(),a.push("modelViewMatrixInverse")),s.modelViewMatrixInverseTranspose&&(s.modelViewMatrixInverse?s.modelViewMatrixInverseTranspose.value.copy(s.modelViewMatrixInverse.value).transpose():s.modelViewMatrixInverseTranspose.value.copy(this.modelViewMatrix).invert().transpose(),a.push("modelViewMatrixInverseTranspose")),s.modelViewProjectionMatrix&&(s.modelViewProjectionMatrix.value.multiplyMatrices(t.projectionMatrix,this.modelViewMatrix),a.push("modelViewProjectionMatrix")),s.modelViewProjectionMatrixInverse&&(s.modelViewProjectionMatrix?(t1.copy(s.modelViewProjectionMatrix.value),s.modelViewProjectionMatrixInverse.value.copy(t1.invert())):(t1.multiplyMatrices(t.projectionMatrix,this.modelViewMatrix),s.modelViewProjectionMatrixInverse.value.copy(t1.invert())),a.push("modelViewProjectionMatrixInverse")),a.length)){const o=i.properties.get(r);if(o.program){const A=i.getContext(),c=o.program;A.useProgram(c.program);const l=c.getUniforms();a.forEach(function(u){l.setValue(A,u,s[u].value)})}}}class rae{constructor(e){if(this.boundingBox=new Gi,this.boundingBoxSize=new ne,this.boundingBoxLength=0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this.distVector=new ne,this.signals={ticked:new fn.exports.Signal,rendered:new fn.exports.Signal},typeof e=="string"){const t=document.getElementById(e);this.container=t===null?document.createElement("div"):t}else e instanceof HTMLElement?this.container=e:this.container=document.createElement("div");if(this.container===document.body)this.width=window.innerWidth||1,this.height=window.innerHeight||1;else{const t=this.container.getBoundingClientRect();this.width=t.width||1,this.height=t.height||1,this.container.style.overflow="hidden"}this.wrapper=document.createElement("div"),this.wrapper.style.position="relative",this.container.appendChild(this.wrapper),this._initParams(),this._initStats(),this._initCamera(),this._initScene(),this._initRenderer()!==!1?(this._initHelper(),this.setBackground(),this.setFog(),this.animate=this.animate.bind(this)):He.error("Viewer: could not initialize renderer")}_initParams(){this.parameters={fogColor:new $t(0),fogNear:50,fogFar:100,backgroundColor:new $t(0),cameraType:"perspective",cameraFov:40,cameraEyeSep:.3,cameraZ:-80,clipNear:0,clipFar:100,clipDist:10,clipMode:"scene",clipScale:"relative",lightColor:new $t(14540253),lightIntensity:1.2,ambientColor:new $t(14540253),ambientIntensity:.3,sampleLevel:0,outputColorSpace:"srgb-linear"}}_initCamera(){const e=new ne(0,0,0),{width:t,height:n}=this;this.perspectiveCamera=new as(this.parameters.cameraFov,t/n),this.perspectiveCamera.position.z=this.parameters.cameraZ,this.perspectiveCamera.lookAt(e),this.orthographicCamera=new xf(t/-2,t/2,n/2,n/-2),this.orthographicCamera.position.z=this.parameters.cameraZ,this.orthographicCamera.lookAt(e),this.stereoCamera=new dse,this.stereoCamera.aspect=.5,this.stereoCamera.eyeSep=this.parameters.cameraEyeSep;const r=this.parameters.cameraType;if(r==="orthographic")this.camera=this.orthographicCamera;else{if(r!=="perspective"&&r!=="stereo")throw new Error(`Unknown cameraType '${r}'`);this.camera=this.perspectiveCamera}this.camera.updateProjectionMatrix()}_initStats(){this.stats=new Yse}_initScene(){this.scene||(this.scene=new L8,this.scene.name="scene"),this.rotationGroup=new ri,this.rotationGroup.name="rotationGroup",this.scene.add(this.rotationGroup),this.translationGroup=new ri,this.translationGroup.name="translationGroup",this.rotationGroup.add(this.translationGroup),this.modelGroup=new ri,this.modelGroup.name="modelGroup",this.translationGroup.add(this.modelGroup),this.pickingGroup=new ri,this.pickingGroup.name="pickingGroup",this.translationGroup.add(this.pickingGroup),this.backgroundGroup=new ri,this.backgroundGroup.name="backgroundGroup",this.translationGroup.add(this.backgroundGroup),this.helperGroup=new ri,this.helperGroup.name="helperGroup",this.translationGroup.add(this.helperGroup),this.scene.fog=new J_(this.parameters.fogColor.getHex()),this.directionalLight=new lse(this.parameters.lightColor.getHex(),this.parameters.lightIntensity),this.scene.add(this.directionalLight),this.ambientLight=new use(this.parameters.ambientColor.getHex(),this.parameters.ambientIntensity),this.scene.add(this.ambientLight)}_initRenderer(){const e=window.devicePixelRatio,{width:t,height:n}=this;try{this.renderer=new hM({preserveDrawingBuffer:!0,alpha:!0,antialias:!0})}catch{return this.wrapper.innerHTML='<div style="display:flex;align-items:center;justify-content:center;height:100%;"><p style="padding:15px;text-align:center;">Your browser/graphics card does not seem to support <a target="_blank" href="https://en.wikipedia.org/wiki/WebGL">WebGL</a>.<br/><br/>Find out how to get it <a target="_blank" href="http://get.webgl.org/">here</a>.</p></div>',!1}this.renderer.setPixelRatio(e),this.renderer.setSize(t,n),this.renderer.autoClear=!1,this.renderer.sortObjects=!0,this.renderer.outputColorSpace=this.parameters.outputColorSpace,this.renderer.useLegacyLights=!0;const r=this.renderer.getContext();this.renderer.capabilities.isWebGL2?(i6(!0),n6(this.renderer.extensions.get("EXT_color_buffer_float")),this.supportsHalfFloat=!0):(i6(this.renderer.extensions.get("EXT_frag_depth")),this.renderer.extensions.get("OES_element_index_uint"),n6(this.renderer.extensions.get("OES_texture_float")&&this.renderer.extensions.get("WEBGL_color_buffer_float")||this.renderer.extensions.get("OES_texture_float")&&e1(r.FLOAT)),this.renderer.extensions.get("OES_texture_float"),this.supportsHalfFloat=this.renderer.extensions.get("OES_texture_half_float")&&e1(36193)),this.wrapper.appendChild(this.renderer.domElement);const s=t*e,a=n*e;ot&&console.log(JSON.stringify({Browser:xM,OES_texture_float:!!this.renderer.extensions.get("OES_texture_float"),OES_texture_half_float:!!this.renderer.extensions.get("OES_texture_half_float"),WEBGL_color_buffer_float:!!this.renderer.extensions.get("WEBGL_color_buffer_float"),"testTextureSupport Float":e1(r.FLOAT),"testTextureSupport HalfFloat":e1(36193),"this.supportsHalfFloat":this.supportsHalfFloat,SupportsReadPixelsFloat:qa},null,2)),this.pickingTarget=new oo(s,a,{minFilter:oi,magFilter:oi,stencilBuffer:!1,format:os,type:qa?Pa:La}),this.pickingTarget.texture.generateMipmaps=!1,this.pickingTarget.texture.colorSpace=this.parameters.outputColorSpace,this.renderer.setRenderTarget(this.pickingTarget),this.renderer.clear(),this.renderer.setRenderTarget(null),this.sampleTarget=new oo(s,a,{minFilter:Tr,magFilter:Tr,format:os,type:this.supportsHalfFloat?_c:qa?Pa:La}),this.sampleTarget.texture.colorSpace=this.parameters.outputColorSpace,this.holdTarget=new oo(s,a,{minFilter:oi,magFilter:oi,format:os,type:this.supportsHalfFloat?_c:qa?Pa:La}),this.holdTarget.texture.colorSpace=this.parameters.outputColorSpace,this.compositeUniforms={tForeground:new Hm(this.sampleTarget.texture),scale:new Hm(1)},this.compositeMaterial=new Aa({uniforms:this.compositeUniforms,vertexShader:Fd("Quad.vert"),fragmentShader:Fd("Quad.frag"),premultipliedAlpha:!0,transparent:!0,blending:nE,depthTest:!1,depthWrite:!1}),this.compositeCamera=new xf(-1,1,1,-1,0,1),this.compositeScene=new L8,this.compositeScene.name="compositeScene",this.compositeScene.add(new io(new Og(2,2),this.compositeMaterial))}_initHelper(){const e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),t=new Float32Array(24),n=new tr;n.setIndex(new zi(e,1)),n.setAttribute("position",new zi(t,3));const r=new Aa({uniforms:{uColor:{value:new $t("skyblue")}},vertexShader:Fd("BasicLine.vert"),fragmentShader:Fd("BasicLine.frag")});this.boundingBoxMesh=new hE(n,r),this.helperGroup.add(this.boundingBoxMesh)}updateHelper(){const e=this.boundingBoxMesh.geometry.attributes.position,t=e.array,{min:n,max:r}=this.boundingBox;t[0]=r.x,t[1]=r.y,t[2]=r.z,t[3]=n.x,t[4]=r.y,t[5]=r.z,t[6]=n.x,t[7]=n.y,t[8]=r.z,t[9]=r.x,t[10]=n.y,t[11]=r.z,t[12]=r.x,t[13]=r.y,t[14]=n.z,t[15]=n.x,t[16]=r.y,t[17]=n.z,t[18]=n.x,t[19]=n.y,t[20]=n.z,t[21]=r.x,t[22]=n.y,t[23]=n.z,e.needsUpdate=!0,this.boundingBox.isEmpty()||this.boundingBoxMesh.geometry.computeBoundingSphere()}get cameraDistance(){return Math.abs(this.camera.position.z)}set cameraDistance(e){this.camera.position.z=-e}add(e,t){t?t.forEach(n=>this.addBuffer(e,n)):this.addBuffer(e),e.group.name="meshGroup",e.wireframeGroup.name="wireframeGroup",e.parameters.background?(this.backgroundGroup.add(e.group),this.backgroundGroup.add(e.wireframeGroup)):(this.modelGroup.add(e.group),this.modelGroup.add(e.wireframeGroup)),e.pickable&&this.pickingGroup.add(e.pickingGroup),ot&&this.updateHelper()}addBuffer(e,t){function n(a){a instanceof ri?a.children.forEach(n):(a.userData.buffer=e,a.userData.instance=t,a.onBeforeRender=iae)}const r=e.getMesh();t&&r.applyMatrix4(t.matrix),n(r),e.group.add(r);const s=e.getWireframeMesh();if(t&&(s.matrix.copy(r.matrix),s.position.copy(r.position),s.quaternion.copy(r.quaternion),s.scale.copy(r.scale)),n(s),e.wireframeGroup.add(s),e.pickable){const a=e.getPickingMesh();t&&(a.matrix.copy(r.matrix),a.position.copy(r.position),a.quaternion.copy(r.quaternion),a.scale.copy(r.scale)),n(a),e.pickingGroup.add(a)}t?this._updateBoundingBox(e.geometry,e.matrix,t.matrix):this._updateBoundingBox(e.geometry,e.matrix)}remove(e){this.translationGroup.children.forEach(function(t){t.remove(e.group),t.remove(e.wireframeGroup)}),e.pickable&&this.pickingGroup.remove(e.pickingGroup),this.updateBoundingBox(),ot&&this.updateHelper()}_updateBoundingBox(e,t,n){const r=this.boundingBox;function s(o,A,c){o.boundingBox==null&&o.computeBoundingBox();const l=o.boundingBox.clone();A&&l.applyMatrix4(A),c&&l.applyMatrix4(c),l.min.equals(l.max)&&l.expandByScalar(5),r.union(l)}function a(o){if(o.geometry!==void 0){let A,c;o.userData.buffer&&(A=o.userData.buffer.matrix),o.userData.instance&&(c=o.userData.instance.matrix),s(o.geometry,A,c)}}e?s(e,t,n):(r.makeEmpty(),this.modelGroup.traverse(a),this.backgroundGroup.traverse(a)),r.getSize(this.boundingBoxSize),this.boundingBoxLength=this.boundingBoxSize.length()}updateBoundingBox(){this._updateBoundingBox(),ot&&this.updateHelper()}getPickingPixels(){const{width:e,height:t}=this,n=e*t*4,r=qa?new Float32Array(n):new Uint8Array(n);return this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,0,0,e,t,r),r}getImage(e){return new Promise(t=>{if(e){const{width:n,height:r}=this,s=n*r*4;let a=this.getPickingPixels();if(qa){const l=new Uint8Array(s);for(let u=0;u<s;++u)l[u]=Math.round(255*a[u]);a=l}const o=document.createElement("canvas");o.width=n,o.height=r;const A=o.getContext("2d"),c=A.getImageData(0,0,n,r);c.data.set(a),A.putImageData(c,0,0),o.toBlob(t,"image/png")}else this.renderer.domElement.toBlob(t,"image/png")})}makeImage(e={}){return Jse(this,e)}setLight(e,t,n,r){const s=this.parameters;e!==void 0&&s.lightColor.set(e),t!==void 0&&(s.lightIntensity=t),n!==void 0&&s.ambientColor.set(n),r!==void 0&&(s.ambientIntensity=r),this.requestRender()}setFog(e,t,n){const r=this.parameters;e!==void 0&&r.fogColor.set(e),t!==void 0&&(r.fogNear=t),n!==void 0&&(r.fogFar=n),this.requestRender()}setBackground(e){const t=this.parameters;e&&t.backgroundColor.set(e),this.setFog(t.backgroundColor),this.renderer.setClearColor(t.backgroundColor,0),this.renderer.domElement.style.backgroundColor=t.backgroundColor.getStyle(),this.requestRender()}setSampling(e){e!==void 0&&(this.parameters.sampleLevel=e,this.sampleLevel=e),this.requestRender()}setOutputEncoding(e){this.parameters.outputColorSpace=e,this.renderer.outputColorSpace=e,this.pickingTarget.texture.colorSpace=e,this.sampleTarget.texture.colorSpace=e,this.holdTarget.texture.colorSpace=e}setColorWorkflow(e){if(e!="srgb-linear"&&e!="srgb")throw new Error(`setColorWorkflow: invalid color workflow ${e}`);EM=e=="srgb-linear"?"linear":"sRGB",this.setOutputEncoding(e=="srgb-linear"?"srgb":"srgb-linear"),this.requestRender()}setCamera(e,t,n){const r=this.parameters;if(e&&(r.cameraType=e),t&&(r.cameraFov=t),n&&(r.cameraEyeSep=n),r.cameraType==="orthographic")this.camera!==this.orthographicCamera&&(this.camera=this.orthographicCamera,this.camera.position.copy(this.perspectiveCamera.position),this.camera.up.copy(this.perspectiveCamera.up),this.updateZoom());else{if(r.cameraType!=="perspective"&&r.cameraType!=="stereo")throw new Error(`Unknown cameraType '${r.cameraType}'`);this.camera!==this.perspectiveCamera&&(this.camera=this.perspectiveCamera,this.camera.position.copy(this.orthographicCamera.position),this.camera.up.copy(this.orthographicCamera.up))}this.perspectiveCamera.fov=r.cameraFov,this.stereoCamera.eyeSep=r.cameraEyeSep,this.camera.updateProjectionMatrix(),this.requestRender()}setClip(e,t,n,r,s){const a=this.parameters;e!==void 0&&(a.clipNear=e),t!==void 0&&(a.clipFar=t),n!==void 0&&(a.clipDist=n),r!==void 0&&(a.clipMode=r),s!==void 0&&(a.clipScale=s),this.requestRender()}setSize(e,t){this.width=e||1,this.height=t||1,this.perspectiveCamera.aspect=this.width/this.height,this.orthographicCamera.left=-this.width/2,this.orthographicCamera.right=this.width/2,this.orthographicCamera.top=this.height/2,this.orthographicCamera.bottom=-this.height/2,this.camera.updateProjectionMatrix();const n=window.devicePixelRatio;this.renderer.setPixelRatio(n),this.renderer.setSize(e,t);const r=this.width*n,s=this.height*n;this.pickingTarget.setSize(r,s),this.sampleTarget.setSize(r,s),this.holdTarget.setSize(r,s),this.requestRender()}handleResize(){if(this.container===document.body)this.setSize(window.innerWidth,window.innerHeight);else{const e=this.container.getBoundingClientRect();this.setSize(e.width,e.height)}}updateInfo(e){const{memory:t,render:n}=this.info;if(e)t.programs=0,t.geometries=0,t.textures=0,n.calls=0,n.vertices=0,n.points=0;else{const r=this.renderer.info,s=r.memory,a=r.render;t.geometries=s.geometries,t.textures=s.textures,n.calls+=a.calls,n.faces+=a.triangles,n.points+=a.points}}animate(){if(this.signals.ticked.dispatch(this.stats),window.performance.now()-this.stats.startTime>500&&!this.isStill&&this.sampleLevel<3&&this.sampleLevel!==-1){const e=this.sampleLevel;this.sampleLevel=3,this.renderPending=!0,this.render(),this.isStill=!0,this.sampleLevel=e,ot&&He.log("rendered still frame")}this.frameRequest=window.requestAnimationFrame(this.animate)}pick(e,t){if(this.parameters.cameraType==="stereo")return{pid:0,instance:void 0,picker:void 0};e*=window.devicePixelRatio,t*=window.devicePixelRatio,e=Math.max(e-2,0),t=Math.max(t-2,0);let n,r,s=0;const a=qa?tae:nae;this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,e,t,5,5,a);for(let o=0;o<l6.length;o++){const A=4*l6[o],c=Math.round(a[A+3]),l=this.pickingGroup.getObjectById(c);l&&(n=l.userData.instance,r=l.userData.buffer.picking,s=qa?Math.round(255*a[A])<<16&16711680|Math.round(255*a[A+1])<<8&65280|255&Math.round(255*a[A+2]):a[A]<<16|a[A+1]<<8|a[A+2])}return{pid:s,instance:n,picker:r}}requestRender(){this.renderPending||(window.performance.now()-this.stats.startTime>22&&(this.stats.begin(),this.isStill=!1),this.renderPending=!0,window.requestAnimationFrame(()=>{this.render(),this.stats.update()}))}updateZoom(){const e=Mi(this.perspectiveCamera.fov),t=2*Math.tan(e/2)*this.cameraDistance;this.orthographicCamera.zoom=this.height/t}absoluteToRelative(e){return 50*(1-e/this.bRadius)}relativeToAbsolute(e){return this.bRadius*(1-e/50)}__updateClipping(){const e=this.parameters;this.bRadius=Math.max(10,.5*this.boundingBoxLength),isFinite(this.bRadius)||(this.bRadius=50),this.camera.getWorldPosition(this.distVector),this.cDist=this.distVector.length(),this.cDist||(this.cameraDistance=Math.abs(e.cameraZ),this.cDist=Math.abs(e.cameraZ));const t=this.scene.fog;if(t.color.set(e.fogColor),e.clipMode==="camera")this.camera.near=e.clipNear,this.camera.far=e.clipFar,t.near=e.fogNear,t.far=e.fogFar;else if(e.clipScale==="absolute")this.camera.near=this.cDist-e.clipNear,this.camera.far=this.cDist+e.clipFar,t.near=this.cDist-e.fogNear,t.far=this.cDist+e.fogFar;else{const n=(50-e.clipNear)/50,r=-(50-e.clipFar)/50;this.camera.near=this.cDist-this.bRadius*n,this.camera.far=this.cDist+this.bRadius*r;const s=(50-e.fogNear)/50,a=-(50-e.fogFar)/50;t.near=this.cDist-this.bRadius*s,t.far=this.cDist+this.bRadius*a}e.clipMode!=="camera"&&(this.camera.type==="PerspectiveCamera"?(this.camera.near=Math.max(.1,e.clipDist,this.camera.near),this.camera.far=Math.max(1,this.camera.far),t.near=Math.max(.1,t.near),t.far=Math.max(1,t.far)):this.camera.type==="OrthographicCamera"&&e.clipDist>0&&(this.camera.near=Math.max(e.clipDist,this.camera.near)))}__updateCamera(){const e=this.camera;e.updateMatrix(),e.updateMatrixWorld(!0),e.updateProjectionMatrix(),function(t,n,r,s,a){let o=new bn;r.getSize(o);const A=o.height,c=r.getPixelRatio(),l=n.type==="OrthographicCamera";A6.set(o.width,o.height),zm.copy(n.projectionMatrix).invert(),Vm.copy(n.projectionMatrix).transpose(),t.traverse(function(u){const d=u.material;if(!d)return;const h=d.uniforms;if(h){if(d.clipNear){const m=(50-d.clipNear)/50,y=s-a*m;h.clipNear.value=y}h.canvasHeight&&(h.canvasHeight.value=A),h.resolution&&h.resolution.value.copy(A6),h.pixelRatio&&(h.pixelRatio.value=c),h.projectionMatrixInverse&&h.projectionMatrixInverse.value.copy(zm),h.projectionMatrixTranspose&&h.projectionMatrixTranspose.value.copy(Vm),h.ortho&&(h.ortho.value=l)}})}(this.scene,e,this.renderer,this.cDist,this.bRadius),function(t,n){t.traverseVisible(function(r){if(!(r instanceof pM&&r.userData.buffer.parameters.sortParticles))return;const s=r.geometry.attributes,a=s.position.count;if(a===0)return;let o,A,c,l,u,d,h,m;a6.multiplyMatrices(n.matrixWorldInverse,r.matrixWorld),o6.multiplyMatrices(n.projectionMatrix,a6),r.userData.sortData?(o=r.userData.sortData,c=o.__zArray,A=o.__sortArray,l=o.__cmpFn):(c=new Float32Array(a),A=new Uint32Array(a),l=function(y,g){const E=c[y],R=c[g];return E>R?1:E<R?-1:0},o={__zArray:c,__sortArray:A,__cmpFn:l},r.userData.sortData=o);for(let y=0;y<a;++y)Y2.fromArray(s.position.array,3*y),Y2.applyMatrix4(o6),c[y]=-Y2.z,A[y]=y;(function(y,g,E=0,R){g=g||function(I,N){return I>N?1:I<N?-1:0};const p=[];let w,v,_,x=-1,C=E,B=R=(R||y.length)-1;function G(I,N){const T=y[I];y[I]=y[N],y[N]=T}for(;;)if(B-C<=25){for(let I=C+1;I<=B;++I){for(w=y[I],v=I-1;v>=C&&g(y[v],w)>0;)y[v+1]=y[v],--v;y[v+1]=w}if(x===-1)break;B=p[x--],C=p[x--]}else{for(v=C+1,_=B,G(C+B>>1,v),g(y[C],y[B])>0&&G(C,B),g(y[v],y[B])>0&&G(v,B),g(y[C],y[v])>0&&G(C,v),w=y[v];;){do v++;while(g(y[v],w)<0);do _--;while(g(y[_],w)>0);if(_<v)break;G(v,_)}y[C+1]=y[_],y[_]=w,B-v+1>=_-C?(p[++x]=v,p[++x]=B,B=_-1):(p[++x]=C,p[++x]=_-1,C=v)}})(A,l);for(let y in s){const g=s[y],E=g.array,R=g.itemSize;o[y]||(o[y]=new Float32Array(R*a)),m=o[y],o[y]=E;for(let p=0;p<a;++p){u=A[p];for(let w=0;w<R;++w)d=u*R+w,h=p*R+w,m[h]=E[d]}s[y].array=m,s[y].needsUpdate=!0}})}(this.scene,e)}__setVisibility(e,t,n,r){this.modelGroup.visible=e,this.pickingGroup.visible=t,this.backgroundGroup.visible=n,this.helperGroup.visible=r}__updateLights(){this.directionalLight.color.set(this.parameters.lightColor),this.directionalLight.intensity=this.parameters.lightIntensity,this.distVector.copy(this.camera.position).setLength(100*this.boundingBoxLength),this.directionalLight.position.copy(this.camera.position).add(this.distVector),this.ambientLight.color.set(this.parameters.ambientColor),this.ambientLight.intensity=this.parameters.ambientIntensity}__renderPickingGroup(e){this.renderer.setRenderTarget(this.pickingTarget||null),this.renderer.clear(),this.__setVisibility(!1,!0,!1,!1),this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.updateInfo()}__renderModelGroup(e,t){this.renderer.setRenderTarget(t||null),this.renderer.clear(),this.__setVisibility(!1,!1,!0,!1),this.renderer.render(this.scene,e),this.renderer.clear(!1,!0,!0),this.updateInfo(),this.__setVisibility(!0,!1,!1,ot),this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.updateInfo()}__renderSuperSample(e,t){const n=MM[Math.max(0,Math.min(this.sampleLevel,5))],r=1/n.length;this.compositeUniforms.tForeground.value=this.sampleTarget.texture;let s=this.sampleTarget.width;const a=this.sampleTarget.height;this.parameters.cameraType==="stereo"&&(s/=2);for(let o=0;o<n.length;++o){const A=n[o];e.setViewOffset(s,a,A[0],A[1],s,a),e.updateProjectionMatrix(),X2(this.scene,e);let c=r;c+=.03125*((o+.5)/n.length-.5),this.compositeUniforms.scale.value=c,this.__renderModelGroup(e,this.sampleTarget),this.renderer.setRenderTarget(this.holdTarget),o===0&&this.renderer.clear(),this.renderer.render(this.compositeScene,this.compositeCamera)}this.compositeUniforms.scale.value=1,this.compositeUniforms.tForeground.value=this.holdTarget.texture,e.clearViewOffset(),this.renderer.setRenderTarget(t||null),this.renderer.clear(),this.renderer.render(this.compositeScene,this.compositeCamera)}__renderStereo(e=!1,t){const n=this.stereoCamera;n.update(this.perspectiveCamera);const r=this.renderer;let s=new bn;r.getSize(s),r.setScissorTest(!0),r.setScissor(0,0,s.width/2,s.height),r.setViewport(0,0,s.width/2,s.height),X2(this.scene,n.cameraL),this.__render(e,n.cameraL),r.setScissor(s.width/2,0,s.width/2,s.height),r.setViewport(s.width/2,0,s.width/2,s.height),X2(this.scene,n.cameraR),this.__render(e,n.cameraR),r.setScissorTest(!1),r.setViewport(0,0,s.width,s.height)}__render(e=!1,t,n){e?this.lastRenderedPicking||this.__renderPickingGroup(t):this.sampleLevel>0&&this.parameters.cameraType!=="stereo"?this.__renderSuperSample(t,n):this.__renderModelGroup(t,n)}render(e=!1,t){if(this.rendering)He.warn("'tried to call 'render' from within 'render'");else{this.rendering=!0;try{this.__updateClipping(),this.__updateCamera(),this.__updateLights(),this.updateInfo(!0),this.parameters.cameraType==="stereo"?this.__renderStereo(e,t):this.__render(e,this.camera,t),this.lastRenderedPicking=e}finally{this.rendering=!1,this.renderPending=!1}this.signals.rendered.dispatch()}}clear(){He.log("scene cleared"),this.scene.remove(this.rotationGroup),this._initScene(),this.renderer.clear()}dispose(){this.renderer.dispose(),window.cancelAnimationFrame(this.frameRequest)}}function u6(i){const e=i.touches[0].pageX-i.touches[1].pageX,t=i.touches[0].pageY-i.touches[1].pageY;return Math.sqrt(e*e+t*t)}class sae{constructor(e,t={}){this.domElement=e,this.signals={moved:new fn.exports.Signal,scrolled:new fn.exports.Signal,dragged:new fn.exports.Signal,dropped:new fn.exports.Signal,clicked:new fn.exports.Signal,hovered:new fn.exports.Signal,doubleClicked:new fn.exports.Signal},this.position=new bn,this.prevPosition=new bn,this.down=new bn,this.canvasPosition=new bn,this.prevClickCP=new bn,this.moving=!1,this.hovering=!0,this.scrolled=!1,this.lastMoved=1/0,this.which=0,this.buttons=0,this.pressed=!1,this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1,this.domElement.style.touchAction="none",this.hoverTimeout=W(t.hoverTimeout,50),this.handleScroll=W(t.handleScroll,!0),this.doubleClickSpeed=W(t.doubleClickSpeed,500),this._listen=this._listen.bind(this),this._onMousewheel=this._onMousewheel.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMousedown=this._onMousedown.bind(this),this._onMouseup=this._onMouseup.bind(this),this._onContextmenu=this._onContextmenu.bind(this),this._onTouchstart=this._onTouchstart.bind(this),this._onTouchend=this._onTouchend.bind(this),this._onTouchmove=this._onTouchmove.bind(this),this._listen();const n={passive:!1};document.addEventListener("mousewheel",this._onMousewheel,n),document.addEventListener("wheel",this._onMousewheel,n),document.addEventListener("MozMousePixelScroll",this._onMousewheel,n),document.addEventListener("mousemove",this._onMousemove,n),document.addEventListener("mousedown",this._onMousedown,n),document.addEventListener("mouseup",this._onMouseup,n),document.addEventListener("contextmenu",this._onContextmenu,n),document.addEventListener("touchstart",this._onTouchstart,n),document.addEventListener("touchend",this._onTouchend,n),document.addEventListener("touchmove",this._onTouchmove,n)}get key(){let e=0;return this.altKey&&(e+=1),this.ctrlKey&&(e+=2),this.metaKey&&(e+=4),this.shiftKey&&(e+=8),e}setParameters(e={}){this.hoverTimeout=W(e.hoverTimeout,this.hoverTimeout)}_listen(){const e=window.performance.now(),t=this.canvasPosition;this.doubleClickPending&&e-this.lastClicked>this.doubleClickSpeed&&(this.doubleClickPending=!1),e-this.lastMoved>this.hoverTimeout&&(this.moving=!1),(this.scrolled||!this.moving&&!this.hovering)&&(this.scrolled=!1,this.hoverTimeout!==-1&&this.overElement&&(this.hovering=!0,this.signals.hovered.dispatch(t.x,t.y))),this.frameRequest=window.requestAnimationFrame(this._listen)}_onMousewheel(e){if(e.target!==this.domElement||!this.handleScroll)return;e.preventDefault(),this._setKeys(e);let t=0;"deltaY"in e&&"deltaMode"in e&&e.deltaY!==void 0&&e.deltaMode!==void 0?t=e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?.025*-e.deltaY:e.deltaMode===WheelEvent.DOM_DELTA_LINE?-e.deltaY*(2.5/3):2.5*-e.deltaY:"deltaY"in e&&!("detail"in e)?t=.025*-e.deltaY:e.wheelDelta!==void 0?t=.025*-e.wheelDelta:e.wheelDeltaY!==void 0?t=.025*-e.wheelDeltaY:e.detail!==void 0&&(t=-e.detail/3),this.signals.scrolled.dispatch(t),setTimeout(()=>{this.scrolled=!0},this.hoverTimeout)}_onMousemove(e){e.target===this.domElement?(e.preventDefault(),this.overElement=!0):this.overElement=!1,this._setKeys(e),this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(e.clientX,e.clientY),this._setCanvasPosition(e);const t=this.prevPosition.x-this.position.x,n=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(t,n),this.pressed&&this.signals.dragged.dispatch(t,n)}_onMousedown(e){e.target===this.domElement&&(e.preventDefault(),this._setKeys(e),this.moving=!1,this.hovering=!1,this.down.set(e.clientX,e.clientY),this.position.set(e.clientX,e.clientY),this.which=e.which,this.buttons=function(t){if(typeof t=="object"){if("buttons"in t)return t.buttons;if("which"in t){const n=t.which;if(n===2)return 4;if(n===3)return 2;if(n>0)return 1<<n-1}else if("button"in t){const n=t.button;if(n===1)return 4;if(n===2)return 2;if(n>=0)return 1<<n}}return 0}(e),this.pressed=!0,this._setCanvasPosition(e))}_onMouseup(e){e.target===this.domElement&&e.preventDefault(),this._setKeys(e);const t=this.canvasPosition;this._distance()<4&&(this.lastClicked=window.performance.now(),this.doubleClickPending&&this.prevClickCP.distanceTo(t)<4&&(this.signals.doubleClicked.dispatch(t.x,t.y),this.doubleClickPending=!1),this.signals.clicked.dispatch(t.x,t.y),this.doubleClickPending=!0,this.prevClickCP.copy(t)),this.which=void 0,this.buttons=void 0,this.pressed=void 0}_onContextmenu(e){e.target===this.domElement&&e.preventDefault()}_onTouchstart(e){if(e.target===this.domElement)switch(e.preventDefault(),this.pressed=!0,e.touches.length){case 1:this.moving=!1,this.hovering=!1,this.down.set(e.touches[0].pageX,e.touches[0].pageY),this.position.set(e.touches[0].pageX,e.touches[0].pageY),this._setCanvasPosition(e.touches[0]);break;case 2:this.down.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),this.position.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),this.lastTouchDistance=u6(e)}}_onTouchend(e){e.target===this.domElement&&e.preventDefault(),this.which=void 0,this.buttons=void 0,this.pressed=void 0}_onTouchmove(e){switch(e.target===this.domElement?(e.preventDefault(),this.overElement=!0):this.overElement=!1,e.touches.length){case 1:{this._setKeys(e),this.which=1,this.buttons=1,this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(e.touches[0].pageX,e.touches[0].pageY),this._setCanvasPosition(e.touches[0]);const t=this.prevPosition.x-this.position.x,n=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(t,n),this.pressed&&this.signals.dragged.dispatch(t,n);break}case 2:{const t=u6(e),n=t-this.lastTouchDistance;if(this.lastTouchDistance=t,this.prevPosition.copy(this.position),this.position.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),Math.abs(n)>2&&this.handleScroll&&this.position.distanceTo(this.prevPosition)<2)this.which=0,this.buttons=0,this.signals.scrolled.dispatch(n/2);else{this.which=3,this.buttons=2;const r=this.prevPosition.x-this.position.x,s=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(r,s),this.pressed&&this.signals.dragged.dispatch(r,s)}}}}_distance(){return this.position.distanceTo(this.down)}_setCanvasPosition(e){const t=this.domElement.getBoundingClientRect();let n,r;"clientX"in e&&"clientY"in e?(n=e.clientX-t.left,r=e.clientY-t.top):(n=e.offsetX,r=e.offsetY),this.canvasPosition.set(n,t.height-r)}_setKeys(e){this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey,this.shiftKey=e.shiftKey}dispose(){document.removeEventListener("mousewheel",this._onMousewheel),document.removeEventListener("wheel",this._onMousewheel),document.removeEventListener("MozMousePixelScroll",this._onMousewheel),document.removeEventListener("mousemove",this._onMousemove),document.removeEventListener("mousedown",this._onMousedown),document.removeEventListener("mouseup",this._onMouseup),document.removeEventListener("contextmenu",this._onContextmenu),document.removeEventListener("touchstart",this._onTouchstart),document.removeEventListener("touchend",this._onTouchend),document.removeEventListener("touchmove",this._onTouchmove),window.cancelAnimationFrame(this.frameRequest)}}const Z2=new xt,J2=new xt,d6=new xt,xs=new xt,f6=new xt,qs=new ne,cd=new $r,h6=new $r,zA=new xt,W0=new ne,n1=new ne;class aae{constructor(e,t={}){this.stage=e,this.rotateSpeed=W(t.rotateSpeed,2),this.zoomSpeed=W(t.zoomSpeed,1.2),this.panSpeed=W(t.panSpeed,1),this.viewer=e.viewer,this.mouse=e.mouseObserver,this.controls=e.viewerControls}get component(){return this.stage.transformComponent}get atom(){return this.stage.transformAtom}_setPanVector(e,t,n=0){const r=this.controls.getCanvasScaleFactor(n);W0.set(e,t,0),W0.multiplyScalar(this.panSpeed*r)}_getRotateXY(e,t){return[this.rotateSpeed*-e*.01,this.rotateSpeed*t*.01]}_getCameraRotation(e){return e.extractRotation(this.viewer.camera.matrixWorld),e.multiply(J2.makeRotationY(Math.PI)),e}_transformPanVector(){this.component&&(zA.extractRotation(this.component.transform),zA.premultiply(this.viewer.rotationGroup.matrix),zA.invert(),zA.multiply(this._getCameraRotation(xs)),W0.applyMatrix4(zA))}zoom(e){this.controls.zoom(this.zoomSpeed*e*.02)}pan(e,t){this._setPanVector(e,t),zA.copy(this.viewer.rotationGroup.matrix).invert(),zA.multiply(this._getCameraRotation(xs)),W0.applyMatrix4(zA),this.controls.translate(W0)}panComponent(e,t){this.component&&(this._setPanVector(e,t),this._transformPanVector(),this.component.position.add(W0),this.component.updateMatrix())}panAtom(e,t){this.atom&&this.component&&(this.atom.positionToVector3(n1),n1.add(this.viewer.translationGroup.position),n1.applyMatrix4(this.viewer.rotationGroup.matrix),this._setPanVector(e,t,n1.z),this._transformPanVector(),this.atom.positionAdd(W0),this.component.updateRepresentations({position:!0}))}rotate(e,t){const[n,r]=this._getRotateXY(e,t);this._getCameraRotation(xs),qs.set(1,0,0),qs.applyMatrix4(xs),cd.setFromAxisAngle(qs,r),qs.set(0,1,0),qs.applyMatrix4(xs),h6.setFromAxisAngle(qs,n),cd.multiply(h6),xs.makeRotationFromQuaternion(cd),this.controls.applyMatrix(xs)}zRotate(e,t){const n=this.rotateSpeed*((-e+t)/-2)*.01;d6.makeRotationZ(n),this.controls.applyMatrix(d6)}rotateComponent(e,t){if(!this.component)return;const[n,r]=this._getRotateXY(e,t);this._getCameraRotation(f6),xs.extractRotation(this.component.transform),xs.premultiply(this.viewer.rotationGroup.matrix),xs.invert(),xs.premultiply(f6),qs.set(1,0,0),qs.applyMatrix4(xs),Z2.makeRotationAxis(qs,r),qs.set(0,1,0),qs.applyMatrix4(xs),J2.makeRotationAxis(qs,n),Z2.multiply(J2),cd.setFromRotationMatrix(Z2),this.component.quaternion.premultiply(cd),this.component.quaternion.normalize(),this.component.updateMatrix()}}const wl=new ne;class oae{constructor(e,t){this.stage=t,this.pid=e.pid,this.picker=e.picker,this.instance=e.instance,this.stage=t,this.controls=t.viewerControls,this.mouse=t.mouseObserver}get type(){return this.picker.type}get altKey(){return this.mouse.altKey}get ctrlKey(){return this.mouse.ctrlKey}get metaKey(){return this.mouse.metaKey}get shiftKey(){return this.mouse.shiftKey}get canvasPosition(){return this.mouse.canvasPosition}get component(){return this.stage.getComponentsByObject(this.picker.data).list[0]}get object(){return this.picker.getObject(this.pid)}get position(){return this.picker.getPosition(this.pid,this.instance,this.component)}get closestBondAtom(){if(this.type!=="bond"||!this.bond)return;const e=this.bond,t=this.controls,n=this.canvasPosition,r=e.atom1.positionToVector3(),s=e.atom2.positionToVector3();r.applyMatrix4(this.component.matrix),s.applyMatrix4(this.component.matrix);const a=t.getPositionOnCanvas(r),o=t.getPositionOnCanvas(s);return c=a,l=o,(A=n).distanceTo(c)<A.distanceTo(l)?e.atom1:e.atom2;var A,c,l}get closeAtom(){const e=this.canvasPosition,t=this.closestBondAtom;if(!t)return;const n=t.positionToVector3().applyMatrix4(this.component.matrix),r=this.controls.getPositionOnCanvas(n);t.positionToVector3(wl),this.instance&&wl.applyMatrix4(this.instance.matrix),wl.applyMatrix4(this.component.matrix);const s=this.controls.viewer;wl.add(s.translationGroup.position),wl.applyMatrix4(s.rotationGroup.matrix);const a=this.controls.getCanvasScaleFactor(wl.z),o=this.component.getMaxRepresentationRadius(t.index);return e.distanceTo(r)<=o/a?t:void 0}get arrow(){return this._objectIfType("arrow")}get atom(){return this._objectIfType("atom")}get axes(){return this._objectIfType("axes")}get bond(){return this._objectIfType("bond")}get box(){return this._objectIfType("box")}get cone(){return this._objectIfType("cone")}get clash(){return this._objectIfType("clash")}get contact(){return this._objectIfType("contact")}get cylinder(){return this._objectIfType("cylinder")}get distance(){return this._objectIfType("distance")}get ellipsoid(){return this._objectIfType("ellipsoid")}get octahedron(){return this._objectIfType("octahedron")}get point(){return this._objectIfType("point")}get mesh(){return this._objectIfType("mesh")}get slice(){return this._objectIfType("slice")}get sphere(){return this._objectIfType("sphere")}get tetrahedron(){return this._objectIfType("tetrahedron")}get torus(){return this._objectIfType("torus")}get surface(){return this._objectIfType("surface")}get unitcell(){return this._objectIfType("unitcell")}get unknown(){return this._objectIfType("unknown")}get volume(){return this._objectIfType("volume")}get wideline(){return this._objectIfType("wideline")}_objectIfType(e){return this.type===e?this.object:void 0}getLabel(){const e=this.atom||this.closeAtom;let t="nothing";return this.arrow?t=this.arrow.name:e?t=`atom: ${e.qualifiedName()} (${e.structure.name})`:this.axes?t="axes":this.bond?t=`bond: ${this.bond.atom1.qualifiedName()} - ${this.bond.atom2.qualifiedName()} (${this.bond.structure.name})`:this.box?t=this.box.name:this.cone?t=this.cone.name:this.clash?t=`clash: ${this.clash.clash.sele1} - ${this.clash.clash.sele2}`:this.contact?t=`${this.contact.type}: ${this.contact.atom1.qualifiedName()} - ${this.contact.atom2.qualifiedName()} (${this.contact.atom1.structure.name})`:this.cylinder?t=this.cylinder.name:this.distance?t=`distance: ${this.distance.atom1.qualifiedName()} - ${this.distance.atom2.qualifiedName()} (${this.distance.structure.name})`:this.ellipsoid?t=this.ellipsoid.name:this.octahedron?t=this.octahedron.name:this.point?t=this.point.name:this.mesh?t=`mesh: ${this.mesh.name||this.mesh.serial} (${this.mesh.shape.name})`:this.slice?t=`slice: ${this.slice.value.toPrecision(3)} (${this.slice.volume.name})`:this.sphere?t=this.sphere.name:this.surface?t=`surface: ${this.surface.surface.name}`:this.tetrahedron?t=this.tetrahedron.name:this.torus?t=this.torus.name:this.unitcell?t=`unitcell: ${this.unitcell.unitcell.spacegroup} (${this.unitcell.structure.name})`:this.unknown?t="unknown":this.volume?t=`volume: ${this.volume.value.toPrecision(3)} (${this.volume.volume.name})`:this.wideline&&(t=this.wideline.name),t}}class Aae{constructor(e){this.stage=e,this.viewer=e.viewer}pick(e,t){const n=this.viewer.pick(e,t);if(n.picker&&n.picker.type!=="ignore"&&n.pid!==void 0){const r=n.picker.array;if(!(r&&n.pid>=r.length))return new oae(n,this.stage);console.error("pid >= picker.array.length")}}}const p6=new $r,m6=new ne,g6=new ne,ew=new ne,cae=new ne,y6=new xt,w6=new ne,b6=new xt;class lae{constructor(e){this.stage=e,this.signals={changed:new fn.exports.Signal},this.viewer=e.viewer}get position(){return this.viewer.translationGroup.position}get rotation(){return this.viewer.rotationGroup.quaternion}changed(){this.viewer.requestRender(),this.signals.changed.dispatch()}getPositionOnCanvas(e,t){const n=Vg(t,bn),r=this.viewer;return ew.copy(e).add(r.translationGroup.position).applyMatrix4(r.rotationGroup.matrix).project(r.camera),n.set((ew.x+1)*r.width/2,(ew.y+1)*r.height/2)}getCanvasScaleFactor(e=0){const t=this.viewer.camera;if(t instanceof xf)return 1/t.zoom;{e=Math.abs(e),e+=this.getCameraDistance();const n=Mi(t.fov);return 2*e*Math.tan(n/2)/this.viewer.height}}getOrientation(e){const t=Gd(e);t.copy(this.viewer.rotationGroup.matrix);const n=this.getCameraDistance();return t.scale(cae.set(n,n,n)),t.setPosition(this.viewer.translationGroup.position),t}orient(e){Gd(e).decompose(m6,p6,g6);const t=this.viewer;t.rotationGroup.setRotationFromQuaternion(p6),t.translationGroup.position.copy(m6),t.cameraDistance=g6.z,t.updateZoom(),this.changed()}translate(e){this.viewer.translationGroup.position.add(mc(e)),this.changed()}center(e){this.viewer.translationGroup.position.copy(mc(e)).negate(),this.changed()}zoom(e){this.distance(this.getCameraDistance()*(1-e))}getCameraDistance(){return this.viewer.cameraDistance}distance(e){this.viewer.cameraDistance=Math.max(Math.abs(e),.2),this.viewer.updateZoom(),this.changed()}spin(e,t){y6.copy(this.viewer.rotationGroup.matrix).invert(),w6.copy(mc(e)).applyMatrix4(y6),this.viewer.rotationGroup.rotateOnAxis(w6,t),this.changed()}rotate(e){this.viewer.rotationGroup.setRotationFromQuaternion(gE(e)),this.changed()}align(e){b6.copy(Gd(e)).invert(),this.viewer.rotationGroup.setRotationFromMatrix(b6),this.changed()}applyMatrix(e){this.viewer.rotationGroup.applyMatrix4(Gd(e)),this.changed()}}class Mc{constructor(e,t,...n){this.pausedTime=-1,this.elapsedDuration=0,this.pausedDuration=0,this.ignoreGlobalToggle=!1,this._paused=!1,this._resolveList=[],this.duration=W(e,1e3),this.controls=t,this.startTime=window.performance.now(),this._init(...n)}get done(){return this.alpha===1}get paused(){return this._paused}tick(e){if(!this._paused)return this.elapsedDuration=e.currentTime-this.startTime-this.pausedDuration,this.duration===0?this.alpha=1:this.alpha=qf(0,1,this.elapsedDuration/this.duration),this._tick(e),this.done&&this._resolveList.forEach(t=>t()),this.done}pause(e){e&&(this._hold=!0),this.pausedTime===-1&&(this.pausedTime=window.performance.now()),this._paused=!0}resume(e){!e&&this._hold||(this.pausedDuration+=window.performance.now()-this.pausedTime,this._paused=!1,this._hold=!1,this.pausedTime=-1)}toggle(){this._paused?this.resume():this.pause()}then(e){let t;return t=this.done?Promise.resolve():new Promise(n=>this._resolveList.push(n)),t.then(e)}}class E6 extends Mc{constructor(e,t,...n){super(W(e,1/0),t,...n)}_init(e,t){Array.isArray(e)?this.axis=new ne().fromArray(e):this.axis=W(e,new ne(0,1,0)),this.angle=W(t,.01)}_tick(e){this.axis&&this.angle&&this.controls.spin(this.axis,this.angle*e.lastDuration/16)}}class _6 extends Mc{constructor(e,t,...n){super(W(e,1/0),t,...n),this.angleSum=0,this.direction=1}_init(e,t,n){Array.isArray(e)?this.axis=new ne().fromArray(e):this.axis=W(e,new ne(0,1,0)),this.angleStep=W(t,.01),this.angleEnd=W(n,.2)}_tick(e){if(!this.axis||!this.angleStep||!this.angleEnd)return;const t=qf(0,1,Math.abs(this.angleSum)/this.angleEnd),n=this.angleStep*this.direction*(1.1-t);this.controls.spin(this.axis,n*e.lastDuration/16),this.angleSum+=this.angleStep,this.angleSum>=this.angleEnd&&(this.direction*=-1,this.angleSum=-this.angleEnd)}}class v6 extends Mc{_init(e,t){this.moveFrom=mc(W(e,new ne)),this.moveTo=mc(W(t,new ne))}_tick(){this.controls.position.lerpVectors(this.moveFrom,this.moveTo,this.alpha).negate(),this.controls.changed()}}class uae extends Mc{_init(e,t){this.zoomFrom=e,this.zoomTo=t}_tick(){this.controls.distance(Js(this.zoomFrom,this.zoomTo,this.alpha))}}class dae extends Mc{constructor(){super(...arguments),this._currentRotation=new $r}_init(e,t){this.rotateFrom=gE(e),this.rotateTo=gE(t),this._currentRotation=new $r}_tick(){this._currentRotation.copy(this.rotateFrom).slerp(this.rotateTo,this.alpha),this.controls.rotate(this._currentRotation)}}class fae extends Mc{_init(e,t,n){this.valueFrom=e,this.valueTo=t,this.callback=n}_tick(){this.callback(Js(this.valueFrom,this.valueTo,this.alpha))}}class hae extends Mc{_init(e){this.callback=e}_tick(){this.alpha===1&&this.callback()}}class x6{constructor(e=[]){this._resolveList=[],this._list=e}get done(){return this._list.every(e=>e.done)}then(e){let t;return t=this.done?Promise.resolve():new Promise(n=>{this._resolveList.push(n),this._list.forEach(r=>{r.then(()=>{this._resolveList.forEach(s=>{s()}),this._resolveList.length=0})})}),t.then(e)}}class pae{constructor(e){this.stage=e,this.animationList=[],this.finishedList=[],this.viewer=e.viewer,this.controls=e.viewerControls}get paused(){return this.animationList.every(e=>e.paused)}add(e){return e.duration===0?e.tick(this.viewer.stats):this.animationList.push(e),e}remove(e){const t=this.animationList,n=t.indexOf(e);n>-1&&t.splice(n,1)}run(e){const t=this.finishedList,n=this.animationList,r=n.length;for(let a=0;a<r;++a){const o=n[a];o.tick(e)&&t.push(o)}const s=t.length;if(s){for(let a=0;a<s;++a)this.remove(t[a]);t.length=0}}spin(e,t,n){return this.add(new E6(n,this.controls,e,t))}rock(e,t,n,r){return this.add(new _6(r,this.controls,e,t,n))}rotate(e,t){const n=this.viewer.rotationGroup.quaternion.clone();return this.add(new dae(t,this.controls,n,e))}move(e,t){const n=this.controls.position.clone().negate();return this.add(new v6(t,this.controls,n,e))}zoom(e,t){const n=this.viewer.camera.position.z;return this.add(new uae(t,this.controls,n,e))}zoomMove(e,t,n){return new x6([this.move(e,n),this.zoom(t,n)])}orient(e,t){const n=new ne,r=new $r,s=new ne;return Gd(e).decompose(n,r,s),new x6([this.move(n.negate(),t),this.rotate(r,t),this.zoom(-s.x,t)])}value(e,t,n,r){return this.add(new fae(r,this.controls,e,t,n))}timeout(e,t){return this.add(new hae(t,this.controls,e))}spinComponent(e,t,n,r){return this.add(new E6(r,e.controls,t,n))}rockComponent(e,t,n,r,s){return this.add(new _6(s,e.controls,t,n,r))}moveComponent(e,t,n){const r=e.controls.position.clone().negate();return this.add(new v6(n,e.controls,r,t))}pause(){this.animationList.forEach(e=>e.pause())}resume(){this.animationList.forEach(e=>e.resume())}toggle(){this.paused?this.resume():this.pause()}clear(){this.animationList.length=0}dispose(){this.clear()}}class mae{constructor(e,t){if(this.fn=e,this.queue=[],this.pending=!1,this.next=this.next.bind(this),t){for(let n=0,r=t.length;n<r;++n)this.queue.push(t[n]);this.next()}}run(e){this.fn(e,this.next)}next(){const e=this.queue.shift();e!==void 0?(this.pending=!0,setTimeout(()=>this.run(e))):this.pending=!1}push(e){this.queue.push(e),this.pending||this.next()}kill(){this.queue.length=0}length(){return this.queue.length}}class jf{constructor(e,t,n){this.type="",this.parameters={lazy:{type:"boolean"},clipNear:{type:"range",step:1,max:100,min:0,buffer:!0},clipRadius:{type:"number",precision:1,max:1e3,min:0,buffer:!0},clipCenter:{type:"vector3",precision:1,buffer:!0},flatShaded:{type:"boolean",buffer:!0},opacity:{type:"range",step:.01,max:1,min:0,buffer:!0},depthWrite:{type:"boolean",buffer:!0},side:{type:"select",buffer:!0,options:{front:"front",back:"back",double:"double"}},wireframe:{type:"boolean",buffer:!0},colorData:{type:"hidden",update:"color"},colorScheme:{type:"select",update:"color",options:{}},colorScale:{type:"select",update:"color",options:Bn.getScales()},colorReverse:{type:"boolean",update:"color"},colorValue:{type:"color",update:"color"},colorDomain:{type:"hidden",update:"color"},colorMode:{type:"select",update:"color",options:Bn.getModes()},roughness:{type:"range",step:.01,max:1,min:0,buffer:!0},metalness:{type:"range",step:.01,max:1,min:0,buffer:!0},diffuse:{type:"color",buffer:!0},diffuseInterior:{type:"boolean",buffer:!0},useInteriorColor:{type:"boolean",buffer:!0},interiorColor:{type:"color",buffer:!0},interiorDarkening:{type:"range",step:.01,max:1,min:0,buffer:!0},matrix:{type:"hidden",buffer:!0},disablePicking:{type:"boolean",rebuild:!0}},this.viewer=t,this.tasks=new NM,this.queue=new mae(this.make.bind(this)),this.bufferList=[],this.parameters.colorScheme&&(this.parameters.colorScheme.options=Bn.getSchemes()),this.toBePrepared=!1}init(e){const t=e||{};this.clipNear=W(t.clipNear,0),this.clipRadius=W(t.clipRadius,0),this.clipCenter=W(t.clipCenter,new ne),this.flatShaded=W(t.flatShaded,!1),this.side=W(t.side,"double"),this.opacity=W(t.opacity,1),this.depthWrite=W(t.depthWrite,!0),this.wireframe=W(t.wireframe,!1),this.setColor(t.color,t),this.colorData=W(t.colorData,void 0),this.colorScheme=W(t.colorScheme,"uniform"),this.colorScale=W(t.colorScale,""),this.colorReverse=W(t.colorReverse,!1),this.colorValue=W(t.colorValue,9474192),this.colorDomain=W(t.colorDomain,void 0),this.colorMode=W(t.colorMode,"hcl"),this.visible=W(t.visible,!0),this.quality=W(t.quality,void 0),this.roughness=W(t.roughness,.4),this.metalness=W(t.metalness,0),this.diffuse=W(t.diffuse,16777215),this.diffuseInterior=W(t.diffuseInterior,!1),this.useInteriorColor=W(t.useInteriorColor,!1),this.interiorColor=W(t.interiorColor,2236962),this.interiorDarkening=W(t.interiorDarkening,0),this.lazy=W(t.lazy,!1),this.lazyProps={build:!1,bufferParams:{},what:{}},this.matrix=W(t.matrix,new xt),this.disablePicking=W(t.disablePicking,!1);const n=this.parameters;n.sphereDetail===!0&&(n.sphereDetail={type:"integer",max:3,min:0,rebuild:"impostor"}),n.radialSegments===!0&&(n.radialSegments={type:"integer",max:25,min:5,rebuild:"impostor"}),n.openEnded===!0&&(n.openEnded={type:"boolean",rebuild:"impostor",buffer:!0}),n.disableImpostor===!0&&(n.disableImpostor={type:"boolean",rebuild:!0}),t.quality==="low"?(n.sphereDetail&&(this.sphereDetail=0),n.radialSegments&&(this.radialSegments=5)):t.quality==="medium"?(n.sphereDetail&&(this.sphereDetail=1),n.radialSegments&&(this.radialSegments=10)):t.quality==="high"?(n.sphereDetail&&(this.sphereDetail=2),n.radialSegments&&(this.radialSegments=20)):(n.sphereDetail&&(this.sphereDetail=W(t.sphereDetail,1)),n.radialSegments&&(this.radialSegments=W(t.radialSegments,10))),n.openEnded&&(this.openEnded=W(t.openEnded,!0)),n.disableImpostor&&(this.disableImpostor=W(t.disableImpostor,!1))}getColorParams(e){return Object.assign({data:this.colorData,scheme:this.colorScheme,scale:this.colorScale,reverse:this.colorReverse,value:this.colorValue,domain:this.colorDomain,mode:this.colorMode,colorSpace:this.colorSpace},e)}getBufferParams(e={}){return Object.assign({clipNear:this.clipNear,clipRadius:this.clipRadius,clipCenter:this.clipCenter,flatShaded:this.flatShaded,opacity:this.opacity,depthWrite:this.depthWrite,side:this.side,wireframe:this.wireframe,roughness:this.roughness,metalness:this.metalness,diffuse:this.diffuse,diffuseInterior:this.diffuseInterior,useInteriorColor:this.useInteriorColor,interiorColor:this.interiorColor,interiorDarkening:this.interiorDarkening,matrix:this.matrix,disablePicking:this.disablePicking},e)}setColor(e,t){const n=Object.keys(Bn.getSchemes());if(typeof e=="string"&&n.includes(e.toLowerCase()))t?t.colorScheme=e:this.setParameters({colorScheme:e});else if(e!==void 0){let r=new $t(e).getHex();t?(t.colorScheme="uniform",t.colorValue=r):this.setParameters({colorScheme:"uniform",colorValue:r})}return this}prepare(e){}create(){}update(e){this.build()}build(e){if(!this.lazy||this.visible&&this.opacity){if(!this.toBePrepared)return this.tasks.increment(),void this.make();this.queue.length()>0?(this.tasks.change(1-this.queue.length()),this.queue.kill()):this.tasks.increment(),this.queue.push(e||!1)}else this.lazyProps.build=!0}make(e,t){ot&&He.time("Representation.make "+this.type);const n=()=>{e?(this.update(e),this.viewer.requestRender(),this.tasks.decrement(),t&&t()):(this.clear(),this.create(),this.manualAttach||this.disposed||(ot&&He.time("Representation.attach "+this.type),this.attach(()=>{ot&&He.timeEnd("Representation.attach "+this.type),this.tasks.decrement(),t&&t()}))),ot&&He.timeEnd("Representation.make "+this.type)};this.toBePrepared?this.prepare(n):n()}attach(e){this.setVisibility(this.visible),e()}setVisibility(e,t){if(this.visible=e,this.visible&&this.opacity){const n=this.lazyProps,r=n.bufferParams,s=n.what;if(n.build)return n.build=!1,this.build(),this;(Object.keys(r).length||Object.keys(s).length)&&(n.bufferParams={},n.what={},this.updateParameters(r,s))}return this.bufferList.forEach(function(n){n.setVisibility(e)}),t||this.viewer.requestRender(),this}setParameters(e,t={},n=!1){const r=e||{},s=this.parameters,a={};this.opacity||r.opacity===void 0||(this.lazyProps.build?(this.lazyProps.build=!1,n=!0):(Object.assign(a,this.lazyProps.bufferParams),Object.assign(t,this.lazyProps.what),this.lazyProps.bufferParams={},this.lazyProps.what={})),this.setColor(r.color,r);for(let o in r)r[o]!==void 0&&s[o]!=null&&(s[o].int&&(r[o]=parseInt(r[o])),s[o].float&&(r[o]=parseFloat(r[o])),r[o]!==this[o]||r[o].equals&&!r[o].equals(this[o]))&&(this[o]&&this[o].copy&&r[o].copy?this[o].copy(r[o]):this[o]&&this[o].set?this[o].set(r[o]):this[o]=r[o],s[o].buffer&&(s[o].buffer===!0?a[o]=r[o]:a[s[o].buffer]=r[o]),s[o].update&&(t[s[o].update]=!0),!s[o].rebuild||s[o].rebuild==="impostor"&&Ao&&!this.disableImpostor||(n=!0));return n?this.build():this.updateParameters(a,t),this}updateParameters(e={},t){if(this.lazy&&(!this.visible||!this.opacity)&&e.hasOwnProperty("opacity")===!1)return Object.assign(this.lazyProps.bufferParams,e),void Object.assign(this.lazyProps.what,t);this.bufferList.forEach(function(n){n.setParameters(e)}),Object.keys(t).length&&this.update(t),this.viewer.requestRender()}getParameters(){const e={lazy:this.lazy,visible:this.visible,quality:this.quality};return Object.keys(this.parameters).forEach(t=>{this.parameters[t]!==null&&(e[t]=this[t])}),e}clear(){this.bufferList.forEach(e=>{this.viewer.remove(e),e.dispose()}),this.bufferList.length=0,this.viewer.requestRender()}dispose(){this.disposed=!0,this.queue.kill(),this.tasks.dispose(),this.clear()}}class GM{constructor(e){this.pending=0,this.postCount=0,this.onmessageDict={},this.onerrorDict={},this.name=e,this.blobUrl=window.URL.createObjectURL(tf.get(e)),this.worker=new Worker(this.blobUrl),tf.activeWorkerCount+=1,this.worker.onmessage=t=>{this.pending-=1;const n=t.data.__postId;ot&&He.timeEnd("Worker.postMessage "+e+" #"+n);const r=this.onmessageDict[n];r&&r.call(this.worker,t),delete this.onmessageDict[n],delete this.onerrorDict[n]},this.worker.onerror=t=>{if(this.pending-=1,t.data){const n=t.data.__postId,r=this.onerrorDict[n];r?r.call(this.worker,t):He.error("Worker.onerror",n,e,t),delete this.onmessageDict[n],delete this.onerrorDict[n]}else He.error("Worker.onerror",e,t)}}post(e={},t,n,r){this.onmessageDict[this.postCount]=n,this.onerrorDict[this.postCount]=r,e.__name=this.name,e.__postId=this.postCount,e.__debug=ot,ot&&He.time(`Worker.postMessage ${this.name} #${this.postCount}`);try{this.worker.postMessage(e,t)}catch(s){He.error("worker.post:",s),this.worker.postMessage(e)}return this.pending+=1,this.postCount+=1,this}terminate(){this.worker?(this.worker.terminate(),window.URL.revokeObjectURL(this.blobUrl),tf.activeWorkerCount-=1):He.log("no worker to terminate")}}class bE{constructor(e,t=2){this.pool=[],this.count=0,this.maxCount=Math.min(8,t),this.name=e}post(e={},t,n,r){const s=this.getNextWorker();return s?s.post(e,t,n,r):console.error("unable to get worker from pool"),this}terminate(){this.pool.forEach(function(e){e.terminate()})}getNextWorker(){let e,t=1/0;for(let n=0;n<this.maxCount;++n){if(n>=this.count){e=new GM(this.name),this.pool.push(e),this.count+=1;break}const r=this.pool[n];if(r.pending===0){e=r;break}r.pending<t&&(t=r.pending,e=r)}return e}}function EE(i){const e=i.length,t=e/3;let n=0,r=0,s=0;for(let a=0;a<e;a+=3)n+=i[a+0],r+=i[a+1],s+=i[a+2];return new ne(n/t,r/t,s/t)}function gc(i,e,t){return t?i.sub(t).projectOnVector(e).add(t):i.projectOnVector(e),i}function Bf(i){let e=1/0,t=1/0,n=1/0,r=-1/0,s=-1/0,a=-1/0;for(let o=0,A=i.length;o<A;o+=3){const c=i[o],l=i[o+1],u=i[o+2];c<e&&(e=c),l<t&&(t=l),u<n&&(n=u),c>r&&(r=c),l>s&&(s=l),u>a&&(a=u)}return[hn([e,t,n]),hn([r,s,a])]}function $g(i,e){for(let t=0,n=e.length;t<n;t+=3){const r=e[t],s=e[t+1],a=e[t+2];e[t]=i[0]*r+i[4]*s+i[8]*a+i[12],e[t+1]=i[1]*r+i[5]*s+i[9]*a+i[13],e[t+2]=i[2]*r+i[6]*s+i[10]*a+i[14]}}function l4(i,e){for(let t=0,n=e.length;t<n;t+=3){const r=e[t],s=e[t+1],a=e[t+2];e[t]=i[0]*r+i[3]*s+i[6]*a,e[t+1]=i[1]*r+i[4]*s+i[7]*a,e[t+2]=i[2]*r+i[5]*s+i[8]*a}}function FM(i){for(let e=0,t=i.length;e<t;e+=3){const n=i[e],r=i[e+1],s=i[e+2],a=n*n+r*r+s*s;if(a>0){const o=1/Math.sqrt(a);i[e]=n*o,i[e+1]=r*o,i[e+2]=s*o}}}function hn(i){return new Float32Array(i||3)}function ds(i,e,t){const n=e[0],r=e[1],s=e[2],a=t[0],o=t[1],A=t[2];i[0]=r*A-s*o,i[1]=s*a-n*A,i[2]=n*o-r*a}function ns(i,e){return i[0]*e[0]+i[1]*e[1]+i[2]*e[2]}function xi(i,e,t){i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2]}function Ta(i,e,t){i[0]=e[0]+t[0],i[1]=e[1]+t[1],i[2]=e[2]+t[2]}function Qr(i,e,t=0){i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2]}function gn(i,e,t=0){e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2]}function IM(i){return i[0]*i[0]+i[1]*i[1]+i[2]*i[2]}function A0(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2])}function Ll(i,e,t){ti(i,e,1/t)}function ti(i,e,t){i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t}function Ni(i,e){const t=IM(e);t==0?(i[0]=e[0],i[1]=e[1],i[2]=e[2]):ti(i,e,1/Math.sqrt(t))}function UM(i,e,t){i[0]=e[0]-t,i[1]=e[1]-t,i[2]=e[2]-t}function X1(i,e,t){i[0]=e[0]+t,i[1]=e[1]+t,i[2]=e[2]+t}function _E(i,e){i[0]=Math.floor(e[0]),i[1]=Math.floor(e[1]),i[2]=Math.floor(e[2])}function Id(i,e){i[0]=Math.ceil(e[0]),i[1]=Math.ceil(e[1]),i[2]=Math.ceil(e[2])}function Wg(i,e){i[0]=-e[0],i[1]=-e[1],i[2]=-e[2]}function gae(i,e){const t=i[0],n=i[1],r=i[2],s=e[0],a=e[1],o=e[2],A=n*o-r*a,c=r*s-t*o,l=t*a-n*s,u=Math.sqrt(A*A+c*c+l*l),d=t*s+n*a+r*o;return Math.atan2(u,d)}function yae(i,e=9){const t=Math.floor(e/2),n=i.position1.length/3,r=3*(t*n),s=1/e,a=Kg(i.position1,i.position2),o=new Float32Array(r),A=new Float32Array(r),c=new ne;for(let h=0;h<n;++h){const m=3*h;c.set(a[m],a[m+1],a[m+2]);const y=i.position1[m],g=i.position1[m+1],E=i.position1[m+2];for(let R=0;R<t;++R){const p=t*m+3*R,w=s*(2*R+1),v=s*(2*R+2);o[p]=y+c.x*w,o[p+1]=g+c.y*w,o[p+2]=E+c.z*w,A[p]=y+c.x*v,A[p+1]=g+c.y*v,A[p+2]=E+c.z*v}}const l=co(o,A),u=function(h,m){const y=h.length/3,g=new Float32Array(y*m*3);for(let E=0;E<y;++E){const R=3*E,p=E*m*3,w=h[R+0],v=h[R+1],_=h[R+2];for(let x=0;x<m;++x){const C=p+3*x;g[C+0]=w,g[C+1]=v,g[C+2]=_}}return g}(i.color,t),d={position:l,position1:o,position2:A,color:u,color2:u};return i.radius&&(d.radius=q2(i.radius,t)),i.picking&&i.picking.array&&(i.picking.array=q2(i.picking.array,t),d.picking=i.picking),i.primitiveId&&(d.primitiveId=q2(i.primitiveId,t)),d}function PM(i,e=.1){const t=Kg(i.position1,i.position2),n=[],r=[],s=[],a=i.radius?[]:void 0,o=i.picking?[]:void 0,A=i.primitiveId?[]:void 0,c=new ne,l=i.position1.length/3;let u=0;for(let E=0;E<l;++E){const R=3*E;c.set(t[R],t[R+1],t[R+2]);const p=c.length()/e,w=Math.floor(p/2),v=1/p,_=i.position1[R],x=i.position1[R+1],C=i.position1[R+2];for(let B=0;B<w;++B){const G=3*u+3*B,I=v*(2*B+1),N=v*(2*B+2);n[G]=_+c.x*I,n[G+1]=x+c.y*I,n[G+2]=C+c.z*I,r[G]=_+c.x*N,r[G+1]=x+c.y*N,r[G+2]=C+c.z*N,i.color&&(s[G]=i.color[R],s[G+1]=i.color[R+1],s[G+2]=i.color[R+2]),a&&(a[u+B]=i.radius[E]),o&&(i.picking.array?o[u+B]=i.picking.array[E]:o[u+B]=E),A&&(A[u+B]=i.primitiveId[E])}u+=w}const d=new Float32Array(n),h=new Float32Array(r),m=co(d,h),y=new Float32Array(s),g={position:m,position1:d,position2:h,color:y,color2:y};return a&&(g.radius=new Float32Array(a)),o&&i.picking&&(i.picking.array=new Float32Array(o),g.picking=i.picking),A&&(g.primitiveId=new Float32Array(A)),g}function vE(i,e=.1){const t=Kg(i.position1,i.position2),n=[],r=[],s=[],a=i.radius?[]:void 0,o=i.picking?[]:void 0,A=i.primitiveId?[]:void 0,c=new ne,l=i.position1.length/3;let u=e,d=!0,h=0,m=0,y=0;for(let v=0;v<l;++v){const _=3*v,x=i.position1[_],C=i.position1[_+1],B=i.position1[_+2];c.set(t[_],t[_+1],t[_+2]);const G=c.length();d&&(n[m]=x,n[m+1]=C,n[m+2]=B);let I=u;const N=1/G;for(;I<G;){const T=d?r:n;T[m]=x+c.x*I*N,T[m+1]=C+c.y*I*N,T[m+2]=B+c.z*I*N,d&&(h++,m=3*h),d=!d,u=e,I+=e}d&&(r[m]=i.position2[_],r[m+1]=i.position2[_+1],r[m+2]=i.position2[_+2],h++,m=3*h),u=I-G;for(let T=y;T<h;T++){if(i.color){const M=3*T;s[M]=i.color[_],s[M+1]=i.color[_+1],s[M+2]=i.color[_+2]}a&&(a[T]=i.radius[v]),o&&(i.picking.array?o[T]=i.picking.array[v]:o[T]=v),A&&(A[T]=i.primitiveId[v])}y=h}if(!d&&l>0){const v=3*h;r[v]=i.position2[3*l-3],r[v+1]=i.position2[3*l-2],r[v+1]=i.position2[3*l-1]}const g=new Float32Array(n),E=new Float32Array(r),R=co(g,E),p=new Float32Array(s),w={position:R,position1:g,position2:E,color:p,color2:p};return a&&(w.radius=new Float32Array(a)),o&&i.picking&&(i.picking.array=new Float32Array(o),w.picking=i.picking),A&&(w.primitiveId=new Float32Array(A)),w}bE.prototype.constructor=bE,Bf.__deps=[hn],Ll.__deps=[ti],Ni.__deps=[ti,IM];const m0=new ne;class g0{static get Picker(){return Xs.get(this.type)}static get Buffer(){return Fs.get(this.type)}static getShapeKey(e){return this.type+e[0].toUpperCase()+e.substr(1)}static expandBoundingBox(e,t){}static valueToShape(e,t,n){const r=e._primitiveData[this.getShapeKey(t)];switch(this.fields[t]){case"v3":case"c":(function(s,a){s.toArray!==void 0?s=s.toArray():s.x!==void 0?s=[s.x,s.y,s.z]:s.r!==void 0&&(s=[s.r,s.g,s.b]),a.push.apply(a,s)})(n,r);break;default:r.push(n)}}static objectToShape(e,t){Object.keys(this.fields).forEach(n=>{this.valueToShape(e,n,t[n])}),this.valueToShape(e,"name",t.name),this.expandBoundingBox(e.boundingBox,t)}static valueFromShape(e,t,n){const r=e._primitiveData[this.getShapeKey(n)];switch(this.fields[n]){case"v3":return new ne().fromArray(r,3*t);case"c":return new $t().fromArray(r,3*t);default:return r[t]}}static objectFromShape(e,t){let n=this.valueFromShape(e,t,"name");n===void 0&&(n=`${this.type}: ${t} (${e.name})`);const r={shape:e,name:n};return Object.keys(this.fields).forEach(s=>{r[s]=this.valueFromShape(e,t,s)}),r}static arrayFromShape(e,t){const n=e._primitiveData[this.getShapeKey(t)];return this.fields[t]==="s"?n:new Float32Array(n)}static dataFromShape(e){const t={};return this.Picker&&(t.picking=new this.Picker(e)),Object.keys(this.fields).forEach(n=>{t[n]=this.arrayFromShape(e,n)}),t}static bufferFromShape(e,t){return new this.Buffer(this.dataFromShape(e),t)}}g0.type="",g0.fields={};class pu extends g0{static positionFromShape(e,t){return this.valueFromShape(e,t,"position")}static expandBoundingBox(e,t){e.expandByPoint(m0.fromArray(t.position))}}pu.type="sphere",pu.fields={position:"v3",color:"c",radius:"f"};class vc extends g0{static positionFromShape(e,t){return this.valueFromShape(e,t,"position")}static expandBoundingBox(e,t){e.expandByPoint(m0.fromArray(t.position))}}vc.type="box",vc.fields={position:"v3",color:"c",size:"f",heightAxis:"v3",depthAxis:"v3"};class qg extends vc{}qg.type="octahedron";class Yg extends vc{}Yg.type="tetrahedron";class xc extends g0{static positionFromShape(e,t){const n=this.valueFromShape(e,t,"position1"),r=this.valueFromShape(e,t,"position2");return n.add(r).multiplyScalar(.5)}static expandBoundingBox(e,t){e.expandByPoint(m0.fromArray(t.position1)),e.expandByPoint(m0.fromArray(t.position2))}static bufferFromShape(e,t={}){let n=this.dataFromShape(e);return this.type==="cylinder"&&t.dashedCylinder&&(n=PM(n)),new this.Buffer(n,t)}}xc.type="cylinder",xc.fields={position1:"v3",position2:"v3",color:"c",radius:"f"};class Xg extends xc{}Xg.type="arrow";class jg extends xc{}jg.type="cone";class mu extends pu{}mu.type="ellipsoid",mu.fields={position:"v3",color:"c",radius:"f",majorAxis:"v3",minorAxis:"v3"};class Zg extends mu{}Zg.type="torus";class Km extends g0{static positionFromShape(e,t){return this.valueFromShape(e,t,"position")}static expandBoundingBox(e,t){e.expandByPoint(m0.fromArray(t.position))}}Km.type="text",Km.fields={position:"v3",color:"c",size:"f",text:"s"};class Cf extends g0{static positionFromShape(e,t){return this.valueFromShape(e,t,"position")}static expandBoundingBox(e,t){e.expandByPoint(m0.fromArray(t.position))}}Cf.type="point",Cf.fields={position:"v3",color:"c"};class Sf extends g0{static positionFromShape(e,t){const n=this.valueFromShape(e,t,"position1"),r=this.valueFromShape(e,t,"position2");return n.add(r).multiplyScalar(.5)}static expandBoundingBox(e,t){e.expandByPoint(m0.fromArray(t.position1)),e.expandByPoint(m0.fromArray(t.position2))}}Sf.type="wideline",Sf.fields={position1:"v3",position2:"v3",color:"c"};class Nf{constructor(e,t){this.exp=3;const n=t||function(g){const{x:E,y:R,z:p}=g,w=new Gi,v=E.length,{min:_,max:x}=w;for(let C=0;C<v;C++)_.x=Math.min(E[C],_.x),_.y=Math.min(R[C],_.y),_.z=Math.min(p[C],_.z),x.x=Math.max(E[C],x.x),x.y=Math.max(R[C],x.y),x.z=Math.max(p[C],x.z);return w}(e);this.minX=n.min.x,this.minY=n.min.y,this.minZ=n.min.z,this.boundX=1+(n.max.x-this.minX>>this.exp),this.boundY=1+(n.max.y-this.minY>>this.exp),this.boundZ=1+(n.max.z-this.minZ>>this.exp);const r=this.boundX*this.boundY*this.boundZ,s=e.count!==void 0?e.count:e.x.length,a=e.x,o=e.y,A=e.z;let c=0;const l=new Uint32Array(r),u=new Int32Array(s);for(let g=0;g<s;++g){const E=a[g]-this.minX>>this.exp,R=o[g]-this.minY>>this.exp,p=A[g]-this.minZ>>this.exp,w=(E*this.boundY+R)*this.boundZ+p;(l[w]+=1)===1&&(c+=1),u[g]=w}const d=new Uint16Array(c);for(let g=0,E=0;g<r;++g){const R=l[g];R>0&&(l[g]=E+1,d[E]=R,E+=1)}const h=new Uint32Array(c);for(let g=1;g<c;++g)h[g]+=h[g-1]+d[g-1];const m=new Uint16Array(c),y=new Int32Array(s);for(let g=0;g<s;++g){const E=l[u[g]];if(E>0){const R=E-1;y[h[R]+m[R]]=g,m[R]+=1}}this.grid=l,this.bucketCount=d,this.bucketOffset=h,this.bucketArray=y,this.xArray=a,this.yArray=o,this.zArray=A}within(e,t,n,r){const s=[];return this.eachWithin(e,t,n,r,a=>s.push(a)),s}eachWithin(e,t,n,r,s){const a=r*r,o=Math.max(0,e-r-this.minX>>this.exp),A=Math.max(0,t-r-this.minY>>this.exp),c=Math.max(0,n-r-this.minZ>>this.exp),l=Math.min(this.boundX,1+(e+r-this.minX>>this.exp)),u=Math.min(this.boundY,1+(t+r-this.minY>>this.exp)),d=Math.min(this.boundZ,1+(n+r-this.minZ>>this.exp));for(let h=o;h<l;++h)for(let m=A;m<u;++m)for(let y=c;y<d;++y){const g=(h*this.boundY+m)*this.boundZ+y,E=this.grid[g];if(E>0){const R=E-1,p=this.bucketOffset[R],w=p+this.bucketCount[R];for(let v=p;v<w;++v){const _=this.bucketArray[v],x=this.xArray[_]-e,C=this.yArray[_]-t,B=this.zArray[_]-n,G=x*x+C*C+B*B;G<=a&&s(_,G)}}}}}class Su{constructor(e=0){this._fields=this._defaultFields,this._init(0)}get _defaultFields(){return[]}_init(e){this.length=e,this.count=0;for(let t=0,n=this._fields.length;t<n;++t){const[r,s,a]=this._fields[t];this._initField(r,s,a)}}_initField(e,t,n){this[e]=bM(n,this.length*t)}addField(e,t,n){this._fields.push([e,t,n]),this._initField(e,t,n)}resize(e){this.length=Math.round(e||0),this.count=Math.min(this.count,this.length);for(let t=0,n=this._fields.length;t<n;++t){const r=this._fields[t][0],s=this._fields[t][1],a=this.length*s,o=new this[r].constructor(a);this[r].length>a?o.set(this[r].subarray(0,a)):o.set(this[r]),this[r]=o}}growIfFull(){if(this.count>=this.length){const e=Math.round(1.5*this.length);this.resize(Math.max(256,e))}}copyFrom(e,t,n,r){for(let s=0,a=this._fields.length;s<a;++s){const o=this._fields[s][0],A=this._fields[s][1],c=this[o],l=e[o];for(let u=0;u<r;++u){const d=A*(t+u),h=A*(n+u);for(let m=0;m<A;++m)c[d+m]=l[h+m]}}}copyWithin(e,t,n){for(let r=0,s=this._fields.length;r<s;++r){const a=this._fields[r][0],o=this._fields[r][1],A=this[a];for(let c=0;c<n;++c){const l=o*(e+c),u=o*(t+c);for(let d=0;d<o;++d)A[l+d]=A[u+d]}}}sort(e){He.time("Store.sort");const t=this,n=new this.constructor(1);(function r(s,a){if(s<a){let c=Math.floor((s+a)/2),l=s,u=a;do{for(;e(l,c)<0;)l+=1;for(;e(u,c)>0;)u-=1;l<=u&&(l===c?c=u:u===c&&(c=l),(o=l)!==(A=u)&&(n.copyFrom(t,0,o,1),t.copyWithin(o,A,1),t.copyFrom(n,A,0,1)),l+=1,u-=1)}while(l<=u);r(s,u),r(l,a)}var o,A})(0,this.count-1),He.timeEnd("Store.sort")}clear(){this.count=0}dispose(){for(let e=0,t=this._fields.length;e<t;++e)delete this[this._fields[e][0]]}}class wae extends Su{get _defaultFields(){return[["index1",1,"int32"],["index2",1,"int32"],["type",1,"int8"]]}addContact(e,t,n){this.growIfFull();const r=this.count;e<t?(this.index1[r]=e,this.index2[r]=t):(this.index2[r]=e,this.index1[r]=t),n&&(this.type[r]=n),this.count+=1}}function i1(i){return 16843009*((i=(858993459&(i-=i>>>1&1431655765))+(i>>>2&858993459))+(i>>>4)&252645135)>>>24}class Ji{constructor(e,t){this.length=e,this._words=new Uint32Array(e+32>>>5),t===!0&&this.setAll()}get(e){return!!(this._words[e>>>5]&1<<e)}set(e){this._words[e>>>5]|=1<<e}clear(e){this._words[e>>>5]&=~(1<<e)}flip(e){this._words[e>>>5]^=1<<e}_assignRange(e,t,n){if(t<e)return;const r=this._words,s=n===!0?4294967295:0,a=e>>>5,o=t>>>5;for(let l=a+1;l<o;++l)r[l]=s;const A=a<<5,c=o<<5;if(n===!0)if(t-e<32)for(let l=e,u=t+1;l<u;++l)r[l>>>5]|=1<<l;else{for(let l=e,u=A+32;l<u;++l)r[l>>>5]|=1<<l;for(let l=c,u=t+1;l<u;++l)r[l>>>5]|=1<<l}else if(t-e<32)for(let l=e,u=t+1;l<u;++l)r[l>>>5]&=~(1<<l);else{for(let l=e,u=A+32;l<u;++l)r[l>>>5]&=~(1<<l);for(let l=c,u=t+1;l<u;++l)r[l>>>5]&=~(1<<l)}return this}setRange(e,t){return this._assignRange(e,t,!0)}clearRange(e,t){return this._assignRange(e,t,!1)}setBits(...e){const t=this._words,n=e.length;for(let r=0;r<n;++r){const s=e[r];t[s>>>5]|=1<<s}return this}clearBits(...e){const t=this._words,n=e.length;for(let r=0;r<n;++r){const s=e[r];t[s>>>5]&=~(1<<s)}return this}setAll(){return this._assignRange(0,this.length-1,!0)}clearAll(){return this._assignRange(0,this.length-1,!1)}flipAll(){const e=this._words.length,t=this._words,n=32-this.length%32;for(let r=0;r<e-1;++r)t[r]=~t[r];return t[e-1]=~(t[e-1]<<n)>>>n,this}_isRangeValue(e,t,n){if(t<e)return;const r=this._words,s=n===!0?4294967295:0,a=e>>>5,o=t>>>5;for(let A=a+1;A<o;++A)if(r[A]!==s)return!1;if(t-e<32){for(let A=e,c=t+1;A<c;++A)if(!!(r[A>>>5]&1<<A)!==n)return!1}else{const A=o<<5;for(let c=e,l=(a<<5)+32;c<l;++c)if(!!(r[c>>>5]&1<<c)!==n)return!1;for(let c=A,l=t+1;c<l;++c)if(!!(r[c>>>5]&1<<c)!==n)return!1}return!0}isRangeSet(e,t){return this._isRangeValue(e,t,!0)}isRangeClear(e,t){return this._isRangeValue(e,t,!1)}isAllSet(){return this._isRangeValue(0,this.length-1,!0)}isAllClear(){return this._isRangeValue(0,this.length-1,!1)}isSet(...e){const t=this._words,n=e.length;for(let r=0;r<n;++r){const s=e[r];if(!(t[s>>>5]&1<<s))return!1}return!0}isClear(...e){const t=this._words,n=e.length;for(let r=0;r<n;++r){const s=e[r];if(t[s>>>5]&1<<s)return!1}return!0}isEqualTo(e){const t=this._words,n=e._words,r=Math.min(t.length,n.length);for(let s=0;s<r;++s)if(t[s]!==n[s])return!1;return!0}getSize(){const e=this._words.length,t=this._words;let n=0;for(let r=0;r<e;++r)n+=i1(t[r]);return n}difference(e){const t=this._words,n=e._words,r=Math.min(t.length,n.length);for(let s=0;s<r;++s)t[s]=t[s]&~n[s];for(let s=t.length;s<r;++s)t[s]=0;return this}union(e){const t=this._words,n=e._words,r=Math.min(t.length,n.length);for(let s=0;s<r;++s)t[s]|=n[s];for(let s=t.length;s<r;++s)t[s]=0;return this}intersection(e){const t=this._words,n=e._words,r=Math.min(t.length,n.length);for(let s=0;s<r;++s)t[s]&=n[s];for(let s=t.length;s<r;++s)t[s]=0;return this}intersects(e){const t=this._words,n=e._words,r=Math.min(t.length,n.length);for(let s=0;s<r;++s)if(t[s]&n[s])return!0;return!1}getIntersectionSize(e){const t=this._words,n=e._words,r=Math.min(t.length,n.length);let s=0;for(let a=0;a<r;++a)s+=i1(t[a]&n[a]);return s}makeIntersection(e){const t=this._words,n=e._words,r=Math.min(t.length,n.length),s=new Uint32Array(r),a=Object.create(Ji.prototype);a._words=s,a.length=Math.min(this.length,e.length);for(let o=0;o<r;++o)s[o]=t[o]&n[o];return a}forEach(e){const t=this._words.length,n=this._words;let r=0;for(let s=0;s<t;++s){let a=n[s];for(;a!==0;){const o=a&-a;e((s<<5)+i1(o-1),r),a^=o,++r}}}toArray(){const e=this._words,t=new Array(this.getSize()),n=this._words.length;let r=0;for(let s=0;s<n;++s){let a=e[s];for(;a!==0;){const o=a&-a;t[r++]=(s<<5)+i1(o-1),a^=o}}return t}toString(){return"{"+this.toArray().join(",")+"}"}toSeleString(){const e=this.toArray().join(",");return e?"@"+e:"NONE"}clone(){const e=Object.create(Ji.prototype);return e.length=this.length,e._words=new Uint32Array(this._words),e}}function LM(i){const{edgeCount:e,nodeCount:t,nodeArray1:n,nodeArray2:r}=i,s=new Uint8Array(t),a=new Int32Array(t);for(let c=0;c<e;++c)s[n[c]]+=1,s[r[c]]+=1;for(let c=1;c<t;++c)a[c]+=a[c-1]+s[c-1];const o=2*e,A=new Int32Array(o);for(let c=0;c<o;++c)A[c]=-1;for(let c=0;c<e;++c){const l=n[c],u=r[c];let d=a[l];for(;A[d]!==-1&&d<o;)d+=1;A[d]=c;let h=a[u];for(;A[h]!==-1&&h<o;)h+=1;A[h]=c}return{countArray:s,offsetArray:a,indexArray:A}}function Ar(i=0,e=0){return{type:i,group:e,x:0,y:0,z:0,atomSet:[]}}function Oi(i,e){i.x+=e.x,i.y+=e.y,i.z+=e.z,i.atomSet.push(e.index)}function Qi(i,e){const t=e.atomSet.length;if(t>0){const{types:n,groups:r,centers:s,atomSets:a}=i;n.push(e.type),r.push(e.group),s.x.push(e.x/t),s.y.push(e.y/t),s.z.push(e.z/t),a.push(e.atomSet)}}const Rc=0,bae=["D-BETA-PEPTIDE, C-GAMMA LINKING","D-GAMMA-PEPTIDE, C-DELTA LINKING","D-PEPTIDE COOH CARBOXY TERMINUS","D-PEPTIDE NH3 AMINO TERMINUS","D-PEPTIDE LINKING","L-BETA-PEPTIDE, C-GAMMA LINKING","L-GAMMA-PEPTIDE, C-DELTA LINKING","L-PEPTIDE COOH CARBOXY TERMINUS","L-PEPTIDE NH3 AMINO TERMINUS","L-PEPTIDE LINKING","PEPTIDE LINKING","PEPTIDE-LIKE"],Eae=["RNA OH 3 PRIME TERMINUS","RNA OH 5 PRIME TERMINUS","RNA LINKING"],_ae=["DNA OH 3 PRIME TERMINUS","DNA OH 5 PRIME TERMINUS","DNA LINKING","L-DNA LINKING","L-RNA LINKING"],DM=["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","SACCHARIDE"],vae=["NON-POLYMER"].concat(["OTHER"],DM),kM=["h","g","i"],OM=["e","b"],QM=["s","t","l",""],HM={H:1,D:1,T:1,HE:2,LI:3,BE:4,B:5,C:6,N:7,O:8,F:9,NE:10,NA:11,MG:12,AL:13,SI:14,P:15,S:16,CL:17,AR:18,K:19,CA:20,SC:21,TI:22,V:23,CR:24,MN:25,FE:26,CO:27,NI:28,CU:29,ZN:30,GA:31,GE:32,AS:33,SE:34,BR:35,KR:36,RB:37,SR:38,Y:39,ZR:40,NB:41,MO:42,TC:43,RU:44,RH:45,PD:46,AG:47,CD:48,IN:49,SN:50,SB:51,TE:52,I:53,XE:54,CS:55,BA:56,LA:57,CE:58,PR:59,ND:60,PM:61,SM:62,EU:63,GD:64,TB:65,DY:66,HO:67,ER:68,TM:69,YB:70,LU:71,HF:72,TA:73,W:74,RE:75,OS:76,IR:77,PT:78,AU:79,HG:80,TL:81,PB:82,BI:83,PO:84,AT:85,RN:86,FR:87,RA:88,AC:89,TH:90,PA:91,U:92,NP:93,PU:94,AM:95,CM:96,BK:97,CF:98,ES:99,FM:100,MD:101,NO:102,LR:103,RF:104,DB:105,SG:106,BH:107,HS:108,MT:109,DS:110,RG:111,CN:112,NH:113,FL:114,MC:115,LV:116,TS:117,OG:118},xae={1:1.1,2:1.4,3:1.81,4:1.53,5:1.92,6:1.7,7:1.55,8:1.52,9:1.47,10:1.54,11:2.27,12:1.73,13:1.84,14:2.1,15:1.8,16:1.8,17:1.75,18:1.88,19:2.75,20:2.31,21:2.3,22:2.15,23:2.05,24:2.05,25:2.05,26:2.05,27:2,28:2,29:2,30:2.1,31:1.87,32:2.11,33:1.85,34:1.9,35:1.83,36:2.02,37:3.03,38:2.49,39:2.4,40:2.3,41:2.15,42:2.1,43:2.05,44:2.05,45:2,46:2.05,47:2.1,48:2.2,49:2.2,50:1.93,51:2.17,52:2.06,53:1.98,54:2.16,55:3.43,56:2.68,57:2.5,58:2.48,59:2.47,60:2.45,61:2.43,62:2.42,63:2.4,64:2.38,65:2.37,66:2.35,67:2.33,68:2.32,69:2.3,70:2.28,71:2.27,72:2.25,73:2.2,74:2.1,75:2.05,76:2,77:2,78:2.05,79:2.1,80:2.05,81:1.96,82:2.02,83:2.07,84:1.97,85:2.02,86:2.2,87:3.48,88:2.83,89:2,90:2.4,91:2,92:2.3,93:2,94:2,95:2,96:2,97:2,98:2,99:2,100:2,101:2,102:2,103:2,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:2,114:2,115:2,116:2,117:2,118:2},Rae={1:.31,2:.28,3:1.28,4:.96,5:.84,6:.76,7:.71,8:.66,9:.57,10:.58,11:1.66,12:1.41,13:1.21,14:1.11,15:1.07,16:1.05,17:1.02,18:1.06,19:2.03,20:1.76,21:1.7,22:1.6,23:1.53,24:1.39,25:1.39,26:1.32,27:1.26,28:1.24,29:1.32,30:1.22,31:1.22,32:1.2,33:1.19,34:1.2,35:1.2,36:1.16,37:2.2,38:1.95,39:1.9,40:1.75,41:1.64,42:1.54,43:1.47,44:1.46,45:1.42,46:1.39,47:1.45,48:1.44,49:1.42,50:1.39,51:1.39,52:1.38,53:1.39,54:1.4,55:2.44,56:2.15,57:2.07,58:2.04,59:2.03,60:2.01,61:1.99,62:1.98,63:1.98,64:1.96,65:1.94,66:1.92,67:1.92,68:1.89,69:1.9,70:1.87,71:1.87,72:1.75,73:1.7,74:1.62,75:1.51,76:1.44,77:1.41,78:1.36,79:1.36,80:1.32,81:1.45,82:1.46,83:1.48,84:1.4,85:1.5,86:1.5,87:2.6,88:2.21,89:2.15,90:2.06,91:2,92:1.96,93:1.9,94:1.87,95:1.8,96:1.69,97:1.6,98:1.6,99:1.6,100:1.6,101:1.6,102:1.6,103:1.6,104:1.6,105:1.6,106:1.6,107:1.6,108:1.6,109:1.6,110:1.6,111:1.6,112:1.6,113:1.6,114:1.6,115:1.6,116:1.6,117:1.6,118:1.6},R6={1:[1],2:[0],3:[1],4:[2],5:[3],6:[4],7:[3],8:[2],9:[1],10:[0],11:[1],12:[2],13:[6],14:[6],15:[3,5,7],16:[2,4,6],17:[1],18:[0],19:[1],20:[2],31:[3],32:[4],33:[3,5],34:[2,4,6],35:[1],36:[0],37:[1],38:[2],49:[3],50:[4],51:[3,5],52:[2],53:[1,2,5],54:[0,2],55:[1],56:[2],81:[3],82:[4],83:[3],84:[2],85:[1],86:[0],87:[1],88:[2]},Bae={1:1,2:2,3:1,4:2,5:3,6:4,7:5,8:6,9:7,10:8,11:1,12:2,13:3,14:4,15:5,16:6,17:7,18:8,19:1,20:2,21:3,22:4,23:5,24:6,25:7,26:8,27:9,28:10,29:11,30:2,31:3,32:4,33:5,34:6,35:7,36:8,37:1,38:2,39:3,40:4,41:5,42:6,43:7,44:8,45:9,46:10,47:11,48:2,49:3,50:4,51:5,52:6,53:7,54:8,55:1,56:2,57:3,58:4,59:3,60:4,61:5,62:6,63:7,64:8,65:9,66:10,67:11,68:12,69:13,70:14,71:15,72:4,73:5,74:6,75:7,76:8,77:9,78:10,79:11,80:2,81:3,82:4,83:5,84:6,85:7,86:8,87:1,88:2,89:3,90:4,91:3,92:4,93:5,94:6,95:7,96:8,97:9,98:10,99:11,100:12,101:13,102:14,103:15,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:3,114:4,115:5,116:6,117:7,118:8},B6={ALA:[.17,.5,.33],ARG:[.81,1.81,1],ASN:[.42,.85,.43],ASP:[1.23,3.64,2.41],ASH:[-.07,.43,.5],CYS:[-.24,-.02,.22],GLN:[.58,.77,.19],GLU:[2.02,3.63,1.61],GLH:[-.01,.11,.12],GLY:[.01,1.15,1.14],HIS:[.17,.11,-.06],ILE:[-.31,-1.12,-.81],LEU:[-.56,-1.25,-.69],LYS:[.99,2.8,1.81],MET:[-.23,-.67,-.44],PHE:[-1.13,-1.71,-.58],PRO:[.45,.14,-.31],SER:[.13,.46,.33],THR:[.14,.25,.11],TRP:[-1.85,-2.09,-.24],TYR:[-.94,-.71,.23],VAL:[.07,-.46,-.53]},Cae=[0,0,0],$m={HIS:"H",ARG:"R",LYS:"K",ILE:"I",PHE:"F",LEU:"L",TRP:"W",ALA:"A",MET:"M",PRO:"P",CYS:"C",ASN:"N",VAL:"V",GLY:"G",SER:"S",GLN:"Q",TYR:"Y",ASP:"D",GLU:"E",THR:"T",SEC:"U",PYL:"O"},Wl=Object.keys($m),zM=["A","C","T","G","U","I"],VM=["DA","DC","DT","DG","DU","DI"],Sae=["A","G","I","DA","DG","DI"],nf=zM.concat(VM),Wm=["SOL","WAT","HOH","H2O","W","DOD","D3O","TIP3","TIP4","SPC"],Nae=["118","119","1AL","1CU","2FK","2HP","2OF","3CO","3MT","3NI","3OF","3P8","4MO","4PU","543","6MO","ACT","AG","AL","ALF","AM","ATH","AU","AU3","AUC","AZI","BA","BCT","BEF","BF4","BO4","BR","BS3","BSY","CA","CAC","CD","CD1","CD3","CD5","CE","CHT","CL","CO","CO3","CO5","CON","CR","CS","CSB","CU","CU1","CU3","CUA","CUZ","CYN","DME","DMI","DSC","DTI","DY","E4N","EDR","EMC","ER3","EU","EU3","F","FE","FE2","FPO","GA","GD3","GEP","HAI","HG","HGC","IN","IOD","IR","IR3","IRI","IUM","K","KO4","LA","LCO","LCP","LI","LU","MAC","MG","MH2","MH3","MLI","MLT","MMC","MN","MN3","MN5","MN6","MO1","MO2","MO3","MO4","MO5","MO6","MOO","MOS","MOW","MW1","MW2","MW3","NA","NA2","NA5","NA6","NAO","NAW","NCO","NET","NH4","NI","NI1","NI2","NI3","NO2","NO3","NRU","O4M","OAA","OC1","OC2","OC3","OC4","OC5","OC6","OC7","OC8","OCL","OCM","OCN","OCO","OF1","OF2","OF3","OH","OS","OS4","OXL","PB","PBM","PD","PDV","PER","PI","PO3","PO4","PR","PT","PT4","PTN","RB","RH3","RHD","RU","SB","SCN","SE4","SEK","SM","SMO","SO3","SO4","SR","T1A","TB","TBA","TCN","TEA","TH","THE","TL","TMA","TRA","UNX","V","VN3","VO4","W","WO5","Y1","YB","YB2","YH","YT3","ZCM","ZN","ZN2","ZN3","ZNO","ZO3","OHX"],Mae=["045","0AT","0BD","0MK","0NZ","0TS","0V4","0XY","0YT","10M","147","149","14T","15L","16G","18T","18Y","1AR","1BW","1GL","1GN","1JB","1LL","1NA","1S3","26M","26Q","26R","26V","26W","26Y","27C","289","291","293","2DG","2F8","2FG","2FL","2FP","2GL","2M4","2M5","32O","34V","3CM","3DO","3DY","3FM","3LR","3MF","3MG","3SA","3ZW","46D","46M","46Z","48Z","4CQ","4GC","4NN","50A","5DI","5GF","5MM","5RP","5SA","5SP","64K","6PG","6SA","7JZ","7SA","A1Q","A2G","AAB","AAL","AAO","ABC","ABD","ABE","ABF","ABL","ACG","ACI","ACR","ACX","ADA","ADG","ADR","AF1","AFD","AFL","AFO","AFP","AFR","AGC","AGH","AGL","AHR","AIG","ALL","ALX","AMU","AOG","AOS","ARA","ARB","ARE","ARI","ASG","ASO","AXP","AXR","B0D","B16","B2G","B4G","B6D","B8D","B9D","BBK","BCD","BDG","BDP","BDR","BEM","BFP","BGC","BGL","BGP","BGS","BHG","BMA","BMX","BNG","BNX","BOG","BRI","BXF","BXP","BXX","BXY","C3X","C4X","C5X","CAP","CBI","CBK","CBS","CDR","CEG","CGF","CHO","CR1","CR6","CRA","CT3","CTO","CTR","CTT","D6G","DAF","DAG","DDA","DDB","DDL","DEL","DFR","DFX","DG0","DGC","DGD","DGM","DGS","DIG","DLF","DLG","DMU","DNO","DOM","DP5","DQQ","DQR","DR2","DR3","DR4","DRI","DSR","DT6","DVC","E4P","E5G","EAG","EBG","EBQ","EGA","EJT","EPG","ERE","ERI","F1P","F1X","F6P","FBP","FCA","FCB","FCT","FDP","FDQ","FFC","FIX","FMO","FRU","FSI","FU4","FUB","FUC","FUD","FUL","FXP","G16","G1P","G2F","G3I","G4D","G4S","G6D","G6P","G6S","GAC","GAD","GAL","GC1","GC4","GCD","GCN","GCO","GCS","GCT","GCU","GCV","GCW","GCX","GE1","GFG","GFP","GIV","GL0","GL2","GL5","GL6","GL7","GL9","GLA","GLB","GLC","GLD","GLF","GLG","GLO","GLP","GLS","GLT","GLW","GMH","GN1","GNX","GP1","GP4","GPH","GPM","GQ1","GQ2","GQ4","GS1","GS4","GSA","GSD","GTE","GTH","GTK","GTR","GTZ","GU0","GU1","GU2","GU3","GU4","GU5","GU6","GU8","GU9","GUF","GUP","GUZ","GYP","GYV","H2P","HDL","HMS","HS2","HSD","HSG","HSH","HSJ","HSQ","HSR","HSU","HSX","HSY","HSZ","IAB","IDG","IDR","IDS","IDT","IDU","IDX","IDY","IMK","IN1","IPT","ISL","KBG","KD2","KDA","KDM","KDO","KFN","KO1","KO2","KTU","L6S","LAG","LAI","LAK","LAO","LAT","LB2","LBT","LCN","LDY","LGC","LGU","LM2","LMT","LMU","LOG","LOX","LPK","LSM","LTM","LVZ","LXB","LXZ","M1F","M3M","M6P","M8C","MA1","MA2","MA3","MAB","MAG","MAL","MAN","MAT","MAV","MAW","MBG","MCU","MDA","MDM","MDP","MFA","MFB","MFU","MG5","MGA","MGL","MLB","MMA","MMN","MN0","MRP","MTT","MUG","MVP","MXY","N1L","N9S","NAA","NAG","NBG","NDG","NED","NG1","NG6","NGA","NGB","NGC","NGE","NGF","NGL","NGS","NGY","NHF","NM6","NM9","NTF","NTO","NTP","NXD","NYT","OPG","OPM","ORP","OX2","P3M","P53","P6P","PA5","PNA","PNG","PNW","PRP","PSJ","PSV","PTQ","QDK","QPS","QV4","R1P","R1X","R2B","R5P","RAA","RAE","RAF","RAM","RAO","RAT","RB5","RBL","RCD","RDP","REL","RER","RF5","RG1","RGG","RHA","RIB","RIP","RNS","RNT","ROB","ROR","RPA","RST","RUB","RUU","RZM","S6P","S7P","SA0","SCR","SDD","SF6","SF9","SG4","SG5","SG6","SG7","SGA","SGC","SGD","SGN","SGS","SHB","SHG","SI3","SIO","SOE","SOL","SSG","SUC","SUP","SUS","T6P","T6T","TAG","TCB","TDG","TGK","TGY","TH1","TIA","TM5","TM6","TM9","TMR","TMX","TOA","TOC","TRE","TYV","UCD","UDC","VG1","X0X","X1X","X2F","X4S","X5S","X6X","XBP","XDN","XDP","XIF","XIM","XLF","XLS","XMM","XUL","XXR","XYP","XYS","YO5","Z3Q","Z6J","Z9M","ZDC","ZDM"],Tae=["CA","C","N","O","O1","O2","OC1","OC2","OX1","OXT","OT1","OT2","H","H1","H2","H3","HA","HN","BB"],KM=["P","OP1","OP2","HOP2","HOP3","O2'","O3'","O4'","O5'","C1'","C2'","C3'","C4'","C5'","H1'","H2'","H2''","HO2'","H3'","H4'","H5'","H5''","HO3'","HO5'","O2*","O3*","O4*","O5*","C1*","C2*","C3*","C4*","C5*"],Ud={1:{trace:"CA",direction1:"C",direction2:["O","OC1","O1","OX1","OXT","OT1","OT2"],backboneStart:"N",backboneEnd:"C"},2:{trace:["C4'","C4*"],direction1:["C1'","C1*"],direction2:["C3'","C3*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},3:{trace:["C3'","C3*"],direction1:["C2'","C2*"],direction2:["O4'","O4*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},4:{trace:["CA","BB"],backboneStart:["CA","BB"],backboneEnd:["CA","BB"]},5:{trace:["C4'","C4*","P"],backboneStart:["C4'","C4*","P"],backboneEnd:["C4'","C4*","P"]},6:{trace:["C3'","C3*","C2'","P"],backboneStart:["C3'","C3*","C2'","P"],backboneEnd:["C3'","C3*","C2'","P"]}};Ud[Rc]={};const C6={HD:"H",HS:"H",A:"C",NA:"N",NS:"N",OA:"O",OS:"O",SA:"S",G0:"C",G1:"C",G2:"C",G3:"C",CG0:"C",CG1:"C",CG2:"C",CG3:"C",W:"O"};function r1(i){switch(i){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;default:return 8}}const S6=new Map([[2,Mi(180)],[3,Mi(120)],[4,Mi(109.4721)],[6,Mi(90)]]);function s1(i,e){let t=[];const n=new ne,r=new ne;return n.subVectors(e,i),i.eachBondedAtom(s=>{s.number!==1&&(r.subVectors(s,i),t.push(n.angleTo(r)))}),t}function N6(i,e){const t=i.clone(),n=new ne;n.subVectors(e,i);const r=[new ne,new ne];let s=0;if(i.eachBondedAtom(o=>{s>1||o.number!==1&&(t.index=o.index,r[s++].subVectors(o,i))}),s===1&&t.eachBondedAtom(o=>{s>1||o.number!==1&&o.index!==i.index&&r[s++].subVectors(o,i)}),s!==2)return;const a=r[0].cross(r[1]);return Math.abs(Math.PI/2-a.angleTo(n))}function Gae(i,e){const t=i.structure,n=t.atomCount,r=new Int8Array(n),s=new Int8Array(n),a=new Int8Array(n),o=new Int8Array(n);return t.eachAtom(A=>{const c=A.index,[l,u,d,h]=function(m,y){const g=m.bondToElementCount(1);let E=m.formalCharge||0;const R=y.assignCharge==="always"||y.assignCharge==="auto"&&E===0,p=y.assignH==="always"||y.assignH==="auto"&&g===0,w=m.bondCount,v=function(G){let I=0;return G.eachBond(N=>I+=N.bondOrder),I}(m),_=function(G){const I=G.structure.getBondProxy(),N=G.number,T=N===8||N===7;if(T&&G.bondCount===4)return!1;let M=!1;return G.eachBond(U=>{if(U.bondOrder>1)M=!0;else if(T){const z=U.getOtherAtom(G);z.eachBond(L=>{if(L.bondOrder>1){const k=z.number;if((k===15||k===16)&&L.getOtherAtom(z).number===8)return;M=!0}},I)}}),M}(m),x=v-w>0;let C=0,B=8;switch(m.number){case 1:R&&(w===0?(E=1,B=0):w===1&&(E=0,B=1));break;case 6:R&&(E=0),p&&(C=Math.max(0,4-v-Math.abs(E))),B=r1(w+C+Math.max(0,-E));break;case 7:if(R)if(p)if(_&&v<4)E=w-g==1&&v-g==2?1:0;else{let G=!1;m.eachBondedAtom(I=>{(I.number===16||I.isMetal())&&(G=!0)}),E=G?0:1}else E=v-3;p&&(C=Math.max(0,3-v+E)),B=r1(_&&!x?w+C-E:w+C+1-E);break;case 8:R&&(p||(E=v-2),v===1&&m.eachBondedAtom(G=>{G.eachBond(I=>{const N=I.getOtherAtom(G);N.index!==m.index&&N.number===8&&I.bondOrder===2&&(E=-1)})})),p&&(C=Math.max(0,2-v+E)),B=r1(_&&!x?w+C-E+1:w+C-E+2);break;case 16:R&&(p||(E=v<=3&&!m.bondToElementCount(8)?v-2:0)),p&&v<2&&(C=Math.max(0,2-v+E)),v<=3&&(B=r1(w+C-E+2));break;case 9:case 17:case 35:case 53:case 85:R&&(E=v-1);break;case 3:case 11:case 19:case 37:case 55:case 87:R&&(E=1-v);break;case 4:case 12:case 20:case 38:case 56:case 88:R&&(E=2-v);break;default:console.warn("Requested charge, protonation for an unhandled element",m.element)}return[E,C,C+g,B]}(A,e);r[c]=l,s[c]=u,a[c]=d,o[c]=h}),{charge:r,implicitH:s,totalH:a,idealGeometry:o}}function Tl(i){if(i["@valenceModel"])return i["@valenceModel"];const e=Gae(i,{assignCharge:"auto",assignH:"auto"});return i["@valenceModel"]=e,e}function M6(i){return i.number===15&&i.bondToElementCount(8)===i.bondCount}const Fae=["ARG","HIS","LYS"],Iae=["GLU","ASP"];function Uae(i,e){return i===2&&e===1||i===1&&e===2}function Pae(i,e){return i===3&&e===3}function Lae(i,e){return i===3&&e===1||i===1&&e===3}function T6(i){return i.resname==="HIS"&&i.number==7&&i.isRing()}function Dae(i,e){return i===5&&e===4||i===4&&e===5}function kae(i,e){return i===9&&e===5||i===5&&e===9}const Oae=[3,11,19,37,55,12,20,38,56,13,31,49,81,21,50,82,83,51,80];function Qae(i,e){return i===12?e===11||e===12:i===13?e===10:void 0}const Hae=[17,35,53,85],zae=[7,8,16],Vae=[6,7,15,16],Kae=Mi(180),$ae=Mi(120);function G6(i,e,t){return!$M(i,e,t)&&(i.modelIndex!==e.modelIndex||i.altloc&&e.altloc&&i.altloc!==e.altloc)}const Ei={maxHydrophobicDist:4,maxHbondDist:3.5,maxHbondSulfurDist:4.1,maxHbondAccAngle:45,maxHbondDonAngle:45,maxHbondAccPlaneAngle:90,maxHbondDonPlaneAngle:30,maxPiStackingDist:5.5,maxPiStackingOffset:2,maxPiStackingAngle:30,maxCationPiDist:6,maxCationPiOffset:2,maxIonicDist:5,maxHalogenBondDist:4,maxHalogenBondAngle:30,maxMetalDist:3,refineSaltBridges:!0,masterModelIndex:-1,lineOfSightDistFactor:1};function $M(i,e,t){return i.modelIndex===t&&e.modelIndex!==t||e.modelIndex===t&&i.modelIndex!==t}function ld(i,e,t){return!$M(i,e,t)&&(i.modelIndex!==e.modelIndex||i.residueIndex===e.residueIndex||i.altloc&&e.altloc&&i.altloc!==e.altloc)}function Wae(i){const e={types:[],groups:[],centers:{x:[],y:[],z:[]},atomSets:[]};return ot&&He.time("calculateFeatures"),function(t,n){const{charge:r}=Tl(t.data),s={};t.eachResidue(a=>{if(Fae.includes(a.resname)){const o=Ar(1);a.eachAtom(A=>{A.number===7&&A.isSidechain()&&Oi(o,A)}),Qi(n,o)}else Wl.includes(a.resname)||a.isNucleic()||(a.eachAtom(o=>{let A=!1;const c=Ar(1);(function(l){let u=0;return l.number===6&&l.bondCount===3&&l.bondToElementCount(7)===3&&l.eachBondedAtom(d=>{d.bondCount-d.bondToElementCount(1)==1&&++u}),u===2})(o)?(c.group=8,A=!0):function(l){let u=0;return l.number===6&&l.bondCount===3&&l.bondToElementCount(7)===2&&l.bondToElementCount(6)===1&&l.eachBondedAtom(d=>{d.bondCount-d.bondToElementCount(1)==1&&++u}),u===2}(o)&&(c.group=9,A=!0),A&&(o.eachBondedAtom(l=>{l.number===7&&(s[l.index]=!0,Oi(c,l))}),Qi(n,c))}),a.eachAtom(o=>{const A=Ar(1);r[o.index]>0&&(s[o.index]||(Oi(A,o),Qi(n,A)))}))})}(i,e),function(t,n){const{charge:r}=Tl(t.data),s={};t.eachResidue(a=>{if(Iae.includes(a.resname)){const o=Ar(2);a.eachAtom(A=>{A.number===8&&A.isSidechain()&&Oi(o,A)}),Qi(n,o)}else if(nf.includes(a.resname)){const o=Ar(2);a.eachAtom(A=>{M6(A)&&(o.group=6,A.eachBondedAtom(c=>{c.number===8&&Oi(o,c)}),Qi(n,o))})}else Wl.includes(a.resname)||nf.includes(a.resname)||(a.eachAtom(o=>{let A=!1;const c=Ar(2);(function(l){return l.number===16&&l.bondToElementCount(8)===3})(o)?(c.group=4,A=!0):M6(o)?(c.group=6,A=!0):function(l){return l.number===16&&l.bondToElementCount(8)===4}(o)?(c.group=5,A=!0):function(l){let u=0;return l.number===6&&l.bondToElementCount(8)===2&&l.bondToElementCount(6)===1&&l.eachBondedAtom(d=>{d.number===8&&d.bondCount-d.bondToElementCount(1)==1&&++u}),u===2}(o)&&(c.group=10,A=!0),A&&(o.eachBondedAtom(l=>{l.number===8&&(s[l.index]=!0,Oi(c,l))}),Qi(n,c))}),a.eachAtom(o=>{const A=Ar(2);r[o.index]<0&&(s[o.index]||(Oi(A,o),Qi(n,A)))}))})}(i,e),function(t,n){const r=t.getAtomProxy();t.eachResidue(s=>{const a=s.getAromaticRings();if(a){const o=s.atomOffset;a.forEach(A=>{const c=Ar(3);A.forEach(l=>{r.index=l+o,Oi(c,r)}),Qi(n,c)})}})}(i,e),function(t,n){const{charge:r,implicitH:s,idealGeometry:a}=Tl(t.data);t.eachAtom(o=>{const A=Ar(5),c=o.number;if(c===8)Oi(A,o),Qi(n,A);else if(c===7){if(T6(o))Oi(A,o),Qi(n,A);else if(r[o.index]<1){const l=o.bondCount+s[o.index],u=a[o.index];(u===4&&l<4||u===3&&l<3||u===2&&l<2)&&(Oi(A,o),Qi(n,A))}}else c===16&&(o.resname!=="CYS"&&o.resname!=="MET"&&o.formalCharge!==-1||(Oi(A,o),Qi(n,A)))})}(i,e),function(t,n){const{totalH:r}=Tl(t.data);t.eachAtom(s=>{const a=Ar(4),o=s.number;(T6(s)||r[s.index]>0&&(o===7||o===8||o===16))&&(Oi(a,s),Qi(n,a))})}(i,e),function(t,n){const{totalH:r}=Tl(t.data);t.eachAtom(s=>{if(s.number===6&&r[s.index]>0&&(s.bondToElementCount(7)>0||s.bondToElementCount(8)>0||function(a){if(!a.isAromatic())return!1;const o=a.residueType.getRings();if(!o)return!1;let A=!1;return o.rings.forEach(c=>{A||c.some(l=>a.index-a.residueAtomOffset===l)&&(A=c.some(l=>{const u=a.residueType.atomTypeIdList[l],d=a.atomMap.get(u).number;return d===7||d===8}))}),A}(s))){const a=Ar(9);Oi(a,s),Qi(n,a)}})}(i,e),function(t,n){t.eachAtom(r=>{let s=!1,a=!1;const o=Wl.includes(r.resname),A=nf.includes(r.resname);if(o||A?o?r.number===8?(["ASP","GLU","SER","THR","TYR","ASN","GLN"].includes(r.resname)&&r.isSidechain()||r.isBackbone())&&(s=!0,a=!0):r.number===16&&r.resname==="CYS"?(s=!0,a=!0):r.number===7&&r.resname==="HIS"&&r.isSidechain()&&(s=!0):A&&(r.number===8&&r.isBackbone()?(s=!0,a=!0):["N3","N4","N7"].includes(r.atomname)?s=!0:["O2","O4","O6"].includes(r.atomname)&&(s=!0,a=!0)):r.isHalogen()||r.number===8||r.number===16?(s=!0,a=!0):r.number===7&&(s=!0),s){const c=Ar(11);Oi(c,r),Qi(n,c)}if(a){const c=Ar(10);Oi(c,r),Qi(n,c)}})}(i,e),function(t,n){t.eachAtom(r=>{if(r.isTransitionMetal()||r.number===30||r.number===48){const s=Ar(12);Oi(s,r),Qi(n,s)}else if(Oae.includes(r.number)){const s=Ar(13);Oi(s,r),Qi(n,s)}})}(i,e),function(t,n){t.eachAtom(r=>{const s=Ar(8);let a=!1;r.number===6?(a=!0,r.eachBondedAtom(o=>{const A=o.number;A!==6&&A!==1&&(a=!1)})):r.number===9&&(a=!0),a&&(Oi(s,r),Qi(n,s))})}(i,e),function(t,n){t.eachAtom(r=>{if(zae.includes(r.number)){let s=!1;if(r.eachBondedAtom(a=>{Vae.includes(a.number)&&(s=!0)}),s){const a=Ar(7);Oi(a,r),Qi(n,a)}}})}(i,e),function(t,n){t.eachAtom(r=>{if(Hae.includes(r.number)&&r.bondToElementCount(6)===1){const s=Ar(6);Oi(s,r),Qi(n,s)}})}(i,e),ot&&He.timeEnd("calculateFeatures"),e}function qae(i,e=Ei){const t=function(r){const{types:s,centers:a}=r;return{features:r,spatialHash:new Nf(a),contactStore:new wae,featureSet:new Ji(s.length,!1)}}(Wae(i));ot&&He.time("calculateContacts"),function(r,s,a={}){const o=W(a.maxIonicDist,Ei.maxIonicDist),A=W(a.maxPiStackingDist,Ei.maxPiStackingDist),c=W(a.maxPiStackingOffset,Ei.maxPiStackingOffset),l=W(a.maxPiStackingAngle,Ei.maxPiStackingAngle),u=W(a.maxCationPiDist,Ei.maxCationPiDist),d=W(a.maxCationPiOffset,Ei.maxCationPiOffset),h=W(a.masterModelIndex,Ei.masterModelIndex),m=Math.max(o+2,A,u),y=A*A,g=u*u,{features:E,spatialHash:R,contactStore:p,featureSet:w}=s,{types:v,centers:_,atomSets:x}=E,{x:C,y:B,z:G}=_,I=v.length,N=r.atomStore.x,T=r.atomStore.y,M=r.atomStore.z,U=r.getAtomProxy(),z=r.getAtomProxy(),L=function(J,me,ue){const ge=J.length,fe=me.length;for(let we=0;we<ge;++we){U.index=J[we];for(let Fe=0;Fe<fe;++Fe)if(z.index=me[Fe],U.distanceTo(z)<=ue)return!0}return!1},k=new ne,K=new ne,V=new ne,D=new ne,H=new ne,oe=new ne,Ae=new ne,ee=function(J,me){k.set(N[J[0]],T[J[0]],M[J[0]]),K.set(N[J[1]],T[J[1]],M[J[1]]),V.set(N[J[2]],T[J[2]],M[J[2]]),D.subVectors(k,K),H.subVectors(k,V),me.crossVectors(D,H)},se=function(J,me,ue){return k.set(C[J],B[J],G[J]),K.set(C[me],B[me],G[me]),k.sub(K).projectOnPlane(ue).add(K).distanceTo(K)},le=function(J,me,ue){w.setBits(J,me),p.addContact(J,me,ue)};for(let J=0;J<I;++J)R.eachWithin(C[J],B[J],G[J],m,(me,ue)=>{if(me<=J||(U.index=x[J][0],z.index=x[me][0],ld(U,z,h)))return;const ge=v[J],fe=v[me];if(Uae(ge,fe))L(x[J],x[me],o)&&le(J,me,1);else if(Pae(ge,fe)){if(ue<=y){ee(x[J],oe),ee(x[me],Ae);const we=57.29578*oe.angleTo(Ae);Math.min(se(J,me,Ae),se(me,J,oe))<=c&&(we<=l||we>=180-l||we<=l+90&&we>=90-l)&&le(J,me,3)}}else if(Lae(ge,fe)&&ue<=g){const[we,Fe]=ge===3?[J,me]:[me,J];ee(x[we],oe),se(Fe,we,oe)<=d&&le(we,Fe,2)}})}(i,t,e),function(r,s,a={}){const o=W(a.maxHbondDist,Ei.maxHbondDist),A=W(a.maxHbondSulfurDist,Ei.maxHbondSulfurDist),c=Mi(W(a.maxHbondAccAngle,Ei.maxHbondAccAngle)),l=Mi(W(a.maxHbondDonAngle,Ei.maxHbondDonAngle)),u=Mi(W(a.maxHbondAccPlaneAngle,Ei.maxHbondAccPlaneAngle)),d=Mi(W(a.maxHbondDonPlaneAngle,Ei.maxHbondDonPlaneAngle)),h=W(a.masterModelIndex,Ei.masterModelIndex),m=Math.max(o,A),y=o*o,{features:g,spatialHash:E,contactStore:R,featureSet:p}=s,{types:w,centers:v,atomSets:_}=g,{x,y:C,z:B}=v,G=w.length,{idealGeometry:I}=Tl(r.data),N=r.getAtomProxy(),T=r.getAtomProxy();for(let M=0;M<G;++M)E.eachWithin(x[M],C[M],B[M],m,(U,z)=>{if(U<=M)return;const L=w[M],k=w[U],K=kae(L,k);if(!K&&!Dae(L,k))return;const[V,D]=k===5?[M,U]:[U,M];if(N.index=_[V][0],T.index=_[D][0],T.index===N.index||ld(N,T,h)||N.number!==16&&T.number!==16&&z>y||N.connectedTo(T))return;const H=s1(N,T),oe=S6.get(I[N.index])||Mi(120);if(H.some(me=>Math.abs(oe-me)>l))return;if(I[N.index]===3){const me=N6(N,T);if(me!==void 0&&me>d)return}const Ae=s1(T,N),ee=S6.get(I[T.index])||Mi(120);if(Ae.some(me=>ee-me>c))return;if(I[T.index]===3){const me=N6(T,N);if(me!==void 0&&me>u)return}p.setBits(V,D);const se=K?8:function(me,ue){return me.isWater()&&ue.isWater()}(le=N,J=T)?9:function(me,ue){return me.isBackbone()&&ue.isBackbone()}(le,J)?10:4;var le,J;R.addContact(V,D,se)})}(i,t,e),function(r,s,a={}){const o=W(a.maxMetalDist,Ei.maxMetalDist),A=W(a.masterModelIndex,Ei.masterModelIndex),{features:c,spatialHash:l,contactStore:u,featureSet:d}=s,{types:h,centers:m,atomSets:y}=c,{x:g,y:E,z:R}=m,p=h.length,w=r.getAtomProxy(),v=r.getAtomProxy();for(let _=0;_<p;++_)l.eachWithin(g[_],E[_],R[_],o,(x,C)=>{if(x<=_||(w.index=y[_][0],v.index=y[x][0],ld(w,v,A)))return;const B=w.isMetal(),G=v.isMetal();if(!B&&!G)return;const[I,N]=B?[h[_],h[x]]:[h[x],h[_]];Qae(I,N)&&(d.setBits(_,x),u.addContact(_,x,7))})}(i,t,e),function(r,s,a={}){const o=W(a.maxHydrophobicDist,Ei.maxHydrophobicDist),A=W(a.masterModelIndex,Ei.masterModelIndex),{features:c,spatialHash:l,contactStore:u,featureSet:d}=s,{types:h,centers:m,atomSets:y}=c,{x:g,y:E,z:R}=m,p=h.length,w=r.getAtomProxy(),v=r.getAtomProxy();for(let _=0;_<p;++_)l.eachWithin(g[_],E[_],R[_],o,(x,C)=>{var B,G;x<=_||(w.index=y[_][0],v.index=y[x][0],ld(w,v,A)||w.number===9&&v.number===9||w.connectedTo(v)||(B=h[_],G=h[x],B===8&&G===8&&(d.setBits(_,x),u.addContact(_,x,6))))})}(i,t,e),function(r,s,a={}){const o=W(a.maxHalogenBondDist,Ei.maxHalogenBondDist),A=Mi(W(a.maxHalogenBondAngle,Ei.maxHalogenBondAngle)),c=W(a.masterModelIndex,Ei.masterModelIndex),{features:l,spatialHash:u,contactStore:d,featureSet:h}=s,{types:m,centers:y,atomSets:g}=l,{x:E,y:R,z:p}=y,w=m.length,v=r.getAtomProxy(),_=r.getAtomProxy();for(let x=0;x<w;++x)u.eachWithin(E[x],R[x],p[x],o,(C,B)=>{if(C<=x||(v.index=g[x][0],_.index=g[C][0],ld(v,_,c))||(G=m[x],I=m[C],!(G===7&&I===6||G===6&&I===7)))return;var G,I;const[N,T]=m[x]===6?[v,_]:[_,v],M=s1(N,T);if(M.length!==1||Kae-M[0]>A)return;const U=s1(T,N);U.length!==0&&(U.some(z=>$ae-z>A)||(h.setBits(x,C),d.addContact(x,C,5)))})}(i,t,e);const n=function(r){const{index1:s,index2:a,count:o}=r.contactStore,A=LM({nodeArray1:s,nodeArray2:a,edgeCount:o,nodeCount:r.featureSet.length}),c=new Ji(r.contactStore.count,!0);return Object.assign({adjacencyList:A,contactSet:c},r)}(t);return function(r,s,a={}){ot&&He.time("refineLineOfSight");const o=W(a.lineOfSightDistFactor,Ei.lineOfSightDistFactor),A=W(a.masterModelIndex,Ei.masterModelIndex),c=r.spatialHash,{contactSet:l,contactStore:u,features:d}=s,{index1:h,index2:m}=u,{centers:y,atomSets:g}=d,{x:E,y:R,z:p}=y,w=r.getAtomProxy(),v=r.getAtomProxy(),_=r.getAtomProxy(),x=new ne,C=new ne,B=3*o,G=o*o;l.forEach(I=>{x.set(E[h[I]],R[h[I]],p[h[I]]),C.set(E[m[I]],R[m[I]],p[m[I]]);const N=(x.x+C.x)/2,T=(x.y+C.y)/2,M=(x.z+C.z)/2,U=g[h[I]],z=g[m[I]];w.index=U[0],v.index=z[0],c.eachWithin(N,T,M,B,(L,k)=>{_.index=L,_.number!==1&&_.vdw*_.vdw*G>k&&!G6(w,_,A)&&!G6(v,_,A)&&!U.includes(L)&&!z.includes(L)&&x.distanceToSquared(_)>1&&C.distanceToSquared(_)>1&&(l.clear(I),ot&&He.log("removing",w.qualifiedName(),v.qualifiedName(),"because",_.qualifiedName()))})}),ot&&He.timeEnd("refineLineOfSight")}(i,n,e),function(r,s){const{contactSet:a,contactStore:o,features:A}=s,{type:c,index1:l,index2:u}=o,{atomSets:d}=A,h=r.getAtomProxy(),m=r.getAtomProxy(),y={},g=function(E,R,p){const[w,v]=y[p]||[1/0,-1];E<w?(v!==-1&&a.clear(v),y[p]=[E,R]):a.clear(R)};a.forEach(E=>{if(c[E]!==6)return;h.index=d[l[E]][0],m.index=d[u[E]][0];const R=h.distanceTo(m);g(R,E,`${h.index}|${m.residueIndex}`),g(R,E,`${m.index}|${h.residueIndex}`)})}(i,n),e.refineSaltBridges&&function(r,s){const{contactSet:a,contactStore:o,features:A}=s,{type:c,index1:l,index2:u}=o,{atomSets:d}=A,h={},m=function(y,g){h[y]||(h[y]=[]),h[y].push(g)};a.forEach(y=>{c[y]===1&&(d[l[y]].forEach(g=>m(g,y)),d[u[y]].forEach(g=>m(g,y)))}),a.forEach(y=>{if(!function(p){return p===4||p===9||p===10}(c[y]))return;const g=h[d[l[y]][0]],E=h[d[u[y]][0]];if(!g||!E)return;const R=g.length;for(let p=0;p<R;++p)if(E.includes(g[p]))return void a.clear(y)})}(0,n),function(r,s){const{contactSet:a,contactStore:o,features:A}=s,{type:c,index1:l,index2:u}=o,{atomSets:d}=A,h={},m=function(y,g){h[y]||(h[y]=[]),h[y].push(g)};a.forEach(y=>{c[y]===3&&(d[l[y]].forEach(g=>m(g,y)),d[u[y]].forEach(g=>m(g,y)))}),a.forEach(y=>{if(c[y]!==6&&c[y]!==2)return;const g=h[d[l[y]][0]],E=h[d[u[y]][0]];if(!g||!E)return;const R=g.length;for(let p=0;p<R;++p)if(E.includes(g[p]))return void a.clear(y)})}(0,n),function(r,s){const{contactSet:a,contactStore:o,features:A}=s,{type:c,index1:l,index2:u}=o,{atomSets:d}=A,h={},m=function(y,g){h[y]||(h[y]=[]),h[y].push(g)};a.forEach(y=>{c[y]===1&&(d[l[y]].forEach(g=>m(g,y)),d[u[y]].forEach(g=>m(g,y)))}),a.forEach(y=>{if(c[y]!==7)return;const g=h[d[l[y]][0]],E=h[d[u[y]][0]];if(!g||!E)return;const R=g.length;for(let p=0;p<R;++p)if(E.includes(g[p]))return void a.clear(g[p])})}(0,n),ot&&He.timeEnd("calculateContacts"),n}function Yae(i){switch(i){case 4:case 9:case 10:return"hydrogen bond";case 6:return"hydrophobic contact";case 5:return"halogen bond";case 1:return"ionic interaction";case 7:return"metal coordination";case 2:return"cation-pi interaction";case 3:return"pi-pi stacking";case 8:return"weak hydrogen bond";default:return"unknown contact"}}const Xae={hydrogenBond:!0,hydrophobic:!0,halogenBond:!0,ionicInteraction:!0,metalCoordination:!0,cationPi:!0,piStacking:!0,weakHydrogenBond:!0,waterHydrogenBond:!0,backboneHydrogenBond:!0,radius:1,filterSele:""},Vo=new $t;function jae(i,e,t){const n=Ms(t,Xae),r=[];n.hydrogenBond&&r.push(4),n.hydrophobic&&r.push(6),n.halogenBond&&r.push(5),n.ionicInteraction&&r.push(1),n.metalCoordination&&r.push(7),n.cationPi&&r.push(2),n.piStacking&&r.push(3),n.weakHydrogenBond&&r.push(8),n.waterHydrogenBond&&r.push(9),n.backboneHydrogenBond&&r.push(10);const{features:s,contactSet:a,contactStore:o}=i,{centers:A,atomSets:c}=s,{x:l,y:u,z:d}=A,{index1:h,index2:m,type:y}=o,g=[],E=[],R=[],p=[],w=[];let v;return n.filterSele&&(v=Array.isArray(n.filterSele)?n.filterSele.map(_=>e.getAtomSet(new ui(_))):e.getAtomSet(new ui(n.filterSele))),a.forEach(_=>{const x=y[_];if(!r.includes(x))return;if(v){const G=c[h[_]][0],I=c[m[_]][0];if(Array.isArray(v)){if(!(v[0].isSet(G)&&v[1].isSet(I)||v[1].isSet(G)&&v[0].isSet(I)))return}else if(!v.isSet(G)&&!v.isSet(I))return}const C=h[_],B=m[_];g.push(l[C],u[C],d[C]),E.push(l[B],u[B],d[B]),R.push(...function(G){switch(G){case 4:case 9:case 10:return Vo.setHex(2851770).toArray();case 6:return Vo.setHex(8421504).toArray();case 5:return Vo.setHex(4259775).toArray();case 1:return Vo.setHex(15779860).toArray();case 7:return Vo.setHex(9191577).toArray();case 2:return Vo.setHex(16744448).toArray();case 3:return Vo.setHex(9220966).toArray();case 8:return Vo.setHex(12967404).toArray();default:return Vo.setHex(13421772).toArray()}}(x)),p.push(n.radius),w.push(_)}),{position1:new Float32Array(g),position2:new Float32Array(E),color:new Float32Array(R),color2:new Float32Array(R),radius:new Float32Array(p),picking:new Jae(w,i,e)}}class _o{constructor(e){this.array=e}get type(){return""}get data(){return{}}getIndex(e){return this.array?this.array[e]:e}getObject(e){return{}}_applyTransformations(e,t,n){return t&&e.applyMatrix4(t.matrix),n&&e.applyMatrix4(n.matrix),e}_getPosition(e){return new ne}getPosition(e,t,n){return this._applyTransformations(this._getPosition(e),t,n)}}class js extends _o{constructor(e){super(),this.shape=e}get primitive(){}get data(){return this.shape}get type(){return this.primitive.type}getObject(e){return this.primitive.objectFromShape(this.shape,this.getIndex(e))}_getPosition(e){return this.primitive.positionFromShape(this.shape,this.getIndex(e))}}class Tc extends _o{constructor(e,t){super(e),this.structure=t}get type(){return"atom"}get data(){return this.structure}getObject(e){return this.structure.getAtomProxy(this.getIndex(e))}_getPosition(e){return new ne().copy(this.getObject(e))}}class Zae extends _o{constructor(e){super(),this.axes=e}get type(){return"axes"}get data(){return this.axes}getObject(){return{axes:this.axes}}_getPosition(){return this.axes.center.clone()}}class WM extends _o{constructor(e,t,n){super(e),this.structure=t,this.bondStore=n||t.bondStore}get type(){return"bond"}get data(){return this.structure}getObject(e){const t=this.structure.getBondProxy(this.getIndex(e));return t.bondStore=this.bondStore,t}_getPosition(e){const t=this.getObject(e);return new ne().copy(t.atom1).add(t.atom2).multiplyScalar(.5)}}class Jae extends _o{constructor(e,t,n){super(e),this.contacts=t,this.structure=n}get type(){return"contact"}get data(){return this.contacts}getObject(e){const t=this.getIndex(e),{features:n,contactStore:r}=this.contacts,{centers:s,atomSets:a}=n,{x:o,y:A,z:c}=s,{index1:l,index2:u,type:d}=r,h=l[t],m=u[t];return{center1:new ne(o[h],A[h],c[h]),center2:new ne(o[m],A[m],c[m]),atom1:this.structure.getAtomProxy(a[h][0]),atom2:this.structure.getAtomProxy(a[m][0]),type:Yae(d[t])}}_getPosition(e){const{center1:t,center2:n}=this.getObject(e);return new ne().addVectors(t,n).multiplyScalar(.5)}}class eoe extends _o{constructor(e,t,n){super(e),this.validation=t,this.structure=n}get type(){return"clash"}get data(){return this.validation}getObject(e){const t=this.validation,n=this.getIndex(e);return{validation:t,index:n,clash:t.clashArray[n]}}_getAtomProxyFromSele(e){const t=new ui(e),n=this.structure.getAtomIndices(t)[0];return this.structure.getAtomProxy(n)}_getPosition(e){const t=this.getObject(e).clash,n=this._getAtomProxyFromSele(t.sele1),r=this._getAtomProxyFromSele(t.sele2);return new ne().copy(n).add(r).multiplyScalar(.5)}}class toe extends WM{get type(){return"distance"}}class noe extends _o{get type(){return"ignore"}}class ioe extends js{constructor(e,t){super(e),this.mesh=t}get type(){return"mesh"}getObject(){const e=this.mesh;return{shape:this.shape,name:e.name,serial:e.serial}}_getPosition(){return this.__position||(this.__position=EE(this.mesh.position)),this.__position}}class roe extends _o{constructor(e,t){super(e),this.surface=t}get type(){return"surface"}get data(){return this.surface}getObject(e){return{surface:this.surface,index:this.getIndex(e)}}_getPosition(){return this.surface.center.clone()}}class soe extends _o{constructor(e,t){super(),this.unitcell=e,this.structure=t}get type(){return"unitcell"}get data(){return this.unitcell}getObject(){return{unitcell:this.unitcell,structure:this.structure}}_getPosition(){return this.unitcell.getCenter(this.structure)}}class qM extends _o{constructor(e,t){super(e),this.volume=t}get type(){return"volume"}get data(){return this.volume}getObject(e){const t=this.volume,n=this.getIndex(e);return{volume:t,index:n,value:t.data[n]}}_getPosition(e){const t=this.volume.position,n=this.getIndex(e);return new ne(t[3*n],t[3*n+1],t[3*n+2])}}class aoe extends qM{get type(){return"slice"}}function YM(){return new Uint32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0])}function XM(){return new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1])}function u4(i,e,t,n,r){var s,a,o,A,c,l,u,d=[[0,4,4,4,2,0,0,0,2,2,0,0],[4,0,4,4,0,8,0,0,0,8,8,0],[4,4,0,4,0,0,8,0,0,0,8,8],[4,4,4,0,0,0,0,1,1,0,0,1],[2,0,0,0,0,8,8,8,2,2,0,0],[0,8,0,0,8,0,8,8,0,8,8,0],[0,0,8,0,8,8,0,8,0,0,8,8],[0,0,0,1,8,8,8,0,1,0,0,1],[2,0,0,1,2,0,0,1,0,2,0,1],[2,8,0,0,2,8,0,0,2,0,8,0],[0,8,8,0,0,8,8,0,0,8,0,8],[0,0,8,1,0,0,8,1,1,0,8,0]],h=0,m=!1,y=!1,g=!1,E=!1,R=-1,p=e*t*n,w=e,v=e*t,_=new Int32Array(12),x=[],C=[],B=[],G=[],I=YM(),N=XM();function T(D,H,oe){return D+(H-D)*oe}function M(D,H,oe){return v*(oe=(oe+u)%n)+w*(H=(H+l)%t)+(D=(D+c)%e)}function U(D,H,oe,Ae,ee,se,le){var J=3*D;if(a[J]<0){var me=(h-se)/(le-se),ue=s,ge=3*o;if(x[ge]=oe+me,x[ge+1]=Ae,x[ge+2]=ee,!m){var fe=3*D;C[ge]=R*T(ue[fe],ue[fe+3],me),C[ge+1]=R*T(ue[fe+1],ue[fe+4],me),C[ge+2]=R*T(ue[fe+2],ue[fe+5],me)}r&&(G[o]=r[D+Math.round(me)]),a[J]=o,_[H]=o,o+=1}else _[H]=a[J]}function z(D,H,oe,Ae,ee,se,le){var J=3*D+1;if(a[J]<0){var me=(h-se)/(le-se),ue=s,ge=3*o;if(x[ge]=oe,x[ge+1]=Ae+me,x[ge+2]=ee,!m){var fe=3*D,we=fe+3*w;C[ge]=R*T(ue[fe],ue[we],me),C[ge+1]=R*T(ue[fe+1],ue[we+1],me),C[ge+2]=R*T(ue[fe+2],ue[we+2],me)}r&&(G[o]=r[D+Math.round(me)*w]),a[J]=o,_[H]=o,o+=1}else _[H]=a[J]}function L(D,H,oe,Ae,ee,se,le){var J=3*D+2;if(a[J]<0){var me=(h-se)/(le-se),ue=s,ge=3*o;if(x[ge]=oe,x[ge+1]=Ae,x[ge+2]=ee+me,!m){var fe=3*D,we=fe+3*v;C[ge]=R*T(ue[fe],ue[we],me),C[ge+1]=R*T(ue[fe+1],ue[we+1],me),C[ge+2]=R*T(ue[fe+2],ue[we+2],me)}r&&(G[o]=r[D+Math.round(me)*v]),a[J]=o,_[H]=o,o+=1}else _[H]=a[J]}function k(D){var H=3*D;s[H]===0&&(s[H]=i[(D-1+p)%p]-i[(D+1)%p],s[H+1]=i[(D-w+p)%p]-i[(D+w)%p],s[H+2]=i[(D-v+p)%p]-i[(D+v)%p])}function K(D,H,oe,Ae,ee){var se,le,J,me,ue,ge,fe;g?(Ae=M(D,H,oe),se=M(D+1,H,oe),le=M(D,H+1,oe),J=M(D,H,oe+1),me=M(D+1,H+1,oe),ue=M(D+1,H,oe+1),ge=M(D,H+1,oe+1),fe=M(D+1,H+1,oe+1)):(se=Ae+1,me=(le=Ae+w)+1,ue=(J=Ae+v)+1,fe=(ge=le+v)+1);var we=0,Fe=i[Ae],je=i[se],De=i[le],Le=i[me],tt=i[J],Ie=i[ue],Xe=i[ge],et=i[fe];Fe<h&&(we|=1),je<h&&(we|=2),De<h&&(we|=8),Le<h&&(we|=4),tt<h&&(we|=16),Ie<h&&(we|=32),Xe<h&&(we|=128),et<h&&(we|=64);var st=I[we];if(st===0)return 0;var re=D+1,X=H+1,Be=oe+1;1&st&&(m||(k(Ae),k(se)),U(Ae,0,D,H,oe,Fe,je)),2&st&&(m||(k(se),k(me)),z(se,1,re,H,oe,je,Le)),4&st&&(m||(k(le),k(me)),U(le,2,D,X,oe,De,Le)),8&st&&(m||(k(Ae),k(le)),z(Ae,3,D,H,oe,Fe,De)),16&st&&(m||(k(J),k(ue)),U(J,4,D,H,Be,tt,Ie)),32&st&&(m||(k(ue),k(fe)),z(ue,5,re,H,Be,Ie,et)),64&st&&(m||(k(ge),k(fe)),U(ge,6,D,X,Be,Xe,et)),128&st&&(m||(k(J),k(ge)),z(J,7,D,H,Be,tt,Xe)),256&st&&(m||(k(Ae),k(J)),L(Ae,8,D,H,oe,Fe,tt)),512&st&&(m||(k(se),k(ue)),L(se,9,re,H,oe,je,Ie)),1024&st&&(m||(k(me),k(fe)),L(me,10,re,X,oe,Le,et)),2048&st&&(m||(k(le),k(ge)),L(le,11,D,X,oe,De,Xe));for(var We,Se,ze,ut=we<<4,qe=0;N[ut+qe]!==-1;)We=N[ut+qe],Se=N[ut+qe+1],ze=N[ut+qe+2],y?(d[We][Se]&ee&&(B[A++]=_[We],B[A++]=_[Se]),d[Se][ze]&ee&&(B[A++]=_[Se],B[A++]=_[ze]),d[We][ze]&ee&&(B[A++]=_[We],B[A++]=_[ze])):(B[A++]=_[E?We:Se],B[A++]=_[E?Se:We],B[A++]=_[ze]),qe+=3}function V(D,H,oe,Ae,ee,se){let le,J,me,ue,ge,fe,we,Fe,je,De,Le,tt,Ie;if(D=D!==void 0?D:0,H=H!==void 0?H:0,oe=oe!==void 0?oe:0,Ae=Ae!==void 0?Ae:e-1,ee=ee!==void 0?ee:t-1,se=se!==void 0?se:n-1,g||(m?(D=Math.max(0,D),H=Math.max(0,H),oe=Math.max(0,oe),Ae=Math.min(e-1,Ae),ee=Math.min(t-1,ee),se=Math.min(n-1,se)):(D=Math.max(1,D),H=Math.max(1,H),oe=Math.max(1,oe),Ae=Math.min(e-2,Ae),ee=Math.min(t-2,ee),se=Math.min(n-2,se))),g)for(Fe=D-2,je=H-2,De=oe-2,Le=Ae+2,tt=ee+2,Ie=se+2,ge=De;ge<Ie;++ge)for(ue=je;ue<tt;++ue)for(me=Fe;me<Le;++me)J=3*M(me,ue,ge),a[J]=-1,a[J+1]=-1,a[J+2]=-1;else for(Fe=Math.max(0,D-2),je=Math.max(0,H-2),De=Math.max(0,oe-2),Le=Math.min(e,Ae+2),tt=Math.min(t,ee+2),Ie=Math.min(n,se+2),ge=De;ge<Ie;++ge)for(we=v*ge,ue=je;ue<tt;++ue)for(fe=we+w*ue,me=Fe;me<Le;++me)le=3*(fe+me),a[le]=-1,a[le+1]=-1,a[le+2]=-1;if(!g){var Xe,et=D,st=H,re=oe,X=Ae,Be=ee,We=se;for(Xe=!1,ge=oe;ge<se;++ge){for(ue=H;ue<ee;++ue){for(me=D;me<Ae;++me)if(le=e*t*ge+e*ue+me,i[le]>=h){re=ge,Xe=!0;break}if(Xe)break}if(Xe)break}for(Xe=!1,ue=H;ue<ee;++ue){for(ge=re;ge<se;++ge){for(me=D;me<Ae;++me)if(le=e*t*ge+e*ue+me,i[le]>=h){st=ue,Xe=!0;break}if(Xe)break}if(Xe)break}for(Xe=!1,me=D;me<Ae;++me){for(ue=st;ue<ee;++ue){for(ge=re;ge<se;++ge)if(le=e*t*ge+e*ue+me,i[le]>=h){et=me,Xe=!0;break}if(Xe)break}if(Xe)break}for(Xe=!1,ge=se;ge>=oe;--ge){for(ue=ee;ue>=H;--ue){for(me=Ae;me>=D;--me)if(le=e*t*ge+e*ue+me,i[le]>=h){We=ge,Xe=!0;break}if(Xe)break}if(Xe)break}for(Xe=!1,ue=ee;ue>=H;--ue){for(ge=We;ge>=oe;--ge){for(me=Ae;me>=D;--me)if(le=e*t*ge+e*ue+me,i[le]>=h){Be=ue,Xe=!0;break}if(Xe)break}if(Xe)break}for(Xe=!1,me=Ae;me>=D;--me){for(ue=Be;ue>=H;--ue){for(ge=We;ge>=oe;--ge)if(le=e*t*ge+e*ue+me,i[le]>=h){X=me,Xe=!0;break}if(Xe)break}if(Xe)break}m?(D=Math.max(0,et-1),H=Math.max(0,st-1),oe=Math.max(0,re-1),Ae=Math.min(e-1,X+1),ee=Math.min(t-1,Be+1),se=Math.min(n-1,We+1)):(D=Math.max(1,et-1),H=Math.max(1,st-1),oe=Math.max(1,re-1),Ae=Math.min(e-2,X+1),ee=Math.min(t-2,Be+1),se=Math.min(n-2,We+1))}var Se=15;for(ge=oe;ge<se;++ge,Se&=-5)for(we=v*ge,Se|=2,ue=H;ue<ee;++ue,Se&=-3)for(fe=we+w*ue,Se|=1,me=D;me<Ae;++me,Se&=-2)le=fe+me,K(me,ue,ge,le,Se)}this.triangulate=function(D,H,oe,Ae,ee){E=(h=D)<0,y=Ae,g=ee,(m=H||y)||(R=h>0?-1:1,s||(s=new Float32Array(3*p)));var se=3*p;if(a&&a.length===se||(a=new Int32Array(se)),o=0,A=0,oe!==void 0){var le=oe[0].map(Math.round),J=oe[1].map(Math.round);c=e*Math.ceil(Math.abs(le[0])/e),l=t*Math.ceil(Math.abs(le[1])/t),u=n*Math.ceil(Math.abs(le[2])/n),V(le[0],le[1],le[2],J[0],J[1],J[2])}else c=l=u=0,V();return x.length=3*o,m||(C.length=3*o),B.length=A,r&&(G.length=o),{position:new Float32Array(x),normal:m?void 0:new Float32Array(C),index:ho(B,x.length/3),atomindex:r?new Int32Array(G):void 0,contour:y}}}Xs.add("arrow",class extends js{get primitive(){return Xg}}),Xs.add("box",class extends js{get primitive(){return vc}}),Xs.add("cone",class extends js{get primitive(){return jg}}),Xs.add("cylinder",class extends js{get primitive(){return xc}}),Xs.add("ellipsoid",class extends js{get primitive(){return mu}}),Xs.add("octahedron",class extends js{get primitive(){return qg}}),Xs.add("sphere",class extends js{get primitive(){return pu}}),Xs.add("tetrahedron",class extends js{get primitive(){return Yg}}),Xs.add("torus",class extends js{get primitive(){return Zg}}),Xs.add("point",class extends js{get primitive(){return Cf}}),Xs.add("wideline",class extends js{get primitive(){return Sf}}),Object.assign(u4,{__deps:[YM,XM,ho]});class Kn{constructor(e,t){this.cols=e,this.rows=t,this.size=this.cols*this.rows,this.data=new Float32Array(this.size)}copyTo(e){e.data.set(this.data)}}function Ia(i,e){let t=0,n=0;const r=e.rows,s=e.cols;let a=0,o=0,A=0;const c=e.data,l=i.data;for(;t<r;o+=1,a+=s,t++)for(A=o,n=0;n<s;A+=r,n++)l[A]=c[a+n]}function j1(i,e,t){let n=0,r=0,s=0,a=0,o=0,A=0,c=0;const l=e.cols,u=e.rows,d=t.rows,h=e.data,m=t.data,y=i.data;let g=0;for(;n<u;a+=l,n++)for(A=0,r=0;r<d;c++,r++){for(o=a,g=0,s=0;s<l;o++,A++,s++)g+=h[o]*m[A];y[c]=g}}function tw(i,e,t){const n=i.data,r=e.data,s=t.data,a=r[0],o=r[1],A=r[2],c=r[3],l=r[4],u=r[5],d=r[6],h=r[7],m=r[8],y=s[0],g=s[1],E=s[2],R=s[3],p=s[4],w=s[5],v=s[6],_=s[7],x=s[8];n[0]=a*y+o*R+A*v,n[1]=a*g+o*p+A*_,n[2]=a*E+o*w+A*x,n[3]=c*y+l*R+u*v,n[4]=c*g+l*p+u*_,n[5]=c*E+l*w+u*x,n[6]=d*y+h*R+m*v,n[7]=d*g+h*p+m*_,n[8]=d*E+h*w+m*x}function xE(i){const e=i.rows,t=i.cols,n=i.data,r=new Array(t);for(let s=0;s<t;++s)r[s]=0;for(let s=0,a=0;s<e;++s)for(let o=0;o<t;++o,++a)r[o]+=n[a];for(let s=0;s<t;++s)r[s]/=e;return r}function RE(i,e){const t=i.rows,n=i.cols,r=i.data;for(let s=0,a=0;s<t;++s)for(let o=0;o<n;++o,++a)r[a]-=e[o]}function nw(i,e,t,n){n=i[e],i[e]=i[t],i[t]=n}function ooe(i,e){return(i=Math.abs(i))>(e=Math.abs(e))?(e/=i,i*Math.sqrt(1+e*e)):e>0?(i/=e,e*Math.sqrt(1+i*i)):0}const Aoe=1192092896e-16,coe=1e-37;function jM(i,e,t,n){let r=0,s=0;const a=i.rows,o=i.cols;let A=a,c=o;A<c&&(r=1,s=A,A=c,c=s);const l=new Kn(A,A),u=new Kn(1,c),d=new Kn(c,c);if(r===0)Ia(l,i);else{for(s=0;s<o*a;s++)l.data[s]=i.data[s];for(;s<c*A;s++)l.data[s]=0}if(function(h,m,y,g,E,R,p,w){const v=2*Aoe,_=coe;let x=0,C=0,B=0,G=0;const I=Math.max(R,30);let N=0,T=0,M=0,U=0,z=0,L=0,k=0,K=0,V=0,D=0,H=0,oe=0,Ae=0,ee=0,se=0,le=0,J=0,me=4660,ue=0,ge=0,fe=0;const we=new Float64Array(p<<3);for(;x<p;x++){for(B=0,H=0;B<R;B++)K=h[x*m+B],H+=K*K;if(we[x]=H,g){for(B=0;B<p;B++)g[x*E+B]=0;g[x*E+x]=1}}for(;G<I;G++){for(z=0,x=0;x<p-1;x++)for(C=x+1;C<p;C++){for(N=x*m|0,T=C*m|0,se=we[x],le=0,J=we[C],B=2,le+=h[N]*h[T],le+=h[N+1]*h[T+1];B<R;B++)le+=h[N+B]*h[T+B];if(!(Math.abs(le)<=v*Math.sqrt(se*J))){for(le*=2,oe=se-J,Ae=ooe(le,oe),oe<0?(ee=.5*(Ae-oe),k=Math.sqrt(ee/Ae),L=le/(Ae*k*2)):(L=Math.sqrt((Ae+oe)/(2*Ae)),k=le/(Ae*L*2)),se=0,J=0,B=2,V=L*h[N]+k*h[T],D=-k*h[N]+L*h[T],h[N]=V,h[T]=D,se+=V*V,J+=D*D,V=L*h[N+1]+k*h[T+1],D=-k*h[N+1]+L*h[T+1],h[N+1]=V,h[T+1]=D,se+=V*V,J+=D*D;B<R;B++)V=L*h[N+B]+k*h[T+B],D=-k*h[N+B]+L*h[T+B],h[N+B]=V,h[T+B]=D,se+=V*V,J+=D*D;if(we[x]=se,we[C]=J,z=1,g)for(M=x*E|0,U=C*E|0,B=2,V=L*g[M]+k*g[U],D=-k*g[M]+L*g[U],g[M]=V,g[U]=D,V=L*g[M+1]+k*g[U+1],D=-k*g[M+1]+L*g[U+1],g[M+1]=V,g[U+1]=D;B<p;B++)V=L*g[M+B]+k*g[U+B],D=-k*g[M+B]+L*g[U+B],g[M+B]=V,g[U+B]=D}}if(z===0)break}for(x=0;x<p;x++){for(B=0,H=0;B<R;B++)K=h[x*m+B],H+=K*K;we[x]=Math.sqrt(H)}for(x=0;x<p-1;x++){for(C=x,B=x+1;B<p;B++)we[C]<we[B]&&(C=B);if(x!==C&&(nw(we,x,C,H),g)){for(B=0;B<R;B++)nw(h,x*m+B,C*m+B,K);for(B=0;B<p;B++)nw(g,x*E+B,C*E+B,K)}}for(x=0;x<p;x++)y[x]=we[x];if(g)for(x=0;x<w;x++){for(H=x<p?we[x]:0;H<=_;){for(ge=1/R,B=0;B<R;B++)me=214013*me+2531011,ue=256&me>>16?ge:-ge,h[x*m+B]=ue;for(G=0;G<2;G++)for(C=0;C<x;C++){for(H=0,B=0;B<R;B++)H+=h[x*m+B]*h[C*m+B];for(fe=0,B=0;B<R;B++)K=h[x*m+B]-H*h[C*m+B],h[x*m+B]=K,fe+=Math.abs(K);for(fe=fe?1/fe:0,B=0;B<R;B++)h[x*m+B]*=fe}for(H=0,B=0;B<R;B++)K=h[x*m+B],H+=K*K;H=Math.sqrt(H)}for(k=1/H,B=0;B<R;B++)h[x*m+B]*=k}}(l.data,A,u.data,d.data,c,A,c,A),e){for(s=0;s<c;s++)e.data[s]=u.data[s];for(;s<o;s++)e.data[s]=0}r===0?(t&&Ia(t,l),n&&Ia(n,d)):(t&&Ia(t,d),n&&Ia(n,l))}function Pd(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function ql(i,e,t,n,r,s,a,o,A,c,l,u,d,h,m,y,g){i[0]=e,i[4]=t,i[8]=n,i[12]=r,i[1]=s,i[5]=a,i[9]=o,i[13]=A,i[2]=c,i[6]=l,i[10]=u,i[14]=d,i[3]=h,i[7]=m,i[11]=y,i[15]=g}function Z1(i,e,t){const n=e[0],r=e[4],s=e[8],a=e[12],o=e[1],A=e[5],c=e[9],l=e[13],u=e[2],d=e[6],h=e[10],m=e[14],y=e[3],g=e[7],E=e[11],R=e[15],p=t[0],w=t[4],v=t[8],_=t[12],x=t[1],C=t[5],B=t[9],G=t[13],I=t[2],N=t[6],T=t[10],M=t[14],U=t[3],z=t[7],L=t[11],k=t[15];i[0]=n*p+r*x+s*I+a*U,i[4]=n*w+r*C+s*N+a*z,i[8]=n*v+r*B+s*T+a*L,i[12]=n*_+r*G+s*M+a*k,i[1]=o*p+A*x+c*I+l*U,i[5]=o*w+A*C+c*N+l*z,i[9]=o*v+A*B+c*T+l*L,i[13]=o*_+A*G+c*M+l*k,i[2]=u*p+d*x+h*I+m*U,i[6]=u*w+d*C+h*N+m*z,i[10]=u*v+d*B+h*T+m*L,i[14]=u*_+d*G+h*M+m*k,i[3]=y*p+g*x+E*I+R*U,i[7]=y*w+g*C+E*N+R*z,i[11]=y*v+g*B+E*T+R*L,i[15]=y*_+g*G+E*M+R*k}function BE(i,e,t,n){ql(i,e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1)}function CE(i,e,t,n){ql(i,1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1)}function SE(i,e){const t=Math.cos(e),n=Math.sin(e);ql(i,t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1)}function ZM(){return new Float32Array([1,0,0,0,1,0,0,0,1])}function d4(i,e){const t=hn([e[0],e[1],e[2]]),n=hn([e[4],e[5],e[6]]),r=hn([e[8],e[9],e[10]]),s=hn();ds(s,n,r),i[0]=s[0],i[1]=s[1],i[2]=s[2],ds(s,r,t),i[3]=s[0],i[4]=s[1],i[5]=s[2],ds(s,t,n),i[6]=s[0],i[7]=s[1],i[8]=s[2]}function f4(i,e,t,n){t=t||1,n=n||!0;const r=i.length/3,s=e.length/3;let a;n&&(a=new Float32Array(3*r));const o=new Float32Array(3*r);let A;const c=new Array(20);for(A=0;A<20;++A)c[A]=new Uint32Array(r);for(A=0;A<r;++A)c[0][A]=0;let l,u,d;for(A=0;A<s;++A){var h=3*A,m=3*A+1,y=3*A+2;for(d=!0,l=0,u=c[0][e[h]];l<u;++l)if(e[m]===c[l+1][e[h]]){d=!1;break}for(d&&(c[0][e[h]]++,c[c[0][e[h]]][e[h]]=e[m]),d=!0,l=0,u=c[0][e[h]];l<u;++l)if(e[y]===c[l+1][e[h]]){d=!1;break}for(d&&(c[0][e[h]]++,c[c[0][e[h]]][e[h]]=e[y]),d=!0,l=0,u=c[0][e[m]];l<u;++l)if(e[h]===c[l+1][e[m]]){d=!1;break}for(d&&(c[0][e[m]]++,c[c[0][e[m]]][e[m]]=e[h]),d=!0,l=0,u=c[0][e[m]];l<u;++l)if(e[y]===c[l+1][e[m]]){d=!1;break}for(d&&(c[0][e[m]]++,c[c[0][e[m]]][e[m]]=e[y]),d=!0,l=0;l<c[0][e[y]];++l)if(e[h]===c[l+1][e[y]]){d=!1;break}for(d&&(c[0][e[y]]++,c[c[0][e[y]]][e[y]]=e[h]),d=!0,l=0,u=c[0][e[y]];l<u;++l)if(e[m]===c[l+1][e[y]]){d=!1;break}d&&(c[0][e[y]]++,c[c[0][e[y]]][e[y]]=e[m])}for(var g,E,R,p,w,v=.5,_=.75/4.5,x=0;x<t;++x){for(A=0;A<r;++A)if(g=3*A,(R=c[0][A])<3)o[g]=i[g],o[g+1]=i[g+1],o[g+2]=i[g+2];else if(R===3||R===4){for(o[g]=0,o[g+1]=0,o[g+2]=0,l=0;l<R;++l)E=3*c[l+1][A],o[g]+=i[E],o[g+1]+=i[E+1],o[g+2]+=i[E+2];o[g]+=v*i[g],o[g+1]+=v*i[g+1],o[g+2]+=v*i[g+2],w=v+R,o[g]/=w,o[g+1]/=w,o[g+2]/=w}else{for(o[g]=0,o[g+1]=0,o[g+2]=0,l=0;l<R;++l)E=3*c[l+1][A],o[g]+=i[E],o[g+1]+=i[E+1],o[g+2]+=i[E+2];o[g]+=1*i[g],o[g+1]+=1*i[g+1],o[g+2]+=1*i[g+2],p=1+R,o[g]/=p,o[g+1]/=p,o[g+2]/=p}if(i.set(o),n){Mf(i,e,a);var C=3*r;for(g=0;g<C;g+=3)i[g]+=-1*_*a[g],i[g+1]+=-1*_*a[g+1],i[g+2]+=-1*_*a[g+2]}}}function Mf(i,e,t){var n,r;if(t===void 0)t=new Float32Array(i.length);else for(n=0,r=t.length;n<r;n++)t[n]=0;var s=new Float32Array(3),a=new Float32Array(3),o=new Float32Array(3),A=new Float32Array(3),c=new Float32Array(3);if(e)for(n=0,r=e.length;n<r;n+=3){var l=3*e[n],u=3*e[n+1],d=3*e[n+2];Qr(s,i,l),Qr(a,i,u),Qr(o,i,d),xi(A,o,a),xi(c,s,a),ds(A,A,c),t[l]+=A[0],t[l+1]+=A[1],t[l+2]+=A[2],t[u]+=A[0],t[u+1]+=A[1],t[u+2]+=A[2],t[d]+=A[0],t[d+1]+=A[1],t[d+2]+=A[2]}else for(n=0,r=i.length;n<r;n+=9)Qr(s,i,n),Qr(a,i,n+3),Qr(o,i,n+6),xi(A,o,a),xi(c,s,a),ds(A,A,c),t[n]=A[0],t[n+1]=A[1],t[n+2]=A[2],t[n+3]=A[0],t[n+4]=A[1],t[n+5]=A[2],t[n+6]=A[0],t[n+7]=A[1],t[n+8]=A[2];return FM(t),t}function JM(i){for(var e={},t=0,n=i.length;t<n;++t)e[i[t]]=!0;return e}function Tf(i,e,t,n,r){var s=1/n*3;UM(i,i,r+(s+=t)),X1(e,e,r+s),ti(i,i,n),_E(i,i),Ll(i,i,n),ti(e,e,n),Id(e,e),Ll(e,e,n);var a=new Float32Array(3);xi(a,e,i),ti(a,a,n),Id(a,a),X1(a,a,1);var o=256*Math.pow(10,6),A=a[0]*a[1]*a[2]*3;o<=A&&(ti(i,i,n*=Math.pow(o/A,1/3)),_E(i,i),Ll(i,i,n),ti(e,e,n),Id(e,e),Ll(e,e,n),xi(a,e,i),ti(a,a,n),Id(a,a),X1(a,a,1));var c=new Float32Array(i);Wg(c,c);var l=Pd(),u=Pd();SE(u,Mi(90)),Z1(l,l,u);var d=Pd();BE(d,-1/n,1/n,1/n),Z1(l,l,d);var h=Pd();return CE(h,-n*c[2],-n*c[1],-n*c[0]),Z1(l,l,h),{dim:a,tran:c,matrix:l,scaleFactor:n}}BE.__deps=[ql],CE.__deps=[ql],SE.__deps=[ql],d4.__deps=[hn,ds],Object.assign(f4,{__deps:[Mf]}),Object.assign(Mf,{__deps:[xi,ds,Qr,FM]}),Object.assign(Tf,{__deps:[Mi,UM,X1,Ll,ti,_E,Id,xi,Wg,Pd,Z1,CE,BE,SE]});class Jg{constructor(e,t,n){this.name=e||"",this.path=t||"",this.info={},this.center=new ne,this.boundingBox=new Gi,n instanceof tr||n instanceof ri?this.fromGeometry(n):n&&(this.set(n.position,n.index,n.normal,n.color,n.atomindex,n.contour),this.boundingBox.setFromArray(n.position),this.boundingBox.getCenter(this.center))}get type(){return"Surface"}set(e,t,n,r,s,a=!1){this.position=e,this.index=t,this.normal=n,this.color=r,this.atomindex=s,this.size=e.length/3,this.contour=a}fromGeometry(e){let t,n,r,s;if(ot&&He.time("GeometrySurface.fromGeometry"),t=e instanceof tr?e:e[0],t.boundingBox||t.computeBoundingBox(),this.boundingBox.copy(t.boundingBox),this.boundingBox.getCenter(this.center),t instanceof tr){const a=t.attributes,o=!!a.normal&&a.normal.array;(!o||o[0]===0&&o[1]===0&&o[2]===0)&&t.computeVertexNormals(),n=a.position.array,r=a.index?a.index.array:null,s=a.normal.array}this.set(n,r,s,void 0,void 0),ot&&He.timeEnd("GeometrySurface.setGeometry")}getPosition(){return this.position}getColor(e){const t=e||{};t.surface=this;const n=this.size,r=new Float32Array(3*n),s=Bn.getScheme(t);if(s.volumeColor||t.scheme==="random")for(let o=0;o<n;++o)s.volumeColorToArray(o,r,3*o);else if(s.positionColor){const o=new ne,A=this.position;for(let c=0;c<n;++c){var a=3*c;o.set(A[a],A[a+1],A[a+2]),s.positionColorToArray(o,r,a)}}else if(s.atomColor&&this.atomindex){const o=t.structure.getAtomProxy(),A=this.atomindex;for(let c=0;c<n;++c)o.index=A[c],s.atomColorToArray(o,r,3*c)}else{const o=new $t(t.value);ei(n,o.r,o.g,o.b,r)}return r}getPicking(e){return this.atomindex&&e?new Tc(this.atomindex,e):new roe(Cu(this.size),this)}getNormal(){return this.normal}getSize(e,t){return Ts(this.size,e*t)}getIndex(){return this.index}getFilteredIndex(e,t){if(e&&this.atomindex){const n=new ui(e),r=t.getAtomSet(n),s=[],a=this.atomindex,o=this.index,A=o.length,c=this.contour?2:3;let l=0;for(let u=0;u<A;u+=c){let d=!0;for(let h=0;h<c;h++){const m=a[o[u+h]];if(!r.get(m)){d=!1;break}}if(d)for(let h=0;h<c;h++,l++)s[l]=o[u+h]}return ho(s,this.position.length/3)}return this.index}getAtomindex(){return this.atomindex}dispose(){}}function c0(i,e,t,n,r){var s=new u4(i,e,t,n,r);this.getSurface=function(a,o,A,c,l,u=!1){const d=s.triangulate(a,o,A,l,u);if(o&&!l&&(f4(d.position,d.index,o,!0),d.normal=Mf(d.position,d.index)),c&&($g(c,d.position),d.normal)){const h=ZM();d4(h,c),l4(h,d.normal)}return d}}Object.assign(c0,{__deps:[f4,Mf,u4,$g,l4,ZM,d4]}),tf.add("surf",function(i,e){const t=i.data.args,n=i.data.params;if(t&&(self.volsurf=new c0(t[0],t[1],t[2],t[3],t[4])),n){const r=self.volsurf.getSurface(n.isolevel,n.smooth,n.box,n.matrix,n.contour,n.wrap),s=[r.position.buffer,r.index.buffer];r.normal&&s.push(r.normal.buffer),r.atomindex&&s.push(r.atomindex.buffer),e({sd:r,p:n},s)}},[c0]);class rs{constructor(e,t,n,r,s,a,o){this.name=e,this.path=t,this.matrix=new xt,this.normalMatrix=new Nn,this.inverseMatrix=new xt,this.center=new ne,this.boundingBox=new Gi,this.setData(n,r,s,a,o)}get type(){return"Volume"}setData(e,t,n,r,s){this.nx=t||1,this.ny=n||1,this.nz=r||1,this.data=e||new Float32Array(1),this.setAtomindex(s),delete this._position,delete this._min,delete this._max,delete this._mean,delete this._rms,this.worker&&this.worker.terminate()}setStats(e,t,n,r){this._min=e,this._max=t,this._mean=n,this._rms=r}setMatrix(e){this.matrix.copy(e);const t=this.boundingBox,n=this.center,r=this.nx-1,s=this.ny-1,a=this.nz-1;t.makeEmpty(),t.expandByPoint(n.set(r,s,a)),t.expandByPoint(n.set(r,s,0)),t.expandByPoint(n.set(r,0,a)),t.expandByPoint(n.set(r,0,0)),t.expandByPoint(n.set(0,s,a)),t.expandByPoint(n.set(0,0,a)),t.expandByPoint(n.set(0,s,0)),t.expandByPoint(n.set(0,0,0)),t.applyMatrix4(this.matrix),t.getCenter(this.center);const o=this.matrix.elements,A=new ne(o[0],o[1],o[2]),c=new ne(o[4],o[5],o[6]),l=new ne(o[8],o[9],o[10]),u=new ne,d=this.normalMatrix.elements;u.crossVectors(c,l),d[0]=u.x,d[1]=u.y,d[2]=u.z,u.crossVectors(l,A),d[3]=u.x,d[4]=u.y,d[5]=u.z,u.crossVectors(A,c),d[6]=u.x,d[7]=u.y,d[8]=u.z,this.inverseMatrix.copy(this.matrix).invert()}setAtomindex(e){this.atomindex=e}getBox(e,t,n){return n||(n=new Gi),n.set(e,e),n.expandByScalar(t),n.applyMatrix4(this.inverseMatrix),n.min.round(),n.max.round(),n}_getBox(e,t){if(!e||!t)return;this.__box||(this.__box=new Gi);const n=this.getBox(e,t,this.__box);return[n.min.toArray(),n.max.toArray()]}_makeSurface(e,t,n){const r=this.name+"@"+t.toPrecision(2),s=new Jg(r,"",e);return s.info.isolevel=t,s.info.smooth=n,s.info.volume=this,s}getSurface(e,t,n,r,s,a=!1){e=isNaN(e)?this.getValueForSigma(2):e,t=W(t,0),this.volsurf===void 0&&(this.volsurf=new c0(this.data,this.nx,this.ny,this.nz,this.atomindex));const o=this._getBox(n,r),A=this.volsurf.getSurface(e,t,o,this.matrix.elements,s,a);return this._makeSurface(A,e,t)}getSurfaceWorker(e,t,n,r,s,a,o){if(e=isNaN(e)?this.getValueForSigma(2):e,t=t||0,window.hasOwnProperty("Worker")){this.workerPool===void 0&&(this.workerPool=new bE("surf",2));const A={},c=this.workerPool.getNextWorker();c.postCount===0&&Object.assign(A,{args:[this.data,this.nx,this.ny,this.nz,this.atomindex]}),Object.assign(A,{params:{isolevel:e,smooth:t,box:this._getBox(n,r),matrix:this.matrix.elements,contour:s,wrap:a}}),c.post(A,void 0,l=>{const u=l.data.sd,d=l.data.p;o(this._makeSurface(u,d.isolevel,d.smooth))},l=>{console.warn("Volume.getSurfaceWorker error - trying without worker",l);const u=this.getSurface(e,t,n,r,s,a);o(u)})}else{const A=this.getSurface(e,t,n,r,s,a);o(A)}}getValueForSigma(e){return this.mean+W(e,2)*this.rms}getSigmaForValue(e){return(W(e,0)-this.mean)/this.rms}get position(){if(!this._position){const e=this.nz,t=this.ny,n=this.nx,r=new Float32Array(n*t*e*3);let s=0;for(let a=0;a<e;++a)for(let o=0;o<t;++o)for(let A=0;A<n;++A)r[s+0]=A,r[s+1]=o,r[s+2]=a,s+=3;$g(this.matrix.elements,r),this._position=r}return this._position}getDataAtomindex(){return this.atomindex}getDataPosition(){return this.position}getDataColor(e){const t=e||{};t.volume=this,t.scale=t.scale||"Spectral",t.domain=t.domain||[this.min,this.max];const n=Bn.getScheme(t),r=this.position.length/3,s=new Float32Array(3*r);for(let a=0;a<r;++a)n.volumeColorToArray(a,s,3*a);return s}getDataPicking(){const e=Cu(this.position.length/3);return new qM(e,this)}getDataSize(e,t){const n=this.data,r=this.position.length/3;let s;switch(e){case"value":case"deviation":s=new Float32Array(n);break;case"abs-value":s=new Float32Array(n);for(let a=0;a<r;++a)s[a]=Math.abs(s[a]);break;case"value-min":{s=new Float32Array(n);const a=this.min;for(let o=0;o<r;++o)s[o]-=a;break}default:s=Ts(r,e)}if(t!==1)for(let a=0;a<r;++a)s[a]*=t;return s}get min(){return this._min===void 0&&(this._min=q1(this.data)),this._min}get max(){return this._max===void 0&&(this._max=W1(this.data)),this._max}get sum(){return this._sum===void 0&&(this._sum=c4(this.data)),this._sum}get mean(){return this._mean===void 0&&(this._mean=Y1(this.data)),this._mean}get rms(){return this._rms===void 0&&(this._rms=function(e){const t=e.length;let n=0;for(let r=0;r<t;++r){const s=e[r];n+=s*s}return Math.sqrt(n/t)}(this.data)),this._rms}clone(){const e=new rs(this.name,this.path,this.data,this.nx,this.ny,this.nz,this.atomindex);return e.matrix.copy(this.matrix),e.header=Object.assign({},this.header),e}dispose(){this.workerPool&&this.workerPool.terminate()}}function F6(i){return i==="front"?pA:i==="back"?zr:Za}kn.add("shader/Mesh.vert",`#define STANDARD
uniform float clipNear;
uniform vec3 clipCenter;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#elif defined( NOLIGHT )
varying vec3 vColor;
#else
#include color_pars_vertex
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#endif
#include common
void main(){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#elif defined( NOLIGHT )
vColor = color;
#else
#include color_vertex
#include beginnormal_vertex
#include defaultnormal_vertex
#ifndef FLAT_SHADED
vNormal = normalize( transformedNormal );
#endif
#endif
#include begin_vertex
#include project_vertex
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),kn.add("shader/Mesh.frag",`#define STANDARD
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
#elif defined( NOLIGHT )
varying vec3 vColor;
#else
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#include common
#include color_pars_fragment
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#elif defined( NOLIGHT )
gl_FragColor = vec4( vColor, opacity );
#else
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
#include normal_fragment_begin
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
#include interior_fragment
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include colorspace_fragment
#include fog_fragment
#include opaque_back_fragment
#endif
}`);const I6={f:1,v2:2,v3:3,c:3};function iw(i,e){i.matrix.copy(e),i.matrix.decompose(i.position,i.quaternion,i.scale),i.matrixWorldNeedsUpdate=!0}const qr={opaqueBack:!1,side:"double",opacity:1,depthWrite:!0,clipNear:0,clipRadius:0,clipCenter:new ne,flatShaded:!1,wireframe:!1,roughness:.4,metalness:0,diffuse:16777215,diffuseInterior:!1,useInteriorColor:!1,interiorColor:14540253,interiorDarkening:0,forceTransparent:!1,matrix:new xt,disablePicking:!1,sortParticles:!1,background:!1},Gc={opaqueBack:{updateShader:!0},side:{updateShader:!0,property:!0},opacity:{uniform:!0},depthWrite:{property:!0},clipNear:{updateShader:!0,property:!0},clipRadius:{updateShader:!0,uniform:!0},clipCenter:{uniform:!0},flatShaded:{updateShader:!0},background:{updateShader:!0},wireframe:{updateVisibility:!0},roughness:{uniform:!0},metalness:{uniform:!0},diffuse:{uniform:!0},diffuseInterior:{updateShader:!0},useInteriorColor:{updateShader:!0},interiorColor:{uniform:!0},interiorDarkening:{uniform:!0},matrix:{}};class po{constructor(e,t={}){this.parameterTypes=Gc,this.geometry=new tr,this.indexVersion=0,this.wireframeIndexVersion=-1,this.group=new ri,this.wireframeGroup=new ri,this.pickingGroup=new ri,this.vertexShader="",this.fragmentShader="",this.isImpostor=!1,this.isText=!1,this.isSurface=!1,this.isPoint=!1,this.isLine=!1,this.dynamic=!0,this.visible=!0,this.wireframeIndexCount=0,this.parameters=Ms(t,this.defaultParameters),this.uniforms=V1.merge([Ft.common,{fogColor:{value:new $t(0)},fogNear:{value:0},fogFar:{value:0},opacity:{value:this.parameters.opacity},clipNear:{value:0},clipRadius:{value:this.parameters.clipRadius},clipCenter:{value:this.parameters.clipCenter}},{emissive:{value:new $t(0)},roughness:{value:this.parameters.roughness},metalness:{value:this.parameters.metalness},interiorColor:{value:new $t(this.parameters.interiorColor)},interiorDarkening:{value:this.parameters.interiorDarkening}},Ft.lights]),this.uniforms.diffuse.value.set(this.parameters.diffuse),this.pickingUniforms={clipNear:{value:0},objectId:{value:0},opacity:{value:this.parameters.opacity}};const n=e.position||e.position1;this._positionDataSize=n?n.length/3:0,e.primitiveId||(e.primitiveId=Cu(this._positionDataSize)),this.addAttributes({position:{type:"v3",value:e.position},color:{type:"c",value:e.color},primitiveId:{type:"f",value:e.primitiveId}}),t.matrix&&(this.matrix=t.matrix),e.index&&this.initIndex(e.index),this.picking=e.picking,this.makeWireframeGeometry()}get defaultParameters(){return qr}set matrix(e){this.setMatrix(e)}get matrix(){return this.group.matrix.clone()}get transparent(){return this.parameters.opacity<1||this.parameters.forceTransparent}get size(){return this._positionDataSize}get attributeSize(){return this.size}get pickable(){return!!this.picking&&!this.parameters.disablePicking}setMatrix(e){iw(this.group,e),iw(this.wireframeGroup,e),iw(this.pickingGroup,e)}initIndex(e){this.geometry.setIndex(new zi(e,1));const t=this.geometry.getIndex();t?t.setUsage(this.dynamic?il:XA):He.error("Index is null")}makeMaterial(){const e=F6(this.parameters.side),t=new Aa({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!0,fog:!0,side:e});t.vertexColors=!0,t.extensions.derivatives=!0,t.extensions.fragDepth=this.isImpostor;const n=new Aa({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!1,fog:!0,side:e});n.vertexColors=!0;const r=new Aa({uniforms:this.pickingUniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:!1,depthWrite:this.parameters.depthWrite,lights:!1,fog:!1,side:e,blending:oA});r.vertexColors=!0,r.extensions.fragDepth=this.isImpostor,t.clipNear=this.parameters.clipNear,n.clipNear=this.parameters.clipNear,r.clipNear=this.parameters.clipNear,this.material=t,this.wireframeMaterial=n,this.pickingMaterial=r,this.updateShader()}makeWireframeGeometry(){this.makeWireframeIndex();const e=this.geometry,t=this.wireframeIndex,n=new tr;n.attributes=e.attributes,t&&(n.setIndex(new zi(t,1).setUsage(this.dynamic?il:XA)),n.setDrawRange(0,this.wireframeIndexCount)),this.wireframeGeometry=n}makeWireframeIndex(){const e=[];function t(s,a){if(s>a){const A=s;s=a,a=A}const o=e[s];return o===void 0?(e[s]=[a],!0):!o.includes(a)&&(o.push(a),!0)}const n=this.geometry,r=n.index;if(this.parameters.wireframe)if(r){const s=r.array;let a,o=s.length;n.drawRange.count!==1/0&&(o=n.drawRange.count),this.wireframeIndex&&this.wireframeIndex.length>2*o?a=this.wireframeIndex:a=ho(2*o,n.attributes.position.count);let A=0;e.length=0;for(let c=0;c<o;c+=3){const l=s[c+0],u=s[c+1],d=s[c+2];t(l,u)&&(a[A+0]=l,a[A+1]=u,A+=2),t(u,d)&&(a[A+0]=u,a[A+1]=d,A+=2),t(d,l)&&(a[A+0]=d,a[A+1]=l,A+=2)}this.wireframeIndex=a,this.wireframeIndexCount=A,this.wireframeIndexVersion=this.indexVersion}else{const s=n.attributes.position.count;let a;a=this.wireframeIndex&&this.wireframeIndex.length>2*s?this.wireframeIndex:ho(2*s,s);for(let o=0,A=0;o<s;o+=3)a[A+0]=o,a[A+1]=o+1,a[A+2]=o+1,a[A+3]=o+2,a[A+4]=o+2,a[A+5]=o,A+=6;this.wireframeIndex=a,this.wireframeIndexCount=2*s,this.wireframeIndexVersion=this.indexVersion}else this.wireframeIndex=new Uint16Array(0),this.wireframeIndexCount=0}updateWireframeIndex(){if(this.wireframeGeometry&&this.wireframeIndex){if(this.wireframeGeometry.setDrawRange(0,1/0),this.wireframeIndexVersion<this.indexVersion&&this.makeWireframeIndex(),this.wireframeGeometry.index&&this.wireframeIndex.length>this.wireframeGeometry.index.array.length)this.wireframeGeometry.setIndex(new zi(this.wireframeIndex,1).setUsage(this.dynamic?il:XA));else{const e=this.wireframeGeometry.getIndex();if(!e)return void He.error("Index is null");e.set(this.wireframeIndex),e.needsUpdate=this.wireframeIndexCount>0,e.updateRange.count=this.wireframeIndexCount}this.wireframeGeometry.setDrawRange(0,this.wireframeIndexCount)}}getRenderOrder(){let e=0;return this.isText?e=1:this.transparent&&(e=this.isSurface?3:2),e}_getMesh(e){this.material||this.makeMaterial();const t=this.geometry,n=this[e];let r;return r=this.isLine?new hE(t,n):this.isPoint?new pM(t,n):new io(t,n),r.frustumCulled=!1,r.renderOrder=this.getRenderOrder(),r}getMesh(){return this._getMesh("material")}getWireframeMesh(){let e;return this.material||this.makeMaterial(),this.wireframeGeometry||this.makeWireframeGeometry(),e=new hE(this.wireframeGeometry,this.wireframeMaterial),e.frustumCulled=!1,e.renderOrder=this.getRenderOrder(),e}getPickingMesh(){return this._getMesh("pickingMaterial")}getShader(e,t){return Fd(e,this.getDefines(t))}getVertexShader(e){return this.getShader(this.vertexShader,e)}getFragmentShader(e){return this.getShader(this.fragmentShader,e)}getDefines(e){const t={};return this.parameters.clipNear&&(t.NEAR_CLIP=1),this.parameters.clipRadius&&(t.RADIUS_CLIP=1),e==="picking"?t.PICKING=1:((e==="background"||this.parameters.background)&&(t.NOLIGHT=1),this.parameters.flatShaded&&(t.FLAT_SHADED=1),this.parameters.opaqueBack&&(t.OPAQUE_BACK=1),this.parameters.diffuseInterior&&(t.DIFFUSE_INTERIOR=1),this.parameters.useInteriorColor&&(t.USE_INTERIOR_COLOR=1)),t}getParameters(){return this.parameters}addUniforms(e){this.uniforms=V1.merge([this.uniforms,e]),this.pickingUniforms=V1.merge([this.pickingUniforms,e])}addAttributes(e){for(let t in e){let n;const r=e[t],s=this.attributeSize*I6[r.type];r.value?(s!==r.value.length&&He.error("attribute value has wrong length",t),n=r.value):n=bM("float32",s),this.geometry.setAttribute(t,new zi(n,I6[r.type]).setUsage(this.dynamic?il:XA))}}updateRenderOrder(){const e=this.getRenderOrder();function t(n){n.renderOrder=e}this.group.children.forEach(t),this.pickingGroup&&this.pickingGroup.children.forEach(t)}updateShader(){const e=this.material,t=this.wireframeMaterial,n=this.pickingMaterial;e.vertexShader=this.getVertexShader(),e.fragmentShader=this.getFragmentShader(),e.needsUpdate=!0,t.vertexShader=this.getShader("Line.vert"),t.fragmentShader=this.getShader("Line.frag"),t.needsUpdate=!0,n.vertexShader=this.getVertexShader("picking"),n.fragmentShader=this.getFragmentShader("picking"),n.needsUpdate=!0}setParameters(e){const t=e,n=this.parameterTypes,r=this.parameters,s={},a={};let o=!1,A=!1;for(const c in t){const l=t[c];l!==void 0&&(r[c]=l,n[c]!==void 0&&(n[c].property&&(n[c].property!==!0?s[n[c].property]=l:s[c]=l),n[c].uniform&&(n[c].uniform!==!0?a[n[c].uniform]=l:a[c]=l),n[c].updateShader&&(o=!0),n[c].updateVisibility&&(A=!0),this.dynamic&&c==="wireframe"&&l===!0&&this.updateWireframeIndex(),c==="forceTransparent"&&(s.transparent=this.transparent),c==="matrix"&&(this.matrix=l)))}this.setProperties(s),this.setUniforms(a),o&&this.updateShader(),A&&this.setVisibility(this.visible)}setAttributes(e){const t=this.geometry,n=t.attributes;for(const r in e){if(r==="picking")continue;const s=e[r],a=s.length;if(r==="index"){const o=t.getIndex();if(!o){He.error("Index is null");continue}t.setDrawRange(0,1/0),a>o.array.length?t.setIndex(new zi(s,1).setUsage(this.dynamic?il:XA)):(o.set(s),o.needsUpdate=a>0,o.updateRange.count=a,t.setDrawRange(0,a)),this.indexVersion++,this.parameters.wireframe&&this.updateWireframeIndex()}else{const o=n[r];a>o.array.length?t.setAttribute(r,new zi(s,o.itemSize).setUsage(this.dynamic?il:XA)):(n[r].set(s),n[r].needsUpdate=a>0,n[r].updateRange.count=a)}}}setUniforms(e){if(!e)return;const t=this.material.uniforms,n=this.wireframeMaterial.uniforms,r=this.pickingMaterial.uniforms;for(let s in e)s==="opacity"&&this.setProperties({transparent:this.transparent}),t[s]!==void 0&&(t[s].value.isVector3?t[s].value.copy(e[s]):t[s].value.set?t[s].value.set(e[s]):t[s].value=e[s]),n[s]!==void 0&&(n[s].value.isVector3?n[s].value.copy(e[s]):n[s].value.set?n[s].value.set(e[s]):n[s].value=e[s]),r[s]!==void 0&&(r[s].value.isVector3?r[s].value.copy(e[s]):r[s].value.set?r[s].value.set(e[s]):r[s].value=e[s])}setProperties(e){if(!e)return;const t=this.material,n=this.wireframeMaterial,r=this.pickingMaterial;for(const s in e){const a=s;let o=e[a];a==="transparent"?this.updateRenderOrder():a==="side"&&(o=F6(o)),t[a]=o,n[a]=o,r[a]=o}t.needsUpdate=!0,n.needsUpdate=!0,r.needsUpdate=!0}setVisibility(e){this.visible=e,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=e,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=e,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=e))}dispose(){this.material&&this.material.dispose(),this.wireframeMaterial&&this.wireframeMaterial.dispose(),this.pickingMaterial&&this.pickingMaterial.dispose(),this.geometry.dispose(),this.wireframeGeometry&&this.wireframeGeometry.dispose()}toJSON(){var e={};for(var t in this)t!=="group"&&t!=="wireframeGroup"&&t!="pickingGroup"&&t!=="picking"&&(e[t]=this[t]);return e}}class gA extends po{constructor(e,t={}){super(e,t),this.vertexShader="Mesh.vert",this.fragmentShader="Mesh.frag",this.addAttributes({normal:{type:"v3",value:e.normal}}),e.normal===void 0&&this.geometry.computeVertexNormals()}}class eT extends gA{constructor(){super(...arguments),this.isSurface=!0}}function a1(i){i.visible=!0}function U6(i){i.visible=!1}class tT{constructor(e){this.group=new ri,this.wireframeGroup=new ri,this.pickingGroup=new ri,this.frontMeshes=[],this.backMeshes=[],this.size=e.size,this.side=e.parameters.side,this.visible=e.visible,this.geometry=e.geometry,this.picking=e.picking,this.group=new ri,this.wireframeGroup=new ri,this.pickingGroup=new ri,this.matrix=e.matrix;const t=e,n=new e.constructor({position:new Float32Array(0)});t.makeMaterial(),n.makeMaterial(),n.picking=e.picking,n.geometry=e.geometry,n.wireframeGeometry=e.wireframeGeometry,n.setParameters(e.getParameters()),n.updateShader(),t.setParameters({side:"front"}),n.setParameters({side:"back",opacity:n.parameters.opacity}),this.buffer=e,this.frontBuffer=t,this.backBuffer=n}set matrix(e){po.prototype.setMatrix.call(this,e)}get matrix(){return this.group.matrix.clone()}get pickable(){return!!this.picking&&!this.parameters.disablePicking}get parameters(){return this.buffer.parameters}getParameters(){const e=Object.assign({},this.buffer.parameters);return e.side=this.side,e}getMesh(e){let t,n;return e?(n=this.backBuffer.getPickingMesh(),t=this.frontBuffer.getPickingMesh()):(n=this.backBuffer.getMesh(),t=this.frontBuffer.getMesh()),this.frontMeshes.push(t),this.backMeshes.push(n),this.setParameters({side:this.side}),new ri().add(n,t)}getWireframeMesh(){return this.buffer.getWireframeMesh()}getPickingMesh(){return this.getMesh(!0)}setAttributes(e){this.buffer.setAttributes(e)}setParameters(e){(e=Object.assign({},e)).side==="front"?(this.frontMeshes.forEach(a1),this.backMeshes.forEach(U6)):e.side==="back"?(this.frontMeshes.forEach(U6),this.backMeshes.forEach(a1)):e.side==="double"&&(this.frontMeshes.forEach(a1),this.backMeshes.forEach(a1)),e.side!==void 0&&(this.side=e.side),delete e.side,e.matrix!==void 0&&(this.matrix=e.matrix),delete e.matrix,this.frontBuffer.setParameters(e),e.wireframe!==void 0&&(this.wireframe=e.wireframe,this.setVisibility(this.visible)),delete e.wireframe,this.backBuffer.setParameters(e)}setVisibility(e){this.visible=e,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=e,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=e,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=e))}dispose(){this.frontBuffer.dispose(),this.backBuffer.dispose()}toJSON(){var e={};for(var t in this)["side","size","visible","matrix","parameters"].includes(t)&&(e[t]=this[t]);return e}}kn.add("shader/Line.vert",`uniform float clipNear;
uniform vec3 clipCenter;
varying vec3 vViewPosition;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#include color_pars_vertex
void main(){
#include color_vertex
#include begin_vertex
#include project_vertex
vViewPosition = -mvPosition.xyz;
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),kn.add("shader/Line.frag",`uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
varying vec3 vViewPosition;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#include common
#include color_pars_fragment
#include fog_pars_fragment
void main(){
#include nearclip_fragment
#include radiusclip_fragment
gl_FragColor = vec4( vColor, opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include colorspace_fragment
#include fog_fragment
}`);class nT extends po{constructor(){super(...arguments),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag"}}class NE extends jf{constructor(e,t,n){super(e,t,n),this.type="surface",this.parameters=Object.assign({isolevelType:{type:"select",options:{value:"value",sigma:"sigma"}},isolevel:{type:"number",precision:2,max:1e3,min:-1e3},negateIsolevel:{type:"boolean"},isolevelScroll:{type:"boolean"},smooth:{type:"integer",precision:1,max:10,min:0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},boxSize:{type:"integer",precision:1,max:100,min:0},colorVolume:{type:"hidden"},contour:{type:"boolean",rebuild:!0},useWorker:{type:"boolean",rebuild:!0},wrap:{type:"boolean",rebuild:!0}},this.parameters),e instanceof rs?(this.surface=void 0,this.volume=e):(this.surface=e,this.volume=void 0),this.boxCenter=new ne,this.__boxCenter=new ne,this.box=new Gi,this.__box=new Gi,this._position=new ne,this.inverseMatrix=new xt,this.setBox=function(){this._position.copy(t.translationGroup.position).negate(),this._position.applyMatrix4(this.inverseMatrix),this._position.equals(this.boxCenter)||this.setParameters({boxCenter:this._position})},this.toBePrepared=!0,this.viewer.signals.ticked.add(this.setBox,this),this.init(n)}init(e){const t=e||{};t.colorScheme=W(t.colorScheme,"uniform"),t.colorValue=W(t.colorValue,14540253),this.isolevelType=W(t.isolevelType,"sigma"),this.isolevel=W(t.isolevel,2),this.negateIsolevel=W(t.negateIsolevel,!1),this.isolevelScroll=W(t.isolevelScroll,!1),this.smooth=W(t.smooth,0),this.background=W(t.background,!1),this.opaqueBack=W(t.opaqueBack,!0),this.boxSize=W(t.boxSize,0),this.colorVolume=W(t.colorVolume,void 0),this.contour=W(t.contour,!1),this.useWorker=W(t.useWorker,!0),this.wrap=W(t.wrap,!1),super.init(t),this.inverseMatrix.copy(this.matrix).invert(),this.build()}attach(e){this.bufferList.forEach(t=>{this.viewer.add(t)}),this.setVisibility(this.visible),e()}prepare(e){if(this.volume){let t;if(t=this.isolevelType==="sigma"?this.volume.getValueForSigma(this.isolevel):this.isolevel,this.negateIsolevel&&(t*=-1),!this.surface||this.__isolevel!==t||this.__smooth!==this.smooth||this.__contour!==this.contour||this.__wrap!==this.wrap||this.__boxSize!==this.boxSize||this.boxSize>0&&!this.__boxCenter.equals(this.boxCenter)){this.__isolevel=t,this.__smooth=this.smooth,this.__contour=this.contour,this.__wrap=this.wrap,this.__boxSize=this.boxSize,this.__boxCenter.copy(this.boxCenter),this.__box.copy(this.box);const n=r=>{this.surface=r,e()};this.useWorker?this.volume.getSurfaceWorker(t,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap,n):n(this.volume.getSurface(t,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap))}else e()}else e()}create(){const e={position:this.surface.getPosition(),color:this.surface.getColor(this.getColorParams()),index:this.surface.getIndex()};let t;if(this.contour)t=new nT(e,this.getBufferParams({wireframe:!1}));else{Object.assign(e,{normal:this.surface.getNormal(),picking:this.surface.getPicking()});const n=new eT(e,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1}));t=new tT(n)}this.bufferList.push(t)}update(e){if(this.bufferList.length===0)return;const t={};(e=e||{}).position&&(t.position=this.surface.getPosition()),e.color&&(t.color=this.surface.getColor(this.getColorParams())),e.index&&(t.index=this.surface.getIndex()),e.normal&&(t.normal=this.surface.getNormal()),this.bufferList.forEach(function(n){n.setAttributes(t)})}setParameters(e,t,n){return e&&e.isolevelType!==void 0&&this.volume&&(this.isolevelType==="value"&&e.isolevelType==="sigma"?this.isolevel=this.volume.getSigmaForValue(this.isolevel):this.isolevelType==="sigma"&&e.isolevelType==="value"&&(this.isolevel=this.volume.getValueForSigma(this.isolevel)),this.isolevelType=e.isolevelType),e&&e.boxCenter&&(this.boxCenter.copy(e.boxCenter),delete e.boxCenter),e&&e.wireframe&&(e.contour||e.contour===void 0&&this.contour)&&(e.wireframe=!1),super.setParameters(e,t,n),e.matrix&&this.inverseMatrix.copy(e.matrix).invert(),this.volume&&this.volume.getBox(this.boxCenter,this.boxSize,this.box),e&&e.colorVolume!==void 0&&t&&(t.color=!0),this.surface&&(e.isolevel!==void 0||e.negateIsolevel!==void 0||e.smooth!==void 0||e.wrap!==void 0||e.boxSize!==void 0||this.boxSize>0&&!this.__box.equals(this.box))&&this.build({position:!0,color:!0,index:!0,normal:!this.contour}),this}getColorParams(){const e=super.getColorParams();return e.volume=this.colorVolume,e}dispose(){this.viewer.signals.ticked.remove(this.setBox,this),super.dispose()}}class Tn{static zoomScroll(e,t){e.trackballControls.zoom(t)}static clipNearScroll(e,t){const n=e.getParameters();e.setParameters({clipNear:n.clipNear+t/10})}static focusScroll(e,t){const n=e.getFocus(),r=Math.sign(t)*function(s,a,o){if(s>a)return s;const A=s/a;return((2*o-a)*A+(2*a-3*o))*A*A+o}((100-n)/10,5,.2);e.setFocus(n+r)}static zoomFocusScroll(e,t){e.trackballControls.zoom(t);const n=e.viewer.camera.position.z;e.setFocus(100-Math.abs(n/8))}static isolevelScroll(e,t){const n=Math.sign(t)/10;e.eachRepresentation((r,s)=>{if(r.repr instanceof NE){const a=r.getParameters();a.isolevelScroll&&r.setParameters({isolevel:a.isolevel+n})}})}static panDrag(e,t,n){e.trackballControls.pan(t,n)}static rotateDrag(e,t,n){e.trackballControls.rotate(t,n)}static zRotateDrag(e,t,n){e.trackballControls.zRotate(t,n)}static zoomDrag(e,t,n){e.trackballControls.zoom((t+n)/-2)}static zoomFocusDrag(e,t,n){e.trackballControls.zoom((t+n)/-2);const r=e.viewer.camera.position.z;e.setFocus(100-Math.abs(r/8))}static panComponentDrag(e,t,n){e.trackballControls.panComponent(t,n)}static panAtomDrag(e,t,n){e.trackballControls.panAtom(t,n)}static rotateComponentDrag(e,t,n){e.trackballControls.rotateComponent(t,n)}static movePick(e,t){t&&e.animationControls.move(t.position.clone())}static tooltipPick(e,t){const n=e.tooltip;if(e.getParameters().tooltip&&t){const r=t.mouse.position;n.innerText=t.getLabel(),n.style.bottom=window.innerHeight-r.y+3+"px",n.style.left=r.x+3+"px",n.style.display="block"}else n.style.display="none"}static measurePick(e,t){if(t&&(t.atom||t.bond)){const n=t.atom||t.closestBondAtom;t.component.measurePick(n)}else e.measureClear()}}const iT={default:[["scroll",Tn.zoomScroll],["scroll-shift",Tn.focusScroll],["scroll-ctrl",Tn.isolevelScroll],["scroll-shift-ctrl",Tn.zoomFocusScroll],["drag-left",Tn.rotateDrag],["drag-right",Tn.panDrag],["drag-ctrl-left",Tn.panDrag],["drag-ctrl-right",Tn.zRotateDrag],["drag-shift-left",Tn.zoomDrag],["drag-middle",Tn.zoomFocusDrag],["drag-ctrl-shift-right",Tn.panComponentDrag],["drag-ctrl-shift-left",Tn.rotateComponentDrag],["clickPick-right",Tn.measurePick],["clickPick-ctrl-left",Tn.measurePick],["clickPick-middle",Tn.movePick],["clickPick-left",Tn.movePick],["hoverPick",Tn.tooltipPick]],pymol:[["drag-left",Tn.rotateDrag],["drag-middle",Tn.panDrag],["drag-right",Tn.zoomDrag],["scroll",Tn.focusScroll],["drag-shift-right",Tn.focusScroll],["clickPick-ctrl+shift-middle",Tn.movePick],["hoverPick",Tn.tooltipPick]],coot:[["scroll",Tn.isolevelScroll],["drag-left",Tn.rotateDrag],["drag-middle",Tn.panDrag],["drag-ctrl-left",Tn.panDrag],["drag-right",Tn.zoomFocusDrag],["drag-ctrl-right",Tn.focusScroll],["clickPick-middle",Tn.movePick],["hoverPick",Tn.tooltipPick]],astexviewer:[["drag-left",Tn.rotateDrag],["drag-ctrl-left",Tn.panDrag],["drag-shift-left",Tn.zoomDrag],["scroll",Tn.focusScroll],["clickPick-middle",Tn.movePick],["hoverPick",Tn.tooltipPick]]};function P6(i){const e=i.split(/[-+]/);let t="";e.includes("scroll")&&(t="scroll"),e.includes("drag")&&(t="drag"),e.includes("click")&&(t="click"),e.includes("doubleClick")&&(t="doubleClick"),e.includes("hover")&&(t="hover"),e.includes("clickPick")&&(t="clickPick"),e.includes("hoverPick")&&(t="hoverPick");let n=0;e.includes("alt")&&(n+=1),e.includes("ctrl")&&(n+=2),e.includes("meta")&&(n+=4),e.includes("shift")&&(n+=8);let r=0;return e.includes("left")&&(r+=1),e.includes("right")&&(r+=2),e.includes("middle")&&(r+=4),[t,n,r]}class loe{constructor(e,t={}){this.stage=e,this.actionList=[],this.mouse=e.mouseObserver,this.disabled=t.disabled||!1,this.preset(t.preset||"default")}run(e,...t){if(this.disabled)return;const n=this.mouse.key||0,r=this.mouse.buttons||0;this.actionList.forEach(s=>{s.type===e&&s.key===n&&s.button===r&&s.callback(this.stage,...t)})}add(e,t){const[n,r,s]=P6(e);this.actionList.push({type:n,key:r,button:s,callback:t})}remove(e,t){const n=e.includes("*"),[r,s,a]=P6(e),o=this.actionList.filter(function(A){return!((A.type===r||n&&r==="")&&(A.key===s||n&&s===0)&&(A.button===a||n&&a===0)&&(A.callback===t||t===void 0))});this.actionList=o}preset(e){this.clear(),(iT[e]||[]).forEach(t=>this.add(t[0],t[1]))}clear(){this.actionList.length=0}}class ud{static autoView(e){e.autoView(1e3)}static toggleAnimations(e){e.animationControls.toggle()}static toggleRock(e){e.toggleRock()}static toggleSpin(e){e.toggleSpin()}static toggleAntialiasing(e){const t=e.getParameters();e.setParameters({sampleLevel:t.sampleLevel===-1?0:-1})}}const uoe={default:[["i",ud.toggleSpin],["k",ud.toggleRock],["p",ud.toggleAnimations],["a",ud.toggleAntialiasing],["r",ud.autoView]]};class doe{constructor(e,t={}){this.stage=e,this.actionList=[],this.disabled=t.disabled||!1,this.preset(t.preset||"default")}run(e){this.disabled||this.actionList.forEach(t=>{t.key===e&&t.callback(this.stage)})}add(e,t){this.actionList.push({key:e,callback:t})}remove(e,t){const n=this.actionList.filter(function(r){return!(r.key===e&&(r.callback===t||t===void 0))});this.actionList=n}preset(e){this.clear(),(uoe[e]||[]).forEach(t=>this.add(t[0],t[1]))}clear(){this.actionList.length=0}}class foe{constructor(e){this.stage=e,this.stage=e,this.mouse=e.mouseObserver,this.controls=e.mouseControls,this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this)}_onClick(e,t){const n=this.stage.pickingControls.pick(e,t);this.stage.signals.clicked.dispatch(n),this.controls.run("clickPick",n)}_onHover(e,t){const n=this.stage.pickingControls.pick(e,t);n&&this.mouse.down.equals(this.mouse.position)&&(this.stage.transformComponent=n.component,this.stage.transformAtom=n.atom),this.stage.signals.hovered.dispatch(n),this.controls.run("hoverPick",n)}dispose(){this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)}}class hoe{constructor(e){this.stage=e,this.stage=e,this.mouse=e.mouseObserver,this.controls=e.mouseControls,this.mouse.signals.moved.add(this._onMove,this),this.mouse.signals.scrolled.add(this._onScroll,this),this.mouse.signals.dragged.add(this._onDrag,this),this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this),this.mouse.signals.doubleClicked.add(this._onDblclick,this)}_onMove(){this.stage.tooltip.style.display="none"}_onScroll(e){this.controls.run("scroll",e)}_onDrag(e,t){this.controls.run("drag",e,t)}_onClick(e,t){this.controls.run("click",e,t)}_onDblclick(e,t){this.controls.run("doubleClick",e,t)}_onHover(e,t){this.controls.run("hover",e,t)}dispose(){this.mouse.signals.moved.remove(this._onMove,this),this.mouse.signals.scrolled.remove(this._onScroll,this),this.mouse.signals.dragged.remove(this._onDrag,this),this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)}}class poe{constructor(e){this.stage=e,this.viewer=e.viewer,this.animationControls=e.animationControls,this.viewer.signals.ticked.add(this._onTick,this)}_onTick(e){this.animationControls.run(e)}dispose(){this.viewer.signals.ticked.remove(this._onTick,this)}}const L6=!!RM&&{passive:!0};class moe{constructor(e){this.stage=e,this.stage=e,this.controls=e.keyControls,this.domElement=e.viewer.renderer.domElement,this.domElement.setAttribute("tabIndex","-1"),this.domElement.style.outline="none",this._focusDomElement=this._focusDomElement.bind(this),this._onKeydown=this._onKeydown.bind(this),this._onKeyup=this._onKeyup.bind(this),this._onKeypress=this._onKeypress.bind(this),this.domElement.addEventListener("mousedown",this._focusDomElement),this.domElement.addEventListener("touchstart",this._focusDomElement,L6),this.domElement.addEventListener("keydown",this._onKeydown),this.domElement.addEventListener("keyup",this._onKeyup),this.domElement.addEventListener("keypress",this._onKeypress)}_onKeydown(){}_onKeyup(){}_onKeypress(e){let t;t="key"in KeyboardEvent.prototype?e.key:String.fromCharCode(e.which||e.keyCode),this.controls.run(t)}_focusDomElement(){this.domElement.focus()}dispose(){this.domElement.removeEventListener("mousedown",this._focusDomElement),this.domElement.removeEventListener("touchstart",this._focusDomElement,L6),this.domElement.removeEventListener("keydown",this._onKeypress),this.domElement.removeEventListener("keyup",this._onKeypress),this.domElement.removeEventListener("keypress",this._onKeypress)}}class goe{constructor(e,t,n,r={}){this.component=e,this.position=t,this.offsetX=W(r.offsetX,0),this.offsetY=W(r.offsetY,0),this.visible=W(r.visible,!0),this.stage=e.stage,this.viewer=e.stage.viewer,this._viewerPosition=new ne,this._updateViewerPosition(),this._canvasPosition=new bn,this._cameraPosition=new ne,this.element=document.createElement("div"),Object.assign(this.element.style,{display:"block",position:"absolute",pointerEvents:"none",whiteSpace:"nowrap",left:"-10000px"}),this.viewer.wrapper.appendChild(this.element),this.setContent(n),this.updateVisibility(),this.viewer.signals.rendered.add(this._update,this),this.component.signals.matrixChanged.add(this._updateViewerPosition,this)}setContent(e){const t=this.element.style.display;if(t==="none"&&(this.element.style.left="-10000px",this.element.style.display="block"),e instanceof HTMLElement)this.element.appendChild(e);else{const n=document.createElement("div");n.innerText=e,Object.assign(n.style,{backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),this.element.appendChild(n)}this._clientRect=this.element.getBoundingClientRect(),t==="none"&&(this.element.style.display=t)}setVisibility(e){this.visible=e,this.updateVisibility()}getVisibility(){return this.visible&&this.component.parameters.visible}updateVisibility(){this.element.style.display=this.getVisibility()?"block":"none"}_updateViewerPosition(){this._viewerPosition.copy(this.position).applyMatrix4(this.component.matrix)}_update(){if(!this.getVisibility())return;const e=this.element.style,t=this._canvasPosition,n=this._viewerPosition,r=this._clientRect;if(this._cameraPosition.copy(n).add(this.viewer.translationGroup.position).applyMatrix4(this.viewer.rotationGroup.matrix).sub(this.viewer.camera.position),this._cameraPosition.z<0)return void(e.display="none");e.display="block";const s=this._cameraPosition.length(),a=this.viewer.scene.fog;e.opacity=(1-qf(a.near,a.far,s)).toString(),e.zIndex=Math.round(100*(a.far-s)).toString(),this.stage.viewerControls.getPositionOnCanvas(n,t),e.bottom=this.offsetX+t.y+r.height/2+"px",e.left=this.offsetY+t.x-r.width/2+"px"}dispose(){this.viewer.wrapper.removeChild(this.element),this.viewer.signals.ticked.remove(this._update,this),this.component.signals.matrixChanged.remove(this._updateViewerPosition,this)}}const VA=new xt,o1=new ne,D6=new $r;class yoe{constructor(e){this.component=e,this.signals={changed:new fn.exports.Signal},this.stage=e.stage,this.viewer=e.stage.viewer}get position(){return this.component.position}get rotation(){return this.component.quaternion}changed(){this.component.updateMatrix(),this.viewer.requestRender(),this.signals.changed.dispatch()}spin(e,t){VA.copy(this.viewer.rotationGroup.matrix).invert(),o1.copy(mc(e)).applyMatrix4(VA),VA.extractRotation(this.component.transform),VA.premultiply(this.viewer.rotationGroup.matrix),VA.invert(),o1.copy(mc(e)),o1.applyMatrix4(VA),VA.makeRotationAxis(o1,t),D6.setFromRotationMatrix(VA),this.component.quaternion.premultiply(D6),this.changed()}}const rT={"":"",vdw:"by vdW radius",covalent:"by covalent radius",sstruc:"by secondary structure",bfactor:"by bfactor",size:"size",data:"data",explicit:"explicit"};class yA{constructor(e={}){this.max=10,this.type=W(e.type,"size"),this.scale=W(e.scale,1),this.size=W(e.size,1),this.data=W(e.data,{})}atomRadius(e){let t;switch(this.type){case"vdw":t=e.vdw;break;case"covalent":t=e.covalent;break;case"bfactor":t=e.bfactor||1;break;case"sstruc":const n=e.sstruc;t=n==="h"||n==="g"||n==="i"||n==="e"||n==="b"?.25:KM.includes(e.atomname)?.4:.1;break;case"data":t=W(this.data[e.index],1);break;case"explicit":t=e.radius,t===null&&(t=this.size);break;default:t=this.size}return Math.min(t*this.scale,this.max)}}yA.types=rT;const woe=new ne(-1,-1,-1),boe=new xt;class sT{constructor(e){const t=e.rows,n=t/3,r=new Kn(t,3),s=new Kn(3,3),a=new Kn(1,3),o=new Kn(3,3),A=new Kn(3,3),c=xE(e);RE(e,c),Ia(r,e),j1(s,r,r),jM(s,a,o,A);const l=new ne(c[0],c[1],c[2]),u=new ne(o.data[0],o.data[3],o.data[6]),d=new ne(o.data[1],o.data[4],o.data[7]),h=new ne(o.data[2],o.data[5],o.data[8]),m=u.clone().multiplyScalar(Math.sqrt(a.data[0]/n)),y=d.clone().multiplyScalar(Math.sqrt(a.data[1]/n)),g=h.clone().multiplyScalar(Math.sqrt(a.data[2]/n));this.begA=l.clone().sub(m),this.endA=l.clone().add(m),this.begB=l.clone().sub(y),this.endB=l.clone().add(y),this.begC=l.clone().sub(g),this.endC=l.clone().add(g),this.center=l,this.vecA=m,this.vecB=y,this.vecC=g,this.normVecA=u,this.normVecB=d,this.normVecC=h}getBasisMatrix(e=new xt){const t=e;return t.makeBasis(this.normVecB,this.normVecA,this.normVecC),t.determinant()<0&&t.scale(woe),t}getRotationQuaternion(e=new $r){const t=e;return t.setFromRotationMatrix(this.getBasisMatrix(boe)),t.invert()}getProjectedScaleForAtoms(e){let t=-1/0,n=-1/0,r=-1/0,s=-1/0,a=-1/0,o=-1/0;const A=new ne,c=new ne,l=this.center,u=this.normVecA,d=this.normVecB,h=this.normVecC;return e.eachAtom(function(m){gc(A.copy(m),u,l);const y=c.subVectors(A,l).normalize().dot(u),g=A.distanceTo(l);y>0?g>t&&(t=g):g>n&&(n=g),gc(A.copy(m),d,l);const E=c.subVectors(A,l).normalize().dot(d),R=A.distanceTo(l);E>0?R>r&&(r=R):R>s&&(s=R),gc(A.copy(m),h,l);const p=c.subVectors(A,l).normalize().dot(h),w=A.distanceTo(l);p>0?w>a&&(a=w):w>o&&(o=w)}),{d1a:t,d2a:r,d3a:a,d1b:-n,d2b:-s,d3b:-o}}}class jo{constructor(e,t,n,r){this.volume=e,this.setFilter(t,n,r)}get header(){return this.volume.header}get matrix(){return this.volume.matrix}get normalMatrix(){return this.volume.normalMatrix}get inverseMatrix(){return this.volume.inverseMatrix}get center(){return this.volume.center}get boundingBox(){return this.volume.boundingBox}get min(){return this.volume.min}get max(){return this.volume.max}get mean(){return this.volume.mean}get rms(){return this.volume.rms}_getFilterHash(e,t,n){return JSON.stringify([e,t,n])}setFilter(e,t,n){isNaN(e)&&this.header&&(e=this.header.DMEAN+2*this.header.ARMS),e=e===void 0||isNaN(e)?-1/0:e,t=W(t,1/0),n=W(n,!1);const r=this.volume.data,s=this.volume.position,a=this.volume.atomindex,o=this._getFilterHash(e,t,n);if(o!==this._filterHash){if(e===-1/0&&t===1/0)this.data=r,this.position=s,this.atomindex=a;else{const A=r.length;this._dataBuffer||(this._dataBuffer=new ArrayBuffer(4*A),this._positionBuffer=new ArrayBuffer(3*A*4),a&&(this._atomindexBuffer=new ArrayBuffer(4*A)));const c=new Float32Array(this._dataBuffer),l=new Float32Array(this._positionBuffer);let u;a&&(u=new Uint32Array(this._atomindexBuffer));let d=0;for(let h=0;h<A;++h){const m=3*h,y=r[h];if(!n&&y>=e&&y<=t||n&&(y<e||y>t)){const g=3*d;c[d]=y,l[g+0]=s[m+0],l[g+1]=s[m+1],l[g+2]=s[m+2],a&&u&&(u[d]=a[h]),d+=1}}this.data=new Float32Array(this._dataBuffer,0,d),this.position=new Float32Array(this._positionBuffer,0,3*d),a&&(this.atomindex=new Int32Array(this._atomindexBuffer,0,d))}this._filterHash=o}}}jo.prototype.getValueForSigma=rs.prototype.getValueForSigma,jo.prototype.getSigmaForValue=rs.prototype.getSigmaForValue,jo.prototype.getDataAtomindex=rs.prototype.getDataAtomindex,jo.prototype.getDataPosition=rs.prototype.getDataPosition,jo.prototype.getDataColor=rs.prototype.getDataColor,jo.prototype.getDataPicking=rs.prototype.getDataPicking,jo.prototype.getDataSize=rs.prototype.getDataSize;class Eoe{constructor(e,t){const n=LM({nodeArray1:e.atomIndex1,nodeArray2:e.atomIndex2,edgeCount:e.count,nodeCount:t});this.countArray=n.countArray,this.offsetArray=n.offsetArray,this.indexArray=n.indexArray}}class J1 extends Su{get _defaultFields(){return[["atomIndex1",1,"int32"],["atomIndex2",1,"int32"],["bondOrder",1,"int8"]]}addBond(e,t,n){this.growIfFull();const r=this.count,s=e.index,a=t.index;s<a?(this.atomIndex1[r]=s,this.atomIndex2[r]=a):(this.atomIndex2[r]=s,this.atomIndex1[r]=a),n&&(this.bondOrder[r]=n),this.count+=1}addBondIfConnected(e,t,n){return!!e.connectedTo(t)&&(this.addBond(e,t,n),!0)}}class _oe extends Su{get _defaultFields(){return[["residueIndex",1,"uint32"],["atomTypeId",1,"uint16"],["x",1,"float32"],["y",1,"float32"],["z",1,"float32"],["serial",1,"int32"],["bfactor",1,"float32"],["altloc",1,"uint8"],["occupancy",1,"float32"]]}setAltloc(e,t){this.altloc[e]=t.charCodeAt(0)}getAltloc(e){const t=this.altloc[e];return t?String.fromCharCode(t):""}}class voe extends Su{get _defaultFields(){return[["chainIndex",1,"uint32"],["atomOffset",1,"uint32"],["atomCount",1,"uint32"],["residueTypeId",1,"uint16"],["resno",1,"int32"],["sstruc",1,"uint8"],["inscode",1,"uint8"]]}setSstruc(e,t){this.sstruc[e]=t.charCodeAt(0)}getSstruc(e){const t=this.sstruc[e];return t?String.fromCharCode(t):""}setInscode(e,t){this.inscode[e]=t.charCodeAt(0)}getInscode(e){const t=this.inscode[e];return t?String.fromCharCode(t):""}}class xoe extends Su{get _defaultFields(){return[["entityIndex",1,"uint16"],["modelIndex",1,"uint16"],["residueOffset",1,"uint32"],["residueCount",1,"uint32"],["chainname",4,"uint8"],["chainid",4,"uint8"]]}setChainname(e,t){const n=4*e;this.chainname[n]=t.charCodeAt(0),this.chainname[n+1]=t.charCodeAt(1),this.chainname[n+2]=t.charCodeAt(2),this.chainname[n+3]=t.charCodeAt(3)}getChainname(e){let t="";for(let n=0;n<4;++n){const r=this.chainname[4*e+n];if(!r)break;t+=String.fromCharCode(r)}return t}setChainid(e,t){const n=4*e;this.chainid[n]=t.charCodeAt(0),this.chainid[n+1]=t.charCodeAt(1),this.chainid[n+2]=t.charCodeAt(2),this.chainid[n+3]=t.charCodeAt(3)}getChainid(e){let t="";for(let n=0;n<4;++n){const r=this.chainid[4*e+n];if(!r)break;t+=String.fromCharCode(r)}return t}}class Roe extends Su{get _defaultFields(){return[["chainOffset",1,"uint32"],["chainCount",1,"uint32"]]}}class qm{constructor(e){this.polymer=e,this.size=e.residueCount}getCenterIterator(e=0){const t=this.getPosition().center,n=t.length/3;let r=0,s=-1;const a=[new ne,new ne,new ne,new ne];return{size:n,next:function(){const o=this.get(s);return s+=1,o},get:function(o){o=Math.min(n-1,Math.max(0,o));const A=a[r%4],c=3*o;if(A.fromArray(t,c),e){const l=Math.min(e,o,n-o-1);for(let u=1;u<=l;++u){const d=3*u,h=(l+1-u)/(l+1);A.x+=h*t[c-d+0]+h*t[c+d+0],A.y+=h*t[c-d+1]+h*t[c+d+1],A.z+=h*t[c-d+2]+h*t[c+d+2]}A.x/=l+1,A.y/=l+1,A.z/=l+1}return r+=1,A},reset:function(){r=0,s=-1}}}getColor(e){const t=this.polymer,n=t.structure,r=t.residueCount,s=t.residueIndexStart,a=new Float32Array(3*r),o=e||{};o.structure=n;const A=Bn.getScheme(o),c=n.getResidueProxy(),l=n.getAtomProxy();for(let u=0;u<r;++u)c.index=s+u,l.index=c.traceAtomIndex,A.atomColorToArray(l,a,3*u);return{color:a}}getPicking(){const e=this.polymer,t=e.structure,n=e.residueCount,r=e.residueIndexStart,s=new Float32Array(n),a=t.getResidueProxy();for(let o=0;o<n;++o)a.index=r+o,s[o]=a.traceAtomIndex;return{picking:new Tc(s,t)}}getSize(e){const t=this.polymer,n=t.structure,r=t.residueCount,s=t.residueIndexStart,a=new Float32Array(r),o=new yA(e),A=n.getResidueProxy(),c=n.getAtomProxy();for(let l=0;l<r;++l)A.index=s+l,c.index=A.traceAtomIndex,a[l]=o.atomRadius(c);return{size:a}}getPosition(){const e=this.polymer,t=e.structure,n=e.residueCount,r=n-3,s=new Float32Array(3*n),a=new Float32Array(3*n),o=new Float32Array(n),A=new Float32Array(n),c=new Float32Array(n),l=new Float32Array(n),u=new Float32Array(3*n),d=new ne,h=new ne,m=new ne,y=new ne,g=new ne,E=new ne,R=new ne,p=new ne,w=new ne,v=new ne,_=new ne,x=new ne(0,0,0),C="trace",B=t.getAtomProxy(),G=t.getAtomProxy(e.getAtomIndexByType(0,C)),I=t.getAtomProxy(e.getAtomIndexByType(1,C)),N=t.getAtomProxy(e.getAtomIndexByType(2,C));for(let k=0;k<r;++k){B.index=G.index,G.index=I.index,I.index=N.index,N.index=e.getAtomIndexByType(k+3,C);const K=3*k;d.subVectors(G,B),h.subVectors(I,G),m.subVectors(N,I),y.subVectors(d,h),g.subVectors(h,m),w.crossVectors(y,g).normalize(),w.toArray(a,K),k>0&&(o[k]=w.angleTo(v));const V=Math.cos(y.angleTo(g));l[k]=180/Math.PI*Math.acos(V);const D=y.length(),H=g.length();A[k]=Math.sqrt(H*D)/Math.max(2,2*(1-V)),c[k]=Math.abs(h.dot(w)),E.copy(y).multiplyScalar(A[k]/D),R.copy(g).multiplyScalar(A[k]/H),E.subVectors(G,E),R.subVectors(I,R),E.toArray(s,K+3),R.toArray(s,K+6),_.subVectors(B,x),_.toArray(u,K),v.copy(w),x.copy(E)}E.fromArray(s,3),R.fromArray(s,6),w.subVectors(E,R).normalize(),B.index=e.getAtomIndexByType(0,C),x.copy(B),p.copy(B),gc(p,w,E),p.toArray(s,0),_.subVectors(x,E),_.toArray(u,0),E.fromArray(s,3*n-6),R.fromArray(s,3*n-9),w.subVectors(E,R).normalize(),B.index=e.getAtomIndexByType(n-1,C),x.copy(B),p.copy(B),gc(p,w,E),p.toArray(s,3*n-3);for(let k=n-3;k<n;++k)E.fromArray(s,3*k),B.index=e.getAtomIndexByType(k,C),x.copy(B),_.subVectors(x,E),_.toArray(u,3*k);const T=new Float32Array(n),M=new Float32Array(n),U=new Float32Array(n),z=new Float32Array(n);T[1]=A[0],M[1]=l[0],U[1]=A[0];for(let k=2;k<n-2;++k)T[k]=.5*(A[k-2]+A[k-1]),M[k]=.5*(l[k-2]+l[k-1]),U[k]=.5*(c[k-2]+c[k-1]),E.fromArray(a,3*(k-2)),R.fromArray(a,3*(k-1)),z[k]=180/Math.PI*Math.acos(Math.cos(E.angleTo(R)));T[n-2]=A[n-4],M[n-2]=l[n-4],U[n-2]=c[n-4];const L=new Float32Array(3*n);Yi(a,L,0,0,3),Yi(a,L,0,3,3);for(let k=2;k<n-2;++k)E.fromArray(a,3*(k-2)),R.fromArray(a,3*(k-1)),w.addVectors(R,E).multiplyScalar(.5).normalize(),w.toArray(L,3*k);return Yi(a,L,3*n-12,3*n-6,3),Yi(a,L,3*n-12,3*n-3,3),{center:s,axis:L,bending:z,radius:T,rise:U,twist:M,resdir:u}}}class aT{constructor(e){this.polymer=e,this.helixorient=new qm(e),this.position=this.helixorient.getPosition()}getAxis(e,t,n,r,s){e=e||30,t=t||2.5,n=n!==void 0&&n;const a=this.polymer,o=a.structure,A=a.residueCount,c=a.residueIndexStart,l=this.position,u=r||{};u.structure=o;const d=Bn.getScheme(u),h=new yA(s);let m=0,y=0;const g=[],E=[],R=[],p=[],w=[],v=[],_=[],x=[],C=[];let B,G,I=new Float32Array(3*A),N=new Float32Array(3*A);const T=new ne,M=new ne,U=o.getResidueProxy(),z=o.getResidueProxy(),L=o.getAtomProxy(),k=new ne,K=new ne;let V=!1;for(let H=0;H<A;++H)if(U.index=c+H,k.fromArray(l.center,3*H),H===A-1?V=!0:(z.index=c+H+1,K.fromArray(l.center,3*H+3),(n&&U.sstruc!==z.sstruc||k.distanceTo(K)>t||l.bending[H]>e)&&(V=!0)),V){if(H-m<4){m=H,V=!1;continue}L.index=U.traceAtomIndex,I=l.axis.subarray(3*m+3,3*H),N=l.center.subarray(3*m,3*H+3),B=EE(I).normalize(),G=EE(N),T.fromArray(N),gc(T,B,G),M.fromArray(N,N.length-3),gc(M,B,G),B.subVectors(M,T),B.toArray(g,y),G.toArray(E,y),T.toArray(R,y),M.toArray(p,y),d.atomColorToArray(L,w,y),v.push(L.index),_.push(h.atomRadius(L)),x.push(c+m),C.push(c+H+1-m),y+=3,m=H,V=!1}const D=new Float32Array(v);return{axis:new Float32Array(g),center:new Float32Array(E),begin:new Float32Array(R),end:new Float32Array(p),color:new Float32Array(w),picking:new Tc(D,o),size:new Float32Array(_),residueOffset:x,residueCount:C}}}class Boe{constructor(e){this.scoreFunction=e,this.content=[],this.scoreFunction=e}push(e){this.content.push(e),this.bubbleUp(this.content.length-1)}pop(){const e=this.content[0],t=this.content.pop();return t&&this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e}peek(){return this.content[0]}remove(e){const t=this.content.length;for(let n=0;n<t;n++)if(this.content[n]===e){const r=this.content.pop();return void(r&&n!==t-1&&(this.content[n]=r,this.scoreFunction(r)<this.scoreFunction(e)?this.bubbleUp(n):this.sinkDown(n)))}throw new Error("Node not found.")}size(){return this.content.length}bubbleUp(e){const t=this.content[e];for(;e>0;){const n=Math.floor((e+1)/2)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}}sinkDown(e){const t=this.content.length,n=this.content[e],r=this.scoreFunction(n);let s=0,a=0;for(;;){const o=2*(e+1),A=o-1;let c=null;if(A<t){const l=this.content[A];s=this.scoreFunction(l),s<r&&(c=A)}if(o<t){const l=this.content[o];a=this.scoreFunction(l),a<(c===null?r:s)&&(c=o)}if(c===null)break;this.content[e]=this.content[c],this.content[c]=n,e=c}}}/**
 * Kdtree
 * @class
 * @author Alexander Rose <alexander.rose@weirdbyte.de>, 2016
 * @author Roman Bolzern <roman.bolzern@fhnw.ch>, 2013
 * @author I4DS http://www.fhnw.ch/i4ds, 2013
 * @license MIT License <http://www.opensource.org/licenses/mit-license.php>
 * @description
 * k-d Tree for typed arrays of 3d points (e.g. for Float32Array), in-place
 * provides fast nearest neighbour search
 *
 * Based on https://github.com/ubilabs/kd-tree-javascript by Ubilabs
 *
 * Further information (including mathematical properties)
 * http://en.wikipedia.org/wiki/Binary_tree
 * http://en.wikipedia.org/wiki/K-d_tree
 *
 * @example
 * points: [x, y, z, x, y, z, x, y, z, ...]
 * metric: function(a, b){
 *    return Math.pow(a[0]-b[0], 2) + Math.pow(a[1]-b[1], 2) + Math.pow(a[2]-b[2], 2);
 * }
 *
 * @param {Float32Array} points - points
 * @param {Function} metric - metric
 */class Coe{constructor(e,t){this.points=e,this.metric=t,this.maxDepth=0,this.currentNode=0;const n=e.length/3,r=new Uint32Array(n);for(let s=0;s<n;++s)r[s]=s;this.indices=r,this.nodes=new Int32Array(4*n),this.rootIndex=this.buildTree(0,-1,0,n)}buildTree(e,t,n,r){e>this.maxDepth&&(this.maxDepth=e);const s=r-n;if(s===0)return-1;const a=4*this.currentNode,o=this.nodes;if(this.currentNode+=1,s===1)return o[a]=n,o[a+1]=-1,o[a+2]=-1,o[a+3]=t,a;const A=this.indices,c=this.points,l=n+Math.floor(s/2),u=e%3;let d,h,m,y,g,E=n,R=r-1;for(;R>E;){for(m=E+R>>1,y=c[3*A[m]+u],h=A[m],A[m]=A[R],A[R]=h,g=E,d=E;d<R;++d)c[3*A[d]+u]<y&&(h=A[g],A[g]=A[d],A[d]=h,++g);if(h=A[R],A[R]=A[g],A[g]=h,m=g,l===m)break;l<m?R=m-1:E=m+1}return o[a]=l,o[a+1]=this.buildTree(e+1,a,n,l),o[a+2]=this.buildTree(e+1,a,l+1,r),o[a+3]=t,a}getNodeDepth(e){const t=this.nodes[e+3];return t===-1?0:this.getNodeDepth(t)+1}nearest(e,t,n){const r=new Boe(l=>-l[1]),s=this.nodes,a=this.points,o=this.indices,A=l=>{let u,d;const h=this.getNodeDepth(l)%3,m=3*o[s[l]],y=[a[m+0],a[m+1],a[m+2]],g=this.metric(e,y);function E(_,x){r.push([_,x]),r.size()>t&&r.pop()}const R=s[l+1],p=s[l+2];if(p===-1&&R===-1)return void((r.size()<t||g<r.peek()[1])&&g<=n&&E(l,g));u=p===-1?R:R===-1?p:e[h]<=a[m+h]?R:p,A(u),(r.size()<t||g<r.peek()[1])&&g<=n&&E(l,g);const w=[];for(let _=0;_<3;_+=1)w[_]=_===h?e[_]:a[m+_];const v=this.metric(w,y);(r.size()<t||Math.abs(v)<r.peek()[1])&&Math.abs(v)<=n&&(d=u===R?p:R,d!==-1&&A(d))};A(this.rootIndex);const c=[];for(let l=0,u=Math.min(r.size(),t);l<u;l+=1)c.push(r.content[l]);return c}verify(e,t=0){let n=1;if(e===void 0&&(e=this.rootIndex),e===-1)throw new Error("node is null");const r=t%3,s=this.nodes,a=this.points,o=this.indices,A=s[e+1],c=s[e+2];if(A!==-1){if(a[3*o[s[A]]+r]>a[3*o[s[e]]+r])throw new Error("left child is > parent!");n+=this.verify(A,t+1)}if(c!==-1){if(a[3*o[s[c]]+r]<a[3*o[s[e]]+r])throw new Error("right child is < parent!");n+=this.verify(c,t+1)}return n}}class ey{constructor(e,t=0){this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueMap=e.residueMap,this.atomMap=e.atomMap}get bondHash(){return this.structure.bondHash}get entity(){return this.structure.entityList[this.entityIndex]}get entityIndex(){return this.chainStore.entityIndex[this.chainIndex]}get modelIndex(){return this.chainStore.modelIndex[this.chainIndex]}get chainIndex(){return this.residueStore.chainIndex[this.residueIndex]}get residue(){return console.warn("residue - might be expensive"),this.structure.getResidueProxy(this.residueIndex)}get residueIndex(){return this.atomStore.residueIndex[this.index]}set residueIndex(e){this.atomStore.residueIndex[this.index]=e}get sstruc(){return this.residueStore.getSstruc(this.residueIndex)}get inscode(){return this.residueStore.getInscode(this.residueIndex)}get resno(){return this.residueStore.resno[this.residueIndex]}get chainname(){return this.chainStore.getChainname(this.chainIndex)}get chainid(){return this.chainStore.getChainid(this.chainIndex)}get residueType(){return this.residueMap.get(this.residueStore.residueTypeId[this.residueIndex])}get atomType(){return this.atomMap.get(this.atomStore.atomTypeId[this.index])}get residueAtomOffset(){return this.residueStore.atomOffset[this.residueIndex]}get resname(){return this.residueType.resname}get hetero(){return this.residueType.hetero}get atomname(){return this.atomType.atomname}get number(){return this.atomType.number}get element(){return this.atomType.element}get vdw(){return this.atomType.vdw}get covalent(){return this.atomType.covalent}get x(){return this.atomStore.x[this.index]}set x(e){this.atomStore.x[this.index]=e}get y(){return this.atomStore.y[this.index]}set y(e){this.atomStore.y[this.index]=e}get z(){return this.atomStore.z[this.index]}set z(e){this.atomStore.z[this.index]=e}get serial(){return this.atomStore.serial[this.index]}set serial(e){this.atomStore.serial[this.index]=e}get bfactor(){return this.atomStore.bfactor[this.index]}set bfactor(e){this.atomStore.bfactor[this.index]=e}get occupancy(){return this.atomStore.occupancy[this.index]}set occupancy(e){this.atomStore.occupancy[this.index]=e}get altloc(){return this.atomStore.getAltloc(this.index)}set altloc(e){this.atomStore.setAltloc(this.index,e)}get partialCharge(){return this.atomStore.partialCharge?this.atomStore.partialCharge[this.index]:null}set partialCharge(e){this.atomStore.partialCharge&&(this.atomStore.partialCharge[this.index]=e)}get radius(){return this.atomStore.radius?this.atomStore.radius[this.index]:null}set radius(e){this.atomStore.radius&&(this.atomStore.radius[this.index]=e)}get formalCharge(){return this.atomStore.formalCharge?this.atomStore.formalCharge[this.index]:null}set formalCharge(e){this.atomStore.formalCharge&&(this.atomStore.formalCharge[this.index]=e)}get aromatic(){return this.atomStore.aromatic?this.atomStore.aromatic[this.index]:this.residueType.isAromatic(this)?1:0}set aromatic(e){this.atomStore.aromatic&&(this.atomStore.aromatic[this.index]=e)}get bondCount(){return this.bondHash.countArray[this.index]}eachBond(e,t){t=t||this.structure._bp;const n=this.index,r=this.bondHash,s=r.indexArray,a=r.countArray[n],o=r.offsetArray[n];for(let A=0;A<a;++A)t.index=s[o+A],e(t)}eachBondedAtom(e,t){const n=t||this.structure._ap,r=this.index;this.eachBond(function(s){n.index=r!==s.atomIndex1?s.atomIndex1:s.atomIndex2,e(n)}),this.index=r}hasBondTo(e){let t=!1;return this.eachBondedAtom(function(n){e.index===n.index&&(t=!0)}),t}bondToElementCount(e){let t=0;const n=this.index;return this.eachBondedAtom(function(r){r.number===e&&(t+=1)}),this.index=n,t}hasBondToElement(e){return this.bondToElementCount(e)>0}isBackbone(){const e=this.residueType.backboneIndexList;return e.length>0&&e.includes(this.index-this.residueAtomOffset)}isPolymer(){if(this.structure.entityList.length>0)return this.entity.isPolymer();{const e=this.residueType.moleculeType;return e===3||e===4||e===5}}isSidechain(){return this.isPolymer()&&!this.isBackbone()}isCg(){const e=this.residueType.backboneType;return e===4||e===5||e===6}isTrace(){return this.index===this.residueType.traceAtomIndex+this.residueAtomOffset}isHetero(){return this.residueType.hetero===1}isProtein(){return this.residueType.moleculeType===3}isNucleic(){const e=this.residueType.moleculeType;return e===4||e===5}isRna(){return this.residueType.moleculeType===4}isDna(){return this.residueType.moleculeType===5}isWater(){return this.residueType.moleculeType===1}isIon(){return this.residueType.moleculeType===2}isSaccharide(){return this.residueType.moleculeType===6}isHelix(){return kM.includes(this.sstruc)}isSheet(){return OM.includes(this.sstruc)}isTurn(){return QM.includes(this.sstruc)&&this.isProtein()}isBonded(){return this.bondHash.countArray[this.index]!==0}isRing(){return this.residueType.getRings().atomRings[this.index-this.residueAtomOffset]!==void 0}isAromatic(){return this.aromatic===1}isPolarHydrogen(){let e=!1;return this.number!==1||(e=!this.hasBondToElement(6)),e}isMetal(){return this.atomType.isMetal()}isNonmetal(){return this.atomType.isNonmetal()}isMetalloid(){return this.atomType.isMetalloid()}isHalogen(){return this.atomType.isHalogen()}isDiatomicNonmetal(){return this.atomType.isDiatomicNonmetal()}isPolyatomicNonmetal(){return this.atomType.isPolyatomicNonmetal()}isAlkaliMetal(){return this.atomType.isAlkaliMetal()}isAlkalineEarthMetal(){return this.atomType.isAlkalineEarthMetal()}isNobleGas(){return this.atomType.isNobleGas()}isTransitionMetal(){return this.atomType.isTransitionMetal()}isPostTransitionMetal(){return this.atomType.isPostTransitionMetal()}isLanthanide(){return this.atomType.isLanthanide()}isActinide(){return this.atomType.isActinide()}getDefaultValence(){return this.atomType.getDefaultValence()}getValenceList(){return this.atomType.getValenceList()}getOuterShellElectronCount(){return this.atomType.getOuterShellElectronCount()}distanceTo(e){const t=this.atomStore,n=e.atomStore,r=this.index,s=e.index,a=t.x[r]-n.x[s],o=t.y[r]-n.y[s],A=t.z[r]-n.z[s],c=a*a+o*o+A*A;return Math.sqrt(c)}connectedTo(e){const t=this.atomStore,n=e.atomStore,r=this.index,s=e.index;if(t.altloc&&n.altloc){const h=t.altloc[r],m=n.altloc[s];if(h!==0&&m!==0&&h!==32&&m!==32&&h!==m)return!1}const a=t.x[r]-n.x[s],o=t.y[r]-n.y[s],A=t.z[r]-n.z[s],c=a*a+o*o+A*A;if(c<48&&this.isCg())return!0;if(isNaN(c))return!1;const l=this.covalent+e.covalent,u=l+.3,d=l-.5;return c<u*u&&c>d*d}positionFromArray(e,t=0){return this.x=e[t+0],this.y=e[t+1],this.z=e[t+2],this}positionToArray(e=[],t=0){const n=this.index,r=this.atomStore;return e[t+0]=r.x[n],e[t+1]=r.y[n],e[t+2]=r.z[n],e}positionToVector3(e){return e===void 0&&(e=new ne),e.x=this.x,e.y=this.y,e.z=this.z,e}positionFromVector3(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}positionAdd(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}positionSub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}getResidueBonds(e=!1){const t=this.residueAtomOffset,n=this.index-this.residueAtomOffset,r=this.residueType.getBonds(),s=r.atomIndices1,a=r.atomIndices2;let o,A,c,l;for(e||(l=[]),o=s.indexOf(n);o!==-1;){if(c=a[o]+t,!l)return c;l.push(c),o=s.indexOf(n,o+1)}for(A=a.indexOf(n);A!==-1;){if(c=s[A]+t,!l)return c;l.push(c),A=a.indexOf(n,A+1)}return l}qualifiedName(e=!1){var t="";return this.resname&&!e&&(t+="["+this.resname+"]"),this.resno!==void 0&&(t+=this.resno),this.inscode&&(t+="^"+this.inscode),this.chainname&&(t+=":"+this.chainname),this.atomname&&(t+="."+this.atomname),this.altloc&&(t+="%"+this.altloc),this.structure.modelStore.count>1&&(t+="/"+this.modelIndex),t}clone(){return new ey(this.structure,this.index)}toObject(){return{index:this.index,residueIndex:this.residueIndex,resname:this.resname,x:this.x,y:this.y,z:this.z,element:this.element,chainname:this.chainname,resno:this.resno,serial:this.serial,vdw:this.vdw,covalent:this.covalent,hetero:this.hetero,bfactor:this.bfactor,altloc:this.altloc,atomname:this.atomname,modelIndex:this.modelIndex}}}function oT(i,e){const t=i[0]-e[0],n=i[1]-e[1],r=i[2]-e[2];return t*t+n*n+r*r}function Soe(i,e){return Math.sqrt(oT(i,e))}const rw=new Float32Array(3);class Noe{constructor(e,t=!1){ot&&He.time("Kdtree build");const n=t?oT:Soe,r=new Float32Array(3*e.atomCount),s=new Uint32Array(e.atomCount);let a=0;e.eachAtom(function(o){r[a+0]=o.x,r[a+1]=o.y,r[a+2]=o.z,s[a/3]=o.index,a+=3}),this.atomIndices=s,this.points=r,this.kdtree=new Coe(r,n),ot&&He.timeEnd("Kdtree build")}nearest(e,t,n){e instanceof ne?e.toArray(rw):e instanceof ey&&e.positionToArray(rw);const r=this.kdtree.nearest(rw,t,n),s=this.kdtree.indices,a=this.kdtree.nodes,o=this.atomIndices,A=[];for(let c=0,l=r.length;c<l;++c){const u=r[c],d=u[0],h=u[1];A.push({index:o[s[a[d]]],distance:h})}return A}}const Moe={" ":"X","!":"Y","#":"Z",$:"-X","%":"-Y","&":"-Z","'":"Y+1/2","(":"1/2+X",")":"1/2+Y","*":"1/2-X","+":"1/2+Z",",":"1/2-Y","-":"1/2-Z",".":"X+1/2","/":"Z+1/2",0:"-X+1/2",1:"-Y+1/2",2:"-Z+1/2",3:"1/4+X",4:"1/4-Y",5:"1/4+Z",6:"1/4-X",7:"1/4+Y",8:"3/4-Y",9:"3/4+Z",":":"3/4+Y",";":"3/4+X","<":"3/4-X","=":"1/4-Z",">":"3/4-Z","?":"X-Y","@":"Y-X",A:"Z+1/3",B:"Z+2/3",C:"X+2/3",D:"Y+1/3",E:"-Y+2/3",F:"X-Y+1/3",G:"Y-X+2/3",H:"-X+1/3",I:"X+1/3",J:"Y+2/3",K:"-Y+1/3",L:"X-Y+2/3",M:"Y-X+1/3",N:"-X+2/3",O:"2/3+X",P:"1/3+Y",Q:"1/3+Z",R:"2/3-Y",S:"1/3+X-Y",T:"2/3+Y-X",U:"1/3-X",V:"2/3-X",W:"1/3-Y",X:"1/3-Z",Y:"2/3+Y",Z:"1/3+Y-X","[":"2/3+X-Y","]":"1/3+X","^":"2/3+Z",_:"2/3-Z","`":"5/6+Z",a:"1/6+Z",b:"5/6-Z",c:"1/6-Z",d:"Z+5/6",e:"Z+1/6",f:"Z+1/4",g:"+Y"},Toe={"P 1":" !#","P -1":" !#$%&","P 1 2 1":" !#$!&","P 1 21 1":" !#$'&","C 1 2 1":" !#$!&()#*)&","P 1 m 1":" !# %#","P 1 c 1":" !# %+","C 1 m 1":" !# %#()#(,#","C 1 c 1":" !# %+()#(,+","P 1 2/m 1":" !# %#$!&$%&","P 1 21/m 1":" !#$)&$%& ,#","C 1 2/m 1":" !# %#$!&$%&()#(,#*)&*,&","P 1 2/c 1":" !#$!-$%& %+","P 1 21/c 1":" !#$%&$)- ,+","C 1 2/c 1":" !#$!-$%& %+()#*)-*,&(,+","P 2 2 2":" !#$%#$!& %&","P 2 2 21":" !#$%+$!- %&","P 21 21 2":" !#$%#*)&(,&","P 21 21 21":" !#*%+$)-(,&","C 2 2 21":" !#$%+$!- %&()#*,+*)-(,&","C 2 2 2":" !#$%#$!& %&()#*,#*)&(,&","F 2 2 2":" !#$%#$!& %& )+$,+$)- ,-(!+*%+*!-(%-()#*,#*)&(,&","I 2 2 2":" !#$%# %&$!&.'/01/.120'2","I 21 21 21":" !#*%+$)-(,&()+$,#*!& %-","P m m 2":" !#$%# %#$!#","P m c 21":" !#$%+ %+$!#","P c c 2":" !#$%# %+$!+","P m a 2":" !#$%#(%#*!#","P c a 21":" !#$%+(%#*!+","P n c 2":" !#$%# ,+$)+","P m n 21":" !#*%+(%+$!#","P b a 2":" !#$%#(,#*)#","P n a 21":" !#$%+(,#*)+","P n n 2":" !#$%#(,+*)+","C m m 2":" !#$%# %#$!#()#*,#(,#*)#","C m c 21":" !#$%+ %+$!#()#*,+(,+*)#","C c c 2":" !#$%# %+$!+()#*,#(,+*)+","A m m 2":" !#$%# %#$!# )+$,+ ,+$)+","A b m 2":" !#$%# ,#$)# )+$,+ %+$!+","A m a 2":" !#$%#(%#*!# )+$,+(,+*)+","A b a 2":" !#$%#(,#*)# )+$,+(%+*!+","F m m 2":" !#$%# %#$!# )+$,+ ,+$)+(!+*%+(%+*!+()#*,#(,#*)#","F d d 2":" !#$%#345675 )+$,+3896:9(!+*%+;49<79()#*,#;85<:5","I m m 2":" !#$%# %#$!#()+*,+(,+*)+","I b a 2":" !#$%#(,#*)#()+*,+ %+$!+","I m a 2":" !#$%#(%#*!#()+*,+ ,+$)+","P 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#","P 2/n 2/n 2/n":" !#$%#$!& %&*,-()-(,+*)+","P 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+","P 2/b 2/a 2/n":" !#$%#$!& %&*,&()&(,#*)#","P 21/m 2/m 2/a":" !#*%#$!&(%&$%&(!& %#*!#","P 2/n 21/n 2/a":" !#*%#*)- ,-$%&(!&(,+$)+","P 2/m 2/n 21/a":" !#*%+*!- %&$%&(!-(%+$!#","P 21/c 2/c 2/a":" !#*%#$!-(%-$%&(!& %+*!+","P 21/b 21/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#","P 21/c 21/c 2/n":" !#*,#$)-(%-$%&()& ,+*!+","P 2/b 21/c 21/m":" !#$%+$)- ,&$%& !- ,+$)#","P 21/n 21/n 2/m":" !#$%#*)-(,-$%& !&(,+*)+","P 21/m 21/m 2/n":" !#$%#*'&.,&*,&.'& %#$!#","P 21/b 2/c 21/n":" !#*,+$!-(,&$%&()- %+*)#","P 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#","P 21/n 21/m 21/a":" !#0%/$'&.12$%&.!2 1#0'/","C 2/m 2/c 21/m":" !#$%+$!- %&$%& !- %+$!#()#*,+*)-(,&*,&()-(,+*)#","C 2/m 2/c 21/a":" !#$,+$)- %&$%& )- ,+$!#()#*%+*!-(,&*,&(!-(%+*)#","C 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()#*,#*)&(,&*,&()&(,#*)#","C 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+()#*,#*)-(,-*,&()&(,+*)+","C 2/m 2/m 2/a":" !#$,#$)& %&$%& )& ,#$!#()#*%#*!&(,&*,&(!&(%#*)#","C 2/c 2/c 2/a":" !#*,#$!&(,&$,-(!- ,+*!+()#$%#*)& %&*%- )-(%+$)+","F 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!# )+$,+$)- ,-$,- )- ,+$)+(!+*%+*!-(%-*%-(!-(%+*!+()#*,#*)&(,&*,&()&(,#*)#","F 2/d 2/d 2/d":" !#$%#$!& %&64=37=345675 )+$,+$)- ,-68>3:>3896:9(!+*%+*!-(%-<4>;7>;49<79()#*,#*)&(,&<8=;:=;85<:5","I 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()+*,+*)-(,-*,-()-(,+*)+","I 2/b 2/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#()+*,+$!- %-*,-()- %+$!+","I 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#()+$,#*!& %-*,- )&(%#$!+","I 21/m 21/m 21/a":" !#$,#$)& %&$%& )& ,#$!#()+*%+*!-(,-*,-(!-(%+*)+","P 4":" !#$%#% #!$#","P 41":" !#$%+% 5!$9","P 42":" !#$%#% +!$+","P 43":" !#$%+% 9!$5","I 4":" !#$%#% #!$#()+*,+,(+)*+","I 41":" !#*,+%(5)$9()+$%#, 9!*5","P -4":" !#$%#!$&% &","I -4":" !#$%#!$&% &()+*,+)*-,(-","P 4/m":" !#$%#% #!$#$%& !&!$&% &","P 42/m":" !#$%#% +!$+$%& !&!$-% -","P 4/n":" !#$%#,(#)*#*,&()&!$&% &","P 42/n":" !#$%#,(+)*+*,-()-!$&% &","I 4/m":" !#$%#% #!$#$%& !&!$&% &()+*,+,(+)*+*,-()-)*-,(-","I 41/a":" !#*,+%(5)$9$,=(!>!$&,(-()+$%#, 9!*5*%> )=)*-% &","P 4 2 2":" !#$%#% #!$#$!& %&! &%$&","P 4 21 2":" !#$%#,(#)*#*)&(,&! &%$&","P 41 2 2":" !#$%+% 5!$9$!& %-! >%$=","P 41 21 2":" !#$%+,(5)*9*)=(,>! &%$-","P 42 2 2":" !#$%#% +!$+$!& %&! -%$-","P 42 21 2":" !#$%#,(+)*+*)-(,-! &%$&","P 43 2 2":" !#$%+% 9!$5$!& %-! =%$>","P 43 21 2":" !#$%+,(9)*5*)>(,=! &%$-","I 4 2 2":" !#$%#% #!$#$!& %&! &%$&()+*,+,(+)*+*)-(,-)(-,*-","I 41 2 2":" !#*,+%(5)$9*!> ,=)(-%$&()+$%#, 9!*5$)=(%>! &,*-","P 4 m m":" !#$%#% #!$# %#$!#%$#! #","P 4 b m":" !#$%#% #!$#(,#*)#,*#)(#","P 42 c m":" !#$%#% +!$+ %+$!+%$#! #","P 42 n m":" !#$%#,(+)*+(,+*)+%$#! #","P 4 c c":" !#$%#% #!$# %+$!+%$+! +","P 4 n c":" !#$%#% #!$#(,+*)+,*+)(+","P 42 m c":" !#$%#% +!$+ %#$!#%$+! +","P 42 b c":" !#$%#% +!$+(,#*)#,*+)(+","I 4 m m":" !#$%#% #!$# %#$!#%$#! #()+*,+,(+)*+(,+*)+,*+)(+","I 4 c m":" !#$%#% #!$# %+$!+%$+! +()+*,+,(+)*+(,#*)#,*#)(#","I 41 m d":" !#*,+%(5)$9 %#*)+%*5) 9()+$%#, 9!*5(,+$!#,$9!(5","I 41 c d":" !#*,+%(5)$9 %+*)#%*9) 5()+$%#, 9!*5(,#$!+,$5!(9","P -4 2 m":" !#$%#% &!$&$!& %&%$#! #","P -4 2 c":" !#$%#% &!$&$!- %-%$+! +","P -4 21 m":" !#$%#% &!$&*)&(,&,*#)(#","P -4 21 c":" !#$%#% &!$&*)-(,-,*+)(+","P -4 m 2":" !#$%#!$&% & %#$!#! &%$&","P -4 c 2":" !#$%#% &!$& %+$!+! -%$-","P -4 b 2":" !#$%#% &!$&(,#*)#)(&,*&","P -4 n 2":" !#$%#% &!$&(,+*)+)(-,*-","I -4 m 2":" !#$%#% &!$& %#$!#! &%$&()+*,+,(-)*-(,+*)+)(-,*-","I -4 c 2":" !#$%#% &!$& %+$!+! -%$-()+*,+,(-)*-(,#*)#)(&,*&","I -4 2 m":" !#$%#% &!$&$!& %&%$#! #()+*,+,(-)*-*)-(,-,*+)(+","I -4 2 d":" !#$%#% &!$&*!>(%>,$9) 9()+*,+,(-)*-$)= ,=%*5!(5","P 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #","P 4/m 2/c 2/c":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +","P 4/n 2/b 2/m":" !#$%#% #!$#$!& %&! &%$&*,&()&)*&,(&(,#*)#,*#)(#","P 4/n 2/n 2/c":" !#$%#% #!$#$!& %&! &%$&*,-()-)*-,(-(,+*)+,*+)(+","P 4/m 21/b 2/m":" !#$%#% #!$#*)&(,&)(&,*&$%& !&!$&% &(,#*)#,*#)(#","P 4/m 21/n 2/c":" !#$%#% #!$#*)-(,-)(-,*-$%& !&!$&% &(,+*)+,*+)(+","P 4/n 21/m 2/m":" !#$%#,(#)*#*)&(,&! &%$&*,&()&!$&% & %#$!#,*#)(#","P 4/n 2/c 2/c":" !#$%#,(#)*#*)-(,-! -%$-*,&()&!$&% & %+$!+,*+)(+","P 42/m 2/m 2/c":" !#$%#% +!$+$!& %&! -%$-$%& !&!$-% - %#$!#%$+! +","P 42/m 2/c 2/m":" !#$%#% +!$+$!- %-! &%$&$%& !&!$-% - %+$!+%$#! #","P 42/n 2/b 2/c":" !#$%#,(+)*+$!- %-)(&,*&*,-()-!$&% &(,#*)#%$+! +","P 42/n 2/n 2/m":" !#$%#,(+)*+$!& %&)(-,*-*,-()-!$&% &(,+*)+%$#! #","P 42/m 21/b 2/c":" !#$%#% +!$+*)&(,&)(-,*-$%& !&!$-% -(,#*)#,*+)(+","P 42/m 21/n 2/m":" !#$%#,./'*/*'-.,-! &%$&$%& !&'*-,.-.,/*'/%$#! #","P 42/n 21/m 2/c":" !#$%#,(+)*+*)-(,-! &%$&*,-()-!$&% & %#$!#,*+)(+","P 42/n 21/c 2/m":" !#$%#,(+)*+*)&(,&! -%$-*,-()-!$&% & %+$!+,*#)(#","I 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #()+*,+,(+)*+*)-(,-)(-,*-*,-()-)*-,(-(,+*)+,*+)(+","I 4/m 2/c 2/m":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +()+*,+,(+)*+*)&(,&)(&,*&*,-()-)*-,(-(,#*)#,*#)(#","I 41/a 2/m 2/d":" !#*,+%(5)$9*!> ,=)(-%$&$,=(!>!$&,(-(,+$!#,$9!(5()+$%#, 9!*5$)=(%>! &,*-*%> )=)*-% & %#*)+%*5) 9","I 41/a 2/c 2/d":" !#*,+%(5)$9*!= ,>)(&%$-$,=(!>!$&,(-(,#$!+,$5!(9()+$%#, 9!*5$)>(%=! -,*&*%> )=)*-% & %+*)#%*9) 5","P 3":" !#%?#@$#","P 31":" !#%?A@$B","P 32":" !#%?B@$A","H 3":" !#%?#@$#CDAEFAGHAIJBKLBMNB","R 3":" !## !!# ","P -3":" !#%?#@$#$%&!@&? &","H -3":" !#%?#@$#$%&!@&? &OPQRSQTUQVWXYZX[]X]Y^W[^ZV^UR_PT_SO_","R -3":" !## !!# $%&&$%%&$","P 3 1 2":" !#%?#@$#%$&@!& ?&","P 3 2 1":" !#%?#@$#! &?%&$@&","P 31 1 2":" !#%?Q@$^%$_@!X ?&","P 31 2 1":" !#%?A@$B! &?%_$@X","P 32 1 2":" !#%?^@$Q%$X@!_ ?&","P 32 2 1":" !#%?B@$A! &?%X$@_","H 3 2":" !#%?#@$#! &?%&$@&OPQRSQTUQY]X[WXVZX]Y^W[^ZV^PO_SR_UT_","R 3 2":" !## !!# %$&$&%&%$","P 3 m 1":" !#%?#@$#%$#@!# ?#","P 3 1 m":" !#%?#@$#! #?%#$@#","P 3 c 1":" !#%?#@$#%$+@!+ ?+","P 3 1 c":" !#%?#@$#! +?%+$@+","H 3 m":" !#%?#@$#%$#@!# ?#OPQRSQTUQRUQTPQOSQ]Y^W[^ZV^WV^ZY^][^","R 3 m":" !## !!# ! # #!#! ","H 3 c":" !#%?#@$#%$+@!+ ?+OPQRSQTUQRU`TP`OS`]Y^W[^ZV^WVaZYa][a","R 3 c":" !## !!# '././'/'.","P -3 1 2/m":" !#%?#@$#%$&@!& ?&$%&!@&? &! #?%#$@#","P -3 1 2/c":" !#%?#@$#%$-@!- ?-$%&!@&? &! +?%+$@+","P -3 2/m 1":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#","P -3 2/c 1":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+","H -3 2/m":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#OPQRSQTUQY]X[WXVZXVWXYZX[]XRUQTPQOSQ]Y^W[^ZV^PO_SR_UT_UR_PT_SO_WV^ZY^][^","R -3 2/m":" !## !!# %$&$&%&%$$%&&$%%&$! # #!#! ","H -3 2/c":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+OPQRSQTUQY]b[WbVZbVWXYZX[]XRU`TP`OS`]Y^W[^ZV^POcSRcUTcUR_PT_SO_WVaZYa][a","R -3 2/c":" !## !!# 102021210$%&&$%%&$'././'/'.","P 6":" !#%?#@$#$%#!@#? #","P 61":" !#%?A@$B$%/!@d? e","P 65":" !#%?B@$A$%/!@e? d","P 62":" !#%?^@$Q$%#!@^? Q","P 64":" !#%?Q@$^$%#!@Q? ^","P 63":" !#%?#@$#$%+!@+? +","P -6":" !#%?#@$# !&%?&@$&","P 6/m":" !#%?#@$#$%#!@#? #$%&!@&? & !&%?&@$&","P 63/m":" !#%?#@$#$%+!@+? +$%&!@&? & !-%?-@$-","P 6 2 2":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&","P 61 2 2":" !#%?Q@$^$%+!@`? a! X?%&$@_%$b@!- ?c","P 65 2 2":" !#%?^@$Q$%+!@a? `! _?%&$@X%$c@!- ?b","P 62 2 2":" !#%?^@$Q$%#!@^? Q! _?%&$@X%$_@!& ?X","P 64 2 2":" !#%?Q@$^$%#!@Q? ^! X?%&$@_%$X@!& ?_","P 63 2 2":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-","P 6 m m":" !#%?#@$#$%#!@#? #%$#@!# ?#! #?%#$@#","P 6 c c":" !#%?#@$#$%#!@#? #%$+@!+ ?+! +?%+$@+","P 63 c m":" !#%?#@$#$%+!@+? +%$+@!+ ?+! #?%#$@#","P 63 m c":" !#%?#@$#$%+!@+? +%$#@!# ?#! +?%+$@+","P -6 m 2":" !#%?#@$# !&%?&@$&%$#@!# ?#%$&@!& ?&","P -6 c 2":" !#%?#@$# !-%?-@$-%$+@!+ ?+%$&@!& ?&","P -6 2 m":" !#%?#@$# !&%?&@$&! &?%&$@&! #?%#$@#","P -6 2 c":" !#%?#@$# !-%?-@$-! &?%&$@&! +?%+$@+","P 6/m 2/m 2/m":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&$%&!@&? & !&@$&%?&%$#@!# ?#! #?%#$@#","P 6/m 2/c 2/c":" !#%?#@$#$%#!@#? #! -?%-$@-%$-@!- ?-$%&!@&? & !&@$&%?&%$+@!+ ?+! +?%+$@+","P 63/m 2/c 2/m":" !#%?#@$#$%+!@+? +! -?%-$@-%$&@!& ?&$%&!@&? & !-@$-%?-%$+@!+ ?+! #?%#$@#","P 63/m 2/m 2/c":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-$%&!@&? & !-@$-%?-%$#@!# ?#! +?%+$@+","P 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ","F 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%&  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ","I 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(","P 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(","I 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- ","P 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$","P 2/n -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& *,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","F 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-($,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- *,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$","F 2/d -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& 64=37=345675=64=375345674=67=3453756 )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(68>3:>3896:9=<8=;:5;85<:4><7>;49;79<(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(<4>;7>;49<79>68>3:93896:8=<:=;85;:5<()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- <8=;:=;8f<:f><4>;79;49<78>6:>3893:96","I 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","P 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*","I 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*()+$,#*g& %-+()#$,&*!- %)+(,#$!&*%- *,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$","P 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$","P 42 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","F 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$","F 41 3 2":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46 )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<(!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86","I 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","P 43 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7;>46=:<5839398<5:6=4;>75:<983>7;=46","P 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<","I 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46","P -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ","F -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&%  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(+%*+!*-%(- +)$+,$-) -,#)(#,*&)*&,((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() +,$+)$-, -(#)*#,*&)(&,+!(+%*-!*-%(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(#,*#)*&,(&(+!*+%*-!(-%+) +,$-)$-, ","I -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","P -4 3 n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","F -4 3 c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() #,$#)$&, &(#!*#%*&!(&%+! +%$-!$-% (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(#%*#!*&%(& +!$+%$-! -%#) #,$&)$&, ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! +%$+!$-% - #)$#,$&) &,#!(#%*&!*&%(","I -4 3 d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7354<9:6>8;=357<946>:;=857394<>:6=8;()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- :;98657<=43>;9:658<=73>49:;586=7<>43","P 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","P 4/n -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/m -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/n -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","F 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#!  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*%*+!(+%(-!*-$-) -, +)$+,&,(&)*#,*#)((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%**%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*,$+) +, -)$-*&)(&,(#)*#,-%(-!*+%*+!(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$*,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$,*#)(#,(&)*&*-!(-%(+!*+%-, -)$+,$+) ","F 4/m -3 2/c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() &,$&)$#, #(#%*#!*&%(&!+!$+% -! -%$$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*,$#) #, &)$&*&!(&%(#!*#%-% -!$+%$+! (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(&%*&!*#%(# +%$+!$-% -!#)$#, &) &,$*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*%*#!(#%(&!*&$-! -% +!$+%&, &)$#,$#) ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! -%$-!$+% + #,$#)$&, &)#!*#%(&!(&%**,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$%$+! +% -!$-$&) &, #)$#,&%(&!*#%*#!(","F 41/d -3 2/m":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=4664=3:>;85<79=64>3:5;89<74=6:>385;79<,$+! #%(-)*&*&)(-% #!$+,-%(&)*+,$#!  )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<68>37=;49<:5=<8>;753496:4><:=;893756,*#!(+% &)$-*-!(&, +)$#%-, &!$+%*#)((!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<<4>;:=389675>68=379;45<:8=<7>;453:96%$#) +,(&!*-$&! -,(#)*+%&% -)$#,*+!(()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86<8=;7>3456:9><4=;:9385678>67=349;:5<%*+)(#, -!$&$-) &%(+!*#,&,(-!*#%$+) ","F 41/d -3 2/c":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46<8>;7=3496:5><8=;793456:8><7=;493:56%*#)(+, &!$-$-! &,(+)*#%&, -!$#%*+)( )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<<4=;:>385679>64=3:9;85<78=67>345;:9<%$+) #,(-!*&$&) -%(#!*+,&%(-)*#,$+! (!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<68=37>;45<:9=<4>;:5389674>6:=389;75<,*+!(#% -)$&*-)(&% +!$#,-,(&!*+%$#) ()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>8664>3:=;89<75=68>375;49<:4=<:>;853796,$#! +%(&)*-*&!(-, #)$+%-% &)$+,*#!(","I 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","I 41/a -3 2/d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<$%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*4<97358;=:6>6>:;=8357<94=8;>:694<573()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46*,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$865:;943>7<=<=73>4;9:658>43=7<5869:;","P 1 1 2":" !#$%#","P 1 1 21":" !#$%+","B 1 1 2":" !#$%#(g+*%+","A 1 2 1":" !#$!& )+$)-","C 1 21 1":" !#$)&()#*!&","I 1 2 1":" !#$!&.'/0'2","I 1 21 1":" !#$)&.'/0!-","P 1 1 m":" !# !&","P 1 1 b":" !# )&","B 1 1 m":" !# !&(!+(!-","B 1 1 b":" !# )&(!+()-","P 1 1 2/m":" !# !&$%#$%&","P 1 1 21/m":" !#$%+$%& !-","B 1 1 2/m":" !# !&$%#$%&(!+(!-*%+*%-","P 1 1 2/b":" !#$,#$%& )&","P 1 1 21/b":" !#$%&$,+ )-","B 1 1 2/b":" !#$,#$%& )&(!+*,+*%-()-","P 21 2 2":" !#$!&(%&*%#","P 2 21 2":" !# ,&$)&$%#","P 21 21 2 (a)":" !#*,#.%&$'&","P 21 2 21":" !#$!&(%-*%+","P 2 21 21":" !# %&$)-$,+","C 2 2 21a)":" !#*%+(,&$)-()#$,+ %&*!-","C 2 2 2a":" !#*,#.%&$'&()#$%# ,&*!&","F 2 2 2a":" !#*,#.%&$'& '/*%/.12$!2.!/$,/ %20'2.'#$%# 1&0!&","I 2 2 2a":" !#*,#.%&$'&()+$%+*!- ,-","P 21/m 21/m 2/n a":" !#*,#$)&(%&$%&.'& ,#*!#","P 42 21 2a":" !#*,#%.+'$+$'&.%&! -,*-","I 2 3a":" !#*,#.%&$'&!# ,- '&$%/$# !-*!/$%&.%()+$%+ ,-*!-)+(%&(!-*,#*+()&$)#*,- ,"},Goe=/^[1-9]$/;function AT(i){let e="";return i.length>0&&(e=":"+s4(i).join(" OR :")),new ui(e)}class y0{constructor(e=""){this.name=e,this.partList=[]}get type(){return"Assembly"}addPart(e,t){const n=new Foe(e,t);return this.partList.push(n),n}getAtomCount(e){return this.partList.reduce((t,n)=>t+n.getAtomCount(e),0)}getResidueCount(e){return this.partList.reduce((t,n)=>t+n.getResidueCount(e),0)}getInstanceCount(){let e=0;return this.partList.forEach(function(t){e+=t.matrixList.length}),e}isIdentity(e){if(this.partList.length!==1)return!1;const t=this.partList[0];if(t.matrixList.length!==1||!new xt().equals(t.matrixList[0]))return!1;let n=[];return e.eachChain(function(r){n.push(r.chainname)}),n=s4(n),t.chainList.length===n.length}getBoundingBox(e){const t=new Gi;return this.partList.forEach(function(n){const r=n.getBoundingBox(e);t.expandByPoint(r.min),t.expandByPoint(r.max)}),t}getCenter(e){return this.getBoundingBox(e).getCenter(new ne)}getSelection(){let e=[];return this.partList.forEach(function(t){e=e.concat(t.chainList)}),AT(e)}}class Foe{constructor(e=[],t=[]){this.matrixList=e,this.chainList=t}get type(){return"AssemblyPart"}_getCount(e,t){let n=0;return e.eachChain(r=>{(this.chainList.length===0||this.chainList.includes(r.chainname))&&(n+=r[t])}),this.matrixList.length*n}getAtomCount(e){return this._getCount(e,"atomCount")}getResidueCount(e){return this._getCount(e,"residueCount")}getBoundingBox(e){const t=new Gi,n=new Gi,r=this.getSelection(),s=e.getBoundingBox(r);return this.matrixList.forEach(function(a){n.copy(s).applyMatrix4(a),t.expandByPoint(n.min),t.expandByPoint(n.max)}),t}getSelection(){return AT(this.chainList)}getView(e){const t=this.getSelection();return t?e.getView(t):e}getInstanceList(){const e=[];for(let t=0,n=this.matrixList.length;t<n;++t)e.push({id:t+1,name:t,matrix:this.matrixList[t]});return e}}class Ioe{constructor(e){this.structure=e,this.currentModelindex=null,this.currentChainid=null,this.currentResname=null,this.currentResno=null,this.currentInscode=void 0,this.currentHetero=null,this.previousResname="",this.previousHetero=null,this.ai=-1,this.ri=-1,this.ci=-1,this.mi=-1}addResidueType(e){var t,n;const r=this.structure.atomStore,s=this.structure.residueStore,a=this.structure.residueMap,o=(t=this.structure.chemCompMap)===null||t===void 0?void 0:t.dict[this.previousResname],A=s.atomCount[e],c=s.atomOffset[e],l=new Array(A);for(let h=0;h<A;++h)l[h]=r.atomTypeId[c+h];const u=o==null?void 0:o.chemCompType,d=o?(n=this.structure.chemCompMap)===null||n===void 0?void 0:n.getBonds(this.previousResname,l):void 0;s.residueTypeId[e]=a.add(this.previousResname,l,this.previousHetero,u,d)}addAtom(e,t,n,r,s,a,o,A){const c=this.structure.atomStore,l=this.structure.residueStore,u=this.structure.chainStore,d=this.structure.modelStore;let h=!1,m=!1,y=!1;this.currentModelindex!==e?(h=!0,m=!0,y=!0,this.mi+=1,this.ci+=1,this.ri+=1):this.currentChainid!==n?(m=!0,y=!0,this.ci+=1,this.ri+=1):this.currentResno===s&&this.currentResname===r&&this.currentInscode===A||(y=!0,this.ri+=1),this.ai+=1,h&&(d.growIfFull(),d.chainOffset[this.mi]=this.ci,d.chainCount[this.mi]=0,d.count+=1,u.modelIndex[this.ci]=this.mi),m&&(u.growIfFull(),u.setChainname(this.ci,t),u.setChainid(this.ci,n),u.residueOffset[this.ci]=this.ri,u.residueCount[this.ci]=0,u.count+=1,u.modelIndex[this.ci]=this.mi,d.chainCount[this.mi]+=1,l.chainIndex[this.ri]=this.ci),y&&(this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,this.ri>0&&this.addResidueType(this.ri-1),l.growIfFull(),l.resno[this.ri]=s,o!==void 0&&(l.sstruc[this.ri]=o.charCodeAt(0)),A!==void 0&&(l.inscode[this.ri]=A.charCodeAt(0)),l.atomOffset[this.ri]=this.ai,l.atomCount[this.ri]=0,l.count+=1,l.chainIndex[this.ri]=this.ci,u.residueCount[this.ci]+=1),c.count+=1,c.residueIndex[this.ai]=this.ri,l.atomCount[this.ri]+=1,this.currentModelindex=e,this.currentChainid=n,this.currentResname=r,this.currentResno=s,this.currentInscode=A,this.currentHetero=a}finalize(){this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,this.ri>-1&&this.addResidueType(this.ri)}}function cT(i,e){if(!e)return;ot&&He.time("assignSecondaryStructure");const t=[];i.eachModel(function(c){c.eachChain(function(l){t.push(l.chainname)})});const n=t.slice().sort(),r=[];n.forEach(function(c){r.push(t.indexOf(c))});const s=e.helices.filter(function(c){return ec(n,c[0])>=0});s.sort(function(c,l){const u=c[0],d=l[0],h=c[1],m=l[1];if(u===d)return h===m?0:h<m?-1:1;{const y=ec(n,u),g=ec(n,d);return r[y]<r[g]?-1:1}});const a=i.residueStore;i.eachModel(function(c){let l=0;const u=s.length;if(u===0)return;let d=s[l],h=!1,m=!1;c.eachChain(function(y){let g=!1;if(y.chainname===d[0]){const E=y.residueCount,R=y.residueOffset,p=R+E;for(let w=R;w<p;++w)if(a.resno[w]===d[1]&&a.getInscode(w)===d[2]&&(h=!0),h&&(a.sstruc[w]=d[6],a.resno[w]===d[4]&&a.getInscode(w)===d[5]&&(h=!1,l+=1,l<u?(w=R-1,d=s[l],g=y.chainname!==d[0]):m=!0)),g||m)return}})});const o=e.sheets.filter(function(c){return ec(n,c[0])>=0});o.sort(function(c,l){const u=c[0],d=l[0];if(u===d)return 0;const h=ec(n,u),m=ec(n,d);return r[h]<r[m]?-1:1});const A="e".charCodeAt(0);i.eachModel(function(c){let l=0;const u=o.length;if(u===0)return;let d=o[l],h=!1,m=!1;c.eachChain(function(y){let g=!1;if(y.chainname===d[0]){const E=y.residueCount,R=y.residueOffset,p=R+E;for(let w=R;w<p;++w)if(a.resno[w]===d[1]&&a.getInscode(w)===d[2]&&(h=!0),h&&(a.sstruc[w]=A,a.resno[w]===d[4]&&a.getInscode(w)===d[5]&&(h=!1,l+=1,l<u?(w=R-1,d=o[l],g=y.chainname!==d[0]):m=!0)),g||m)return}})}),ot&&He.timeEnd("assignSecondaryStructure")}const ty=function(){const i=function(n,r,s,a){const o=n.structure,A=n.residueIndexStart,c=o.getResidueProxy(),l=o.getResidueProxy(),u=o.getAtomProxy(),d=o.getAtomProxy();for(let h=Math.max(0,r-2);h<=r;++h)for(let m=2;m<5;++m){if(h+m>=n.residueCount)continue;c.index=A+h,l.index=A+h+m,u.index=c.traceAtomIndex,d.index=l.traceAtomIndex;const y=u.distanceTo(d);if(Math.abs(y-s[m-2])>a)return!1}return!0},e=function(n,r){return i(n,r,[5.45,5.18,6.37],2.1)},t=function(n,r){return i(n,r,[6.1,10.4,13],1.42)};return function(n){ot&&He.time("calculateSecondaryStructure"),n.eachPolymer(function(r){if(r.residueCount<4)return;if(r.isCg())(function(o){const A=o.residueStore,c=o.residueIndexStart,l=new aT(o).position,u=new ne,d=new ne;for(let h=0,m=o.residueCount;h<m;++h){u.fromArray(l.center,3*h),d.fromArray(l.center,3*h+3);const y=u.distanceTo(d);y<2&&y>1&&l.bending[h]<20&&(A.sstruc[c+h]="h".charCodeAt(0),A.sstruc[c+h+1]="h".charCodeAt(0))}})(r);else{if(!r.isProtein())return;(function(o){const A=o.residueStore,c=o.residueIndexStart;for(let l=0,u=o.residueCount;l<u;++l){let d="c";e(o,l)?d="h":t(o,l)&&(d="e"),A.sstruc[c+l]=d.charCodeAt(0)}})(r)}let s,a=0;r.eachResidue(function(o){o.sstruc===s?a+=1:(a===1&&(o.index-=1,o.sstruc="c"),a=1,s=o.sstruc)})}),ot&&He.timeEnd("calculateSecondaryStructure")}}(),sw="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function Gf(i){const e=sw.length;let t=i,n=0,r=sw[t%e];for(;t>=e;)t=Math.floor(t/e),r+=sw[t%e],n+=1;return n>=5&&He.warn("chainname overflow"),r}function ny(i,e=!1){ot&&He.time("calculateChainnames");let t=!0;if(i.eachChain(function(n){n.chainname&&(t=!1)}),t){const n=i.modelStore,r=i.chainStore,s=i.residueStore,a=function(y,g,E,R){const p=r.count;for(let w=0;w<R;++w)s.chainIndex[E+w]=p;r.growIfFull(),r.modelIndex[p]=y,r.setChainname(p,g),r.setChainid(p,g),r.residueOffset[p]=E,r.residueCount[p]=R,r.count+=1,n.chainCount[y]+=1},o=i.getAtomProxy(),A=i.getAtomProxy();let c=0,l=0,u=0,d=0;const h=[];s.count===1?h.push({mIndex:0,chainname:"A",rStart:0,rCount:1}):i.eachResidueN(2,function(y,g){let E=!1;const R=y.backboneType,p=g.backboneType,w=Rc;d=y.index,y.modelIndex!==g.modelIndex||y.moleculeType!==g.moleculeType?E=!0:R!==w&&R===p&&(o.index=y.backboneEndAtomIndex,A.index=g.backboneStartAtomIndex,E=e?!o.hasBondTo(A):!o.connectedTo(A)),E||g.index!==s.count-1||(E=!0,d=g.index),E&&(h.push({mIndex:l,chainname:Gf(c),rStart:u,rCount:d-u+1}),c+=1,y.modelIndex!==g.modelIndex&&(c=0,l+=1),g.index===s.count-1&&d!==g.index&&h.push({mIndex:l,chainname:Gf(c),rStart:s.count-1,rCount:1}),u=g.index,d=g.index)}),r.count=0,n.chainCount.fill(0,0,n.count),n.chainOffset.fill(0,0,n.count),h.forEach(function(y){a(y.mIndex,y.chainname,y.rStart,y.rCount)});let m=0;i.eachModel(function(y){n.chainOffset[y.index]=m,m+=n.chainCount[y.index]})}ot&&He.timeEnd("calculateChainnames")}function Ym(i,e="all"){e!=="none"&&(ot&&He.time("calculateBonds"),Nu(i,!1,e),Mu(i),ot&&He.timeEnd("calculateBonds"))}const Uoe={"HIS|CD2|CG":2,"HIS|CE1|ND1":2,"ARG|CZ|NH2":2,"PHE|CE1|CZ":2,"PHE|CD2|CE2":2,"PHE|CD1|CG":2,"TRP|CD1|CG":2,"TRP|CD2|CE2":2,"TRP|CE3|CZ3":2,"TRP|CH2|CZ2":2,"ASN|CG|OD1":2,"GLN|CD|OE1":2,"TYR|CD1|CG":2,"TYR|CD2|CE2":2,"TYR|CE1|CZ":2,"ASP|CG|OD1":2,"GLU|CD|OE1":2,"G|C8|N7":2,"G|C4|C5":2,"G|C2|N3":2,"G|C6|O6":2,"C|C4|N3":2,"C|C5|C6":2,"C|C2|O2":2,"A|C2|N3":2,"A|C6|N1":2,"A|C4|C5":2,"A|C8|N7":2,"U|C5|C6":2,"U|C2|O2":2,"U|C4|O4":2,"DG|C8|N7":2,"DG|C4|C5":2,"DG|C2|N3":2,"DG|C6|O6":2,"DC|C4|N3":2,"DC|C5|C6":2,"DC|C2|O2":2,"DA|C2|N3":2,"DA|C6|N1":2,"DA|C4|C5":2,"DA|C8|N7":2,"DT|C5|C6":2,"DT|C2|O2":2,"DT|C4|O4":2};function k6(i,e,t){return[e,t]=e<t?[e,t]:[t,e],Wl.includes(i)&&e==="C"&&t==="O"||nf.includes(i)&&e==="OP1"&&t==="P"?2:Uoe[`${i}|${e}|${t}`]||1}function Nu(i,e=!1,t="all"){ot&&He.time("calculateBondsWithin");const n=i.bondStore,r=i.rungBondStore,s=i.getAtomSet(!1),a=i.getAtomProxy(),o=i.getAtomProxy(),A=i.getBondProxy(),c=e?null:function(u){ot&&He.time("calculateAtomBondMap");var d=[];return u.eachBond(function(h){var m=h.atomIndex1,y=h.atomIndex2;d[m]===void 0&&(d[m]=[]),d[m][y]=h.index}),ot&&He.timeEnd("calculateAtomBondMap"),d}(i);let l;e||t!=="auto"||(l=new Set,c.forEach((u,d)=>{l.add(d),u.forEach(h=>{l.add(h)})})),i.eachResidue(function(u){if(!e&&c){const m=u.atomCount,y=u.atomOffset;if(m>500)return void He.warn("more than 500 atoms, skip residue for auto-bonding",u.qualifiedName());if(t==="auto"&&u.hetero){for(let v=u.atomOffset;v<u.atomEnd;v++)if(l.has(v))return}const g=u.getBonds(),E=g.atomIndices1,R=g.atomIndices2,p=g.bondOrders,w=E.length;for(let v=0;v<w;++v){const _=E[v],x=R[v],C=_+y,B=x+y,G=c[C];G!==void 0&&G[B]!==void 0?(A.index=G[B],p[u.residueType.getBondIndex(_,x)]=A.bondOrder):(a.index=C,o.index=B,n.addBond(a,o,p[v]))}}const d=u.residueType.traceAtomIndex,h=u.residueType.rungEndAtomIndex;d!==-1&&h!==-1&&(a.index=u.traceAtomIndex,o.index=u.rungEndAtomIndex,r.addBond(a,o),s.set(a.index),s.set(o.index))}),i.atomSetDict.rung=s,ot&&He.timeEnd("calculateBondsWithin")}function Mu(i,e=!1,t=!1){ot&&He.time("calculateBondsBetween");const n=i.bondStore,r=i.backboneBondStore,s=i.getAtomSet(!1),a=i.getAtomProxy(),o=i.getAtomProxy();function A(u,d){const h=u.backboneType,m=d.backboneType;if(h!==Rc&&h===m){a.index=u.backboneEndAtomIndex,o.index=d.backboneStartAtomIndex;let y=!1,g=!1;t&&a.hasBondTo(o)?(y=!1,g=!0):a.connectedTo(o)&&(y=!e,g=!0),y&&n.addBond(a,o,1),g&&(a.index=u.traceAtomIndex,o.index=d.traceAtomIndex,r.addBond(a,o),s.set(a.index),s.set(o.index))}}r.count===0&&r.resize(i.residueStore.count),i.eachResidueN(2,A);const c=i.getResidueProxy(),l=i.getResidueProxy();if(i.eachChain(function(u){u.residueCount!==0&&(c.index=u.residueOffset,l.index=u.residueOffset+u.residueCount-1,A(l,c))}),i.atomSetDict.backbone=s,!e){ot&&He.time("calculateBondsBetween inter");const u=i.spatialHash;i.eachResidue(function(d){d.backboneType!==Rc||d.isWater()||d.eachAtom(function(h){h.isMetal()||u.eachWithin(h.x,h.y,h.z,4,function(m){o.index=m,h.modelIndex!==o.modelIndex||h.residueIndex===o.residueIndex||o.isMetal()||n.addBondIfConnected(h,o,1)})})}),ot&&He.timeEnd("calculateBondsBetween inter")}ot&&He.timeEnd("calculateBondsBetween")}function Xm(i){if(!i.unitcell)return;ot&&He.time("buildUnitcellAssembly");const e=i.unitcell,t=i.center.clone().applyMatrix4(e.cartToFrac),n=t.clone().floor(),r=function(m){const y=Toe[m],g={};if(y===void 0)return console.warn(`spacegroup '${m}' not found in symop library`),g;const E=[];for(let R=0,p=y.length;R<p;R+=3){const w=[];for(let v=0;v<3;++v)w.push(Moe[y[R+v]]);E.push(w)}return E.forEach(function(R){let p=0;const w=new xt().set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),v=w.elements;g[R.toString()]=w,R.forEach(function(_){let x=!1,C=!1;for(let B=0,G=_.length;B<G;++B){const I=_[B];if(I==="-")x=!0;else if(I==="+")x=!1;else if(I==="/")C=!0;else if(I==="X")v[0+p]=x?-1:1;else if(I==="Y")v[4+p]=x?-1:1;else if(I==="Z")v[8+p]=x?-1:1;else if(Goe.test(I)){const N=parseInt(I);C?v[12+p]/=N:v[12+p]=N}else He.warn(`getSymmetryOperations: unknown token '${I}'`)}p+=1})}),g}(e.spacegroup),s=new ne,a=new ne;function o(m){const y=[];return Object.keys(r).forEach(function(g){const E=r[g].clone();s.copy(t).applyMatrix4(E).floor(),a.setFromMatrixPosition(E),a.sub(s),a.add(n),m&&a.add(m),E.setPosition(a),E.multiplyMatrices(e.fracToCart,E),E.multiply(e.cartToFrac),y.push(E)}),y}const A=new y0("UNITCELL"),c=o(),l=[];if(i.biomolDict.NCS){l.push(new xt,...i.biomolDict.NCS.partList[0].matrixList);const m=[];c.forEach(y=>{l.forEach(g=>{m.push(y.clone().multiply(g))})}),A.addPart(m)}else A.addPart(c);const u=new ne,d=new y0("SUPERCELL"),h=Array.prototype.concat.call(o(u.set(1,0,0)),o(u.set(0,1,0)),o(u.set(0,0,1)),o(u.set(-1,0,0)),o(u.set(0,-1,0)),o(u.set(0,0,-1)),o(u.set(1,1,0)),o(u.set(1,0,1)),o(u.set(0,1,1)),o(u.set(-1,-1,0)),o(u.set(-1,0,-1)),o(u.set(0,-1,-1)),o(u.set(1,-1,-1)),o(u.set(1,1,-1)),o(u.set(1,-1,1)),o(u.set(-1,1,1)),o(u.set(-1,-1,1)),o(u.set(-1,1,-1)),o(u.set(0,1,-1)),o(u.set(0,-1,1)),o(u.set(1,0,-1)),o(u.set(-1,0,1)),o(u.set(1,-1,0)),o(u.set(-1,1,0)),o(),o(u.set(1,1,1)),o(u.set(-1,-1,-1)));if(i.biomolDict.NCS){const m=[];h.forEach(function(y){l.forEach(function(g){m.push(y.clone().multiply(g))})}),d.addPart(m)}else d.addPart(h);i.biomolDict.UNITCELL=A,i.biomolDict.SUPERCELL=d,ot&&He.timeEnd("buildUnitcellAssembly")}const O6=["H","C","O","N","S","P"],Poe=["NA","CL","FE"];function h4(i){let e=i.toUpperCase(),t=0,n=0;for(let s=0;s<e.length;s++)if(e.charCodeAt(s)<65){if(n>0)break;++t}else n=s+1;(t>0||n<e.length)&&(e=e.substring(t,n));const r=e.length;if(r===0)return"";if(r===1)return e;if(r===2){if(Poe.indexOf(e)!==-1)return e;if(O6.indexOf(e[0])!==-1)return e[0];if(e in HM)return e}return r>=3&&O6.indexOf(e[0])!==-1?e[0]:""}function Bc(i){const e=i.bondHash,t=e.countArray,n=e.offsetArray,r=e.indexArray,s=i.getBondProxy();i.eachResidue(function(a){const o=a.residueType;if(o.bonds!==void 0)return;var A=a.atomOffset,c=[],l=[],u=[],d={};const h=A+a.atomCount;a.eachAtom(function(m){const y=m.index,g=n[y];for(let E=0,R=t[y];E<R;++E){s.index=r[g+E];let p=s.atomIndex1;if(p<A||p>=h)continue;let w=s.atomIndex2;if(w<A||w>=h)continue;if(p>w){const _=w;w=p,p=_}const v=p+"|"+w;d[v]===void 0&&(d[v]=!0,c.push(p-A),l.push(w-A),u.push(s.bondOrder))}}),o.bonds={atomIndices1:c,atomIndices2:l,bondOrders:u}})}const Loe=[3,11,19,37,55,87],Doe=[4,12,20,38,56,88],koe=[6,15,16,34],Ooe=[1,7,8,9,17,35,53],Qoe=[2,10,18,36,54,86],Hoe=[13,30,31,48,49,50,80,81,82,83,84,85,112],zoe=[5,14,32,33,51,52,85],Voe=[9,17,35,53,85];class Koe{constructor(e,t,n){this.structure=e,this.atomname=t,n=n||h4(t),this.element=n,this.number=HM[n]||0,this.vdw=xae[this.number]||2,this.covalent=Rae[this.number]||1.6}getDefaultValence(){const e=R6[this.number];return e?e[0]:-1}getValenceList(){return R6[this.number]||[]}getOuterShellElectronCount(){return Bae[this.number]||2}isMetal(){return this.isAlkaliMetal()||this.isAlkalineEarthMetal()||this.isLanthanide()||this.isActinide()||this.isTransitionMetal()||this.isPostTransitionMetal()}isNonmetal(){return this.isDiatomicNonmetal()||this.isPolyatomicNonmetal()||this.isNobleGas()}isMetalloid(){return zoe.includes(this.number)}isHalogen(){return Voe.includes(this.number)}isDiatomicNonmetal(){return Ooe.includes(this.number)}isPolyatomicNonmetal(){return koe.includes(this.number)}isAlkaliMetal(){return Loe.includes(this.number)}isAlkalineEarthMetal(){return Doe.includes(this.number)}isNobleGas(){return Qoe.includes(this.number)}isTransitionMetal(){const e=this.number;return e>=21&&e<=29||e>=39&&e<=47||e>=72&&e<=79||e>=104&&e<=108}isPostTransitionMetal(){return Hoe.includes(this.number)}isLanthanide(){return this.number>=57&&this.number<=71}isActinide(){return this.number>=89&&this.number<=103}}class $oe{constructor(e){this.structure=e,this.dict={},this.list=[],this.structure=e}add(e,t){const n=function(s,a){return s+"|"+a}(e=e.toUpperCase(),t=t?t.toUpperCase():h4(e));let r=this.dict[n];if(r===void 0){const s=new Koe(this.structure,e,t);r=this.list.length,this.dict[n]=r,this.list.push(s)}return r}get(e){return this.list[e]}}class Woe{constructor(e,t,n,r,s,a){this.structure=e,this.bondReferenceAtomIndices=[],this.resname=t,this.atomTypeIdList=n,this.hetero=r?1:0,this.chemCompType=s,this.bonds=a,this.atomCount=n.length,this.moleculeType=this.getMoleculeType(),this.backboneType=this.getBackboneType(0),this.backboneEndType=this.getBackboneType(-1),this.backboneStartType=this.getBackboneType(1),this.backboneIndexList=this.getBackboneIndexList();const o=Ud[this.backboneType],A=Ud[this.backboneStartType],c=Ud[this.backboneEndType],l=this.getAtomIndexByName(o.trace);this.traceAtomIndex=W(l,-1);const u=this.getAtomIndexByName(o.direction1);this.direction1AtomIndex=W(u,-1);const d=this.getAtomIndexByName(o.direction2);this.direction2AtomIndex=W(d,-1);const h=this.getAtomIndexByName(A.backboneStart);this.backboneStartAtomIndex=W(h,-1);const m=this.getAtomIndexByName(c.backboneEnd);let y;this.backboneEndAtomIndex=W(m,-1),y=Sae.includes(t)?this.getAtomIndexByName("N1"):this.getAtomIndexByName("N3"),this.rungEndAtomIndex=W(y,-1)}getBackboneIndexList(){const e=[];let t;switch(this.moleculeType){case 3:t=Tae;break;case 4:case 5:t=KM;break;default:return e}const n=this.structure.atomMap,r=this.atomTypeIdList;for(let s=0,a=this.atomCount;s<a;++s){const o=n.get(r[s]);t.includes(o.atomname)&&e.push(s)}return e}getMoleculeType(){return this.isProtein()?3:this.isRna()?4:this.isDna()?5:this.isWater()?1:this.isIon()?2:this.isSaccharide()?6:0}getBackboneType(e){return this.hasProteinBackbone(e)?1:this.hasRnaBackbone(e)?2:this.hasDnaBackbone(e)?3:this.hasCgProteinBackbone(e)?4:this.hasCgRnaBackbone(e)?5:this.hasCgDnaBackbone(e)?6:Rc}isProtein(){return this.chemCompType?bae.includes(this.chemCompType):this.hasAtomWithName("CA","C","N")||Wl.includes(this.resname)}isCg(){const e=this.backboneType;return e===4||e===5||e===6}isNucleic(){return this.isRna()||this.isDna()}isRna(){return this.chemCompType?Eae.includes(this.chemCompType):this.hetero!==1&&(this.hasAtomWithName(["P","O3'","O3*"],["C4'","C4*"],["O2'","O2*","F2'","F2*"])||zM.includes(this.resname)&&this.hasAtomWithName(["O2'","O2*","F2'","F2*"]))}isDna(){return this.chemCompType?_ae.includes(this.chemCompType):this.hetero!==1&&(this.hasAtomWithName(["P","O3'","O3*"],["C3'","C3*"])&&!this.hasAtomWithName(["O2'","O2*","F2'","F2*"])||VM.includes(this.resname))}isHetero(){return this.hetero===1}isIon(){return Nae.includes(this.resname)}isWater(){return Wm.includes(this.resname)}isSaccharide(){return this.chemCompType?DM.includes(this.chemCompType):Mae.includes(this.resname)}isStandardAminoacid(){return Wl.includes(this.resname)}isStandardBase(){return nf.includes(this.resname)}hasBackboneAtoms(e,t){const n=Ud[t];return e===-1?this.hasAtomWithName(n.trace,n.backboneEnd,n.direction1,n.direction2):e===0?this.hasAtomWithName(n.trace,n.direction1,n.direction2):e===1?this.hasAtomWithName(n.trace,n.backboneStart,n.direction1,n.direction2):this.hasAtomWithName(n.trace,n.backboneStart,n.backboneEnd,n.direction1,n.direction2)}hasProteinBackbone(e){return this.isProtein()&&this.hasBackboneAtoms(e,1)}hasRnaBackbone(e){return this.isRna()&&this.hasBackboneAtoms(e,2)}hasDnaBackbone(e){return this.isDna()&&this.hasBackboneAtoms(e,3)}hasCgProteinBackbone(e){return this.atomCount<7&&this.isProtein()&&this.hasBackboneAtoms(e,4)}hasCgRnaBackbone(e){return this.atomCount<11&&this.isRna()&&this.hasBackboneAtoms(e,5)}hasCgDnaBackbone(e){return this.atomCount<11&&this.isDna()&&this.hasBackboneAtoms(e,6)}hasBackbone(e){return this.hasProteinBackbone(e)||this.hasRnaBackbone(e)||this.hasDnaBackbone(e)||this.hasCgProteinBackbone(e)||this.hasCgRnaBackbone(e)||this.hasCgDnaBackbone(e)}getAtomIndexByName(e){const t=this.atomCount,n=this.structure.atomMap,r=this.atomTypeIdList;if(Array.isArray(e))for(let s=0;s<t;++s){const a=r[s];if(e.includes(n.get(a).atomname))return s}else for(let s=0;s<t;++s){const a=r[s];if(e===n.get(a).atomname)return s}}hasAtomWithName(...e){const t=e.length;for(let n=0;n<t;++n)if(e[n]!==void 0&&this.getAtomIndexByName(e[n])===void 0)return!1;return!0}getBonds(e){return this.bonds===void 0&&(this.bonds=function(t){const n=t.structure,r=n.getAtomProxy(),s=n.getAtomProxy(),a=t.atomCount,o=t.atomOffset,A=o+a-1,c=[],l=[],u=[];if(a>500)ot&&He.warn("more than 500 atoms, skip residue for auto-bonding",t.qualifiedName());else if(a>50){const d=new Noe(t,!0),h=t.isCg()?1.2:2.3;for(let m=o;m<A;++m){r.index=m;const y=r.covalent+h+.3,g=d.nearest(r,1/0,y*y),E=g.length;for(let R=0;R<E;++R)s.index=g[R].index,r.index<s.index&&r.connectedTo(s)&&(c.push(r.index-o),l.push(s.index-o),u.push(k6(r.resname,r.atomname,s.atomname)))}}else for(let d=o;d<A;++d){r.index=d;for(let h=d+1;h<=A;++h)s.index=h,r.connectedTo(s)&&(c.push(d-o),l.push(h-o),u.push(k6(r.resname,r.atomname,s.atomname)))}return{atomIndices1:c,atomIndices2:l,bondOrders:u}}(e)),this.bonds}getRings(){return this.rings===void 0&&this.calculateRings(),this.rings}getBondGraph(){return this.bondGraph===void 0&&this.calculateBondGraph(),this.bondGraph}getAromatic(e){return this.aromaticAtoms===void 0&&this.calculateAromatic(this.structure.getResidueProxy(e.residueIndex)),this.aromaticAtoms}getAromaticRings(e){return this.aromaticRings===void 0&&this.calculateAromatic(e),this.aromaticRings}calculateBondGraph(){const e=this.bondGraph={},t=this.getBonds(),n=t.atomIndices1.length,r=t.atomIndices1,s=t.atomIndices2;for(let a=0;a<n;++a){const o=r[a],A=s[a];(e[o]=e[o]||[]).push(A),(e[A]=e[A]||[]).push(o)}}calculateRings(){const e=function(t,n){const r={count:n,visited:new Int32Array(n),queue:new Int32Array(n),pred:new Int32Array(n),left:new Int32Array(rf),right:new Int32Array(rf),color:new Int32Array(n),currentColor:0,rings:[],atomRings:[],bonds:t};for(let s=0;s<n;s++)r.visited[s]=-1,r.pred[s]=-1;return r}(this.getBondGraph(),this.atomCount);for(let t=0;t<e.count;t++)e.visited[t]>=0||joe(e,t);this.rings={atomRings:e.atomRings,rings:e.rings}}isAromatic(e){return this.aromaticAtoms=this.getAromatic(e),this.aromaticAtoms[e.index-e.residueAtomOffset]===1}calculateAromatic(e){const t=this.aromaticAtoms=new Uint8Array(this.atomCount),n=this.getRings().rings,r=n.map(a=>function(o){if(o.some(u=>!qoe.includes(u.number)))return!1;let A=0;const c=new Kn(3,o.length),l=c.data;return o.forEach(u=>{l[A+0]=u.x,l[A+1]=u.y,l[A+2]=u.z,A+=3}),new sT(c).vecC.length()<Yoe}(a.map(o=>this.structure.getAtomProxy(o+e.atomOffset)))),s=this.aromaticRings=[];n.forEach((a,o)=>{r[o]&&(s.push(a),a.forEach(A=>t[A]=1))})}assignBondReferenceAtomIndices(){const e=this.getBondGraph(),t=this.getRings(),n=t.atomRings,r=t.rings,s=this.bonds,a=s.atomIndices1,o=s.atomIndices2,A=s.bondOrders,c=this.bondReferenceAtomIndices,l=s.atomIndices1.length;c.length=0;for(let u=0;u<l;++u){if(A[u]<=1)continue;let d;const h=a[u],m=o[u],y=n[h],g=n[m];if(y&&g){for(let E=0;E<y.length;E++)if(g.indexOf(y[E])!==-1){d=r[y[E]];break}}if(e[h].length>1)for(let E=0;E<e[h].length;++E){const R=e[h][E];if(R!==m&&(d===void 0||d.indexOf(R)!==-1)){c[u]=R;break}}else if(e[m].length>1)for(let E=0;E<e[m].length;++E){const R=e[m][E];if(R!==h&&(d===void 0||d.indexOf(R)!==-1)){c[u]=R;break}}}}getBondIndex(e,t){const n=this.bonds,r=n.atomIndices1,s=n.atomIndices2;let a=r.indexOf(e),o=s.indexOf(t);const A=o;for(;a!==-1;){for(;o!==-1;){if(a===o)return a;o=s.indexOf(t,o+1)}a=r.indexOf(e,a+1),o=A}}getBondReferenceAtomIndex(e,t){const n=this.getBondIndex(e,t);if(n!==void 0)return this.bondReferenceAtomIndices.length===0&&this.assignBondReferenceAtomIndices(),this.bondReferenceAtomIndices[n]}}const qoe=[5,6,7,8,14,15,16,32,33,50,51,83],Yoe=.05;function Xoe(i,e,t){if(t<e)return;const{pred:n,color:r,left:s,right:a}=i,o=++i.currentColor;let A=e;for(let E=0;E<rf&&(r[A]=o,A=n[A],!(A<0));E++);let c=0,l=0,u=!1,d=0;A=t;for(let E=0;E<rf;E++){if(r[A]===o){d=A,u=!0;break}if(a[l++]=A,A=n[A],A<0)break}if(!u)return;A=e;for(let E=0;E<rf&&(s[c++]=A,d!==A)&&(A=n[A],!(A<0));E++);const h=c+l,m=new Array(h);let y=0;for(let E=0;E<c;E++)m[y++]=s[E];for(let E=l-1;E>=0;E--)m[y++]=a[E];const g=i.rings.length;for(let E=0;E<h;++E){const R=m[E];i.atomRings[R]?i.atomRings[R].push(g):i.atomRings[R]=[g]}i.rings.push(m)}function joe(i,e){const{bonds:t,visited:n,queue:r,pred:s}=i;n[e]=1,r[0]=e;let a=0,o=1;for(;a<o;){const A=r[a++],c=0;if(t[A]===void 0)continue;const l=t[A].length;for(let u=c;u<l;u++){const d=t[A][u];n[d]>0?s[d]!==A&&s[A]!==d&&Xoe(i,A,d):(n[d]=1,r[o++]=d,s[d]=A)}}}const rf=4;class Zoe{constructor(e){this.structure=e,this.dict={},this.list=[]}add(e,t,n,r="",s){const a=function(A,c,l,u=""){return A+"|"+c.join(",")+"|"+(l?1:0)+"|"+u}(e=e.toUpperCase(),t,n,r);let o=this.dict[a];if(o===void 0){const A=new Woe(this.structure,e,t,n,r,s);o=this.list.length,this.dict[a]=o,this.list.push(A)}return o}get(e){return this.list[e]}}class p4{constructor(e,t=0){this.structure=e,this.index=t,this.bondStore=e.bondStore,this._v12=new ne,this._v13=new ne,this._ap1=this.structure.getAtomProxy(),this._ap2=this.structure.getAtomProxy(),this._ap3=this.structure.getAtomProxy()}get atom1(){return this.structure.getAtomProxy(this.atomIndex1)}get atom2(){return this.structure.getAtomProxy(this.atomIndex2)}get atomIndex1(){return this.bondStore.atomIndex1[this.index]}set atomIndex1(e){this.bondStore.atomIndex1[this.index]=e}get atomIndex2(){return this.bondStore.atomIndex2[this.index]}set atomIndex2(e){this.bondStore.atomIndex2[this.index]=e}get bondOrder(){return this.bondStore.bondOrder[this.index]}set bondOrder(e){this.bondStore.bondOrder[this.index]=e}getOtherAtomIndex(e){return e===this.atomIndex1?this.atomIndex2:this.atomIndex1}getOtherAtom(e){return this.structure.getAtomProxy(this.getOtherAtomIndex(e.index))}getReferenceAtomIndex(){const e=this._ap1,t=this._ap2;if(e.index=this.atomIndex1,t.index=this.atomIndex2,e.residueIndex!==t.residueIndex)return;const n=e.index-e.residueAtomOffset,r=t.index-t.residueAtomOffset,s=e.residueType.getBondReferenceAtomIndex(n,r);if(s!==void 0)return s+e.residueAtomOffset;console.warn("No reference atom found",e.index,t.index)}calculateShiftDir(e=new ne){const t=this._ap1,n=this._ap2,r=this._ap3,s=this._v12,a=this._v13;t.index=this.atomIndex1,n.index=this.atomIndex2;const o=this.getReferenceAtomIndex();s.subVectors(t,n).normalize(),o!==void 0?(r.index=o,a.subVectors(t,r)):a.copy(t),a.normalize();let A=s.dot(a);return 1-Math.abs(A)<1e-5&&(a.set(1,0,0),A=s.dot(a),1-Math.abs(A)<1e-5&&(a.set(0,1,0),A=s.dot(a))),e.copy(a.sub(s.multiplyScalar(A))).normalize()}qualifiedName(){return this.atomIndex1+"="+this.atomIndex2}clone(){return new p4(this.structure,this.index)}toObject(){return{atomIndex1:this.atomIndex1,atomIndex2:this.atomIndex2,bondOrder:this.bondOrder}}}class m4{constructor(e,t=0){this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueMap=e.residueMap,this.atomMap=e.atomMap}get entity(){return this.structure.entityList[this.entityIndex]}get entityIndex(){return this.chainStore.entityIndex[this.chainIndex]}get chain(){return this.structure.getChainProxy(this.chainIndex)}get chainIndex(){return this.residueStore.chainIndex[this.index]}set chainIndex(e){this.residueStore.chainIndex[this.index]=e}get atomOffset(){return this.residueStore.atomOffset[this.index]}set atomOffset(e){this.residueStore.atomOffset[this.index]=e}get atomCount(){return this.residueStore.atomCount[this.index]}set atomCount(e){this.residueStore.atomCount[this.index]=e}get atomEnd(){return this.atomOffset+this.atomCount-1}get modelIndex(){return this.chainStore.modelIndex[this.chainIndex]}get chainname(){return this.chainStore.getChainname(this.chainIndex)}get chainid(){return this.chainStore.getChainid(this.chainIndex)}get resno(){return this.residueStore.resno[this.index]}set resno(e){this.residueStore.resno[this.index]=e}get sstruc(){return this.residueStore.getSstruc(this.index)}set sstruc(e){this.residueStore.setSstruc(this.index,e)}get inscode(){return this.residueStore.getInscode(this.index)}set inscode(e){this.residueStore.setInscode(this.index,e)}get residueType(){return this.residueMap.get(this.residueStore.residueTypeId[this.index])}get resname(){return this.residueType.resname}get hetero(){return this.residueType.hetero}get moleculeType(){return this.residueType.moleculeType}get backboneType(){return this.residueType.backboneType}get backboneStartType(){return this.residueType.backboneStartType}get backboneEndType(){return this.residueType.backboneEndType}get traceAtomIndex(){return this.residueType.traceAtomIndex+this.atomOffset}get direction1AtomIndex(){return this.residueType.direction1AtomIndex+this.atomOffset}get direction2AtomIndex(){return this.residueType.direction2AtomIndex+this.atomOffset}get backboneStartAtomIndex(){return this.residueType.backboneStartAtomIndex+this.atomOffset}get backboneEndAtomIndex(){return this.residueType.backboneEndAtomIndex+this.atomOffset}get rungEndAtomIndex(){return this.residueType.rungEndAtomIndex+this.atomOffset}get x(){let e=0;for(let t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.x[t];return e/this.atomCount}get y(){let e=0;for(let t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.y[t];return e/this.atomCount}get z(){let e=0;for(let t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.z[t];return e/this.atomCount}eachAtom(e,t){const n=this.atomCount,r=this.atomOffset,s=this.structure._ap,a=r+n;if(t&&t.atomOnlyTest){const o=t.atomOnlyTest;for(let A=r;A<a;++A)s.index=A,o(s)&&e(s)}else for(let o=r;o<a;++o)s.index=o,e(s)}positionToArray(e=[],t=0){return e[t+0]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}isProtein(){return this.residueType.moleculeType===3}isNucleic(){const e=this.residueType.moleculeType;return e===4||e===5}isRna(){return this.residueType.moleculeType===4}isDna(){return this.residueType.moleculeType===5}isCg(){const e=this.residueType.backboneType;return e===4||e===5||e===6}isPolymer(){if(this.structure.entityList.length>0)return this.entity.isPolymer();{const e=this.residueType.moleculeType;return e===3||e===4||e===5}}isHetero(){return this.residueType.hetero===1}isWater(){return this.residueType.moleculeType===1}isIon(){return this.residueType.moleculeType===2}isSaccharide(){return this.residueType.moleculeType===6}isStandardAminoacid(){return this.residueType.isStandardAminoacid()}isStandardBase(){return this.residueType.isStandardBase()}isHelix(){return kM.includes(this.sstruc)}isSheet(){return OM.includes(this.sstruc)}isTurn(){return QM.includes(this.sstruc)&&this.isProtein()}getAtomType(e){return this.atomMap.get(this.atomStore.atomTypeId[e])}getResname1(){return $m[this.resname.toUpperCase()]||"X"}getBackboneType(e){switch(e){case-1:return this.residueType.backboneStartType;case 1:return this.residueType.backboneEndType;default:return this.residueType.backboneType}}getAtomIndexByName(e){let t=this.residueType.getAtomIndexByName(e);return t!==void 0&&(t+=this.atomOffset),t}hasAtomWithName(e){return this.residueType.hasAtomWithName(e)}getAtomnameList(){console.warn("getAtomnameList - might be expensive");const e=this.atomCount,t=this.atomOffset,n=new Array(e);for(let r=0;r<e;++r)n[r]=this.getAtomType(t+r).atomname;return n}connectedTo(e){const t=this.structure.getAtomProxy(this.backboneEndAtomIndex),n=this.structure.getAtomProxy(e.backboneStartAtomIndex);return!(!t||!n)&&t.connectedTo(n)}getNextConnectedResidue(){const e=this.chainStore.residueOffset[this.chainIndex],t=this.chainStore.residueCount[this.chainIndex],n=this.index+1;if(n<e+t){const r=this.structure.getResidueProxy(n);if(this.connectedTo(r))return r}else if(n===e+t){const r=this.structure.getResidueProxy(e);if(this.connectedTo(r))return r}}getPreviousConnectedResidue(e){const t=this.chainStore.residueOffset[this.chainIndex],n=this.index-1;if(n>=t){const r=W(e,this.structure.getResidueProxy());if(r.index=n,r.connectedTo(this))return r}else if(n===t-1){const r=this.chainStore.residueCount[this.chainIndex],s=W(e,this.structure.getResidueProxy());if(s.index=t+r-1,s.connectedTo(this))return s}}getBonds(){return this.residueType.getBonds(this)}getRings(){return this.residueType.getRings()}getAromaticRings(){return this.residueType.getAromaticRings(this)}qualifiedName(e=!1){let t="";return this.resname&&!e&&(t+="["+this.resname+"]"),this.resno!==void 0&&(t+=this.resno),this.inscode&&(t+="^"+this.inscode),this.chain&&(t+=":"+this.chainname),t+="/"+this.modelIndex,t}clone(){return new m4(this.structure,this.index)}toObject(){return{index:this.index,chainIndex:this.chainIndex,atomOffset:this.atomOffset,atomCount:this.atomCount,resno:this.resno,resname:this.resname,sstruc:this.sstruc}}}class aw{constructor(e,t,n){this.structure=e,this.residueIndexStart=t,this.residueIndexEnd=n,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueCount=n-t+1;const r=this.structure.getResidueProxy(this.residueIndexStart),s=this.structure.getResidueProxy(this.residueIndexEnd);this.isPrevConnected=r.getPreviousConnectedResidue()!==void 0;const a=s.getNextConnectedResidue();this.isNextConnected=a!==void 0,this.isNextNextConnected=a!==void 0&&a.getNextConnectedResidue()!==void 0,this.isCyclic=s.connectedTo(r),this.__residueProxy=this.structure.getResidueProxy()}get chainIndex(){return this.residueStore.chainIndex[this.residueIndexStart]}get modelIndex(){return this.chainStore.modelIndex[this.chainIndex]}get chainname(){return this.chainStore.getChainname(this.chainIndex)}isProtein(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isProtein()}isCg(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isCg()}isNucleic(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isNucleic()}getMoleculeType(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.moleculeType}getBackboneType(e){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.getBackboneType(e)}getAtomIndexByType(e,t){this.isCyclic?e===-1?e=this.residueCount-1:e===this.residueCount&&(e=0):(e!==-1||this.isPrevConnected||(e+=1),e!==this.residueCount||this.isNextNextConnected||(e-=1));const n=this.__residueProxy;let r;switch(n.index=this.residueIndexStart+e,t){case"trace":r=n.traceAtomIndex;break;case"direction1":r=n.direction1AtomIndex;break;case"direction2":r=n.direction2AtomIndex;break;default:r=n.getAtomIndexByName(t)}return r}eachAtom(e,t){this.eachResidue(function(n){n.eachAtom(e,t)})}eachAtomN(e,t,n){const r=this.residueCount,s=new Array(e);for(let o=0;o<e;++o)s[o]=this.structure.getAtomProxy(this.getAtomIndexByType(o,n));t.apply(this,s);for(var a=e;a<r;++a){for(let o=1;o<e;++o)s[o-1].index=s[o].index;s[e-1].index=this.getAtomIndexByType(a,n),t.apply(this,s)}}eachResidue(e){const t=this.structure.getResidueProxy(),n=this.residueCount,r=this.residueIndexStart;for(let s=0;s<n;++s)t.index=r+s,e(t)}qualifiedName(){const e=this.structure.getResidueProxy(this.residueIndexStart),t=this.structure.getResidueProxy(this.residueIndexEnd);return e.qualifiedName()+" - "+t.qualifiedName()}}class g4{constructor(e,t=0){this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore}get entity(){return this.structure.entityList[this.entityIndex]}get model(){return this.structure.getModelProxy(this.modelIndex)}get entityIndex(){return this.chainStore.entityIndex[this.index]}set entityIndex(e){this.chainStore.entityIndex[this.index]=e}get modelIndex(){return this.chainStore.modelIndex[this.index]}set modelIndex(e){this.chainStore.modelIndex[this.index]=e}get residueOffset(){return this.chainStore.residueOffset[this.index]}set residueOffset(e){this.chainStore.residueOffset[this.index]=e}get residueCount(){return this.chainStore.residueCount[this.index]}set residueCount(e){this.chainStore.residueCount[this.index]=e}get residueEnd(){return this.residueOffset+this.residueCount-1}get atomOffset(){return this.residueStore.atomOffset[this.residueOffset]}get atomEnd(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1}get atomCount(){return this.residueCount===0?0:this.atomEnd-this.atomOffset+1}get chainname(){return this.chainStore.getChainname(this.index)}set chainname(e){this.chainStore.setChainname(this.index,e)}get chainid(){return this.chainStore.getChainid(this.index)}set chainid(e){this.chainStore.setChainid(this.index,e)}eachAtom(e,t){this.eachResidue(function(n){n.eachAtom(e,t)},t)}eachResidue(e,t){const n=this.residueCount,r=this.residueOffset,s=this.structure._rp,a=r+n;if(t&&t.test){const o=t.residueOnlyTest;if(o)for(let A=r;A<a;++A)s.index=A,o(s)&&e(s);else for(let A=r;A<a;++A)s.index=A,e(s)}else for(let o=r;o<a;++o)s.index=o,e(s)}eachResidueN(e,t){const n=this.residueCount,r=this.residueOffset,s=r+n;if(n<e)return;const a=new Array(e);for(let o=0;o<e;++o)a[o]=this.structure.getResidueProxy(r+o);t.apply(this,a);for(let o=r+e;o<s;++o){for(let A=0;A<e;++A)a[A].index+=1;t.apply(this,a)}}eachPolymer(e,t){let n=0,r=0;const s=t?t.residueOnlyTest:void 0,a=this.model.structure,o=this.residueCount,A=this.residueOffset,c=A+o,l=this.structure.getResidueProxy(),u=this.structure.getResidueProxy(A),d=this.structure.getAtomProxy(),h=this.structure.getAtomProxy();let m=!0;for(let y=A+1;y<c;++y){l.index=u.index,u.index=y;const g=m?l.backboneEndType:l.backboneType,E=u.backboneType;m&&(n=l.index,m=!1),r=u.index,g!==Rc&&g===E?(d.index=l.backboneEndAtomIndex,h.index=u.backboneStartAtomIndex,d&&h&&d.connectedTo(h)&&(!s||s(l)&&s(u))||(l.index-n>1&&e(new aw(a,n,l.index)),n=r)):(g!==Rc&&l.index-n>1&&e(new aw(a,n,l.index)),n=r)}r-n>1&&this.structure.getResidueProxy(n).backboneEndType&&e(new aw(a,n,r))}qualifiedName(){return":"+this.chainname+"/"+this.modelIndex}clone(){return new g4(this.structure,this.index)}toObject(){return{index:this.index,residueOffset:this.residueOffset,residueCount:this.residueCount,chainname:this.chainname}}}class y4{constructor(e,t=0){this.structure=e,this.index=t,this.modelStore=e.modelStore,this.chainStore=e.chainStore,this.residueStore=e.residueStore}get chainOffset(){return this.modelStore.chainOffset[this.index]}set chainOffset(e){this.modelStore.chainOffset[this.index]=e}get chainCount(){return this.modelStore.chainCount[this.index]}set chainCount(e){this.modelStore.chainCount[this.index]=e}get residueOffset(){return this.chainStore.residueOffset[this.chainOffset]}get atomOffset(){return this.residueStore.atomOffset[this.residueOffset]}get chainEnd(){return this.chainOffset+this.chainCount-1}get residueEnd(){return this.chainStore.residueOffset[this.chainEnd]+this.chainStore.residueCount[this.chainEnd]-1}get atomEnd(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1}get residueCount(){return this.chainCount===0?0:this.residueEnd-this.residueOffset+1}get atomCount(){return this.residueCount===0?0:this.atomEnd-this.atomOffset+1}eachAtom(e,t){this.eachChain(function(n){n.eachAtom(e,t)},t)}eachResidue(e,t){this.eachChain(function(n){n.eachResidue(e,t)},t)}eachPolymer(e,t){if(t&&t.chainOnlyTest){const n=t.chainOnlyTest;this.eachChain(function(r){n(r)&&r.eachPolymer(e,t)})}else this.eachChain(function(n){n.eachPolymer(e,t)})}eachChain(e,t){const n=this.chainCount,r=this.chainOffset,s=this.structure._cp,a=r+n;if(t&&t.test){const o=t.chainOnlyTest;if(o)for(let A=r;A<a;++A)s.index=A,o(s)&&e(s);else for(let A=r;A<a;++A)s.index=A,e(s)}else for(let o=r;o<a;++o)s.index=o,e(s)}qualifiedName(){return"/"+this.index}clone(){return new y4(this.structure,this.index)}toObject(){return{index:this.index,chainOffset:this.chainOffset,chainCount:this.chainCount}}}class Ja{constructor(e="",t=""){this.signals={refreshed:new fn.exports.Signal},this.init(e,t)}init(e,t){this.name=e,this.path=t,this.title="",this.id="",this.data={structure:this,"@spatialLookup":void 0,"@valenceModel":void 0},this.header={},this.extraData={},this.atomSetCache={},this.atomSetDict={},this.biomolDict={},this.entityList=[],this.unitcell=void 0,this.frames=[],this.boxes=[],this.validation=void 0,this.bondStore=new J1(0),this.backboneBondStore=new J1(0),this.rungBondStore=new J1(0),this.atomStore=new _oe(0),this.residueStore=new voe(0),this.chainStore=new xoe(0),this.modelStore=new Roe(0),this.atomMap=new $oe(this),this.residueMap=new Zoe(this),this.chemCompMap=void 0,this.bondHash=void 0,this.spatialHash=void 0,this.atomSet=void 0,this.bondSet=void 0,this.center=new ne,this.boundingBox=new Gi,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy()}get type(){return"Structure"}finalizeAtoms(){this.atomSet=this.getAtomSet(),this.atomCount=this.atomStore.count,this.boundingBox=this.getBoundingBox(void 0,this.boundingBox),this.center=this.boundingBox.getCenter(new ne),this.spatialHash=new Nf(this.atomStore,this.boundingBox)}finalizeBonds(){this.bondSet=this.getBondSet(),this.bondCount=this.bondStore.count,this.bondHash=new Eoe(this.bondStore,this.atomStore.count),this.atomSetCache={},this.atomSetDict.rung||(this.atomSetDict.rung=this.getAtomSet(!1));for(let e in this.atomSetDict)this.atomSetCache["__"+e]=this.atomSetDict[e].clone()}getBondProxy(e){return new p4(this,e)}getAtomProxy(e){return new ey(this,e)}getResidueProxy(e){return new m4(this,e)}getChainProxy(e){return new g4(this,e)}getModelProxy(e){return new y4(this,e)}getBondSet(){const e=this.bondStore.count,t=new Ji(e),n=this.atomSet;if(n)if(n.isAllSet())t.setAll();else if(n.isAllClear())t.clearAll();else{const r=this.getBondProxy();for(let s=0;s<e;++s)r.index=s,n.isSet(r.atomIndex1,r.atomIndex2)&&t.set(r.index)}else t.setAll();return t}getBackboneBondSet(){const e=this.backboneBondStore.count,t=new Ji(e),n=this.atomSetCache.__backbone;if(n){const r=this.getBondProxy();r.bondStore=this.backboneBondStore;for(let s=0;s<e;++s)r.index=s,n.isSet(r.atomIndex1,r.atomIndex2)&&t.set(r.index)}else t.setAll();return t}getRungBondSet(){const e=this.rungBondStore.count,t=new Ji(e),n=this.atomSetCache.__rung;if(n){const r=this.getBondProxy();r.bondStore=this.rungBondStore;for(let s=0;s<e;++s)r.index=s,n.isSet(r.atomIndex1,r.atomIndex2)&&t.set(r.index)}else t.setAll();return t}getAtomSet(e){const t=this.atomStore.count;if(e===void 0)return new Ji(t,!0);if(e instanceof Ji)return e;if(e===!0)return new Ji(t,!0);if(e&&e.test){const n=e.string;if(n in this.atomSetCache)return this.atomSetCache[n];if(n==="")return new Ji(t,!0);{const r=new Ji(t);return this.eachAtom(function(s){r.set(s.index)},e),this.atomSetCache[n]=r,r}}return e===!1?new Ji(t):new Ji(t,!0)}getAtomSetWithinSelection(e,t){const n=this.spatialHash,r=this.getAtomSet(!1),s=this.getAtomProxy();return n&&this.getAtomSet(e).forEach(function(a){s.index=a,n.within(s.x,s.y,s.z,t).forEach(function(o){r.set(o)})}),r}getAtomSetWithinPoint(e,t){const n=e,r=this.getAtomSet(!1);return this.spatialHash&&this.spatialHash.within(n.x,n.y,n.z,t).forEach(function(s){r.set(s)}),r}getAtomSetWithinVolume(e,t,n,r,s){const a=new jo(e,n,r,s),o=a.getDataPosition(),A=o.length,c=a.matrix.getMaxScaleOnAxis(),l=this.getAtomSet(!1);if(!this.spatialHash)return l;for(let u=0;u<A;u+=3)this.spatialHash.within(o[u],o[u+1],o[u+2],c).forEach(function(d){l.set(d)});return l}getAtomSetWithinGroup(e){const t=this.atomStore.residueIndex,n=this.getAtomSet(!1),r=this.getResidueProxy();return this.getAtomSet(e).forEach(function(s){r.index=t[s];for(let a=r.atomOffset;a<=r.atomEnd;++a)n.set(a)}),n}getSelection(){}getStructure(){return this}eachEntity(e,t){this.entityList.forEach(function(n){t!==void 0&&n.getEntityType()!==t||e(n)})}eachBond(e,t){const n=this.getBondProxy();let r;if(t&&t.test&&(r=this.getBondSet(),this.bondSet&&r.intersection(this.bondSet)),r)r.forEach(function(s){n.index=s,e(n)});else{const s=this.bondStore.count;for(let a=0;a<s;++a)n.index=a,e(n)}}eachAtom(e,t){if(t&&t.test)this.eachModel(function(n){n.eachAtom(e,t)},t);else{const n=this.atomStore.count,r=this.getAtomProxy();for(let s=0;s<n;++s)r.index=s,e(r)}}eachResidue(e,t){if(t&&t.test){const n=this.modelStore.count,r=this.getModelProxy(),s=t.modelOnlyTest;if(s)for(let a=0;a<n;++a)r.index=a,s(r)&&r.eachResidue(e,t);else for(let a=0;a<n;++a)r.index=a,r.eachResidue(e,t)}else{const n=this.residueStore.count,r=this.getResidueProxy();for(let s=0;s<n;++s)r.index=s,e(r)}}eachResidueN(e,t){const n=this.residueStore.count;if(n<e)return;const r=new Array(e);for(let s=0;s<e;++s)r[s]=this.getResidueProxy(s);t.apply(this,r);for(let s=e;s<n;++s){for(let a=0;a<e;++a)r[a].index+=1;t.apply(this,r)}}eachPolymer(e,t){if(t&&t.modelOnlyTest){const n=t.modelOnlyTest;this.eachModel(function(r){n(r)&&r.eachPolymer(e,t)})}else this.eachModel(function(n){n.eachPolymer(e,t)})}eachChain(e,t){if(t&&t.test)this.eachModel(function(n){n.eachChain(e,t)});else{const n=this.chainStore.count,r=this.getChainProxy();for(let s=0;s<n;++s)r.index=s,e(r)}}eachModel(e,t){const n=this.modelStore.count,r=this.getModelProxy();if(t&&t.test){const s=t.modelOnlyTest;if(s)for(let a=0;a<n;++a)r.index=a,s(r)&&e(r);else for(let a=0;a<n;++a)r.index=a,e(r)}else for(let s=0;s<n;++s)r.index=s,e(r)}getAtomData(e){const t=Object.assign({},e);t.colorParams&&(t.colorParams.structure=this.getStructure());const n=t.what,r=W(t.atomSet,this.atomSet);let s,a;const o={},A=this.getAtomProxy(),c=r.getSize();n&&!n.position||(o.position=new Float32Array(3*c)),n&&!n.color||!t.colorParams||(o.color=new Float32Array(3*c),a=Bn.getScheme(t.colorParams)),n&&!n.picking||(o.picking=new Tc(new Float32Array(c),this.getStructure())),n&&!n.radius||(o.radius=new Float32Array(c),s=new yA(t.radiusParams)),n&&!n.index||(o.index=new Uint32Array(c));const{position:l,color:u,picking:d,radius:h,index:m}=o;return r.forEach((y,g)=>{const E=3*g;A.index=y,l&&A.positionToArray(l,E),u&&a.atomColorToArray(A,u,E),d&&(d.array[g]=y),h&&(h[g]=s.atomRadius(A)),m&&(m[g]=y)}),o}getBondData(e){const t=Object.assign({},e);t.colorParams&&(t.colorParams.structure=this.getStructure());const n=t.what,r=W(t.bondSet,this.bondSet),s=W(t.multipleBond,"off"),a=s!=="off",o=s==="offset",A=W(t.bondScale,.4),c=W(t.bondSpacing,1);let l,u;const d={},h=this.getBondProxy();t.bondStore&&(h.bondStore=t.bondStore);const m=this.getAtomProxy(),y=this.getAtomProxy();let g;if(a){const k=h.bondStore.bondOrder;g=0,r.forEach(function(K){g+=k[K]})}else g=r.getSize();n&&!n.position||(d.position1=new Float32Array(3*g),d.position2=new Float32Array(3*g)),n&&!n.color||!t.colorParams||(d.color=new Float32Array(3*g),d.color2=new Float32Array(3*g),u=Bn.getScheme(t.colorParams)),n&&!n.picking||(d.picking=new WM(new Float32Array(g),this.getStructure(),t.bondStore)),(!n||n.radius||a&&n.position)&&(l=new yA(t.radiusParams)),n&&!n.radius||(d.radius=new Float32Array(g),t.radius2&&(d.radius2=new Float32Array(g)));const{position1:E,position2:R,color:p,color2:w,picking:v,radius:_,radius2:x}=d;let C,B,G,I,N,T,M=0;const U=new ne,z=new ne,L=new ne;return r.forEach(k=>{if(B=3*M,h.index=k,m.index=h.atomIndex1,y.index=h.atomIndex2,I=h.bondOrder,E)if(a&&I>1){const K=l.atomRadius(m);T=K*A/(.5*I),h.calculateShiftDir(L),o?(N=2*c*K,L.multiplyScalar(N),L.negate(),z.subVectors(y,m).multiplyScalar(Math.max(.1,N/1.88)),m.positionToArray(E,B),y.positionToArray(R,B),I>=2&&(U.addVectors(m,L).add(z).toArray(E,B+3),U.addVectors(y,L).sub(z).toArray(R,B+3),I>=3&&(U.subVectors(m,L).add(z).toArray(E,B+6),U.subVectors(y,L).sub(z).toArray(R,B+6)))):(N=(c-A)*K,L.multiplyScalar(N),I===2?(U.addVectors(m,L).toArray(E,B),U.subVectors(m,L).toArray(E,B+3),U.addVectors(y,L).toArray(R,B),U.subVectors(y,L).toArray(R,B+3)):I===3?(m.positionToArray(E,B),U.addVectors(m,L).toArray(E,B+3),U.subVectors(m,L).toArray(E,B+6),y.positionToArray(R,B),U.addVectors(y,L).toArray(R,B+3),U.subVectors(y,L).toArray(R,B+6)):(m.positionToArray(E,B),y.positionToArray(R,B)))}else m.positionToArray(E,B),y.positionToArray(R,B);if(p&&w&&(u.bondColorToArray(h,1,p,B),u.bondColorToArray(h,0,w,B),a&&I>1))for(C=1;C<I;++C)G=3*C+B,s6(p,B,G,3),s6(w,B,G,3);if(v&&v.array&&(v.array[M]=k,a&&I>1))for(C=1;C<I;++C)v.array[M+C]=k;if(_&&(_[M]=l.atomRadius(m),a&&I>1))for(T=_[M]*A/(o?1:.5*I),C=o?1:0;C<I;++C)_[M+C]=T;if(x&&(x[M]=l.atomRadius(y),a&&I>1))for(T=x[M]*A/(o?1:.5*I),C=o?1:0;C<I;++C)x[M+C]=T;M+=a?I:1}),d}getBackboneAtomData(e){return e=Object.assign({atomSet:this.atomSetCache.__backbone},e),this.getAtomData(e)}getBackboneBondData(e){return e=Object.assign({bondSet:this.getBackboneBondSet(),bondStore:this.backboneBondStore},e),this.getBondData(e)}getRungAtomData(e){return e=Object.assign({atomSet:this.atomSetCache.__rung},e),this.getAtomData(e)}getRungBondData(e){return e=Object.assign({bondSet:this.getRungBondSet(),bondStore:this.rungBondStore},e),this.getBondData(e)}getBoundingBox(e,t){ot&&He.time("getBoundingBox"),t=t||new Gi;let n=1/0,r=1/0,s=1/0,a=-1/0,o=-1/0,A=-1/0;return this.eachAtom(c=>{const l=c.x,u=c.y,d=c.z;l<n&&(n=l),u<r&&(r=u),d<s&&(s=d),l>a&&(a=l),u>o&&(o=u),d>A&&(A=d)},e),t.min.set(n,r,s),t.max.set(a,o,A),ot&&He.timeEnd("getBoundingBox"),t}getPrincipalAxes(e){ot&&He.time("getPrincipalAxes");let t=0;const n=new Kn(3,this.atomCount),r=n.data;return this.eachAtom(s=>{r[t+0]=s.x,r[t+1]=s.y,r[t+2]=s.z,t+=3},e),ot&&He.timeEnd("getPrincipalAxes"),new sT(n)}atomCenter(e){return e?this.getBoundingBox(e).getCenter(new ne):this.center.clone()}hasCoords(){if(this._hasCoords===void 0){const e=this.atomStore;this._hasCoords=q1(e.x)!==0||W1(e.x)!==0||q1(e.y)!==0||W1(e.y)!==0||q1(e.z)!==0||W1(e.z)!==0||e.count/this.modelStore.count==1}return this._hasCoords}getSequence(e){const t=[],n=this.getResidueProxy();return this.eachAtom(function(r){n.index=r.residueIndex,r.index===n.traceAtomIndex&&t.push(n.getResname1())},e),t}getAtomIndices(e){if(e&&e.string){const t=[];return this.eachAtom(function(n){t.push(n.index)},e),new Uint32Array(t)}{const t={what:{index:!0}};return this.getAtomData(t).index}}getChainnameCount(e){const t=new Set;return this.eachChain(function(n){n.residueCount&&t.add(n.chainname)},e),t.size}updatePosition(e,t=!0){let n=0;this.eachAtom(function(r){r.positionFromArray(e,n),n+=3},void 0),this._hasCoords=void 0,t&&this.refreshPosition()}refreshPosition(){this.getBoundingBox(void 0,this.boundingBox),this.boundingBox.getCenter(this.center),this.spatialHash=new Nf(this.atomStore,this.boundingBox),this.signals.refreshed.dispatch(this)}dispose(){this.frames&&(this.frames.length=0),this.boxes&&(this.boxes.length=0),this.bondStore.dispose(),this.backboneBondStore.dispose(),this.rungBondStore.dispose(),this.atomStore.dispose(),this.residueStore.dispose(),this.chainStore.dispose(),this.modelStore.dispose(),delete this.bondSet,delete this.atomSet}}const Q6=new Gi,ow=[Xg,vc,jg,xc,mu,qg,pu,Yg,Km,Zg,Cf,Sf],Joe={aspectRatio:1.5,sphereDetail:2,radialSegments:50,disableImpostor:!1,openEnded:!1,dashedCylinder:!1,labelParams:{},pointSize:2,sizeAttenuation:!1,useTexture:!0,linewidth:2};class eAe{constructor(e="shape",t={}){this.boundingBox=new Gi,this.bufferList=[],this.meshCount=0,this._primitiveData={},this.name=e,this.parameters=Ms(t,Joe),ow.forEach(n=>{Object.keys(n.fields).forEach(r=>{this._primitiveData[n.getShapeKey(r)]=[]}),this._primitiveData[n.getShapeKey("name")]=[]})}addBuffer(e){this.bufferList.push(e);const t=e.geometry;return t.boundingBox||t.computeBoundingBox(),this.boundingBox.union(t.boundingBox),this}addMesh(e,t,n,r,s){let a;e=Q2(e),t=Q2(t),Array.isArray(n)&&(n=ho(n,e.length)),r&&(r=Q2(r)),a=r===void 0||r.length==0?{position:e,color:t,index:n}:{position:e,color:t,index:n,normal:r};const o=new ioe(this,Object.assign({serial:this.meshCount,name:s},a)),A=new gA(Object.assign({picking:o},a));return this.bufferList.push(A),Q6.setFromArray(e),this.boundingBox.union(Q6),this.meshCount+=1,this}addSphere(e,t,n,r){return pu.objectToShape(this,{position:e,color:t,radius:n,name:r}),this}addEllipsoid(e,t,n,r,s,a){return mu.objectToShape(this,{position:e,color:t,radius:n,majorAxis:r,minorAxis:s,name:a}),this}addTorus(e,t,n,r,s,a){return Zg.objectToShape(this,{position:e,color:t,radius:n,majorAxis:r,minorAxis:s,name:a}),this}addCylinder(e,t,n,r,s){return xc.objectToShape(this,{position1:e,position2:t,color:n,radius:r,name:s}),this}addCone(e,t,n,r,s){return jg.objectToShape(this,{position1:e,position2:t,color:n,radius:r,name:s}),this}addArrow(e,t,n,r,s){return Xg.objectToShape(this,{position1:e,position2:t,color:n,radius:r,name:s}),this}addBox(e,t,n,r,s,a){return vc.objectToShape(this,{position:e,color:t,size:n,heightAxis:r,depthAxis:s,name:a}),this}addOctahedron(e,t,n,r,s,a){return qg.objectToShape(this,{position:e,color:t,size:n,heightAxis:r,depthAxis:s,name:a}),this}addTetrahedron(e,t,n,r,s,a){return Yg.objectToShape(this,{position:e,color:t,size:n,heightAxis:r,depthAxis:s,name:a}),this}addText(e,t,n,r){return Km.objectToShape(this,{position:e,color:t,size:n,text:r}),this}addPoint(e,t,n){return Cf.objectToShape(this,{position:e,color:t,name:n}),this}addWideline(e,t,n,r,s){return this.parameters.linewidth=r,Sf.objectToShape(this,{position1:e,position2:t,color:n,name:s}),this}addLabel(e,t,n,r){return console.warn("Shape.addLabel is deprecated, use .addText instead"),this.addText(e,t,n,r)}getBufferList(){const e=[];return ow.forEach(t=>{this._primitiveData[t.getShapeKey("color")].length&&e.push(t.bufferFromShape(this,this.parameters))}),this.bufferList.concat(e)}dispose(){this.bufferList.forEach(function(e){e.dispose()}),this.bufferList.length=0,ow.forEach(e=>{Object.keys(e.fields).forEach(t=>{this._primitiveData[e.getShapeKey(t)].length=0}),this._primitiveData[e.getShapeKey("name")].length=0})}get center(){return this._center||(this._center=this.boundingBox.getCenter(new ne)),this._center}get type(){return"Shape"}}class H6 extends jf{constructor(e,t,n){Array.isArray(e)||(e=[e]),super(e,t,n),this.type="buffer",this.parameters=Object.assign({},this.parameters,{colorScheme:null,colorScale:null,colorValue:null,colorDomain:null,colorMode:null}),this.buffer=e,this.init(n)}init(e){super.init(e),this.build()}create(){this.bufferList.push.apply(this.bufferList,this.buffer)}attach(e){this.bufferList.forEach(t=>{this.viewer.add(t),t.setParameters(this.getBufferParams())}),this.setVisibility(this.visible),e()}}const A1=new xt,z6=new Nn;class _0 extends gA{constructor(e,t={},n){super(function(A,c){const l=c.attributes.position.array,u=c.index?c.index.array:void 0,d=A.position.length/3,h=l.length/3,m=d*h,y=new Float32Array(3*m),g=new Float32Array(3*m),E=new Float32Array(3*m);let R;return u&&(R=ho(d*u.length,m)),{position:y,color:E,index:R,normal:g,primitiveId:A.primitiveId||wE(d,h),picking:A.picking}}(e,n),t),this.updateNormals=!1;const r=n.attributes.position.array,s=n.attributes.normal.array,a=n.index?n.index.array:void 0;this.geoPosition=r,this.geoNormal=s,this.geoIndex=a,this.positionCount=e.position.length/3,this.geoPositionCount=r.length/3,this.transformedGeoPosition=new Float32Array(3*this.geoPositionCount),this.transformedGeoNormal=new Float32Array(3*this.geoPositionCount);const o=this.geometry.attributes;if(this.meshPosition=o.position.array,this.meshColor=o.color.array,this.meshNormal=o.normal.array,this.setAttributes(e),a){const A=this.geometry.getIndex();if(!A)return void He.error("Index is null");this.meshIndex=A.array,this.makeIndex()}}setAttributes(e={},t=!1){const n=this.geometry.attributes;let r,s,a,o,A,c,l,u,d;const h=this.updateNormals;e.position&&(r=e.position,a=this.geoPosition,l=this.meshPosition,A=this.transformedGeoPosition,n.position.needsUpdate=!0,(h||t)&&(o=this.geoNormal,d=this.meshNormal,c=this.transformedGeoNormal,n.normal.needsUpdate=!0)),e.color&&(s=e.color,u=this.meshColor,n.color.needsUpdate=!0);const m=this.positionCount,y=this.geoPositionCount;for(let g=0;g<m;++g){let E,R;const p=g*y*3,w=3*g;if(r&&A&&l&&d&&a&&o&&(A.set(a),A1.makeTranslation(r[w],r[w+1],r[w+2]),this.applyPositionTransform(A1,g,w),$g(A1.elements,A),l.set(A,p),h&&c?(c.set(o),z6.getNormalMatrix(A1),l4(z6.elements,c),d.set(c,p)):t&&d.set(o,p)),s&&u)for(E=0;E<y;++E)R=p+3*E,u[R]=s[w],u[R+1]=s[w+1],u[R+2]=s[w+2]}}makeIndex(){const e=this.geoIndex,t=this.meshIndex;if(!e)return;const n=this.positionCount,r=this.geoPositionCount,s=3*(e.length/3);for(let a=0;a<n;++a){const o=a*s,A=o+s;t.set(e,o);for(let c=o;c<A;++c)t[c]+=a*r}}}const V6=new ne,lT=Object.assign({sphereDetail:1},qr);class tAe extends _0{constructor(e,t={}){super(e,t,new zg(1,W(t.sphereDetail,1))),this.setAttributes(e,!0)}get defaultParameters(){return lT}applyPositionTransform(e,t){const n=this._radius[t];V6.set(n,n,n),e.scale(V6)}setAttributes(e={},t){e.radius&&(this._radius=e.radius),super.setAttributes(e,t)}}kn.add("shader/SphereImpostor.vert",`uniform mat4 projectionMatrixInverse;
uniform float clipNear;
varying float vRadius;
varying float vRadiusSq;
varying vec3 vPoint;
varying vec3 vPointViewPosition;
attribute vec2 mapping;
attribute float radius;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#endif
#include matrix_scale
const mat4 D = mat4(
1.0, 0.0, 0.0, 0.0,
0.0, 1.0, 0.0, 0.0,
0.0, 0.0, 1.0, 0.0,
0.0, 0.0, 0.0, -1.0
);
mat4 transposeM( in mat4 inMatrix ) {
vec4 i0 = inMatrix[0];
vec4 i1 = inMatrix[1];
vec4 i2 = inMatrix[2];
vec4 i3 = inMatrix[3];
mat4 outMatrix = mat4(
vec4(i0.x, i1.x, i2.x, i3.x),
vec4(i0.y, i1.y, i2.y, i3.y),
vec4(i0.z, i1.z, i2.z, i3.z),
vec4(i0.w, i1.w, i2.w, i3.w)
);
return outMatrix;
}
void ComputePointSizeAndPositionInClipCoordSphere(){
vec2 xbc;
vec2 ybc;
mat4 T = mat4(
radius, 0.0, 0.0, 0.0,
0.0, radius, 0.0, 0.0,
0.0, 0.0, radius, 0.0,
position.x, position.y, position.z, 1.0
);
mat4 R = transposeM( projectionMatrix * modelViewMatrix * T );
float A = dot( R[ 3 ], D * R[ 3 ] );
float B = -2.0 * dot( R[ 0 ], D * R[ 3 ] );
float C = dot( R[ 0 ], D * R[ 0 ] );
xbc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
xbc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
float sx = abs( xbc[ 0 ] - xbc[ 1 ] ) * 0.5;
A = dot( R[ 3 ], D * R[ 3 ] );
B = -2.0 * dot( R[ 1 ], D * R[ 3 ] );
C = dot( R[ 1 ], D * R[ 1 ] );
ybc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
ybc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
float sy = abs( ybc[ 0 ] - ybc[ 1 ] ) * 0.5;
gl_Position.xy = vec2( 0.5 * ( xbc.x + xbc.y ), 0.5 * ( ybc.x + ybc.y ) );
gl_Position.xy -= mapping * vec2( sx, sy );
gl_Position.xy *= gl_Position.w;
}
void main(void){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
vRadius = radius * matrixScale( modelViewMatrix );
vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
mvPosition.z -= vRadius;
gl_Position = projectionMatrix * vec4( mvPosition.xyz, 1.0 );
ComputePointSizeAndPositionInClipCoordSphere();
vRadiusSq = vRadius * vRadius;
vec4 vPoint4 = projectionMatrixInverse * gl_Position;
vPoint = vPoint4.xyz / vPoint4.w;
vPointViewPosition = -mvPosition.xyz / mvPosition.w;
}`),kn.add("shader/SphereImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform mat4 projectionMatrix;
uniform float ortho;
varying float vRadius;
varying float vRadiusSq;
varying vec3 vPoint;
varying vec3 vPointViewPosition;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool flag2 = false;
bool interior = false;
vec3 cameraPos;
vec3 cameraNormal;
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
float calcClip( vec3 cameraPos ){
return dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
bool Impostor( out vec3 cameraPos, out vec3 cameraNormal ){
vec3 cameraSpherePos = -vPointViewPosition;
cameraSpherePos.z += vRadius;
vec3 rayOrigin = mix( vec3( 0.0, 0.0, 0.0 ), vPoint, ortho );
vec3 rayDirection = mix( normalize( vPoint ), vec3( 0.0, 0.0, 1.0 ), ortho );
vec3 cameraSphereDir = mix( cameraSpherePos, rayOrigin - cameraSpherePos, ortho );
float B = dot( rayDirection, cameraSphereDir );
float det = B * B + vRadiusSq - dot( cameraSphereDir, cameraSphereDir );
if( det < 0.0 ){
discard;
return false;
}
float sqrtDet = sqrt( det );
float posT = mix( B + sqrtDet, B + sqrtDet, ortho );
float negT = mix( B - sqrtDet, sqrtDet - B, ortho );
cameraPos = rayDirection * negT + rayOrigin;
#ifdef NEAR_CLIP
if( calcDepth( cameraPos ) <= 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
}else if( calcClip( cameraPos ) > 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
flag2 = true;
}
#else
if( calcDepth( cameraPos ) <= 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
}
#endif
cameraNormal = normalize( cameraPos - cameraSpherePos );
cameraNormal *= float(!interior) * 2.0 - 1.0;
return !interior;
}
void main(void){
bool flag = Impostor( cameraPos, cameraNormal );
#ifdef NEAR_CLIP
if( calcClip( cameraPos ) > 0.0 )
discard;
#endif
gl_FragDepthEXT = calcDepth( cameraPos );
if( !flag ){
#ifdef NEAR_CLIP
if( flag2 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );
}else if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
#else
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
#endif
}
if (gl_FragDepthEXT < 0.0)
discard;
if (gl_FragDepthEXT > 1.0)
discard;
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vNormal = cameraNormal;
vec3 vViewPosition = -cameraPos;
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
#include normal_fragment_begin
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include colorspace_fragment
#include fog_fragment
#endif
}`);class w4 extends po{constructor(e,t,n={}){super(t,n),this.index=ho(this.indexSize,this.attributeSize),this.makeIndex(),this.initIndex(this.index),this.addAttributes({mapping:{type:e,value:null}}),this.setAttributes({primitiveId:Cu(this.size)})}get attributeSize(){return this.size*this.mappingSize}get indexSize(){return this.size*this.mappingIndicesSize}addAttributes(e){const t={};for(const n in e){const r=e[n];t[n]={type:r.type,value:null}}super.addAttributes(t)}getAttributeIndex(e){return 3*e*this.mappingSize}setAttributes(e){e&&!e.position&&e.position1&&e.position2&&(e.position=co(e.position1,e.position2));const t=this.size,n=this.mappingSize,r=this.geometry.attributes;let s,a,o,A,c,l,u;for(const d in e)if(d!=="index"&&d!=="picking"){a=e[d],s=r[d],o=s.itemSize,A=s.array;for(let h=0;h<t;++h){c=h*o,l=c*n;for(let m=0;m<n;++m){u=l+o*m;for(let y=0;y<o;++y)A[u+y]=a[c+y]}}s.needsUpdate=!0}}makeMapping(){const e=this.size,t=this.mapping,n=this.mappingSize,r=this.mappingItemSize,s=this.geometry.attributes.mapping.array;for(let a=0;a<e;a++)s.set(t,a*r*n)}makeIndex(){const e=this.size,t=this.mappingSize,n=this.mappingIndices,r=this.mappingIndicesSize,s=this.index;for(let a=0;a<e;a++){const o=a*r,A=a*t;s.set(n,o);for(let c=0;c<r;++c)s[o+c]+=A}}}const nAe=new Float32Array([-1,1,-1,-1,1,1,1,-1]),iAe=new Uint16Array([0,1,2,1,3,2]);class b4 extends w4{constructor(e,t={}){super("v2",e,t)}get mapping(){return nAe}get mappingIndices(){return iAe}get mappingIndicesSize(){return 6}get mappingSize(){return 4}get mappingItemSize(){return 2}}class rAe extends b4{constructor(e,t={}){super(e,t),this.isImpostor=!0,this.vertexShader="SphereImpostor.vert",this.fragmentShader="SphereImpostor.frag",this.addUniforms({projectionMatrixInverse:{value:new xt},ortho:{value:0}}),this.addAttributes({radius:{type:"f",value:null}}),this.setAttributes(e),this.makeMapping()}}Object.assign({disableImpostor:!1},lT);const v0=class{constructor(i,e){return!Ao||e&&e.disableImpostor?new tAe(i,e):new rAe(i,e)}};function sAe(i,e,t,n){const r=t-i,s=n-e;return Math.sqrt(r*r+s*s)}Fs.add("sphere",v0),kn.add("shader/Point.vert",`uniform float clipNear;
uniform float clipRadius;
uniform vec3 clipCenter;
uniform float size;
uniform float canvasHeight;
uniform float pixelRatio;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
varying vec3 vViewPosition;
#endif
#include common
void main(){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
#include begin_vertex
#include project_vertex
#ifdef USE_SIZEATTENUATION
gl_PointSize = size * pixelRatio * ( ( canvasHeight / 2.0 ) / -mvPosition.z );
#else
gl_PointSize = size * pixelRatio;
#endif
#ifndef PICKING
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
#include radiusclip_vertex
}`),kn.add("shader/Point.frag",`uniform vec3 diffuse;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#ifdef USE_MAP
uniform sampler2D map;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
#include alphatest_pars_fragment
varying vec3 vViewPosition;
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
#ifdef USE_MAP
if( texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) ).a < 0.5 )
discard;
#endif
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 outgoingLight = vec3( 0.0 );
vec4 diffuseColor = vec4( diffuse, 1.0 );
#ifdef USE_MAP
diffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );
#endif
#include color_fragment
#include alphatest_fragment
outgoingLight = diffuseColor.rgb;
gl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include colorspace_fragment
#include fog_fragment
#endif
}`);const aAe=Object.assign({pointSize:1,sizeAttenuation:!0,sortParticles:!1,alphaTest:.5,useTexture:!1,forceTransparent:!1,edgeBleach:0},qr),oAe=Object.assign({pointSize:{uniform:"size"},sizeAttenuation:{updateShader:!0},sortParticles:{},alphaTest:{uniform:!0},useTexture:{updateShader:!0},forceTransparent:{},edgeBleach:{uniform:!0}},Gc);class E4 extends po{constructor(e,t={}){super(e,t),this.parameterTypes=oAe,this.vertexShader="Point.vert",this.fragmentShader="Point.frag",this.isPoint=!0,this.addUniforms({size:{value:this.parameters.pointSize},canvasHeight:{value:1},pixelRatio:{value:1},map:{value:null},alphaTest:{value:this.parameters.alphaTest}})}get defaultParameters(){return aAe}makeMaterial(){super.makeMaterial(),this.makeTexture();const e=this.material,t=this.wireframeMaterial,n=this.pickingMaterial;e.uniforms.map.value=this.tex,e.needsUpdate=!0,t.uniforms.map.value=this.tex,t.needsUpdate=!0,n.uniforms.map.value=this.tex,n.needsUpdate=!0}makeTexture(){this.tex&&this.tex.dispose(),this.tex=function(e){const t=e||{},n=W(t.width,256),r=W(t.height,256),s=[n/2,r/2],a=Math.min(n/2,r/2),o=W(t.delta,1/(a+1))*a;let A=0,c=0;const l=new Uint8Array(n*r*4);for(let d=0,h=l.length;d<h;d+=4){const m=1-qf(a-o,a,sAe(A,c,s[0],s[1]));l[d]=255*m,l[d+1]=255*m,l[d+2]=255*m,l[d+3]=255*m,++A===n&&(A=0,c++)}const u=new fE(l,n,r);return u.needsUpdate=!0,u}({delta:this.parameters.edgeBleach})}getDefines(e){const t=super.getDefines(e);return this.parameters.sizeAttenuation&&(t.USE_SIZEATTENUATION=1),this.parameters.useTexture&&(t.USE_MAP=1),this.parameters.alphaTest>0&&this.parameters.alphaTest<=1&&(t.USE_ALPHATEST=1),t}setUniforms(e){e&&e.edgeBleach!==void 0&&(this.makeTexture(),e.map=this.tex),super.setUniforms(e)}dispose(){super.dispose(),this.tex&&this.tex.dispose()}}Fs.add("point",E4);class K6 extends jf{constructor(e,t,n){super(e,t,n),this.type="dot",this.parameters=Object.assign({thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdOut:{type:"boolean",rebuild:!0},dotType:{type:"select",rebuild:!0,options:{"":"",sphere:"sphere",point:"point"}},radiusType:{type:"select",options:{"":"",value:"value","abs-value":"abs-value","value-min":"value-min",deviation:"deviation",size:"size"}},radius:{type:"number",precision:3,max:10,min:.001,property:"size"},scale:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,disableImpostor:!0,pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{colorScheme:{type:"select",update:"color",options:{"":"",value:"value",uniform:"uniform",random:"random"}}}),e instanceof rs?(this.surface=void 0,this.volume=new jo(e)):(this.surface=e,this.volume=void 0),this.init(n)}init(e){var t=e||{};t.colorScheme=W(t.colorScheme,"uniform"),t.colorValue=W(t.colorValue,14540253),this.thresholdType=W(t.thresholdType,"sigma"),this.thresholdMin=W(t.thresholdMin,2),this.thresholdMax=W(t.thresholdMax,1/0),this.thresholdOut=W(t.thresholdOut,!1),this.dotType=W(t.dotType,"point"),this.radius=W(t.radius,.1),this.scale=W(t.scale,1),this.pointSize=W(t.pointSize,1),this.sizeAttenuation=W(t.sizeAttenuation,!0),this.sortParticles=W(t.sortParticles,!1),this.useTexture=W(t.useTexture,!1),this.alphaTest=W(t.alphaTest,.5),this.forceTransparent=W(t.forceTransparent,!1),this.edgeBleach=W(t.edgeBleach,0),super.init(t),this.build()}attach(e){this.bufferList.forEach(t=>{this.viewer.add(t)}),this.setVisibility(this.visible),e()}create(){var e={};if(this.volume){var t,n,r=this.volume;this.thresholdType==="sigma"?(t=r.getValueForSigma(this.thresholdMin),n=r.getValueForSigma(this.thresholdMax)):(t=this.thresholdMin,n=this.thresholdMax),r.setFilter(t,n,this.thresholdOut),Object.assign(e,{position:r.getDataPosition(),color:r.getDataColor(this.getColorParams())}),this.dotType==="sphere"&&Object.assign(e,{radius:r.getDataSize(this.radius,this.scale),picking:r.getDataPicking()})}else{var s=this.surface;Object.assign(e,{position:s.getPosition(),color:s.getColor(this.getColorParams())}),this.dotType==="sphere"&&Object.assign(e,{radius:s.getSize(this.radius,this.scale),picking:s.getPicking()})}this.dotType==="sphere"?this.dotBuffer=new v0(e,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!1})):this.dotBuffer=new E4(e,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach})),this.bufferList.push(this.dotBuffer)}update(e={}){if(this.bufferList.length===0)return;const t={};e.color&&(this.volume?Object.assign(t,{color:this.volume.getDataColor(this.getColorParams())}):Object.assign(t,{color:this.surface.getColor(this.getColorParams())})),this.dotType==="sphere"&&(e.radius||e.scale)&&(this.volume?Object.assign(t,{radius:this.volume.getDataSize(this.radius,this.scale)}):Object.assign(t,{radius:this.surface.getSize(this.radius,this.scale)})),this.dotBuffer.setAttributes(t)}setParameters(e,t={},n){return e&&e.thresholdType!==void 0&&this.volume instanceof rs&&(this.thresholdType==="value"&&e.thresholdType==="sigma"?(this.thresholdMin=this.volume.getSigmaForValue(this.thresholdMin),this.thresholdMax=this.volume.getSigmaForValue(this.thresholdMax)):this.thresholdType==="sigma"&&e.thresholdType==="value"&&(this.thresholdMin=this.volume.getValueForSigma(this.thresholdMin),this.thresholdMax=this.volume.getValueForSigma(this.thresholdMax)),this.thresholdType=e.thresholdType),e&&e.radiusType!==void 0&&(e.radiusType==="radius"?this.radius=.1:this.radius=parseFloat(e.radiusType),t.radius=!0,this.dotType!=="sphere"||Ao&&!this.disableImpostor||(n=!0)),e&&e.radius!==void 0&&(t.radius=!0,this.dotType!=="sphere"||Ao&&!this.disableImpostor||(n=!0)),e&&e.scale!==void 0&&(t.scale=!0,this.dotType!=="sphere"||Ao&&!this.disableImpostor||(n=!0)),super.setParameters(e,t,n),this}}kn.add("shader/Image.vert",`uniform float clipRadius;
uniform vec3 clipCenter;
varying vec2 vUv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
void main() {
#include begin_vertex
#include project_vertex
vUv = uv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
}`),kn.add("shader/Image.frag",`uniform sampler2D map;
uniform float opacity;
uniform vec2 mapSize;
uniform float clipNear;
uniform float clipRadius;
varying vec2 vUv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform sampler2D pickingMap;
uniform float objectId;
#else
#include fog_pars_fragment
#endif
#if defined( CUBIC_INTERPOLATION )
#if defined( CATMULROM_FILTER ) || defined( MITCHELL_FILTER )
#if defined( CATMULROM_FILTER )
const float B = 0.0;
const float C = 0.5;
#elif defined( MITCHELL_FILTER )
const float B = 0.333;
const float C = 0.333;
#endif
float applyFilter( float x ){
float f = x;
if( f < 0.0 ){
f = -f;
}
if( f < 1.0 ){
return ( ( 12.0 - 9.0 * B - 6.0 * C ) * ( f * f * f ) +
( -18.0 + 12.0 * B + 6.0 *C ) * ( f * f ) +
( 6.0 - 2.0 * B ) ) / 6.0;
}else if( f >= 1.0 && f < 2.0 ){
return ( ( -B - 6.0 * C ) * ( f * f * f )
+ ( 6.0 * B + 30.0 * C ) * ( f *f ) +
( - ( 12.0 * B ) - 48.0 * C ) * f +
8.0 * B + 24.0 * C ) / 6.0;
}else{
return 0.0;
}
}
#elif defined( BSPLINE_FILTER )
float applyFilter( float x ){
float f = x;
if( f < 0.0 ){
f = -f;
}
if( f >= 0.0 && f <= 1.0 ){
return ( 2.0 / 3.0 ) + ( 0.5 ) * ( f * f * f ) - ( f * f );
}else if( f > 1.0 && f <= 2.0 ){
return 1.0 / 6.0 * pow( ( 2.0 - f ), 3.0 );
}
return 1.0;
}
#else
float applyFilter( float x ){
return 1.0;
}
#endif
vec4 biCubic( sampler2D tex, vec2 texCoord ){
vec2 texelSize = 1.0 / mapSize;
texCoord -= texelSize / 2.0;
vec4 nSum = vec4( 0.0 );
float nDenom = 0.0;
vec2 cell = fract( texCoord * mapSize );
for( float m = -1.0; m <= 2.0; ++m ){
for( float n = -1.0; n <= 2.0; ++n ){
vec4 vecData = texture2D(
tex, texCoord + texelSize * vec2( m, n )
);
float c = applyFilter( m - cell.x ) * applyFilter( -n + cell.y );
nSum += vecData * c;
nDenom += c;
}
}
return nSum / nDenom;
}
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( CUBIC_INTERPOLATION )
gl_FragColor = biCubic( map, vUv );
#else
gl_FragColor = texture2D( map, vUv );
#endif
#if defined( PICKING )
if( gl_FragColor.a < 0.3 )
discard;
gl_FragColor = vec4( texture2D( pickingMap, vUv ).xyz, objectId );
#else
if( gl_FragColor.a < 0.01 )
discard;
gl_FragColor.a *= opacity;
#include fog_fragment
#endif
}`);const AAe=new Uint16Array([0,1,2,1,3,2]),cAe=new Float32Array([0,1,0,0,1,1,1,0]),lAe=Object.assign({filter:"nearest",forceTransparent:!0},qr),uAe=Object.assign({filter:{updateShader:!0,uniform:!0}},Gc);class dAe extends po{constructor(e,t){super({position:e.position,index:AAe,picking:e.picking},t),this.parameterTypes=uAe,this.alwaysTransparent=!0,this.hasWireframe=!1,this.vertexShader="Image.vert",this.fragmentShader="Image.frag";const{imageData:n,width:r,height:s}=e,a=new fE(n,r,s);a.flipY=!0,this.tex=a;const o=n.length,A=new Uint8Array(o);for(let l=0;l<o;l+=4){const u=l/4;A[l]=u>>16&255,A[l+1]=u>>8&255,A[l+2]=255&u}const c=new fE(A,r,s);c.flipY=!0,c.minFilter=oi,c.magFilter=oi,this.pickingTex=c,this.addUniforms({map:{value:a},pickingMap:{value:c},mapSize:{value:new bn(r,s)}}),this.geometry.setAttribute("uv",new zi(cAe,2))}get defaultParameters(){return lAe}getDefines(e){const t=super.getDefines(e),n=this.parameters.filter;return n.startsWith("cubic")&&(t.CUBIC_INTERPOLATION=1,n.endsWith("bspline")?t.BSPLINE_FILTER=1:n.endsWith("catmulrom")?t.CATMULROM_FILTER=1:n.endsWith("mitchell")&&(t.MITCHELL_FILTER=1)),t}updateTexture(){const e=this.tex,t=this.parameters.filter;t.startsWith("cubic")?(e.minFilter=oi,e.magFilter=oi):t==="linear"?(e.minFilter=Tr,e.magFilter=Tr):(e.minFilter=oi,e.magFilter=oi),e.needsUpdate=!0,this.pickingTex.needsUpdate=!0}makeMaterial(){super.makeMaterial(),this.updateTexture();const e=this.material;e.uniforms.map.value=this.tex,e.blending=AA,e.needsUpdate=!0;const t=this.wireframeMaterial;t.uniforms.map.value=this.tex,t.blending=AA,t.needsUpdate=!0;const n=this.pickingMaterial;n.uniforms.map.value=this.tex,n.uniforms.pickingMap.value=this.pickingTex,n.blending=AA,n.needsUpdate=!0}setUniforms(e){e&&e.filter!==void 0&&(this.updateTexture(),e.map=this.tex),super.setUniforms(e)}}class fAe{constructor(e,t){const n=t||{};this.dimension=W(n.dimension,"x"),this.positionType=W(n.positionType,"percent"),this.position=W(n.position,30),this.thresholdType=W(n.thresholdType,"sigma"),this.thresholdMin=W(n.thresholdMin,-1/0),this.thresholdMax=W(n.thresholdMax,1/0),this.normalize=W(n.normalize,!1),this.volume=e}getPositionFromCoordinate(e){const t=this.dimension,n=this.volume,r=n.matrix,s=new ne().setFromMatrixPosition(r)[t],a=new ne().setFromMatrixScale(r)[t];let o;return o=t==="x"?n.nx:t==="y"?n.ny:n.nz,Math.round(((e-s)/(o/100)+1)/a)}getData(e){e=e||{};const t=this.volume,n=t.data,r=t.matrix;let s;function a(V){return Math.round(V/100*(s-1))}function o(V,D,H,oe){return 3*(H*t.ny*t.nx+D*t.nx+V)+oe}s=this.positionType==="coordinate"?this.getPositionFromCoordinate(this.position):this.position;const A=new Float32Array(12),c=new ne;let l,u,d,h,m,y=0,g=0,E=0,R=t.nx,p=t.ny,w=t.nz;function v(V,D,H,oe){c.set(V,D,H).applyMatrix4(r).toArray(A,oe)}this.dimension==="x"?(d=a(t.nx),h=t.ny-1,m=t.nz-1,l=t.nz,u=t.ny,y=d,R=y+1,v(d,0,0,0),v(d,h,0,3),v(d,0,m,6),v(d,h,m,9)):this.dimension==="y"?(d=t.nx-1,h=a(t.ny),m=t.nz-1,l=t.nz,u=t.nx,g=h,p=g+1,v(0,h,0,0),v(d,h,0,3),v(0,h,m,6),v(d,h,m,9)):this.dimension==="z"&&(d=t.nx-1,h=t.ny-1,m=a(t.nz),l=t.nx,u=t.ny,E=m,w=E+1,v(0,0,m,0),v(0,h,m,3),v(d,0,m,6),v(d,h,m,9));let _=0,x=0;const C=new Uint8Array(l*u*4),B=new Float32Array(l*u);let G,I;this.thresholdType==="sigma"?(G=t.getValueForSigma(this.thresholdMin),I=t.getValueForSigma(this.thresholdMax)):(G=this.thresholdMin,I=this.thresholdMax);const N=Object.assign({},e.colorParams,{volume:t});this.normalize&&(N.domain=[0,1]);const T=Bn.getScheme(N),M=new Float32Array(3),U=T.getScale();let z,L=0,k=0;if(this.normalize){L=1/0,z=-1/0;for(let V=g;V<p;++V)for(let D=y;D<R;++D)for(let H=E;H<w;++H){const oe=n[o(D,V,H,0)/3];oe<L&&(L=oe),oe>z&&(z=oe)}k=z-L}for(let V=g;V<p;++V)for(let D=y;D<R;++D)for(let H=E;H<w;++H){const oe=o(D,V,H,0)/3;let Ae=n[oe];this.normalize&&(Ae=(Ae-L)/k),T.colorToArray(U(Ae),M),C[_]=Math.round(255*M[0]),C[_+1]=Math.round(255*M[1]),C[_+2]=Math.round(255*M[2]),C[_+3]=Ae>G&&Ae<I?255:0,B[x]=oe,++x,_+=4}const K=new aoe(B,t);return{position:A,imageData:C,width:l,height:u,picking:K}}}class hAe extends jf{constructor(e,t,n){super(e,t,n),this.type="slice",this.parameters=Object.assign({filter:{type:"select",buffer:!0,options:{nearest:"nearest",linear:"linear","cubic-bspline":"cubic-bspline","cubic-catmulrom":"cubic-catmulrom","cubic-mitchell":"cubic-mitchell"}},positionType:{type:"select",rebuild:!0,options:{percent:"percent",coordinate:"coordinate"}},position:{type:"range",step:.1,max:100,min:1,rebuild:!0},dimension:{type:"select",rebuild:!0,options:{x:"x",y:"y",z:"z"}},thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},normalize:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null,linewidth:null,colorScheme:null,roughness:null,metalness:null,diffuse:null}),this.volume=e,this.init(n)}init(e){const t=this.volume,n=e||{};n.colorDomain=W(n.colorDomain,[t.min,t.max]),n.colorScheme=W(n.colorScheme,"value"),n.colorScale=W(n.colorScale,"Spectral"),this.colorScheme="value",this.dimension=W(n.dimension,"x"),this.filter=W(n.filter,"cubic-bspline"),this.positionType=W(n.positionType,"percent"),this.position=W(n.position,30),this.thresholdType=W(n.thresholdType,"sigma"),this.thresholdMin=W(n.thresholdMin,-1/0),this.thresholdMax=W(n.thresholdMax,1/0),this.normalize=W(n.normalize,!1),super.init(n),this.build()}attach(e){this.bufferList.forEach(t=>{this.viewer.add(t)}),this.setVisibility(this.visible),e()}create(){const e=new fAe(this.volume,{positionType:this.positionType,position:this.position,dimension:this.dimension,thresholdType:this.thresholdType,thresholdMin:this.thresholdMin,thresholdMax:this.thresholdMax,normalize:this.normalize}),t=new dAe(e.getData({colorParams:this.getColorParams()}),this.getBufferParams({filter:this.filter}));this.bufferList.push(t)}}function Aw(i){He.error(`makeRepresentation: representation type ${i} unknown`)}const _4={name:"some element",status:""};class uT{constructor(e,t={}){this.stage=e,this.signals={statusChanged:new fn.exports.Signal,nameChanged:new fn.exports.Signal,disposed:new fn.exports.Signal},this.parameters=Ms(t,this.defaultParameters),this.uuid=a4()}get defaultParameters(){return _4}get name(){return this.parameters.name}setStatus(e){return this.parameters.status=e,this.signals.statusChanged.dispatch(e),this}setName(e){return this.parameters.name=e,this.signals.nameChanged.dispatch(e),this}dispose(){this.signals.disposed.dispatch()}}const pAe=Object.assign({visible:!0},_4);class mAe extends uT{constructor(e,t,n={},r){super(e,Object.assign({name:t.type},n)),this.parent=r,this.signals=Object.assign({visibilityChanged:new fn.exports.Signal,parametersChanged:new fn.exports.Signal},this.signals),this.setRepresentation(t)}get defaultParameters(){return pAe}get visible(){return this.parameters.visible}get type(){return"representation"}getType(){return this.repr.type}setRepresentation(e){this._disposeRepresentation(),this.repr=e,this.stage.tasks.listen(this.repr.tasks),this.updateVisibility()}_disposeRepresentation(){this.repr&&(this.stage.tasks.unlisten(this.repr.tasks),this.repr.dispose())}dispose(){this.parent&&this.parent.hasRepresentation(this)?this.parent.removeRepresentation(this):(this._disposeRepresentation(),this.signals.disposed.dispatch())}setVisibility(e){return this.parameters.visible=e,this.updateVisibility(),this.signals.visibilityChanged.dispatch(this.parameters.visible),this}getVisibility(){return this.parent?this.parent.parameters.visible&&this.parameters.visible:this.parameters.visible}toggleVisibility(){return this.setVisibility(!this.parameters.visible)}updateVisibility(){this.repr.setVisibility(this.getVisibility())}update(e){return this.repr.update(e),this}build(e){return this.repr.build(e),this}setSelection(e){const t=this.repr;return t.setSelection&&t.setSelection(e),this}setParameters(e){return this.repr.setParameters(e),this.signals.parametersChanged.dispatch(this.repr.getParameters()),this}getParameters(){return this.repr.getParameters()}setColor(e){return this.repr.setColor(e),this}}const bl=new xt,gAe=new ne,dT={name:"",status:"",visible:!0};class iy{constructor(e,t,n={}){this.stage=e,this.object=t,this.signals={representationAdded:new fn.exports.Signal,representationRemoved:new fn.exports.Signal,visibilityChanged:new fn.exports.Signal,matrixChanged:new fn.exports.Signal,statusChanged:new fn.exports.Signal,nameChanged:new fn.exports.Signal,disposed:new fn.exports.Signal},this.reprList=[],this.annotationList=[],this.matrix=new xt,this.position=new ne,this.quaternion=new $r,this.scale=new ne(1,1,1),this.transform=new xt,this.parameters=Ms(n,this.defaultParameters),this.uuid=a4(),this.viewer=e.viewer,this.controls=new yoe(this)}get defaultParameters(){return dT}get name(){return this.parameters.name}get status(){return this.parameters.status}get visible(){return this.parameters.visible}setPosition(e){return Array.isArray(e)?this.position.fromArray(e):this.position.copy(e),this.updateMatrix(),this}setRotation(e){if(Array.isArray(e))if(e.length===3){const t=new du().fromArray(e);this.quaternion.setFromEuler(t)}else this.quaternion.fromArray(e);else e instanceof du?this.quaternion.setFromEuler(e):this.quaternion.copy(e);return this.updateMatrix(),this}setScale(e){return this.scale.set(e,e,e),this.updateMatrix(),this}setTransform(e){return this.transform.copy(e),this.updateMatrix(),this}updateMatrix(){const e=this.getCenterUntransformed(gAe);this.matrix.makeTranslation(-e.x,-e.y,-e.z),bl.makeRotationFromQuaternion(this.quaternion),this.matrix.premultiply(bl),bl.makeScale(this.scale.x,this.scale.y,this.scale.z),this.matrix.premultiply(bl);const t=this.position;bl.makeTranslation(t.x+e.x,t.y+e.y,t.z+e.z),this.matrix.premultiply(bl),this.matrix.premultiply(this.transform),this.updateRepresentationMatrices(),this.stage.viewer.updateBoundingBox(),this.signals.matrixChanged.dispatch(this.matrix)}updateRepresentationMatrices(){this.reprList.forEach(e=>{e.setParameters({matrix:this.matrix})})}addAnnotation(e,t,n){const r=new goe(this,e,t,n);return this.annotationList.push(r),r}eachAnnotation(e){this.annotationList.slice().forEach(e)}removeAnnotation(e){const t=this.annotationList.indexOf(e);t!==-1&&(this.annotationList.splice(t,1),e.dispose())}removeAllAnnotations(){this.eachAnnotation(e=>e.dispose()),this.annotationList.length=0}_addRepresentation(e,t,n,r=!1){const s=n||{},a=this.stage.getParameters();s.matrix=this.matrix.clone(),s.quality=s.quality||a.quality,s.disableImpostor=W(s.disableImpostor,!a.impostor),s.useWorker=W(s.useWorker,a.workerDefault),s.visible=W(s.visible,!0);const o=Object.assign({},s,{visible:this.parameters.visible&&s.visible}),A=function(l,u,d,h){var m;if(ot&&He.time("makeRepresentation "+l),u instanceof Ja){if(!(m=fi.get(l)))return void Aw(l)}else if(u instanceof Jg)if(l==="surface")m=NE;else{if(l!=="dot")return void Aw(l);m=K6}else if(u instanceof rs)if(l==="surface")m=NE;else if(l==="dot")m=K6;else{if(l!=="slice")return void Aw(l);m=hAe}else if(u instanceof eAe)m=H6,u=u.getBufferList();else{if(l!=="buffer")return void He.error("makeRepresentation: object "+u+" unknown");m=H6}const y=new m(u,d,h);return ot&&He.timeEnd("makeRepresentation "+l),y}(e,t,this.viewer,o),c=new mAe(this.stage,A,s,this);return r||(this.reprList.push(c),this.signals.representationAdded.dispatch(c)),c}addBufferRepresentation(e,t){return this._addRepresentation.call(this,"buffer",e,t)}hasRepresentation(e){return this.reprList.indexOf(e)!==-1}eachRepresentation(e){this.reprList.slice().forEach(e)}removeRepresentation(e){const t=this.reprList.indexOf(e);t!==-1&&(this.reprList.splice(t,1),e.dispose(),this.signals.representationRemoved.dispatch(e))}updateRepresentations(e){this.reprList.forEach(t=>t.update(e)),this.stage.viewer.requestRender()}removeAllRepresentations(){this.eachRepresentation(e=>e.dispose())}dispose(){this.removeAllAnnotations(),this.removeAllRepresentations(),this.reprList.length=0,this.signals.disposed.dispatch()}setVisibility(e){return this.parameters.visible=e,this.eachRepresentation(t=>t.updateVisibility()),this.eachAnnotation(t=>t.updateVisibility()),this.signals.visibilityChanged.dispatch(e),this}setStatus(e){return this.parameters.status=e,this.signals.statusChanged.dispatch(e),this}setName(e){return this.parameters.name=e,this.signals.nameChanged.dispatch(e),this}getBox(...e){return this.getBoxUntransformed(...e).clone().applyMatrix4(this.matrix)}getCenter(...e){return this.getCenterUntransformed(...e).clone().applyMatrix4(this.matrix)}getZoom(...e){return this.stage.getZoomForBox(this.getBox(...e))}getBoxUntransformed(...e){return new Gi}getCenterUntransformed(...e){return this.getBoxUntransformed().getCenter(new ne)}autoView(e){this.stage.animationControls.zoomMove(this.getCenter(),this.getZoom(),W(e,0))}}class fT{constructor(e=[]){this.list=e;const t=e.length;for(let n=0;n<t;++n)e[n].signals.disposed.add(this._remove,this)}_remove(e){const t=this.list.indexOf(e);t!==-1&&this.list.splice(t,1)}get first(){return this.list.length>0?this.list[0]:void 0}forEach(e){return this.list.forEach(e),this}dispose(){return this.forEach(e=>e.dispose())}}class hT extends fT{setParameters(e){return this.forEach(t=>t.setParameters(e))}setVisibility(e){return this.forEach(t=>t.setVisibility(e))}setSelection(e){return this.forEach(t=>t.setSelection(e))}setColor(e){return this.forEach(t=>t.setColor(e))}update(e){return this.forEach(t=>t.update(e))}build(e){return this.forEach(t=>t.build(e))}dispose(e){return this.forEach(t=>t.dispose())}}const yAe=Object.assign({defaultStep:1,defaultTimeout:50,defaultInterpolateType:"",defaultInterpolateStep:5,defaultMode:"loop",defaultDirection:"forward",initialFrame:0},_4);class wAe extends uT{constructor(e,t,n={}){super(e,Object.assign({name:t.name},n)),this.trajectory=t,this.signals=Object.assign(this.signals,{frameChanged:new fn.exports.Signal,playerChanged:new fn.exports.Signal,countChanged:new fn.exports.Signal,parametersChanged:new fn.exports.Signal}),t.signals.frameChanged.add(r=>{this.signals.frameChanged.dispatch(r)}),t.signals.playerChanged.add(r=>{this.signals.playerChanged.dispatch(r)}),t.signals.countChanged.add(r=>{this.signals.countChanged.dispatch(r)}),n.initialFrame!==void 0&&this.setFrame(n.initialFrame)}get defaultParameters(){return yAe}get type(){return"trajectory"}setFrame(e){this.trajectory.setFrame(e)}setParameters(e={}){this.trajectory.setParameters(e),this.signals.parametersChanged.dispatch(e)}dispose(){this.trajectory.dispose(),super.dispose()}}class pT{constructor(e,t){this.name=e,this.path=t,this.coordinates=[],this.boxes=[],this.times=[],this.timeOffset=0,this.deltaTime=1}get type(){return"Frames"}}class mT{constructor(e,t){let n,r;if(this.A=new Kn(3,3),this.W=new Kn(1,3),this.U=new Kn(3,3),this.V=new Kn(3,3),this.VH=new Kn(3,3),this.R=new Kn(3,3),this.tmp=new Kn(3,3),this.c=new Kn(3,3),e instanceof Ja)n=e.atomCount;else{if(!(e instanceof Float32Array))return;n=e.length/3}if(t instanceof Ja)r=t.atomCount;else{if(!(t instanceof Float32Array))return;r=t.length/3}const s=Math.min(n,r),a=new Kn(3,s),o=new Kn(3,s);this.coords1t=new Kn(s,3),this.coords2t=new Kn(s,3),this.transformationMatrix=new xt,this.c.data.set([1,0,0,0,1,0,0,0,-1]),this.prepCoords(e,a,s,!1),this.prepCoords(t,o,s,!1),this._superpose(a,o)}_superpose(e,t){this.mean1=xE(e),this.mean2=xE(t),RE(e,this.mean1),RE(t,this.mean2),Ia(this.coords1t,e),Ia(this.coords2t,t),j1(this.A,this.coords2t,this.coords1t),jM(this.A,this.W,this.U,this.V),function(d,h){const m=d.data,y=h.data,g=m[4],E=m[8],R=m[5],p=m[7],w=m[0],v=w*g,_=w*R,x=m[3],C=m[1],B=x*C,G=m[2],I=x*G,N=m[6],T=N*C,M=N*G,U=1/(v*E-_*p-B*E+I*p+T*R-M*g);y[0]=(g*E-R*p)*U,y[1]=-(C*E-G*p)*U,y[2]=-(-C*R+G*g)*U,y[3]=-(x*E-R*N)*U,y[4]=(w*E-M)*U,y[5]=-(_-I)*U,y[6]=-(-x*p+g*N)*U,y[7]=-(w*p-T)*U,y[8]=(v-B)*U}(this.V,this.VH),tw(this.R,this.U,this.VH),function(d){const h=d.data;return h[0]*h[4]*h[8]-h[0]*h[5]*h[7]-h[3]*h[1]*h[8]+h[3]*h[2]*h[7]+h[6]*h[1]*h[5]-h[6]*h[2]*h[4]}(this.R)<0&&(ot&&He.log("R not a right handed system"),tw(this.tmp,this.c,this.VH),tw(this.R,this.U,this.tmp));const n=new Kn(4,4),r=new Kn(4,4),s=new Kn(4,4),a=new Kn(4,4),o=new Kn(4,4),A=new Kn(4,4),c=this.R.data,l=this.mean1,u=this.mean2;a.data.set([1,0,0,-l[0],0,1,0,-l[1],0,0,1,-l[2],0,0,0,1]),o.data.set([c[0],c[1],c[2],0,c[3],c[4],c[5],0,c[6],c[7],c[8],0,0,0,0,1]),A.data.set([1,0,0,u[0],0,1,0,u[1],0,0,1,u[2],0,0,0,1]),Ia(r,a),j1(n,o,r),Ia(s,n),j1(r,A,s),Ia(n,r),this.transformationMatrix.elements=n.data}prepCoords(e,t,n,r){let s=0;const a=t.data;let o=3,A=3*n;if(r&&(A=4*n,o=4),e instanceof Ja)e.eachAtom(function(c){s<A&&(a[s+0]=c.x,a[s+1]=c.y,a[s+2]=c.z,r&&(a[s+3]=1),s+=o)});else if(e instanceof Float32Array)for(;s<A;s+=o)s<A&&(a[s]=e[s],a[s+1]=e[s+1],a[s+2]=e[s+2],r&&(a[s+3]=1));else He.warn("prepCoords: input type unknown")}transform(e){let t;if(e instanceof Ja)t=e.atomCount;else{if(!(e instanceof Float32Array))return;t=e.length/3}const n=new Kn(4,t),r=new Kn(t,4);this.prepCoords(e,n,t,!0);const s=this.transformationMatrix,a=s.determinant();if(!a)return a;const o=new Kn(4,4);o.data=s.elements,function(l,u,d){let h=0,m=0,y=0,g=0,E=0,R=0,p=0,w=0;const v=u.cols,_=u.rows,x=d.cols,C=u.data,B=d.data,G=l.data;let I=0;for(;h<_;g+=v,h++)for(p=0,m=0;m<x;w++,p++,m++){for(R=p,E=g,I=0,y=0;y<v;E++,R+=x,y++)I+=C[E]*B[R];G[w]=I}}(r,n,o);let A=0;const c=r.data;if(e instanceof Ja){e.eachAtom(function(d){d.x=c[A],d.y=c[A+1],d.z=c[A+2],A+=4});const l=new xt;l.copy(s).invert();const u=e.biomolDict;for(let d in u)u.hasOwnProperty(d)&&u[d].partList.forEach(function(h){h.matrixList.forEach(function(m){m.premultiply(s),m.multiply(l)})})}else if(e instanceof Float32Array){const l=4*t;for(;A<l;A+=4)e[A]=c[A],e[A+1]=c[A+1],e[A+2]=c[A+2]}else He.warn("transform: input type unknown");return this.transformationMatrix}}const bAe={step:1,timeout:50,start:0,end:0,interpolateType:"",interpolateStep:5,mode:"loop",direction:"forward"};class EAe{constructor(e,t={}){this.signals={startedRunning:new fn.exports.Signal,haltedRunning:new fn.exports.Signal},this._run=!1,this._previousTime=0,this._currentTime=0,this._currentStep=1,e.signals.playerChanged.add(r=>{r!==this&&this.pause()},this);const n=W(e.frameCount,1);this.traj=e,this.parameters=Ms(t,bAe),this.parameters.end=Math.min(W(t.end,n-1),n-1),this.parameters.step=W(t.step,Math.ceil((n+1)/100)),this._currentFrame=this.parameters.start,this._direction=this.parameters.direction==="bounce"?"forward":this.parameters.direction,e.signals.countChanged.add(r=>{this.parameters.end=Math.min(W(this.parameters.end,r-1),r-1)},this),this._animate=this._animate.bind(this)}get isRunning(){return this._run}setParameters(e={}){yM(this.parameters,e),e.direction!==void 0&&this.parameters.direction!=="bounce"&&(this._direction=this.parameters.direction)}_animate(){if(!this._run)return;this._currentTime=window.performance.now();const e=this._currentTime-this._previousTime,t=this.parameters.interpolateType?this.parameters.interpolateStep:1,n=this.parameters.timeout/t,r=this.traj;if(r&&r.frameCount&&!r.inProgress&&e>=n)if(this.parameters.interpolateType)if(this._currentStep>this.parameters.interpolateStep&&(this._currentStep=1),this._currentStep===1&&(this._currentFrame=this._nextInterpolated()),r.hasFrame(this._currentFrame)){this._currentStep+=1;const s=this._currentStep/(this.parameters.interpolateStep+1),[a,o,A,c]=this._currentFrame;r.setFrameInterpolated(a,o,A,c,s,this.parameters.interpolateType),this._previousTime=this._currentTime}else r.loadFrame(this._currentFrame);else{const s=this._next();r.hasFrame(s)?(r.setFrame(s),this._previousTime=this._currentTime):r.loadFrame(s)}window.requestAnimationFrame(this._animate)}_next(){const e=this.parameters;let t;return t=this._direction==="forward"?this.traj.currentFrame+e.step:this.traj.currentFrame-e.step,(t>e.end||t<e.start)&&(e.direction==="bounce"&&(this._direction==="forward"?this._direction="backward":this._direction="forward"),e.mode==="once"?(this.pause(),t=e.direction==="forward"?e.end:e.direction==="backward"||this._direction==="forward"?e.start:e.end):this._direction==="forward"?(t=e.start,e.interpolateType&&(t=Math.min(e.end,t+e.step))):(t=e.end,e.interpolateType&&(t=Math.max(e.start,t-e.step)))),t}_nextInterpolated(){const e=this.parameters,t=this._next();let n,r,s;return this._direction==="forward"?(n=Math.max(e.start,t-e.step),r=Math.max(e.start,t-2*e.step),s=Math.max(e.start,t-3*e.step)):(n=Math.min(e.end,t+e.step),r=Math.min(e.end,t+2*e.step),s=Math.min(e.end,t+3*e.step)),[t,n,r,s]}toggle(){this._run?this.pause():this.play()}play(){if(!this._run){this.traj.player!==this&&this.traj.setPlayer(this),this._currentStep=1;const e=this.parameters,t=this.traj.currentFrame;let n=Math.ceil(t/e.step)*e.step;e.direction==="forward"&&t>=e.end?n=e.start:e.direction==="backward"&&t<=e.start&&(n=e.end),this.traj.setFrame(n),this._run=!0,this._animate(),this.signals.startedRunning.dispatch()}}pause(){this._run=!1,this.signals.haltedRunning.dispatch()}stop(){this.pause(),this.traj.setFrame(this.parameters.start)}}class ry{constructor(e,t,n={}){this.signals={countChanged:new fn.exports.Signal,frameChanged:new fn.exports.Signal,playerChanged:new fn.exports.Signal},this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this._frameCount=0,this._currentFrame=-1,this._disposed=!1,this.deltaTime=W(n.deltaTime,0),this.timeOffset=W(n.timeOffset,0),this.centerPbc=W(n.centerPbc,!1),this.removePbc=W(n.removePbc,!1),this.removePeriodicity=W(n.removePeriodicity,!1),this.superpose=W(n.superpose,!1),this.name=e.replace(/^.*[\\/]/,""),this.trajPath=e,this.selection=new ui(W(n.sele,"backbone and not hydrogen")),this.selection.signals.stringChanged.add(()=>{this.selectionIndices=this.structure.getAtomIndices(this.selection),this._resetCache(),this._saveInitialCoords(),this.setFrame(this._currentFrame)})}get frameCount(){return this._frameCount}get currentFrame(){return this._currentFrame}_init(e){this.setStructure(e),this._loadFrameCount(),this.setPlayer(new EAe(this))}_loadFrameCount(){}setStructure(e){this.structure=e,this.atomCount=e.atomCount,this.backboneIndices=this._getIndices(new ui("backbone and not hydrogen")),this._makeAtomIndices(),this._saveStructureCoords(),this.selectionIndices=this._getIndices(this.selection),this._resetCache(),this._saveInitialCoords(),this.setFrame(this._currentFrame)}_saveInitialCoords(){this.structure.hasCoords()?(this.initialCoords=new Float32Array(this.structureCoords),this._makeSuperposeCoords()):this.frameCache[0]?(this.initialCoords=new Float32Array(this.frameCache[0]),this._makeSuperposeCoords()):this.loadFrame(0,()=>this._saveInitialCoords())}_saveStructureCoords(){this.structureCoords=this.structure.getAtomData({what:{position:!0}}).position}setSelection(e){return this.selection.setString(e),this}_getIndices(e){let t=0;const n=e.test,r=[];return n&&this.structure.eachAtom(s=>{n(s)&&r.push(t),t+=1}),r}_makeSuperposeCoords(){const e=3*this.selectionIndices.length;this.coords1=new Float32Array(e),this.coords2=new Float32Array(e);const t=this.initialCoords,n=this.coords2;for(let r=0;r<e;r+=3){const s=3*this.selectionIndices[r/3];n[r+0]=t[s+0],n[r+1]=t[s+1],n[r+2]=t[s+2]}}_makeAtomIndices(){He.error("Trajectory._makeAtomIndices not implemented")}_resetCache(){this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this.initialCoords=new Float32Array(0)}setParameters(e={}){let t=!1;e.centerPbc!==void 0&&e.centerPbc!==this.centerPbc&&(this.centerPbc=e.centerPbc,t=!0),e.removePeriodicity!==void 0&&e.removePeriodicity!==this.removePeriodicity&&(this.removePeriodicity=e.removePeriodicity,t=!0),e.removePbc!==void 0&&e.removePbc!==this.removePbc&&(this.removePbc=e.removePbc,t=!0),e.superpose!==void 0&&e.superpose!==this.superpose&&(this.superpose=e.superpose,t=!0),this.deltaTime=W(e.deltaTime,this.deltaTime),this.timeOffset=W(e.timeOffset,this.timeOffset),t&&(this._resetCache(),this.setFrame(this._currentFrame))}hasFrame(e){return Array.isArray(e)?e.every(t=>!!this.frameCache[t]):!!this.frameCache[e]}setFrame(e,t){return e===void 0||(this.inProgress=!0,e===-1||this.frameCache[e]?(this._updateStructure(e),t&&t()):this.loadFrame(e,()=>{this._updateStructure(e),t&&t()})),this}_interpolate(e,t,n,r,s,a){const o=this.frameCache;let A;A=a==="spline"?function(c,l,u,d,h){const m=c.length,y=new Float32Array(m);for(let g=0;g<m;g+=3){const E=g+1,R=g+2;y[g]=eA(d[g],u[g],l[g],c[g],h,1),y[E]=eA(d[E],u[E],l[E],c[E],h,1),y[R]=eA(d[R],u[R],l[R],c[R],h,1)}return y}(o[e],o[t],o[n],o[r],s):function(c,l,u){const d=c.length,h=new Float32Array(d);for(let m=0;m<d;m+=3){const y=m+1,g=m+2;h[m]=Js(l[m],c[m],u),h[y]=Js(l[y],c[y],u),h[g]=Js(l[g],c[g],u)}return h}(o[e],o[t],s),this.structure.updatePosition(A),this._currentFrame=e,this.signals.frameChanged.dispatch(e)}setFrameInterpolated(e,t,n,r,s,a,o){if(e===void 0)return this;const A=this.frameCache,c=[];return A[r]||c.push(r),A[n]||c.push(n),A[t]||c.push(t),A[e]||c.push(e),c.length?this.loadFrame(c,()=>{this._interpolate(e,t,n,r,s,a),o&&o()}):(this._interpolate(e,t,n,r,s,a),o&&o()),this}loadFrame(e,t){Array.isArray(e)?e.forEach(n=>{this.loadQueue[n]||this.frameCache[n]||(this.loadQueue[n]=!0,this._loadFrame(n,()=>{delete this.loadQueue[n]}))}):this.loadQueue[e]||this.frameCache[e]||(this.loadQueue[e]=!0,this._loadFrame(e,()=>{delete this.loadQueue[e],t&&t()}))}_loadFrame(e,t){He.error("Trajectory._loadFrame not implemented",e,t)}_updateStructure(e){this._disposed?console.error("updateStructure: traj disposed"):(e===-1?this.structureCoords&&this.structure.updatePosition(this.structureCoords):this.structure.updatePosition(this.frameCache[e]),this.structure.trajectory={name:this.trajPath,frame:e},this._currentFrame=e,this.inProgress=!1,this.signals.frameChanged.dispatch(e))}_doSuperpose(e){const t=3*this.selectionIndices.length,n=this.coords1,r=this.coords2;for(let s=0;s<t;s+=3){const a=3*this.selectionIndices[s/3];n[s+0]=e[a+0],n[s+1]=e[a+1],n[s+2]=e[a+2]}new mT(n,r).transform(e)}_process(e,t,n,r){if(this._setFrameCount(r),t){if(this.backboneIndices.length>0&&this.centerPbc){const s=[t[0],t[4],t[8]],a=function(o,A,c){return[W2(A,c[0],3,0,o),W2(A,c[1],3,1,o),W2(A,c[2],3,2,o)]}(this.backboneIndices,n,s);(function(o,A,c){if(c[0]===0||c[8]===0||c[4]===0)return;const l=o.length,u=c[0],d=c[1],h=c[2],m=-A[0]+u+u/2,y=-A[1]+d+d/2,g=-A[2]+h+h/2;for(let E=0;E<l;E+=3)o[E+0]=(o[E+0]+m)%u,o[E+1]=(o[E+1]+y)%d,o[E+2]=(o[E+2]+g)%h})(n,a,s)}if(this.removePeriodicity){const s=function(a){return[Y1(a,3,0),Y1(a,3,1),Y1(a,3,2)]}(n);(function(a,o,A){if(o[0]===0||o[8]===0||o[4]===0)return;const c=a.length;for(let l=3;l<c;l+=3)for(let u=0;u<3;++u){const d=(a[l+u]-A[u])/o[3*u+u];Math.abs(d)>.5&&(a[l+u]-=o[3*u+u]*Math.round(d))}})(n,t,s)}this.removePbc&&function(s,a){if(a[0]===0||a[8]===0||a[4]===0)return;const o=s.length;for(let A=3;A<o;A+=3)for(let c=0;c<3;++c){const l=s[A+c]-s[A-3+c];if(Math.abs(l)>.9*a[3*c+c])if(l>0)for(let u=0;u<3;++u)s[A+u]-=a[3*c+u];else for(let u=0;u<3;++u)s[A+u]+=a[3*c+u]}}(n,t)}this.selectionIndices.length>0&&this.coords1&&this.superpose&&this._doSuperpose(n),this.frameCache[e]=n,this.boxCache[e]=t,this.frameCacheSize+=1}_setFrameCount(e){e!==this._frameCount&&(this._frameCount=e,this.signals.countChanged.dispatch(e))}dispose(){this._resetCache(),this._disposed=!0,this.player&&this.player.stop()}setPlayer(e){this.player=e,this.signals.playerChanged.dispatch(e)}getFrameTime(e){return this.timeOffset+e*this.deltaTime}}class _Ae extends ry{constructor(e,t,n){const r=n||{};r.timeOffset=W(r.timeOffset,e.timeOffset),r.deltaTime=W(r.deltaTime,e.deltaTime),super("",t,r),this.name=e.name,this.path=e.path,this.frames=e.coordinates,this.boxes=e.boxes,this._init(t)}get type(){return"frames"}_makeAtomIndices(){this.structure.type==="StructureView"?this.atomIndices=this.structure.getAtomIndices():this.atomIndices=void 0}_loadFrame(e,t){let n;const r=this.frames[e];if(this.atomIndices){const o=this.atomIndices,A=o.length;n=new Float32Array(3*A);for(let c=0;c<A;++c){const l=3*c,u=3*o[c];n[l+0]=r[u+0],n[l+1]=r[u+1],n[l+2]=r[u+2]}}else n=new Float32Array(r);const s=this.boxes[e],a=this.frames.length;this._process(e,s,n,a),typeof t=="function"&&t()}_loadFrameCount(){this.frames&&this._setFrameCount(this.frames.length)}}class vAe extends ry{constructor(e,t,n){super("",t,n),this._init(t)}get type(){return"structure"}_makeAtomIndices(){this.structure.atomSet&&this.structure.atomSet.getSize()<this.structure.atomStore.count?this.atomIndices=this.structure.getAtomIndices():this.atomIndices=void 0}_loadFrame(e,t){let n;const r=this.structure,s=r.frames[e];if(this.atomIndices){const A=this.atomIndices,c=A.length;n=new Float32Array(3*c);for(let l=0;l<c;++l){const u=3*l,d=3*A[l];n[u+0]=s[d+0],n[u+1]=s[d+1],n[u+2]=s[d+2]}}else n=new Float32Array(s);const a=r.boxes[e],o=r.frames.length;this._process(e,a,n,o),typeof t=="function"&&t()}_loadFrameCount(){this._setFrameCount(this.structure.frames.length)}}class xAe extends ry{constructor(e,t,n){super(e,t,n),this._init(t)}get type(){return"remote"}_makeAtomIndices(){const e=[];if(this.structure.type==="StructureView"){const t=this.structure.getAtomIndices(),n=t.length;let r=t[0],s=t[0];for(let a=1;a<n;++a){const o=t[a];s+1<o&&(e.push([r,s+1]),r=o),s=o}e.push([r,s+1])}else e.push([0,this.atomCount]);this.atomIndices=e}_loadFrame(e,t){const n=new XMLHttpRequest,r=z2.getFrameUrl(this.trajPath,e),s=z2.getFrameParams(this.trajPath,this.atomIndices);n.open("POST",r,!0),n.responseType="arraybuffer",n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.addEventListener("load",()=>{const a=n.response;if(!a)return void He.error(`empty arrayBuffer for '${r}'`);const o=new Int32Array(a,0,1)[0],A=new Float32Array(a,8,9),c=new Float32Array(a,44);this._process(e,A,c,o),typeof t=="function"&&t()},!1),n.send(s)}_loadFrameCount(){const e=new XMLHttpRequest,t=z2.getCountUrl(this.trajPath);e.open("GET",t,!0),e.addEventListener("load",()=>{this._setFrameCount(parseInt(e.response))},!1),e.send()}}class RAe extends ry{constructor(e,t,n){super("",t,n),this.requestCallback=e,this._init(t)}get type(){return"callback"}_makeAtomIndices(){const e=[];if(this.structure.type==="StructureView"){const t=this.structure.getAtomIndices(),n=t.length;let r=t[0],s=t[0];for(let a=1;a<n;++a){const o=t[a];s+1<o&&(e.push([r,s+1]),r=o),s=o}e.push([r,s+1])}else e.push([0,this.atomCount]);this.atomIndices=e}_loadFrame(e,t){this.requestCallback((n,r,s,a)=>{this._process(n,r,s,a),typeof t=="function"&&t()},e,this.atomIndices)}_loadFrameCount(){this.requestCallback(e=>this._setFrameCount(e))}}Ja.prototype.getView=function(i){return new gT(this,i)};class gT extends Ja{constructor(e,t){super(),this.structure=e,this.selection=t,this.center=new ne,this.boundingBox=new Gi,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy(),this.selection&&this.selection.signals.stringChanged.add(this.refresh,this),this.structure.signals.refreshed.add(this.refresh,this),this.refresh()}init(){}get type(){return"StructureView"}get name(){return this.structure.name}get path(){return this.structure.path}get title(){return this.structure.title}get id(){return this.structure.id}get data(){return this.structure.data}get atomSetDict(){return this.structure.atomSetDict}get biomolDict(){return this.structure.biomolDict}get entityList(){return this.structure.entityList}get unitcell(){return this.structure.unitcell}get frames(){return this.structure.frames}get boxes(){return this.structure.boxes}get validation(){return this.structure.validation}get bondStore(){return this.structure.bondStore}get backboneBondStore(){return this.structure.backboneBondStore}get rungBondStore(){return this.structure.rungBondStore}get atomStore(){return this.structure.atomStore}get residueStore(){return this.structure.residueStore}get chainStore(){return this.structure.chainStore}get modelStore(){return this.structure.modelStore}get atomMap(){return this.structure.atomMap}get residueMap(){return this.structure.residueMap}get bondHash(){return this.structure.bondHash}get spatialHash(){return this.structure.spatialHash}get _hasCoords(){return this.structure._hasCoords}set _hasCoords(e){this.structure._hasCoords=e}refresh(){ot&&He.time("StructureView.refresh"),this.atomSetCache={};const e=this.structure;if(this.selection.isAllSelection()&&e!==this&&e.atomSet&&e.bondSet){this.atomSet=e.atomSet.clone(),this.bondSet=e.bondSet.clone();for(let t in this.atomSetDict){const n=this.atomSetDict[t];this.atomSetCache["__"+t]=n.clone()}this.atomCount=e.atomCount,this.bondCount=e.bondCount,this.boundingBox.copy(e.boundingBox),this.center.copy(e.center)}else if(this.selection.isNoneSelection()&&e!==this&&e.atomSet&&e.bondSet){this.atomSet=new Ji(e.atomCount),this.bondSet=new Ji(e.bondCount);for(let t in this.atomSetDict)this.atomSetCache["__"+t]=new Ji(e.atomCount);this.atomCount=0,this.bondCount=0,this.boundingBox.makeEmpty(),this.center.set(0,0,0)}else{this.atomSet=this.getAtomSet(this.selection,!0),e.atomSet&&(this.atomSet=this.atomSet.intersection(e.atomSet)),this.bondSet=this.getBondSet();for(let t in this.atomSetDict){const n=this.atomSetDict[t];this.atomSetCache["__"+t]=n.makeIntersection(this.atomSet)}this.atomCount=this.atomSet.getSize(),this.bondCount=this.bondSet.getSize(),this.boundingBox=this.getBoundingBox(),this.center=this.boundingBox.getCenter(new ne)}ot&&He.timeEnd("StructureView.refresh"),this.signals.refreshed.dispatch()}setSelection(e){this.selection=e,this.refresh()}getSelection(e){const t=[];e&&e.string&&t.push(e.string);const n=this.structure.getSelection();n&&n.string&&t.push(n.string),this.selection&&this.selection.string&&t.push(this.selection.string);let r="";return t.length>0&&(r=`( ${t.join(" ) AND ( ")} )`),new ui(r)}getStructure(){return this.structure.getStructure()}eachBond(e,t){this.structure.eachBond(e,this.getSelection(t))}eachAtom(e,t){const n=this.getAtomProxy(),r=this.getAtomSet(t),s=this.atomStore.count;if(r.getSize()<s)r.forEach(function(a){n.index=a,e(n)});else for(let a=0;a<s;++a)n.index=a,e(n)}eachResidue(e,t){this.structure.eachResidue(e,this.getSelection(t))}eachResidueN(e,t){console.error("StructureView.eachResidueN() not implemented")}eachChain(e,t){this.structure.eachChain(e,this.getSelection(t))}eachModel(e,t){this.structure.eachModel(e,this.getSelection(t))}getAtomSet(e,t=!1){let n=this.structure.getAtomSet(e);return!t&&this.atomSet&&(n=n.makeIntersection(this.atomSet)),n}getAtomIndices(e){return this.structure.getAtomIndices(this.getSelection(e))}refreshPosition(){return this.structure.refreshPosition()}dispose(){this.selection&&this.selection.signals.stringChanged.remove(this.refresh,this),this.structure.signals.refreshed.remove(this.refresh,this),this.structure=new Ja,delete this.atomSet,delete this.bondSet}}const BAe=[[4,0,-2,-1,-2,0,-2,-1,-1,-1,-1,-2,-1,-1,-1,1,0,0,-3,-2],[0,9,-3,-4,-2,-3,-3,-1,-3,-1,-1,-3,-3,-3,-3,-1,-1,-1,-2,-2],[-2,-3,6,2,-3,-1,-1,-3,-1,-4,-3,1,-1,0,-2,0,-1,-3,-4,-3],[-1,-4,2,5,-3,-2,0,-3,1,-3,-2,0,-1,2,0,0,-1,-2,-3,-2],[-2,-2,-3,-3,6,-3,-1,0,-3,0,0,-3,-4,-3,-3,-2,-2,-1,1,3],[0,-3,-1,-2,-3,6,-2,-4,-2,-4,-3,0,-2,-2,-2,0,-2,-3,-2,-3],[-2,-3,-1,0,-1,-2,8,-3,-1,-3,-2,1,-2,0,0,-1,-2,-3,-2,2],[-1,-1,-3,-3,0,-4,-3,4,-3,2,1,-3,-3,-3,-3,-2,-1,3,-3,-1],[-1,-3,-1,1,-3,-2,-1,-3,5,-2,-1,0,-1,1,2,0,-1,-2,-3,-2],[-1,-1,-4,-3,0,-4,-3,2,-2,4,2,-3,-3,-2,-2,-2,-1,1,-2,-1],[-1,-1,-3,-2,0,-3,-2,1,-1,2,5,-2,-2,0,-1,-1,-1,1,-1,-1],[-2,-3,1,0,-3,0,1,-3,0,-3,-2,6,-2,0,0,1,0,-3,-4,-2],[-1,-3,-1,-1,-4,-2,-2,-3,-1,-3,-2,-2,7,-1,-2,-1,-1,-2,-4,-3],[-1,-3,0,2,-3,-2,0,-3,1,-2,0,0,-1,5,1,0,-1,-2,-2,-1],[-1,-3,-2,0,-3,-2,0,-3,2,-2,-1,0,-2,1,5,-1,-1,-3,-3,-2],[1,-1,0,0,-2,0,-1,-2,0,-2,-1,1,-1,0,-1,4,1,-2,-3,-2],[0,-1,-1,-1,-2,-2,-2,-1,-1,-1,-1,0,-1,-1,-1,1,5,0,-2,-2],[0,-1,-3,-2,-1,-3,-3,3,-2,1,1,-3,-2,-2,-3,-2,0,4,-3,-1],[-3,-2,-4,-3,1,-2,-2,-3,-3,-2,-1,-4,-4,-2,-3,-3,-2,-3,11,2],[-2,-2,-3,-2,3,-3,2,-1,-2,-1,-1,-2,-3,-1,-2,-2,-2,-1,2,7]];function $6(i,e){let t,n=0;const r={};return e.forEach(function(s){t=0;const a={};s.forEach(function(o){a[i[t++]]=o}),r[i[n++]]=a}),r}const CAe={blosum62:$6("ARNDCQEGHILKMFPSTWYVBZ?",[[4,-1,-2,-2,0,-1,-1,0,-2,-1,-1,-1,-1,-2,-1,1,0,-3,-2,0,-2,-1,0],[-1,5,0,-2,-3,1,0,-2,0,-3,-2,2,-1,-3,-2,-1,-1,-3,-2,-3,-1,0,-1],[-2,0,6,1,-3,0,0,0,1,-3,-3,0,-2,-3,-2,1,0,-4,-2,-3,3,0,-1],[-2,-2,1,6,-3,0,2,-1,-1,-3,-4,-1,-3,-3,-1,0,-1,-4,-3,-3,4,1,-1],[0,-3,-3,-3,9,-3,-4,-3,-3,-1,-1,-3,-1,-2,-3,-1,-1,-2,-2,-1,-3,-3,-2],[-1,1,0,0,-3,5,2,-2,0,-3,-2,1,0,-3,-1,0,-1,-2,-1,-2,0,3,-1],[-1,0,0,2,-4,2,5,-2,0,-3,-3,1,-2,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-2,0,-1,-3,-2,-2,6,-2,-4,-4,-2,-3,-3,-2,0,-2,-2,-3,-3,-1,-2,-1],[-2,0,1,-1,-3,0,0,-2,8,-3,-3,-1,-2,-1,-2,-1,-2,-2,2,-3,0,0,-1],[-1,-3,-3,-3,-1,-3,-3,-4,-3,4,2,-3,1,0,-3,-2,-1,-3,-1,3,-3,-3,-1],[-1,-2,-3,-4,-1,-2,-3,-4,-3,2,4,-2,2,0,-3,-2,-1,-2,-1,1,-4,-3,-1],[-1,2,0,-1,-3,1,1,-2,-1,-3,-2,5,-1,-3,-1,0,-1,-3,-2,-2,0,1,-1],[-1,-1,-2,-3,-1,0,-2,-3,-2,1,2,-1,5,0,-2,-1,-1,-1,-1,1,-3,-1,-1],[-2,-3,-3,-3,-2,-3,-3,-3,-1,0,0,-3,0,6,-4,-2,-2,1,3,-1,-3,-3,-1],[-1,-2,-2,-1,-3,-1,-1,-2,-2,-3,-3,-1,-2,-4,7,-1,-1,-4,-3,-2,-2,-1,-2],[1,-1,1,0,-1,0,0,0,-1,-2,-2,0,-1,-2,-1,4,1,-3,-2,-2,0,0,0],[0,-1,0,-1,-1,-1,-1,-2,-2,-1,-1,-1,-1,-2,-1,1,5,-2,-2,0,-1,-1,0],[-3,-3,-4,-4,-2,-2,-3,-2,-2,-3,-2,-3,-1,1,-4,-3,-2,11,2,-3,-4,-3,-2],[-2,-2,-2,-3,-2,-1,-2,-3,2,-1,-1,-2,-1,3,-3,-2,-2,2,7,-1,-3,-2,-1],[0,-3,-3,-3,-1,-2,-2,-3,-3,3,1,-2,1,-1,-2,-2,0,-3,-1,4,-3,-2,-1],[-2,-1,3,4,-3,0,1,-1,0,-3,-4,0,-3,-3,-2,0,-1,-4,-3,-3,4,1,-1],[-1,0,0,1,-3,3,4,-2,0,-3,-3,1,-1,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-1,-1,-1,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-2,0,0,-2,-1,-1,-1,-1,-1]]),blosum62x:$6("ACDEFGHIKLMNPQRSTVWY",BAe)};class SAe{constructor(e,t,n=-10,r=-1,s="blosum62"){this.seq1=e,this.seq2=t,this.gapPenalty=n,this.gapExtensionPenalty=r,s&&(this.substMatrix=CAe[s])}initMatrices(){this.n=this.seq1.length,this.m=this.seq2.length,this.score=void 0,this.ali="",this.S=[],this.V=[],this.H=[];for(let e=0;e<=this.n;++e){this.S[e]=[],this.V[e]=[],this.H[e]=[];for(let t=0;t<=this.m;++t)this.S[e][t]=0,this.V[e][t]=0,this.H[e][t]=0}for(let e=0;e<=this.n;++e)this.S[e][0]=this.gap(0),this.H[e][0]=-1/0;for(let e=0;e<=this.m;++e)this.S[0][e]=this.gap(0),this.V[0][e]=-1/0;this.S[0][0]=0}gap(e){return this.gapPenalty+e*this.gapExtensionPenalty}makeScoreFn(){const e=this.seq1,t=this.seq2,n=this.substMatrix;return n?function(r,s){const a=e[r],o=t[s];try{return n[a][o]}catch{return-4}}:(He.warn("Alignment: no subst matrix"),function(r,s){return e[r]===t[s]?5:-3})}calc(){ot&&He.time("Alignment.calc"),this.initMatrices();const e=this.gap(0),t=this.makeScoreFn(),n=this.gapExtensionPenalty,r=this.V,s=this.H,a=this.S,o=this.n,A=this.m;let c,l,u,d,h;for(let m=1;m<=o;++m){l=a[m-1],c=r[m-1],u=r[m],d=s[m],h=a[m];for(let y=1;y<=A;++y)u[y]=Math.max(l[y]+e,c[y]+n),d[y]=Math.max(h[y-1]+e,d[y-1]+n),h[y]=Math.max(l[y-1]+t(m-1,y-1),u[y],d[y])}ot&&He.timeEnd("Alignment.calc"),ot&&He.log(this.S,this.V,this.H)}trace(){ot&&He.time("Alignment.trace"),this.ali1="",this.ali2="";const e=this.makeScoreFn();let t,n=this.n,r=this.m;for(this.S[n][r]>=this.V[n][r]?(t="S",this.score=this.S[n][r]):this.V[n][r]>=this.H[n][r]?(t="V",this.score=this.V[n][r]):(t="H",this.score=this.H[n][r]),ot&&He.log("Alignment: SCORE",this.score),ot&&He.log("Alignment: S, V, H",this.S[n][r],this.V[n][r],this.H[n][r]);n>0&&r>0;)t==="S"?this.S[n][r]===this.S[n-1][r-1]+e(n-1,r-1)?(this.ali1=this.seq1[n-1]+this.ali1,this.ali2=this.seq2[r-1]+this.ali2,--n,--r,t="S"):this.S[n][r]===this.V[n][r]?t="V":this.S[n][r]===this.H[n][r]?t="H":(--n,--r):t==="V"?this.V[n][r]===this.V[n-1][r]+this.gapExtensionPenalty?(this.ali1=this.seq1[n-1]+this.ali1,this.ali2="-"+this.ali2,--n,t="V"):this.V[n][r]===this.S[n-1][r]+this.gap(0)?(this.ali1=this.seq1[n-1]+this.ali1,this.ali2="-"+this.ali2,--n,t="S"):--n:t==="H"?this.H[n][r]===this.H[n][r-1]+this.gapExtensionPenalty?(this.ali1="-"+this.ali1,this.ali2=this.seq2[r-1]+this.ali2,--r,t="H"):this.H[n][r]===this.S[n][r-1]+this.gap(0)?(this.ali1="-"+this.ali1,this.ali2=this.seq2[r-1]+this.ali2,--r,t="S"):--r:He.error("Alignment: no matrix");for(;n>0;)this.ali1=this.seq1[n-1]+this.ali1,this.ali2="-"+this.ali2,--n;for(;r>0;)this.ali1="-"+this.ali1,this.ali2=this.seq2[r-1]+this.ali2,--r;ot&&He.timeEnd("Alignment.trace"),ot&&He.log([this.ali1,this.ali2])}}function NAe(i,e,t=!1,n="",r=""){let s,a,o,A,c;if(t){let u=i,d=e;n&&r&&(u=i.getView(new ui(n)),d=e.getView(new ui(r)));const h=u.getSequence(),m=d.getSequence(),y=new SAe(h.join(""),m.join(""));let g,E;y.calc(),y.trace(),s=0,a=0,o=y.ali1.length;const R=[],p=[];for(let C=0;C<o;++C){const B=y.ali1[C],G=y.ali2[C];g=0,E=0,B==="-"?p[a]=!1:(p[a]=!0,g=1),G==="-"?R[s]=!1:(R[s]=!0,E=1),s+=g,a+=E}const w=[],v=[],_=u.getAtomProxy(),x=d.getAtomProxy();s=0,u.eachResidue(function(C){C.traceAtomIndex!==void 0&&C.traceAtomIndex===C.getAtomIndexByName("CA")&&(R[s]&&(_.index=C.getAtomIndexByName("CA"),w.push(_.x,_.y,_.z)),s+=1)}),s=0,d.eachResidue(function(C){C.traceAtomIndex!==void 0&&C.traceAtomIndex===C.getAtomIndexByName("CA")&&(p[s]&&(x.index=C.getAtomIndexByName("CA"),v.push(x.x,x.y,x.z)),s+=1)}),A=new Float32Array(w),c=new Float32Array(v)}else A=i.getView(new ui(`${n} and .CA`)),c=e.getView(new ui(`${r} and .CA`));const l=new mT(A,c).transform(i);return i.refreshPosition(),l}const MAe=Object.assign({sele:"",defaultAssembly:""},dT);class ME extends iy{constructor(e,t,n={}){super(e,t,Object.assign({name:t.name},n)),this.structure=t,this.trajList=[],this.signals=Object.assign(this.signals,{trajectoryAdded:new fn.exports.Signal,trajectoryRemoved:new fn.exports.Signal,defaultAssemblyChanged:new fn.exports.Signal}),this.initSelection(this.parameters.sele),this.pickBuffer=function(r){let s=0,a=0;const o=[];return{has:function(A){return o.indexOf(A)!==-1},get:function(A){return o[A]},push:function(A){o[s]=A,s=(r+s+1)%r,++a},get count(){return a},get data(){return o.slice(0,Math.min(a,r))},clear:function(){a=0,s=0,o.length=0}}}(4),this.pickDict=function(){const r={};return{has:function(s){return r[JSON.stringify(s)]!==void 0},add:function(s,a){r[JSON.stringify(s)]=a},del:function(s){delete r[JSON.stringify(s)]},get values(){return Object.keys(r).map(s=>r[s])}}}(),this.spacefillRepresentation=this.addRepresentation("spacefill",{sele:"none",opacity:Ad.opacity,color:Ad.color,disablePicking:!0,radiusType:"data"},!0),this.distanceRepresentation=this.addRepresentation("distance",Ad,!0),this.angleRepresentation=this.addRepresentation("angle",Ad,!0),this.dihedralRepresentation=this.addRepresentation("dihedral",Ad,!0),this.measureRepresentations=new hT([this.spacefillRepresentation,this.distanceRepresentation,this.angleRepresentation,this.dihedralRepresentation]),this.setDefaultAssembly(this.parameters.defaultAssembly),this.structure.signals.refreshed.add(()=>{this.updateRepresentations({position:!0})})}get defaultParameters(){return MAe}get type(){return"structure"}initSelection(e){this.selection=new ui(e),this.structureView=new gT(this.structure,this.selection),this.selection.signals.stringChanged.add(()=>{this.structureView.setSelection(this.selection),this.rebuildRepresentations(),this.rebuildTrajectories()})}setSelection(e){return this.parameters.sele=e,this.selection.setString(e),this}setDefaultAssembly(e){if(this.structure.biomolDict[e]===void 0&&(e=""),this.parameters.defaultAssembly!==e){const t={defaultAssembly:e};this.reprList.forEach(n=>n.setParameters(t)),this.measureRepresentations.setParameters(t),this.parameters.defaultAssembly=e,this.signals.defaultAssemblyChanged.dispatch(e)}return this}rebuildRepresentations(){this.reprList.forEach(e=>{e.build()}),this.measureRepresentations.build()}rebuildTrajectories(){this.trajList.forEach(e=>{e.trajectory.setStructure(this.structureView)})}updateRepresentations(e){super.updateRepresentations(e),this.measureRepresentations.update(e)}updateRepresentationMatrices(){super.updateRepresentationMatrices(),this.measureRepresentations.setParameters({matrix:this.matrix})}addRepresentation(e,t={},n=!1){t.defaultAssembly=this.parameters.defaultAssembly;const r=this._addRepresentation(e,this.structureView,t,n);return n||r.signals.parametersChanged.add(()=>this.measureUpdate()),r}addTrajectory(e="",t={}){const n=function(s,a,o){let A;return A=s&&s instanceof pT?new _Ae(s,a,o):!s&&a.frames?new vAe(s,a,o):s&&typeof s=="function"?new RAe(s,a,o):new xAe(s,a,o),A}(e,this.structureView,t),r=new wAe(this.stage,n,t);return this.trajList.push(r),this.signals.trajectoryAdded.dispatch(r),r}removeTrajectory(e){const t=this.trajList.indexOf(e);t!==-1&&this.trajList.splice(t,1),e.dispose(),this.signals.trajectoryRemoved.dispatch(e)}dispose(){this.trajList.slice().forEach(e=>e.dispose()),this.trajList.length=0,this.structure.dispose(),this.measureRepresentations.dispose(),super.dispose()}autoView(e,t){typeof e=="number"&&(t=e,e=""),this.stage.animationControls.zoomMove(this.getCenter(e),this.getZoom(e),W(t,0))}getBoxUntransformed(e){let t;return t=e?this.structureView.getBoundingBox(new ui(e)):this.structureView.boundingBox,t}getCenterUntransformed(e){return e&&typeof e=="string"?this.structure.atomCenter(new ui(e)):this.structure.center}superpose(e,t,n,r){return NAe(this.structureView,e.structureView,t,n,r),this.updateRepresentations({position:!0}),this}getMaxRepresentationRadius(e){let t=0;const n=this.structure.getAtomProxy(e);return this.eachRepresentation(r=>{if(r.getVisibility()){const s=r.repr;t=Math.max(s.getAtomRadius(n),t)}}),t}measurePick(e){const t=this.pickBuffer.count;if(this.lastPick===e.index&&t>=1){if(t>1){const n=this.pickBuffer.data,r=this.pickBuffer.data.sort();this.pickDict.has(r)?this.pickDict.del(r):this.pickDict.add(r,n),t===2?this.distanceRepresentation.setParameters({atomPair:this.pickDict.values.filter(s=>s.length===2)}):t===3?this.angleRepresentation.setParameters({atomTriple:this.pickDict.values.filter(s=>s.length===3)}):t===4&&this.dihedralRepresentation.setParameters({atomQuad:this.pickDict.values.filter(s=>s.length===4)})}this.pickBuffer.clear(),this.lastPick=void 0}else this.pickBuffer.has(e.index)||this.pickBuffer.push(e.index),this.lastPick=e.index;this.measureUpdate()}measureClear(){this.pickBuffer.clear(),this.lastPick=void 0,this.spacefillRepresentation.setSelection("none")}measureBuild(){const e=this.measureData();this.distanceRepresentation.setParameters({atomPair:e.distance}),this.angleRepresentation.setParameters({atomTriple:e.angle}),this.dihedralRepresentation.setParameters({atomQuad:e.dihedral})}measureUpdate(){const e=this.pickBuffer.data,t={};e.forEach(n=>{const r=Math.max(.1,this.getMaxRepresentationRadius(n));t[n]=r*(2.3-qf(.1,2,r))}),this.spacefillRepresentation.setSelection(e.length?"@"+e.join(","):"none"),e.length&&this.spacefillRepresentation.setParameters({radiusData:t})}measureData(){const e=this.pickDict.values;return{distance:e.filter(t=>t.length===2),angle:e.filter(t=>t.length===3),dihedral:e.filter(t=>t.length===4)}}removeAllMeasurements(e){const t=this.pickDict,n=t.values,r=function(s){n.filter(a=>a.length===s).forEach(a=>t.del(a.slice().sort()))};(!e||1&e)&&r(2),(!e||2&e)&&r(3),(!e||4&e)&&r(4),this.measureBuild()}removeMeasurement(e){this.pickDict.del(e.slice().sort()),this.measureBuild()}addMeasurement(e){if(e.length<2||e.length>4)return;const t=e.slice().sort();this.pickDict.has(t)||this.pickDict.add(t,e),this.measureBuild()}}hu.add("structure",ME),hu.add("structureview",ME);class yT extends iy{constructor(e,t,n={}){super(e,t,Object.assign({name:t.name},n)),this.surface=t}get type(){return"surface"}addRepresentation(e,t={}){return this._addRepresentation(e,this.surface,t)}getBoxUntransformed(){return this.surface.boundingBox}getCenterUntransformed(){return this.surface.center}dispose(){this.surface.dispose(),super.dispose()}}hu.add("surface",yT);class wT extends iy{constructor(e,t,n={}){super(e,t,Object.assign({name:t.name},n)),this.volume=t}get type(){return"volume"}addRepresentation(e,t={}){return this._addRepresentation(e,this.volume,t)}getBoxUntransformed(){return this.volume.boundingBox}getCenterUntransformed(){return this.volume.center}dispose(){this.volume.dispose(),super.dispose()}}hu.add("volume",wT);class W6 extends fT{addRepresentation(e,t){return this.forEach(n=>n.addRepresentation(e,t))}autoView(e){return this.forEach(t=>t.autoView(e))}}function q6(i,e){return i instanceof RegExp?e.name.match(i)!==null:e.name===i}const TAe=new ne,GAe={impostor:!0,quality:"medium",workerDefault:!0,sampleLevel:0,backgroundColor:"black",rotateSpeed:2,zoomSpeed:1.2,panSpeed:1,clipNear:0,clipFar:100,clipDist:10,clipMode:"scene",clipScale:"relative",fogNear:50,fogFar:100,cameraFov:40,cameraEyeSep:.3,cameraType:"perspective",lightColor:14540253,lightIntensity:1.2,ambientColor:14540253,ambientIntensity:.3,hoverTimeout:0,tooltip:!0,mousePreset:"default"};class FAe{constructor(e,t={}){this.signals={parametersChanged:new fn.exports.Signal,fullscreenChanged:new fn.exports.Signal,componentAdded:new fn.exports.Signal,componentRemoved:new fn.exports.Signal,clicked:new fn.exports.Signal,hovered:new fn.exports.Signal},this.tasks=new NM,this.compList=[],this.defaultFileParams={},this.logList=[],this.viewer=new rae(e),this.viewer.renderer&&(this.tooltip=document.createElement("div"),Object.assign(this.tooltip.style,{display:"none",position:"fixed",zIndex:"1000000",pointerEvents:"none",backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),this.viewer.container.appendChild(this.tooltip),this.mouseObserver=new sae(this.viewer.renderer.domElement),this.viewerControls=new lae(this),this.trackballControls=new aae(this),this.pickingControls=new Aae(this),this.animationControls=new pae(this),this.mouseControls=new loe(this),this.keyControls=new doe(this),this.pickingBehavior=new foe(this),this.mouseBehavior=new hoe(this),this.animationBehavior=new poe(this),this.keyBehavior=new moe(this),this.spinAnimation=this.animationControls.spin([0,1,0],.005),this.spinAnimation.pause(!0),this.rockAnimation=this.animationControls.rock([0,1,0],.005),this.rockAnimation.pause(!0),this.parameters=Ms(t,GAe),this.setParameters(this.parameters),this.viewer.animate())}setParameters(e={}){yM(this.parameters,e);const t=e,n=this.parameters,r=this.viewer,s=this.trackballControls;return t.quality!==void 0&&this.setQuality(n.quality),t.impostor!==void 0&&this.setImpostor(n.impostor),t.rotateSpeed!==void 0&&(s.rotateSpeed=n.rotateSpeed),t.zoomSpeed!==void 0&&(s.zoomSpeed=n.zoomSpeed),t.panSpeed!==void 0&&(s.panSpeed=n.panSpeed),t.mousePreset!==void 0&&this.mouseControls.preset(n.mousePreset),this.mouseObserver.setParameters({hoverTimeout:n.hoverTimeout}),r.setClip(n.clipNear,n.clipFar,n.clipDist,n.clipMode,n.clipScale),r.setFog(void 0,n.fogNear,n.fogFar),r.setCamera(n.cameraType,n.cameraFov,n.cameraEyeSep),r.setSampling(n.sampleLevel),r.setBackground(n.backgroundColor),r.setLight(n.lightColor,n.lightIntensity,n.ambientColor,n.ambientIntensity),this.signals.parametersChanged.dispatch(this.getParameters()),this}log(e){console.log("STAGE LOG",e),this.logList.push(e)}getParameters(){return Object.assign({},this.parameters)}defaultFileRepresentation(e){if(e instanceof ME){let t,n,r;e.setSelection("/0");const s=e.structure;if(s.biomolDict.BU1){const u=s.biomolDict.BU1;t=u.getAtomCount(s),n=u.getResidueCount(s),r=u.getInstanceCount(),e.setDefaultAssembly("BU1")}else t=s.getModelProxy(0).atomCount,n=s.getModelProxy(0).residueCount,r=1;let a=t;BM&&(a*=4);const o=s.atomStore.count/s.residueStore.count<2;o&&(a*=10);let A="chainname",c="RdYlBu",l=!1;if(s.getChainnameCount(new ui("polymer and /0"))===1&&(A="residueindex",c="Spectral",l=!0),ot&&console.log(a,t,r,o),n/r<4)e.addRepresentation("ball+stick",{colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"});else if(r>5&&a>15e3||a>7e5){let u=Math.min(2,Math.max(.1,6e3/(a/r)));o&&(u=Math.min(u,.5)),e.addRepresentation("surface",{colorScheme:A,colorScale:c,colorReverse:l,sele:"polymer",surfaceType:"av",probeRadius:1.4,scaleFactor:u,useWorker:!1})}else a>25e4?e.addRepresentation("backbone",{colorScheme:A,colorScale:c,colorReverse:l,lineOnly:!0}):a>1e5?e.addRepresentation("backbone",{colorScheme:A,colorScale:c,colorReverse:l,quality:"low",disableImpostor:!0,radiusScale:2}):a>8e4?e.addRepresentation("backbone",{colorScheme:A,colorScale:c,colorReverse:l,radiusScale:2}):(e.addRepresentation("cartoon",{colorScheme:A,colorScale:c,colorReverse:l,radiusScale:.7,aspectRatio:5,quality:"auto"}),a<5e4&&e.addRepresentation("base",{colorScheme:A,colorScale:c,colorReverse:l,quality:"auto"}),e.addRepresentation("ball+stick",{sele:"ligand",colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"}));e.structure.frames.length&&e.addTrajectory()}else(e instanceof yT||e instanceof wT)&&e.addRepresentation("surface");this.tasks.onZeroOnce(this.autoView,this)}loadFile(e,t={}){const n=Object.assign({},this.defaultFileParams,t),r=us(e).name;this.tasks.increment(),this.log(`loading file '${r}'`);const s=W(n.ext,us(e).ext);let a;return a=an.isTrajectory(s)?Promise.reject(new Error(`loadFile: ext '${s}' is a trajectory and must be loaded into a structure component`)):r6(e,n),a.then(o=>{this.log(`loaded '${r}'`);const A=this.addComponentFromObject(o,n);return n.defaultRepresentation&&this.defaultFileRepresentation(A),this.tasks.decrement(),A},o=>{this.tasks.decrement();const A=`error loading file: '${o}'`;throw this.log(A),A})}loadScript(e){const t=us(e).name;return this.log(`loading script '${t}'`),r6(e).then(n=>{this.tasks.increment(),this.log(`running script '${t}'`),n.run(this).then(()=>{this.tasks.decrement(),this.log(`finished script '${t}'`)}),this.log(`called script '${t}'`)},n=>{this.tasks.decrement();const r=`errored script '${t}' "${n}"`;throw this.log(r),r})}addComponent(e){e?(this.compList.push(e),this.signals.componentAdded.dispatch(e)):He.warn("Stage.addComponent: no component given")}addComponentFromObject(e,t={}){const n=hu.get(e.type);if(n){const r=new n(this,e,t);return this.addComponent(r),r}He.warn("no component for object type",e.type)}removeComponent(e){const t=this.compList.indexOf(e);t!==-1&&(this.compList.splice(t,1),e.dispose(),this.signals.componentRemoved.dispatch(e))}removeAllComponents(){this.compList.slice().forEach(e=>this.removeComponent(e))}handleResize(){this.viewer.handleResize()}setSize(e,t){const n=this.viewer.container;n!==document.body&&(e!==void 0&&(n.style.width=e),t!==void 0&&(n.style.height=t),this.handleResize())}toggleFullscreen(e){if(!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled))return void He.log("fullscreen mode (currently) not possible");const t=this;function n(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}function r(){if(!n()&&t.lastFullscreenElement){const s=t.lastFullscreenElement;s.style.width=s.dataset.normalWidth||"",s.style.height=s.dataset.normalHeight||"",document.removeEventListener("fullscreenchange",r),document.removeEventListener("mozfullscreenchange",r),document.removeEventListener("webkitfullscreenchange",r),document.removeEventListener("MSFullscreenChange",r),t.handleResize(),t.signals.fullscreenChanged.dispatch(!1)}}e=e||this.viewer.container,this.lastFullscreenElement=e,n()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(e.dataset.normalWidth=e.style.width||"",e.dataset.normalHeight=e.style.height||"",e.style.width=window.screen.width+"px",e.style.height=window.screen.height+"px",e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),document.addEventListener("fullscreenchange",r),document.addEventListener("mozfullscreenchange",r),document.addEventListener("webkitfullscreenchange",r),document.addEventListener("MSFullscreenChange",r),this.handleResize(),this.signals.fullscreenChanged.dispatch(!0),setTimeout(function(){t.handleResize()},100))}setSpin(e){e?(this.spinAnimation.resume(!0),this.rockAnimation.pause(!0)):this.spinAnimation.pause(!0)}setRock(e){e?(this.rockAnimation.resume(!0),this.spinAnimation.pause(!0)):this.rockAnimation.pause(!0)}toggleSpin(){this.setSpin(this.spinAnimation.paused)}toggleRock(){this.setRock(this.rockAnimation.paused)}getFocus(){const e=this.parameters;if(e.clipMode!=="scene")return 0;let t=e.clipNear;return e.clipScale==="absolute"&&(t=this.viewer.absoluteToRelative(t)),2*t}setFocus(e){if(this.parameters.clipMode!=="scene")return;let t,n,r,s;this.parameters.clipScale==="relative"?(t=yE(e/2,0,49.9),n=100-t,r=50,s=function(a){return yE(a,0,100)}(2*n-50)):(t=this.viewer.relativeToAbsolute(e/2),n=t,r=0,s=2*n),this.setParameters({clipNear:t,clipFar:n,fogNear:r,fogFar:s})}getZoomForBox(e){const t=e.getSize(TAe),n=Math.max(t.x,t.y,t.z),r=Math.min(t.x,t.y,t.z);let s=n+Math.sqrt(r);const a=Mi(this.viewer.perspectiveCamera.fov),o=this.viewer.width,A=this.viewer.height,c=A<o?1:o/A;return s=Math.abs(.5*s/c/Math.sin(a/2)),s+=this.parameters.clipDist,-s}getBox(){return this.viewer.boundingBox}getZoom(){return this.getZoomForBox(this.getBox())}getCenter(e){return this.getBox().getCenter(e||new ne)}autoView(e){this.animationControls.zoomMove(this.getCenter(),this.getZoom(),W(e,0))}makeImage(e={}){return new Promise((t,n)=>{this.tasks.onZeroOnce(()=>{this.tasks.increment(),this.viewer.makeImage(e).then(r=>{this.tasks.decrement(),t(r)}).catch(r=>{this.tasks.decrement(),n(r)})})})}setImpostor(e){this.parameters.impostor=e;const t=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(n){if(!t.includes(n.getType()))return;const r=n.getParameters();r.disableImpostor=!e,n.build(r)})}setQuality(e){this.parameters.quality=e;const t=["tube","cartoon","ribbon","trace","rope"],n=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(r){const s=r.getParameters();if(!t.includes(r.getType())){if(!n.includes(r.getType()))return;if(!s.disableImpostor)return void(r.repr.quality=e)}s.quality=e,r.build(s)})}eachComponent(e,t){this.compList.slice().forEach(n=>{t!==void 0&&t!==n.type||e(n)})}eachRepresentation(e,t){this.eachComponent(n=>{n.reprList.slice().forEach(r=>{t!==void 0&&t!==r.getType()||e(r,n)})})}getComponentsByName(e){const t=[];return this.eachComponent(n=>{(e===void 0||q6(e,n))&&t.push(n)}),new W6(t)}getComponentsByObject(e){const t=[];return this.eachComponent(n=>{n.object===e&&t.push(n)}),new W6(t)}getRepresentationsByName(e){const t=[];return this.eachRepresentation((n,r)=>{(e===void 0||q6(e,n))&&t.push(n)}),new hT(t)}measureClear(){this.eachComponent(e=>e.measureClear(),"structure")}measureUpdate(){this.eachComponent(e=>e.measureUpdate(),"structure")}dispose(){this.tasks.dispose(),this.viewer.dispose(),this.mouseObserver.dispose()}}class IAe extends iy{constructor(e,t,n={}){super(e,t,Object.assign({name:t.name},n)),this.shape=t}get type(){return"shape"}addRepresentation(e,t={}){return this._addRepresentation(e,this.shape,t)}getBoxUntransformed(){return this.shape.boundingBox}getCenterUntransformed(){return this.shape.center}dispose(){this.shape.dispose(),super.dispose()}}function qn(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}function bT(i,e,t,n){return new(t||(t=Promise))(function(r,s){function a(c){try{A(n.next(c))}catch(l){s(l)}}function o(c){try{A(n.throw(c))}catch(l){s(l)}}function A(c){c.done?r(c.value):function(l){return l instanceof t?l:new t(function(u){u(l)})}(c.value).then(a,o)}A((n=n.apply(i,e||[])).next())})}hu.add("shape",IAe),typeof SuppressedError=="function"&&SuppressedError;class Y6 extends ni{constructor(e){super(e),e.scale||(this.parameters.scale="rainbow",this.parameters.reverse=W(e.reverse,!0)),this.scalePerModel={},e.structure.eachModel(t=>{this.parameters.domain=[t.atomOffset,t.atomEnd],this.scalePerModel[t.index]=this.getScale()})}atomColor(e){return this.scalePerModel[e.modelIndex](e.index)}}qn([Wn],Y6.prototype,"atomColor",null),Bn.add("atomindex",Y6);class X6 extends ni{constructor(e){if(super(e),e.scale||(this.parameters.scale="OrRd"),!e.domain){let t,n=1/0,r=-1/0;e.sele&&(t=new ui(e.sele)),e.structure.eachAtom(function(s){const a=s.bfactor;n=Math.min(n,a),r=Math.max(r,a)},t),this.parameters.domain=[n,r]}this.bfactorScale=this.getScale()}atomColor(e){return this.bfactorScale(e.bfactor)}}qn([Wn],X6.prototype,"atomColor",null),Bn.add("bfactor",X6);class j6 extends ni{constructor(e){super(e),this.chainidDictPerModel={},this.scalePerModel={},e.scale||(this.parameters.scale="Spectral"),e.structure.eachModel(t=>{let n=0;const r={};t.eachChain(function(s){r[s.chainid]===void 0&&(r[s.chainid]=n,n+=1)}),this.parameters.domain=[0,n-1],this.chainidDictPerModel[t.index]=r,this.scalePerModel[t.index]=this.getScale()})}atomColor(e){const t=this.chainidDictPerModel[e.modelIndex];return this.scalePerModel[e.modelIndex](t[e.chainid])}}qn([Wn],j6.prototype,"atomColor",null),Bn.add("chainid",j6);class Z6 extends ni{constructor(e){super(e),this.scalePerModel={},e.scale||(this.parameters.scale="Spectral"),e.structure.eachModel(t=>{this.parameters.domain=[t.chainOffset,t.chainEnd],this.scalePerModel[t.index]=this.getScale()})}atomColor(e){return this.scalePerModel[e.modelIndex](e.chainIndex)}}qn([Wn],Z6.prototype,"atomColor",null),Bn.add("chainindex",Z6);class J6 extends ni{constructor(e){super(e),this.chainnameDictPerModel={},this.scalePerModel={},e.scale||(this.parameters.scale="Spectral"),e.structure.eachModel(t=>{let n=0;const r={};t.eachChain(function(s){r[s.chainname]===void 0&&(r[s.chainname]=n,n+=1)}),this.parameters.domain=[0,n-1],this.chainnameDictPerModel[t.index]=r,this.scalePerModel[t.index]=this.getScale()})}atomColor(e){const t=this.chainnameDictPerModel[e.modelIndex];return this.scalePerModel[e.modelIndex](t[e.chainname])}}qn([Wn],J6.prototype,"atomColor",null),Bn.add("chainname",J6);class eR extends ni{constructor(e){super(e),this.rsrzDict={},this.rsccDict={},e.scale||(this.parameters.scale="RdYlBu"),this.rsrzScale=this.getScale({domain:[2,0]}),this.rsccScale=this.getScale({domain:[.678,1]});const t=e.structure.validation;t&&(this.rsrzDict=t.rsrzDict,this.rsccDict=t.rsccDict)}atomColor(e){let t=e.resno+"";e.inscode&&(t+="^"+e.inscode),e.chainname&&(t+=":"+e.chainname),t+="/"+e.modelIndex;const n=this.rsrzDict[t];if(n!==void 0)return this.rsrzScale(n);const r=this.rsccDict[t];return r!==void 0?this.rsccScale(r):9474192}}qn([Wn],eR.prototype,"atomColor",null),Bn.add("densityfit",eR);const cw={ARG:{CD:.1,CZ:.5,NE:-.1},ASN:{CG:.55,OD1:-.55},ASP:{CB:-.16,CG:.36,OD1:-.6,OD2:-.6},CYS:{CB:.19,SG:-.19},GLN:{CD:.55,OE1:-.55},GLU:{CD:.36,CG:-.16,OE1:-.6,OE2:-.6},HIS:{CB:.1,CD2:.2,CE1:.45,CG:.15,ND1:.05,NE2:.05},LYS:{CE:.25,NZ:.75},MET:{CE:.06,CG:.06,SD:-.12},PTR:{C:.55,CA:.1,CZ:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SEP:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SER:{CB:.25,OG:-.25},THR:{CB:.25,OG1:-.25},TPO:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,OG1:-1.1,O1P:-.85,O2P:-.85,O3P:-.85,P:1.4},TRP:{CD1:.06,CD2:.1,CE2:-.04,CE3:-.03,CG:-.03,NE1:-.06},TYR:{CZ:.25,OH:-.25},backbone:{C:.55,O:-.55,N:-.35,CA:.1}};class tR extends ni{constructor(e){super(e),this.delta=new ne,this.hCharges=[],e.scale||(this.parameters.scale="rwb"),e.domain||(this.parameters.domain=[-50,50]),this.scale=this.getScale(),this.charges=new Float32Array(e.structure.atomCount);const t=[];e.structure.eachAtom(r=>{var s;if(this.charges[r.index]=((s=r).partialCharge!==null?s.partialCharge:s.isProtein()&&(cw[s.resname]&&cw[s.resname][s.atomname]||cw.backbone[s.atomname])||0)*r.occupancy,r.atomname==="N"){if(r.bondCount>=3||r.bondToElementCount(1))return;const a=function(o,A=new ne){let c=!1,l=!1,u=!1;return A.set(2*o.x,2*o.y,2*o.z),o.eachBondedAtom(function(d){if(!c)return d.atomname==="H"?(A.set(d.x,d.y,d.z),void(c=!0)):void(l||d.atomname!=="CA"?u||d.atomname!=="C"||(u=!0,A.sub(d)):(A.sub(d),l=!0))}),c?A:l&&u?(A.normalize(),A.multiplyScalar(1.04),A.add(o),A):void 0}(r);a!==void 0&&(t.push(a),this.hCharges.push(.25*r.occupancy))}});const n=e.structure.getBoundingBox();n.expandByScalar(1.04),this.hStore=function(r){const s=r.length,a=new Float32Array(s),o=new Float32Array(s),A=new Float32Array(s);for(let c=0;c<r.length;c++){const l=r[c];a[c]=l.x,o[c]=l.y,A[c]=l.z}return{x:a,y:o,z:A,count:s}}(t),this.hHash=new Nf(this.hStore,n),this.hash=new Nf(e.structure.atomStore,n)}positionColor(e){const t=this.charges,n=this.hCharges;let r=0;return this.hash.eachWithin(e.x,e.y,e.z,12,(s,a)=>{const o=t[s];o!==0&&(r+=o/a)}),this.hHash.eachWithin(e.x,e.y,e.z,12,(s,a)=>{const o=n[s];o!==0&&(r+=o/a)}),this.scale(332*r)}}qn([Wn],tR.prototype,"positionColor",null),Bn.add("electrostatic",tR);const nR={H:16777215,HE:14286847,LI:13402367,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,NE:11789301,NA:11230450,MG:9109248,AL:12560038,SI:1578e4,P:16744448,S:16777008,CL:2093087,AR:8442339,K:9388244,CA:4062976,SC:15132390,TI:12567239,V:10921643,CR:9083335,MN:10255047,FE:14706227,CO:15765664,NI:5296208,CU:13140019,ZN:8224944,GA:12750735,GE:6721423,AS:12419299,SE:16752896,BR:10889513,KR:6076625,RB:7351984,SR:65280,Y:9764863,ZR:9756896,NB:7586505,MO:5551541,TC:3907230,RU:2396047,RH:687500,PD:27013,AG:12632256,CD:16767375,IN:10909043,SN:6717568,SB:10380213,TE:13924864,I:9699476,XE:9699476,CS:5707663,BA:51456,LA:7394559,CE:16777159,PR:14286791,ND:13107143,PM:10747847,SM:9437127,EU:6422471,GD:4587463,TB:3211207,DY:2097095,HO:65436,ER:58997,TM:54354,YB:48952,LU:43812,HF:5096191,TA:5089023,W:2200790,RE:2522539,OS:2516630,IR:1528967,PT:13684960,AU:16765219,HG:12105936,TL:10900557,PB:5724513,BI:10375093,PO:11230208,AT:7688005,RN:4358806,FR:4325478,RA:32e3,AC:7384058,TH:47871,PA:41471,U:36863,NP:33023,PU:27647,AM:5528818,CM:7888099,BK:9064419,CF:10565332,ES:11739092,FM:11739066,MD:11734438,NO:12389767,LR:13041766,RF:13369433,DB:13697103,SG:14221381,BH:14680120,HS:15073326,MT:15400998,DS:16777215,RG:16777215,CN:16777215,UUT:16777215,FL:16777215,UUP:16777215,LV:16777215,UUH:16777215,D:16777152,T:16777120};class iR extends ni{constructor(e){e.value=W(e.value,nR.C),super(e)}atomColor(e){const t=e.element;return t==="C"?this.parameters.value:nR[t]||16777215}}qn([Wn],iR.prototype,"atomColor",null),Bn.add("element",iR);class rR extends ni{constructor(e){super(e),e.scale||(this.parameters.scale="Spectral"),e.domain||(this.parameters.domain=[0,e.structure.entityList.length-1]),this.entityindexScale=this.getScale()}atomColor(e){return this.entityindexScale(e.entityIndex)}}qn([Wn],rR.prototype,"atomColor",null),Bn.add("entityindex",rR);class sR extends ni{atomColor(e){const t=e.entity;switch(t?t.entityType:void 0){case 1:return 8374655;case 2:return 16629894;case 3:return 12496596;case 4:return 3697840;default:return 16777113}}}qn([Wn],sR.prototype,"atomColor",null),Bn.add("entitytype",sR);class aR extends ni{constructor(e){super(e),this.geoAtomDict={},this.geoDict={};const t=e.structure.validation;t&&(this.geoAtomDict=t.geoAtomDict,this.geoDict=t.geoDict)}atomColor(e){let t,n=e.resno+"";e.inscode&&(n+="^"+e.inscode),e.chainname&&(n+=":"+e.chainname),n+="/"+e.modelIndex;const r=this.geoAtomDict[n];r!==void 0?(s=r[e.atomname]||0,t=16843009*((s=(858993459&(s-=s>>1&1431655765))+(s>>2&858993459))+(s>>4)&252645135)>>24):t=this.geoDict[n]||0;var s;return t===0?2188972:t===1?16703627:t===2?16018755:t>=3?10813478:9474192}}qn([Wn],aR.prototype,"atomColor",null),Bn.add("geoquality",aR);class oR extends ni{constructor(e){super(e),this.resHF={},e.scale||(this.parameters.scale="RdYlGn");for(const t in B6)this.resHF[t]=B6[t][0];if(this.defaultResidueHydrophobicity=Cae[0],!e.domain){let t=1/0,n=-1/0;for(const r in this.resHF){const s=this.resHF[r];t=Math.min(t,s),n=Math.max(n,s)}this.parameters.domain=[t,0,n]}this.hfScale=this.getScale()}atomColor(e){return this.hfScale(this.resHF[e.resname]||this.defaultResidueHydrophobicity)}}qn([Wn],oR.prototype,"atomColor",null),Bn.add("hydrophobicity",oR);class AR extends ni{constructor(e){super(e),e.scale||(this.parameters.scale="rainbow"),e.domain||(this.parameters.domain=[0,e.structure.modelStore.count]),this.modelindexScale=this.getScale()}atomColor(e){return this.modelindexScale(e.modelIndex)}}qn([Wn],AR.prototype,"atomColor",null),Bn.add("modelindex",AR);class cR extends ni{atomColor(e){switch(e.residueType.moleculeType){case 1:return 3697840;case 2:return 15729279;case 3:return 12496596;case 4:return 16629894;case 5:return 12540695;case 6:return 8374655;default:return 16777113}}}qn([Wn],cR.prototype,"atomColor",null),Bn.add("moleculetype",cR);class lR extends ni{constructor(e){super(e),e.scale||(this.parameters.scale="PuBu"),e.domain||(this.parameters.domain=[0,1]),this.occupancyScale=this.getScale()}atomColor(e){return this.occupancyScale(e.occupancy)}}qn([Wn],lR.prototype,"atomColor",null),Bn.add("occupancy",lR);class uR extends ni{constructor(e){super(e),e.scale||(this.parameters.scale="rwb"),e.domain||(this.parameters.domain=[-1,1]),this.partialchargeScale=this.getScale()}atomColor(e){return this.partialchargeScale(e.partialCharge||0)}}function lw(){return 16777215*Math.random()}qn([Wn],uR.prototype,"atomColor",null),Bn.add("partialcharge",uR);class c1 extends ni{atomColor(){return lw()}volumeColor(){return lw()}positionColor(){return lw()}}qn([Wn],c1.prototype,"atomColor",null),qn([Wn],c1.prototype,"volumeColor",null),qn([Wn],c1.prototype,"positionColor",null),Bn.add("random",c1);class dR extends ni{constructor(e){super(e),this.rciDict={},e.scale||(this.parameters.scale="RdYlBu"),this.rciScale=this.getScale({domain:[.6,0]});const t=e.structure.validation;t&&(this.rciDict=t.rciDict)}atomColor(e){let t=`[${e.resname}]${e.resno}`;e.chainname&&(t+=":"+e.chainname);const n=this.rciDict[t];return n!==void 0?this.rciScale(n):9474192}}qn([Wn],dR.prototype,"atomColor",null),Bn.add("randomcoilindex",dR);class fR extends ni{constructor(e){super(e),this.scalePerChain={},e.scale||(this.parameters.scale="rainbow",this.parameters.reverse=W(e.reverse,!0)),e.structure.eachChain(t=>{this.parameters.domain=[t.residueOffset,t.residueEnd],this.scalePerChain[t.index]=this.getScale()})}atomColor(e){return this.scalePerChain[e.chainIndex](e.residueIndex)}}qn([Wn],fR.prototype,"atomColor",null),Bn.add("residueindex",fR);const UAe={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935,ASH:16711935,GLH:16711935,A:14423100,G:3329330,I:10145074,X:8190976,C:16766720,T:4286945,U:4251856,D:35723,DA:14423100,DG:3329330,DI:10145074,DX:8190976,DC:16766720,DT:4286945,DU:4251856,DD:35723};class hR extends ni{atomColor(e){return UAe[e.resname]||16711935}}qn([Wn],hR.prototype,"atomColor",null),Bn.add("resname",hR);const PAe=16711808,LAe=10485888,DAe=6291584,kAe=16762880,OAe=6324479,QAe=16777215,HAe=11403518,zAe=16580962,VAe=10921722;class pR extends ni{constructor(e){super(e),this.residueProxy=e.structure.getResidueProxy()}atomColor(e){const t=e.sstruc,n=this.residueProxy;return t==="h"?PAe:t==="g"?LAe:t==="i"?DAe:t==="e"||t==="b"?kAe:t==="t"?OAe:(n.index=e.residueIndex,n.isDna()?HAe:n.isRna()?zAe:n.isSaccharide()?VAe:n.isProtein()||t==="s"||t==="l"?QAe:8421504)}}qn([Wn],pR.prototype,"atomColor",null),Bn.add("sstruc",pR);class uw extends ni{constructor(e){var t,n;super(e),e.scale||(this.parameters.scale="rwb"),this.atomData=(t=this.parameters.data)===null||t===void 0?void 0:t.atomData,this.bondData=(n=this.parameters.data)===null||n===void 0?void 0:n.bondData,this.scale=this.getScale(this.parameters)}atomColor(e){var t;const n=(t=this.atomData)===null||t===void 0?void 0:t[e.index];return n!==void 0?this.scale(n):this.parameters.value}bondColor(e,t){var n;const r=(n=this.bondData)===null||n===void 0?void 0:n[e.index];return r!==void 0?this.scale(r):this.atomProxy?(this.atomProxy.index=t?e.atomIndex1:e.atomIndex2,this.atomColor(this.atomProxy)):this.parameters.value}}qn([Wn],uw.prototype,"atomColor",null),qn([Wn],uw.prototype,"bondColor",null),Bn.add("structuredata",uw);class dd extends ni{atomColor(){return this.parameters.value}bondColor(){return this.parameters.value}valueColor(){return this.parameters.value}volumeColor(){return this.parameters.value}}qn([Wn],dd.prototype,"atomColor",null),qn([Wn],dd.prototype,"bondColor",null),qn([Wn],dd.prototype,"valueColor",null),qn([Wn],dd.prototype,"volumeColor",null),Bn.add("uniform",dd);class mR extends ni{constructor(e){super(e),this.valueScale=this.getScale()}volumeColor(e){return this.valueScale(this.parameters.volume.data[e])}}qn([Wn],mR.prototype,"volumeColor",null),Bn.add("value",mR);class gR extends ni{constructor(e){super(e),this.vec=new ne,this.valueScale=this.getScale()}positionColor(e){const t=this.parameters.volume;if(!t||!t.inverseMatrix)return this.parameters.value;const n=this.vec,r=t.data,s=t.nx,a=t.ny,o=s*a;n.copy(e),n.applyMatrix4(t.inverseMatrix);const A=Math.floor(n.x),c=Math.floor(n.y),l=Math.floor(n.z),u=(l*a+c)*s+A,d=u+1,h=u+s,m=u+o,y=h+1,g=m+1,E=h+o,R=E+1,p=r[u],w=r[d],v=r[h],_=r[m],x=r[y],C=r[g],B=r[E],G=r[R],I=n.x-A,N=n.y-c,T=n.z-l,M=Js(p,w,I),U=Js(_,C,I),z=Js(v,x,I),L=Js(B,G,I),k=Js(M,z,N),K=Js(U,L,N),V=Js(k,K,T);return this.valueScale(V)}}qn([Wn],gR.prototype,"positionColor",null),Bn.add("volume",gR);class br extends jf{constructor(e,t,n){const r=n||{};if(super(e,t,r),this.type="structure",this.parameters=Object.assign({radiusType:{type:"select",options:yA.types},radiusData:{type:"hidden"},radiusSize:{type:"number",precision:3,max:10,min:.001},radiusScale:{type:"number",precision:3,max:10,min:.001},assembly:null,defaultAssembly:{type:"hidden"}},this.parameters),this.selection=new ui(r.sele),this.dataList=[],this.structure=e,this.structureView=this.structure.getView(this.selection),e.biomolDict){const s={default:"default","":e.unitcell?"AU":"FULL"};Object.keys(e.biomolDict).forEach(function(a){s[a]=a}),this.parameters.assembly={type:"select",options:s,rebuild:!0}}else this.parameters.assembly=null}get defaultScale(){return{vdw:1,covalent:1,bfactor:.01,sstruc:1}}init(e){const t=e||{};t.colorScheme=W(t.colorScheme,"element"),this.setRadius(t.radius,t),this.radiusType=W(t.radiusType,"vdw"),this.radiusData=W(t.radiusData,{}),this.radiusSize=W(t.radiusSize,1),this.radiusScale=W(t.radiusScale,1),this.assembly=W(t.assembly,"default"),this.defaultAssembly=W(t.defaultAssembly,""),t.quality==="auto"&&(t.quality=this.getQuality()),super.init(t),this.selection.signals.stringChanged.add(()=>{this.build()}),this.build()}setRadius(e,t){const n=Object.keys(rT);return typeof e=="string"&&n.includes(e.toLowerCase())?t.radiusType=e:e!==void 0&&(t.radiusType="size",t.radiusSize=e),this}getAssembly(){const e=this.assembly==="default"?this.defaultAssembly:this.assembly;return this.structure.biomolDict[e]}getQuality(){let e;const t=this.structureView,n=this.getAssembly();return e=n?n.getAtomCount(t):t.atomCount,BM&&(e*=4),t.atomStore.count/t.residueStore.count<2&&(e*=10),e<15e3?"high":e<8e4?"medium":"low"}create(){if(this.structureView.atomCount===0)return;if(!this.structureView.hasCoords())return void(this.needsBuild=!0);this.needsBuild=!1;const e=this.getAssembly();if(e)e.partList.forEach((t,n)=>{const r=t.getView(this.structureView);if(r.atomCount===0)return;const s=this.createData(r,n);s&&(s.sview=r,s.instanceList=t.getInstanceList(),this.dataList.push(s))});else{const t=this.createData(this.structureView,0);t&&(t.sview=this.structureView,this.dataList.push(t))}}update(e){!this.lazy||this.visible?this.needsBuild?this.build():this.dataList.forEach(t=>{t.bufferList.length>0&&this.updateData(e,t)},this):Object.assign(this.lazyProps.what,e)}updateData(e,t){this.build()}getColorParams(){return Object.assign(Object.assign({},super.getColorParams()),{structure:this.structure})}getRadiusParams(e){return{type:this.radiusType,scale:this.radiusScale,size:this.radiusSize,data:this.radiusData}}getAtomParams(e,t){return Object.assign({what:e,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},t)}getBondParams(e,t){return Object.assign({what:e,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},t)}getAtomRadius(e){return this.structureView.atomSet.isSet(e.index)?new yA(this.getRadiusParams()).atomRadius(e):0}setSelection(e,t){return this.selection.setString(e,t),this}setParameters(e,t={},n=!1){const r=e||{};return this.setRadius(r.radius,r),r.radiusType===void 0&&r.radiusData===void 0&&r.radiusSize===void 0&&r.radiusScale===void 0||(t.radius=!0,Ao&&!this.disableImpostor||(n=!0)),r.defaultAssembly!==void 0&&r.defaultAssembly!==this.defaultAssembly&&(this.assembly==="default"&&r.assembly===void 0||r.assembly==="default")&&(n=!0),super.setParameters(r,t,n),this}getParameters(){return Object.assign(super.getParameters(),{sele:this.selection?this.selection.string:void 0,defaultAssembly:this.defaultAssembly})}attach(e){const t=this.viewer,n=this.bufferList;this.dataList.forEach(function(r){r.bufferList.forEach(function(s){n.push(s),t.add(s,r.instanceList)})}),this.setVisibility(this.visible),e()}clear(){this.dataList.length=0,super.clear()}dispose(){this.structureView.dispose(),super.dispose()}}class v4 extends br{constructor(e,t,n){super(e,t,n),this.n=0,this.parameters=Object.assign({labelVisible:{type:"boolean"},labelSize:{type:"number",precision:3,max:10,min:.001},labelColor:{type:"color"},labelFontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:"fontFamily"},labelFontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:"fontStyle"},labelFontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:"fontWeight"},labelsdf:{type:"boolean",buffer:"sdf"},labelXOffset:{type:"number",precision:1,max:20,min:-20,buffer:"xOffset"},labelYOffset:{type:"number",precision:1,max:20,min:-20,buffer:"yOffset"},labelZOffset:{type:"number",precision:1,max:20,min:-20,buffer:"zOffset"},labelAttachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},labelBorder:{type:"boolean",buffer:"showBorder"},labelBorderColor:{type:"color",buffer:"borderColor"},labelBorderWidth:{type:"number",precision:2,max:.3,min:0,buffer:"borderWidth"},labelBackground:{type:"boolean",rebuild:!0},labelBackgroundColor:{type:"color",buffer:"backgroundColor"},labelBackgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},labelBackgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:"backgroundOpacity"},labelFixedSize:{type:"boolean",buffer:"fixedSize"},lineOpacity:{type:"range",min:0,max:1,step:.01},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters,{flatShaded:null})}init(e){const t=e||{};this.labelVisible=W(t.labelVisible,!0),this.labelSize=W(t.labelSize,2),this.labelColor=W(t.labelColor,16777215),this.labelFontFamily=W(t.labelFontFamily,"sans-serif"),this.labelFontStyle=W(t.labelFontstyle,"normal"),this.labelFontWeight=W(t.labelFontWeight,"bold"),this.labelsdf=W(t.labelsdf,xM==="Chrome"),this.labelXOffset=W(t.labelXOffset,0),this.labelYOffset=W(t.labelYOffset,0),this.labelZOffset=W(t.labelZOffset,.5),this.labelAttachment=W(t.labelAttachment,"bottom-left"),this.labelBorder=W(t.labelBorder,!1),this.labelBorderColor=W(t.labelBorderColor,"lightgrey"),this.labelBorderWidth=W(t.labelBorderWidth,.15),this.labelBackground=W(t.labelBackground,!1),this.labelBackgroundColor=W(t.labelBackgroundColor,"lightgrey"),this.labelBackgroundMargin=W(t.labelBackgroundMargin,.5),this.labelBackgroundOpacity=W(t.labelBackgroundOpacity,1),this.labelFixedSize=W(t.labelFixedSize,!1),this.lineOpacity=W(t.lineOpacity,1),this.linewidth=W(t.linewidth,2),super.init(t)}update(e){e.position?this.build():super.update(e)}updateData(e,t){const n={};if(e&&!e.labelSize||Object.assign(n,{size:Ts(this.n,this.labelSize)}),!e||e.labelColor){const r=new $t(this.labelColor);Object.assign(n,{color:ei(this.n,r.r,r.g,r.b)})}this.textBuffer.setAttributes(n)}setParameters(e,t={},n=!1){return e&&e.labelSize&&(t.labelSize=!0),e&&(e.labelColor||e.labelColor===0)&&(t.labelColor=!0,n=!0),super.setParameters(e,t,n),e&&e.opacity!==void 0&&this.textBuffer.setParameters({opacity:1}),e&&e.labelVisible!==void 0&&this.setVisibility(this.visible),this}setVisibility(e,t){return super.setVisibility(e,!0),this.textBuffer&&this.textBuffer.setVisibility(this.labelVisible&&this.visible),t||this.viewer.requestRender(),this}getLabelBufferParams(e={}){return super.getBufferParams(Object.assign({fontFamily:this.labelFontFamily,fontStyle:this.labelFontStyle,fontWeight:this.labelFontWeight,sdf:this.labelsdf,xOffset:this.labelXOffset,yOffset:this.labelYOffset,zOffset:this.labelZOffset,attachment:this.labelAttachment,showBorder:this.labelBorder,borderColor:this.labelBorderColor,borderWidth:this.labelBorderWidth,showBackground:this.labelBackground,backgroundColor:this.labelBackgroundColor,backgroundMargin:this.labelBackgroundMargin,backgroundOpacity:this.labelBackgroundOpacity,fixedSize:this.labelFixedSize,disablePicking:!0,visible:this.labelVisible},e,{opacity:1}))}getAtomRadius(){return 0}}function x4(i,e){const t=i.getAtomProxy(),n=new ui,r=e.length;if(r===0)return new Float32Array(0);const s=e[0].length,a=i.getAtomSet(),o=new Float32Array(r*s*3);let A=0;return e.forEach(function(c){let l=!1;for(let u=0;u<s;u++){const d=c[u];if(typeof d=="number"&&Number.isInteger(d)){if(!a.get(d)){l=!0;break}t.index=d}else{n.setString(d);const m=i.getAtomIndices(n);if(!m.length){l=!0;break}t.index=m[0]}let h=A+3*u;o[h++]=t.x,o[h++]=t.y,o[h++]=t.z}l||(A+=3*s)}),o.subarray(0,A)}function Sa(i,e,t,n,r){const s=Math.cos(r),a=Math.sin(r);i[0]=e[0]+t[0]*s+n[0]*a,i[1]=e[1]+t[1]*s+n[1]*a,i[2]=e[2]+t[2]*s+n[2]*a}function yR(i,e,t,n,r,s,a){for(let o=0;o<e;o++){for(let A=0;A<t;A++)n[A]=i[A*e+o];wR(n,r,s,a,t);for(let A=0;A<t;A++)i[A*e+o]=r[A]}for(let o=0;o<t;o++){for(let A=0;A<e;A++)n[A]=i[o*e+A];wR(n,r,s,a,e);for(let A=0;A<e;A++)i[o*e+A]=Math.sqrt(r[A])}}function wR(i,e,t,n,r){t[0]=0,n[0]=Number.MIN_SAFE_INTEGER,n[1]=Number.MAX_SAFE_INTEGER;for(let s=1,a=0;s<r;s++){let o=(i[s]+s*s-(i[t[a]]+t[a]*t[a]))/(2*s-2*t[a]);for(;o<=n[a];)a--,o=(i[s]+s*s-(i[t[a]]+t[a]*t[a]))/(2*s-2*t[a]);a++,t[a]=s,n[a]=o,n[a+1]=Number.MAX_SAFE_INTEGER}for(let s=0,a=0;s<r;s++){for(;n[a+1]<s;)a++;e[s]=(s-t[a])*(s-t[a])+i[t[a]]}}kn.add("shader/SDFFont.vert",`uniform float clipNear;
uniform float clipRadius;
uniform vec3 clipCenter;
uniform float xOffset;
uniform float yOffset;
uniform float zOffset;
uniform bool ortho;
uniform float canvasHeight;
uniform float pixelRatio;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
varying vec2 texCoord;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#endif
attribute vec2 mapping;
attribute vec2 inputTexCoord;
attribute float inputSize;
#include matrix_scale
#include common
void main(void){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
texCoord = inputTexCoord;
float scale = matrixScale( modelViewMatrix );
float _xOffset = xOffset * scale;
float _yOffset = yOffset * scale;
float _zOffset = zOffset * scale;
if( texCoord.x == 10.0 ){
_zOffset -= 0.001;
}
vec4 cameraPos = modelViewMatrix * vec4( position, 1.0 );
#ifdef FIXED_SIZE
if ( ortho ) {
scale /= pixelRatio * (( canvasHeight / 2.0 ) / -cameraPosition.z) * 0.1;
} else {
scale /= pixelRatio * (( canvasHeight / 2.0 ) / -cameraPos.z) * 0.1;
}
#endif
vec4 cameraCornerPos = vec4( cameraPos.xyz, 1.0 );
cameraCornerPos.xy += mapping * inputSize * 0.01 * scale;
cameraCornerPos.x += _xOffset;
cameraCornerPos.y += _yOffset;
if( ortho ){
cameraCornerPos.xyz += normalize( -cameraPosition ) * _zOffset;
} else {
cameraCornerPos.xyz += normalize( -cameraCornerPos.xyz ) * _zOffset;
}
gl_Position = projectionMatrix * cameraCornerPos;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
vViewPosition = -cameraCornerPos.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
#include radiusclip_vertex
}`),kn.add("shader/SDFFont.frag",`uniform sampler2D fontTexture;
uniform float opacity;
uniform bool showBorder;
uniform vec3 borderColor;
uniform float borderWidth;
uniform vec3 backgroundColor;
uniform float backgroundOpacity;
uniform float clipNear;
uniform float clipRadius;
varying vec3 vViewPosition;
varying vec2 texCoord;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
const vec3 vColor = vec3( 0.0 );
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
#endif
const float gamma = 2.2 * 1.4142 / 128.0;
const float padding = 0.75;
void main(){
#include nearclip_fragment
#include radiusclip_fragment
if( texCoord.x > 1.0 ){
gl_FragColor = vec4( backgroundColor, backgroundOpacity );
}else{
float sdf = texture2D( fontTexture, texCoord ).a;
if( showBorder ) sdf += borderWidth;
float a = smoothstep(padding - gamma, padding + gamma, sdf);
if( a < 0.2 ) discard;
a *= opacity;
vec3 outgoingLight = vColor;
if( showBorder && sdf < ( padding + borderWidth ) ){
outgoingLight = borderColor;
}
gl_FragColor = vec4( outgoingLight, a );
}
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include colorspace_fragment
#include fog_fragment
#endif
}`);const dw={},KAe={font:"sans-serif",size:36,style:"normal",variant:"normal",weight:"normal",outline:3,width:1024,height:1024};class $Ae{constructor(e={}){this.gamma=1,this.mapped={},this.scratchW=0,this.scratchH=0,this.currentX=0,this.currentY=0,this.cutoff=.25,this.parameters=Ms(e,KAe);const t=this.parameters;this.radius=t.size/8,this.padding=t.size/3;const n=this.lineHeight=t.size+2*t.outline+Math.round(t.size/4),r=this.maxWidth=t.width/4,s=this.canvas=document.createElement("canvas");s.width=r,s.height=n;const a=this.context=this.canvas.getContext("2d",{willReadFrequently:!0});a.font=`${t.style} ${t.variant} ${t.weight} ${t.size}px ${t.font}`,a.fillStyle="black",a.textAlign="left",a.textBaseline="bottom",a.lineJoin="round",this.gridOuter=new Float64Array(n*r),this.gridInner=new Float64Array(n*r),this.f=new Float64Array(Math.max(n,r)),this.d=new Float64Array(Math.max(n,r)),this.z=new Float64Array(Math.max(n,r)+1),this.v=new Int16Array(Math.max(n,r)),this.data=new Uint8Array(t.width*t.height*4),this.canvas2=document.createElement("canvas"),this.canvas2.width=t.width,this.canvas2.height=t.height,this.context2=this.canvas2.getContext("2d"),this.placeholder=this.map(String.fromCharCode(65533));for(let o=32;o<=126;++o)this.map(String.fromCharCode(o));this.map(String.fromCharCode(176)),this.map(String.fromCharCode(8491)),this.texture=new ose(this.canvas2),this.texture.flipY=!1,this.texture.needsUpdate=!0}map(e){const t=this.parameters;return this.mapped[e]===void 0&&(this.draw(e),this.currentX+this.scratchW>t.width&&(this.currentX=0,this.currentY+=this.scratchH),this.currentY+this.scratchH>t.height&&console.warn("canvas to small"),this.mapped[e]={x:this.currentX,y:this.currentY,w:this.scratchW,h:this.scratchH},this.context2.drawImage(this.canvas,0,0,this.scratchW,this.scratchH,this.currentX,this.currentY,this.scratchW,this.scratchH),this.currentX+=this.scratchW),this.mapped[e]}get(e){return this.mapped[e]||this.placeholder}draw(e){const t=this.parameters,n=this.lineHeight,r=t.outline,s=this.context,a=this.maxWidth,o=r,A=n-t.outline,c=s.measureText(e),l=Math.min(a,Math.ceil(c.width+2*o+1)),u=l*n;s.clearRect(0,0,l,n),s.fillText(e,o,A);const d=s.getImageData(0,0,l,n),h=d.data;for(let m=0;m<u;m++){const y=d.data[4*m+3]/255;this.gridOuter[m]=y===1?0:y===0?Number.MAX_SAFE_INTEGER:Math.pow(Math.max(0,.5-y),2),this.gridInner[m]=y===1?Number.MAX_SAFE_INTEGER:y===0?0:Math.pow(Math.max(0,y-.5),2)}yR(this.gridOuter,l,n,this.f,this.d,this.v,this.z),yR(this.gridInner,l,n,this.f,this.d,this.v,this.z);for(let m=0;m<u;m++){const y=this.gridOuter[m]-this.gridInner[m];h[4*m+3]=Math.max(0,Math.min(255,Math.round(255-255*(y/this.radius+this.cutoff))))}s.putImageData(d,0,0),this.scratchW=l,this.scratchH=n}}const WAe=Object.assign({fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"bold",fontSize:36,xOffset:0,yOffset:0,zOffset:.5,attachment:"bottom-left",showBorder:!1,borderColor:"lightgrey",borderWidth:.15,showBackground:!1,backgroundColor:"lightgrey",backgroundMargin:.5,backgroundOpacity:1,forceTransparent:!0,fixedSize:!1},qr),qAe=Object.assign({fontFamily:{uniform:!0},fontStyle:{uniform:!0},fontWeight:{uniform:!0},fontSize:{uniform:!0},xOffset:{uniform:!0},yOffset:{uniform:!0},zOffset:{uniform:!0},showBorder:{uniform:!0},borderColor:{uniform:!0},borderWidth:{uniform:!0},backgroundColor:{uniform:!0},backgroundOpacity:{uniform:!0},fixedSize:{updateShader:!0}},Gc);function bR(i,e){const t=i.position.length/3;let n=0;for(let r=0;r<t;++r)n+=i.text[r].length;return e.showBackground&&(n+=t),n}class Tu extends b4{constructor(e,t={}){super({position:new Float32Array(3*bR(e,t)),color:new Float32Array(3*bR(e,t)),picking:new noe},t),this.parameterTypes=qAe,this.alwaysTransparent=!0,this.hasWireframe=!1,this.isText=!0,this.vertexShader="SDFFont.vert",this.fragmentShader="SDFFont.frag",this.text=e.text,this.positionCount=e.position.length/3,this.addUniforms({fontTexture:{value:null},xOffset:{value:this.parameters.xOffset},yOffset:{value:this.parameters.yOffset},zOffset:{value:this.parameters.zOffset},ortho:{value:!1},showBorder:{value:this.parameters.showBorder},borderColor:{value:new $t(this.parameters.borderColor)},borderWidth:{value:this.parameters.borderWidth},backgroundColor:{value:new $t(this.parameters.backgroundColor)},backgroundOpacity:{value:this.parameters.backgroundOpacity},canvasHeight:{value:1},pixelRatio:{value:1}}),this.addAttributes({inputTexCoord:{type:"v2",value:null},inputSize:{type:"f",value:null}}),this.setAttributes(e),this.makeTexture(),this.makeMapping()}get defaultParameters(){return WAe}makeMaterial(){super.makeMaterial();const e=this.texture,t=this.material;t.transparent=!0,t.extensions.derivatives=!0,t.lights=!1,t.uniforms.fontTexture.value=e,t.needsUpdate=!0;const n=this.wireframeMaterial;n.transparent=!0,n.extensions.derivatives=!0,n.lights=!1,n.uniforms.fontTexture.value=e,n.needsUpdate=!0;const r=this.pickingMaterial;r.extensions.derivatives=!0,r.lights=!1,r.uniforms.fontTexture.value=e,r.needsUpdate=!0}setAttributes(e={}){let t,n,r,s,a,o;const A=this.text,c=this.geometry.attributes;e.position&&(t=e.position,s=c.position.array,c.position.needsUpdate=!0),e.size&&(n=e.size,a=c.inputSize.array,c.inputSize.needsUpdate=!0),e.color&&(r=e.color,o=c.color.array,c.color.needsUpdate=!0);const l=this.positionCount;let u,d,h,m,y,g=0;for(let E=0;E<l;++E)for(d=3*E,h=A[E],y=h.length,this.parameters.showBackground&&(y+=1),m=0;m<y;++m,++g)for(let R=0;R<4;R++)u=4*g*3+3*R,t&&(s[u]=t[d],s[u+1]=t[d+1],s[u+2]=t[d+2]),n&&(a[4*g+R]=n[E]),r&&(o[u]=r[d],o[u+1]=r[d+1],o[u+2]=r[d+2])}makeTexture(){this.textAtlas=function(e){const t=JSON.stringify(e);return dw[t]===void 0&&(dw[t]=new $Ae(e)),dw[t]}({font:this.parameters.fontFamily,style:this.parameters.fontStyle,weight:this.parameters.fontWeight,size:this.parameters.fontSize}),this.texture=this.textAtlas.texture}makeMapping(){const e=this.textAtlas,t=this.text,n=this.parameters.attachment,r=e.lineHeight*this.parameters.backgroundMargin*.1-10,s=this.geometry.attributes,a=s.inputTexCoord.array,o=s.mapping.array,A=this.positionCount;let c,l,u,d,h,m,y,g,E=0;for(let R=0;R<A;++R){for(u=t[R],d=0,m=u.length,h=0;h<m;++h)c=e.get(u[h]),d+=c.w-2*e.parameters.outline;for(g=n.startsWith("top")?e.lineHeight/1.25:n.startsWith("middle")?e.lineHeight/2.5:0,y=n.endsWith("right")?d:n.endsWith("center")?d/2:0,y+=e.parameters.outline,g+=e.parameters.outline,this.parameters.showBackground&&(l=2*E*4,o[l+0]=-e.lineHeight/6-y-r,o[l+1]=e.lineHeight-g+r,o[l+2]=-e.lineHeight/6-y-r,o[l+3]=0-g-r,o[l+4]=d+e.lineHeight/6-y+2*e.parameters.outline+r,o[l+5]=e.lineHeight-g+r,o[l+6]=d+e.lineHeight/6-y+2*e.parameters.outline+r,o[l+7]=0-g-r,a[l+0]=10,a[l+2]=10,a[l+4]=10,a[l+6]=10,E+=1),d=0,h=0;h<m;++h,++E){c=e.get(u[h]),l=2*E*4,o[l+0]=d-y,o[l+1]=c.h-g,o[l+2]=d-y,o[l+3]=0-g,o[l+4]=d+c.w-y,o[l+5]=c.h-g,o[l+6]=d+c.w-y,o[l+7]=0-g;const p=e.parameters.width,w=e.parameters.height,v=[c.x/p,c.y/w,c.x/p,(c.y+c.h)/w,(c.x+c.w)/p,c.y/w,(c.x+c.w)/p,(c.y+c.h)/w];a.set(v,l),d+=c.w-2*e.parameters.outline}}s.inputTexCoord.needsUpdate=!0,s.mapping.needsUpdate=!0}getDefines(e){const t=super.getDefines(e);return this.parameters.fixedSize&&(t.FIXED_SIZE=1),t}setUniforms(e){!e||e.fontFamily===void 0&&e.fontStyle===void 0&&e.fontWeight===void 0&&e.fontSize===void 0||(this.makeTexture(),this.makeMapping(),this.texture.needsUpdate=!0,e.fontTexture=this.texture),super.setUniforms(e)}}Fs.add("text",Tu),kn.add("shader/WideLine.vert",`
uniform float clipNear;
uniform vec3 clipCenter;
uniform float linewidth;
uniform vec2 resolution;
uniform mat4 projectionMatrixInverse;
attribute vec2 mapping;
attribute vec3 position1;
attribute vec3 position2;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor;
varying vec3 vColor2;
varying float flag;
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
void trimSegment( const in vec4 start, inout vec4 end ) {
float a = projectionMatrix[ 2 ][ 2 ]; float b = projectionMatrix[ 3 ][ 2 ]; float nearEstimate = - 0.5 * b / a;
float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );
end.xyz = mix( start.xyz, end.xyz, alpha );
}
void main() {
float aspect = resolution.x / resolution.y;
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
flag = mapping.y;
vColor = color;
vColor2 = color2;
#endif
vec4 start = modelViewMatrix * vec4( position1, 1.0 );
vec4 end = modelViewMatrix * vec4( position2, 1.0 );
bool perspective = ( projectionMatrix[ 2 ][ 3 ] == -1.0 ); if ( perspective ) {
if ( start.z < 0.0 && end.z >= 0.0 ) {
trimSegment( start, end );
} else if ( end.z < 0.0 && start.z >= 0.0 ) {
trimSegment( end, start );
}
}
vec4 clipStart = projectionMatrix * start;
vec4 clipEnd = projectionMatrix * end;
vec2 ndcStart = clipStart.xy / clipStart.w;
vec2 ndcEnd = clipEnd.xy / clipEnd.w;
vec2 dir = ndcEnd - ndcStart;
dir.x *= aspect;
dir = normalize( dir );
vec2 offset = vec2( dir.y, - dir.x );
dir.x /= aspect;
offset.x /= aspect;
if ( mapping.x < 0.0 ) offset *= - 1.0;
offset *= linewidth;
offset /= resolution.y;
vec4 clip = ( mapping.y < 0.5 ) ? clipStart : clipEnd;
offset *= clip.w;
clip.xy += offset;
gl_Position = clip;
#ifndef PICKING
vViewPosition = ( projectionMatrixInverse * clip ).xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),kn.add("shader/WideLine.frag",`uniform vec3 diffuse;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include fog_pars_fragment
varying vec3 vViewPosition;
varying vec3 vColor;
varying vec3 vColor2;
varying float flag;
#endif
void main() {
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 outgoingLight = vec3( 0.0 );
vec4 diffuseColor = vec4( diffuse, 1.0 );
if ( flag < 0.0 ) {
diffuseColor.rgb *= vColor;
} else {
diffuseColor.rgb *= vColor2;
}
#include alphatest_fragment
outgoingLight = diffuseColor.rgb;
gl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include colorspace_fragment
#include fog_fragment
#endif
}`);const YAe=Object.assign({linewidth:2},qr),XAe=Object.assign({linewidth:{uniform:!0}},Gc);class wA extends b4{constructor(e,t={}){super(e,t),this.parameterTypes=XAe,this.vertexShader="WideLine.vert",this.fragmentShader="WideLine.frag",!e.color2&&e.color&&(e.color2=e.color),this.addUniforms({linewidth:{value:this.parameters.linewidth},resolution:{value:new bn},projectionMatrixInverse:{value:new xt}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null}}),this.setAttributes(e),this.makeMapping()}get defaultParameters(){return YAe}setParameters(e){super.setParameters(e)}}Fs.add("wideline",wA);class jAe extends v4{constructor(e,t,n){super(e,t,n),this.type="angle",this.parameters=Object.assign({atomTriple:{type:"hidden",rebuild:!0},vectorVisible:{type:"boolean",default:!0},arcVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(n)}init(e){const t=e||{};t.side=W(t.side,"double"),t.opacity=W(t.opacity,.5),this.atomTriple=W(t.atomTriple,[]),this.arcVisible=W(t.arcVisible,!0),this.sectorVisible=W(t.sectorVisible,!0),this.vectorVisible=W(t.vectorVisible,!0),super.init(t)}createData(e){if(!e.atomCount||!this.atomTriple.length)return;const t=function(o,A){return function(c){const l=[],u=c.length/9;for(let m=0;m<u;m++){let y=!0;for(let g=m;g<m+3;g+=3)c[g]===c[g+3]&&c[g+1]===c[g+4]&&c[g+2]===c[g+5]&&(y=!1);y&&l.push(m)}const d=new Float32Array(9*l.length);let h=0;return l.forEach(function(m){Yi(c,d,9*m,9*h,9),h++}),d}(x4(o,A))}(e,this.atomTriple),n=function(o,A={}){const c=W(A.angleStep,Math.PI/90),l=o.length/9,u=new Float32Array(l),d=new Float32Array(3*l),h=new Array(l),m=new Float32Array(6*l),y=new Float32Array(6*l),g=new Array(l),E=new Array(l),R=new Array(l);let p=0;const w=hn(),v=hn(),_=hn(),x=hn(),C=hn(),B=hn(),G=hn(),I=hn(),N=hn();for(var T=0;T<l;T++){let D=9*T;Qr(w,o,D),Qr(v,o,D+3),Qr(_,o,D+6);let H=6*T;gn(w,m,H),gn(v,y,H),gn(v,m,H+3),gn(_,y,H+3),xi(x,w,v),xi(C,_,v),Ni(x,x),Ni(C,C),ds(B,x,C);const oe=A0(B),Ae=ns(x,C),ee=u[T]=Math.atan2(oe,Ae);h[T]=(TM*ee).toFixed(1)+String.fromCharCode(176),A0(B)===0&&(B[0]=1,B[1]=0,B[2]=0),ds(G,B,x),Ni(G,G),Sa(I,v,x,G,ee/2),gn(I,d,3*T);const se=Math.ceil(ee/c),le=new Float32Array(9*se);R[T]=le;const J=new Float32Array(3*se),me=new Float32Array(3*se);g[T]=J,E[T]=me,Ta(N,v,x);const ue=function(fe,we){const Fe=9*we,je=3*we;gn(v,le,Fe),gn(N,le,Fe+3),gn(N,J,je),Sa(N,v,x,G,fe),gn(N,le,Fe+6),gn(N,me,je)};let ge=0;for(let fe=c;fe<ee;fe+=c)ue(fe,ge),ge++;ue(ee,ge),p+=se}const M=3*p,U=9*p,z=new Float32Array(M),L=new Float32Array(M),k=new Float32Array(U);let K=0,V=0;for(let D=0;D<l;D++){const H=g[D],oe=E[D];Yi(H,z,0,V,H.length),Yi(oe,L,0,V,oe.length),V+=H.length;const Ae=R[D];Yi(Ae,k,0,K,Ae.length),K+=Ae.length}return{labelPosition:d,labelText:h,vectorPosition1:m,vectorPosition2:y,arcPosition1:z,arcPosition2:L,sectorPosition:k}}(t),r=this.n=n.labelPosition.length/3,s=new $t(this.labelColor);this.textBuffer=new Tu({position:n.labelPosition,size:Ts(r,this.labelSize),color:ei(r,s.r,s.g,s.b),text:n.labelText},this.getLabelBufferParams());const a=new $t(this.colorValue);return this.vectorBuffer=new wA(vE({position1:n.vectorPosition1,position2:n.vectorPosition2,color:ei(2*r,a.r,a.g,a.b),color2:ei(2*r,a.r,a.g,a.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.vectorVisible,opacity:this.lineOpacity})),this.arcLength=n.arcPosition1.length/3,this.arcBuffer=new wA(vE({position1:n.arcPosition1,position2:n.arcPosition2,color:ei(this.arcLength,a.r,a.g,a.b),color2:ei(this.arcLength,a.r,a.g,a.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.arcVisible,opacity:this.lineOpacity})),this.sectorLength=n.sectorPosition.length/3,this.sectorBuffer=new gA({position:n.sectorPosition,color:ei(this.sectorLength,a.r,a.g,a.b)},this.getBufferParams({visible:this.sectorVisible})),{bufferList:[this.textBuffer,this.vectorBuffer,this.arcBuffer,this.sectorBuffer]}}updateData(e,t){super.updateData(e,t);const n={},r={},s={};if(e.color){const a=new $t(this.colorValue);Object.assign(n,{color:ei(2*this.n,a.r,a.g,a.b),color2:ei(2*this.n,a.r,a.g,a.b)}),Object.assign(r,{color:ei(this.arcLength,a.r,a.g,a.b),color2:ei(this.arcLength,a.r,a.g,a.b)}),Object.assign(s,{color:ei(this.sectorLength,a.r,a.g,a.b)})}this.vectorBuffer.setAttributes(n),this.arcBuffer.setAttributes(r),this.sectorBuffer.setAttributes(s)}setParameters(e){return super.setParameters(e,{},!1),!e||e.vectorVisible===void 0&&e.arcVisible===void 0&&e.sectorVisible===void 0||this.setVisibility(this.visible),e&&e.lineOpacity&&(this.vectorBuffer.setParameters({opacity:e.lineOpacity}),this.arcBuffer.setParameters({opacity:e.lineOpacity})),e&&e.opacity!==void 0&&(this.vectorBuffer.setParameters({opacity:this.lineOpacity}),this.arcBuffer.setParameters({opacity:this.lineOpacity})),e&&e.linewidth&&(this.vectorBuffer.setParameters({linewidth:e.linewidth}),this.arcBuffer.setParameters({linewidth:e.linewidth})),this}setVisibility(e,t){return super.setVisibility(e,!0),this.vectorBuffer&&this.vectorBuffer.setVisibility(this.vectorVisible&&this.visible),this.arcBuffer&&this.arcBuffer.setVisibility(this.arcVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),t||this.viewer.requestRender(),this}}fi.add("angle",jAe);const ER=new ne,fw=new ne,hw=new ne,ZAe=new ne(0,1,0),R4=Object.assign({radialSegments:1,openEnded:!0},qr);function _R(i={}){const e=W(i.radialSegments,10),t=W(i.openEnded,!0),n=new xt().makeRotationX(Math.PI/2),r=new Hg(1,1,1,e,1,t);return r.applyMatrix4(n),r}class ET extends _0{constructor(e,t={}){super(function(s,a={}){const o=_R(a),A=s.position1.length,c=o.attributes.position.array.length/3,l=A/3,u=new Float32Array(2*l*c);return wE(l,c,0,u),wE(l,c,l*c,u),{position:new Float32Array(2*A),color:new Float32Array(2*A),primitiveId:u,picking:s.picking}}(e,t),t,_R(t)),this.updateNormals=!0;const n=e.position1.length,r=e.radius.length;this.__center=new Float32Array(n),this._position=new Float32Array(2*n),this._color=new Float32Array(2*n),this._from=new Float32Array(2*n),this._to=new Float32Array(2*n),this._radius=new Float32Array(2*r),this.setAttributes(e,!0)}get defaultParameters(){return R4}applyPositionTransform(e,t,n){fw.fromArray(this._from,n),hw.fromArray(this._to,n),e.lookAt(fw,hw,ZAe);const r=this._radius[t];ER.set(r,r,fw.distanceTo(hw)),e.scale(ER)}setAttributes(e={},t){const n={};e.position1&&e.position2&&(co(e.position1,e.position2,this.__center),co(e.position1,this.__center,this._position),co(this.__center,e.position2,this._position,e.position1.length),this._from.set(e.position1),this._from.set(this.__center,e.position1.length),this._to.set(this.__center),this._to.set(e.position2,this.__center.length),n.position=this._position),e.color&&e.color2&&(this._color.set(e.color),this._color.set(e.color2,e.color.length),n.color=this._color),e.radius&&(this._radius.set(e.radius),this._radius.set(e.radius,e.radius.length),n.radius=this._radius),super.setAttributes(n,t)}}kn.add("shader/CylinderImpostor.vert",`
attribute vec3 mapping;
attribute vec3 position1;
attribute vec3 position2;
attribute float radius;
varying vec3 axis;varying vec4 base_radius;varying vec4 end_b;varying vec3 U;varying vec3 V;
varying vec4 w;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor1;
varying vec3 vColor2;
#endif
uniform mat4 modelViewMatrixInverse;
uniform float ortho;
#include matrix_scale
void main(){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
vColor1 = color;
vColor2 = color2;
#endif
base_radius.w = radius * matrixScale( modelViewMatrix );
vec3 center = position;
vec3 dir = normalize( position2 - position1 );
float ext = length( position2 - position1 ) / 2.0;
vec3 cam_dir;
if( ortho == 0.0 ){
cam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 0, 1 ) ).xyz - center;
}else{
cam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 1, 0 ) ).xyz;
}
cam_dir = normalize( cam_dir );
vec3 ldir;
float b = dot( cam_dir, dir );
end_b.w = b;
if( b < 0.0 )
ldir = -ext * dir;
else
ldir = ext * dir;
vec3 left = radius * normalize( cross( cam_dir, ldir ) );
vec3 up = radius * normalize( cross( left, ldir ) );
axis = normalize( normalMatrix * ldir );
U = normalize( normalMatrix * up );
V = normalize( normalMatrix * left );
vec4 base4 = modelViewMatrix * vec4( center - ldir, 1.0 );
base_radius.xyz = base4.xyz / base4.w;
vec4 end4 = modelViewMatrix * vec4( center + ldir, 1.0 );
end_b.xyz = end4.xyz / end4.w;
w = modelViewMatrix * vec4(
center + mapping.x*ldir + mapping.y*left + mapping.z*up, 1.0
);
gl_Position = projectionMatrix * w;
gl_Position.z = 0.99;
}`),kn.add("shader/CylinderImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform mat4 projectionMatrix;
uniform float ortho;
varying vec3 axis;
varying vec4 base_radius;
varying vec4 end_b;
varying vec3 U;
varying vec3 V;
varying vec4 w;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
varying vec3 vColor1;
varying vec3 vColor2;
#include common
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool interior = false;
float distSq3( vec3 v3a, vec3 v3b ){
return (
( v3a.x - v3b.x ) * ( v3a.x - v3b.x ) +
( v3a.y - v3b.y ) * ( v3a.y - v3b.y ) +
( v3a.z - v3b.z ) * ( v3a.z - v3b.z )
);
}
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
float calcClip( vec3 cameraPos ){
return dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
void main(){
vec3 ray_target = w.xyz / w.w;
vec3 base = base_radius.xyz; float vRadius = base_radius.w; vec3 end = end_b.xyz; float b = end_b.w;
vec3 ray_origin = vec3(0.0); vec3 ortho_ray_direction = vec3(0.0, 0.0, 1.0); vec3 persp_ray_direction = normalize(ray_origin - ray_target);
vec3 ray_direction = mix(persp_ray_direction, ortho_ray_direction, ortho);
mat3 basis = mat3( U, V, axis );
vec3 diff = ray_target - 0.5 * (base + end);
vec3 P = diff * basis;
float dz = dot( axis, ray_direction );
float radius2 = vRadius*vRadius;
vec3 D = vec3(dot(U, ray_direction),
dot(V, ray_direction),
dz);
float a0 = P.x*P.x + P.y*P.y - radius2;
float a1 = P.x*D.x + P.y*D.y;
float a2 = D.x*D.x + D.y*D.y;
float d = a1*a1 - a0*a2;
if (d < 0.0) {
discard;
}
float dist = (-a1 + sqrt(d)) / a2;
vec3 surface_point = ray_target + dist * ray_direction;
vec3 base_to_surface = surface_point - base;
vec3 _normal = normalize( base_to_surface - axis * dot(base_to_surface, axis) );
float base_cap_test = dot( base_to_surface, axis );
float end_cap_test = dot((surface_point - end), axis);
#ifndef CAP
vec3 new_point2 = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
vec3 tmp_point2 = new_point2 - base;
#endif
if (base_cap_test < 0.0) {
float dNV;
float near;
vec3 front_point;
if ( ortho == 1.0 ) {
front_point = ray_target;
} else {
dNV = dot(-axis, ray_direction);
near = dot(-axis, (base)) / dNV;
front_point = ray_direction * near + ray_origin;
}
if (dot(front_point - base, front_point-base) > radius2) {
discard;
}
#ifdef CAP
surface_point = front_point;
_normal = axis;
#else
surface_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
dNV = dot(-axis, ray_direction);
near = dot(axis, end) / dNV;
new_point2 = ray_direction * near + ray_origin;
if (dot(new_point2 - end, new_point2-base) < radius2) {
discard;
}
interior = true;
#endif
}
if( end_cap_test > 0.0 )
{
float dNV;
float near;
vec3 end_point;
if ( ortho == 1.0 ) {
end_point = ray_target;
} else {
dNV = dot(axis, ray_direction);
if (dNV < 0.0) {
discard;
}
near = dot(axis, end) / dNV;
end_point = ray_direction * near + ray_origin;
}
if( dot(end_point - end, end_point-base) > radius2 ) {
discard;
}
#ifdef CAP
surface_point = end_point;
_normal = axis;
#else
surface_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
dNV = dot(-axis, ray_direction);
near = dot(-axis, (base)) / dNV;
new_point2 = ray_direction * near + ray_origin;
if (dot(new_point2 - base, new_point2-base) < radius2) {
discard;
}
interior = true;
#endif
}
gl_FragDepthEXT = calcDepth( surface_point );
#ifdef NEAR_CLIP
if( calcClip( surface_point ) > 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
if( calcClip( surface_point ) > 0.0 ) {
discard;
}
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );
}
}else if( gl_FragDepthEXT <= 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
}
#else
if( gl_FragDepthEXT <= 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
}
#endif
if (gl_FragDepthEXT < 0.0) {
discard;
}
if (gl_FragDepthEXT > 1.0) {
discard;
}
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vViewPosition = -surface_point;
vec3 vNormal = _normal;
vec3 vColor;
if( distSq3( surface_point, end ) < distSq3( surface_point, base ) ){
if( b < 0.0 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
}else{
if( b > 0.0 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
}
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
vec3 normal = normalize( vNormal );
vec3 nonPerturbedNormal = normal;
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include colorspace_fragment
#include fog_fragment
#endif
}`);const JAe=new Float32Array([-1,1,-1,-1,-1,-1,1,1,-1,1,1,1,1,-1,-1,1,-1,1]),e0e=new Uint16Array([0,1,2,1,4,2,2,4,3,4,5,3]);class vR extends w4{constructor(e,t={}){super("v3",e,t)}get mapping(){return JAe}get mappingIndices(){return e0e}get mappingIndicesSize(){return 12}get mappingSize(){return 6}get mappingItemSize(){return 3}}const _T=Object.assign({openEnded:!1},qr),t0e=Object.assign({openEnded:{updateShader:!0}},Gc);class n0e extends vR{constructor(e,t={}){super(e,t),this.parameterTypes=t0e,this.isImpostor=!0,this.vertexShader="CylinderImpostor.vert",this.fragmentShader="CylinderImpostor.frag",this.addUniforms({modelViewMatrixInverse:{value:new xt},ortho:{value:0}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null}}),this.setAttributes(e),this.makeMapping()}get defaultParameters(){return _T}getDefines(e){const t=vR.prototype.getDefines.call(this,e);return this.parameters.openEnded||(t.CAP=1),t}}Object.assign({disableImpostor:!1},R4,_T);const EA=class{constructor(i,e={}){return!i.color2&&i.color&&(i.color2=i.color),!Ao||e&&e.disableImpostor?new ET(i,e):new n0e(i,e)}};Fs.add("cylinder",EA);class i0e extends br{constructor(e,t,n){super(e,t,n),this.type="axes",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0,showAxes:{type:"boolean",rebuild:!0},showBox:{type:"boolean",rebuild:!0}},this.parameters,{assembly:null}),this.init(n)}init(e){const t=e||{};t.radiusSize=W(t.radiusSize,.5),t.colorValue=W(t.colorValue,"lightgreen"),t.useInteriorColor=W(t.useInteriorColor,!0),this.showAxes=W(t.showAxes,!0),this.showBox=W(t.showBox,!1),super.init(t)}getPrincipalAxes(){let e;const t=this.getAssembly();return t&&(e=t.partList[0].getSelection()),this.structureView.getPrincipalAxes(e)}getAxesData(e){const t=this.getPrincipalAxes(),n=new $t(this.colorValue);let r=0,s=0;this.showAxes&&(r+=6,s+=3),this.showBox&&(r+=8,s+=12);const a=new Float32Array(3*r),o=ei(r,n.r,n.g,n.b),A=Ts(r,this.radiusSize),c=new Float32Array(3*s),l=new Float32Array(3*s),u=ei(s,n.r,n.g,n.b),d=Ts(s,this.radiusSize);let h=0;if(this.showAxes){const y=function(g,E){g.toArray(a,2*h),E.toArray(a,2*h+3),g.toArray(c,h),E.toArray(l,h),h+=3};y(t.begA,t.endA),y(t.begB,t.endB),y(t.begC,t.endC)}if(this.showBox){const y=new ne,{d1a:g,d2a:E,d3a:R,d1b:p,d2b:w,d3b:v}=t.getProjectedScaleForAtoms(e);let _=2*h;const x=function(G,I,N){y.copy(t.center).addScaledVector(t.normVecA,G).addScaledVector(t.normVecB,I).addScaledVector(t.normVecC,N),y.toArray(a,_),_+=3};x(g,E,R),x(g,E,v),x(g,w,v),x(g,w,R),x(p,w,v),x(p,w,R),x(p,E,R),x(p,E,v);let C=h;const B=function(G,I){y.fromArray(a,2*h+3*G).toArray(c,C),y.fromArray(a,2*h+3*I).toArray(l,C),C+=3};B(0,1),B(0,3),B(0,6),B(1,2),B(1,7),B(2,3),B(2,4),B(3,5),B(4,5),B(4,7),B(5,6),B(6,7)}const m=new Zae(t);return{vertex:{position:a,color:o,radius:A,picking:m},edge:{position1:c,position2:l,color:u,color2:u,radius:d,picking:m}}}create(){const e=this.getAxesData(this.structureView);this.sphereBuffer=new v0(e.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new EA(e.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})}createData(e){}updateData(e,t){const n=this.getAxesData(t.sview),r={},s={};e&&!e.position||(Object.assign(r,{position:n.vertex.position}),Object.assign(s,{position1:n.edge.position1,position2:n.edge.position2})),e&&!e.color||(Object.assign(r,{color:n.vertex.color}),Object.assign(s,{color:n.edge.color,color2:n.edge.color})),e&&!e.radius||(Object.assign(r,{radius:n.vertex.radius}),Object.assign(s,{radius:n.edge.radius})),this.sphereBuffer.setAttributes(r),this.cylinderBuffer.setAttributes(s)}}fi.add("axes",i0e);class sy extends br{constructor(e,t,n){super(e,t,n),this.type="ball+stick",this.parameters=Object.assign({sphereDetail:!0,radialSegments:!0,openEnded:!0,disableImpostor:!0,aspectRatio:{type:"number",precision:1,max:10,min:1},lineOnly:{type:"boolean",rebuild:!0},cylinderOnly:{type:"boolean",rebuild:!0},multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondScale:{type:"number",precision:2,max:1,min:.01},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters),this.init(n)}init(e){var t=e||{};t.radiusType=W(t.radiusType,"size"),t.radiusSize=W(t.radiusSize,.15),t.useInteriorColor=W(t.useInteriorColor,!0),this.aspectRatio=W(t.aspectRatio,2),this.lineOnly=W(t.lineOnly,!1),this.cylinderOnly=W(t.cylinderOnly,!1),this.multipleBond=W(t.multipleBond,"off"),this.bondSpacing=W(t.bondSpacing,1),this.bondScale=W(t.bondScale,.4),this.linewidth=W(t.linewidth,2),super.init(t)}getAtomRadius(e){return this.aspectRatio*super.getAtomRadius(e)}getAtomParams(e,t){var n=super.getAtomParams(e,t);return n.radiusParams.scale*=this.aspectRatio,n}getAtomData(e,t,n){return e.getAtomData(this.getAtomParams(t,n))}getBondParams(e,t){return t=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,bondScale:this.bondScale},t),super.getBondParams(e,t)}getBondData(e,t,n){return e.getBondData(this.getBondParams(t,n))}createData(e){const t=[];if(this.lineOnly)this.lineBuffer=new wA(this.getBondData(e,{position:!0,color:!0,picking:!0}),this.getBufferParams({linewidth:this.linewidth})),t.push(this.lineBuffer);else{const n=new EA(this.getBondData(e),this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}));if(t.push(n),!this.cylinderOnly){const r=new v0(this.getAtomData(e),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));t.push(r)}}return{bufferList:t}}updateData(e,t){this.multipleBond!=="off"&&e&&e.radius&&(e.position=!0);const n=this.getBondData(t.sview,e);if(this.lineOnly){const o={};e&&!e.position||Object.assign(o,{position1:n.position1,position2:n.position2}),e&&!e.color||Object.assign(o,{color:n.color,color2:n.color2}),t.bufferList[0].setAttributes(o)}else{var r={};if(e&&!e.position||Object.assign(r,{position1:n.position1,position2:n.position2}),e&&!e.color||Object.assign(r,{color:n.color,color2:n.color2}),e&&!e.radius||Object.assign(r,{radius:n.radius}),t.bufferList[0].setAttributes(r),!this.cylinderOnly){var s=this.getAtomData(t.sview,e),a={};e&&!e.position||Object.assign(a,{position:s.position}),e&&!e.color||Object.assign(a,{color:s.color}),e&&!e.radius||Object.assign(a,{radius:s.radius}),t.bufferList[1].setAttributes(a)}}}setParameters(e={}){let t=!1;const n={};return(e.aspectRatio||e.bondSpacing||e.bondScale)&&(Object.assign(n,{radius:!0}),Ao&&!this.disableImpostor||(t=!0)),super.setParameters(e,n,t),this}}fi.add("ball+stick",sy);class r0e extends sy{constructor(e,t,n){super(e,t,n),this.type="backbone",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null}),this.init(n)}init(e){var t=e||{};t.aspectRatio=W(t.aspectRatio,1),t.radiusSize=W(t.radiusSize,.25),super.init(t)}getAtomRadius(e){return e.isTrace()?super.getAtomRadius(e):0}getAtomData(e,t,n){return e.getBackboneAtomData(this.getAtomParams(t,n))}getBondData(e,t,n){return e.getBackboneBondData(this.getBondParams(t,n))}}fi.add("backbone",r0e);class s0e extends sy{constructor(e,t,n){super(e,t,n),this.type="base",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null})}init(e){let t=e||{};t.aspectRatio=W(t.aspectRatio,1),t.radiusSize=W(t.radiusSize,.3),super.init(t)}getAtomData(e,t,n){return e.getRungAtomData(this.getAtomParams(t,n))}getBondData(e,t,n){let r=this.getBondParams(t,n);return Object.assign(r.colorParams,{rung:!0}),e.getRungBondData(r)}}fi.add("base",s0e);class a0e{constructor(e,t){this.m=e,this.tension=t,this.dt=1/this.m,this.delta=1e-4,this.vec1=new ne,this.vec2=new ne,this.vDir=new ne,this.vTan=new ne,this.vNorm=new ne,this.vBin=new ne,this.m2=Math.ceil(this.m/2)}interpolateToArr(e,t,n,r,s,a,o){a[o+0]=eA(e.x,t.x,n.x,r.x,s,this.tension),a[o+1]=eA(e.y,t.y,n.y,r.y,s,this.tension),a[o+2]=eA(e.z,t.z,n.z,r.z,s,this.tension)}interpolateToVec(e,t,n,r,s,a){a.x=eA(e.x,t.x,n.x,r.x,s,this.tension),a.y=eA(e.y,t.y,n.y,r.y,s,this.tension),a.z=eA(e.z,t.z,n.z,r.z,s,this.tension)}interpolatePosition(e,t,n,r,s,a){for(var o=0;o<this.m;++o){var A=a+3*o,c=this.dt*o;this.interpolateToArr(e,t,n,r,c,s,A)}}interpolateTangent(e,t,n,r,s,a){for(var o=0;o<this.m;++o){var A=this.dt*o,c=A-this.delta,l=A+this.delta,u=a+3*o;c<0&&(c=0),l>1&&(l=1),this.interpolateToVec(e,t,n,r,c,this.vec1),this.interpolateToVec(e,t,n,r,l,this.vec2),this.vec2.sub(this.vec1).normalize(),this.vec2.toArray(s,u)}}vectorSubdivide(e,t,n,r,s){let a,o=t.next(),A=t.next(),c=t.next();const l=t.size,u=l-1;let d=r||0;for(let h=0;h<u;++h)a=o,o=A,A=c,c=t.next(),e.apply(this,[a,o,A,c,n,d]),d+=3*this.m;s&&(a=t.get(l-2),o=t.get(l-1),A=t.get(0),c=t.get(1),e.apply(this,[a,o,A,c,n,d]),d+=3*this.m)}getPosition(e,t,n,r){e.reset(),this.vectorSubdivide(this.interpolatePosition,e,t,n,r);var s=e.size-1,a=s*this.m*3;r&&(a+=3*this.m);var o=e.get(r?0:s);t[a]=o.x,t[a+1]=o.y,t[a+2]=o.z}getTangent(e,t,n,r){e.reset(),this.vectorSubdivide(this.interpolateTangent,e,t,n,r);let s=(e.size-1)*this.m*3;r&&(s+=3*this.m),Yi(t,t,s-3,s,3)}interpolateNormalDir(e,t,n,r,s,a,o,A,c,l,u,d,h){for(let m=0;m<this.m;++m){let y=d+3*m;h&&(y+=3*this.m2);const g=this.dt*m;this.interpolateToVec(e,t,n,r,g,this.vec1),this.interpolateToVec(s,a,o,A,g,this.vec2),this.vDir.subVectors(this.vec2,this.vec1).normalize(),this.vTan.fromArray(c,y),this.vBin.crossVectors(this.vDir,this.vTan).normalize(),this.vBin.toArray(u,y),this.vNorm.crossVectors(this.vTan,this.vBin).normalize(),this.vNorm.toArray(l,y)}}interpolateNormal(e,t,n,r,s){for(var a=0;a<this.m;++a){var o=s+3*a;e.copy(this.vNorm),this.vTan.fromArray(t,o),this.vBin.crossVectors(e,this.vTan).normalize(),this.vBin.toArray(r,o),this.vNorm.crossVectors(this.vTan,this.vBin).normalize(),this.vNorm.toArray(n,o)}}getNormal(e,t,n,r,s,a){this.vNorm.set(0,0,1);const o=e-1;let A=s||0;for(var c=0;c<o;++c)this.interpolateNormal(this.vDir,t,n,r,A),A+=3*this.m;a&&(this.interpolateNormal(this.vDir,t,n,r,A),A+=3*this.m),this.vBin.toArray(r,A),this.vNorm.toArray(n,A)}getNormalDir(e,t,n,r,s,a,o,A){e.reset(),t.reset();const c=new ne,l=new ne,u=new ne,d=new ne,h=new ne,m=new ne().copy(e.next()),y=new ne().copy(e.next()),g=new ne().copy(e.next()),E=new ne,R=new ne().copy(t.next()),p=new ne().copy(t.next()),w=new ne().copy(t.next());this.vNorm.set(0,0,1);let v=e.size,_=v-1,x=a||0;for(var C=0;C<_;++C)h.copy(m),m.copy(y),y.copy(g),g.copy(e.next()),E.copy(R),R.copy(p),p.copy(w),w.copy(t.next()),C===0?(c.subVectors(E,h),l.subVectors(R,m),c.dot(l)<0&&(l.multiplyScalar(-1),R.addVectors(m,l)),u.subVectors(p,y),l.dot(u)<0&&(u.multiplyScalar(-1),p.addVectors(y,u))):u.copy(d),d.subVectors(w,g),u.dot(d)<0&&(d.multiplyScalar(-1),w.addVectors(g,d)),this.interpolateNormalDir(h,m,y,g,E,R,p,w,n,r,s,x,A),x+=3*this.m;if(o&&(h.copy(e.get(v-2)),m.copy(e.get(v-1)),y.copy(e.get(0)),g.copy(e.get(1)),E.copy(t.get(v-2)),R.copy(t.get(v-1)),p.copy(t.get(0)),w.copy(t.get(1)),u.copy(d),d.subVectors(w,g),u.dot(d)<0&&(d.multiplyScalar(-1),w.addVectors(g,d)),this.interpolateNormalDir(h,m,y,g,E,R,p,w,n,r,s,x,A),x+=3*this.m),A){this.vBin.fromArray(s,3*this.m2),this.vNorm.fromArray(r,3*this.m2);for(var B=0;B<this.m2;++B)this.vBin.toArray(s,3*B),this.vNorm.toArray(r,3*B)}else this.vBin.toArray(s,x),this.vNorm.toArray(r,x)}interpolateColor(e,t,n,r,s){var a,o;for(a=0;a<this.m2;++a)o=s+3*a,n.apply(this,[e,r,o]);for(a=this.m2;a<this.m;++a)o=s+3*a,n.apply(this,[t,r,o])}getColor(e,t,n,r,s){let a;e.reset(),e.next();let o=e.next();for(var A=e.size,c=A-1,l=r||0,u=0;u<c;++u)a=o,o=e.next(),this.interpolateColor(a,o,t,n,l),l+=3*this.m;s&&(a=e.get(A-1),o=e.get(0),this.interpolateColor(a,o,t,n,l),l+=3*this.m),n[l]=n[l-3],n[l+1]=n[l-2],n[l+2]=n[l-1]}interpolatePicking(e,t,n,r,s){var a;for(a=0;a<this.m2;++a)r[s+a]=n.apply(this,[e]);for(a=this.m2;a<this.m;++a)r[s+a]=n.apply(this,[t])}getPicking(e,t,n,r,s){let a;e.reset(),e.next();let o=e.next();const A=e.size,c=A-1;let l=r||0;for(var u=0;u<c;++u)a=o,o=e.next(),this.interpolatePicking(a,o,t,n,l),l+=this.m;s&&(a=e.get(A-1),o=e.get(0),this.interpolatePicking(a,o,t,n,l),l+=this.m),n[l]=n[l-1]}interpolateSize(e,t,n,r,s){const a=n.apply(this,[e]),o=n.apply(this,[t]);for(let A=0;A<this.m;++A){let c=A/this.m;r[s+A]=(1-c)*a+c*o}}getSize(e,t,n,r,s){let a;e.reset(),e.next();let o=e.next();const A=e.size,c=A-1;let l=r||0;for(var u=0;u<c;++u)a=o,o=e.next(),this.interpolateSize(a,o,t,n,l),l+=this.m;s&&(a=e.get(A-1),o=e.get(0),this.interpolateSize(a,o,t,n,l),l+=this.m),n[l]=n[l-1]}}class gu{constructor(e,t){this.polymer=e,this.size=e.residueCount;var n=t||{};this.directional=n.directional||!1,this.positionIterator=n.positionIterator||!1,this.subdiv=n.subdiv||1,this.smoothSheet=n.smoothSheet||!1,n.tension?this.tension=n.tension:this.tension=this.polymer.isNucleic()?.5:.9,this.interpolator=new a0e(this.subdiv,this.tension)}getAtomIterator(e,t){const n=this.polymer,r=n.structure,s=n.residueCount;let a=0,o=-1;const A=[r.getAtomProxy(),r.getAtomProxy(),r.getAtomProxy(),r.getAtomProxy()],c=[new ne,new ne,new ne,new ne];var l=r.getAtomProxy(),u=r.getAtomProxy();function d(h){var m=A[a%4];if(m.index=n.getAtomIndexByType(h,e),t&&h>0&&h<s&&m.sstruc==="e"){var y=c[a%4];return l.index=n.getAtomIndexByType(h+1,e),u.index=n.getAtomIndexByType(h-1,e),y.addVectors(l,u).add(m).add(m).multiplyScalar(.25),a+=1,y}return a+=1,m}return{size:s,next:function(){var h=d(o);return o+=1,h},get:d,reset:function(){a=0,o=-1}}}getSubdividedColor(e){var t=this.subdiv,n=this.polymer,r=(n.residueCount-1)*t*3+3;n.isCyclic&&(r+=3*t);var s=new Float32Array(r),a=this.getAtomIterator("trace"),o=e||{};o.structure=n.structure;var A=Bn.getScheme(o);return this.interpolator.getColor(a,function(c,l,u){A.atomColorToArray(c,l,u)},s,0,n.isCyclic),{color:s}}getSubdividedPicking(){var e=this.subdiv,t=this.polymer,n=(t.residueCount-1)*e+1;t.isCyclic&&(n+=e);var r=t.structure,s=this.getAtomIterator("trace"),a=new Float32Array(n);return this.interpolator.getPicking(s,function(o){return o.index},a,0,t.isCyclic),{picking:new Tc(a,r)}}getSubdividedPosition(){return{position:this.getPosition()}}getSubdividedOrientation(){const e=this.getTangent(),t=this.getNormals(e);return{tangent:e,normal:t.normal,binormal:t.binormal}}getSubdividedSize(e){var t=this.subdiv,n=this.polymer,r=(n.residueCount-1)*t+1;n.isCyclic&&(r+=t);var s=new Float32Array(r),a=this.getAtomIterator("trace"),o=new yA(e);return this.interpolator.getSize(a,function(A){return o.atomRadius(A)},s,0,n.isCyclic),{size:s}}getPosition(){const e=this.subdiv,t=this.polymer;let n=(t.residueCount-1)*e*3+3;t.isCyclic&&(n+=3*e);const r=new Float32Array(n),s=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getPosition(s,r,0,t.isCyclic),r}getTangent(){const e=this.subdiv,t=this.polymer;let n=(this.size-1)*e*3+3;t.isCyclic&&(n+=3*e);const r=new Float32Array(n),s=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getTangent(s,r,0,t.isCyclic),r}getNormals(e){const t=this.subdiv,n=this.polymer,r=n.isProtein(),s=this.size;let a=(s-1)*t*3+3;n.isCyclic&&(a+=3*t);const o=new Float32Array(a),A=new Float32Array(a);if(this.directional&&!this.polymer.isCg()){const c=this.getAtomIterator("direction1"),l=this.getAtomIterator("direction2");this.interpolator.getNormalDir(c,l,e,o,A,0,n.isCyclic,r)}else this.interpolator.getNormal(s,e,o,A,0,n.isCyclic);return{normal:o,binormal:A}}}const xR=new ne,l1=new ne,o0e=Object.assign({radialSegments:4,capped:!1,aspectRatio:1},qr);class A0e extends gA{constructor(e,t={}){super(function(n,r={}){const s=W(r.radialSegments,4),a=W(r.capped,!1),o=a?s:0,A=a?s-2:0,c=n.position.length/3,l=c*s*3+2*o*3,u=2*(c-1)*s*3+2*A*3;return{position:new Float32Array(l),color:new Float32Array(l),index:ho(u,l/3),normal:new Float32Array(l),picking:n.picking}}(e,t),t),this.capVertices=this.parameters.capped?this.parameters.radialSegments:0,this.capTriangles=this.parameters.capped?this.parameters.radialSegments-2:0,this.size2=e.position.length/3,e.primitiveId=Cu(this.size2),this.setAttributes(e),this.makeIndex()}get defaultParameters(){return o0e}setAttributes(e={}){const t=this.parameters.aspectRatio,n=this.size2,r=n-1,s=this.parameters.radialSegments,a=this.geometry.attributes;let o,A,c,l,u,d,h,m,y,g,E,R,p;e.position&&(o=e.position,A=e.normal,c=e.binormal,l=e.tangent,d=e.size,m=a.position.array,g=a.normal.array,a.position.needsUpdate=!0,a.normal.needsUpdate=!0),e.color&&(u=e.color,y=a.color.array,a.color.needsUpdate=!0),e.primitiveId&&(h=e.primitiveId,E=a.primitiveId.array,a.primitiveId.needsUpdate=!0);let w=0,v=0,_=0,x=0,C=0,B=0,G=0,I=0,N=0,T=0;const M=[],U=[],z=[],L=[],k=[],K=[];if(o)for(let V=0;V<s;++V){const D=V/s*2*Math.PI;M[V]=t*Math.cos(D),U[V]=Math.sin(D),z[V]=t*Math.cos(D-.01),L[V]=Math.sin(D-.01),k[V]=t*Math.cos(D+.01),K[V]=Math.sin(D+.01)}for(let V=0;V<n;++V){R=3*V,p=R*s,o&&l&&A&&c&&d&&(xR.set(l[R],l[R+1],l[R+2]),v=A[R],_=A[R+1],x=A[R+2],C=c[R],B=c[R+1],G=c[R+2],I=o[R],N=o[R+1],T=o[R+2],w=d[V]);for(let D=0;D<s;++D){const H=p+3*D;if(o){const oe=-w*M[D],Ae=w*U[D],ee=-w*z[D],se=w*L[D],le=-w*k[D],J=w*K[D];m[H]=I+oe*v+Ae*C,m[H+1]=N+oe*_+Ae*B,m[H+2]=T+oe*x+Ae*G,l1.set(le*v+J*C-(ee*v+se*C),le*_+J*B-(ee*_+se*B),le*x+J*G-(ee*x+se*G)).cross(xR),g[H]=l1.x,g[H+1]=l1.y,g[H+2]=l1.z}u&&(y[H]=u[R],y[H+1]=u[R+1],y[H+2]=u[R+2]),h&&(E[V*s+D]=h[V])}}R=0,p=3*n*s;for(let V=0;V<s;++V){const D=R+3*V,H=p+3*V;o&&l&&(m[H]=m[D],m[H+1]=m[D+1],m[H+2]=m[D+2],g[H]=l[R],g[H+1]=l[R+1],g[H+2]=l[R+2]),u&&(y[H]=y[D],y[H+1]=y[D+1],y[H+2]=y[D+2]),h&&(E[n*s+V]=E[0+V])}R=3*(n-1)*s,p=3*(n+1)*s;for(let V=0;V<s;++V){const D=R+3*V,H=p+3*V;o&&l&&(m[H]=m[D],m[H+1]=m[D+1],m[H+2]=m[D+2],g[H]=l[3*r],g[H+1]=l[3*r+1],g[H+2]=l[3*r+2]),u&&(y[H]=y[D],y[H+1]=y[D+1],y[H+2]=y[D+2]),h&&(E[(n+1)*s+V]=E[(n-1)*s+V])}}makeIndex(){const e=this.geometry.getIndex();if(!e)return void He.error("Index is null");const t=e.array,n=this.size2,r=n-1,s=this.capTriangles,a=this.parameters.radialSegments,o=this.parameters.radialSegments+1;let A,c;for(let u=0;u<r;++u){const d=u*a*3*2,h=u*a,m=(u+1)*a;for(let y=0;y<a;++y)c=d+3*y*2,t[c]=h+y,t[c+1]=h+(y+1)%a,t[c+2]=m+y,t[c+3]=m+y,t[c+4]=h+(y+1)%a,t[c+5]=m+(y+1)%a}const l=[0];for(let u=1;u<o/2;++u)l.push(u),a-u!==u&&l.push(a-u);c=r*a*3*2,A=n*a;for(let u=0;u<l.length-2;++u)u%2==0?(t[c+3*u+0]=A+l[u+0],t[c+3*u+1]=A+l[u+1],t[c+3*u+2]=A+l[u+2]):(t[c+3*u+0]=A+l[u+2],t[c+3*u+1]=A+l[u+1],t[c+3*u+2]=A+l[u+0]);c=r*a*3*2+3*s,A=n*a+a;for(let u=0;u<l.length-2;++u)u%2==0?(t[c+3*u+0]=A+l[u+0],t[c+3*u+1]=A+l[u+1],t[c+3*u+2]=A+l[u+2]):(t[c+3*u+0]=A+l[u+2],t[c+3*u+1]=A+l[u+1],t[c+3*u+2]=A+l[u+0])}}class B4 extends br{constructor(e,t,n){super(e,t,n),this.type="cartoon",this.parameters=Object.assign({aspectRatio:{type:"number",precision:1,max:10,min:1,rebuild:!0},subdiv:{type:"integer",max:50,min:1,rebuild:!0},radialSegments:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},capped:{type:"boolean",rebuild:!0},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters),this.init(n)}init(e){var t=e||{};t.colorScheme=W(t.colorScheme,"chainname"),t.colorScale=W(t.colorScale,"RdYlBu"),t.radiusType=W(t.radiusType,"sstruc"),t.radiusScale=W(t.radiusScale,.7),t.useInteriorColor=W(t.useInteriorColor,!0),this.aspectRatio=W(t.aspectRatio,5),this.tension=W(t.tension,NaN),this.capped=W(t.capped,!0),this.smoothSheet=W(t.smoothSheet,!1),t.quality==="low"?(this.subdiv=3,this.radialSegments=6):t.quality==="medium"?this.subdiv=6:t.quality==="high"?this.subdiv=12:this.subdiv=W(t.subdiv,6),super.init(t)}getSplineParams(e){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:this.aspectRatio!==1,smoothSheet:this.smoothSheet},e)}getSpline(e){return new gu(e,this.getSplineParams())}getAspectRatio(e){return e.isCg()?1:this.aspectRatio}getAtomRadius(e){return e.isTrace()?super.getAtomRadius(e):0}createData(e){let t=[],n=[];return this.structure.eachPolymer(r=>{if(r.residueCount<4)return;n.push(r);const s=this.getSpline(r),a=this.getAspectRatio(r),o=s.getSubdividedPosition(),A=s.getSubdividedOrientation(),c=s.getSubdividedColor(this.getColorParams()),l=s.getSubdividedPicking(),u=s.getSubdividedSize(this.getRadiusParams());t.push(new A0e(Object.assign({},o,A,c,l,u),this.getBufferParams({radialSegments:this.radialSegments,aspectRatio:a,capped:this.capped})))},e.getSelection()),{bufferList:t,polymerList:n}}updateData(e,t){ot&&He.time(this.type+" repr update"),e=e||{};for(var n=0,r=t.polymerList.length;n<r;++n){var s={},a=t.polymerList[n],o=this.getSpline(a),A=this.getAspectRatio(a);if(Object.assign(t.bufferList[n],{aspectRatio:A}),e.position||e.radius){var c=o.getSubdividedPosition(),l=o.getSubdividedOrientation(),u=o.getSubdividedSize(this.getRadiusParams(A));s.position=c.position,s.normal=l.normal,s.binormal=l.binormal,s.tangent=l.tangent,s.size=u.size}if(e.color){var d=o.getSubdividedColor(this.getColorParams());s.color=d.color}if(e.picking){var h=o.getSubdividedPicking();s.picking=h.picking}t.bufferList[n].setAttributes(s)}ot&&He.timeEnd(this.type+" repr update")}setParameters(e){var t={};return e&&e.aspectRatio&&(t.radius=!0),e&&e.tension&&(t.position=!0),super.setParameters(e,t,!1),this}}fi.add("cartoon",B4);class c0e extends br{constructor(e,t,n){super(e,t,n),this.type="contact",this.parameters=Object.assign({hydrogenBond:{type:"boolean",rebuild:!0},weakHydrogenBond:{type:"boolean",rebuild:!0},waterHydrogenBond:{type:"boolean",rebuild:!0},backboneHydrogenBond:{type:"boolean",rebuild:!0},hydrophobic:{type:"boolean",rebuild:!0},halogenBond:{type:"boolean",rebuild:!0},ionicInteraction:{type:"boolean",rebuild:!0},metalCoordination:{type:"boolean",rebuild:!0},cationPi:{type:"boolean",rebuild:!0},piStacking:{type:"boolean",rebuild:!0},filterSele:{type:"text",rebuild:!0},labelVisible:{type:"boolean",rebuild:!0},labelFixedSize:{type:"boolean",buffer:"fixedSize"},labelSize:{type:"number",precision:3,max:10,min:.001,rebuild:!0},labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},maxHydrophobicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondSulfurDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondAccAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondDonAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondAccPlaneAngle:{type:"integer",max:90,min:0,rebuild:!0},maxHbondDonPlaneAngle:{type:"integer",max:90,min:0,rebuild:!0},maxPiStackingDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingAngle:{type:"integer",max:180,min:0,rebuild:!0},maxCationPiDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxCationPiOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxIonicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondAngle:{type:"integer",max:180,min:0,rebuild:!0},maxMetalDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},refineSaltBridges:{type:"boolean",rebuild:!0},masterModelIndex:{type:"integer",max:1e3,min:-1,rebuild:!0},lineOfSightDistFactor:{type:"number",precision:1,max:10,min:0,rebuild:!0},radialSegments:!0,disableImpostor:!0},this.parameters),this.init(n)}init(e){var t=e||{};t.radiusSize=W(t.radiusSize,.05),t.useInteriorColor=W(t.useInteriorColor,!0),this.hydrogenBond=W(t.hydrogenBond,!0),this.weakHydrogenBond=W(t.weakHydrogenBond,!1),this.waterHydrogenBond=W(t.waterHydrogenBond,!1),this.backboneHydrogenBond=W(t.backboneHydrogenBond,!1),this.hydrophobic=W(t.hydrophobic,!1),this.halogenBond=W(t.halogenBond,!0),this.ionicInteraction=W(t.ionicInteraction,!0),this.metalCoordination=W(t.metalCoordination,!0),this.cationPi=W(t.cationPi,!0),this.piStacking=W(t.piStacking,!0),this.filterSele=W(t.filterSele,""),this.labelVisible=W(t.labelVisible,!1),this.labelFixedSize=W(t.labelFixedSize,!1),this.labelSize=W(t.labelSize,2),this.labelUnit=W(t.labelUnit,""),this.maxHydrophobicDist=W(t.maxHydrophobicDist,4),this.maxHbondDist=W(t.maxHbondDist,3.5),this.maxHbondSulfurDist=W(t.maxHbondSulfurDist,4.1),this.maxHbondAccAngle=W(t.maxHbondAccAngle,45),this.maxHbondDonAngle=W(t.maxHbondDonAngle,45),this.maxHbondAccPlaneAngle=W(t.maxHbondAccPlaneAngle,90),this.maxHbondDonPlaneAngle=W(t.maxHbondDonPlaneAngle,30),this.maxPiStackingDist=W(t.maxPiStackingDist,5.5),this.maxPiStackingOffset=W(t.maxPiStackingOffset,2),this.maxPiStackingAngle=W(t.maxPiStackingAngle,30),this.maxCationPiDist=W(t.maxCationPiDist,6),this.maxCationPiOffset=W(t.maxCationPiOffset,2),this.maxIonicDist=W(t.maxIonicDist,5),this.maxHalogenBondDist=W(t.maxHalogenBondDist,3.5),this.maxHalogenBondAngle=W(t.maxHalogenBondAngle,30),this.maxMetalDist=W(t.maxMetalDist,3),this.refineSaltBridges=W(t.refineSaltBridges,!0),this.masterModelIndex=W(t.masterModelIndex,-1),this.lineOfSightDistFactor=W(t.lineOfSightDistFactor,1),super.init(t)}getAtomRadius(){return 0}getContactData(e){const t={maxHydrophobicDist:this.maxHydrophobicDist,maxHbondDist:this.maxHbondDist,maxHbondSulfurDist:this.maxHbondSulfurDist,maxHbondAccAngle:this.maxHbondAccAngle,maxHbondDonAngle:this.maxHbondDonAngle,maxHbondAccPlaneAngle:this.maxHbondAccPlaneAngle,maxHbondDonPlaneAngle:this.maxHbondDonPlaneAngle,maxPiStackingDist:this.maxPiStackingDist,maxPiStackingOffset:this.maxPiStackingOffset,maxPiStackingAngle:this.maxPiStackingAngle,maxCationPiDist:this.maxCationPiDist,maxCationPiOffset:this.maxCationPiOffset,maxIonicDist:this.maxIonicDist,maxHalogenBondDist:this.maxHalogenBondDist,maxHalogenBondAngle:this.maxHalogenBondAngle,maxMetalDist:this.maxMetalDist,refineSaltBridges:this.refineSaltBridges,masterModelIndex:this.masterModelIndex,lineOfSightDistFactor:this.lineOfSightDistFactor},n={hydrogenBond:this.hydrogenBond,weakHydrogenBond:this.weakHydrogenBond,waterHydrogenBond:this.waterHydrogenBond,backboneHydrogenBond:this.backboneHydrogenBond,hydrophobic:this.hydrophobic,halogenBond:this.halogenBond,ionicInteraction:this.ionicInteraction,metalCoordination:this.metalCoordination,cationPi:this.cationPi,piStacking:this.piStacking,radius:this.radiusSize*this.radiusScale,filterSele:this.filterSele};return jae(qae(e,t),e,n)}createData(e){const t=this.getContactData(e),n=[new EA(yae(t),this.getBufferParams({sphereDetail:1,dullInterior:!0,disableImpostor:this.disableImpostor}))];if(this.labelVisible){const r={size:this.labelSize,unit:this.labelUnit};n.push(new Tu(function(s,a){const o=co(s.position1,s.position2),A=[],c=Kg(s.position1,s.position2),l=c.length/3;for(let u=0;u<l;u++){const d=3*u,h=Math.sqrt(Math.pow(c[d],2)+Math.pow(c[d+1],2)+Math.pow(c[d+2],2));switch(a.unit){case"angstrom":A[u]=h.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":A[u]=(h/10).toFixed(2)+" nm";break;default:A[u]=h.toFixed(2)}}return{position:o,size:Ts(o.length/3,a.size),color:s.color,text:A}}(t,r),this.getBufferParams({fixedSize:this.labelFixedSize})))}return{bufferList:n}}}fi.add("contact",c0e);class l0e extends v4{constructor(e,t,n){super(e,t,n),this.type="dihedral",this.parameters=Object.assign({atomQuad:{type:"hidden",rebuild:!0},extendLine:{type:"boolean",rebuild:!0,default:!0},lineVisible:{type:"boolean",default:!0},planeVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(n)}init(e){const t=e||{};t.side=W(t.side,"double"),t.opacity=W(t.opacity,.5),this.atomQuad=W(t.atomQuad,[]),this.extendLine=W(t.extendLine,!0),this.lineVisible=W(t.lineVisible,!0),this.planeVisible=W(t.planeVisible,!0),this.sectorVisible=W(t.sectorVisible,!0),super.init(t)}createData(e){if(!e.atomCount||!this.atomQuad.length)return;const t=function(o,A={}){const c=W(A.angleStep,Math.PI/90),l=o.length,u=o.length/12,d=new Float32Array(u),h=new Float32Array(3*u),m=new Array(u),y=new Array(u),g=new Array(u),E=new Array(u),R=new Array(u);let p=0,w=0,v=0;const _=hn(),x=hn(),C=hn(),B=hn(),G=hn(),I=hn(),N=hn(),T=hn(),M=hn(),U=hn(),z=hn(),L=hn(),k=hn(),K=hn(),V=hn();let D=0;for(var H=0;H<l;H+=12){if(Qr(_,o,H),Qr(x,o,H+3),Qr(C,o,H+6),Qr(B,o,H+9),xi(G,_,x),xi(I,C,x),A0(I)===0)continue;xi(N,B,C),ti(T,I,.5),Ta(M,x,T),Ni(G,G),Ni(I,I),Ni(N,N),xi(T,_,M);const ge=ns(T,I)>0;xi(T,B,M);const fe=ns(T,I)<0;if(ti(T,I,ns(I,G)),xi(U,G,T),ti(T,I,ns(I,N)),xi(z,N,T),A0(U)===0||A0(z)===0)continue;Ni(U,U),Ni(z,z);const we=d[D]=gae(U,z);m[D]=(TM*we).toFixed(1)+String.fromCharCode(176),ds(K,U,I),Ni(K,K),ns(K,z)<0&&Wg(K,K),Sa(T,M,U,K,we/2),gn(T,h,3*D);const Fe=Math.ceil(we/c),je=Fe+(A.extendLine?4:2),De=A.extendLine?36:0,Le=new Float32Array(3*je),tt=new Float32Array(3*je),Ie=new Float32Array(9*Fe),Xe=new Float32Array(De);y[D]=Le,g[D]=tt,E[D]=Ie,R[D]=Xe,A.extendLine&&(ge?(xi(T,_,C),Ni(T,T),ti(L,T,1/ns(U,T)),Ta(L,L,C)):(ti(L,G,1/ns(U,G)),Ta(L,L,x)),fe?(xi(T,B,x),Ni(T,T),ti(k,T,1/ns(z,T)),Ta(k,k,x)):(ti(k,N,1/ns(z,N)),Ta(k,k,C))),Ta(V,M,U);let et=0;A.extendLine?(gn(_,Le,et),gn(L,tt,et),et+=3,gn(L,Le,et),gn(V,tt,et),et+=3,gn(L,Xe,0),gn(V,Xe,3),gn(ge?C:x,Xe,6),gn(ge?C:x,Xe,9),gn(V,Xe,12),gn(M,Xe,15)):(gn(M,Le,et),gn(V,tt,et),et+=3);const st=function(X,Be){const We=9*Be;gn(M,Ie,We),gn(V,Ie,We+3),gn(V,Le,et),Sa(V,M,U,K,X),gn(V,Ie,We+6),gn(V,tt,et),et+=3};let re=0;for(let X=c;X<we;X+=c)st(X,re++);st(we,re++),A.extendLine?(gn(V,Le,3*(je-2)),gn(k,tt,3*(je-2)),gn(k,Le,3*(je-1)),gn(B,tt,3*(je-1)),gn(k,Xe,18),gn(V,Xe,21),gn(fe?x:C,Xe,24),gn(fe?x:C,Xe,27),gn(V,Xe,30),gn(M,Xe,33)):(gn(V,Le,et),gn(M,tt,et),et+=3),p+=3*je,w+=9*Fe,v+=De,D+=1}const oe=D,Ae=new Float32Array(p),ee=new Float32Array(p),se=new Float32Array(w),le=new Float32Array(v);let J=0,me=0,ue=0;for(let ge=0;ge<oe;ge++){const fe=y[ge],we=g[ge],Fe=E[ge],je=R[ge];Yi(fe,Ae,0,J,fe.length),Yi(we,ee,0,J,we.length),Yi(Fe,se,0,me,Fe.length),Yi(je,le,0,ue,je.length),J+=fe.length,me+=Fe.length,ue+=je.length}return{labelPosition:h.subarray(0,3*oe),labelText:m.slice(0,oe),linePosition1:Ae,linePosition2:ee,planePosition:le,sectorPosition:se}}(x4(e,this.atomQuad),{extendLine:this.extendLine}),n=this.n=t.labelText.length,r=new $t(this.labelColor);this.textBuffer=new Tu({position:t.labelPosition,size:Ts(n,this.labelSize),color:ei(n,r.r,r.g,r.b),text:t.labelText},this.getLabelBufferParams());const s=new $t(this.colorValue);this.lineLength=t.linePosition1.length/3;const a=ei(this.lineLength,s.r,s.g,s.b);return this.lineBuffer=new wA(vE({position1:t.linePosition1,position2:t.linePosition2,color:a,color2:a}),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),this.planeLength=t.planePosition.length/3,this.planeBuffer=new gA({position:t.planePosition,color:ei(this.planeLength,s.r,s.g,s.b)},this.getBufferParams({visible:this.planeVisible})),this.sectorLength=t.sectorPosition.length/3,this.sectorBuffer=new gA({position:t.sectorPosition,color:ei(this.sectorLength,s.r,s.g,s.b)},this.getBufferParams({visible:this.sectorVisible})),{bufferList:[this.textBuffer,this.lineBuffer,this.planeBuffer,this.sectorBuffer]}}updateData(e,t){super.updateData(e,t);const n={},r={},s={};if(e.color){const a=new $t(this.colorValue);Object.assign(n,{color:ei(this.lineLength,a.r,a.g,a.b),color2:ei(this.lineLength,a.r,a.g,a.b)}),Object.assign(r,{color:ei(this.planeLength,a.r,a.g,a.b)}),Object.assign(s,{color:ei(this.sectorLength,a.r,a.g,a.b)})}this.lineBuffer.setAttributes(n),this.planeBuffer.setAttributes(r),this.sectorBuffer.setAttributes(s)}setParameters(e){return super.setParameters(e,{},!1),!e||e.lineVisible===void 0&&e.sectorVisible===void 0&&e.planeVisible===void 0||this.setVisibility(this.visible),e&&e.lineOpacity&&this.lineBuffer.setParameters({opacity:e.lineOpacity}),e&&e.opacity!==void 0&&this.lineBuffer.setParameters({opacity:this.lineOpacity}),e&&e.linewidth&&this.lineBuffer.setParameters({linewidth:e.linewidth}),this}setVisibility(e,t){return super.setVisibility(e,!0),this.lineBuffer&&this.lineBuffer.setVisibility(this.lineVisible&&this.visible),this.planeBuffer&&this.planeBuffer.setVisibility(this.planeVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),t||this.viewer.requestRender(),this}}fi.add("dihedral",l0e);function pw(i,e){function t(r,s){return s in r}const n=Object.assign({},i);for(const r in n)t(n,r)&&t(e,r)&&(n[r]=W(e[r],n[r]));return n}function va(i,e){const t=new $t(i),n=new Float32Array(3*e);return ei(e,t.r,t.g,t.b,n),n}class u0e extends br{constructor(e,t,n){super(e,t,n),this.type="dihedral-histogram",this.parameters=Object.assign({histogramsData:{type:"hidden",rebuild:!0},histogramBinBorderVisible:{type:"boolean",default:!0},scaleBinToSectorArea:{type:"boolean",rebuild:!0,default:!1}},this.parameters),this.init(n)}init(e){const t=e||{},n=pw({histogramBinBorderColor:"grey",adjacentBondArrowColor:"black",distantBondArrowColor:"magenta",frontHistogramColor:"green",backHistogramColor:"blue",opaqueMiddleDiscColor:"white"},t);Object.assign(this,n);const r=pw({histogramsData:[],histogramOpacity:1,opaqueMiddleDiscVisible:!0,opaqueMiddleDiscOpacity:1,histogramBinBorderVisible:!0,histogramBinBorderWidth:1,histogramBinBorderOpacity:.5,bondArrowVisible:!0,bondArrowWidth:2,bondArrowOpacity:1,scaleBinToSectorArea:!1},t);Object.assign(this,r),this.histogramsData.forEach(s=>{const a=pw(n,s);Object.assign(s,a)}),t.side=W(t.side,"double"),t.opacity=W(t.opacity,.5),t.radiusType=W(t.radiusType,"size"),t.radiusSize=W(t.radiusSize,.15),super.init(t)}getHistogramBinBorderBufferParameters(){return this.getBufferParams({linewidth:this.histogramBinBorderWidth,visible:this.histogramBinBorderVisible,opacity:this.histogramBinBorderOpacity})}getBondArrowsBufferParameters(){return this.getBufferParams({linewidth:this.bondArrowWidth,visible:this.bondArrowVisible,opacity:this.bondArrowOpacity})}getOpaqueMiddleDiscBufferParameters(){return this.getBufferParams({visible:this.opaqueMiddleDiscVisible,opacity:this.opaqueMiddleDiscOpacity})}getHistogramBufferParameters(){return this.getBufferParams({visible:!0,opacity:this.histogramOpacity,side:"double"})}createData(e){if(!e.atomCount||!this.histogramsData.length)return;this.histogramsData.forEach(o=>o.atomPositions=x4(e,[o.atomQuad]));const t=this.scaleBinToSectorArea?function(o){return Math.sqrt(o)}:function(o){return o};function n(o){const A=o.map(u=>u.length),c=new Float32Array(c4(A));let l=0;for(let u=0;u<o.length;u++)c.set(o[u],l),l+=o[u].length;return c}function r(o,A){return new wA({position1:n(o.map(c=>c.startPoints)),position2:n(o.map(c=>c.endPoints)),color:n(o.map(c=>c.startColors)),color2:n(o.map(c=>c.endColors))},A)}function s(o,A){return new gA({position:n(o.map(c=>c.triangles)),color:n(o.map(c=>c.triangleColors))},A)}this.histogramsData.forEach(o=>o.histogram360Scaled=o.histogram360.map(t));const a=[];for(let o=0;o<this.histogramsData.length;o++){let A,c=this.histogramsData[o];c.histogram360.length>=3&&(A=d0e(c)),A!==void 0&&a.push(A)}return this.frontHistogramBinBordersBuffer=r(a.map(o=>o.frontHistogramBinBorders),this.getHistogramBinBorderBufferParameters()),this.backHistogramBinBordersBuffer=r(a.map(o=>o.backHistogramBinBorders),this.getHistogramBinBorderBufferParameters()),this.adjacentBondArrowsBuffer=r(a.map(o=>o.adjacentBondArrows),this.getBondArrowsBufferParameters()),this.distantBondArrowsBuffer=r(a.map(o=>o.distantBondArrows),this.getBondArrowsBufferParameters()),this.opaqueMiddleDiscBuffer=s(a.map(o=>o.opaqueMiddleDisc),this.getOpaqueMiddleDiscBufferParameters()),this.frontHistogramBuffer=s(a.map(o=>o.frontHistogram),this.getHistogramBufferParameters()),this.backHistogramBuffer=s(a.map(o=>o.backHistogram),this.getHistogramBufferParameters()),{bufferList:[].concat(this.frontHistogramBinBordersBuffer,this.backHistogramBinBordersBuffer,this.adjacentBondArrowsBuffer,this.distantBondArrowsBuffer,this.opaqueMiddleDiscBuffer,this.frontHistogramBuffer,this.backHistogramBuffer)}}setParameters(e){return super.setParameters(e,{},!1),e&&e.histogramBinBorderVisible!==void 0&&this.setVisibility(this.visible),this}setVisibility(e,t){return super.setVisibility(e,!0),this.frontHistogramBinBordersBuffer&&this.frontHistogramBinBordersBuffer.setVisibility(this.histogramBinBorderVisible),this.backHistogramBinBordersBuffer&&this.backHistogramBinBordersBuffer.setVisibility(this.histogramBinBorderVisible),t||this.viewer.requestRender(),this}}function d0e(i){const e=i.atomPositions,t=i.histogram360Scaled,n=t.length<=180?360:2*t.length,r={triangles:new Float32Array(3*n*3),triangleColors:va(i.opaqueMiddleDiscColor,3*n)},s={triangles:new Float32Array(3*t.length*3),triangleColors:va(i.frontHistogramColor,3*t.length)},a={triangles:new Float32Array(3*t.length*3),triangleColors:va(i.backHistogramColor,3*t.length)},o={startPoints:new Float32Array(3*t.length),endPoints:new Float32Array(3*t.length),startColors:va(i.histogramBinBorderColor,t.length),endColors:va(i.histogramBinBorderColor,t.length)},A={startPoints:new Float32Array(3*t.length),endPoints:new Float32Array(3*t.length),startColors:va(i.histogramBinBorderColor,t.length),endColors:va(i.histogramBinBorderColor,t.length)},c={startPoints:new Float32Array(6),endPoints:new Float32Array(6),startColors:va(i.adjacentBondArrowColor,t.length),endColors:va(i.adjacentBondArrowColor,t.length)},l={startPoints:new Float32Array(6),endPoints:new Float32Array(6),startColors:va(i.distantBondArrowColor,t.length),endColors:va(i.distantBondArrowColor,t.length)},u=hn(),d=hn(),h=hn(),m=hn(),y=hn(),g=hn(),E=hn(),R=hn(),p=hn(),w=hn(),v=hn(),_=hn(),x=hn(),C=hn(),B=hn(),G=hn(),I=[u,d,h,m];for(let K=0;K<I.length;K++)Qr(I[K],e,3*K);if(xi(y,u,d),xi(g,h,d),xi(R,m,h),A0(g)===0||(ti(B,g,.5),Ta(p,d,B),Ni(y,y),Ni(g,g),Ni(R,R),Wg(E,g),ti(B,E,ns(E,y)),xi(w,y,B),ti(B,g,ns(g,R)),xi(v,R,B),A0(w)===0||A0(v)===0))return;Ni(w,w),Ni(v,v);const N=Math.acos(ns(w,v));ds(_,E,w),ds(x,g,v),Ni(_,_),Ni(x,x);let T=N;ns(_,v)<0&&(T=-N),Ta(C,p,w);const M=Math.max.apply(null,t),U=2*Math.PI/t.length;function z(K,V,D,H,oe){const Ae=3*V*3;gn(p,K,Ae);const ee=Number(t[V])/M;ti(B,D,ee),ti(G,H,ee),Sa(C,p,B,G,V*oe),gn(C,K,Ae+3),Sa(C,p,B,G,(V+1)*oe),gn(C,K,Ae+6)}function L(K,V,D,H,oe){Yi(p,c.startPoints,0,3*D,p.length),Sa(B,p,H,oe,0+0*U),Yi(B,c.endPoints,0,3*D,p.length),Yi(p,l.startPoints,0,3*D,p.length),Sa(B,p,H,oe,T),Yi(B,l.endPoints,0,3*D,p.length);for(let Ae=0;Ae<t.length;Ae++)Yi(p,V.startPoints,0,3*Ae,p.length),Sa(B,p,H,oe,0+U*Ae),Yi(B,V.endPoints,0,3*Ae,B.length);for(let Ae=0;Ae<t.length;Ae++)z(K.triangles,Ae,H,oe,U)}const k=2*Math.PI/n;for(let K=0;K<n;K++){const V=3*K*3;gn(p,r.triangles,V),Sa(C,p,w,_,K*k),gn(C,r.triangles,V+3),Sa(C,p,w,_,(K+1)*k),gn(C,r.triangles,V+6)}return ti(B,g,-.01),Ta(p,p,B),L(s,o,0,w,_),ti(B,g,.02),Ta(p,p,B),L(a,A,1,v,x),{opaqueMiddleDisc:r,frontHistogram:s,backHistogram:a,frontHistogramBinBorders:o,backHistogramBinBorders:A,adjacentBondArrows:c,distantBondArrows:l}}fi.add("dihedral-histogram",u0e);class f0e extends v4{constructor(e,t,n){super(e,t,n),this.type="distance",this.parameters=Object.assign({radialSegments:!0,openEnded:!0,disableImpostor:!0,labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},useCylinder:{type:"boolean",rebuild:!0},atomPair:{type:"hidden",rebuild:!0}},this.parameters),this.init(n)}init(e){const t=e||{};t.linewidth=W(t.linewidth,5),t.radiusType=W(t.radiusType,"size"),t.radiusSize=W(t.radiusSize,.2),this.labelUnit=W(t.labelUnit,""),this.useCylinder=W(t.useCylinder,!1),this.atomPair=W(t.atomPair,[]),super.init(t)}getDistanceData(e,t){let n=t.length;const r=new Array(n);let s=new Float32Array(3*n);const a=new ui,o=new ui,A=new J1,c=e.getAtomProxy(),l=e.getAtomProxy();let u=0;const d=e.getAtomSet();t.forEach((m,y)=>{let g=m[0],E=m[1];if(typeof g=="number"&&Number.isInteger(g)&&typeof E=="number"&&Number.isInteger(E)){if(!d.get(g)||!d.get(E))return void(u+=1);c.index=g,l.index=E}else{a.setString(g),o.setString(E);var R=e.getAtomIndices(a),p=e.getAtomIndices(o);if(!R.length||!p.length)return void(u+=1);c.index=R[0],l.index=p[0]}A.addBond(c,l,1),y-=u;var w=c.distanceTo(l);switch(this.labelUnit){case"angstrom":r[y]=w.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":r[y]=(w/10).toFixed(2)+" nm";break;default:r[y]=w.toFixed(2)}var v=3*y;s[v+0]=(c.x+l.x)/2,s[v+1]=(c.y+l.y)/2,s[v+2]=(c.z+l.z)/2}),u>0&&(n-=u,s=s.subarray(0,3*n));var h=new Ji(A.count,!0);return{text:r,position:s,bondSet:h,bondStore:A}}getBondData(e,t,n){const r=e.getBondData(this.getBondParams(t,n));return r.picking&&(r.picking=new toe(r.picking.array,r.picking.structure,n.bondStore)),r}createData(e){if(!e.atomCount||!this.atomPair.length)return;const t=this.atomPair.length,n=new $t(this.labelColor),r=this.getDistanceData(e,this.atomPair);this.textBuffer=new Tu({position:r.position,size:Ts(t,this.labelSize),color:ei(t,n.r,n.g,n.b),text:r.text},this.getLabelBufferParams());const s={bondSet:r.bondSet,bondStore:r.bondStore},a=this.getBondData(e,{position:!0,color:!0,picking:!0,radius:this.useCylinder},s);return this.useCylinder?this.distanceBuffer=new EA(a,this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})):this.distanceBuffer=new wA(PM(a),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),{bondSet:r.bondSet,bondStore:r.bondStore,position:r.position,bufferList:[this.textBuffer,this.distanceBuffer]}}updateData(e,t){super.updateData(e,t);const n={bondSet:t.bondSet,bondStore:t.bondStore},r=this.getBondData(t.sview,e,n),s={};e&&!e.color||Object.assign(s,{color:r.color,color2:r.color2}),e&&!e.radius||Object.assign(s,{radius:r.radius}),this.distanceBuffer.setAttributes(s)}setParameters(e){return super.setParameters(e,{},!1),this.useCylinder||(e&&e.lineOpacity&&this.distanceBuffer.setParameters({opacity:e.lineOpacity}),e&&e.opacity!==void 0&&this.distanceBuffer.setParameters({opacity:this.lineOpacity}),e&&e.linewidth&&this.distanceBuffer.setParameters({linewidth:e.linewidth})),this}}function mw(i){return 2*(i.position.length/3)*3}fi.add("distance",f0e);const h0e=Object.assign({scale:1,color:"grey"},qr);class RR extends po{constructor(e,t={}){super({position:new Float32Array(mw(e)),color:new Float32Array(mw(e))},t),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag";const n=new $t(this.parameters.color),r=this.geometry.attributes;ei(mw(e)/3,n.r,n.g,n.b,r.color.array),this.setAttributes(e)}get defaultParameters(){return h0e}setAttributes(e={}){const t=this.geometry.attributes;let n,r,s;e.position&&e.vector&&(n=e.position,r=e.vector,s=t.position.array,t.position.needsUpdate=!0);const a=this.size/2,o=this.parameters.scale;if(n&&r)for(let A=0;A<a;A++){const c=2*A*3,l=3*A;s[c+0]=n[l+0],s[c+1]=n[l+1],s[c+2]=n[l+2],s[c+3]=n[l+0]+r[l+0]*o,s[c+4]=n[l+1]+r[l+1]*o,s[c+5]=n[l+2]+r[l+2]*o}}}class p0e extends br{constructor(e,t,n){super(e,t,n),this.type="helixorient",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(n)}init(e){const t=e||{};t.colorScheme=W(t.colorScheme,"sstruc"),t.radiusType=W(t.radiusType,"size"),t.radiusSize=W(t.radiusSize,.15),t.radiusScale=W(t.radiusScale,1),t.useInteriorColor=W(t.useInteriorColor,!0),super.init(t)}createData(e){const t=[],n=[];return this.structure.eachPolymer(r=>{if(r.residueCount<4)return;n.push(r);const s=new qm(r),a=s.getPosition(),o=s.getColor(this.getColorParams()),A=s.getSize(this.getRadiusParams()),c=s.getPicking();t.push(new v0({position:a.center,color:o.color,radius:A.size,picking:c.picking},this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),new RR({position:a.center,vector:a.axis},this.getBufferParams({color:"skyblue",scale:1})),new RR({position:a.center,vector:a.resdir},this.getBufferParams({color:"lightgreen",scale:1})))},e.getSelection()),{bufferList:t,polymerList:n}}updateData(e,t){ot&&He.time(this.type+" repr update"),e=e||{};for(let n=0,r=t.polymerList.length;n<r;++n){const s=3*n,a={},o=t.polymerList[n],A=new qm(o);if(e.position){const c=A.getPosition();Object.assign(a,{position:c.center}),t.bufferList[s+1].setAttributes({position:c.center,vector:c.axis}),t.bufferList[s+2].setAttributes({position:c.center,vector:c.resdir})}t.bufferList[s].setAttributes(a)}ot&&He.timeEnd(this.type+" repr update")}}fi.add("helixorient",p0e);class vT extends sy{constructor(e,t,n){super(e,t,n),this.type="licorice",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}init(e){var t=e||{};t.aspectRatio=1,super.init(t)}}fi.add("licorice",vT),kn.add("shader/HyperballStickImpostor.vert",`
attribute vec3 mapping;
attribute float radius;
attribute float radius2;
attribute vec3 position1;
attribute vec3 position2;
varying mat4 matrix_near;
varying vec4 prime1;
varying vec4 prime2;
varying float vRadius;
varying float vRadius2;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor1;
varying vec3 vColor2;
#endif
uniform float shrink;
uniform mat4 modelViewProjectionMatrix;
uniform mat4 modelViewProjectionMatrixInverse;
void main(){
vRadius = radius;
vRadius2 = radius2;
vec4 spaceposition;
vec3 position_atom1;
vec3 position_atom2;
vec4 vertex_position;
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
vColor1 = color;
vColor2 = color2;
#endif
float radius1 = radius;
position_atom1 = position1;
position_atom2 = position2;
float distance = distance( position_atom1, position_atom2 );
spaceposition.z = mapping.z * distance;
if (radius1 > radius2) {
spaceposition.y = mapping.y * 1.5 * radius1;
spaceposition.x = mapping.x * 1.5 * radius1;
} else {
spaceposition.y = mapping.y * 1.5 * radius2;
spaceposition.x = mapping.x * 1.5 * radius2;
}
spaceposition.w = 1.0;
vec4 e3 = vec4( 1.0 );
vec3 e1, e1_temp, e2, e2_temp;
e3.xyz = normalize(position_atom1-position_atom2);
if (e3.z == 0.0) { e3.z = 0.0000000000001;}
if ( (position_atom1.x - position_atom2.x) == 0.0) { position_atom1.x += 0.001;}
if ( (position_atom1.y - position_atom2.y) == 0.0) { position_atom1.y += 0.001;}
if ( (position_atom1.z - position_atom2.z) == 0.0) { position_atom1.z += 0.001;}
vec4 focus = vec4( 1.0 );
focus.x = ( position_atom1.x*position_atom1.x - position_atom2.x*position_atom2.x +
( radius2*radius2 - radius1*radius1 )*e3.x*e3.x/shrink )/(2.0*(position_atom1.x - position_atom2.x));
focus.y = ( position_atom1.y*position_atom1.y - position_atom2.y*position_atom2.y +
( radius2*radius2 - radius1*radius1 )*e3.y*e3.y/shrink )/(2.0*(position_atom1.y - position_atom2.y));
focus.z = ( position_atom1.z*position_atom1.z - position_atom2.z*position_atom2.z +
( radius2*radius2 - radius1*radius1 )*e3.z*e3.z/shrink )/(2.0*(position_atom1.z - position_atom2.z));
e1.x = 1.0;
e1.y = 1.0;
e1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;
e1_temp = e1 - focus.xyz;
e1 = normalize(e1_temp);
e2_temp = e1.yzx * e3.zxy - e1.zxy * e3.yzx;
e2 = normalize(e2_temp);
mat3 R= mat3( e1.xyz, e2.xyz, e3.xyz );
vertex_position.xyz = R * spaceposition.xyz;
vertex_position.w = 1.0;
vertex_position.x += (position_atom1.x+position_atom2.x) / 2.0;
vertex_position.y += (position_atom1.y+position_atom2.y) / 2.0;
vertex_position.z += (position_atom1.z+position_atom2.z) / 2.0;
gl_Position = modelViewProjectionMatrix * vertex_position;
vec4 i_near, i_far;
vec4 near = gl_Position;
near.z = 0.0 ;
near = modelViewProjectionMatrixInverse * near;
i_near = near;
vec4 far = gl_Position;
far.z = far.w ;
i_far = modelViewProjectionMatrixInverse * far;
prime1 = vec4( position_atom1 - (position_atom1 - focus.xyz)*shrink, 1.0 );
prime2 = vec4( position_atom2 - (position_atom2 - focus.xyz)*shrink, 1.0 );
float Rsquare = (radius1*radius1/shrink) - (
(position_atom1.x - focus.x)*(position_atom1.x - focus.x) +
(position_atom1.y - focus.y)*(position_atom1.y - focus.y) +
(position_atom1.z - focus.z)*(position_atom1.z - focus.z)
);
focus.w = Rsquare;
matrix_near = mat4( i_near, i_far, focus, e3 );
gl_Position.z = 1.0;
}`),kn.add("shader/HyperballStickImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform float shrink;
uniform mat4 modelViewMatrix;
uniform mat4 modelViewProjectionMatrix;
uniform mat4 modelViewMatrixInverseTranspose;
uniform mat4 projectionMatrix;
varying mat4 matrix_near;
varying vec4 prime1;
varying vec4 prime2;
varying float vRadius;
varying float vRadius2;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
varying vec3 vColor1;
varying vec3 vColor2;
#include common
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool interior = false;
float calcClip( vec4 cameraPos ){
return dot( cameraPos, vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
float calcClip( vec3 cameraPos ){
return calcClip( vec4( cameraPos, 1.0 ) );
}
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
struct Ray {
vec3 origin ;
vec3 direction ;
};
bool cutoff_plane (vec3 M, vec3 cutoff, vec3 x3){
float a = x3.x;
float b = x3.y;
float c = x3.z;
float d = -x3.x*cutoff.x-x3.y*cutoff.y-x3.z*cutoff.z;
float l = a*M.x+b*M.y+c*M.z+d;
if (l<0.0) {return true;}
else{return false;}
}
vec3 isect_surf(Ray r, mat4 matrix_coef){
vec4 direction = vec4(r.direction, 0.0);
vec4 origin = vec4(r.origin, 1.0);
float a = dot(direction,(matrix_coef*direction));
float b = dot(origin,(matrix_coef*direction));
float c = dot(origin,(matrix_coef*origin));
float delta =b*b-a*c;
gl_FragColor.a = 1.0;
if (delta<0.0){
discard;
}
float t1 =(-b-sqrt(delta))/a;
return r.origin+t1*r.direction;
}
vec3 isect_surf2(Ray r, mat4 matrix_coef){
vec4 direction = vec4(r.direction, 0.0);
vec4 origin = vec4(r.origin, 1.0);
float a = dot(direction,(matrix_coef*direction));
float b = dot(origin,(matrix_coef*direction));
float c = dot(origin,(matrix_coef*origin));
float delta =b*b-a*c;
gl_FragColor.a = 1.0;
if (delta<0.0){
discard;
}
float t2 =(-b+sqrt(delta))/a;
return r.origin+t2*r.direction;
}
Ray primary_ray(vec4 near1, vec4 far1){
vec3 near=near1.xyz/near1.w;
vec3 far=far1.xyz/far1.w;
return Ray(near,far-near);
}
float update_z_buffer(vec3 M, mat4 ModelViewP){
float depth1;
vec4 Ms=(ModelViewP*vec4(M,1.0));
return depth1=(1.0+Ms.z/Ms.w)/2.0;
}
void main(){
float radius = max( vRadius, vRadius2 );
vec4 i_near, i_far, focus;
vec3 e3, e1, e1_temp, e2;
i_near = vec4(matrix_near[0][0],matrix_near[0][1],matrix_near[0][2],matrix_near[0][3]);
i_far = vec4(matrix_near[1][0],matrix_near[1][1],matrix_near[1][2],matrix_near[1][3]);
focus = vec4(matrix_near[2][0],matrix_near[2][1],matrix_near[2][2],matrix_near[2][3]);
e3 = vec3(matrix_near[3][0],matrix_near[3][1],matrix_near[3][2]);
e1.x = 1.0;
e1.y = 1.0;
e1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;
e1_temp = e1 - focus.xyz;
e1 = normalize(e1_temp);
e2 = normalize(cross(e1,e3));
vec4 equation = focus;
float shrinkfactor = shrink;
float t1 = -1.0/(1.0-shrinkfactor);
float t2 = 1.0/(shrinkfactor);
vec4 colonne1, colonne2, colonne3, colonne4;
mat4 mat;
vec3 equation1 = vec3(t2,t2,t1);
float A1 = - e1.x*equation.x - e1.y*equation.y - e1.z*equation.z;
float A2 = - e2.x*equation.x - e2.y*equation.y - e2.z*equation.z;
float A3 = - e3.x*equation.x - e3.y*equation.y - e3.z*equation.z;
float A11 = equation1.x*e1.x*e1.x + equation1.y*e2.x*e2.x + equation1.z*e3.x*e3.x;
float A21 = equation1.x*e1.x*e1.y + equation1.y*e2.x*e2.y + equation1.z*e3.x*e3.y;
float A31 = equation1.x*e1.x*e1.z + equation1.y*e2.x*e2.z + equation1.z*e3.x*e3.z;
float A41 = equation1.x*e1.x*A1 + equation1.y*e2.x*A2 + equation1.z*e3.x*A3;
float A22 = equation1.x*e1.y*e1.y + equation1.y*e2.y*e2.y + equation1.z*e3.y*e3.y;
float A32 = equation1.x*e1.y*e1.z + equation1.y*e2.y*e2.z + equation1.z*e3.y*e3.z;
float A42 = equation1.x*e1.y*A1 + equation1.y*e2.y*A2 + equation1.z*e3.y*A3;
float A33 = equation1.x*e1.z*e1.z + equation1.y*e2.z*e2.z + equation1.z*e3.z*e3.z;
float A43 = equation1.x*e1.z*A1 + equation1.y*e2.z*A2 + equation1.z*e3.z*A3;
float A44 = equation1.x*A1*A1 + equation1.y*A2*A2 + equation1.z*A3*A3 - equation.w;
colonne1 = vec4(A11,A21,A31,A41);
colonne2 = vec4(A21,A22,A32,A42);
colonne3 = vec4(A31,A32,A33,A43);
colonne4 = vec4(A41,A42,A43,A44);
mat = mat4(colonne1,colonne2,colonne3,colonne4);
Ray ray = primary_ray(i_near,i_far) ;
vec3 M;
M = isect_surf(ray, mat);
if (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }
vec4 M1 = vec4(M,1.0);
vec4 M2 = mat*M1;
vec3 _normal = ( modelViewMatrixInverseTranspose * M2 ).xyz;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
#ifdef NEAR_CLIP
if( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 ){
M = isect_surf2(ray, mat);
if( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 )
discard;
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / radius ) );
}
}else if( gl_FragDepthEXT <= 0.0 ){
M = isect_surf2(ray, mat);
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix);
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );
}
}
#else
if( gl_FragDepthEXT <= 0.0 ){
M = isect_surf2(ray, mat);
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );
}
}
#endif
if (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }
if (gl_FragDepthEXT < 0.0)
discard;
if (gl_FragDepthEXT > 1.0)
discard;
float distance_ratio = ((M.x-prime2.x)*e3.x + (M.y-prime2.y)*e3.y +(M.z-prime2.z)*e3.z) /
distance(prime2.xyz,prime1.xyz);
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vViewPosition = -( modelViewMatrix * vec4( M, 1.0 ) ).xyz;
vec3 vNormal = _normal;
vec3 vColor;
if( distance_ratio>0.5 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
vec3 normal = normalize( vNormal );
vec3 nonPerturbedNormal = normal;
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include colorspace_fragment
#include fog_fragment
#endif
}`);const m0e=new Float32Array([-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,-1,1,1,-1,1,1,1,-1,1,1]),g0e=new Uint16Array([0,1,2,0,2,3,1,5,6,1,6,2,4,6,5,4,7,6,0,7,4,0,3,7,0,5,1,0,4,5,3,2,6,3,6,7]);class y0e extends w4{constructor(e,t={}){super("v3",e,t)}get mapping(){return m0e}get mappingIndices(){return g0e}get mappingIndicesSize(){return 36}get mappingSize(){return 8}get mappingItemSize(){return 3}}const xT=Object.assign({shrink:.14},qr),w0e=Object.assign({shrink:{uniform:!0}},Gc);class b0e extends y0e{constructor(e,t={}){super(e,t),this.parameterTypes=w0e,this.isImpostor=!0,this.vertexShader="HyperballStickImpostor.vert",this.fragmentShader="HyperballStickImpostor.frag",this.addUniforms({modelViewProjectionMatrix:{value:new xt},modelViewProjectionMatrixInverse:{value:new xt},modelViewMatrixInverseTranspose:{value:new xt},shrink:{value:this.parameters.shrink}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null},radius2:{type:"f",value:null}}),this.setAttributes(e),this.makeMapping()}get defaultParameters(){return xT}}Object.assign({disableImpostor:!1},R4,xT);const E0e=class{constructor(i,e={}){return!Ao||e&&e.disableImpostor?(i.radius=function(t,n){const r=t.length,s=new Float32Array(r);for(let a=0;a<r;a++)s[a]=Math.min(t[a],n[a]);return s}(i.radius,i.radius2),new ET(i,e)):new b0e(i,e)}};class _0e extends vT{constructor(e,t,n){super(e,t,n),this.type="hyperball",this.parameters=Object.assign({shrink:{type:"number",precision:3,max:1,min:.001,buffer:!0}},this.parameters,{multipleBond:null,bondSpacing:null})}init(e){var t=e||{};t.radiusScale=W(t.radiusScale,.2),t.radiusType=W(t.radiusType,"vdw"),t.useInteriorColor=W(t.useInteriorColor,!0),this.shrink=W(t.shrink,.12),super.init(t)}getBondParams(e,t){return e&&!e.radius||(t=Object.assign({radius2:!0},t)),super.getBondParams(e,t)}createData(e){var t=new v0(e.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));return this.__center=new Float32Array(3*e.bondCount),{bufferList:[t,new E0e(e.getBondData(this.getBondParams()),this.getBufferParams({shrink:this.shrink,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))]}}updateData(e,t){var n=t.sview.getAtomData(this.getAtomParams()),r=t.sview.getBondData(this.getBondParams()),s={},a={};if(!e||e.position){Object.assign(s,{position:n.position});var o=r.position1,A=r.position2;Object.assign(a,{position:co(o,A,this.__center),position1:o,position2:A})}e&&!e.color||(Object.assign(s,{color:n.color}),Object.assign(a,{color:r.color,color2:r.color2})),e&&!e.radius||(Object.assign(s,{radius:n.radius}),Object.assign(a,{radius:r.radius,radius2:r.radius2})),t.bufferList[0].setAttributes(s),t.bufferList[1].setAttributes(a)}}fi.add("hyperball",_0e);class TE{constructor(e,t={},n=""){this.type=e,this.text=t,this.format=n,this.errorLogged=!1}atomLabel(e){let t;switch(this.type){case"atomname":t=e.atomname;break;case"atomindex":t=`${e.index}`;break;case"occupancy":t=e.occupancy.toFixed(2);break;case"bfactor":t=e.bfactor.toFixed(2);break;case"serial":t=`${e.serial}`;break;case"element":t=e.element;break;case"atom":t=`${e.atomname}|${e.index}`;break;case"resname":t=e.resname;break;case"resno":t=`${e.resno}`;break;case"res":t=`${$m[e.resname.toUpperCase()]||e.resname}${e.resno}`;break;case"residue":const n=$m[e.resname.toUpperCase()];t=n&&!e.inscode?`${n}${e.resno}`:`[${e.resname}]${e.resno}${e.inscode}`;break;case"text":t=this.text[e.index];break;case"format":try{t=gM.sprintf(this.format,e)}catch(r){this.errorLogged||(this.errorLogged=!0,console.log(r.message))}break;default:t=e.qualifiedName()}return t===void 0?"":t}}TE.types={"":"",atomname:"atom name",atomindex:"atom index",occupancy:"occupancy",bfactor:"b-factor",serial:"serial",element:"element",atom:"atom name + index",resname:"residue name",resno:"residue no",res:"one letter code + no",residue:"[residue name] + no + inscode",text:"text",format:"format",qualified:"qualified name"};class v0e extends br{constructor(e,t,n){super(e,t,n),this.type="label",this.parameters=Object.assign({labelType:{type:"select",options:TE.types,rebuild:!0},labelText:{type:"hidden",rebuild:!0},labelFormat:{type:"text",rebuild:!0},labelGrouping:{type:"select",options:{atom:"atom",residue:"residue"},rebuild:!0},fontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:!0},fontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:!0},fontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:!0},xOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},yOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},zOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},attachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},showBorder:{type:"boolean",buffer:!0},borderColor:{type:"color",buffer:!0},borderWidth:{type:"number",precision:2,max:.3,min:0,buffer:!0},showBackground:{type:"boolean",rebuild:!0},backgroundColor:{type:"color",buffer:!0},backgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},backgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:!0},fixedSize:{type:"boolean",buffer:!0}},this.parameters,{side:null,flatShaded:null,wireframe:null,linewidth:null,roughness:null,metalness:null,diffuse:null}),this.init(n)}init(e){const t=e||{};this.labelType=W(t.labelType,"res"),this.labelText=W(t.labelText,{}),this.labelFormat=W(t.labelFormat,""),this.labelGrouping=W(t.labelGrouping,"atom"),this.fontFamily=W(t.fontFamily,"sans-serif"),this.fontStyle=W(t.fontStyle,"normal"),this.fontWeight=W(t.fontWeight,"bold"),this.xOffset=W(t.xOffset,0),this.yOffset=W(t.yOffset,0),this.zOffset=W(t.zOffset,.5),this.attachment=W(t.attachment,"bottom-left"),this.showBorder=W(t.showBorder,!1),this.borderColor=W(t.borderColor,"lightgrey"),this.borderWidth=W(t.borderWidth,.15),this.showBackground=W(t.showBackground,!1),this.backgroundColor=W(t.backgroundColor,"lightgrey"),this.backgroundMargin=W(t.backgroundMargin,.5),this.backgroundOpacity=W(t.backgroundOpacity,1),this.fixedSize=W(t.fixedSize,!1),super.init(t)}getTextData(e,t){const n=this.getAtomParams(t),r=new TE(this.labelType,this.labelText,this.labelFormat);let s,a,o,A,c,l,u;if(this.labelGrouping==="atom"){const d=e.getAtomData(n);s=d.position,a=d.radius,o=d.color,t&&!t.text||(A=[],e.eachAtom(h=>A.push(r.atomLabel(h))))}else if(this.labelGrouping==="residue"){t&&!t.position||(c=[]),t&&!t.color||(u=[]),t&&!t.radius||(l=[]),t&&!t.text||(A=[]),n.colorParams&&(n.colorParams.structure=e.getStructure());const d=Bn.getScheme(n.colorParams),h=new yA(n.radiusParams),m=e.getAtomProxy();let y=0;e.eachResidue(g=>{const E=3*y;g.isProtein()||g.isNucleic()?(m.index=g.traceAtomIndex,t&&!t.position||m.positionToArray(c,E)):(m.index=g.atomOffset,t&&!t.position||g.positionToArray(c,E)),t&&!t.color||d.atomColorToArray(m,u,E),t&&!t.radius||(l[y]=h.atomRadius(m)),t&&!t.text||A.push(r.atomLabel(m)),++y}),t&&!t.position||(s=new Float32Array(c)),t&&!t.color||(o=new Float32Array(u)),t&&!t.radius||(a=new Float32Array(l))}return{position:s,size:a,color:o,text:A}}createData(e){return{bufferList:[new Tu(this.getTextData(e,{position:!0,color:!0,radius:!0,text:!0}),this.getBufferParams({fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight,xOffset:this.xOffset,yOffset:this.yOffset,zOffset:this.zOffset,attachment:this.attachment,showBorder:this.showBorder,borderColor:this.borderColor,borderWidth:this.borderWidth,showBackground:this.showBackground,backgroundColor:this.backgroundColor,backgroundMargin:this.backgroundMargin,backgroundOpacity:this.backgroundOpacity,fixedSize:this.fixedSize}))]}}updateData(e,t){t.bufferList[0].setAttributes(this.getTextData(t.sview,e))}getAtomRadius(){return 0}}function x0e(i){const e=i.getAtomSet(),t=i.getBondSet(),n=i.getBondProxy();return t.forEach(function(r){n.index=r,e.clear(n.atomIndex1),e.clear(n.atomIndex2)}),e}fi.add("label",v0e);class R0e extends br{constructor(e,t,n){super(e,t,n),this.type="line",this.parameters=Object.assign({multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0},lines:{type:"boolean",rebuild:!0},crosses:{type:"select",rebuild:!0,options:{off:"off",lone:"lone",all:"all"}},crossSize:{type:"number",precision:2,max:2,min:.1}},this.parameters,{flatShaded:null,side:null,wireframe:null,roughness:null,metalness:null}),this.init(n)}init(e){var t=e||{};this.multipleBond=W(t.multipleBond,"off"),this.bondSpacing=W(t.bondSpacing,1),this.linewidth=W(t.linewidth,2),this.lines=W(t.lines,!0),this.crosses=W(t.crosses,"lone"),this.crossSize=W(t.crossSize,.4),super.init(t)}getAtomRadius(e){return .1}getBondParams(e,t){return t=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,radiusParams:{type:"size",size:.1,scale:1}},t),super.getBondParams(e,t)}_crossData(e,t){if(e&&!e.position&&!e.color)return;const n={};this.crosses==="lone"&&Object.assign(n,{atomSet:x0e(t)});const r=t.getAtomData(this.getAtomParams(e,n)),s={},a=r.position,o=r.color,A=r.picking,c=(a||o).length,l=3*c;let u=new Float32Array(0),d=new Float32Array(0),h=new Float32Array(0),m=new Float32Array(0),y=0,g=new Float32Array(0);e&&!e.position||(u=s.position1=new Float32Array(l),d=s.position2=new Float32Array(l),y=this.crossSize/2),e&&!e.color||(h=s.color=new Float32Array(l),m=s.color2=new Float32Array(l)),e&&!e.picking||(g=new Float32Array(3*r.picking.array.length));for(let E=0;E<c;E++){const R=3*E,p=3*R;if(!e||e.position){const w=a[R],v=a[R+1],_=a[R+2];u[p]=w-y,u[p+1]=v,u[p+2]=_,d[p]=w+y,d[p+1]=v,d[p+2]=_,u[p+3]=w,u[p+4]=v-y,u[p+5]=_,d[p+3]=w,d[p+4]=v+y,d[p+5]=_,u[p+6]=w,u[p+7]=v,u[p+8]=_-y,d[p+6]=w,d[p+7]=v,d[p+8]=_+y}if(!e||e.color){const w=p+9;for(let v=p;v<w;v+=3)h[v]=m[v]=o[R],h[v+1]=m[v+1]=o[R+1],h[v+2]=m[v+2]=o[R+2]}e&&!e.picking||(g[R]=g[R+1]=g[R+2]=A.array[E])}return e&&!e.picking||(s.picking=new Tc(g,A.structure)),s}createData(e){const t={position:!0,color:!0,picking:!0},n=[];if(this.lines){const r=e.getBondData(this.getBondParams(t)),s=new wA(r,this.getBufferParams({linewidth:this.linewidth}));n.push(s)}if(this.crosses!=="off"){const r=new wA(this._crossData(t,e),this.getBufferParams({linewidth:this.linewidth}));n.push(r)}return{bufferList:n}}updateData(e,t){let n=0;if(this.lines){const r=t.sview.getBondData(this.getBondParams(e)),s={};e&&!e.position||Object.assign(s,{position1:r.position1,position2:r.position2}),e&&!e.color||Object.assign(s,{color:r.color,color2:r.color2}),t.bufferList[n++].setAttributes(s)}if(this.crosses!=="off"){const r=this._crossData(e,t.sview),s={};e&&!e.position||Object.assign(s,{position1:r.position1,position2:r.position2}),e&&!e.color||Object.assign(s,{color:r.color,color2:r.color2}),t.bufferList[n++].setAttributes(s)}}setParameters(e){var t={};return e&&(e.bondSpacing||e.crossSize)&&Object.assign(t,{position:!0}),super.setParameters(e,t,!1),this}}function RT(i,e,t,n,r){const s=new(n=n||Int32Array)(i*e*t*(r=r||1));function a(o,A,c){return((o*e+A)*t+c)*r}return{data:s,index:a,set:function(o,A,c,...l){const u=a(o,A,c);for(let d=0;d<r;++d)s[u+d]=l[d]},toArray:function(o,A,c,l=[],u=0){const d=a(o,A,c);for(let h=0;h<r;++h)l[u+h]=s[d+h]},fromArray:function(o,A,c,l,u=0){const d=a(o,A,c);for(let h=0;h<r;++h)s[d+h]=l[u+h]},copy:function(o){s.set(o.data)}}}function em(i,e,t){var n=JM(e),r=Bf(i);i.length===0&&(r[0].set([0,0,0]),r[1].set([0,0,0]));var s,a,o,A,c,l,u,d,h,m,y,g,E,R,p,w=r[0],v=r[1];function _(L,k,K,V,D){s=k||1.4,a=K||2,g=D||!0;var H=0;for(var oe in n)H=Math.max(H,oe);var Ae=Tf(w,v,H,a,L?s:0);A=Ae.dim[0],c=Ae.dim[1],l=Ae.dim[2],u=Ae.matrix,d=Ae.tran,a=Ae.scaleFactor,h={},m={},I(L),y=s*a,o=V||s/a,E=new Uint8Array(A*c*l),L&&(R=new Float64Array(A*c*l)),g&&(p=new Int32Array(A*c*l))}var x=1,C=2,B=4,G=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];function I(L){var k,K,V,D,H,oe,Ae,ee,se,le;for(var J in n)if(k=parseFloat(J),!h[J]){for(oe=(Ae=L?(k+s)*a+.5:k*a+.5)*Ae,ee=Math.floor(Ae)+1,se=new Int32Array(ee*ee),le=0,K=0;K<ee;++K)for(V=0;V<ee;++V)(D=K*K+V*V)>oe?se[le]=-1:(H=Math.sqrt(oe-D),se[le]=Math.floor(H)),++le;m[J]=ee,h[J]=se}}function N(L){var k,K,V,D,H,oe,Ae,ee,se,le,J,me,ue,ge,fe,we,Fe,je,De=3*L,Le=L;k=Math.floor(.5+a*(i[De]+d[0])),K=Math.floor(.5+a*(i[De+1]+d[1])),V=Math.floor(.5+a*(i[De+2]+d[2]));var tt,Ie=e[Le],Xe=h[Ie],et=0,st=c*l,re=m[Ie];for(le=0;le<re;++le)for(J=0;J<re;++J){if((tt=Xe[et])!==-1){for(we=-1;we<2;++we)for(Fe=-1;Fe<2;++Fe)for(je=-1;je<2;++je)if(we!==0&&Fe!==0&&je!==0){for(Ae=we*le,se=je*J,me=0;me<=tt;++me)if(ge=K+(ee=me*Fe),fe=V+se,!((ue=k+Ae)<0||ge<0||fe<0||ue>=A||ge>=c||fe>=l)){var X=ue*st+ge*l+fe;if(g)if(E[X]&x){if(E[X]&x){var Be=p[X];Be!==De&&Ae*Ae+ee*ee+se*se<(D=k+Ae-Math.floor(.5+a*(i[Be]+d[0])))*D+(H=K+ee-Math.floor(.5+a*(i[Be+1]+d[1])))*H+(oe=V+se-Math.floor(.5+a*(i[Be+2]+d[2])))*oe&&(p[X]=L)}}else E[X]|=x,p[X]=L;else E[X]|=x}}}et++}}function T(L){var k,K;for(console.time("EDTSurface fillvoxels"),k=0,K=E.length;k<K;++k)E[k]=0,L&&(R[k]=-1),g&&(p[k]=-1);for(k=0,K=i.length/3;k<K;++k)N(k);for(k=0,K=E.length;k<K;++k)E[k]&x&&(E[k]|=C);console.timeEnd("EDTSurface fillvoxels")}function M(L){var k,K,V,D,H,oe,Ae,ee,se,le,J,me,ue,ge,fe,we,Fe,je,De,Le=3*L,tt=L,Ie=0;k=Math.floor(.5+a*(i[Le]+d[0])),K=Math.floor(.5+a*(i[Le+1]+d[1])),V=Math.floor(.5+a*(i[Le+2]+d[2]));var Xe=e[tt],et=c*l;for(ue=0,De=m[Xe];ue<De;++ue)for(ge=0;ge<De;++ge){if(h[Xe][Ie]!==-1){for(we=-1;we<2;++we)for(Fe=-1;Fe<2;++Fe)for(je=-1;je<2;++je)if(we!==0&&Fe!==0&&je!==0){for(Ae=we*ue,se=je*ge,fe=0;fe<=h[Xe][Ie];++fe)if(J=K+(ee=fe*Fe),me=V+se,!((le=k+Ae)<0||J<0||me<0||le>=A||J>=c||me>=l)){var st=le*et+J*l+me;if(E[st]&C){if(g){var re=p[st];Ae*Ae+ee*ee+se*se<(D=Math.floor(.5+a*(i[re]+d[0])))*D+(H=Math.floor(.5+a*(i[re+1]+d[1])))*H+(oe=Math.floor(.5+a*(i[re+2]+d[2])))*oe&&(p[st]=L)}}else E[st]|=C,g&&(p[st]=L)}}}Ie++}}function U(){var L,k,K,V;console.time("EDTSurface fastdistancemap");var D,H=RT(A,c,l,Uint16Array,3),oe=c*l,Ae=y*y,ee=0;for(L=0;L<A;++L)for(k=0;k<c;++k)for(K=0;K<l;++K)E[D=L*oe+k*l+K]&=~C,E[D]&x&&E[D]&B&&(H.set(L,k,K,L,k,K),R[D]=0,E[D]|=C,ee+=1);var se=new Int32Array(3*ee),le=0,J=new Int32Array(3*ee),me=0;for(L=0;L<A;++L)for(k=0;k<c;++k)for(K=0;K<l;++K)E[D=L*oe+k*l+K]&B&&(se[le]=L,se[le+1]=k,se[le+2]=K,le+=3,E[D]&=~B);do for(me=z(se,H,le,J),le=0,L=0,V=me;L<V;L+=3)D=oe*J[L]+l*J[L+1]+J[L+2],E[D]&=~B,R[D]<=1.0404*Ae&&(se[le]=J[L],se[le+1]=J[L+1],se[le+2]=J[L+2],le+=3);while(le>0);var ue,ge=o*o,fe=new Uint16Array(3);for(L=0;L<A;++L)for(k=0;k<c;++k)for(K=0;K<l;++K)E[D=L*oe+k*l+K]&=~B,E[D]&x&&(E[D]&C&&!(E[D]&C&&R[D]>=ge)||(E[D]|=B,g&&E[D]&C&&(H.toArray(L,k,K,fe),ue=fe[0]*oe+fe[1]*l+fe[2],p[D]=p[ue])));console.timeEnd("EDTSurface fastdistancemap")}function z(L,k,K,V){var D,H,oe,Ae,ee,se,le,J,me,ue,ge,fe,we=new Uint16Array(3),Fe=0;if(K===0)return Fe;var je=-1,De=-1,Le=-1,tt=c*l;for(le=0,me=K;le<me;le+=3)for(D=L[le],H=L[le+1],oe=L[le+2],k.toArray(D,H,oe,we),J=0;J<6;++J)je=D+(fe=G[J])[0],De=H+fe[1],Le=oe+fe[2],je<A&&je>-1&&De<c&&De>-1&&Le<l&&Le>-1&&(E[ge=je*tt+l*De+Le]&x&&!(E[ge]&C)?(k.fromArray(je,De,Le,we),ue=(Ae=je-we[0])*Ae+(ee=De-we[1])*ee+(se=Le-we[2])*se,R[ge]=ue,E[ge]|=C,E[ge]|=B,V[Fe]=je,V[Fe+1]=De,V[Fe+2]=Le,Fe+=3):E[ge]&x&&E[ge]&C&&(ue=(Ae=je-we[0])*Ae+(ee=De-we[1])*ee+(se=Le-we[2])*se)<R[ge]&&(k.fromArray(je,De,Le,we),R[ge]=ue,E[ge]&B||(E[ge]|=B,V[Fe]=je,V[Fe+1]=De,V[Fe+2]=Le,Fe+=3)));for(le=0,me=K;le<me;le+=3)for(D=L[le],H=L[le+1],oe=L[le+2],k.toArray(D,H,oe,we),J=6;J<18;J++)je=D+(fe=G[J])[0],De=H+fe[1],Le=oe+fe[2],je<A&&je>-1&&De<c&&De>-1&&Le<l&&Le>-1&&(E[ge=je*tt+l*De+Le]&x&&!(E[ge]&C)?(k.fromArray(je,De,Le,we),ue=(Ae=je-we[0])*Ae+(ee=De-we[1])*ee+(se=Le-we[2])*se,R[ge]=ue,E[ge]|=C,E[ge]|=B,V[Fe]=je,V[Fe+1]=De,V[Fe+2]=Le,Fe+=3):E[ge]&x&&E[ge]&C&&(ue=(Ae=je-we[0])*Ae+(ee=De-we[1])*ee+(se=Le-we[2])*se)<R[ge]&&(k.fromArray(je,De,Le,we),R[ge]=ue,E[ge]&B||(E[ge]|=B,V[Fe]=je,V[Fe+1]=De,V[Fe+2]=Le,Fe+=3)));for(le=0,me=K;le<me;le+=3)for(D=L[le],H=L[le+1],oe=L[le+2],k.toArray(D,H,oe,we),J=18;J<26;J++)je=D+(fe=G[J])[0],De=H+fe[1],Le=oe+fe[2],je<A&&je>-1&&De<c&&De>-1&&Le<l&&Le>-1&&(E[ge=je*tt+l*De+Le]&x&&!(E[ge]&C)?(k.fromArray(je,De,Le,we),ue=(Ae=je-we[0])*Ae+(ee=De-we[1])*ee+(se=Le-we[2])*se,R[ge]=ue,E[ge]|=C,E[ge]|=B,V[Fe]=je,V[Fe+1]=De,V[Fe+2]=Le,Fe+=3):E[ge]&x&&E[ge]&C&&(ue=(Ae=je-we[0])*Ae+(ee=De-we[1])*ee+(se=Le-we[2])*se)<R[ge]&&(k.fromArray(je,De,Le,we),R[ge]=ue,E[ge]&B||(E[ge]|=B,V[Fe]=je,V[Fe+1]=De,V[Fe+2]=Le,Fe+=3)));return Fe}this.getVolume=function(L,k,K,V,D){console.time("EDTSurface.getVolume");var H=L!=="vws";_(H,k,K,V,D),T(H),function(){var ee,se,le,J=c*l;for(ee=0;ee<A;++ee)for(se=0;se<l;++se)for(le=0;le<c;++le){var me=ee*J+le*l+se;if(E[me]&x)for(var ue=0;ue<26;){var ge=ee+G[ue][0],fe=se+G[ue][2],we=le+G[ue][1];if(ge>-1&&ge<A&&we>-1&&we<c&&fe>-1&&fe<l&&!(E[ge*J+we*l+fe]&x)){E[me]|=B;break}ue++}}}(),L!=="ms"&&L!=="ses"||U(),L==="ses"&&(I(!1),function(){var ee,se;for(ee=0,se=E.length;ee<se;++ee)E[ee]&=~C;for(ee=0,se=i.length/3;ee<se;++ee)M(ee)}()),function(ee){var se,le=E.length;if(ee==="vws")for(se=0;se<le;++se)E[se]&=~B,E[se]=E[se]&C?1:0;else if(ee==="ms")for(se=0;se<le;++se)E[se]&=~C,E[se]&B&&(E[se]|=C),E[se]&=~B,E[se]=E[se]&C?1:0;else if(ee==="ses")for(se=0;se<le;++se)E[se]&B&&E[se]&C?E[se]&=~B:E[se]&B&&!(E[se]&C)&&(E[se]|=C),E[se]=E[se]&C?1:0;else if(ee==="sas")for(se=0;se<le;++se)E[se]&=~B,E[se]=E[se]&C?1:0}(L);for(var oe=0,Ae=p.length;oe<Ae;++oe)p[oe]=t[p[oe]];return console.timeEnd("EDTSurface.getVolume"),{data:E,nx:l,ny:c,nz:A,atomindex:p}},this.getSurface=function(L,k,K,V,D,H,oe){var Ae=this.getVolume(L,k,K,V,D);return new c0(Ae.data,Ae.nx,Ae.ny,Ae.nz,Ae.atomindex).getSurface(1,H,void 0,u,oe)}}function BT(i,e,t,n,r,s,a){a=Math.max(.1,a);var o=i.length,A=r[0],c=r[1],l=r[2],u=s[0],d=s[1],h=s[2];function m(K,V){return Math.floor((K-V)/a)}for(var y,g,E,R=m(u,A)+1,p=m(d,c)+1,w=m(h,l)+1,v=R*p*w,_=p*w,x=[],C=0;C<o;C++){var B=(y=i[C],g=e[C],E=t[C],(m(y,A)*p+m(g,c))*w+m(E,l));x[B]===void 0?x[B]=[C]:x[B].push(C)}var G=new Uint32Array(v),I=new Uint16Array(v),N=new Uint32Array(o),T=0,M=0;for(C=0;C<v;C++){var U=G[C]=T,z=x[C];if(z!==void 0)for(var L=0;L<z.length;L++)N[T]=z[L],T++;var k=T-U;I[C]=k,k>M&&(M=k)}return{neighbourListLength:27*M+1,withinRadii:function(K,V,D,H,oe){for(var Ae=0,ee=m(K,A),se=m(V,c),le=m(D,l),J=Math.max(0,ee-1),me=Math.max(0,se-1),ue=Math.max(0,le-1),ge=Math.min(R,ee+2),fe=Math.min(p,se+2),we=Math.min(w,le+2),Fe=J;Fe<ge;++Fe)for(var je=Fe*_,De=me;De<fe;++De)for(var Le=De*w,tt=ue;tt<we;++tt)for(var Ie=je+Le+tt,Xe=G[Ie],et=Xe+I[Ie],st=Xe;st<et;st++){var re=N[st],X=i[re]-K,Be=e[re]-V,We=t[re]-D,Se=n[re]+H;X*X+Be*Be+We*We<=Se*Se&&(oe[Ae++]=N[st])}oe[Ae]=-1}}}function tm(i,e,t){const n=e.length,r=new Float32Array(n),s=new Float32Array(n),a=new Float32Array(n);for(let ee=0;ee<n;ee++){const se=3*ee;r[ee]=i[se],s[ee]=i[se+1],a[ee]=i[se+2]}let o=Bf(i);i.length===0&&(o[0].set([0,0,0]),o[1].set([0,0,0]));const A=o[0],c=o[1];let l,u,d,h,m,y,g,E,R,p,w,v,_,x,C,B,G,I,N=-1;const T=new Float32Array([0,0,0]),M=new Float32Array([0,0,0]),U=new Float32Array([0,0,0]),z=new Float32Array([0,0,0]);let L;function k(ee,se,le,J){h=W(ee,1.4),m=W(se,2),y=W(le,!0),g=W(J,30),l=new Float32Array(n),u=new Float32Array(n);for(let ue=0;ue<l.length;++ue){var me=e[ue]+h;l[ue]=me,u[ue]=me*me}d=0;for(let ue=0;ue<l.length;++ue)l[ue]>d&&(d=l[ue]);(function(){const ue=Tf(A,c,d,m,0);m=ue.scaleFactor,E=ue.dim,R=ue.matrix,L=Math.max(5,2+Math.floor(h*m)),p=Ts(E[0]*E[1]*E[2],-1001),w=new Int32Array(p.length),v=new Float32Array(E[0]),_=new Float32Array(E[1]),x=new Float32Array(E[2]),K(v,A[0],1/m),K(_,A[1],1/m),K(x,A[2],1/m)})(),function(){var ue=0,ge=2*Math.PI/g;B=new Float32Array(g),C=new Float32Array(g);for(var fe=0;fe<g;fe++)B[fe]=Math.cos(ue),C[fe]=Math.sin(ue),ue+=ge}(),G=BT(r,s,a,l,A,c,2.01*d),I=new Int32Array(G.neighbourListLength),N=-1}function K(ee,se,le){for(let J=0;J<ee.length;J++)ee[J]=se+le*J}function V(ee,se,le,J,me){let ue;if(N!==-1){if(ue=N,ue!==J&&ue!==me&&D(ue,ee,se,le))return ue;N=-1}var ge=0;for(ue=I[ge];ue>=0;){if(ue!==J&&ue!==me&&D(ue,ee,se,le))return N=ue,ue;ue=I[++ge]}return N=-1,-1}function D(ee,se,le,J){var me=3*ee,ue=u[ee],ge=i[me]-se,fe=i[me+1]-le,we=i[me+2]-J;return ge*ge+fe*fe+we*we<ue}function H(){for(var ee=0;ee<n;ee++){var se=r[ee],le=s[ee],J=a[ee],me=l[ee],ue=u[ee];G.withinRadii(se,le,J,me,I);for(var ge=Math.ceil(me*m),fe=Math.floor(m*(se-A[0])),we=Math.floor(m*(le-A[1])),Fe=Math.floor(m*(J-A[2])),je=Math.max(0,fe-ge),De=Math.max(0,we-ge),Le=Math.max(0,Fe-ge),tt=Math.min(E[0],fe+ge+2),Ie=Math.min(E[1],we+ge+2),Xe=Math.min(E[2],Fe+ge+2),et=je;et<tt;et++)for(var st=v[et]-se,re=E[1]*E[2]*et,X=De;X<Ie;X++)for(var Be=_[X]-le,We=st*st+Be*Be,Se=re+E[2]*X,ze=Le;ze<Xe;ze++){var ut=x[ze]-J,qe=We+ut*ut;if(qe<ue){var dt=ze+Se;p[dt]<0&&(p[dt]=-p[dt]);var yt=Math.sqrt(qe),Ut=me/yt,ye=st*Ut,nt=Be*Ut,it=ut*Ut;if(V(ye+=se,nt+=le,it+=J,ee,-1)===-1){var ct=me-yt;ct<p[dt]&&(p[dt]=ct,y&&(w[dt]=ee))}}}}}function oe(ee,se){var le=l[ee],J=l[se],me=T[0]=r[se]-r[ee],ue=T[1]=s[se]-s[ee],ge=T[2]=a[se]-a[ee],fe=me*me+ue*ue+ge*ge,we=Math.sqrt(fe),Fe=le*((le*le+we*we-J*J)/(2*le*we));Ni(T,T),function(Bt,he){Bt[0]=Bt[1]=Bt[2]=1,he[0]!==0?Bt[0]=(he[1]+he[2])/-he[0]:he[1]!==0?Bt[1]=(he[0]+he[2])/-he[1]:he[2]!==0&&(Bt[2]=(he[0]+he[1])/-he[2])}(U,T),Ni(U,U),ds(z,T,U),Ni(z,z);var je=Math.sqrt(le*le-Fe*Fe);ti(U,U,je),ti(z,z,je),ti(T,T,Fe),M[0]=T[0]+r[ee],M[1]=T[1]+s[ee],M[2]=T[2]+a[ee],N=-1;for(var De=L,Le=0;Le<g;Le++){var tt=B[Le],Ie=C[Le],Xe=M[0]+tt*U[0]+Ie*z[0],et=M[1]+tt*U[1]+Ie*z[1],st=M[2]+tt*U[2]+Ie*z[2];if(V(Xe,et,st,ee,se)===-1)for(var re=Math.floor(m*(Xe-A[0])),X=Math.floor(m*(et-A[1])),Be=Math.floor(m*(st-A[2])),We=Math.max(0,re-De),Se=Math.max(0,X-De),ze=Math.max(0,Be-De),ut=Math.min(E[0],re+De+2),qe=Math.min(E[1],X+De+2),dt=Math.min(E[2],Be+De+2),yt=We;yt<ut;yt++){me=Xe-v[yt];for(var Ut=E[1]*E[2]*yt,ye=Se;ye<qe;ye++)for(var nt=me*me+(ue=et-_[ye])*ue,it=Ut+E[2]*ye,ct=ze;ct<dt;ct++){fe=nt+(ge=st-x[ct])*ge;var rt=ct+it,at=p[rt];if(at>0&&fe<at*at&&(p[rt]=Math.sqrt(fe),y)){const Bt=me*T[0]+ue*T[1]+ge*T[2];w[rt]=Bt<0?se:ee}}}}}function Ae(ee,se,le){console.time("AVSurface.getVolume"),console.time("AVSurface.init"),k(ee,se,le),console.timeEnd("AVSurface.init"),console.time("AVSurface.projectPoints"),H(),console.timeEnd("AVSurface.projectPoints"),console.time("AVSurface.projectTorii"),function(){for(var J=0;J<n;J++){G.withinRadii(r[J],s[J],a[J],l[J],I);for(var me=0,ue=I[me];ue>=0;)J<ue&&oe(J,ue),ue=I[++me]}}(),console.timeEnd("AVSurface.projectTorii"),function(){for(var J=0;J<p.length;J++)p[J]<0&&(p[J]=0)}(),function(){for(var J=0;J<w.length;J++)w[J]=t[w[J]]}(),console.timeEnd("AVSurface.getVolume")}this.getSurface=function(ee,se,le,J,me,ue,ge){return Ae(se,le,me),new c0(p,E[2],E[1],E[0],w).getSurface(se,!1,void 0,R,ge)}}fi.add("line",R0e),Object.assign(em,{__deps:[Tf,JM,c0,Bf,RT]}),Object.assign(tm,{__deps:[Tf,c0,Ts,Bf,ti,ds,Ni,BT,W]}),tf.add("molsurf",function(i,e){const t=i.data.args,n=i.data.params;if(t&&n){const r=new(n.type==="av"?tm:em)(t.coordList,t.radiusList,t.indexList).getSurface(n.type,n.probeRadius,n.scaleFactor,n.cutoff,!0,n.smooth,n.contour),s=[r.position.buffer,r.index.buffer];r.normal&&s.push(r.normal.buffer),r.atomindex&&s.push(r.atomindex.buffer),e({sd:r,p:n},s)}},[em,tm]);class B0e{constructor(e){this.structure=e}_getAtomData(e){return this.structure.getAtomData({what:{position:!0,radius:!0,index:!0},radiusParams:W(e.radiusParams,{type:"vdw",scale:1})})}_makeSurface(e,t){var n=new Jg(t.name,"",e);return n.info.type=t.type,n.info.probeRadius=t.probeRadius,n.info.scaleFactor=t.scaleFactor,n.info.smooth=t.smooth,n.info.cutoff=t.cutoff,n}getSurface(e){const t=e||{},n=this._getAtomData(e),r=n.position,s=n.radius,a=n.index,o=new(t.type==="av"?tm:em)(r,s,a).getSurface(t.type,t.probeRadius,t.scaleFactor,t.cutoff,!0,t.smooth,t.contour);return this._makeSurface(o,t)}getSurfaceWorker(e,t){const n=Object.assign({},e);if(window.hasOwnProperty("Worker")){this.worker===void 0&&(this.worker=new GM("molsurf"));const r=this._getAtomData(e),s=r.position,a=r.radius,o=r.index,A={args:{coordList:s,radiusList:a,indexList:o},params:n},c=[s.buffer,a.buffer,o.buffer];this.worker.post(A,c,l=>{t(this._makeSurface(l.data.sd,n))},l=>{console.warn("MolecularSurface.getSurfaceWorker error - trying without worker",l),this.worker.terminate(),this.worker=void 0;const u=this.getSurface(n);t(u)})}else{const r=this.getSurface(n);t(r)}}dispose(){this.worker&&this.worker.terminate()}}class C0e extends br{constructor(e,t,n){super(e,t,n),this.type="surface",this.parameters=Object.assign({surfaceType:{type:"select",rebuild:!0,options:{vws:"vws",sas:"sas",ms:"ms",ses:"ses",av:"av"}},probeRadius:{type:"number",precision:1,max:20,min:0,rebuild:!0},smooth:{type:"integer",precision:1,max:10,min:0,rebuild:!0},scaleFactor:{type:"number",precision:1,max:5,min:0,rebuild:!0},cutoff:{type:"number",precision:2,max:50,min:0,rebuild:!0},contour:{type:"boolean",rebuild:!0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},filterSele:{type:"text",rebuild:!0},colorVolume:{type:"hidden"},useWorker:{type:"boolean",rebuild:!0}},this.parameters,{radius:null,scale:null}),this.__infoList=[],this.structure.signals.refreshed.add(()=>{this.__forceNewMolsurf=!0}),this.toBePrepared=!0,this.init(n)}init(e){const t=e||{};t.colorScheme=W(t.colorScheme,"uniform"),t.colorValue=W(t.colorValue,14540253),t.disablePicking=W(t.disablePicking,!0),this.surfaceType=W(t.surfaceType,"ms"),this.probeRadius=W(t.probeRadius,1.4),this.smooth=W(t.smooth,2),this.scaleFactor=W(t.scaleFactor,2),this.cutoff=W(t.cutoff,0),this.contour=W(t.contour,!1),this.background=W(t.background,!1),this.opaqueBack=W(t.opaqueBack,!0),this.filterSele=W(t.filterSele,""),this.colorVolume=W(t.colorVolume,void 0),this.useWorker=W(t.useWorker,!0),super.init(e)}prepareData(e,t,n){let r=this.__infoList[t];if(r||(r={},this.__infoList[t]=r),r.molsurf&&r.sele===e.selection.string)n(t);else{if(this.filterSele){const o=e.structure.getView(new ui(this.filterSele)),A=o.boundingBox.getSize(new ne),c=Math.max(A.x,A.y,A.z),l=e.getAtomSetWithinPoint(o.center,c/2+6);if((e=e.getView(new ui(e.getAtomSetWithinSelection(l,3).toSeleString()))).atomCount===0)return void n(t)}r.sele=e.selection.string,r.molsurf=new B0e(e);const s=this.getSurfaceParams(),a=o=>{r.surface=o,n(t)};this.useWorker?r.molsurf.getSurfaceWorker(s,a):a(r.molsurf.getSurface(s))}}prepare(e){if((this.__forceNewMolsurf||this.__sele!==this.selection.string||this.__surfaceParams!==JSON.stringify(this.getSurfaceParams()))&&(this.__infoList.forEach(s=>{s&&s.molsurf&&s.molsurf.dispose()}),this.__infoList.length=0),this.structureView.atomCount===0)return void e();const t=()=>{this.__sele=this.selection.string,this.__surfaceParams=JSON.stringify(this.getSurfaceParams()),this.__forceNewMolsurf=!1,e()},n=this.assembly==="default"?this.defaultAssembly:this.assembly,r=this.structure.biomolDict[n];r?r.partList.forEach((s,a)=>{const o=s.getView(this.structureView);this.prepareData(o,a,A=>{A===r.partList.length-1&&t()})}):this.prepareData(this.structureView,0,t)}createData(e,t){const n=this.__infoList[t],r=n.surface;if(!r)return;const s={position:r.getPosition(),color:r.getColor(this.getColorParams()),index:r.getFilteredIndex(this.filterSele,e)},a=[];if(r.contour){const o=new nT(s,this.getBufferParams({wireframe:!1}));a.push(o)}else{Object.assign(s,{normal:r.getNormal(),picking:r.getPicking(e.getStructure())});const o=new eT(s,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1}));if(this.getBufferParams().side=="double"){const A=new tT(o);a.push(A)}else a.push(o)}return{bufferList:a,info:n}}updateData(e,t){const n={};if(e.position||e.radius)return this.__forceNewMolsurf=!0,void this.build();e.color&&(n.color=t.info.surface.getColor(this.getColorParams())),e.index&&(n.index=t.info.surface.getFilteredIndex(this.filterSele,t.sview)),t.bufferList[0].setAttributes(n)}setParameters(e,t={},n){return e&&e.filterSele&&(t.index=!0),e&&e.colorVolume!==void 0&&(t.color=!0),e&&e.wireframe&&(e.contour||e.contour===void 0&&this.contour)&&(e.wireframe=!1),super.setParameters(e,t,n),this}getSurfaceParams(e={}){return Object.assign({type:this.surfaceType,probeRadius:this.probeRadius,scaleFactor:this.scaleFactor,smooth:this.smooth&&!this.contour,cutoff:this.cutoff,contour:this.contour,useWorker:this.useWorker,radiusParams:this.getRadiusParams()},e)}getColorParams(){const e=super.getColorParams();return e.volume=this.colorVolume,e}getAtomRadius(){return 0}clear(){super.clear()}dispose(){this.__infoList.forEach(e=>{e&&e.molsurf&&e.molsurf.dispose()}),this.__infoList.length=0,super.dispose()}}fi.add("surface",C0e);class S0e extends br{constructor(e,t,n){super(e,t,n),this.type="point",this.parameters=Object.assign({pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{flatShaded:null,wireframe:null,linewidth:null,side:null,roughness:null,metalness:null}),this.init(n)}init(e){var t=e||{};this.pointSize=W(t.pointSize,1),this.sizeAttenuation=W(t.sizeAttenuation,!0),this.sortParticles=W(t.sortParticles,!1),this.useTexture=W(t.useTexture,!1),this.alphaTest=W(t.alphaTest,.5),this.forceTransparent=W(t.forceTransparent,!1),this.edgeBleach=W(t.edgeBleach,0),super.init(t)}createData(e){var t=e.getAtomData(this.getAtomParams({position:!0,color:!0,picking:!0}));return{bufferList:[new E4(t,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach}))]}}updateData(e,t){var n=t.sview.getAtomData(this.getAtomParams(e)),r={};e&&!e.position||Object.assign(r,{position:n.position}),e&&!e.color||Object.assign(r,{color:n.color}),t.bufferList[0].setAttributes(r)}getAtomRadius(){return .1}}fi.add("point",S0e),kn.add("shader/Ribbon.vert",`#define STANDARD
uniform float clipNear;
uniform vec3 clipCenter;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
attribute vec3 dir;
attribute float size;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#endif
#include common
void main(void){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#include beginnormal_vertex
#include defaultnormal_vertex
#ifndef FLAT_SHADED
vNormal = normalize( transformedNormal );
#endif
#endif
#include begin_vertex
transformed += normalize( dir ) * size;
#include project_vertex
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`);const N0e=new Uint16Array([0,1,2,1,3,2]);function fd(i){return 3*(4*(i.position.length/3-1))}class M0e extends gA{constructor(e,t={}){super({position:new Float32Array(fd(e)),color:new Float32Array(fd(e)),index:ho(fd(e),fd(e)/3),normal:new Float32Array(fd(e)),picking:e.picking},t),this.vertexShader="Ribbon.vert";const n=e.position.length/3-1,r=4*n,s=3*r;this.addAttributes({dir:{type:"v3",value:new Float32Array(s)}}),this.addAttributes({size:{type:"f",value:new Float32Array(r)}}),e.primitiveId=Cu(n),this.setAttributes(e),this.makeIndex()}setAttributes(e={}){const t=this.size/4,n=this.geometry.attributes;let r,s,a,o,A,c,l,u,d,h,m,y,g,E,R,p,w,v,_;e.position&&(r=e.position,l=n.position.array,n.position.needsUpdate=!0),e.normal&&(s=e.normal,u=n.normal.array,n.normal.needsUpdate=!0),e.size&&(a=e.size,d=n.size.array,n.size.needsUpdate=!0),e.dir&&(o=e.dir,h=n.dir.array,n.dir.needsUpdate=!0),e.color&&(A=e.color,m=n.color.array,n.color.needsUpdate=!0),e.primitiveId&&(c=e.primitiveId,y=n.primitiveId.array,n.primitiveId.needsUpdate=!0);let x=a?a[0]:null;for(g=0;g<t;++g){for(v=3*g,R=3*g*4,w=4*g,r&&(l[R]=l[R+3]=r[v],l[R+1]=l[R+4]=r[v+1],l[R+2]=l[R+5]=r[v+2],l[R+6]=l[R+9]=r[v+3],l[R+7]=l[R+10]=r[v+4],l[R+8]=l[R+11]=r[v+5]),s&&(u[R]=u[R+3]=-s[v],u[R+1]=u[R+4]=-s[v+1],u[R+2]=u[R+5]=-s[v+2],u[R+6]=u[R+9]=-s[v+3],u[R+7]=u[R+10]=-s[v+4],u[R+8]=u[R+11]=-s[v+5]),E=0;E<4;++E)p=R+3*E,A&&(m[p]=A[v],m[p+1]=A[v+1],m[p+2]=A[v+2]),c&&(y[w+E]=c[g]);a&&(_=a[g],x!==a[g]?(d[w]=x,d[w+1]=x,d[w+2]=_,d[w+3]=_):(d[w]=_,d[w+1]=_,d[w+2]=_,d[w+3]=_),x=_),o&&(h[R]=o[v],h[R+1]=o[v+1],h[R+2]=o[v+2],h[R+3]=-o[v],h[R+4]=-o[v+1],h[R+5]=-o[v+2],h[R+6]=o[v+3],h[R+7]=o[v+4],h[R+8]=o[v+5],h[R+9]=-o[v+3],h[R+10]=-o[v+4],h[R+11]=-o[v+5])}}makeIndex(){const e=this.geometry.getIndex();if(!e)return void He.error("Index is null");const t=e.array,n=t.length/4/3;for(let r=0;r<n;++r){const s=6*r,a=4*r;t.set(N0e,s);for(let o=0;o<6;++o)t[s+o]+=a}}}class T0e extends br{constructor(e,t,n){super(e,t,n),this.type="ribbon",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{side:null,wireframe:null,linewidth:null}),this.init(n)}init(e){var t=e||{};t.colorScheme=W(t.colorScheme,"chainname"),t.colorScale=W(t.colorScale,"RdYlBu"),t.radiusType=W(t.radiusType,"sstruc"),t.radiusScale=W(t.radiusScale,4),t.quality==="low"?this.subdiv=3:t.quality==="medium"?this.subdiv=6:t.quality==="high"?this.subdiv=12:this.subdiv=W(t.subdiv,6),this.tension=W(t.tension,NaN),this.smoothSheet=W(t.smoothSheet,!1),super.init(t)}getSplineParams(e){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!0,smoothSheet:this.smoothSheet},e)}getAtomRadius(e){return e.isTrace()?super.getAtomRadius(e):0}createData(e){var t=[],n=[];return this.structure.eachPolymer(r=>{if(!(r.residueCount<4)){n.push(r);var s=new gu(r,this.getSplineParams()),a=s.getSubdividedPosition(),o=s.getSubdividedOrientation(),A=s.getSubdividedColor(this.getColorParams()),c=s.getSubdividedPicking(),l=s.getSubdividedSize(this.getRadiusParams());t.push(new M0e({position:a.position,normal:o.binormal,dir:o.normal,color:A.color,size:l.size,picking:c.picking},this.getBufferParams()))}},e.getSelection()),{bufferList:t,polymerList:n}}updateData(e,t){e=e||{};var n=0,r=t.polymerList.length;for(n=0;n<r;++n){var s={},a=new gu(t.polymerList[n],this.getSplineParams());if(e.position){var o=a.getSubdividedPosition(),A=a.getSubdividedOrientation();Object.assign(s,{position:o.position,normal:A.binormal,dir:A.normal})}if(e.radius||e.scale){var c=a.getSubdividedSize(this.getRadiusParams());Object.assign(s,{size:c.size})}if(e.color){var l=a.getSubdividedColor(this.getColorParams());Object.assign(s,{color:l.color})}t.bufferList[n].setAttributes(s)}}setParameters(e){var t={};return e&&e.tension&&Object.assign(t,{position:!0}),super.setParameters(e,t,!1),this}}fi.add("ribbon",T0e);class G0e extends br{constructor(e,t,n){super(e,t,n),this.type="rocket",this.parameters=Object.assign({localAngle:{type:"integer",max:180,min:0,rebuild:!0},centerDist:{type:"number",precision:1,max:10,min:0,rebuild:!0},ssBorder:{type:"boolean",rebuild:!0},radialSegments:!0,openEnded:!0,disableImpostor:!0},this.parameters),this.init(n)}init(e){let t=e||{};t.colorScheme=W(t.colorScheme,"sstruc"),t.radiusSize=W(t.radiusSize,1.5),t.radiusScale=W(t.radiusScale,1),t.openEnded=W(t.openEnded,!1),t.useInteriorColor=W(t.useInteriorColor,!0),this.localAngle=W(t.localAngle,30),this.centerDist=W(t.centerDist,2.5),this.ssBorder=W(t.ssBorder,!1),super.init(t)}createData(e){let t=0;const n=[],r=[];this.structure.eachPolymer(A=>{if(A.residueCount<4||A.isNucleic())return;const c=new aT(A),l=c.getAxis(this.localAngle,this.centerDist,this.ssBorder,this.getColorParams(),this.getRadiusParams());t+=l.size.length,n.push(l),r.push(c)},e.getSelection());const s={begin:new Float32Array(3*t),end:new Float32Array(3*t),size:new Float32Array(t),color:new Float32Array(3*t),picking:{}};let a=new Float32Array(t),o=0;return n.forEach(function(A){s.begin.set(A.begin,3*o),s.end.set(A.end,3*o),s.size.set(A.size,o),s.color.set(A.color,3*o),a.set(A.picking.array,o),o+=A.size.length}),t&&(s.picking=new Tc(a,e.getStructure())),{bufferList:[new EA({position1:s.begin,position2:s.end,color:s.color,color2:s.color,radius:s.size,picking:s.picking},this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))],axisList:n,helixbundleList:r,axisData:s}}updateData(e,t){if((e=e||{}).position)this.build();else{var n={};if(e.color||e.radius){var r=0;t.helixbundleList.forEach(s=>{var a=s.getAxis(this.localAngle,this.centerDist,this.ssBorder,this.getColorParams(),this.getRadiusParams());e.color&&t.axisData.color.set(a.color,3*r),(e.radius||e.scale)&&t.axisData.size.set(a.size,r),r+=a.size.length}),e.color&&Object.assign(n,{color:t.axisData.color,color2:t.axisData.color}),(e.radius||e.scale)&&Object.assign(n,{radius:t.axisData.size})}t.bufferList[0].setAttributes(n)}}}fi.add("rocket",G0e);class F0e extends B4{constructor(e,t,n){super(e,t,n),this.type="rope",this.parameters=Object.assign({smooth:{type:"integer",max:15,min:0,rebuild:!0}},this.parameters,{aspectRatio:null,smoothSheet:null})}init(e){var t=e||{};t.aspectRatio=1,t.tension=W(t.tension,.5),t.radiusScale=W(t.radiusScale,5),t.smoothSheet=!1,this.smooth=W(t.smooth,2),super.init(t)}getSpline(e){var t=new qm(e);return new gu(e,this.getSplineParams({directional:!1,positionIterator:t.getCenterIterator(this.smooth)}))}}fi.add("rope",F0e);class I0e extends br{constructor(e,t,n){super(e,t,n),this.type="spacefill",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(n)}init(e){var t=e||{};t.useInteriorColor=W(t.useInteriorColor,!0),super.init(t)}createData(e){return{bufferList:[new v0(e.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,dullInterior:!0,disableImpostor:this.disableImpostor}))]}}updateData(e,t){var n=t.sview.getAtomData(this.getAtomParams(e)),r={};e&&!e.position||Object.assign(r,{position:n.position}),e&&!e.color||Object.assign(r,{color:n.color}),e&&!e.radius||Object.assign(r,{radius:n.radius}),t.bufferList[0].setAttributes(r)}}function BR(i){return 3*(i.position.length/3-1)*2}fi.add("spacefill",I0e);class U0e extends po{constructor(e,t={}){super({position:new Float32Array(BR(e)),color:new Float32Array(BR(e))},t),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag",this.setAttributes(e)}setAttributes(e){let t,n,r,s;const a=this.geometry.attributes;if(e.position&&(t=e.position,r=a.position.array,a.position.needsUpdate=!0),e.color&&(n=e.color,s=a.color.array,a.color.needsUpdate=!0),!t&&!n)return void He.warn("TraceBuffer.prototype.setAttributes no data");let o,A;const c=this.size-1;for(let l=0;l<c;++l)o=3*l,A=3*l*2,t&&(r[A]=t[o],r[A+1]=t[o+1],r[A+2]=t[o+2],r[A+3]=t[o+3],r[A+4]=t[o+4],r[A+5]=t[o+5]),n&&(s[A]=n[o],s[A+1]=n[o+1],s[A+2]=n[o+2],s[A+3]=n[o+3],s[A+4]=n[o+4],s[A+5]=n[o+5])}}class P0e extends br{constructor(e,t,n){super(e,t,n),this.type="trace",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null}),this.init(n)}init(e){var t=e||{};t.colorScheme=W(t.colorScheme,"chainname"),t.colorScale=W(t.colorScale,"RdYlBu"),t.quality==="low"?this.subdiv=3:t.quality==="medium"?this.subdiv=6:t.quality==="high"?this.subdiv=12:this.subdiv=W(t.subdiv,6),this.tension=W(t.tension,NaN),this.smoothSheet=W(t.smoothSheet,!1),super.init(t)}getSplineParams(e){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!1,smoothSheet:this.smoothSheet},e)}getAtomRadius(e){return e.isTrace()?.1:0}createData(e){var t=[],n=[];return this.structure.eachPolymer(r=>{if(!(r.residueCount<4)){n.push(r);var s=new gu(r,this.getSplineParams()),a=s.getSubdividedPosition(),o=s.getSubdividedColor(this.getColorParams());t.push(new U0e(Object.assign({},a,o),this.getBufferParams()))}},e.getSelection()),{bufferList:t,polymerList:n}}updateData(e,t){e=e||{};var n=0,r=t.polymerList.length;for(n=0;n<r;++n){var s={},a=new gu(t.polymerList[n],this.getSplineParams());if(e.position){var o=a.getSubdividedPosition();Object.assign(s,{position:o.position})}if(e.color){var A=a.getSubdividedColor(this.getColorParams());Object.assign(s,{color:A.color})}t.bufferList[n].setAttributes(s)}}setParameters(e){var t={};return e&&e.tension&&Object.assign(t,{position:!0}),super.setParameters(e,t,!1),this}}fi.add("trace",P0e);class L0e extends B4{constructor(e,t,n){super(e,t,n),this.type="tube",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}init(e){var t=e||{};t.aspectRatio=1,t.radiusScale=W(t.radiusScale,2),t.quality==="low"&&(this.radialSegments=5),super.init(t)}getSplineParams(){return super.getSplineParams({directional:!1})}}fi.add("tube",L0e);class D0e extends br{constructor(e,t,n){super(e,t,n),this.type="unitcell",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0},this.parameters,{assembly:null}),this.init(n)}init(e){const t=e||{};let n=.5;this.structure.unitcell&&(n=Math.cbrt(this.structure.unitcell.volume)/200),t.radiusSize=W(t.radiusSize,n),t.colorValue=W(t.colorValue,"orange"),t.useInteriorColor=W(t.useInteriorColor,!0),super.init(t)}getUnitcellData(e){return e.unitcell.getData(e)}create(){const e=this.structureView.getStructure();if(!e.unitcell)return;const t=this.getUnitcellData(e);this.sphereBuffer=new v0(t.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new EA(t.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})}createData(e){}updateData(e,t){const n=t.sview.getStructure();if(!n.unitcell)return;const r=this.getUnitcellData(n),s={},a={};e&&!e.position||(Object.assign(s,{position:r.vertex.position}),Object.assign(a,{position1:r.edge.position1,position2:r.edge.position2})),e&&!e.color||(Object.assign(s,{color:r.vertex.color}),Object.assign(a,{color:r.edge.color,color2:r.edge.color2})),e&&!e.radius||(Object.assign(s,{radius:r.vertex.radius}),Object.assign(a,{radius:r.edge.radius})),this.sphereBuffer.setAttributes(s),this.cylinderBuffer.setAttributes(a)}}fi.add("unitcell",D0e);class k0e extends br{constructor(e,t,n){super(e,t,n),this.type="validation",this.parameters=Object.assign({},this.parameters,{radiusType:null,radiusSize:null,radiusScale:null}),this.init(n)}init(e){const t=e||{};t.colorValue=W(t.colorValue,"#f0027f"),t.useInteriorColor=W(t.useInteriorColor,!0),super.init(t)}createData(e){if(!e.validation)return;const t=e.validation.getClashData({structure:e,color:this.colorValue});return{bufferList:[new EA(t,this.getBufferParams({openEnded:!1}))]}}}fi.add("validation",k0e);const CR=new ne,gw=new ne,yw=new ne,O0e=new ne(0,1,0),Q0e=Object.assign({radialSegments:60,openEnded:!1},qr);class CT extends _0{constructor(e,t={}){super({position:new Float32Array(e.position1.length),color:e.color,picking:e.picking},t,function(n={}){const r=new e4(1,1,W(n.radialSegments,60),1,W(n.openEnded,!1));return r.applyMatrix4(new xt().makeRotationX(-Math.PI/2)),r}(t)),this.updateNormals=!0,this._position=new Float32Array(e.position1.length),this.setAttributes(e,!0)}get defaultParameters(){return Q0e}applyPositionTransform(e,t,n){gw.fromArray(this._position1,n),yw.fromArray(this._position2,n),e.lookAt(gw,yw,O0e);const r=this._radius[t];CR.set(r,r,gw.distanceTo(yw)),e.scale(CR)}setAttributes(e={},t){e.position1&&e.position2&&(co(e.position1,e.position2,this._position),this._position1=e.position1,this._position2=e.position2,e.position=this._position),e.radius&&(this._radius=e.radius),super.setAttributes(e,t)}}Fs.add("cone",CT);class H0e{constructor(e=[]){this.geometryList=e}computeBoundingBox(){this.boundingBox?this.boundingBox.empty():this.boundingBox=new Gi,this.geometryList.forEach(e=>{e.boundingBox||e.computeBoundingBox(),this.boundingBox.union(e.boundingBox)})}}const z0e=Object.assign({aspectRatio:1.5,radialSegments:50,openEnded:!1,disableImpostor:!1},qr);class V0e{constructor(e,t={}){this.group=new ri,this.wireframeGroup=new ri,this.pickingGroup=new ri,this.visible=!0,this.parameters=Ms(t,this.defaultParameters),this.splitPosition=new Float32Array(e.position1.length),this.cylinderRadius=new Float32Array(e.radius.length);const n=this.makeAttributes(e),r={radialSegments:this.parameters.radialSegments,openEnded:this.parameters.openEnded,disableImpostor:this.parameters.disableImpostor};this.cylinderBuffer=new EA(n.cylinder,r),this.coneBuffer=new CT(n.cone,r),this.geometry=new H0e([this.cylinderBuffer.geometry,this.coneBuffer.geometry]),this.matrix=W(t.matrix,new xt),this.picking=e.picking}get defaultParameters(){return z0e}set matrix(e){po.prototype.setMatrix.call(this,e)}get matrix(){return this.group.matrix.clone()}get pickable(){return!!this.picking}makeAttributes(e={}){const t=this.splitPosition,n=this.cylinderRadius,r=this.parameters.aspectRatio;let s,a;const o={},A={};if(e.radius){for(s=0,a=n.length;s<a;++s)n[s]=e.radius[s]/r;o.radius=n,A.radius=e.radius}if(e.position1&&e.position2){const c=new ne,l=new ne,u=new ne,d=new ne;for(s=0,a=t.length;s<a;s+=3){c.fromArray(e.position1,s),l.fromArray(e.position2,s),u.subVectors(c,l);const h=u.length(),m=n[s/3]*r*2,y=Math.min(h,m);u.setLength(y),d.copy(l).add(u),d.toArray(t,s)}o.position1=e.position1,o.position2=t,A.position1=t,A.position2=e.position2}return e.color&&(o.color=e.color,o.color2=e.color,A.color=e.color),{cylinder:o,cone:A}}getMesh(){return new ri().add(this.cylinderBuffer.getMesh(),this.coneBuffer.getMesh())}getWireframeMesh(){return new ri().add(this.cylinderBuffer.getWireframeMesh(),this.coneBuffer.getWireframeMesh())}getPickingMesh(){return new ri().add(this.cylinderBuffer.getPickingMesh(),this.coneBuffer.getPickingMesh())}setAttributes(e={}){const t=this.makeAttributes(e);this.cylinderBuffer.setAttributes(t.cylinder),this.coneBuffer.setAttributes(t.cone)}setParameters(e={}){(e=Object.assign({},e))&&e.matrix!==void 0&&(this.matrix=e.matrix),delete e.matrix,e&&e.wireframe!==void 0&&(this.parameters.wireframe=e.wireframe,this.setVisibility(this.visible)),this.cylinderBuffer.setParameters(e),this.coneBuffer.setParameters(e)}setVisibility(e){po.prototype.setVisibility.call(this,e)}dispose(){this.cylinderBuffer.dispose(),this.coneBuffer.dispose()}}Fs.add("arrow",V0e);const SR=new ne,ww=new ne,bw=new ne,K0e=new ne(0,0,0);class $0e extends _0{constructor(e,t={}){super(e,t,new xu(1,1,1)),this.updateNormals=!0,this.setAttributes(e,!0)}applyPositionTransform(e,t,n){ww.fromArray(this._heightAxis,n),bw.fromArray(this._depthAxis,n),e.lookAt(K0e,ww,bw),SR.set(this._size[t],bw.length(),ww.length()),e.scale(SR)}setAttributes(e={},t){e.size&&(this._size=e.size),e.heightAxis&&(this._heightAxis=e.heightAxis),e.depthAxis&&(this._depthAxis=e.depthAxis),super.setAttributes(e,t)}}Fs.add("box",$0e);const NR=new ne,Ew=new ne,_w=new ne,W0e=new ne(0,0,0),q0e=Object.assign({sphereDetail:2},qr);class Y0e extends _0{constructor(e,t={}){super(e,t,new zg(1,W(t.sphereDetail,2))),this.updateNormals=!0,this.setAttributes(e,!0)}get defaultParameters(){return q0e}applyPositionTransform(e,t,n){Ew.fromArray(this._majorAxis,n),_w.fromArray(this._minorAxis,n),e.lookAt(W0e,Ew,_w),NR.set(this._radius[t],_w.length(),Ew.length()),e.scale(NR)}setAttributes(e={},t){e.radius&&(this._radius=e.radius),e.majorAxis&&(this._majorAxis=e.majorAxis),e.minorAxis&&(this._minorAxis=e.minorAxis),super.setAttributes(e,t)}}Fs.add("ellipsoid",Y0e);const MR=new ne,vw=new ne,xw=new ne,X0e=new ne(0,0,0);class j0e extends _0{constructor(e,t={}){super(e,t,new t4(1,0)),this.updateNormals=!0,this.setAttributes(e,!0)}applyPositionTransform(e,t,n){vw.fromArray(this._heightAxis,n),xw.fromArray(this._depthAxis,n),e.lookAt(X0e,vw,xw),MR.set(this._size[t],xw.length(),vw.length()),e.scale(MR)}setAttributes(e={},t){e.size&&(this._size=e.size),e.heightAxis&&(this._heightAxis=e.heightAxis),e.depthAxis&&(this._depthAxis=e.depthAxis),super.setAttributes(e,t)}}Fs.add("octahedron",j0e);const TR=new ne,Rw=new ne,Bw=new ne,Z0e=new ne(0,0,0);class J0e extends _0{constructor(e,t={}){super(e,t,new n4(1,0)),this.updateNormals=!0,this.setAttributes(e,!0)}applyPositionTransform(e,t,n){Rw.fromArray(this._heightAxis,n),Bw.fromArray(this._depthAxis,n),e.lookAt(Z0e,Rw,Bw),TR.set(this._size[t],Bw.length(),Rw.length()),e.scale(TR)}setAttributes(e={},t){e.size&&(this._size=e.size),e.heightAxis&&(this._heightAxis=e.heightAxis),e.depthAxis&&(this._depthAxis=e.depthAxis),super.setAttributes(e,t)}}Fs.add("tetrahedron",J0e);const GR=new ne,FR=new ne,IR=new ne,ece=new ne(0,0,0),tce=Object.assign({radiusRatio:.2,radialSegments:16,tubularSegments:32},qr);class nce extends _0{constructor(e,t={}){super(e,t,new i4(1,W(t.radiusRatio,.2),W(t.radialSegments,16),W(t.tubularSegments,32))),this.updateNormals=!0,this.setAttributes(e,!0)}get defaultParameters(){return tce}applyPositionTransform(e,t,n){FR.fromArray(this._majorAxis,n),IR.fromArray(this._minorAxis,n),e.lookAt(ece,FR,IR);const r=this._radius[t];GR.set(r,r,r),e.scale(GR)}setAttributes(e={},t){e.radius&&(this._radius=e.radius),e.majorAxis&&(this._majorAxis=e.majorAxis),e.minorAxis&&(this._minorAxis=e.minorAxis),super.setAttributes(e,t)}}function Dl(i,e){return{start:e&&e.start!==void 0?Math.max(Math.min(e.start,i-1),0):0,end:e&&e.end!==void 0?Math.min(e.end,i):i}}function Zf(i,e){const t=e&&e.array!==void 0?e.array:Array,{start:n,end:r}=Dl(i,e);return{array:new t(r-n),start:n,end:r}}function Sr(i,e,t){const{array:n,start:r}=Zf(i,t);return function(s,a,o){for(let A=0,c=a.length;A<c;A++)a[A]=s(o+A);return a}(e,n,r)}function C4(i){return!!i.buffer&&typeof i.byteLength=="number"&&typeof i.BYTES_PER_ELEMENT=="number"}function jm(i,e){const{constructor:t,buffer:n,length:r,byteOffset:s,BYTES_PER_ELEMENT:a}=i,{start:o,end:A}=Dl(r,e);return o===0&&A===r?i:new t(n,s+a*o,Math.min(r,A-o))}Fs.add("torus",nce);const Ui=1e-6;function mr(i,e,t){return Math.abs(i-e)<=t}function UR(i,e,t){return Math.max(e,Math.min(t,i))}function Cw(i,e,t,n,r,s){const a=(t-i)*s,o=(n-e)*s,A=r*r;return(2*e-2*t+a+o)*(r*A)+(-3*e+3*t-2*a-o)*A+a*r+e}function Sw(i,e,t,n){const r=1-n;return r*r*i+2*r*n*e+n*n*t}const Nw=isFinite;function Vn(){return Vn.zero()}(function(i){function e(){const N=[.1,0,0];return N[0]=0,N}function t(N,T,M){const U=e();return U[0]=N,U[1]=T,U[2]=M,U}function n(N,T){return N[0]=T[0],N[1]=T[1],N[2]=T[2],N}function r(N,T,M){return N[0]=T[0]+M[0],N[1]=T[1]+M[1],N[2]=T[2]+M[2],N}function s(N,T,M){return N[0]=T[0]-M[0],N[1]=T[1]-M[1],N[2]=T[2]-M[2],N}function a(N,T,M){return N[0]=T[0]*M,N[1]=T[1]*M,N[2]=T[2]*M,N}function o(N,T,M,U){return N[0]=T[0]+M[0]*U,N[1]=T[1]+M[1]*U,N[2]=T[2]+M[2]*U,N}function A(N){const T=N[0],M=N[1],U=N[2];return T*T+M*M+U*U}function c(N,T){return N[0]=-T[0],N[1]=-T[1],N[2]=-T[2],N}function l(N,T){const M=T[0],U=T[1],z=T[2];let L=M*M+U*U+z*z;return L>0&&(L=1/Math.sqrt(L),N[0]=T[0]*L,N[1]=T[1]*L,N[2]=T[2]*L),N}function u(N,T){return N[0]*T[0]+N[1]*T[1]+N[2]*T[2]}function d(N,T,M){const U=T[0],z=T[1],L=T[2],k=M[0],K=M[1],V=M[2];return N[0]=z*V-L*K,N[1]=L*k-U*V,N[2]=U*K-z*k,N}i.zero=e,i.clone=function(N){const T=e();return T[0]=N[0],T[1]=N[1],T[2]=N[2],T},i.isFinite=function(N){return Nw(N[0])&&Nw(N[1])&&Nw(N[2])},i.hasNaN=function(N){return isNaN(N[0])||isNaN(N[1])||isNaN(N[2])},i.setNaN=function(N){return N[0]=NaN,N[1]=NaN,N[2]=NaN,N},i.fromObj=function(N){return t(N.x,N.y,N.z)},i.toObj=function(N){return{x:N[0],y:N[1],z:N[2]}},i.fromArray=function(N,T,M){return N[0]=T[M+0],N[1]=T[M+1],N[2]=T[M+2],N},i.toArray=function(N,T,M){return T[M+0]=N[0],T[M+1]=N[1],T[M+2]=N[2],T},i.create=t,i.ofArray=function(N){const T=e();return T[0]=N[0],T[1]=N[1],T[2]=N[2],T},i.set=function(N,T,M,U){return N[0]=T,N[1]=M,N[2]=U,N},i.copy=n,i.add=r,i.sub=s,i.mul=function(N,T,M){return N[0]=T[0]*M[0],N[1]=T[1]*M[1],N[2]=T[2]*M[2],N},i.div=function(N,T,M){return N[0]=T[0]/M[0],N[1]=T[1]/M[1],N[2]=T[2]/M[2],N},i.scale=a,i.scaleAndAdd=o,i.scaleAndSub=function(N,T,M,U){return N[0]=T[0]-M[0]*U,N[1]=T[1]-M[1]*U,N[2]=T[2]-M[2]*U,N},i.addScalar=function(N,T,M){return N[0]=T[0]+M,N[1]=T[1]+M,N[2]=T[2]+M,N},i.subScalar=function(N,T,M){return N[0]=T[0]-M,N[1]=T[1]-M,N[2]=T[2]-M,N},i.round=function(N,T){return N[0]=Math.round(T[0]),N[1]=Math.round(T[1]),N[2]=Math.round(T[2]),N},i.ceil=function(N,T){return N[0]=Math.ceil(T[0]),N[1]=Math.ceil(T[1]),N[2]=Math.ceil(T[2]),N},i.floor=function(N,T){return N[0]=Math.floor(T[0]),N[1]=Math.floor(T[1]),N[2]=Math.floor(T[2]),N},i.trunc=function(N,T){return N[0]=Math.trunc(T[0]),N[1]=Math.trunc(T[1]),N[2]=Math.trunc(T[2]),N},i.abs=function(N,T){return N[0]=Math.abs(T[0]),N[1]=Math.abs(T[1]),N[2]=Math.abs(T[2]),N},i.min=function(N,T,M){return N[0]=Math.min(T[0],M[0]),N[1]=Math.min(T[1],M[1]),N[2]=Math.min(T[2],M[2]),N},i.max=function(N,T,M){return N[0]=Math.max(T[0],M[0]),N[1]=Math.max(T[1],M[1]),N[2]=Math.max(T[2],M[2]),N},i.clamp=function(N,T,M,U){return N[0]=Math.max(M[0],Math.min(U[0],T[0])),N[1]=Math.max(M[1],Math.min(U[1],T[1])),N[2]=Math.max(M[2],Math.min(U[2],T[2])),N},i.distance=function(N,T){const M=T[0]-N[0],U=T[1]-N[1],z=T[2]-N[2];return Math.sqrt(M*M+U*U+z*z)},i.squaredDistance=function(N,T){const M=T[0]-N[0],U=T[1]-N[1],z=T[2]-N[2];return M*M+U*U+z*z},i.magnitude=function(N){const T=N[0],M=N[1],U=N[2];return Math.sqrt(T*T+M*M+U*U)},i.squaredMagnitude=A,i.setMagnitude=function(N,T,M){return a(N,l(N,T),M)},i.negate=c,i.inverse=function(N,T){return N[0]=1/T[0],N[1]=1/T[1],N[2]=1/T[2],N},i.normalize=l,i.dot=u,i.cross=d,i.lerp=function(N,T,M,U){const z=T[0],L=T[1],k=T[2];return N[0]=z+U*(M[0]-z),N[1]=L+U*(M[1]-L),N[2]=k+U*(M[2]-k),N};const h=e();function m(N,T){const M=Math.sqrt(A(N)*A(T));if(M===0)return Math.PI/2;const U=u(N,T)/M;return Math.acos(UR(U,-1,1))}i.slerp=function(N,T,M,U){const z=UR(u(T,M),-1,1),L=Math.acos(z)*U;return o(h,M,T,-z),l(h,h),r(N,a(N,T,Math.cos(L)),a(h,h,Math.sin(L)))},i.hermite=function(N,T,M,U,z,L){const k=L*L,K=k*(2*L-3)+1,V=k*(L-2)+L,D=k*(L-1),H=k*(3-2*L);return N[0]=T[0]*K+M[0]*V+U[0]*D+z[0]*H,N[1]=T[1]*K+M[1]*V+U[1]*D+z[1]*H,N[2]=T[2]*K+M[2]*V+U[2]*D+z[2]*H,N},i.bezier=function(N,T,M,U,z,L){const k=1-L,K=k*k,V=L*L,D=K*k,H=3*L*K,oe=3*V*k,Ae=V*L;return N[0]=T[0]*D+M[0]*H+U[0]*oe+z[0]*Ae,N[1]=T[1]*D+M[1]*H+U[1]*oe+z[1]*Ae,N[2]=T[2]*D+M[2]*H+U[2]*oe+z[2]*Ae,N},i.quadraticBezier=function(N,T,M,U,z){return N[0]=Sw(T[0],M[0],U[0],z),N[1]=Sw(T[1],M[1],U[1],z),N[2]=Sw(T[2],M[2],U[2],z),N},i.spline=function(N,T,M,U,z,L,k){return N[0]=Cw(T[0],M[0],U[0],z[0],L,k),N[1]=Cw(T[1],M[1],U[1],z[1],L,k),N[2]=Cw(T[2],M[2],U[2],z[2],L,k),N},i.random=function(N,T){const M=2*Math.random()*Math.PI,U=2*Math.random()-1,z=Math.sqrt(1-U*U)*T;return N[0]=Math.cos(M)*z,N[1]=Math.sin(M)*z,N[2]=U*T,N},i.transformMat4=function(N,T,M){const U=T[0],z=T[1],L=T[2],k=1/(M[3]*U+M[7]*z+M[11]*L+M[15]||1);return N[0]=(M[0]*U+M[4]*z+M[8]*L+M[12])*k,N[1]=(M[1]*U+M[5]*z+M[9]*L+M[13])*k,N[2]=(M[2]*U+M[6]*z+M[10]*L+M[14])*k,N},i.transformDirection=function(N,T,M){const U=T[0],z=T[1],L=T[2];return N[0]=M[0]*U+M[4]*z+M[8]*L,N[1]=M[1]*U+M[5]*z+M[9]*L,N[2]=M[2]*U+M[6]*z+M[10]*L,l(N,N)},i.transformMat4Offset=function(N,T,M,U,z,L){const k=T[0+z],K=T[1+z],V=T[2+z],D=1/(M[3+L]*k+M[7+L]*K+M[11+L]*V+M[15+L]||1);return N[0+U]=(M[0+L]*k+M[4+L]*K+M[8+L]*V+M[12+L])*D,N[1+U]=(M[1+L]*k+M[5+L]*K+M[9+L]*V+M[13+L])*D,N[2+U]=(M[2+L]*k+M[6+L]*K+M[10+L]*V+M[14+L])*D,N},i.transformDirectionOffset=function(N,T,M,U,z,L){const k=T[0+z],K=T[1+z],V=T[2+z];N[0+U]=M[0+L]*k+M[4+L]*K+M[8+L]*V,N[1+U]=M[1+L]*k+M[5+L]*K+M[9+L]*V,N[2+U]=M[2+L]*k+M[6+L]*K+M[10+L]*V;const D=Math.hypot(N[0+U],N[1+U],N[2+U]);return D>0&&(N[0+U]/=D,N[1+U]/=D,N[2+U]/=D),N},i.transformMat3=function(N,T,M){const U=T[0],z=T[1],L=T[2];return N[0]=U*M[0]+z*M[3]+L*M[6],N[1]=U*M[1]+z*M[4]+L*M[7],N[2]=U*M[2]+z*M[5]+L*M[8],N},i.transformQuat=function(N,T,M){const U=T[0],z=T[1],L=T[2],k=M[0],K=M[1],V=M[2],D=M[3],H=D*U+K*L-V*z,oe=D*z+V*U-k*L,Ae=D*L+k*z-K*U,ee=-k*U-K*z-V*L;return N[0]=H*D+ee*-k+oe*-V-Ae*-K,N[1]=oe*D+ee*-K+Ae*-k-H*-V,N[2]=Ae*D+ee*-V+H*-K-oe*-k,N},i.angle=m;const y=e(),g=e(),E=e(),R=e(),p=e(),w=e(),v=e();i.dihedralAngle=function(N,T,M,U){s(y,N,T),s(g,M,T),s(E,T,M),s(R,U,M),d(p,y,g),d(w,E,R);const z=m(p,w);return d(v,p,w),u(g,v)>0?z:-z},i.directionFromSpherical=function(N,T,M,U){return i.set(N,U*Math.cos(M)*Math.sin(T),U*Math.sin(M)*Math.sin(T),U*Math.cos(T))},i.exactEquals=function(N,T){return N[0]===T[0]&&N[1]===T[1]&&N[2]===T[2]},i.equals=function(N,T){const M=N[0],U=N[1],z=N[2],L=T[0],k=T[1],K=T[2];return Math.abs(M-L)<=Ui*Math.max(1,Math.abs(M),Math.abs(L))&&Math.abs(U-k)<=Ui*Math.max(1,Math.abs(U),Math.abs(k))&&Math.abs(z-K)<=Ui*Math.max(1,Math.abs(z),Math.abs(K))};const _=e();i.makeRotation=function(N,T,M){const U=m(T,M);if(Math.abs(U)<1e-4)return i0.setIdentity(N);if(Math.abs(U-Math.PI)<Ui)return i0.fromScaling(N,i.negUnit);const z=d(_,T,M);return i0.fromRotation(N,U,z)},i.isZero=function(N){return N[0]===0&&N[1]===0&&N[2]===0},i.projectPointOnVector=function(N,T,M,U){return s(N,T,U),r(N,a(N,M,u(M,N)/A(M)),U)};const x=e();function C(N,T,M){return a(N,M,u(M,T)/A(M))}i.projectPointOnPlane=function(N,T,M,U){return l(x,M),s(N,T,U),s(N,T,a(x,x,u(N,x)))},i.projectOnVector=C;const B=e();i.projectOnPlane=function(N,T,M){return C(B,T,M),s(N,T,B)},i.orthogonalize=function(N,T,M){return l(N,d(N,d(N,T,M),T))},i.matchDirection=function(N,T,M){return u(T,M)>0?n(N,T):c(N,n(N,T)),N};const G=e(),I=e();i.triangleNormal=function(N,T,M,U){return s(G,M,T),s(I,U,T),l(N,d(N,G,I))},i.toString=function(N,T){return`[${N[0].toPrecision(T)} ${N[1].toPrecision(T)} ${N[2].toPrecision(T)}]`},i.origin=t(0,0,0),i.unit=t(1,1,1),i.negUnit=t(-1,-1,-1),i.unitX=t(1,0,0),i.unitY=t(0,1,0),i.unitZ=t(0,0,1),i.negUnitX=t(-1,0,0),i.negUnitY=t(0,-1,0),i.negUnitZ=t(0,0,-1)})(Vn||(Vn={}));const ice=Math.PI/180;function q0(i){return i*ice}function i0(){return i0.zero()}function nm(){return nm.zero()}function GE(){return GE.zero()}function FE(){return FE.zero()}function Zm(i){throw new Error("unreachable")}function IE(){return IE.zero()}var Ld,gi,PR,Dr;function Yl(i,e,t){let n=e,r=0,s=1;for(i.charCodeAt(n)===45?(s=-1,++n):i.charCodeAt(n)===43&&++n;n<t;n++){const a=i.charCodeAt(n)-48;if(a>9||a<0)return s*r|0;r=10*r+a|0}return s*r}function LR(i,e,t,n){return e.charCodeAt(t)===43&&t++,i*Math.pow(10,Yl(e,t,n))}function sf(i,e,t){let n=e,r=1,s=0,a=0,o=1;for(i.charCodeAt(n)===45?(r=-1,++n):i.charCodeAt(n)===43&&++n;n<t;){let A=i.charCodeAt(n)-48;if(!(A>=0&&A<10)){if(A===-2){for(++n;n<t;){if(A=i.charCodeAt(n)-48,!(A>=0&&A<10))return A===53||A===21?LR(r*(s+a/o),i,n+1,t):r*(s+a/o);a=10*a+A,o*=10,++n}return r*(s+a/o)}if(A===53||A===21)return LR(r*s,i,n+1,t);break}s=10*s+A,++n}return r*s}function DR(i,e,t,n){return{schema:t,__array:void 0,isDefined:n===0,rowCount:e,value:r=>i,valueKind:r=>n,toArray:r=>{const{array:s}=Zf(e,r);for(let a=0,o=s.length;a<o;a++)s[a]=i;return s},areValuesEqual:(r,s)=>!0}}function u1({value:i,valueKind:e,areValuesEqual:t,rowCount:n,schema:r}){return{schema:r,__array:void 0,isDefined:!0,rowCount:n,value:i,valueKind:e||(s=>0),toArray:s=>{const{array:a,start:o}=Zf(n,s);for(let A=0,c=a.length;A<c;A++)a[A]=i(A+o);return a},areValuesEqual:t||((s,a)=>i(s)===i(a))}}function Zo({array:i,schema:e,valueKind:t}){const n=i.length,r=e.T,s=e.valueType==="str"?e.transform==="lowercase"?o=>{const A=i[o];return typeof A=="string"?A.toLowerCase():`${A!=null?A:r}`.toLowerCase()}:e.transform==="uppercase"?o=>{const A=i[o];return typeof A=="string"?A.toUpperCase():`${A!=null?A:r}`.toUpperCase()}:o=>{const A=i[o];return typeof A=="string"?A:`${A!=null?A:r}`}:o=>i[o],a=C4(i);return{schema:e,__array:i,isDefined:!0,rowCount:n,value:s,valueKind:t||(o=>0),toArray:e.valueType==="str"?e.transform==="lowercase"?o=>{const{start:A,end:c}=Dl(n,o),l=new(o&&o.array!==void 0?o.array:i.constructor)(c-A);for(let u=0,d=c-A;u<d;u++){const h=i[A+u];l[u]=typeof h=="string"?h.toLowerCase():`${h!=null?h:r}`.toLowerCase()}return l}:e.transform==="uppercase"?o=>{const{start:A,end:c}=Dl(n,o),l=new(o&&o.array!==void 0?o.array:i.constructor)(c-A);for(let u=0,d=c-A;u<d;u++){const h=i[A+u];l[u]=typeof h=="string"?h.toUpperCase():`${h!=null?h:r}`.toUpperCase()}return l}:o=>{const{start:A,end:c}=Dl(n,o),l=new(o&&o.array!==void 0?o.array:i.constructor)(c-A);for(let u=0,d=c-A;u<d;u++){const h=i[A+u];l[u]=typeof h=="string"?h:`${h!=null?h:r}`}return l}:a?o=>jm(i,o):o=>{const{start:A,end:c}=Dl(n,o);if(A===0&&c===i.length)return i;const l=new(o&&o.array!==void 0?o.array:i.constructor)(c-A);for(let u=0,d=c-A;u<d;u++)l[u]=i[A+u];return l},areValuesEqual:(o,A)=>i[o]===i[A]}}function rce(i,e,t){return i.isDefined?e===0&&t===i.rowCount?i:i.__array&&C4(i.__array)?function(n,r,s){const a=jm(n.__array,{start:r,end:s}),o=n.valueKind;return Zo({array:a,schema:n.schema,valueKind:A=>o(r+A)})}(i,e,t):function(n,r,s){const a=n.value,o=n.valueKind,A=n.areValuesEqual,c=r===0?a:u=>a(u+r),l=s-r;return{schema:n.schema,__array:void 0,isDefined:n.isDefined,rowCount:l,value:c,valueKind:r===0?o:u=>o(u+r),toArray:u=>{const{array:d}=Zf(l,u);for(let h=0,m=d.length;h<m;h++)d[h]=a(h+r);return d},areValuesEqual:r===0?A:(u,d)=>A(u+r,d+r)}}(i,e,t):gi.Undefined(t-e,i.schema)}function sce(i,e,t){return i.rowCount===0||t&&function(n,r){if(n.length!==r)return!1;for(let s=0,a=n.length;s<a;s++)if(n[s]!==s)return!1;return!0}(e,i.rowCount)?i:i.__array&&typeof i.value(0)==typeof i.__array[0]?function(n,r){const s=n.__array,a=new s.constructor(r.length);for(let A=0,c=r.length;A<c;A++)a[A]=s[r[A]];const o=n.valueKind;return Zo({array:a,schema:n.schema,valueKind:A=>o(r[A])})}(i,e):function(n,r){const s=n.value,a=n.valueKind,o=n.areValuesEqual,A=l=>s(r[l]),c=r.length;return{schema:n.schema,__array:void 0,isDefined:n.isDefined,rowCount:c,value:A,valueKind:l=>a(r[l]),toArray:l=>{const{array:u}=Zf(c,l);for(let d=0,h=u.length;d<h;d++)u[d]=s(r[d]);return u},areValuesEqual:(l,u)=>o(r[l],r[u])}}(i,e)}function im(i,e,t){return i[e]-i[t]}function Dd(i,e,t){const n=i[e];i[e]=i[t],i[t]=n}function ST(i,e,t,n){const r=t+n>>1;return e(i,t,n)>0?e(i,t,r)>0?e(i,r,n)>0?r:n:t:e(i,n,r)>0?e(i,r,t)>0?r:t:n}function ace(i,e,t){const{cmp:n,swap:r,data:s,parts:a}=i;let o=e+1,A=t;for(r(s,e,ST(s,n,e,t));n(s,A,e)>0;)--A;for(let c=e+1;c<=A;c++){const l=n(s,c,e);if(l>0){for(r(s,c,A),--A;n(s,A,e)>0;)--A;c--}else l===0&&(r(s,c,o),o++)}for(let c=e;c<o;c++)r(s,c,e+A-c);a[0]=A-o+e+1,a[1]=A}function oce({data:i,cmp:e,swap:t},n,r){for(let s=n+1;s<=r;s++){let a=s-1;for(;a>=n&&e(i,a,a+1)>0;)t(i,a,a+1),a-=1}}function UE(i,e,t){const{parts:n}=i;for(;e<t;){if(t-e<16)return void oce(i,e,t);ace(i,e,t);const r=n[0],s=n[1];r-e<t-s?(UE(i,e,r-1),e=s+1):(UE(i,s+1,t),t=r-1)}}function Ace(i,e,t,n){let r=t+1,s=n;Dd(i,t,ST(i,im,t,n));const a=i[t];for(;i[s]>a;)--s;for(let o=t+1;o<=s;o++){const A=i[o];if(A>a){for(Dd(i,o,s),--s;i[s]>a;)--s;o--}else A===a&&(Dd(i,o,r),++r)}for(let o=t;o<r;o++)Dd(i,o,t+s-o);e[0]=s-r+t+1,e[1]=s}function cce(i,e,t){for(let n=e+1;n<=t;n++){const r=i[n];let s=n-1;for(;s>=e&&i[s]>r;)i[s+1]=i[s],s-=1;i[s+1]=r}}function PE(i,e,t,n){for(;t<n;){if(n-t<16)return void cce(i,t,n);Ace(i,e,t,n);const r=e[0],s=e[1];r-t<n-s?(PE(i,e,t,r-1),t=s+1):(PE(i,e,s+1,n),n=r-1)}}function lce(i,e=im){return function(t,n,r,s=im){return s===im?PE(t,[0,0],n,r-1):UE({data:t,cmp:s,swap:Dd,parts:[0,0]},n,r-1),t}(i,0,i.length,e)}(function(i){function e(){const p=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return p[0]=0,p}function t(){const p=e();return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function n(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function r(p){for(let w=0;w<16;w++)p[w]=0;return p}i.zero=e,i.identity=t,i.setIdentity=n,i.setZero=r,i.ofRows=function(p){const w=e();for(let v=0;v<4;v++){const _=p[v];for(let x=0;x<4;x++)w[4*x+v]=_[x]}return w};const s=t();function a(p,w,v){for(let _=0;_<16;_++)if(Math.abs(p[_]-w[_])>v)return!1;return!0}function o(p,w,v,_){p[4*v+w]=_}function A(p,w){return p[0]=w[0],p[1]=w[1],p[2]=w[2],p[3]=w[3],p[4]=w[4],p[5]=w[5],p[6]=w[6],p[7]=w[7],p[8]=w[8],p[9]=w[9],p[10]=w[10],p[11]=w[11],p[12]=w[12],p[13]=w[13],p[14]=w[14],p[15]=w[15],p}function c(p,w){const v=w[0]+w[5]+w[10];let _=0;return v>0?(_=2*Math.sqrt(v+1),p[3]=.25*_,p[0]=(w[6]-w[9])/_,p[1]=(w[8]-w[2])/_,p[2]=(w[1]-w[4])/_):w[0]>w[5]&&w[0]>w[10]?(_=2*Math.sqrt(1+w[0]-w[5]-w[10]),p[3]=(w[6]-w[9])/_,p[0]=.25*_,p[1]=(w[1]+w[4])/_,p[2]=(w[8]+w[2])/_):w[5]>w[10]?(_=2*Math.sqrt(1+w[5]-w[0]-w[10]),p[3]=(w[8]-w[2])/_,p[0]=(w[1]+w[4])/_,p[1]=.25*_,p[2]=(w[6]+w[9])/_):(_=2*Math.sqrt(1+w[10]-w[0]-w[5]),p[3]=(w[1]-w[4])/_,p[0]=(w[8]+w[2])/_,p[1]=(w[6]+w[9])/_,p[2]=.25*_),p}function l(p,w){const v=w[0],_=w[1],x=w[2],C=w[3],B=w[4],G=w[5],I=w[6],N=w[7],T=w[8],M=w[9],U=w[10],z=w[11],L=w[12],k=w[13],K=w[14],V=w[15],D=v*G-_*B,H=v*I-x*B,oe=v*N-C*B,Ae=_*I-x*G,ee=_*N-C*G,se=x*N-C*I,le=T*k-M*L,J=T*K-U*L,me=T*V-z*L,ue=M*K-U*k,ge=M*V-z*k,fe=U*V-z*K;let we=D*fe-H*ge+oe*ue+Ae*me-ee*J+se*le;return!!we&&(we=1/we,p[0]=(G*fe-I*ge+N*ue)*we,p[1]=(x*ge-_*fe-C*ue)*we,p[2]=(k*se-K*ee+V*Ae)*we,p[3]=(U*ee-M*se-z*Ae)*we,p[4]=(I*me-B*fe-N*J)*we,p[5]=(v*fe-x*me+C*J)*we,p[6]=(K*oe-L*se-V*H)*we,p[7]=(T*se-U*oe+z*H)*we,p[8]=(B*ge-G*me+N*le)*we,p[9]=(_*me-v*ge-C*le)*we,p[10]=(L*ee-k*oe+V*D)*we,p[11]=(M*oe-T*ee-z*D)*we,p[12]=(G*J-B*ue-I*le)*we,p[13]=(v*ue-_*J+x*le)*we,p[14]=(k*H-L*Ae-K*D)*we,p[15]=(T*Ae-M*H+U*D)*we,!0)}function u(p,w,v){const _=w[0],x=w[1],C=w[2],B=w[3],G=w[4],I=w[5],N=w[6],T=w[7],M=w[8],U=w[9],z=w[10],L=w[11],k=w[12],K=w[13],V=w[14],D=w[15];let H=v[0],oe=v[1],Ae=v[2],ee=v[3];return p[0]=H*_+oe*G+Ae*M+ee*k,p[1]=H*x+oe*I+Ae*U+ee*K,p[2]=H*C+oe*N+Ae*z+ee*V,p[3]=H*B+oe*T+Ae*L+ee*D,H=v[4],oe=v[5],Ae=v[6],ee=v[7],p[4]=H*_+oe*G+Ae*M+ee*k,p[5]=H*x+oe*I+Ae*U+ee*K,p[6]=H*C+oe*N+Ae*z+ee*V,p[7]=H*B+oe*T+Ae*L+ee*D,H=v[8],oe=v[9],Ae=v[10],ee=v[11],p[8]=H*_+oe*G+Ae*M+ee*k,p[9]=H*x+oe*I+Ae*U+ee*K,p[10]=H*C+oe*N+Ae*z+ee*V,p[11]=H*B+oe*T+Ae*L+ee*D,H=v[12],oe=v[13],Ae=v[14],ee=v[15],p[12]=H*_+oe*G+Ae*M+ee*k,p[13]=H*x+oe*I+Ae*U+ee*K,p[14]=H*C+oe*N+Ae*z+ee*V,p[15]=H*B+oe*T+Ae*L+ee*D,p}function d(p,w,v){let _=v[0],x=v[1],C=v[2],B=Math.sqrt(_*_+x*x+C*C);if(Math.abs(B)<Ui)return n(p);B=1/B,_*=B,x*=B,C*=B;const G=Math.sin(w),I=Math.cos(w),N=1-I;return p[0]=_*_*N+I,p[1]=x*_*N+C*G,p[2]=C*_*N-x*G,p[3]=0,p[4]=_*x*N-C*G,p[5]=x*x*N+I,p[6]=C*x*N+_*G,p[7]=0,p[8]=_*C*N+x*G,p[9]=x*C*N-_*G,p[10]=C*C*N+I,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}i.isIdentity=function(p,w){return a(p,s,w===void 0?Ui:w)},i.hasNaN=function(p){for(let w=0;w<16;w++)if(isNaN(p[w]))return!0;return!1},i.areEqual=a,i.setValue=o,i.getValue=function(p,w,v){return p[4*v+w]},i.toArray=function(p,w,v){return w[v+0]=p[0],w[v+1]=p[1],w[v+2]=p[2],w[v+3]=p[3],w[v+4]=p[4],w[v+5]=p[5],w[v+6]=p[6],w[v+7]=p[7],w[v+8]=p[8],w[v+9]=p[9],w[v+10]=p[10],w[v+11]=p[11],w[v+12]=p[12],w[v+13]=p[13],w[v+14]=p[14],w[v+15]=p[15],w},i.fromArray=function(p,w,v){return p[0]=w[v+0],p[1]=w[v+1],p[2]=w[v+2],p[3]=w[v+3],p[4]=w[v+4],p[5]=w[v+5],p[6]=w[v+6],p[7]=w[v+7],p[8]=w[v+8],p[9]=w[v+9],p[10]=w[v+10],p[11]=w[v+11],p[12]=w[v+12],p[13]=w[v+13],p[14]=w[v+14],p[15]=w[v+15],p},i.fromBasis=function(p,w,v,_){return r(p),o(p,0,0,w[0]),o(p,1,0,w[1]),o(p,2,0,w[2]),o(p,0,1,v[0]),o(p,1,1,v[1]),o(p,2,1,v[2]),o(p,0,2,_[0]),o(p,1,2,_[1]),o(p,2,2,_[2]),o(p,3,3,1),p},i.copy=A,i.clone=function(p){return A(e(),p)},i.getTranslation=function(p,w){return p[0]=w[12],p[1]=w[13],p[2]=w[14],p},i.getScaling=function(p,w){const v=w[0],_=w[1],x=w[2],C=w[4],B=w[5],G=w[6],I=w[8],N=w[9],T=w[10];return p[0]=Math.sqrt(v*v+_*_+x*x),p[1]=Math.sqrt(C*C+B*B+G*G),p[2]=Math.sqrt(I*I+N*N+T*T),p},i.getRotation=c,i.extractRotation=function(p,w){const v=1/Math.sqrt(w[0]*w[0]+w[1]*w[1]+w[2]*w[2]),_=1/Math.sqrt(w[4]*w[4]+w[5]*w[5]+w[6]*w[6]),x=1/Math.sqrt(w[8]*w[8]+w[9]*w[9]+w[10]*w[10]);return p[0]=w[0]*v,p[1]=w[1]*v,p[2]=w[2]*v,p[3]=0,p[4]=w[4]*_,p[5]=w[5]*_,p[6]=w[6]*_,p[7]=0,p[8]=w[8]*x,p[9]=w[9]*x,p[10]=w[10]*x,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p},i.transpose=function(p,w){if(p===w){const v=w[1],_=w[2],x=w[3],C=w[6],B=w[7],G=w[11];p[1]=w[4],p[2]=w[8],p[3]=w[12],p[4]=v,p[6]=w[9],p[7]=w[13],p[8]=_,p[9]=C,p[11]=w[14],p[12]=x,p[13]=B,p[14]=G}else p[0]=w[0],p[1]=w[4],p[2]=w[8],p[3]=w[12],p[4]=w[1],p[5]=w[5],p[6]=w[9],p[7]=w[13],p[8]=w[2],p[9]=w[6],p[10]=w[10],p[11]=w[14],p[12]=w[3],p[13]=w[7],p[14]=w[11],p[15]=w[15];return p},i.tryInvert=l,i.invert=function(p,w){return l(p,w)||console.warn("non-invertible matrix.",w),p},i.mul=u,i.mulOffset=function(p,w,v,_,x,C){const B=w[0+x],G=w[1+x],I=w[2+x],N=w[3+x],T=w[4+x],M=w[5+x],U=w[6+x],z=w[7+x],L=w[8+x],k=w[9+x],K=w[10+x],V=w[11+x],D=w[12+x],H=w[13+x],oe=w[14+x],Ae=w[15+x];let ee=v[0+C],se=v[1+C],le=v[2+C],J=v[3+C];return p[0+_]=ee*B+se*T+le*L+J*D,p[1+_]=ee*G+se*M+le*k+J*H,p[2+_]=ee*I+se*U+le*K+J*oe,p[3+_]=ee*N+se*z+le*V+J*Ae,ee=v[4+C],se=v[5+C],le=v[6+C],J=v[7+C],p[4+_]=ee*B+se*T+le*L+J*D,p[5+_]=ee*G+se*M+le*k+J*H,p[6+_]=ee*I+se*U+le*K+J*oe,p[7+_]=ee*N+se*z+le*V+J*Ae,ee=v[8+C],se=v[9+C],le=v[10+C],J=v[11+C],p[8+_]=ee*B+se*T+le*L+J*D,p[9+_]=ee*G+se*M+le*k+J*H,p[10+_]=ee*I+se*U+le*K+J*oe,p[11+_]=ee*N+se*z+le*V+J*Ae,ee=v[12+C],se=v[13+C],le=v[14+C],J=v[15+C],p[12+_]=ee*B+se*T+le*L+J*D,p[13+_]=ee*G+se*M+le*k+J*H,p[14+_]=ee*I+se*U+le*K+J*oe,p[15+_]=ee*N+se*z+le*V+J*Ae,p},i.mul3=function(p,w,v,_){return u(p,u(p,w,v),_)},i.translate=function(p,w,v){const _=v[0],x=v[1],C=v[2];let B,G,I,N,T,M,U,z,L,k,K,V;return w===p?(p[12]=w[0]*_+w[4]*x+w[8]*C+w[12],p[13]=w[1]*_+w[5]*x+w[9]*C+w[13],p[14]=w[2]*_+w[6]*x+w[10]*C+w[14],p[15]=w[3]*_+w[7]*x+w[11]*C+w[15]):(B=w[0],G=w[1],I=w[2],N=w[3],T=w[4],M=w[5],U=w[6],z=w[7],L=w[8],k=w[9],K=w[10],V=w[11],p[0]=B,p[1]=G,p[2]=I,p[3]=N,p[4]=T,p[5]=M,p[6]=U,p[7]=z,p[8]=L,p[9]=k,p[10]=K,p[11]=V,p[12]=B*_+T*x+L*C+w[12],p[13]=G*_+M*x+k*C+w[13],p[14]=I*_+U*x+K*C+w[14],p[15]=N*_+z*x+V*C+w[15]),p},i.fromTranslation=function(p,w){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=w[0],p[13]=w[1],p[14]=w[2],p[15]=1,p},i.setTranslation=function(p,w){return p[12]=w[0],p[13]=w[1],p[14]=w[2],p},i.setAxes=function(p,w,v,_){return p[0]=v[0],p[4]=v[1],p[8]=v[2],p[1]=_[0],p[5]=_[1],p[9]=_[2],p[2]=w[0],p[6]=w[1],p[10]=w[2],p},i.rotate=function(p,w,v,_){let x=_[0],C=_[1],B=_[2],G=Math.sqrt(x*x+C*C+B*B);if(Math.abs(G)<Ui)return t();G=1/G,x*=G,C*=G,B*=G;const I=Math.sin(v),N=Math.cos(v),T=1-N,M=w[0],U=w[1],z=w[2],L=w[3],k=w[4],K=w[5],V=w[6],D=w[7],H=w[8],oe=w[9],Ae=w[10],ee=w[11],se=x*x*T+N,le=C*x*T+B*I,J=B*x*T-C*I,me=x*C*T-B*I,ue=C*C*T+N,ge=B*C*T+x*I,fe=x*B*T+C*I,we=C*B*T-x*I,Fe=B*B*T+N;return p[0]=M*se+k*le+H*J,p[1]=U*se+K*le+oe*J,p[2]=z*se+V*le+Ae*J,p[3]=L*se+D*le+ee*J,p[4]=M*me+k*ue+H*ge,p[5]=U*me+K*ue+oe*ge,p[6]=z*me+V*ue+Ae*ge,p[7]=L*me+D*ue+ee*ge,p[8]=M*fe+k*we+H*Fe,p[9]=U*fe+K*we+oe*Fe,p[10]=z*fe+V*we+Ae*Fe,p[11]=L*fe+D*we+ee*Fe,w!==p&&(p[12]=w[12],p[13]=w[13],p[14]=w[14],p[15]=w[15]),p},i.fromRotation=d,i.scale=function(p,w,v){const _=v[0],x=v[1],C=v[2];return p[0]=w[0]*_,p[1]=w[1]*_,p[2]=w[2]*_,p[3]=w[3]*_,p[4]=w[4]*x,p[5]=w[5]*x,p[6]=w[6]*x,p[7]=w[7]*x,p[8]=w[8]*C,p[9]=w[9]*C,p[10]=w[10]*C,p[11]=w[11]*C,p[12]=w[12],p[13]=w[13],p[14]=w[14],p[15]=w[15],p},i.scaleUniformly=function(p,w,v){return p[0]=w[0]*v,p[1]=w[1]*v,p[2]=w[2]*v,p[3]=w[3]*v,p[4]=w[4]*v,p[5]=w[5]*v,p[6]=w[6]*v,p[7]=w[7]*v,p[8]=w[8]*v,p[9]=w[9]*v,p[10]=w[10]*v,p[11]=w[11]*v,p[12]=w[12],p[13]=w[13],p[14]=w[14],p[15]=w[15],p},i.fromScaling=function(p,w){return p[0]=w[0],p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=w[1],p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=w[2],p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p},i.fromUniformScaling=function(p,w){return p[0]=w,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=w,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=w,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p},i.fromMat3=function(p,w){return p[0]=w[0],p[1]=w[1],p[2]=w[2],p[4]=w[3],p[5]=w[4],p[6]=w[5],p[8]=w[6],p[9]=w[7],p[10]=w[8],p},i.compose=function(p,w,v,_){const[x,C,B,G]=v,I=x+x,N=C+C,T=B+B,M=x*I,U=x*N,z=x*T,L=C*N,k=C*T,K=B*T,V=G*I,D=G*N,H=G*T,[oe,Ae,ee]=_;return p[0]=(1-(L+K))*oe,p[1]=(U+H)*oe,p[2]=(z-D)*oe,p[3]=0,p[4]=(U-H)*Ae,p[5]=(1-(M+K))*Ae,p[6]=(k+V)*Ae,p[7]=0,p[8]=(z+D)*ee,p[9]=(k-V)*ee,p[10]=(1-(M+L))*ee,p[11]=0,p[12]=w[0],p[13]=w[1],p[14]=w[2],p[15]=1,p};const h=[0,0,0],m=e();function y(p){const w=p[0],v=p[1],_=p[2],x=p[3],C=p[4],B=p[5],G=p[6],I=p[7],N=p[8],T=p[9],M=p[10],U=p[11],z=p[12],L=p[13],k=p[14],K=p[15];return(w*B-v*C)*(M*K-U*k)-(w*G-_*C)*(T*K-U*L)+(w*I-x*C)*(T*k-M*L)+(v*G-_*B)*(N*K-U*z)-(v*I-x*B)*(N*k-M*z)+(_*I-x*G)*(N*L-T*z)}i.decompose=function(p,w,v,_){let x=Vn.magnitude(Vn.set(h,p[0],p[1],p[2]));const C=Vn.magnitude(Vn.set(h,p[4],p[5],p[6])),B=Vn.magnitude(Vn.set(h,p[8],p[9],p[10]));y(p)<0&&(x=-x),w[0]=p[12],w[1]=p[13],w[2]=p[14],A(m,p);const G=1/x,I=1/C,N=1/B;return m[0]*=G,m[1]*=G,m[2]*=G,m[4]*=I,m[5]*=I,m[6]*=I,m[8]*=N,m[9]*=N,m[10]*=N,c(v,m),_[0]=x,_[1]=C,_[2]=B,p},i.makeTable=function(p){let w="";for(let v=0;v<4;v++){for(let _=0;_<4;_++)w+=p[4*_+v].toString(),_<3&&(w+=" ");v<3&&(w+=`
`)}return w},i.determinant=y,i.isRotationAndTranslation=function(p,w){return function(v,_){const x=v[0],C=v[1],B=v[2],G=v[3],I=v[4],N=v[5],T=v[6],M=v[7],U=v[8],z=v[9],L=v[10],k=v[11],K=v[15];return!(!(mr(K,1,_)&&mr(G,0,_)&&mr(M,0,_)&&mr(k,0,_))||!mr(Math.abs(x*(N*L-T*z)-C*(I*L-T*U)+B*(I*z-N*U)),1,_))}(p,w!==void 0?w:Ui)},i.isTranslationAndUniformScaling=function(p,w){return function(v,_){const x=v[0];return mr(v[1],0,_)&&mr(v[2],0,_)&&mr(v[3],0,_)&&mr(v[4],0,_)&&mr(v[5],x,_)&&mr(v[6],0,_)&&mr(v[7],0,_)&&mr(v[8],0,_)&&mr(v[9],0,_)&&mr(v[10],x,_)&&mr(v[11],0,_)&&mr(v[15],1,_)}(p,w!==void 0?w:Ui)},i.fromQuat=function(p,w){const v=w[0],_=w[1],x=w[2],C=w[3],B=v+v,G=_+_,I=x+x,N=v*B,T=_*B,M=_*G,U=x*B,z=x*G,L=x*I,k=C*B,K=C*G,V=C*I;return p[0]=1-M-L,p[1]=T+V,p[2]=U-K,p[3]=0,p[4]=T-V,p[5]=1-N-L,p[6]=z+k,p[7]=0,p[8]=U+K,p[9]=z-k,p[10]=1-N-M,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p},i.fromEuler=function(p,w,v){const _=w[0],x=w[1],C=w[2],B=Math.cos(_),G=Math.sin(_),I=Math.cos(x),N=Math.sin(x),T=Math.cos(C),M=Math.sin(C);if(v==="XYZ"){const U=B*T,z=B*M,L=G*T,k=G*M;p[0]=I*T,p[4]=-I*M,p[8]=N,p[1]=z+L*N,p[5]=U-k*N,p[9]=-G*I,p[2]=k-U*N,p[6]=L+z*N,p[10]=B*I}else if(v==="YXZ"){const U=I*T,z=I*M,L=N*T,k=N*M;p[0]=U+k*G,p[4]=L*G-z,p[8]=B*N,p[1]=B*M,p[5]=B*T,p[9]=-G,p[2]=z*G-L,p[6]=k+U*G,p[10]=B*I}else if(v==="ZXY"){const U=I*T,z=I*M,L=N*T,k=N*M;p[0]=U-k*G,p[4]=-B*M,p[8]=L+z*G,p[1]=z+L*G,p[5]=B*T,p[9]=k-U*G,p[2]=-B*N,p[6]=G,p[10]=B*I}else if(v==="ZYX"){const U=B*T,z=B*M,L=G*T,k=G*M;p[0]=I*T,p[4]=L*N-z,p[8]=U*N+k,p[1]=I*M,p[5]=k*N+U,p[9]=z*N-L,p[2]=-N,p[6]=G*I,p[10]=B*I}else if(v==="YZX"){const U=B*I,z=B*N,L=G*I,k=G*N;p[0]=I*T,p[4]=k-U*M,p[8]=L*M+z,p[1]=M,p[5]=B*T,p[9]=-G*T,p[2]=-N*T,p[6]=z*M+L,p[10]=U-k*M}else if(v==="XZY"){const U=B*I,z=B*N,L=G*I,k=G*N;p[0]=I*T,p[4]=-M,p[8]=N*T,p[1]=U*M+k,p[5]=B*T,p[9]=z*M-L,p[2]=L*M-z,p[6]=G*T,p[10]=k*M+U}return p[3]=0,p[7]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p},i.perspective=function(p,w,v,_,x,C,B){const G=2*C/(v-w),I=2*C/(_-x),N=(v+w)/(v-w),T=(_+x)/(_-x),M=-(B+C)/(B-C),U=-2*B*C/(B-C);return p[0]=G,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=I,p[6]=0,p[7]=0,p[8]=N,p[9]=T,p[10]=M,p[11]=-1,p[12]=0,p[13]=0,p[14]=U,p[15]=0,p},i.ortho=function(p,w,v,_,x,C,B){const G=1/(v-w),I=1/(_-x),N=1/(B-C),T=(v+w)*G,M=(_+x)*I,U=(B+C)*N;return p[0]=2*G,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=2*I,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=-2*N,p[11]=0,p[12]=-T,p[13]=-M,p[14]=-U,p[15]=1,p},i.lookAt=function(p,w,v,_){let x,C,B,G,I,N,T,M,U,z;const L=w[0],k=w[1],K=w[2],V=_[0],D=_[1],H=_[2],oe=v[0],Ae=v[1],ee=v[2];return Math.abs(L-oe)<Ui&&Math.abs(k-Ae)<Ui&&Math.abs(K-ee)<Ui?n(p):(T=L-oe,M=k-Ae,U=K-ee,z=1/Math.sqrt(T*T+M*M+U*U),T*=z,M*=z,U*=z,x=D*U-H*M,C=H*T-V*U,B=V*M-D*T,z=Math.sqrt(x*x+C*C+B*B),z?(z=1/z,x*=z,C*=z,B*=z):(x=0,C=0,B=0),G=M*B-U*C,I=U*x-T*B,N=T*C-M*x,z=Math.sqrt(G*G+I*I+N*N),z?(z=1/z,G*=z,I*=z,N*=z):(G=0,I=0,N=0),p[0]=x,p[1]=G,p[2]=T,p[3]=0,p[4]=C,p[5]=I,p[6]=M,p[7]=0,p[8]=B,p[9]=N,p[10]=U,p[11]=0,p[12]=-(x*L+C*k+B*K),p[13]=-(G*L+I*k+N*K),p[14]=-(T*L+M*k+U*K),p[15]=1,p)},i.targetTo=function(p,w,v,_){const x=w[0],C=w[1],B=w[2],G=_[0],I=_[1],N=_[2];let T=x-v[0],M=C-v[1],U=B-v[2],z=T*T+M*M+U*U;z>0&&(z=1/Math.sqrt(z),T*=z,M*=z,U*=z);let L=I*U-N*M,k=N*T-G*U,K=G*M-I*T;return z=L*L+k*k+K*K,z>0&&(z=1/Math.sqrt(z),L*=z,k*=z,K*=z),p[0]=L,p[1]=k,p[2]=K,p[3]=0,p[4]=M*K-U*k,p[5]=U*L-T*K,p[6]=T*k-M*L,p[7]=0,p[8]=T,p[9]=M,p[10]=U,p[11]=0,p[12]=x,p[13]=C,p[14]=B,p[15]=1,p},i.fromPermutation=function(p,w){r(p);for(let v=0;v<4;v++)o(p,v,w[v],1);return p},i.getMaxScaleOnAxis=function(p){const w=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],v=p[4]*p[4]+p[5]*p[5]+p[6]*p[6],_=p[8]*p[8]+p[9]*p[9]+p[10]*p[10];return Math.sqrt(Math.max(w,v,_))};const g=[1,0,0],E=[0,1,0],R=[0,0,1];i.rotX90=d(e(),q0(90),g),i.rotX180=d(e(),q0(180),g),i.rotY90=d(e(),q0(90),E),i.rotY180=d(e(),q0(180),E),i.rotY270=d(e(),q0(270),E),i.rotZ90=d(e(),q0(90),R),i.rotZ180=d(e(),q0(180),R),i.rotXY90=u(e(),i.rotX90,i.rotY90),i.rotZY90=u(e(),i.rotZ90,i.rotY90),i.rotZYZ90=u(e(),i.rotZY90,i.rotZ90),i.rotZ90X180=u(e(),i.rotZ90,i.rotX180),i.rotY90Z180=u(e(),i.rotY90,i.rotZ180),i.id=t()})(i0||(i0={})),function(i){function e(){const _=[.1,0,0,0,0,0,0,0,0];return _[0]=0,_}function t(){const _=e();return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=1,_[5]=0,_[6]=0,_[7]=0,_[8]=1,_}function n(_,x){return _[0]=x[0],_[1]=x[1],_[2]=x[2],_[3]=x[4],_[4]=x[5],_[5]=x[6],_[6]=x[8],_[7]=x[9],_[8]=x[10],_}i.zero=e,i.identity=t,i.setIdentity=function(_){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=1,_[5]=0,_[6]=0,_[7]=0,_[8]=1,_},i.toArray=function(_,x,C){return x[C+0]=_[0],x[C+1]=_[1],x[C+2]=_[2],x[C+3]=_[3],x[C+4]=_[4],x[C+5]=_[5],x[C+6]=_[6],x[C+7]=_[7],x[C+8]=_[8],x},i.fromArray=function(_,x,C){return _[0]=x[C+0],_[1]=x[C+1],_[2]=x[C+2],_[3]=x[C+3],_[4]=x[C+4],_[5]=x[C+5],_[6]=x[C+6],_[7]=x[C+7],_[8]=x[C+8],_},i.fromColumns=function(_,x,C,B){return _[0]=x[0],_[1]=x[1],_[2]=x[2],_[3]=C[0],_[4]=C[1],_[5]=C[2],_[6]=B[0],_[7]=B[1],_[8]=B[2],_},i.fromMat4=n;const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];i.fromEuler=function(_,x,C){return i0.fromEuler(r,x,C),n(_,r)},i.create=function(_,x,C,B,G,I,N,T,M){const U=e();return U[0]=_,U[1]=x,U[2]=C,U[3]=B,U[4]=G,U[5]=I,U[6]=N,U[7]=T,U[8]=M,U};const s=t();function a(_,x,C){for(let B=0;B<9;B++)if(Math.abs(_[B]-x[B])>C)return!1;return!0}function o(_,x){return _[0]=x[0],_[1]=x[1],_[2]=x[2],_[3]=x[3],_[4]=x[4],_[5]=x[5],_[6]=x[6],_[7]=x[7],_[8]=x[8],_}function A(_,x){if(_===x){const C=x[1],B=x[2],G=x[5];_[1]=x[3],_[2]=x[6],_[3]=C,_[5]=x[7],_[6]=B,_[7]=G}else _[0]=x[0],_[1]=x[3],_[2]=x[6],_[3]=x[1],_[4]=x[4],_[5]=x[7],_[6]=x[2],_[7]=x[5],_[8]=x[8];return _}function c(_,x){const C=x[0],B=x[1],G=x[2],I=x[3],N=x[4],T=x[5],M=x[6],U=x[7],z=x[8],L=z*N-T*U,k=-z*I+T*M,K=U*I-N*M;let V=C*L+B*k+G*K;return V?(V=1/V,_[0]=L*V,_[1]=(-z*B+G*U)*V,_[2]=(T*B-G*N)*V,_[3]=k*V,_[4]=(z*C-G*M)*V,_[5]=(-T*C+G*I)*V,_[6]=K*V,_[7]=(-U*C+B*M)*V,_[8]=(N*C-B*I)*V,_):(console.warn("non-invertible matrix.",x),_)}function l(_){const x=_[0],C=_[1],B=_[2],G=_[3],I=_[4],N=_[5],T=_[6],M=_[7],U=_[8];return x*(U*I-N*M)+C*(-U*G+N*T)+B*(M*G-I*T)}function u(_){return _[0]+_[4]+_[8]}function d(_,x,C){return _[0]=x[0]-C[0],_[1]=x[1]-C[1],_[2]=x[2]-C[2],_[3]=x[3]-C[3],_[4]=x[4]-C[4],_[5]=x[5]-C[5],_[6]=x[6]-C[6],_[7]=x[7]-C[7],_[8]=x[8]-C[8],_}function h(_,x,C){return _[0]=x[0]*C,_[1]=x[1]*C,_[2]=x[2]*C,_[3]=x[3]*C,_[4]=x[4]*C,_[5]=x[5]*C,_[6]=x[6]*C,_[7]=x[7]*C,_[8]=x[8]*C,_}i.isIdentity=function(_,x){return a(_,s,x===void 0?Ui:x)},i.hasNaN=function(_){for(let x=0;x<9;x++)if(isNaN(_[x]))return!0;return!1},i.clone=function(_){return o(e(),_)},i.areEqual=a,i.setValue=function(_,x,C,B){_[3*C+x]=B},i.getValue=function(_,x,C){return _[3*C+x]},i.copy=o,i.transpose=A,i.invert=c,i.symmtricFromUpper=function(_,x){return _===x?(_[3]=x[1],_[6]=x[2],_[7]=x[5]):(_[0]=x[0],_[1]=x[1],_[2]=x[2],_[3]=x[1],_[4]=x[4],_[5]=x[5],_[6]=x[2],_[7]=x[5],_[8]=x[8]),_},i.symmtricFromLower=function(_,x){return _===x?(_[1]=x[3],_[2]=x[6],_[5]=x[7]):(_[0]=x[0],_[1]=x[3],_[2]=x[6],_[3]=x[3],_[4]=x[4],_[5]=x[7],_[6]=x[6],_[7]=x[7],_[8]=x[8]),_},i.determinant=l,i.trace=u,i.sub=d,i.add=function(_,x,C){return _[0]=x[0]+C[0],_[1]=x[1]+C[1],_[2]=x[2]+C[2],_[3]=x[3]+C[3],_[4]=x[4]+C[4],_[5]=x[5]+C[5],_[6]=x[6]+C[6],_[7]=x[7]+C[7],_[8]=x[8]+C[8],_},i.mul=function(_,x,C){const B=x[0],G=x[1],I=x[2],N=x[3],T=x[4],M=x[5],U=x[6],z=x[7],L=x[8],k=C[0],K=C[1],V=C[2],D=C[3],H=C[4],oe=C[5],Ae=C[6],ee=C[7],se=C[8];return _[0]=k*B+K*N+V*U,_[1]=k*G+K*T+V*z,_[2]=k*I+K*M+V*L,_[3]=D*B+H*N+oe*U,_[4]=D*G+H*T+oe*z,_[5]=D*I+H*M+oe*L,_[6]=Ae*B+ee*N+se*U,_[7]=Ae*G+ee*T+se*z,_[8]=Ae*I+ee*M+se*L,_},i.subScalar=function(_,x,C){return _[0]=x[0]-C,_[1]=x[1]-C,_[2]=x[2]-C,_[3]=x[3]-C,_[4]=x[4]-C,_[5]=x[5]-C,_[6]=x[6]-C,_[7]=x[7]-C,_[8]=x[8]-C,_},i.addScalar=function(_,x,C){return _[0]=x[0]+C,_[1]=x[1]+C,_[2]=x[2]+C,_[3]=x[3]+C,_[4]=x[4]+C,_[5]=x[5]+C,_[6]=x[6]+C,_[7]=x[7]+C,_[8]=x[8]+C,_},i.mulScalar=h;const m=Math.PI/3,y=e();i.symmetricEigenvalues=function(_,x){const C=x[1]*x[1]+x[2]*x[2]+x[5]*x[5];if(C===0)_[0]=x[0],_[1]=x[4],_[2]=x[8];else{const B=u(x)/3,G=x[0]-B,I=x[4]-B,N=x[8]-B,T=G*G+I*I+N*N+2*C,M=Math.sqrt(T/6);h(y,i.Identity,B),d(y,x,y),h(y,y,1/M);const U=l(y)/2,z=U<=-1?m:U>=1?0:Math.acos(U)/3;_[0]=B+2*M*Math.cos(z),_[2]=B+2*M*Math.cos(z+2*m),_[1]=3*B-_[0]-_[2]}return _};const g=[.1,0,0],E=[.1,0,0],R=[.1,0,0],p=[.1,0,0],w=[.1,0,0],v=[.1,0,0];i.eigenvector=function(_,x,C){Vn.set(g,x[0]-C,x[1],x[2]),Vn.set(E,x[1],x[4]-C,x[5]),Vn.set(R,x[2],x[5],x[8]-C),Vn.cross(p,g,E),Vn.cross(w,g,R),Vn.cross(v,E,R);const B=Vn.dot(p,p),G=Vn.dot(w,w),I=Vn.dot(v,v);let N=B,T=0;return G>N&&(N=G,T=1),I>N&&(T=2),T===0?Vn.scale(_,p,1/Math.sqrt(B)):T===1?Vn.scale(_,w,1/Math.sqrt(G)):Vn.scale(_,v,1/Math.sqrt(I)),_},i.directionTransform=function(_,x){return n(_,x),c(_,_),A(_,_),_},i.Identity=t(),i.innerProduct=function(_,x){return _[0]*x[0]+_[1]*x[1]+_[2]*x[2]+_[3]*x[3]+_[4]*x[4]+_[5]*x[5]+_[6]*x[6]+_[7]*x[7]+_[8]*x[8]}}(nm||(nm={})),function(i){function e(){const t=[.1,0];return t[0]=0,t}i.zero=e,i.clone=function(t){const n=e();return n[0]=t[0],n[1]=t[1],n},i.create=function(t,n){const r=e();return r[0]=t,r[1]=n,r},i.hasNaN=function(t){return isNaN(t[0])||isNaN(t[1])},i.toArray=function(t,n,r){return n[r+0]=t[0],n[r+1]=t[1],n},i.fromArray=function(t,n,r){return t[0]=n[r+0],t[1]=n[r+1],t},i.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},i.set=function(t,n,r){return t[0]=n,t[1]=r,t},i.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t},i.sub=function(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t},i.mul=function(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t},i.div=function(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t},i.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t},i.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t},i.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t},i.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t},i.distance=function(t,n){const r=n[0]-t[0],s=n[1]-t[1];return Math.sqrt(r*r+s*s)},i.squaredDistance=function(t,n){const r=n[0]-t[0],s=n[1]-t[1];return r*r+s*s},i.magnitude=function(t){const n=t[0],r=t[1];return Math.sqrt(n*n+r*r)},i.squaredMagnitude=function(t){const n=t[0],r=t[1];return n*n+r*r},i.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t},i.areEqual=function(t,n){return t[0]===n[0]&&t[1]===n[1]},i.toString=function(t,n){return`[${t[0].toPrecision(n)} ${t[1].toPrecision(n)}}]`}}(GE||(GE={})),function(i){function e(){const n=[.1,0,0,0];return n[0]=0,n}function t(n,r){return n[0]=r.center[0],n[1]=r.center[1],n[2]=r.center[2],n[3]=r.radius,n}i.zero=e,i.clone=function(n){const r=e();return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r},i.create=function(n,r,s,a){const o=e();return o[0]=n,o[1]=r,o[2]=s,o[3]=a,o},i.fromSphere=t,i.ofSphere=function(n){return t(e(),n)},i.hasNaN=function(n){return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])},i.toArray=function(n,r,s){return r[s+0]=n[0],r[s+1]=n[1],r[s+2]=n[2],r[s+3]=n[3],r},i.fromArray=function(n,r,s){return n[0]=r[s+0],n[1]=r[s+1],n[2]=r[s+2],n[3]=r[s+3],n},i.toVec3Array=function(n,r,s){r[s+0]=n[0],r[s+1]=n[1],r[s+2]=n[2]},i.fromVec3Array=function(n,r,s){return n[0]=r[s+0],n[1]=r[s+1],n[2]=r[s+2],n[3]=0,n},i.copy=function(n,r){return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n},i.set=function(n,r,s,a,o){return n[0]=r,n[1]=s,n[2]=a,n[3]=o,n},i.add=function(n,r,s){return n[0]=r[0]+s[0],n[1]=r[1]+s[1],n[2]=r[2]+s[2],n[3]=r[3]+s[3],n},i.distance=function(n,r){const s=r[0]-n[0],a=r[1]-n[1],o=r[2]-n[2],A=r[3]-n[3];return Math.sqrt(s*s+a*a+o*o+A*A)},i.scale=function(n,r,s){return n[0]=r[0]*s,n[1]=r[1]*s,n[2]=r[2]*s,n[4]=r[4]*s,n},i.round=function(n,r){return n[0]=Math.round(r[0]),n[1]=Math.round(r[1]),n[2]=Math.round(r[2]),n[3]=Math.round(r[3]),n},i.ceil=function(n,r){return n[0]=Math.ceil(r[0]),n[1]=Math.ceil(r[1]),n[2]=Math.ceil(r[2]),n[3]=Math.ceil(r[3]),n},i.floor=function(n,r){return n[0]=Math.floor(r[0]),n[1]=Math.floor(r[1]),n[2]=Math.floor(r[2]),n[3]=Math.floor(r[3]),n},i.squaredDistance=function(n,r){const s=r[0]-n[0],a=r[1]-n[1],o=r[2]-n[2],A=r[3]-n[3];return s*s+a*a+o*o+A*A},i.norm=function(n){const r=n[0],s=n[1],a=n[2],o=n[3];return Math.sqrt(r*r+s*s+a*a+o*o)},i.squaredNorm=function(n){const r=n[0],s=n[1],a=n[2],o=n[3];return r*r+s*s+a*a+o*o},i.transformMat4=function(n,r,s){const a=r[0],o=r[1],A=r[2],c=r[3];return n[0]=s[0]*a+s[4]*o+s[8]*A+s[12]*c,n[1]=s[1]*a+s[5]*o+s[9]*A+s[13]*c,n[2]=s[2]*a+s[6]*o+s[10]*A+s[14]*c,n[3]=s[3]*a+s[7]*o+s[11]*A+s[15]*c,n},i.dot=function(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]+n[3]*r[3]},i.inverse=function(n,r){return n[0]=1/r[0],n[1]=1/r[1],n[2]=1/r[2],n[3]=1/r[3],n},i.exactEquals=function(n,r){return n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]&&n[3]===r[3]},i.equals=function(n,r){const s=n[0],a=n[1],o=n[2],A=n[3],c=r[0],l=r[1],u=r[2],d=r[3];return Math.abs(s-c)<=Ui*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(a-l)<=Ui*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-u)<=Ui*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(A-d)<=Ui*Math.max(1,Math.abs(A),Math.abs(d))},i.toString=function(n,r){return`[${n[0].toPrecision(r)} ${n[1].toPrecision(r)} ${n[2].toPrecision(r)}  ${n[3].toPrecision(r)}]`}}(FE||(FE={})),function(i){function e(){const m=[.1,0,0,0];return m[0]=0,m}function t(){const m=e();return m[3]=1,m}function n(m,y,g){g*=.5;const E=Math.sin(g);return m[0]=E*y[0],m[1]=E*y[1],m[2]=E*y[2],m[3]=Math.cos(g),m}function r(m,y,g,E){const R=y[0],p=y[1],w=y[2],v=y[3];let _,x,C,B,G,I=g[0],N=g[1],T=g[2],M=g[3];return x=R*I+p*N+w*T+v*M,x<0&&(x=-x,I=-I,N=-N,T=-T,M=-M),1-x>1e-6?(_=Math.acos(x),C=Math.sin(_),B=Math.sin((1-E)*_)/C,G=Math.sin(E*_)/C):(B=1-E,G=E),m[0]=B*R+G*I,m[1]=B*p+G*N,m[2]=B*w+G*T,m[3]=B*v+G*M,m}function s(m,y){const g=y[0]+y[4]+y[8];let E;if(g>0)E=Math.sqrt(g+1),m[3]=.5*E,E=.5/E,m[0]=(y[5]-y[7])*E,m[1]=(y[6]-y[2])*E,m[2]=(y[1]-y[3])*E;else{let R=0;y[4]>y[0]&&(R=1),y[8]>y[3*R+R]&&(R=2);const p=(R+1)%3,w=(R+2)%3;E=Math.sqrt(y[3*R+R]-y[3*p+p]-y[3*w+w]+1),m[R]=.5*E,E=.5/E,m[3]=(y[3*p+w]-y[3*w+p])*E,m[p]=(y[3*p+R]+y[3*R+p])*E,m[w]=(y[3*w+R]+y[3*R+w])*E}return m}i.zero=e,i.identity=t,i.setIdentity=function(m){m[0]=0,m[1]=0,m[2]=0,m[3]=1},i.hasNaN=function(m){return isNaN(m[0])||isNaN(m[1])||isNaN(m[2])||isNaN(m[3])},i.create=function(m,y,g,E){const R=t();return R[0]=m,R[1]=y,R[2]=g,R[3]=E,R},i.setAxisAngle=n,i.getAxisAngle=function(m,y){const g=2*Math.acos(y[3]),E=Math.sin(g/2);return E!==0?(m[0]=y[0]/E,m[1]=y[1]/E,m[2]=y[2]/E):(m[0]=1,m[1]=0,m[2]=0),g},i.multiply=function(m,y,g){const E=y[0],R=y[1],p=y[2],w=y[3],v=g[0],_=g[1],x=g[2],C=g[3];return m[0]=E*C+w*v+R*x-p*_,m[1]=R*C+w*_+p*v-E*x,m[2]=p*C+w*x+E*_-R*v,m[3]=w*C-E*v-R*_-p*x,m},i.rotateX=function(m,y,g){g*=.5;const E=y[0],R=y[1],p=y[2],w=y[3],v=Math.sin(g),_=Math.cos(g);return m[0]=E*_+w*v,m[1]=R*_+p*v,m[2]=p*_-R*v,m[3]=w*_-E*v,m},i.rotateY=function(m,y,g){g*=.5;const E=y[0],R=y[1],p=y[2],w=y[3],v=Math.sin(g),_=Math.cos(g);return m[0]=E*_-p*v,m[1]=R*_+w*v,m[2]=p*_+E*v,m[3]=w*_-R*v,m},i.rotateZ=function(m,y,g){g*=.5;const E=y[0],R=y[1],p=y[2],w=y[3],v=Math.sin(g),_=Math.cos(g);return m[0]=E*_+R*v,m[1]=R*_-E*v,m[2]=p*_+w*v,m[3]=w*_-p*v,m},i.calculateW=function(m,y){const g=y[0],E=y[1],R=y[2];return m[0]=g,m[1]=E,m[2]=R,m[3]=Math.sqrt(Math.abs(1-g*g-E*E-R*R)),m},i.slerp=r,i.invert=function(m,y){const g=y[0],E=y[1],R=y[2],p=y[3],w=g*g+E*E+R*R+p*p,v=w?1/w:0;return m[0]=-g*v,m[1]=-E*v,m[2]=-R*v,m[3]=p*v,m},i.conjugate=function(m,y){return m[0]=-y[0],m[1]=-y[1],m[2]=-y[2],m[3]=y[3],m},i.dot=function(m,y){return m[0]*y[0]+m[1]*y[1]+m[2]*y[2]+m[3]*y[3]},i.fromMat3=s,i.fromEuler=function(m,y,g){const[E,R,p]=y,w=Math.cos(E/2),v=Math.cos(R/2),_=Math.cos(p/2),x=Math.sin(E/2),C=Math.sin(R/2),B=Math.sin(p/2);switch(g){case"XYZ":m[0]=x*v*_+w*C*B,m[1]=w*C*_-x*v*B,m[2]=w*v*B+x*C*_,m[3]=w*v*_-x*C*B;break;case"YXZ":m[0]=x*v*_+w*C*B,m[1]=w*C*_-x*v*B,m[2]=w*v*B-x*C*_,m[3]=w*v*_+x*C*B;break;case"ZXY":m[0]=x*v*_-w*C*B,m[1]=w*C*_+x*v*B,m[2]=w*v*B+x*C*_,m[3]=w*v*_-x*C*B;break;case"ZYX":m[0]=x*v*_-w*C*B,m[1]=w*C*_+x*v*B,m[2]=w*v*B-x*C*_,m[3]=w*v*_+x*C*B;break;case"YZX":m[0]=x*v*_+w*C*B,m[1]=w*C*_+x*v*B,m[2]=w*v*B-x*C*_,m[3]=w*v*_-x*C*B;break;case"XZY":m[0]=x*v*_-w*C*B,m[1]=w*C*_-x*v*B,m[2]=w*v*B+x*C*_,m[3]=w*v*_+x*C*B;break;default:Zm()}return m};const a=[0,0,0];function o(m,y){const g=y[0],E=y[1],R=y[2],p=y[3];let w=g*g+E*E+R*R+p*p;return w>0&&(w=1/Math.sqrt(w),m[0]=g*w,m[1]=E*w,m[2]=R*w,m[3]=p*w),m}i.fromUnitVec3=function(m,y,g){let E=Vn.dot(y,g)+1;return E<Ui?(E=0,Math.abs(y[0])>Math.abs(y[2])?Vn.set(a,-y[1],y[0],0):Vn.set(a,0,-y[2],y[1])):Vn.cross(a,y,g),m[0]=a[0],m[1]=a[1],m[2]=a[2],m[3]=E,o(m,m),m},i.clone=function(m){const y=e();return y[0]=m[0],y[1]=m[1],y[2]=m[2],y[3]=m[3],y},i.toArray=function(m,y,g){return y[g+0]=m[0],y[g+1]=m[1],y[g+2]=m[2],y[g+3]=m[3],y},i.fromArray=function(m,y,g){return m[0]=y[g+0],m[1]=y[g+1],m[2]=y[g+2],m[3]=y[g+3],m},i.copy=function(m,y){return m[0]=y[0],m[1]=y[1],m[2]=y[2],m[3]=y[3],m},i.set=function(m,y,g,E,R){return m[0]=y,m[1]=g,m[2]=E,m[3]=R,m},i.exactEquals=function(m,y){return m[0]===y[0]&&m[1]===y[1]&&m[2]===y[2]&&m[3]===y[3]},i.equals=function(m,y){const g=m[0],E=m[1],R=m[2],p=m[3],w=y[0],v=y[1],_=y[2],x=y[3];return Math.abs(g-w)<=Ui*Math.max(1,Math.abs(g),Math.abs(w))&&Math.abs(E-v)<=Ui*Math.max(1,Math.abs(E),Math.abs(v))&&Math.abs(R-_)<=Ui*Math.max(1,Math.abs(R),Math.abs(_))&&Math.abs(p-x)<=Ui*Math.max(1,Math.abs(p),Math.abs(x))},i.add=function(m,y,g){return m[0]=y[0]+g[0],m[1]=y[1]+g[1],m[2]=y[2]+g[2],m[3]=y[3]+g[3],m},i.normalize=o;const A=[0,0,0],c=[1,0,0],l=[0,1,0];i.rotationTo=function(m,y,g){const E=Vn.dot(y,g);return E<-.999999?(Vn.cross(A,c,y),Vn.magnitude(A)<1e-6&&Vn.cross(A,l,y),Vn.normalize(A,A),n(m,A,Math.PI),m):E>.999999?(m[0]=0,m[1]=0,m[2]=0,m[3]=1,m):(Vn.cross(A,y,g),m[0]=A[0],m[1]=A[1],m[2]=A[2],m[3]=1+E,o(m,m))};const u=e(),d=e();i.sqlerp=function(m,y,g,E,R,p){return r(u,y,R,p),r(d,g,E,p),r(m,u,d,2*p*(1-p)),m};const h=[0,0,0,0,0,0,0,0,0];i.setAxes=function(m,y,g,E){return h[0]=g[0],h[3]=g[1],h[6]=g[2],h[1]=E[0],h[4]=E[1],h[7]=E[2],h[2]=-y[0],h[5]=-y[1],h[8]=-y[2],o(m,s(m,h))},i.toString=function(m,y){return`[${m[0].toPrecision(y)} ${m[1].toPrecision(y)} ${m[2].toPrecision(y)}  ${m[3].toPrecision(y)}]`},i.Identity=t()}(IE||(IE={})),function(i){function e(a,o,A){const c=function(y,g,E){const R=[];for(let w=0;w<g.length;w++)R[w]=g[g.length-w-1];const p=[1];for(let w=1;w<y.length;w++)p[w]=y[R[w-1]];return{dimensions:y,axisOrderFastToSlow:R,axisOrderSlowToFast:g,accessDimensions:p,defaultCtor:E||Float64Array}}(a,o,A),{get:l,set:u,add:d,dataOffset:h,getCoords:m}=t(c);return{rank:a.length,dimensions:a,axisOrderSlowToFast:o,create:n(c),get:l,set:u,add:d,dataOffset:h,getCoords:m}}function t(a){const{dimensions:o,axisOrderFastToSlow:A}=a;switch(o.length){case 1:return{get:(c,l)=>c[l],set:(c,l,u)=>c[l]=u,add:(c,l,u)=>c[l]+=u,dataOffset:c=>c,getCoords:(c,l)=>(l[0]=c,l)};case 2:if(A[0]===0&&A[1]===1){const c=o[0];return{get:(l,u,d)=>l[d*c+u],set:(l,u,d,h)=>l[d*c+u]=h,add:(l,u,d,h)=>l[d*c+u]+=h,dataOffset:(l,u)=>u*c+l,getCoords:(l,u)=>(u[0]=l%c,u[1]=Math.floor(l/c),u)}}if(A[0]===1&&A[1]===0){const c=o[1];return{get:(l,u,d)=>l[u*c+d],set:(l,u,d,h)=>l[u*c+d]=h,add:(l,u,d,h)=>l[u*c+d]+=h,dataOffset:(l,u)=>l*c+u,getCoords:(l,u)=>(u[0]=Math.floor(l/c),u[1]=l%c,u)}}throw new Error("bad axis order");case 3:if(A[0]===0&&A[1]===1&&A[2]===2){const c=o[0],l=o[1],u=c*l;return{get:(d,h,m,y)=>d[h+m*c+y*u],set:(d,h,m,y,g)=>d[h+m*c+y*u]=g,add:(d,h,m,y,g)=>d[h+m*c+y*u]+=g,dataOffset:(d,h,m)=>d+h*c+m*u,getCoords:(d,h)=>{const m=Math.floor(d/c);return h[0]=d%c,h[1]=m%l,h[2]=Math.floor(m/l),h}}}if(A[0]===0&&A[1]===2&&A[2]===1){const c=o[0],l=o[2],u=c*l;return{get:(d,h,m,y)=>d[h+y*c+m*u],set:(d,h,m,y,g)=>d[h+y*c+m*u]=g,add:(d,h,m,y,g)=>d[h+y*c+m*u]+=g,dataOffset:(d,h,m)=>d+m*c+h*u,getCoords:(d,h)=>{const m=Math.floor(d/c);return h[0]=d%c,h[1]=Math.floor(m/l),h[2]=m%l,h}}}if(A[0]===1&&A[1]===0&&A[2]===2){const c=o[1],l=o[0],u=c*l;return{get:(d,h,m,y)=>d[m+h*c+y*u],set:(d,h,m,y,g)=>d[m+h*c+y*u]=g,add:(d,h,m,y,g)=>d[m+h*c+y*u]+=g,dataOffset:(d,h,m)=>h+d*c+m*u,getCoords:(d,h)=>{const m=Math.floor(d/c);return h[0]=m%l,h[1]=d%c,h[2]=Math.floor(m/l),h}}}if(A[0]===1&&A[1]===2&&A[2]===0){const c=o[1],l=o[2],u=c*l;return{get:(d,h,m,y)=>d[m+y*c+h*u],set:(d,h,m,y,g)=>d[m+y*c+h*u]=g,add:(d,h,m,y,g)=>d[m+y*c+h*u]+=g,dataOffset:(d,h,m)=>h+m*c+d*u,getCoords:(d,h)=>{const m=Math.floor(d/c);return h[0]=Math.floor(m/l),h[1]=d%c,h[2]=m%l,h}}}if(A[0]===2&&A[1]===0&&A[2]===1){const c=o[2],l=o[0],u=c*l;return{get:(d,h,m,y)=>d[y+h*c+m*u],set:(d,h,m,y,g)=>d[y+h*c+m*u]=g,add:(d,h,m,y,g)=>d[y+h*c+m*u]+=g,dataOffset:(d,h,m)=>m+d*c+h*u,getCoords:(d,h)=>{const m=Math.floor(d/c);return h[0]=m%l,h[1]=Math.floor(m/l),h[2]=d%c,h}}}if(A[0]===2&&A[1]===1&&A[2]===0){const c=o[2],l=o[1],u=c*l;return{get:(d,h,m,y)=>d[y+m*c+h*u],set:(d,h,m,y,g)=>d[y+m*c+h*u]=g,add:(d,h,m,y,g)=>d[y+m*c+h*u]+=g,dataOffset:(d,h,m)=>m+h*c+d*u,getCoords:(d,h)=>{const m=Math.floor(d/c);return h[0]=Math.floor(m/l),h[1]=m%l,h[2]=d%c,h}}}throw new Error("bad axis order");default:return{get:(c,...l)=>c[r(a,l)],set:(c,...l)=>c[r(a,l)]=l[l.length-1],add:(c,...l)=>c[r(a,l)]+=l[l.length-1],dataOffset:(...c)=>r(a,c),getCoords:(c,l)=>function(u,d,h){const{dimensions:m,axisOrderFastToSlow:y}=u,g=m.length;let E=d;for(let R=0;R<g;R++){const p=m[y[R]];h[y[R]]=E%p,E=Math.floor(E/p)}return h[y[g+1]]=E,h}(a,c,l)}}}function n(a){const{dimensions:o}=a;let A=1;for(let c=0,l=o.length;c<l;c++)A*=o[c];return c=>new(c||a.defaultCtor)(A)}function r(a,o){const{accessDimensions:A,axisOrderFastToSlow:c}=a,l=A.length-1;let u=A[l]*o[c[l]];for(let d=l-1;d>=0;d--)u=(u+o[c[d]])*A[d];return u}function s(a,o){const A=[];for(let c=0;c<a.length;c++)A[c]=a[o[c]];return A}i.create=function(a,o){return{space:a,data:o}},i.Space=e,i.Data1=function(a){return a},i.Vector=function(a,o){return e([a],[0],o)},i.ColumnMajorMatrix=function(a,o,A){return e([a,o],[1,0],A)},i.RowMajorMatrix=function(a,o,A){return e([a,o],[0,1],A)},i.toMat4=function(a,o,A){if(o.rank!==2)throw new Error("Invalid tensor rank");const c=Math.min(4,o.dimensions[0]),l=Math.min(4,o.dimensions[1]);for(let u=0;u<c;u++)for(let d=0;d<l;d++)i0.setValue(a,u,d,o.get(A,u,d));return a},i.toMat3=function(a,o,A){if(o.rank!==2)throw new Error("Invalid tensor rank");const c=Math.min(3,o.dimensions[0]),l=Math.min(3,o.dimensions[1]);for(let u=0;u<c;u++)for(let d=0;d<l;d++)nm.setValue(a,u,d,o.get(A,u,d));return a},i.toVec3=function(a,o,A){if(o.rank!==1)throw new Error("Invalid tensor rank");const c=Math.min(3,o.dimensions[0]);for(let l=0;l<c;l++)a[l]=A[l];return a},i.toVec4=function(a,o,A){if(o.rank!==1)throw new Error("Invalid tensor rank");const c=Math.min(4,o.dimensions[0]);for(let l=0;l<c;l++)a[l]=A[l];return a},i.areEqualExact=function(a,o){const A=a.length;if(A!==o.length)return!1;for(let c=0;c<A;c++)if(a[c]!==o[c])return!1;return!0},i.invertAxisOrder=function(a){const o=[];for(let A=0;A<a.length;A++)o[A]=a[a.length-A-1];return o},i.convertToCanonicalAxisIndicesFastToSlow=function(a){const o=new Int32Array(a.length);for(let A=0;A<a.length;A++)o[a[A]]=A;return A=>s(A,o)},i.convertToCanonicalAxisIndicesSlowToFast=function(a){const o=new Int32Array(a.length);for(let A=0;A<a.length;A++)o[a[a.length-A-1]]=A;return A=>s(A,o)}}(Ld||(Ld={})),function(i){let e;function t(r,s){return DR(s.T,r,s,1)}function n(r){return u1(r)}(function(r){function s(a,o=r.float){return{"@type":"tensor",T:a.create(),space:a,valueType:"tensor",baseType:o}}r.str={"@type":"str",T:"",valueType:"str"},r.ustr={"@type":"str",T:"",valueType:"str",transform:"uppercase"},r.lstr={"@type":"str",T:"",valueType:"str",transform:"lowercase"},r.int={"@type":"int",T:0,valueType:"int"},r.coord={"@type":"coord",T:0,valueType:"float"},r.float={"@type":"float",T:0,valueType:"float"},r.Str=function(a){var o;return{"@type":"str",T:(o=a==null?void 0:a.defaultValue)!==null&&o!==void 0?o:"",transform:a==null?void 0:a.transform,valueType:"str"}},r.Int=function(a=0){return{"@type":"int",T:a,valueType:"int"}},r.Float=function(a=0){return{"@type":"float",T:a,valueType:"float"}},r.Tensor=s,r.Vector=function(a,o=r.float){return s(Ld.Vector(a,o["@type"]==="int"?Int32Array:Float64Array),o)},r.Matrix=function(a,o,A=r.float){return s(Ld.ColumnMajorMatrix(a,o,A["@type"]==="int"?Int32Array:Float64Array),A)},r.Aliased=function(a){return a},r.List=function(a,o,A=[]){return{"@type":"list",T:A,separator:a,itemParse:o,valueType:"list"}}})(e=i.Schema||(i.Schema={})),i.is=function(r){return!!r&&!!r.schema&&!!r.value},i.ValueKind={Present:0,NotPresent:1,Unknown:2},i.Undefined=t,i.ofConst=function(r,s,a){return DR(r,s,a,0)},i.ofLambda=n,i.range=function(r,s){return n({value:a=>a+r,rowCount:Math.max(s-r+1,0),schema:e.int})},i.ofArray=function(r){return Zo(r)},i.ofIntArray=function(r){return Zo({array:r,schema:e.int})},i.ofFloatArray=function(r){return Zo({array:r,schema:e.float})},i.ofStringArray=function(r){return Zo({array:r,schema:e.str})},i.ofStringAliasArray=function(r){return Zo({array:r,schema:e.Aliased(e.str)})},i.ofStringListArray=function(r,s=","){return Zo({array:r,schema:e.List(s,a=>a)})},i.ofIntTokens=function(r){const{count:s,data:a,indices:o}=r;return u1({value:A=>Yl(a,o[2*A],o[2*A+1])||0,rowCount:s,schema:e.int})},i.ofFloatTokens=function(r){const{count:s,data:a,indices:o}=r;return u1({value:A=>sf(a,o[2*A],o[2*A+1])||0,rowCount:s,schema:e.float})},i.ofStringTokens=function(r){const{count:s,data:a,indices:o}=r;return u1({value:A=>{const c=a.substring(o[2*A],o[2*A+1]);return c==="."||c==="?"?"":c},rowCount:s,schema:e.str})},i.window=function(r,s,a){return rce(r,s,a)},i.view=function(r,s,a=!0){return sce(r,s,a)},i.createFirstIndexMap=function(r){return function(s){const a=new Map;for(let o=0,A=s.rowCount;o<A;o++){const c=s.value(o);a.has(c)||a.set(s.value(o),o)}return a}(r)},i.createIndexer=function(r){return function(s){const a=new Map;for(let o=0,A=s.rowCount;o<A;o++){const c=s.value(o);a.has(c)||a.set(s.value(o),o)}return o=>a.has(o)?a.get(o):-1}(r)},i.mapToArray=function(r,s,a){return function(o,A,c){const l=new c(o.rowCount);for(let u=0,d=o.rowCount;u<d;u++)l[u]=A(o.value(u));return l}(r,s,a||Array)},i.areEqual=function(r,s){return function(a,o){return a===o||a.rowCount===o.rowCount&&a.isDefined===o.isDefined&&a.schema.valueType===o.schema.valueType&&(a.__array&&o.__array?function(A,c){const l=A.__array,u=c.__array;for(let d=0,h=A.rowCount;d<h;d++)if(l[d]!==u[d])return!1;return!0}(a,o):function(A,c){const l=A.value,u=c.value;for(let d=0,h=A.rowCount;d<h;d++)if(l(d)!==u(d))return!1;return!0}(a,o))}(r,s)},i.indicesOf=function(r,s){return function(a,o){const A=[],c=a.value;for(let l=0,u=a.rowCount;l<u;l++)o(c(l))&&(A[A.length]=l);return A}(r,s)},i.asArrayColumn=function(r,s){return r.__array?r:r.isDefined?Zo({array:r.toArray({array:s}),schema:r.schema,valueKind:r.valueKind}):t(r.rowCount,r.schema)},i.copyToArray=function(r,s,a=0){if(!r.isDefined)return;const o=r.__array;if(o)for(let A=0,c=o.length;A<c;A++)s[a+A]=o[A];else for(let A=0,c=r.rowCount;A<c;A++)s[a+A]=r.value(A)},i.isIdentity=function(r){for(let s=0,a=r.rowCount;s<a;s++)if(s!==r.value(s))return!1;return!0}}(gi||(gi={})),function(i){i.create=function(e){return e},i.has=function(e,t){return!!(e&t)},i.hasAll=function(e,t){return!!t&&(e&t)===t}}(PR||(PR={})),function(i){i.create=function(r=512){return{current:[],offset:0,capacity:r,chunks:[]}},i.getString=function(r){return r.chunks.length?(r.offset>0&&(r.chunks[r.chunks.length]=r.current.length===r.offset?r.current.join(""):r.current.slice(0,r.offset).join("")),r.chunks.join("")):r.current.length===r.offset?r.current.join(""):r.current.splice(0,r.offset).join("")},i.getSize=function(r){let s=0;for(const a of r.chunks)s+=a.length;for(let a=0;a<r.offset;a++)s+=r.current[a].length;return s},i.getChunks=function(r){return r.offset>0&&(r.current.length===r.offset?r.chunks[r.chunks.length]=r.current.join(""):r.chunks[r.chunks.length]=r.current.slice(0,r.offset).join(""),r.offset=0),r.chunks};const e=[];function t(r,s){s>0&&n(r,e[s])}function n(r,s){r.offset===r.capacity&&(r.chunks[r.chunks.length]=r.current.join(""),r.offset=0),r.current[r.offset++]=s}(function(){let r="";for(let s=0;s<512;s++)e[s]=r,r+=" "})(),i.newline=function(r){n(r,`
`)},i.whitespace=t,i.whitespace1=function(r){n(r," ")},i.write=function(r,s){s&&(r.offset===r.capacity&&(r.chunks[r.chunks.length]=r.current.join(""),r.offset=0),r.current[r.offset++]=s)},i.writeSafe=n,i.writePadLeft=function(r,s,a){if(!s)return void t(r,a);t(r,a-s.length),n(r,s)},i.writePadRight=function(r,s,a){if(!s)return void t(r,a);const o=a-s.length;n(r,s),t(r,o)},i.writeInteger=function(r,s){n(r,""+s)},i.writeIntegerAndSpace=function(r,s){n(r,s+" ")},i.writeIntegerPadLeft=function(r,s,a){const o=""+s;t(r,a-o.length),n(r,o)},i.writeIntegerPadRight=function(r,s,a){const o=""+s,A=a-o.length;n(r,o),t(r,A)},i.writeFloat=function(r,s,a){n(r,""+Math.round(a*s)/a)},i.writeFloatPadLeft=function(r,s,a,o){const A=""+Math.round(a*s)/a;t(r,o-A.length),n(r,A)},i.writeFloatPadRight=function(r,s,a,o){const A=""+Math.round(a*s)/a,c=o-A.length;n(r,A),t(r,c)}}(Dr||(Dr={}));const lo=function(){if(typeof window<"u"&&window.performance){const i=window.performance;return()=>i.now()}return typeof process<"u"&&process.hrtime!=="undefined"&&typeof process.hrtime=="function"?()=>{const i=process.hrtime();return 1e3*i[0]+i[1]/1e6}:Date.now?()=>Date.now():()=>+new Date}();var kR,OR,af;function uce(i,e){return i-e}function NT(i=0,e=Number.MAX_SAFE_INTEGER){let t=i;return()=>{const n=t;return t=(t+1)%e,n}}(function(i){const e=typeof btoa<"u"?btoa:n=>Buffer.from(n).toString("base64"),t=[];i.create22=function(){let n=+new Date+lo();for(let r=0;r<16;r++)t[r]=String.fromCharCode((n+255*Math.random())%255|0),n=Math.floor(n/255);return e(t.join("")).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22)},i.createv4=function(){let n=+new Date+lo();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const s=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(r==="x"?s:3&s|8).toString(16)})},i.is=function(n){return typeof n=="string"}})(kR||(kR={})),function(i){class e{has(c){return!1}forEach(c,l){return l}constructor(){this.size=0}}class t{has(c){return c===this.idx}forEach(c,l){return c(this.idx,l),l}constructor(c){this.idx=c,this.size=1}}class n{has(c){return c<this.length&&!!this.mask[c]}_forEach(c,l){for(let u=0;u<this.length;u++)this.mask[u]&&c(u,l)}forEach(c,l){return this._forEach(c,l),l}constructor(c,l){this.mask=c,this.size=l,this.length=c.length}}class r{has(c){return!0}_forEach(c,l){for(let u=0;u<this.size;u++)c(u,l)}forEach(c,l){return this._forEach(c,l),l}constructor(c){this.size=c}}class s{has(c){return this.set.has(c)}_forEach(c,l){for(const u of this.flatten())c(u,l)}flatten(){if(this._flat)return this._flat;const c=new Int32Array(this.size);let l=0;return this.set.forEach(u=>c[l++]=u),function(u){Array.prototype.sort.call(u,uce)}(c),this._flat=c,this._flat}forEach(c,l){return this._forEach(c,l),l}constructor(c){this.set=c,this._flat=void 0,this.size=c.size}}function a(A){return new s(A)}function o(A,c){return new n(A,c)}i.always=function(A){return new r(A)},i.never=new e,i.ofSet=a,i.singleton=function(A){return new t(A)},i.ofUniqueIndices=function(A){const c=A.length;if(c===0)return new e;if(c===1)return new t(A[0]);let l=0;for(const d of A)d>l&&(l=d);if(c===l)return new r(c);if(c/l<1/12){const d=new Set;for(const h of A)d.add(h);return new s(d)}const u=new Int8Array(l+1);for(const d of A)u[d]=1;return new n(u,A.length)},i.ofMask=o,i.hasAny=function(A,c){for(const l of c)if(A.has(l))return!0;return!1},i.complement=function(A,c){let l=0,u=0;if(c.forEach(d=>{A.has(d)||(l++,d>u&&(u=d))}),l/u<1/12){const d=new Set;return c.forEach(h=>{A.has(h)||d.add(h)}),a(d)}{const d=new Uint8Array(u+1);return c.forEach(h=>{A.has(h)||(d[h]=1)}),o(d,l)}}}(OR||(OR={})),function(i){i.create=function(e){return{ref:e}},i.set=function(e,t){return e.ref=t,e}}(af||(af={}));const dce=NT(0,2147483647);var d1,QR,f1,LE,Xl;function fce(i){const{data:e,indices:t}=i;return function(n,r){const s=t[2*n],a=t[2*r],o=t[2*n+1]-s;if(o!==t[2*r+1]-a)return!1;for(let A=0;A<o;A++)if(e.charCodeAt(A+s)!==e.charCodeAt(A+a))return!1;return!0}}function MT(i,e){return{name:e,blocks:i}}function S4(i,e,t,n=[]){return{categoryNames:i,header:t,categories:e,saveFrames:n,getField(r){const[s,a]=r.split(".");return e[s].getField(a||"")}}}function Jm(i,e,t,n){return{rowCount:e,name:i,fieldNames:[...t],getField:r=>n[r]}}(function(i){i.create=function(e,t){return{id:dce(),version:0,value:e,metadata:t}},i.withValue=function(e,t){return{id:e.id,version:e.version+1,value:t,metadata:e.metadata}}})(d1||(d1={})),function(i){function e(t,n){return af.set(t,d1.withValue(t.ref,n))}i.create=function(t,n){return af.create(d1.create(t,n))},i.update=e,i.set=function(t,n){return af.set(t,n)},i.updateIfChanged=function(t,n){return t.ref.value!==n?e(t,n):t}}(QR||(QR={})),function(i){function e(n,r,s){const a=Object.create(null),o=Object.keys(r);a._rowCount=s.length,a._columns=o,a._schema=r;for(const A of o)a[A]=gi.view(n[A],s);return a}function t(n,r){const s=Object.create(null),{_columns:a}=n;for(let o=0;o<a.length;o++){const A=a[o];s[A]=n[A].value(r)}return s}i.is=function(n){return n&&typeof n._rowCount=="number"&&!!n._columns&&!!n._schema},i.pickColumns=function(n,r,s={}){const a=Object.create(null),o=Object.keys(n);a._rowCount=r._rowCount,a._columns=o,a._schema=n;for(const A of o)if(r[A])a[A]=r[A];else{if(!s[A])throw Error(`Cannot find column '${A}'.`);a[A]=s[A]}return a},i.ofColumns=function(n,r){const s=Object.keys(r);return{_rowCount:r[s[0]].rowCount,_columns:s,_schema:n,...r}},i.ofPartialColumns=function(n,r,s){const a=Object.create(null),o=Object.keys(n);a._rowCount=s,a._columns=o,a._schema=n;for(const A of o)a[A]=A in r?r[A]:gi.Undefined(s,n[A]);return a},i.ofUndefinedColumns=function(n,r){const s=Object.create(null),a=Object.keys(n);s._rowCount=r,s._columns=a,s._schema=n;for(const o of a)s[o]=gi.Undefined(r,n[o]);return s},i.ofRows=function(n,r){const s=Object.create(null),a=r.length,o=Object.keys(n);s._rowCount=a,s._columns=o,s._schema=n;for(const A of o)s[A]=gi.ofLambda({rowCount:a,schema:n[A],value:c=>r[c][A],valueKind:c=>r[c][A]===void 0?1:0});return s},i.ofArrays=function(n,r){var s;const a=Object.create(null),o=Object.keys(n);a._rowCount=0,a._columns=o,a._schema=n;for(const A of o)r[A]!==void 0?(a[A]=gi.ofArray({array:r[A],schema:n[A]}),a._rowCount=(s=r[A])===null||s===void 0?void 0:s.length):a[A]=gi.Undefined(a._rowCount,n[A]);return a},i.view=e,i.pick=function(n,r,s){const a=[];for(let o=0,A=n._rowCount;o<A;++o)s(o)&&a.push(o);return e(n,r,a)},i.window=function(n,r,s,a){if(s===0&&a===n._rowCount)return n;const o=Object.create(null),A=Object.keys(r);o._rowCount=a-s,o._columns=A,o._schema=r;for(const c of A)o[c]=gi.window(n[c],s,a);return o},i.concat=function(n,r){const s=Object.create(null),a=Object.keys(r);s._rowCount=0;for(const c of n)s._rowCount+=c._rowCount;const o={};for(const c of a)o[c]=new Array(s._rowCount);s._columns=a,s._schema=r;let A=0;for(const c of n){for(const l of a)gi.copyToArray(c[l],o[l],A);A+=c._rowCount}for(const c of a)s[c]=gi.ofArray({array:o[c],schema:r[c]});return s},i.columnToArray=function(n,r,s){n[r]=gi.asArrayColumn(n[r],s)},i.sort=function(n,r){const s=new Int32Array(n._rowCount);for(let A=0,c=s.length;A<c;A++)s[A]=A;lce(s,(A,c,l)=>r(c,l));let a=!0;for(let A=0,c=s.length;A<c;A++)if(s[A]!==A){a=!1;break}if(a)return n;const o=Object.create(null);o._rowCount=n._rowCount,o._columns=n._columns,o._schema=n._schema;for(const A of n._columns)o[A]=gi.view(n[A],s,!1);return o},i.areEqual=function(n,r){if(n._rowCount!==r._rowCount||n._columns.length!==r._columns.length)return!1;for(const s of n._columns)if(!r[s])return!1;for(const s of n._columns)if(!gi.areEqual(n[s],r[s]))return!1;return!0},i.getRow=t,i.pickRow=function(n,r){for(let s=0,a=n._rowCount;s<a;++s)if(r(s))return t(n,s)},i.getRows=function(n){const r=[],{_rowCount:s}=n;for(let a=0;a<s;a++)r[a]=t(n,a);return r},i.toArrays=function(n){const r={},{_columns:s}=n;for(let a=0;a<s.length;a++){const o=s[a];r[o]=n[o].toArray()}return r},i.formatToString=function(n){const r=Dr.create(),{_columns:s,_rowCount:a}=n;let o=1;Dr.write(r,"|");for(let A=0;A<s.length;A++)Dr.write(r,s[A]),Dr.write(r,"|"),o+=s[A].length+1;Dr.newline(r),Dr.write(r,new Array(o+1).join("-")),Dr.newline(r);for(let A=0;A<a;A++){Dr.write(r,"|");for(let c=0;c<s.length;c++){const l=n[s[c]];l.valueKind(A)===0?(Dr.write(r,l.value(A)),Dr.write(r,"|")):Dr.write(r,".|")}Dr.newline(r)}return Dr.getString(r)}}(f1||(f1={})),function(i){i.ofTables=function(e,t,n){const r=Object.keys(n),s=Object.create(null),a=[];s._name=e,s._tableNames=a,s._schema=t;for(const o of r)f1.is(n[o])&&(s[o]=n[o],a[a.length]=o);return s},i.getTablesAsRows=function(e){const t={};for(const n of e._tableNames)t[n]=f1.getRows(e[n]);return t}}(LE||(LE={})),function(i){function e(t,n){const r=Object.keys(n);return{rowCount:r.length>0?n[r[0]].rowCount:0,name:t,fieldNames:r,getField:s=>n[s]}}i.empty=function(t){return{rowCount:0,name:t,fieldNames:[],getField(n){}}},i.ofFields=e,i.ofTable=function(t,n){const r={};for(const s of n._columns)r[s]=Xl.ofColumn(n[s]);return e(t,r)}}(Jm||(Jm={})),function(i){function e(n){const r=n.length,s=A=>{const c=n[A];return c&&c!=="."&&c!=="?"?c:""},a=A=>{const c=n[A];return Yl(c,0,c.length)||0},o=A=>{const c=n[A];return sf(c,0,c.length)||0};return{__array:void 0,binaryEncoding:void 0,isDefined:!0,rowCount:r,str:s,int:a,float:o,valueKind:A=>{const c=n[A],l=c.length;if(l>1)return 0;if(l===0)return 1;const u=c.charCodeAt(0);return u===46?1:u===63?2:0},areValuesEqual:(A,c)=>n[A]===n[c],toStringArray:A=>A?Sr(r,s,A):n,toIntArray:A=>Sr(r,a,A),toFloatArray:A=>Sr(r,o,A)}}function t(n){const{rowCount:r,valueKind:s,areValuesEqual:a,isDefined:o}=n;let A,c,l;switch(n.schema.valueType){case"float":case"int":A=d=>""+n.value(d),c=n.value,l=n.value;break;case"str":A=n.value,c=d=>{const h=n.value(d);return Yl(h,0,h.length)||0},l=d=>{const h=n.value(d);return sf(h,0,h.length)||0};break;case"list":const{separator:u}=n.schema;A=d=>n.value(d).join(u),c=d=>NaN,l=d=>NaN;break;default:throw new Error(`unsupported valueType '${n.schema.valueType}'`)}return{__array:void 0,binaryEncoding:void 0,isDefined:o,rowCount:r,str:A,int:c,float:l,valueKind:s,areValuesEqual:a,toStringArray:u=>Sr(r,A,u),toIntArray:u=>Sr(r,c,u),toFloatArray:u=>Sr(r,l,u)}}i.ofString=function(n){return e([n])},i.ofStrings=e,i.ofNumbers=function(n){const r=n.length,s=A=>""+n[A],a=A=>n[A],o=A=>!A||A.array&&n instanceof A.array?n:Sr(r,a,A);return{__array:void 0,binaryEncoding:void 0,isDefined:!0,rowCount:r,str:s,int:a,float:a,valueKind:A=>0,areValuesEqual:(A,c)=>n[A]===n[c],toStringArray:A=>Sr(r,s,A),toIntArray:o,toFloatArray:o}},i.ofTokens=function(n){const{data:r,indices:s,count:a}=n,o=l=>{const u=r.substring(s[2*l],s[2*l+1]);return u==="."||u==="?"?"":u},A=l=>Yl(r,s[2*l],s[2*l+1])||0,c=l=>sf(r,s[2*l],s[2*l+1])||0;return{__array:void 0,binaryEncoding:void 0,isDefined:!0,rowCount:a,str:o,int:A,float:c,valueKind:l=>{const u=s[2*l],d=s[2*l+1]-u;if(d>1)return 0;if(d===0)return 1;const h=r.charCodeAt(u);return h===46?1:h===63?2:0},areValuesEqual:fce(n),toStringArray:l=>Sr(a,o,l),toIntArray:l=>Sr(a,A,l),toFloatArray:l=>Sr(a,c,l)}},i.ofColumn=t,i.ofUndefined=function(n,r){return t(gi.Undefined(n,r))}}(Xl||(Xl={}));const DE=typeof setImmediate<"u"?typeof window<"u"?{setImmediate:(i,...e)=>window.setImmediate(i,...e),clearImmediate:i=>window.clearImmediate(i)}:{setImmediate,clearImmediate}:function(){const i=function(){const o=typeof window<"u"&&window,A=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self;return o||typeof global<"u"&&global||A}(),e={},t=typeof document<"u"?document:void 0;let n,r=1;function s(o){delete e[o]}function a(o){const A=e[o];s(o),function(c){const l=c.callback,u=c.args;switch(u.length){case 0:l();break;case 1:l(u[0]);break;case 2:l(u[0],u[1]);break;case 3:l(u[0],u[1],u[2]);break;default:l.apply(void 0,u)}}(A)}return typeof process<"u"&&{}.toString.call(process)==="[object process]"?n=function(o){process.nextTick(function(){a(o)})}:function(){if(i&&i.postMessage&&!i.importScripts){let o=!0;const A=i.onmessage;return i.onmessage=function(){o=!1},i.postMessage("","*"),i.onmessage=A,o}}()?function(){const o="setImmediate$"+Math.random()+"$",A=function(c){c.source===i&&typeof c.data=="string"&&c.data.indexOf(o)===0&&a(+c.data.slice(o.length))};window.addEventListener?window.addEventListener("message",A,!1):window.attachEvent("onmessage",A),n=function(c){window.postMessage(o+c,"*")}}():typeof MessageChannel<"u"?function(){const o=new MessageChannel;o.port1.onmessage=function(A){a(A.data)},n=function(A){o.port2.postMessage(A)}}():t&&"onreadystatechange"in t.createElement("script")?function(){const o=t.documentElement;n=function(A){let c=t.createElement("script");c.onreadystatechange=function(){a(A),c.onreadystatechange=null,o.removeChild(c),c=null},o.appendChild(c)}}():n=function(o){setTimeout(a,0,o)},{setImmediate:function(o,...A){typeof o!="function"&&(o=new Function(""+o));const c={callback:o,args:A};return e[r]=c,n(r),r++},clearImmediate:s}}();function hce(i){DE.setImmediate(i)}const pce={setImmediate:DE.setImmediate,clearImmediate:DE.clearImmediate,immediatePromise:()=>new Promise(hce),delay:(i,e=void 0)=>new Promise(t=>setTimeout(t,i,e))};(function(){try{return!0}catch{return!1}})(),function(){try{const i={}.DEBUG;return i==="*"||i==="molstar"}catch{return!1}}();const Mw=typeof performance<"u"&&!!performance.mark&&performance.measure&&!1;var of;function mce(i,e,t=250){const n=function(r,s,a){const o={abortRequested:!1,treeAborted:!1,reason:""};return{updateRateMs:a,lastNotified:lo(),observer:s,abortToken:o,taskId:r.id,root:{progress:TT(r),children:[]},tryAbort:gce(o)}}(i,e,t);return N4(i,new M4(n,n.root))}function TT(i){return{taskId:i.id,taskName:i.name,message:"",startedTime:0,canAbort:!0,isIndeterminate:!0,current:0,max:0}}function gce(i){return e=>{i.abortRequested=!0,i.reason=e||i.reason}}function GT(i){return{progress:{...i.progress},children:i.children.map(GT)}}function FT(i){return i.progress.canAbort&&i.children.every(FT)}async function N4(i,e){of.markStart(i),e.node.progress.startedTime=lo();try{const t=await i.f(e);return of.markEnd(i),of.measure(i),e.info.abortToken.abortRequested&&IT(e.info),t}catch(t){throw Cc.isAbort(t)&&(e.isAborted=!0,e.node.children.length>0&&await new Promise(n=>{e.onChildrenFinished=n}),i.onAbort&&i.onAbort()),t}}function IT(i){throw i.abortToken.treeAborted||(i.abortToken.treeAborted=!0,UT(i.root),PT(i,lo())),Cc.Aborted(i.abortToken.reason)}function UT(i){const e=i.progress;e.isIndeterminate=!0,e.canAbort=!1,e.message="Aborting...";for(const t of i.children)UT(t)}function PT(i,e){i.lastNotified=e;const t=function(n){return{root:GT(n.root),canAbort:FT(n.root),requestAbort:n.tryAbort}}(i);i.observer(t)}(function(i){function e(n){return`startTask${n.id}`}function t(n){return`endTask${n.id}`}i.markStart=function(n){Mw&&performance.mark(e(n))},i.markEnd=function(n){Mw&&performance.mark(t(n))},i.measure=function(n){Mw&&performance.measure(`\u2733\uFE0F ${n.name}`,e(n),t(n))}})(of||(of={}));class M4{checkAborted(){this.info.abortToken.abortRequested&&(this.isAborted=!0,IT(this.info))}get shouldUpdate(){return this.checkAborted(),lo()-this.lastUpdatedTime>this.info.updateRateMs}updateProgress(e){if(this.checkAborted(),!e)return;const t=this.node.progress;typeof e=="string"?(t.message=e,t.isIndeterminate=!0):(e.canAbort!==void 0&&(t.canAbort=e.canAbort),e.message!==void 0&&(t.message=e.message),e.current!==void 0&&(t.current=e.current),e.max!==void 0&&(t.max=e.max),t.isIndeterminate=t.current===void 0||t.max===void 0,e.isIndeterminate!==void 0&&(t.isIndeterminate=e.isIndeterminate))}update(e,t){if(this.lastUpdatedTime=lo(),this.updateProgress(e),!t)return PT(this.info,this.lastUpdatedTime),this.checkAborted(),pce.immediatePromise()}async runChild(e,t){this.updateProgress(t);const n={progress:TT(e),children:[]},r=this.node.children;r.push(n);const s=new M4(this.info,n);try{return await N4(e,s)}catch(a){if(Cc.isAbort(a)&&this.isAborted)return;throw a}finally{const a=r.indexOf(n);if(a>=0){for(let o=a,A=r.length-1;o<A;o++)r[o]=r[o+1];r.pop()}r.length===0&&this.onChildrenFinished&&this.onChildrenFinished()}}constructor(e,t){this.isSynchronous=!1,this.isExecuting=!0,this.lastUpdatedTime=0,this.onChildrenFinished=void 0,this.node=t,this.info=e}}const h1=new class{constructor(){this.shouldUpdate=!1,this.isSynchronous=!0}update(i,e){}};var Cc,HR,zR,Ba,yc,vn;async function kE(i,e,t,n,r){let s=Math.max(e,0),a=0,o=0;if(i.isSynchronous)return n(Number.MAX_SAFE_INTEGER,t),t;let A=lo(),c=0,l=0;for(;(c=n(s,t))>0;){a+=c;const u=lo()-A;l+=u,o+=u,i.shouldUpdate&&(await r(i,t,a),s=Math.round(l*a/o)+1,A=lo(),l=0)}return i.shouldUpdate&&await r(i,t,a),t}function OE(i){return{data:i,position:0,length:i.length,lineNumber:1,tokenStart:0,tokenEnd:0}}function VR(i){for(;i.position<i.length;)switch(i.data.charCodeAt(i.position)){case 9:case 10:case 13:case 32:return void(i.tokenEnd=i.position);default:++i.position}i.tokenEnd=i.position}function KR(i){return!(i.length-i.position<2)&&i.data.charCodeAt(i.position+1)===39&&i.data.charCodeAt(i.position+2)===39}function yce(i,e,t){let n;const r=t-e,s=i.tokenStart-e,a=i.tokenEnd-i.tokenStart;if(a<r)return!1;for(n=e;n<t;++n)if(i.data.charCodeAt(n)!==i.data.charCodeAt(n+s))return!1;return r===a||i.data.charCodeAt(n+s)===46}function LT(i){let e;for(e=i.tokenStart;e<i.tokenEnd;++e)if(i.data.charCodeAt(e)===46)return e;return e}function DT(i,e){return i.data.substring(i.tokenStart,e)}function QE(i){return i.data.substring(i.tokenStart,i.tokenEnd)}function $R(i){const e=function(n){let r=10;for(;n.position<n.length;){const s=n.data.charCodeAt(n.position);switch(s){case 9:case 32:r=s,++n.position;break;case 10:r!==13&&++n.lineNumber,r=s,++n.position;break;case 13:r=s,++n.position,++n.lineNumber;break;default:return r}}return r}(i);if(i.position>=i.length)return void(i.tokenType=6);i.tokenStart=i.position,i.tokenEnd=i.position,i.isEscaped=!1;const t=i.data.charCodeAt(i.position);switch(t){case 35:(function(n){for(;n.position<n.length;){const r=n.data.charCodeAt(n.position);if(r===10||r===13)return;++n.position}})(i),i.tokenType=5;break;case 39:if(KR(i)){(function(n){for(n.position+=3;n.position<n.length;){if(n.data.charCodeAt(n.position)===39&&KR(n))return n.tokenStart+=3,n.tokenEnd=n.position,n.isEscaped=!0,void(n.position+=3);++n.position}n.tokenEnd=n.position})(i),i.tokenType=3;break}case 34:(function(n,r){let s,a;for(++n.position;n.position<n.length;)if(a=n.data.charCodeAt(n.position),a===r)switch(s=n.data.charCodeAt(n.position+1),s){case 9:case 10:case 13:case 32:return n.tokenStart++,n.tokenEnd=n.position,n.isEscaped=!0,void++n.position;default:if(s===void 0)return n.tokenStart++,n.tokenEnd=n.position,n.isEscaped=!0,void++n.position;++n.position}else{if(a===10||a===13)return void(n.tokenEnd=n.position);++n.position}n.tokenEnd=n.position})(i,t),i.tokenType=3;break;case 59:e===10||e===13?function(n){let r,s=59,a=n.position+1;for(;a<n.length;){if(r=n.data.charCodeAt(a),r===59&&(s===10||s===13)){for(n.position=a+1,n.tokenStart++,a--,r=n.data.charCodeAt(a);r===10||r===13;)a--,r=n.data.charCodeAt(a);return n.tokenEnd=a+1,void(n.isEscaped=!0)}(r===13||r===10&&s!==13)&&n.lineNumber++,s=r,++a}n.position=a}(i):VR(i),i.tokenType=3;break;default:i.isImportGet?function(n){for(;n.position<n.length;){if(n.data.charCodeAt(n.position)===93)return++n.position,n.tokenEnd=n.position,void(n.isImportGet=!1);++n.position}}(i):VR(i),i.isEscaped?i.tokenType=3:i.data.charCodeAt(i.tokenStart)===95?(i.inSaveFrame&&function(n){return n.tokenEnd-n.tokenStart==11&&n.data.charCodeAt(n.tokenStart+1)===105&&n.data.charCodeAt(n.tokenStart+2)===109&&n.data.charCodeAt(n.tokenStart+3)===112&&n.data.charCodeAt(n.tokenStart+4)===111&&n.data.charCodeAt(n.tokenStart+5)===114&&n.data.charCodeAt(n.tokenStart+6)===116&&n.data.charCodeAt(n.tokenStart+7)===46&&n.data.charCodeAt(n.tokenStart+8)===103&&n.data.charCodeAt(n.tokenStart+9)===101&&n.data.charCodeAt(n.tokenStart+10)===116}(i)&&(i.isImportGet=!0),i.tokenType=4):i.tokenEnd-i.tokenStart>=5&&i.data.charCodeAt(i.tokenStart+4)===95?function(n){let r=n.data.charCodeAt(n.tokenStart);return!(r!==68&&r!==100||(r=n.data.charCodeAt(n.tokenStart+1),r!==65&&r!==97||(r=n.data.charCodeAt(n.tokenStart+2),r!==84&&r!==116||(r=n.data.charCodeAt(n.tokenStart+3),r!==65&&r!==97))))}(i)?i.tokenType=0:function(n){let r=n.data.charCodeAt(n.tokenStart);return!(r!==83&&r!==115||(r=n.data.charCodeAt(n.tokenStart+1),r!==65&&r!==97||(r=n.data.charCodeAt(n.tokenStart+2),r!==86&&r!==118||(r=n.data.charCodeAt(n.tokenStart+3),r!==69&&r!==101))))}(i)?i.tokenType=1:function(n){if(n.tokenEnd-n.tokenStart!=5)return!1;let r=n.data.charCodeAt(n.tokenStart);return!(r!==76&&r!==108||(r=n.data.charCodeAt(n.tokenStart+1),r!==79&&r!==111||(r=n.data.charCodeAt(n.tokenStart+2),r!==79&&r!==111||(r=n.data.charCodeAt(n.tokenStart+3),r!==80&&r!==112))))}(i)?i.tokenType=2:i.tokenType=3:i.tokenType=3}}function l0(i){for($R(i);i.tokenType===5;)$R(i)}function p1(){return{categoryNames:[],categoryData:Object.create(null)}}function T4(i,e){const t=Object.create(null);for(const n of i){const r=e[n];t[n]=Jm(r.name,r.rowCount,r.fieldNames,r.fields)}return t}function WR(i,e,t){return S4(i.categoryNames,T4(i.categoryNames,i.categoryData),e,t)}function wce(i,e){return S4(i.categoryNames,T4(i.categoryNames,i.categoryData),e)}function HE(i,e,t,n,r){if(e in i.categoryData){const s=i.categoryData[e];s.fieldNames.push(...n),Object.assign(s.fields,r)}else i.categoryData[e]={name:e,rowCount:t,fieldNames:n,fields:r},i.categoryNames.push(e)}function bce(i,e){const t=i.tokenStart,n=LT(i),r=DT(i,n),s=Object.create(null),a=[];let o=!0;for(;o;){if(i.tokenType!==4||!yce(i,t,n)){o=!1;break}const A=QE(i).substring(r.length+1);if(l0(i),i.tokenType!==3)return{hasError:!0,errorLine:i.lineNumber,errorMessage:"Expected value."};s[A]=Xl.ofTokens({data:i.data,indices:[i.tokenStart,i.tokenEnd],count:1}),a[a.length]=A,l0(i)}return HE(e,r.substr(1),1,a,s),{hasError:!1,errorLine:0,errorMessage:""}}function Ece(i,e){const{tokenizer:t,tokens:n,fieldCount:r}=e;let s=e.tokenCount,a=0;for(;t.tokenType===3&&a<i;)Ba.add(n[s++%r],t.tokenStart,t.tokenEnd),l0(t),a++;return e.tokenCount=s,a}function _ce(i,e){return i.update({message:"Parsing...",current:e.tokenizer.position,max:e.tokenizer.data.length})}async function vce(i,e){const t=i.lineNumber;l0(i);const n=DT(i,LT(i)),r=function(u){let d;for(d=u.tokenStart;d<u.tokenEnd;++d)if(u.data.charCodeAt(d)===46)return!1;return!0}(i),s=[];for(;i.tokenType===4;)s[s.length]=r?QE(i):QE(i).substring(n.length+1),l0(i);const a=n==="_atom_site"?i.data.length/100|0:32,o=[],A=s.length;for(let u=0;u<A;u++)o[u]=Ba.create(i.data,a);const c={fieldCount:A,tokenCount:0,tokenizer:i,tokens:o};if(await kE(i.runtimeCtx,1e6,c,Ece,_ce),c.tokenCount%A!=0)return{hasError:!0,errorLine:i.lineNumber,errorMessage:`The number of values for loop starting at line ${t} is not a multiple of the number of columns.`};const l=c.tokenCount/A|0;if(r)for(let u=0;u<A;u++){const d={"":Xl.ofTokens(o[u])};HE(e,s[u].substr(1),l,[""],d)}else{const u=Object.create(null);for(let d=0;d<A;d++)u[s[d]]=Xl.ofTokens(o[d]);HE(e,n.substr(1),l,s,u)}return{hasError:!1,errorLine:0,errorMessage:""}}function El(i,e){return yc.error(e,i)}async function xce(i,e){const t=[],n=function(l,u){return{data:l,length:l.length,position:0,tokenStart:0,tokenEnd:0,tokenType:6,lineNumber:1,isEscaped:!1,isImportGet:!1,inSaveFrame:!1,runtimeCtx:u}}(i,e);let r="",s=p1(),a=[],o=p1();const A=function(l,u,d){return{categoryNames:l,header:d,categories:u}}(o.categoryNames,T4(o.categoryNames,o.categoryData),"");let c="";for(e.update({message:"Parsing...",current:0,max:i.length}),l0(n);n.tokenType!==6;){const l=n.tokenType;if(l===0){if(n.inSaveFrame)return El(n.lineNumber,"Unexpected data block inside a save frame.");s.categoryNames.length>0&&t.push(WR(s,r,a)),r=i.substring(n.tokenStart+5,n.tokenEnd),s=p1(),a=[],l0(n)}else if(l===1){if(n.tokenEnd-n.tokenStart==5)o.categoryNames.length>0&&(a[a.length]=wce(o,c)),n.inSaveFrame=!1;else{if(n.inSaveFrame)return El(n.lineNumber,"Save frames cannot be nested.");n.inSaveFrame=!0,c=i.substring(n.tokenStart+5,n.tokenEnd),o=p1()}l0(n)}else if(l===2){const u=await vce(n,n.inSaveFrame?o:s);if(u.hasError)return El(u.errorLine,u.errorMessage)}else{if(l!==4)return console.log(n.tokenType,OE.getTokenString(n)),El(n.lineNumber,"Unexpected token. Expected data_, loop_, or data name.");{const u=bce(n,n.inSaveFrame?o:s);if(u.hasError)return El(u.errorLine,u.errorMessage)}}}return n.inSaveFrame?El(n.lineNumber,`Unfinished save frame (${A.header}).`):((s.categoryNames.length>0||a.length>0)&&t.push(WR(s,r,a)),function(l){return yc.success(l)}(MT(t)))}function qR(i){return Cc.create("Parse CIF",async e=>await xce(i,e))}(function(i){class e{run(a,o=250){return a?mce(this,a,o):this.f(h1)}runAsChild(a,o){return a.isSynchronous?this.f(h1):function(A,c,l){return A.runChild(c,l)}(a,this,o)}runInContext(a){return a.isSynchronous?this.f(h1):function(o,A){return N4(A,o)}(a,this)}constructor(a,o,A){this.name=a,this.f=o,this.onAbort=A,this.id=r()}}function t(s){const a=s;return!!s&&typeof a.id=="number"&&typeof a.name=="string"&&!!a.run}function n(s,a,o){return new e(s,a,o)}i.is=t,i.isAbort=function(s){return!!s&&!!s.isAborted},i.Aborted=function(s){return{isAborted:!0,reason:s,toString:()=>"Aborted"+(s?": "+s:"")}},i.create=n,i.constant=function(s,a){return n(s,async o=>a)},i.empty=function(){return n("",async s=>{})},i.fail=function(s,a){return n(s,async o=>{throw new Error(a)})},i.resolveInContext=function(s,a){return t(s)?a?s.runInContext(a):s.run():s};const r=NT(0,1073741823)})(Cc||(Cc={})),function(i){i.Synchronous=h1}(HR||(HR={})),function(i){function e(t,n=""){const r=t.progress;if(!t.children.length)return r.isIndeterminate?`${n}${r.taskName}: ${r.message}`:`${n}${r.taskName}: [${r.current}/${r.max}] ${r.message}`;const s=n+"  |_ ",a=t.children.map(o=>e(o,s));return r.isIndeterminate?`${n}${r.taskName}: ${r.message}
${a.join(`
`)}`:`${n}${r.taskName}: [${r.current}/${r.max}] ${r.message}
${a.join(`
`)}`}i.format=function(t){return e(t.root)}}(zR||(zR={})),function(i){function e(a){return a.data.substring(a.tokenStart,a.tokenEnd)}function t(a){const{data:o}=a;for(;a.position<a.length;)switch(o.charCodeAt(a.position)){case 10:return a.tokenEnd=a.position,++a.position,++a.lineNumber,!0;case 13:return a.tokenEnd=a.position,++a.position,++a.lineNumber,o.charCodeAt(a.position)===10&&++a.position,!0;default:++a.position}return a.tokenEnd=a.position,a.tokenStart!==a.tokenEnd}function n(a){return a.tokenStart=a.position,t(a)}function r(a,o,A){let c=0;for(let l=0;l<o;l++){if(!n(a))return c;Ba.addUnchecked(A,a.tokenStart,a.tokenEnd),c++}return c}function s(a,o,A){const{data:c}=a;let l=o,u=A-1,d=c.charCodeAt(l);for(;(d===9||d===32)&&l<=u;)d=c.charCodeAt(++l);for(d=c.charCodeAt(u);(d===9||d===32)&&u>=l;)d=c.charCodeAt(--u);return a.tokenStart=l,a.tokenEnd=u+1,a.position=A,a}i.getTokenString=e,i.reset=function(a){a.position=0,a.lineNumber=1,a.tokenStart=0,a.tokenEnd=0},i.eatLine=t,i.markStart=function(a){a.tokenStart=a.position},i.markLine=n,i.readLine=function(a){return n(a),e(a)},i.readLineTrim=function(a){n(a);const o=a.position;return s(a,a.tokenStart,a.tokenEnd),a.position=o,e(a)},i.markLines=function(a,o){const A=Ba.create(a.data,2*o);return r(a,o,A),A},i.readLines=function(a,o){const A=[];for(let c=0;c<o;c++)A.push(i.readLine(a));return A},i.readLinesAsync=async function(a,o,A,c=1e5){const l=Ba.create(a.data,2*o);let u=0;return await kE(A,c,a,(d,h)=>{const m=Math.min(o-u,d);return r(h,m,l),u+=m,m},(d,h)=>d.update({message:"Parsing...",current:h.position,max:h.length})),l},i.readAllLines=function(a){const o=i(a),A=Ba.create(o.data,Math.max(a.length/80,2));for(;n(o);)Ba.add(A,o.tokenStart,o.tokenEnd);return A},i.readAllLinesAsync=async function(a,o,A=1e5){const c=i(a),l=Ba.create(c.data,Math.max(a.length/80,2));return await kE(o,A,c,(u,d)=>(function(h,m,y){let g=0;for(let E=0;E<m;E++){if(!n(h))return g;Ba.add(y,h.tokenStart,h.tokenEnd),g++}}(d,u,l),d.position<d.length?u:0),(u,d)=>u.update({message:"Parsing...",current:d.position,max:d.length})),l},i.eatValue=function(a){for(;a.position<a.length;)switch(a.data.charCodeAt(a.position)){case 9:case 10:case 13:case 32:return void(a.tokenEnd=a.position);default:++a.position}a.tokenEnd=a.position},i.skipWhitespace=function(a){let o=-1;for(;a.position<a.length;){const A=a.data.charCodeAt(a.position);switch(A){case 9:case 32:o=A,++a.position;break;case 10:o!==13&&++a.lineNumber,o=A,++a.position;break;case 13:o=A,++a.position,++a.lineNumber;break;default:return o}}return o},i.trim=s}(OE||(OE={})),function(i){function e(t,n,r){const s=t;s.offset>s.indicesLenMinus2&&function(a){const o=new Uint32Array(1.61*a.indices.length|0);o.set(a.indices),a.indices=o,a.indicesLenMinus2=o.length-2|0}(s),s.indices[s.offset++]=n,s.indices[s.offset++]=r,t.count++}i.add=e,i.addToken=function(t,n){e(t,n.tokenStart,n.tokenEnd)},i.addUnchecked=function(t,n,r){t.indices[t.offset++]=n,t.indices[t.offset++]=r,t.count++},i.create=function(t,n){return{data:t,indicesLenMinus2:(n=Math.max(10,n))-2|0,count:0,offset:0,indices:new Uint32Array(n)}}}(Ba||(Ba={})),function(i){i.error=function(n,r=-1){return new e(n,r)},i.success=function(n,r=[]){return new t(n,r)};class e{toString(){return this.line>=0?`[Line ${this.line}] ${this.message}`:this.message}constructor(r,s){this.message=r,this.line=s,this.isError=!0}}i.Error=e;class t{constructor(r,s){this.result=r,this.warnings=s,this.isError=!1}}i.Success=t}(yc||(yc={})),function(i){var e,t;(e=i.IntDataType||(i.IntDataType={}))[e.Int8=1]="Int8",e[e.Int16=2]="Int16",e[e.Int32=3]="Int32",e[e.Uint8=4]="Uint8",e[e.Uint16=5]="Uint16",e[e.Uint32=6]="Uint32",(t=i.FloatDataType||(i.FloatDataType={}))[t.Float32=32]="Float32",t[t.Float64=33]="Float64",i.getDataType=function(n){let r;return r=n instanceof Int8Array?i.IntDataType.Int8:n instanceof Int16Array?i.IntDataType.Int16:n instanceof Int32Array?i.IntDataType.Int32:n instanceof Uint8Array?i.IntDataType.Uint8:n instanceof Uint16Array?i.IntDataType.Uint16:n instanceof Uint32Array?i.IntDataType.Uint32:n instanceof Float32Array?i.FloatDataType.Float32:n instanceof Float64Array?i.FloatDataType.Float64:i.IntDataType.Int32,r},i.isSignedIntegerDataType=function(n){if(n instanceof Int8Array||n instanceof Int16Array||n instanceof Int32Array)return!0;for(let r=0,s=n.length;r<s;r++)if(r<0)return!1;return!0}}(vn||(vn={}));const Rce=new Uint16Array(new Uint8Array([18,52]).buffer)[0]===13330;function eg(i){let e=i.data;for(let t=i.encoding.length-1;t>=0;t--)e=Bce(e,i.encoding[t]);return e}function Bce(i,e){switch(e.kind){case"ByteArray":switch(e.type){case vn.IntDataType.Uint8:return i;case vn.IntDataType.Int8:return function(t){return new Int8Array(t.buffer,t.byteOffset)}(i);case vn.IntDataType.Int16:return function(t){return _l(t,2,Int16Array)}(i);case vn.IntDataType.Uint16:return function(t){return _l(t,2,Uint16Array)}(i);case vn.IntDataType.Int32:return function(t){return _l(t,4,Int32Array)}(i);case vn.IntDataType.Uint32:return function(t){return _l(t,4,Uint32Array)}(i);case vn.FloatDataType.Float32:return function(t){return _l(t,4,Float32Array)}(i);case vn.FloatDataType.Float64:return function(t){return _l(t,8,Float64Array)}(i);default:Zm(e.type)}case"FixedPoint":return function(t,n){const r=t.length,s=XR(n.srcType,r),a=1/n.factor;for(let o=0;o<r;o++)s[o]=a*t[o];return s}(i,e);case"IntervalQuantization":return function(t,n){const r=t.length,s=XR(n.srcType,r),a=(n.max-n.min)/(n.numSteps-1),o=n.min;for(let A=0;A<r;A++)s[A]=o+a*t[A];return s}(i,e);case"RunLength":return function(t,n){const r=YR(n.srcType,n.srcSize);let s=0;for(let a=0,o=t.length;a<o;a+=2){const A=t[a],c=t[a+1];for(let l=0;l<c;++l)r[s++]=A}return r}(i,e);case"Delta":return function(t,n){const r=t.length,s=YR(n.srcType,r);if(!r)return t;s[0]=t[0]+(0|n.origin);for(let a=1;a<r;++a)s[a]=t[a]+s[a-1];return s}(i,e);case"IntegerPacking":return function(t,n){return t.length===n.srcSize?t:n.isUnsigned?function(r,s){const a=s.byteCount===1?255:65535,o=r.length,A=new Int32Array(s.srcSize);let c=0,l=0;for(;c<o;){let u=0,d=r[c];for(;d===a;)u+=d,c++,d=r[c];u+=d,A[l]=u,c++,l++}return A}(t,n):function(r,s){const a=s.byteCount===1?127:32767,o=-a-1,A=r.length,c=new Int32Array(s.srcSize);let l=0,u=0;for(;l<A;){let d=0,h=r[l];for(;h===a||h===o;)d+=h,l++,h=r[l];d+=h,c[u]=d,l++,u++}return c}(t,n)}(i,e);case"StringArray":return function(t,n){const r=eg({encoding:n.offsetEncoding,data:n.offsets}),s=eg({encoding:n.dataEncoding,data:t}),a=n.stringData,o=new Array(r.length);o[0]="";for(let l=1,u=r.length;l<u;l++)o[l]=a.substring(r[l-1],r[l]);let A=0;const c=new Array(s.length);for(let l=0,u=s.length;l<u;l++)c[A++]=o[s[l]+1];return c}(i,e)}}function YR(i,e){switch(i){case vn.IntDataType.Int8:return new Int8Array(e);case vn.IntDataType.Int16:return new Int16Array(e);case vn.IntDataType.Int32:return new Int32Array(e);case vn.IntDataType.Uint8:return new Uint8Array(e);case vn.IntDataType.Uint16:return new Uint16Array(e);case vn.IntDataType.Uint32:return new Uint32Array(e);default:return new Int32Array(e)}}function XR(i,e){switch(i){case vn.FloatDataType.Float32:return new Float32Array(e);case vn.FloatDataType.Float64:default:return new Float64Array(e)}}function _l(i,e,t){return new t(Rce?i.buffer:function(n,r){const s=new ArrayBuffer(n.length),a=new Uint8Array(s);for(let o=0,A=n.length;o<A;o+=r)for(let c=0;c<r;c++)a[o+r-c-1]=n[o+c];return s}(i,e))}var kl,kd,jR,ZR,Ln;function Cce(i,e,t){let n,r=1;for(n=0;n<e;n++){const s=r*i;if(Math.abs(Math.round(s)-s)<=t)return n;r*=10}return-1}function JR(i){return kd.classify(i)}(function(i){function e(n){const r=n.growBy*n.elementSize;n.currentSize=r,n.currentIndex=0,n.currentChunk=new n.ctor(r),n.allocatedSize+=r,n.chunks[n.chunks.length]=n.currentChunk}function t(n,r){const{ctor:s,chunks:a,currentIndex:o}=n;if(!a.length)return new s(0);if(a.length===1&&(r||o===n.allocatedSize))return a[0];let A=0;for(let d=0,h=a.length-1;d<h;d++)A+=a[d].length;A+=n.currentIndex;const c=new s(A);let l=0;if(c.buffer)for(let d=0,h=a.length-1;d<h;d++)c.set(a[d],l),l+=a[d].length;else for(let d=0,h=a.length-1;d<h;d++){const m=a[d];for(let y=0,g=m.length;y<g;y++)c[l+y]=m[y];l+=m.length}const u=a[a.length-1];if(c.buffer&&o>=n.currentSize)c.set(u,l);else for(let d=0,h=u.length;d<h;d++)c[l+d]=u[d];return c}i.is=function(n){return n.creator&&n.chunkSize},i.add4=function(n,r,s,a,o){n.currentIndex>=n.currentSize&&e(n);const A=n.currentChunk,c=n.currentIndex;return A[c]=r,A[c+1]=s,A[c+2]=a,A[c+3]=o,n.currentIndex+=4,n.elementCount++},i.add3=function(n,r,s,a){n.currentIndex>=n.currentSize&&e(n);const o=n.currentChunk,A=n.currentIndex;return o[A]=r,o[A+1]=s,o[A+2]=a,n.currentIndex+=3,n.elementCount++},i.add2=function(n,r,s){n.currentIndex>=n.currentSize&&e(n);const a=n.currentChunk,o=n.currentIndex;return a[o]=r,a[o+1]=s,n.currentIndex+=2,n.elementCount++},i.add=function(n,r){return n.currentIndex>=n.currentSize&&e(n),n.currentChunk[n.currentIndex]=r,n.currentIndex+=1,n.elementCount++},i.addRepeat=function(n,r,s){for(let a=0;a<r;a++)n.currentIndex>=n.currentSize&&e(n),n.currentChunk[n.currentIndex++]=s,n.elementCount++;return n.elementCount},i.addMany=function(n,r){const{elementSize:s}=n;for(let a=0,o=r.length;a<o;a+=s){n.currentIndex>=n.currentSize&&e(n);const{currentChunk:A}=n;for(let c=0;c<s;c++)A[n.currentIndex++]=r[a+c];n.elementCount++}return n.elementCount},i.compact=function(n,r=!1){return t(n,r)},i._compact=t,i.create=function(n,r,s,a){const o={ctor:n,elementSize:r,growBy:Math.max(1,Math.ceil(s)),allocatedSize:0,elementCount:0,currentSize:0,currentChunk:void 0,currentIndex:0,chunks:[]};if(a===void 0)return o;if(typeof a=="number")return o.currentChunk=new n(a*r),o.allocatedSize=a*r,o.currentSize=o.currentChunk.length,o.chunks[0]=o.currentChunk,o;const A=a;if(A.length%r!=0)throw new Error("initialChunk length must be a multiple of the element size.");return o.currentChunk=A,o.allocatedSize=A.length,o.currentSize=A.length,o.chunks[0]=A,o}})(kl||(kl={})),function(i){function e(l,u){return l>=0?Math.ceil((l+1)/u):Math.ceil((l+1)/(-u-1))}function t({limit8:l,limit16:u},d,h){d.pack8+=e(h,l),d.pack16+=e(h,u),d.count+=1}function n(l,u){l.pack8+=e(u,127),l.pack16+=e(u,32767),l.count+=1}function r(l){return 4*l.count<2*l.pack16?{length:4*l.count,elem:4}:2*l.pack16<l.pack8?{length:2*l.pack16,elem:2}:{length:l.pack8,elem:1}}function s(l,u){const d={pack8:0,pack16:0,count:0};for(let h=0,m=l.length;h<m;h++)t(u,d,l[h]);return{...r(d),kind:"pack"}}function a(l,u){const d={pack8:0,pack16:0,count:0};let h=l[0];for(let m=1,y=l.length;m<y;m++)n(d,l[m]-h),h=l[m];return{...r(d),kind:"delta"}}function o(l,u){const d={pack8:0,pack16:0,count:0};let h=1;for(let m=1,y=l.length;m<y;m++)l[m-1]!==l[m]?(t(u,d,l[m-1]),t(u,d,h),h=1):h++;return t(u,d,l[l.length-1]),t(u,d,h),{...r(d),kind:"rle"}}function A(l,u){const d={pack8:0,pack16:0,count:0};let h=1,m=0,y=0;for(let g=1,E=l.length;g<E;g++){const R=l[g]-m;y!==R?(n(d,y),n(d,h),h=1):h++,y=R,m=l[g]}return n(d,y),n(d,h),{...r(d),kind:"delta-rle"}}function c(l){const u=function(h){let m=!1;for(let y=0,g=h.length;y<g;y++)if(h[y]<0){m=!0;break}return m?{signed:m,limit8:127,limit16:32767}:{signed:m,limit8:255,limit16:65535}}(l),d=[s(l,u),o(l,u),a(l),A(l)];return d.sort((h,m)=>h.length-m.length),d}i.getSize=c,i.classify=function(l){if(l.length<2)return Ln.by(Ln.byteArray);switch(c(l)[0].kind){case"pack":return Ln.by(Ln.integerPacking);case"rle":return Ln.by(Ln.runLength).and(Ln.integerPacking);case"delta":return Ln.by(Ln.delta).and(Ln.integerPacking);case"delta-rle":return Ln.by(Ln.delta).and(Ln.runLength).and(Ln.integerPacking);default:Zm()}}}(kd||(kd={})),function(i){i.classify=function(e){const{mantissaDigits:t,integerDigits:n}=function(A,c,l){let u=1,d=0;for(let h=0,m=A.length;h<m;h++){if(u>=0){const g=Cce(A[h],c,l);g<0?u=-1:g>u&&(u=g)}const y=Math.abs(A[h]);if(y>l){const g=Math.floor(Math.log10(Math.abs(y)))+1;g>d&&(d=g)}}return{mantissaDigits:u,integerDigits:d}}(e,4,1e-6);if(t<0||t+n>10)return Ln.by(Ln.byteArray);if(t===0)return kd.classify(e);const r=function(A){let c=1;for(let l=0;l<A;l++)c*=10;return c}(t),s=new Int32Array(e.length);for(let A=0,c=e.length;A<c;A++)s[A]=Math.round(r*e[A]);const a=kd.getSize(s)[0],o=Ln.by(Ln.fixedPoint(r));switch(a.kind){case"pack":return o.and(Ln.integerPacking);case"rle":return o.and(Ln.runLength).and(Ln.integerPacking);case"delta":return o.and(Ln.delta).and(Ln.integerPacking);case"delta-rle":return o.and(Ln.delta).and(Ln.runLength).and(Ln.integerPacking);default:Zm()}}}(jR||(jR={}));class tg{and(e){return new tg(this.providers.concat([e]))}encode(e){const t=[];for(const n of this.providers){const r=n(e);if(!r.encodings.length)throw new Error("Encodings must be non-empty.");e=r.data;for(const s of r.encodings)t.push(s)}if(!(e instanceof Uint8Array))throw new Error("The encoding must result in a Uint8Array. Fix your encoding chain.");return{encoding:t,data:e}}constructor(e){this.providers=e}}(function(i){function e(n){return new tg([n])}function t(n){switch(n.kind){case"ByteArray":return Ln.byteArray;case"FixedPoint":return Ln.fixedPoint(n.factor);case"IntervalQuantization":return Ln.intervalQuantizaiton(n.min,n.max,n.numSteps);case"RunLength":return Ln.runLength;case"Delta":return Ln.delta;case"IntegerPacking":return Ln.integerPacking;case"StringArray":return Ln.stringArray}}i.by=e,i.fromEncoding=function(n){let r=e(t(n[0]));for(let s=1;s<n.length&&n[s-1].kind!=="IntegerPacking";s++)r=r.and(t(n[s]));return r}})(ZR||(ZR={})),function(i){i.by=function(a){return new tg([a])};const e={[vn.IntDataType.Int16]:function(a,o,A){a.setInt16(2*o,A,!0)},[vn.IntDataType.Uint16]:function(a,o,A){a.setUint16(2*o,A,!0)},[vn.IntDataType.Int32]:function(a,o,A){a.setInt32(4*o,A,!0)},[vn.IntDataType.Uint32]:function(a,o,A){a.setUint32(4*o,A,!0)},[vn.FloatDataType.Float32]:function(a,o,A){a.setFloat32(4*o,A,!0)},[vn.FloatDataType.Float64]:function(a,o,A){a.setFloat64(8*o,A,!0)}},t={[vn.IntDataType.Int16]:2,[vn.IntDataType.Uint16]:2,[vn.IntDataType.Int32]:4,[vn.IntDataType.Uint32]:4,[vn.FloatDataType.Float32]:4,[vn.FloatDataType.Float64]:8};function n(a){const o=vn.getDataType(a);if(o===vn.IntDataType.Int8)return function(u){return{encodings:[{kind:"ByteArray",type:vn.IntDataType.Int8}],data:new Uint8Array(u.buffer,u.byteOffset)}}(a);if(o===vn.IntDataType.Uint8)return function(u){return{encodings:[{kind:"ByteArray",type:vn.IntDataType.Uint8}],data:u}}(a);const A=new Uint8Array(a.length*t[o]),c=e[o],l=new DataView(A.buffer);for(let u=0,d=a.length;u<d;u++)c(l,u,a[u]);return{encodings:[{kind:"ByteArray",type:o}],data:A}}function r(a,o){let A=0;for(let c=0,l=a.length;c<l;c++)A+=a[c]/o|0;return A+=a.length,A}function s(a,o){const A=-o-1;let c=0;for(let l=0,u=a.length;l<u;l++){const d=a[l];c+=d>=0?d/o|0:d/A|0}return c+=a.length,c}i.byteArray=n,i.fixedPoint=function(a){return o=>function(A,c){const l=vn.getDataType(A),u=new Int32Array(A.length);for(let d=0,h=A.length;d<h;d++)u[d]=Math.round(A[d]*c);return{encodings:[{kind:"FixedPoint",factor:c,srcType:l}],data:u}}(o,a)},i.intervalQuantizaiton=function(a,o,A,c=Int32Array){return l=>function(u,d,h,m,y){const g=vn.getDataType(u);if(!u.length)return{encodings:[{kind:"IntervalQuantization",min:d,max:h,numSteps:m,srcType:g}],data:new Int32Array(0)};if(h<d){const p=d;d=h,h=p}const E=(h-d)/(m-1),R=new y(u.length);for(let p=0,w=u.length;p<w;p++){const v=u[p];R[p]=v<=d?0:v>=h?m-1:0|Math.round((v-d)/E)}return{encodings:[{kind:"IntervalQuantization",min:d,max:h,numSteps:m,srcType:g}],data:R}}(l,a,o,A,c)},i.runLength=function(a){let o=vn.getDataType(a);if(o===void 0&&(a=new Int32Array(a),o=vn.IntDataType.Int32),!a.length)return{encodings:[{kind:"RunLength",srcType:o,srcSize:0}],data:new Int32Array(0)};let A=2;for(let d=1,h=a.length;d<h;d++)a[d-1]!==a[d]&&(A+=2);const c=new Int32Array(A);let l=0,u=1;for(let d=1,h=a.length;d<h;d++)a[d-1]!==a[d]?(c[l]=a[d-1],c[l+1]=u,u=1,l+=2):++u;return c[l]=a[a.length-1],c[l+1]=u,{encodings:[{kind:"RunLength",srcType:o,srcSize:a.length}],data:c}},i.delta=function(a){if(!vn.isSignedIntegerDataType(a))throw new Error("Only signed integer types can be encoded using delta encoding.");let o=vn.getDataType(a);if(o===void 0&&(a=new Int32Array(a),o=vn.IntDataType.Int32),!a.length)return{encodings:[{kind:"Delta",origin:0,srcType:o}],data:new a.constructor(0)};const A=new a.constructor(a.length),c=a[0];A[0]=a[0];for(let l=1,u=a.length;l<u;l++)A[l]=a[l]-a[l-1];return A[0]=0,{encodings:[{kind:"Delta",origin:c,srcType:o}],data:A}},i.integerPacking=function(a){const o=function(A){const c=function(d){for(let h=0,m=d.length;h<m;h++)if(d[h]<0)return!0;return!1}(A),l=c?s(A,127):r(A,255),u=c?s(A,32767):r(A,65535);return 4*A.length<2*u?{isSigned:c,size:A.length,bytesPerElement:4}:2*u<l?{isSigned:c,size:u,bytesPerElement:2}:{isSigned:c,size:l,bytesPerElement:1}}(a);return o.bytesPerElement===4?n(a):function(A,c){const l=c.isSigned?c.bytesPerElement===1?127:32767:c.bytesPerElement===1?255:65535,u=-l-1,d=A.length,h=c.isSigned?c.bytesPerElement===1?new Int8Array(c.size):new Int16Array(c.size):c.bytesPerElement===1?new Uint8Array(c.size):new Uint16Array(c.size);let m=0;for(let g=0;g<d;g++){let E=A[g];if(E>=0)for(;E>=l;)h[m]=l,++m,E-=l;else for(;E<=u;)h[m]=u,++m,E-=u;h[m]=E,++m}const y=n(h);return{encodings:[{kind:"IntegerPacking",byteCount:c.bytesPerElement,isUnsigned:!c.isSigned,srcSize:d},y.encodings[0]],data:y.data}}(a,o)},i.stringArray=function(a){const o=Object.create(null),A=[],c=new Int32Array(a.length),l=kl.create(Int32Array,1,Math.min(1024,a.length<32?a.length+1:Math.round(a.length/8)+1));kl.add(l,0);let u=0,d=0;for(const g of a){if(g==null){c[d++]=-1;continue}let E=o[g];E===void 0&&(u+=g.length,E=A.length,A[E]=g,o[g]=E,kl.add(l,u)),c[d++]=E}const h=kl.compact(l),m=JR(h).encode(h),y=JR(c).encode(c);return{encodings:[{kind:"StringArray",dataEncoding:y.encoding,stringData:A.join(""),offsetEncoding:m.encoding,offsets:m.data}],data:y.data}}}(Ln||(Ln={}));const Sce=function(){const i=[];for(let e=0;e<1024;e++)i[e]=String.fromCharCode(e);return i}();function Nce(i){throw new Error(i)}const eB=typeof TextDecoder<"u"?new TextDecoder:void 0;function Mce(i,e,t){if(eB){const n=e||t!==i.length?i.subarray(e,e+t):i;return eB.decode(n)}return function(n,r,s){const a=Sce;let o,A=0;const c=[];for(let l=r,u=r+s;l<u;l++){const d=n[l];128&d?(224&d)==192?c[A++]=a[(15&d)<<6|63&n[++l]]:(240&d)==224?c[A++]=String.fromCharCode((15&d)<<12|(63&n[++l])<<6|63&n[++l]):(248&d)==240?c[A++]=String.fromCharCode((7&d)<<18|(63&n[++l])<<12|(63&n[++l])<<6|63&n[++l]):Nce("Invalid byte "+d.toString(16)):c[A++]=a[d],A===512&&(o=o||[],o[o.length]=c.join(""),A=0)}return o?(A>0&&(o[o.length]=c.slice(0,A).join("")),o.join("")):c.slice(0,A).join("")}(i,e,t)}function Tw(i,e){const t={};for(let n=0;n<e;n++)t[ng(i)]=ng(i);return t}function Gw(i,e){const t=new Uint8Array(e),n=i.offset;for(let r=0;r<e;r++)t[r]=i.buffer[r+n];return i.offset+=e,t}function m1(i,e){const t=Mce(i.buffer,i.offset,e);return i.offset+=e,t}function Fw(i,e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=ng(i);return t}function ng(i){const e=i.buffer[i.offset];let t,n;if(!(128&e))return i.offset++,e;if((240&e)==128)return n=15&e,i.offset++,Tw(i,n);if((240&e)==144)return n=15&e,i.offset++,Fw(i,n);if((224&e)==160)return n=31&e,i.offset++,m1(i,n);if(!(224&~e))return t=i.dataView.getInt8(i.offset),i.offset++,t;switch(e){case 192:return i.offset++,null;case 194:return i.offset++,!1;case 195:return i.offset++,!0;case 196:return n=i.dataView.getUint8(i.offset+1),i.offset+=2,Gw(i,n);case 197:return n=i.dataView.getUint16(i.offset+1),i.offset+=3,Gw(i,n);case 198:return n=i.dataView.getUint32(i.offset+1),i.offset+=5,Gw(i,n);case 202:return t=i.dataView.getFloat32(i.offset+1),i.offset+=5,t;case 203:return t=i.dataView.getFloat64(i.offset+1),i.offset+=9,t;case 204:return t=i.buffer[i.offset+1],i.offset+=2,t;case 205:return t=i.dataView.getUint16(i.offset+1),i.offset+=3,t;case 206:return t=i.dataView.getUint32(i.offset+1),i.offset+=5,t;case 208:return t=i.dataView.getInt8(i.offset+1),i.offset+=2,t;case 209:return t=i.dataView.getInt16(i.offset+1),i.offset+=3,t;case 210:return t=i.dataView.getInt32(i.offset+1),i.offset+=5,t;case 217:return n=i.dataView.getUint8(i.offset+1),i.offset+=2,m1(i,n);case 218:return n=i.dataView.getUint16(i.offset+1),i.offset+=3,m1(i,n);case 219:return n=i.dataView.getUint32(i.offset+1),i.offset+=5,m1(i,n);case 220:return n=i.dataView.getUint16(i.offset+1),i.offset+=3,Fw(i,n);case 221:return n=i.dataView.getUint32(i.offset+1),i.offset+=5,Fw(i,n);case 222:return n=i.dataView.getUint16(i.offset+1),i.offset+=3,Tw(i,n);case 223:return n=i.dataView.getUint32(i.offset+1),i.offset+=5,Tw(i,n)}throw new Error("Unknown type 0x"+e.toString(16))}function Tce(i){const e=Object.create(null),t=Object.create(null);for(const n of i.columns)e[n.name]=n;return{rowCount:i.rowCount,name:i.name.substr(1),fieldNames:i.columns.map(n=>n.name),getField(n){const r=e[n];if(r)return t[n]||(t[n]=function(s){const a=s.mask?eg(s.mask):void 0,o=eg(s.data),A=C4(o),c=A?a?m=>a[m]===0?""+o[m]:"":m=>""+o[m]:a?m=>a[m]===0?o[m]:"":m=>o[m],l=A?m=>o[m]:m=>{const y=o[m];return Yl(y,0,y.length)},u=A?m=>o[m]:m=>{const y=o[m];return sf(y,0,y.length)},d=a?m=>a[m]:m=>0,h=o.length;return{__array:o,binaryEncoding:s.data.encoding,isDefined:!0,rowCount:h,str:c,int:l,float:u,valueKind:d,areValuesEqual:(m,y)=>o[m]===o[y],toStringArray:m=>Sr(h,c,m),toIntArray:A?m=>jm(o,m):m=>Sr(h,l,m),toFloatArray:A?m=>jm(o,m):m=>Sr(h,u,m)}}(r)),t[n]}}}function tB(i){return Cc.create("Parse BinaryCIF",async e=>{const t=[0,3];try{const r=ng({buffer:n=i,offset:0,dataView:new DataView(n.buffer)});if(!function(a,o){for(let A=0;A<2;A++)if(a[A]>o[A])return!1;return!0}(t,r.version.match(/(\d)\.(\d)\.\d/).slice(1).map(a=>+a)))return yc.error(`Unsupported format version. Current ${r.version}, required ${t.join(".")}.`);const s=MT(r.dataBlocks.map(a=>{const o=Object.create(null);for(const A of a.categories)o[A.name.substr(1)]=Tce(A);return S4(a.categories.map(A=>A.name.substr(1)),o,a.header)}));return yc.success(s)}catch(r){return yc.error(""+r)}var n})}var jl;function Ko(i,e,t){return function(n,r,s){const a=Object.create(null);for(const o of Object.keys(n))a[o]=Lce(o,n[o],r,s);return LE.ofTables(r.header,n,a)}(i,e,t)}function Gce(i){switch(i.valueType){case"str":return(e,t,n)=>function(r,s,a,o){return{schema:r,__array:s.__array,isDefined:s.isDefined,rowCount:s.rowCount,value:r.transform==="lowercase"?A=>a(A).toLowerCase():r.transform==="uppercase"?A=>a(A).toUpperCase():a,valueKind:s.valueKind,areValuesEqual:s.areValuesEqual,toArray:r.transform==="lowercase"?A=>Array.from(o(A)).map(c=>c.toLowerCase()):r.transform==="uppercase"?A=>Array.from(o(A)).map(c=>c.toUpperCase()):o}}(i,e,e.str,e.toStringArray);case"int":return(e,t,n)=>nB(i,e,e.int,e.toIntArray);case"float":return(e,t,n)=>nB(i,e,e.float,e.toFloatArray);case"list":throw new Error("Use createListColumn instead.");case"tensor":throw new Error("Use createTensorColumn instead.")}}function nB(i,e,t,n){return{schema:i,__array:e.__array,isDefined:e.isDefined,rowCount:e.rowCount,value:t,valueKind:e.valueKind,areValuesEqual:e.areValuesEqual,toArray:n}}function Fce(i,e,t){const n=i.separator,r=i.itemParse,s=e.getField(t),a=s?o=>s.str(o).split(n).map(A=>r(A.trim())).filter(A=>!!A):o=>[];return{schema:i,__array:void 0,isDefined:!!s,rowCount:e.rowCount,value:a,valueKind:s?s.valueKind:()=>1,areValuesEqual:(o,A)=>function(c,l){const u=c.length;if(u!==l.length)return!1;for(let d=0;d<u;d++)if(c[d]!==l[d])return!1;return!0}(a(o),a(A)),toArray:o=>Sr(e.rowCount,a,o)}}function Ice(i,e,t){const n=i.space,r=e.fieldNames.includes(`${t}[0]`)||e.fieldNames.includes(`${t}[0][0]`)||e.fieldNames.includes(`${t}[0][0][0]`),s=r?0:1,a=e.fieldNames.includes(`${t}_1`)||e.fieldNames.includes(`${t}_11`)||e.fieldNames.includes(`${t}_111`)?"underscore":"brackets",o=function(l,u,d,h){const m=d?0:1;switch(u){case 1:return h==="brackets"?y=>`${l}[${y+m}]`:y=>`${l}_${y+m}`;case 2:return h==="brackets"?(y,g)=>`${l}[${y+m}][${g+m}]`:(y,g)=>`${l}_${y+m}${g+m}`;case 3:return h==="brackets"?(y,g,E)=>`${l}[${y+m}][${g+m}][${E+m}]`:(y,g,E)=>`${l}_${y+m}${g+m}${E+m}`;default:throw new Error("Tensors with rank > 3 or rank 0 are currently not supported.")}}(t,n.rank,r,a),A=e.getField(o(s,s,s))||gi.Undefined(e.rowCount,i),c=l=>function(u,d,h,m){const y=d.create();if(d.rank===1){const g=d.dimensions[0];for(let E=0;E<g;E++){const R=u.getField(m(E));d.set(y,E,R?R.float(h):0)}}else if(d.rank===2){const g=d.dimensions[0],E=d.dimensions[1];for(let R=0;R<g;R++)for(let p=0;p<E;p++){const w=u.getField(m(R,p));d.set(y,R,p,w?w.float(h):0)}}else{if(d.rank!==3)throw new Error("Tensors with rank > 3 or rank 0 are currently not supported.");{const g=d.dimensions[0],E=d.dimensions[1],R=d.dimensions[2];for(let p=0;p<g;p++)for(let w=0;w<E;w++)for(let v=0;v<R;v++){const _=u.getField(m(p,w,v));d.set(y,p,w,v,_?_.float(h):0)}}}return y}(e,n,l,o);return{schema:i,__array:void 0,isDefined:A.isDefined,rowCount:e.rowCount,value:c,valueKind:A.valueKind,areValuesEqual:(l,u)=>Ld.areEqualExact(c(l),c(u)),toArray:l=>Sr(e.rowCount,c,l)}}(function(i){function e(t){return t.replace(".","_").replace(/\[/,"_").replace(/(\[|\])/g,"")}i.canonical=e,i.equal=function(t,n){return e(t)===e(n)},i.create=function(t,n,r=!1){const s=`${t}${n?`.${n}`:""}`;return r?e(s):s}})(jl||(jl={}));class Uce{constructor(e,t,n){this._isDefined=n;const r=Object.keys(t);this._rowCount=e.rowCount,this._columns=r,this._schema=t;const s=Object.create(null);for(const a of r)Object.defineProperty(this,a,{get:function(){if(s[a])return s[a];const o=t[a];if(o.valueType==="list")s[a]=Fce(o,e,a);else if(o.valueType==="tensor")s[a]=Ice(o,e,a);else{const A=Gce(o),c=e.getField(a);s[a]=c?A(c,e,a):gi.Undefined(e.rowCount,o)}return s[a]},enumerable:!0,configurable:!1})}}function Pce(i,e,t,n){const r=jl.create(e,i),s=jl.canonical(r);if(s in t)return t[s];if(n&&r in n)for(const a of n[r]){const o=jl.canonical(a);if(o in t)return t[o]}}function Lce(i,e,t,n){let r=t.categories[i];if(n){const s=function(c){const l=Object.create(null);for(const u of Object.keys(c.categories))for(const d of c.categories[u].fieldNames)l[jl.create(u,d,!0)]=c.categories[u].getField(d);return l}(t),a=Object.create(null),o=[];let A=0;for(const c of Object.keys(e)){const l=Pce(c,i,s,n);l&&(a[c]=l,o.push(c),A=l.rowCount)}r={rowCount:A,name:i,fieldNames:[...o],getField:c=>a[c]}}return new Uce(r||Jm.empty(i),e,!!r)}var _A=gi.Schema;const $=_A.str,xe=_A.int,rn=_A.float,Iw=_A.coord,vt=_A.Aliased,KA=_A.Matrix,g1=_A.Vector,Fn=_A.lstr,Y0=_A.List,Dce={atom_site:{auth_asym_id:$,auth_atom_id:$,auth_comp_id:$,auth_seq_id:xe,B_iso_or_equiv:rn,Cartn_x:Iw,Cartn_y:Iw,Cartn_z:Iw,group_PDB:vt($),id:xe,label_alt_id:$,label_asym_id:$,label_atom_id:$,label_comp_id:$,label_entity_id:$,label_seq_id:xe,occupancy:rn,type_symbol:$,pdbx_PDB_ins_code:$,pdbx_PDB_model_num:xe,pdbx_formal_charge:xe,pdbx_label_index:xe,pdbx_sifts_xref_db_name:$,pdbx_sifts_xref_db_acc:$,pdbx_sifts_xref_db_num:$,pdbx_sifts_xref_db_res:$,ihm_model_id:xe},atom_site_anisotrop:{id:xe,type_symbol:$,U:KA(3,3),U_esd:KA(3,3),pdbx_auth_seq_id:$,pdbx_auth_asym_id:$,pdbx_auth_atom_id:$,pdbx_auth_comp_id:$,pdbx_label_seq_id:xe,pdbx_label_alt_id:$,pdbx_label_asym_id:$,pdbx_label_atom_id:$,pdbx_label_comp_id:$,pdbx_PDB_ins_code:$},atom_sites:{entry_id:$,fract_transf_matrix:KA(3,3),fract_transf_vector:g1(3)},audit_author:{name:$,pdbx_ordinal:xe,identifier_ORCID:$},audit_conform:{dict_location:$,dict_name:$,dict_version:$},cell:{angle_alpha:rn,angle_beta:rn,angle_gamma:rn,entry_id:$,length_a:rn,length_b:rn,length_c:rn,Z_PDB:xe,pdbx_unique_axis:$},chem_comp:{formula:$,formula_weight:rn,id:$,mon_nstd_flag:vt(Fn),name:$,type:vt(Fn),pdbx_synonyms:Y0(";",i=>i)},chem_comp_bond:{atom_id_1:$,atom_id_2:$,comp_id:$,value_order:vt(Fn),pdbx_ordinal:xe,pdbx_stereo_config:vt(Fn),pdbx_aromatic_flag:vt(Fn)},citation:{book_publisher:$,country:$,id:$,journal_abbrev:$,journal_id_ASTM:$,journal_id_CSD:$,journal_id_ISSN:$,journal_volume:$,page_first:$,page_last:$,title:$,year:xe,pdbx_database_id_DOI:$,pdbx_database_id_PubMed:xe},citation_author:{citation_id:$,name:$,ordinal:xe},database_2:{database_id:vt(Fn),database_code:$},entity:{details:$,formula_weight:rn,id:$,src_method:vt(Fn),type:vt(Fn),pdbx_description:Y0(",",i=>i),pdbx_number_of_molecules:xe,pdbx_mutation:$,pdbx_fragment:$,pdbx_ec:Y0(",",i=>i)},entity_poly:{entity_id:$,nstd_linkage:vt(Fn),nstd_monomer:vt(Fn),type:vt($),pdbx_strand_id:Y0(",",i=>i),pdbx_seq_one_letter_code:$,pdbx_seq_one_letter_code_can:$,pdbx_target_identifier:$},entity_poly_seq:{entity_id:$,hetero:vt(Fn),mon_id:$,num:xe},entry:{id:$},exptl:{entry_id:$,method:vt($)},software:{classification:$,date:$,description:$,name:$,type:vt(Fn),version:$,pdbx_ordinal:xe},struct:{entry_id:$,title:$,pdbx_descriptor:$},struct_asym:{details:$,entity_id:$,id:$,pdbx_modified:$,pdbx_blank_PDB_chainid_flag:vt($)},struct_conf:{beg_label_asym_id:$,beg_label_comp_id:$,beg_label_seq_id:xe,beg_auth_asym_id:$,beg_auth_comp_id:$,beg_auth_seq_id:xe,conf_type_id:vt(Fn),details:$,end_label_asym_id:$,end_label_comp_id:$,end_label_seq_id:xe,end_auth_asym_id:$,end_auth_comp_id:$,end_auth_seq_id:xe,id:$,pdbx_beg_PDB_ins_code:$,pdbx_end_PDB_ins_code:$,pdbx_PDB_helix_class:$,pdbx_PDB_helix_length:xe,pdbx_PDB_helix_id:$},struct_conn:{conn_type_id:vt(Fn),details:$,id:$,ptnr1_label_asym_id:$,ptnr1_label_atom_id:$,ptnr1_label_comp_id:$,ptnr1_label_seq_id:xe,ptnr1_auth_asym_id:$,ptnr1_auth_comp_id:$,ptnr1_auth_seq_id:xe,ptnr1_symmetry:$,ptnr2_label_asym_id:$,ptnr2_label_atom_id:$,ptnr2_label_comp_id:$,ptnr2_label_seq_id:xe,ptnr2_auth_asym_id:$,ptnr2_auth_comp_id:$,ptnr2_auth_seq_id:xe,ptnr2_symmetry:$,pdbx_ptnr1_PDB_ins_code:$,pdbx_ptnr1_label_alt_id:$,pdbx_ptnr1_standard_comp_id:$,pdbx_ptnr2_PDB_ins_code:$,pdbx_ptnr2_label_alt_id:$,pdbx_ptnr3_PDB_ins_code:$,pdbx_ptnr3_label_alt_id:$,pdbx_ptnr3_label_asym_id:$,pdbx_ptnr3_label_atom_id:$,pdbx_ptnr3_label_comp_id:$,pdbx_ptnr3_label_seq_id:xe,pdbx_PDB_id:$,pdbx_dist_value:rn,pdbx_value_order:vt(Fn)},struct_conn_type:{criteria:$,id:vt(Fn),reference:$},struct_keywords:{entry_id:$,text:Y0(",",i=>i),pdbx_keywords:$},struct_ncs_oper:{code:vt($),details:$,id:xe,matrix:KA(3,3),vector:g1(3)},struct_sheet_range:{beg_label_asym_id:$,beg_label_comp_id:$,beg_label_seq_id:xe,end_label_asym_id:$,end_label_comp_id:$,end_label_seq_id:xe,beg_auth_asym_id:$,beg_auth_comp_id:$,beg_auth_seq_id:xe,end_auth_asym_id:$,end_auth_comp_id:$,end_auth_seq_id:xe,id:$,sheet_id:$,pdbx_beg_PDB_ins_code:$,pdbx_end_PDB_ins_code:$},struct_site:{details:$,id:$,pdbx_num_residues:xe,pdbx_evidence_code:$,pdbx_auth_asym_id:$,pdbx_auth_comp_id:$,pdbx_auth_seq_id:$,pdbx_auth_ins_code:$},struct_site_gen:{details:$,id:$,label_alt_id:$,label_asym_id:$,label_atom_id:$,label_comp_id:$,label_seq_id:xe,auth_asym_id:$,auth_comp_id:$,auth_seq_id:$,site_id:$,symmetry:$,pdbx_auth_ins_code:$,pdbx_num_res:xe},symmetry:{entry_id:$,cell_setting:vt(Fn),Int_Tables_number:xe,space_group_name_Hall:$,"space_group_name_H-M":$},pdbx_database_status:{status_code:vt($),status_code_sf:vt($),status_code_mr:vt($),entry_id:$,recvd_initial_deposition_date:$,SG_entry:vt(Fn),deposit_site:vt($),process_site:vt($),status_code_cs:vt($),methods_development_category:vt($),pdb_format_compatible:vt(Fn)},pdbx_nonpoly_scheme:{asym_id:$,entity_id:$,mon_id:$,pdb_strand_id:$,ndb_seq_num:$,pdb_seq_num:$,auth_seq_num:$,pdb_mon_id:$,auth_mon_id:$,pdb_ins_code:$},pdbx_database_related:{db_name:$,details:$,db_id:$,content_type:vt($)},pdbx_entity_nonpoly:{entity_id:$,comp_id:$,name:$},pdbx_chem_comp_synonyms:{name:$,comp_id:$,provenance:vt($)},pdbx_chem_comp_identifier:{comp_id:$,identifier:$,type:vt($),program:$,program_version:$},pdbx_unobs_or_zero_occ_residues:{id:xe,polymer_flag:vt(Fn),occupancy_flag:vt(xe),PDB_model_num:xe,auth_asym_id:$,auth_comp_id:$,auth_seq_id:$,PDB_ins_code:$,label_asym_id:$,label_comp_id:$,label_seq_id:xe},pdbx_struct_mod_residue:{id:xe,auth_asym_id:$,auth_comp_id:$,auth_seq_id:xe,PDB_ins_code:$,label_asym_id:$,label_comp_id:$,label_seq_id:xe,parent_comp_id:$,details:$},pdbx_struct_oper_list:{id:$,type:vt($),name:$,symmetry_operation:$,matrix:KA(3,3),vector:g1(3)},pdbx_struct_assembly:{method_details:$,oligomeric_details:$,oligomeric_count:xe,details:$,id:$},pdbx_struct_assembly_gen:{asym_id_list:Y0(",",i=>i),assembly_id:$,oper_expression:$},pdbx_reference_entity_list:{prd_id:$,ref_entity_id:$,type:vt(Fn),details:$,component_id:xe},pdbx_reference_entity_link:{link_id:xe,prd_id:$,details:$,ref_entity_id_1:$,ref_entity_id_2:$,entity_seq_num_1:xe,entity_seq_num_2:xe,comp_id_1:$,comp_id_2:$,atom_id_1:$,atom_id_2:$,value_order:vt(Fn),component_1:xe,component_2:xe,link_class:vt($)},pdbx_reference_entity_poly_link:{link_id:xe,prd_id:$,ref_entity_id:$,component_id:xe,entity_seq_num_1:xe,entity_seq_num_2:xe,comp_id_1:$,comp_id_2:$,atom_id_1:$,atom_id_2:$,value_order:vt(Fn)},pdbx_molecule:{prd_id:$,instance_id:xe,asym_id:$},pdbx_molecule_features:{prd_id:$,class:vt(Fn),type:vt(Fn),name:$,details:$},entity_src_nat:{entity_id:$,pdbx_organism_scientific:$,pdbx_plasmid_name:$,pdbx_src_id:xe,pdbx_beg_seq_num:xe,pdbx_end_seq_num:xe},entity_src_gen:{entity_id:$,pdbx_gene_src_gene:Y0(",",i=>i),pdbx_gene_src_scientific_name:$,plasmid_name:$,pdbx_src_id:xe,pdbx_beg_seq_num:xe,pdbx_end_seq_num:xe},pdbx_entity_src_syn:{organism_scientific:$,entity_id:$,pdbx_src_id:xe,pdbx_beg_seq_num:xe,pdbx_end_seq_num:xe},pdbx_entity_branch_descriptor:{entity_id:$,descriptor:$,type:vt(Fn),program:$,program_version:$,ordinal:xe},pdbx_entity_instance_feature:{details:$,feature_type:vt($),auth_asym_id:$,asym_id:$,auth_seq_num:$,seq_num:xe,comp_id:$,auth_comp_id:$,ordinal:xe},pdbx_entity_branch_list:{entity_id:$,hetero:vt(Fn),comp_id:$,num:xe},pdbx_entity_branch_link:{link_id:xe,details:$,entity_id:$,entity_branch_list_num_1:xe,entity_branch_list_num_2:xe,comp_id_1:$,comp_id_2:$,atom_id_1:$,leaving_atom_id_1:$,atom_stereo_config_1:vt(Fn),atom_id_2:$,leaving_atom_id_2:$,atom_stereo_config_2:vt(Fn),value_order:vt(Fn)},pdbx_entity_branch:{entity_id:$,type:vt($)},pdbx_branch_scheme:{entity_id:$,hetero:vt(Fn),asym_id:$,mon_id:$,num:xe,pdb_asym_id:$,pdb_seq_num:$,pdb_mon_id:$,auth_asym_id:$,auth_seq_num:$,auth_mon_id:$},pdbx_chem_comp_related:{comp_id:$,related_comp_id:$,relationship_type:vt($),details:$},ihm_starting_model_details:{starting_model_id:$,entity_id:$,entity_description:$,asym_id:$,entity_poly_segment_id:xe,starting_model_source:vt($),starting_model_auth_asym_id:$,starting_model_sequence_offset:xe,dataset_list_id:xe},ihm_starting_comparative_models:{id:xe,starting_model_id:$,starting_model_auth_asym_id:$,starting_model_seq_id_begin:xe,starting_model_seq_id_end:xe,template_auth_asym_id:$,template_seq_id_begin:xe,template_seq_id_end:xe,template_sequence_identity:rn,template_sequence_identity_denominator:vt(xe),template_dataset_list_id:xe,alignment_file_id:xe},ihm_starting_model_seq_dif:{id:xe,entity_id:$,asym_id:$,seq_id:xe,comp_id:$,starting_model_id:$,db_asym_id:$,db_seq_id:xe,db_comp_id:$,details:$},ihm_model_representation:{id:xe,name:$,details:$},ihm_model_representation_details:{id:xe,representation_id:xe,entity_poly_segment_id:xe,entity_id:$,entity_description:$,entity_asym_id:$,model_object_primitive:vt($),starting_model_id:$,model_mode:vt($),model_granularity:vt($),model_object_count:xe},ihm_struct_assembly_details:{id:xe,assembly_id:xe,parent_assembly_id:xe,entity_description:$,entity_id:$,asym_id:$,entity_poly_segment_id:xe},ihm_struct_assembly:{id:xe,name:$,description:$},ihm_modeling_protocol:{id:xe,num_steps:xe,protocol_name:$},ihm_modeling_protocol_details:{id:xe,protocol_id:xe,step_id:xe,struct_assembly_id:xe,dataset_group_id:xe,struct_assembly_description:$,step_name:$,step_method:$,num_models_begin:xe,num_models_end:xe,multi_scale_flag:vt(Fn),multi_state_flag:vt(Fn),ordered_flag:vt(Fn),script_file_id:xe,software_id:xe},ihm_multi_state_modeling:{state_id:xe,state_group_id:xe,population_fraction:rn,population_fraction_sd:rn,state_type:$,state_name:$,experiment_type:vt($),details:$},ihm_modeling_post_process:{id:xe,protocol_id:xe,analysis_id:xe,step_id:xe,type:vt($),feature:vt($),num_models_begin:xe,num_models_end:xe},ihm_ensemble_info:{ensemble_id:xe,ensemble_name:$,post_process_id:xe,model_group_id:xe,ensemble_clustering_method:vt($),ensemble_clustering_feature:vt($),num_ensemble_models:xe,num_ensemble_models_deposited:xe,ensemble_precision_value:rn,ensemble_file_id:xe},ihm_model_list:{model_id:xe,model_name:$,assembly_id:xe,protocol_id:xe,representation_id:xe},ihm_model_group:{id:xe,name:$,details:$},ihm_model_group_link:{model_id:xe,group_id:xe},ihm_model_representative:{id:xe,model_group_id:xe,model_id:xe,selection_criteria:vt($)},ihm_dataset_list:{id:xe,data_type:vt($),database_hosted:vt(Fn)},ihm_dataset_group:{id:xe,name:$,application:vt($),details:$},ihm_dataset_group_link:{dataset_list_id:xe,group_id:xe},ihm_related_datasets:{dataset_list_id_derived:xe,dataset_list_id_primary:xe},ihm_dataset_related_db_reference:{id:xe,dataset_list_id:xe,db_name:vt($),accession_code:$,version:$,details:$},ihm_external_reference_info:{reference_id:xe,reference_provider:$,reference_type:vt($),reference:$,refers_to:vt($),associated_url:$},ihm_external_files:{id:xe,reference_id:xe,file_path:$,content_type:vt($),file_size_bytes:rn,details:$},ihm_dataset_external_reference:{id:xe,dataset_list_id:xe,file_id:xe},ihm_localization_density_files:{id:xe,file_id:xe,ensemble_id:xe,entity_id:$,entity_poly_segment_id:xe,asym_id:$},ihm_predicted_contact_restraint:{id:xe,group_id:xe,entity_id_1:$,entity_id_2:$,asym_id_1:$,asym_id_2:$,comp_id_1:$,comp_id_2:$,seq_id_1:xe,seq_id_2:xe,rep_atom_1:vt($),rep_atom_2:vt($),distance_lower_limit:rn,distance_upper_limit:rn,probability:rn,restraint_type:vt($),model_granularity:vt($),dataset_list_id:xe,software_id:xe},ihm_cross_link_list:{id:xe,group_id:xe,entity_description_1:$,entity_description_2:$,entity_id_1:$,entity_id_2:$,comp_id_1:$,comp_id_2:$,seq_id_1:xe,seq_id_2:xe,linker_type:vt($),dataset_list_id:xe},ihm_cross_link_restraint:{id:xe,group_id:xe,entity_id_1:$,entity_id_2:$,asym_id_1:$,asym_id_2:$,comp_id_1:$,comp_id_2:$,seq_id_1:xe,seq_id_2:xe,atom_id_1:$,atom_id_2:$,restraint_type:vt($),conditional_crosslink_flag:vt($),model_granularity:vt($),distance_threshold:rn,psi:rn,sigma_1:rn,sigma_2:rn},ihm_cross_link_result_parameters:{id:xe,restraint_id:xe,model_id:xe,psi:rn,sigma_1:rn,sigma_2:rn},ihm_2dem_class_average_restraint:{id:xe,dataset_list_id:xe,number_raw_micrographs:xe,pixel_size_width:rn,pixel_size_height:rn,image_resolution:rn,image_segment_flag:vt(Fn),number_of_projections:xe,struct_assembly_id:xe,details:$},ihm_2dem_class_average_fitting:{id:xe,restraint_id:xe,model_id:xe,cross_correlation_coefficient:rn,rot_matrix:KA(3,3),tr_vector:g1(3)},ihm_3dem_restraint:{id:xe,dataset_list_id:xe,model_id:xe,struct_assembly_id:xe,fitting_method:$,number_of_gaussians:xe,cross_correlation_coefficient:rn},ihm_sas_restraint:{id:xe,dataset_list_id:xe,model_id:xe,struct_assembly_id:xe,profile_segment_flag:vt(Fn),fitting_atom_type:$,fitting_method:$,fitting_state:vt($),radius_of_gyration:rn,chi_value:rn,details:$},ihm_starting_model_coord:{ordinal_id:xe,starting_model_id:$,group_PDB:vt($),id:xe,type_symbol:$,entity_id:$,atom_id:$,comp_id:$,seq_id:xe,asym_id:$,Cartn_x:rn,Cartn_y:rn,Cartn_z:rn,B_iso_or_equiv:rn},ihm_sphere_obj_site:{id:xe,entity_id:$,seq_id_begin:xe,seq_id_end:xe,asym_id:$,Cartn_x:rn,Cartn_y:rn,Cartn_z:rn,object_radius:rn,rmsf:rn,model_id:xe},ihm_gaussian_obj_site:{id:xe,entity_id:$,seq_id_begin:xe,seq_id_end:xe,asym_id:$,mean_Cartn_x:rn,mean_Cartn_y:rn,mean_Cartn_z:rn,weight:rn,covariance_matrix:KA(3,3),model_id:xe},ihm_gaussian_obj_ensemble:{id:xe,entity_id:$,seq_id_begin:xe,seq_id_end:xe,asym_id:$,mean_Cartn_x:rn,mean_Cartn_y:rn,mean_Cartn_z:rn,weight:rn,covariance_matrix:KA(3,3),ensemble_id:xe},ihm_feature_list:{feature_id:xe,feature_type:vt($),entity_type:vt($)},ihm_poly_residue_feature:{ordinal_id:xe,feature_id:xe,entity_id:$,asym_id:$,comp_id_begin:$,comp_id_end:$,seq_id_begin:xe,seq_id_end:xe},ihm_derived_distance_restraint:{id:xe,group_id:xe,feature_id_1:xe,feature_id_2:xe,group_conditionality:vt($),random_exclusion_fraction:rn,distance_upper_limit:rn,restraint_type:vt($),dataset_list_id:xe},ma_model_list:{ordinal_id:xe,model_id:xe,model_group_id:xe,model_name:$,model_group_name:$,model_type:vt($),data_id:xe},ma_target_entity:{entity_id:$,data_id:xe,origin:vt($)},ma_target_entity_instance:{asym_id:$,entity_id:$,details:$},ma_target_ref_db_details:{target_entity_id:$,db_name:vt($),db_code:$,db_accession:$,seq_db_isoform:$,seq_db_align_begin:$,seq_db_align_end:$,ncbi_taxonomy_id:$,organism_scientific:$},ma_data:{id:xe,content_type:vt($),content_type_other_details:$,name:$},ma_software_group:{ordinal_id:xe,group_id:xe,software_id:xe},ma_qa_metric:{id:xe,name:$,type:vt($),mode:vt($),software_group_id:xe},ma_qa_metric_global:{ordinal_id:xe,model_id:xe,metric_id:xe,metric_value:rn},ma_qa_metric_local:{ordinal_id:xe,model_id:xe,label_asym_id:$,label_seq_id:xe,label_comp_id:$,metric_id:xe,metric_value:rn}};var Fc=gi.Schema;const Qn=Fc.str,kce=Fc.float,iB=Fc.List,Ka=Fc.lstr,Rs=Fc.Aliased,hd=Fc.int,vl=Fc.coord,Oce={chem_comp:{formula:Qn,formula_weight:kce,id:Qn,mon_nstd_parent_comp_id:iB(",",i=>i),name:Qn,one_letter_code:Qn,three_letter_code:Qn,type:Rs(Ka),pdbx_synonyms:iB(";",i=>i),pdbx_type:Qn,pdbx_ambiguous_flag:Qn,pdbx_replaced_by:Qn,pdbx_replaces:Qn,pdbx_formal_charge:hd,pdbx_model_coordinates_details:Qn,pdbx_model_coordinates_db_code:Qn,pdbx_ideal_coordinates_details:Qn,pdbx_ideal_coordinates_missing_flag:Rs(Ka),pdbx_model_coordinates_missing_flag:Rs(Ka),pdbx_initial_date:Qn,pdbx_modified_date:Qn,pdbx_release_status:Rs(Qn),pdbx_processing_site:Rs(Qn)},chem_comp_atom:{alt_atom_id:Qn,atom_id:Qn,charge:hd,model_Cartn_x:vl,model_Cartn_y:vl,model_Cartn_z:vl,comp_id:Qn,type_symbol:Qn,pdbx_align:hd,pdbx_ordinal:hd,pdbx_model_Cartn_x_ideal:vl,pdbx_model_Cartn_y_ideal:vl,pdbx_model_Cartn_z_ideal:vl,pdbx_stereo_config:Rs(Ka),pdbx_aromatic_flag:Rs(Ka),pdbx_leaving_atom_flag:Rs(Ka)},chem_comp_bond:{atom_id_1:Qn,atom_id_2:Qn,comp_id:Qn,value_order:Rs(Ka),pdbx_ordinal:hd,pdbx_stereo_config:Rs(Ka),pdbx_aromatic_flag:Rs(Ka)},pdbx_chem_comp_descriptor:{comp_id:Qn,descriptor:Qn,type:Rs(Ka),program:Qn,program_version:Qn},pdbx_chem_comp_identifier:{comp_id:Qn,identifier:Qn,type:Rs(Qn),program:Qn,program_version:Qn}};var Jf=gi.Schema;const jt=Jf.str,Qce=Jf.float,$o=Jf.lstr,Pr=Jf.Aliased,Ys=Jf.int,Hce={pdbx_reference_molecule:{prd_id:jt,formula_weight:Qce,formula:jt,type:Pr($o),type_evidence_code:jt,class:Pr($o),class_evidence_code:jt,name:jt,represent_as:Pr($o),chem_comp_id:jt,compound_details:jt,description:jt,representative_PDB_id_code:jt,release_status:Pr($o),replaces:jt,replaced_by:jt},pdbx_reference_entity_list:{prd_id:jt,ref_entity_id:jt,type:Pr($o),details:jt,component_id:Ys},pdbx_reference_entity_nonpoly:{prd_id:jt,ref_entity_id:jt,name:jt,chem_comp_id:jt},pdbx_reference_entity_link:{link_id:Ys,prd_id:jt,details:jt,ref_entity_id_1:jt,ref_entity_id_2:jt,entity_seq_num_1:Ys,entity_seq_num_2:Ys,comp_id_1:jt,comp_id_2:jt,atom_id_1:jt,atom_id_2:jt,value_order:Pr($o),component_1:Ys,component_2:Ys,link_class:Pr(jt)},pdbx_reference_entity_poly_link:{link_id:Ys,prd_id:jt,ref_entity_id:jt,component_id:Ys,entity_seq_num_1:Ys,entity_seq_num_2:Ys,comp_id_1:jt,comp_id_2:jt,atom_id_1:jt,atom_id_2:jt,value_order:Pr($o)},pdbx_reference_entity_poly:{prd_id:jt,ref_entity_id:jt,type:Pr(jt),db_code:jt,db_name:jt},pdbx_reference_entity_poly_seq:{prd_id:jt,ref_entity_id:jt,mon_id:jt,parent_mon_id:jt,num:Ys,observed:Pr($o),hetero:Pr($o)},pdbx_reference_entity_sequence:{prd_id:jt,ref_entity_id:jt,type:Pr(jt),NRP_flag:Pr(jt),one_letter_codes:jt},pdbx_reference_entity_src_nat:{prd_id:jt,ref_entity_id:jt,ordinal:Ys,organism_scientific:jt,taxid:jt,db_code:jt,db_name:jt},pdbx_prd_audit:{prd_id:jt,date:jt,processing_site:Pr(jt),action_type:Pr(jt)}};var kT=gi.Schema;const Ii=kT.str,zce={datablock:{id:Ii,description:Ii},dictionary:{title:Ii,datablock_id:Ii,version:Ii},dictionary_history:{version:Ii,update:Ii,revision:Ii},sub_category:{id:Ii,description:Ii},category_group_list:{id:Ii,parent_id:Ii,description:Ii},item_type_list:{code:Ii,primitive_code:Ii,construct:Ii,detail:Ii},item_units_list:{code:Ii,detail:Ii},item_units_conversion:{from_code:Ii,to_code:Ii,operator:Ii,factor:kT.float}};var eh=gi.Schema;const Od=eh.str,y1=eh.int,Wo=eh.float,w1=eh.Aliased,jA=eh.Vector;w1(Od),w1(Od),w1(Od),w1(Od),jA(3),jA(3);const OT={volume_data_3d_info:{name:Od,axis_order:jA(3,y1),origin:jA(3),dimensions:jA(3),sample_rate:y1,sample_count:jA(3,y1),spacegroup_number:y1,spacegroup_cell_size:jA(3),spacegroup_cell_angles:jA(3),mean_source:Wo,mean_sampled:Wo,sigma_source:Wo,sigma_sampled:Wo,min_source:Wo,min_sampled:Wo,max_source:Wo,max_sampled:Wo},volume_data_3d:{values:Wo}};var ay=gi.Schema;const _i=ay.float,Uw=ay.int,zn=ay.str,Vce={cell:{angle_alpha:_i,angle_beta:_i,angle_gamma:_i,formula_units_z:Uw,length_a:_i,length_b:_i,length_c:_i,volume:_i},chemical:{melting_point:_i,name_common:zn,name_systematic:zn},chemical_formula:{moiety:zn,sum:zn,weight:_i},space_group:{crystal_system:zn,it_number:Uw,"name_h-m_full":zn},space_group_symop:{operation_xyz:zn},geom_bond:{atom_site_label_1:zn,atom_site_label_2:zn,distance:_i,publ_flag:zn,site_symmetry_1:zn,site_symmetry_2:zn,valence:_i},audit:{block_doi:zn},database_code:{cod:zn,csd:zn,depnum_ccdc_archive:zn,depnum_ccdc_fiz:zn,icsd:zn,mdf:zn,nbs:zn},atom_site:{adp_type:zn,calc_flag:zn,disorder_assembly:zn,disorder_group:zn,fract_x:_i,fract_y:_i,fract_z:_i,label:zn,occupancy:_i,refinement_flags:zn,site_symmetry_multiplicity:Uw,type_symbol:zn,u_iso_or_equiv:_i},atom_site_aniso:{label:zn,u_11:_i,u:(0,ay.Matrix)(3,3),u_12:_i,u_13:_i,u_22:_i,u_23:_i,u_33:_i},atom_type:{description:zn,symbol:zn},atom_type_scat:{dispersion_imag:_i,dispersion_real:_i,source:zn}},Kce={"cell.formula_units_z":["cell_formula_units_Z"],"space_group.it_number":["space_group_IT_number","symmetry_Int_Tables_number"],"space_group.name_h-m_full":["symmetry_space_group_name_H-M"],"space_group_symop.operation_xyz":["symmetry_equiv_pos_as_xyz"],"geom_bond.atom_site_label_1":["geom_bond_atom_site_id_1"],"geom_bond.atom_site_label_2":["geom_bond_atom_site_id_2"],"geom_bond.distance":["geom_bond_dist"],"audit.block_doi":["audit_block_DOI"],"database_code.cod":["database_code_COD"],"database_code.csd":["database_code_CSD"],"database_code.depnum_ccdc_archive":["database_code_depnum_CCDC_archive"],"database_code.depnum_ccdc_fiz":["database_code_depnum_CCDC_fiz"],"database_code.icsd":["database_code_ICSD"],"database_code.mdf":["database_code_MDF"],"database_code.nbs":["database_code_NBS"],"atom_site.adp_type":["atom_site_ADP_type","atom_site_thermal_displace_type"],"atom_site.label":["atom_site_id"],"atom_site.site_symmetry_multiplicity":["atom_site_symmetry_multiplicity"],"atom_site.u_iso_or_equiv":["atom_site_U_iso_or_equiv"],"atom_site_aniso.label":["atom_site_anisotrop_id"],"atom_site_aniso.u_11":["atom_site_aniso_U_11","atom_site_anisotrop_U_11"],"atom_site_aniso.u_12":["atom_site_aniso_U_12","atom_site_anisotrop_U_12"],"atom_site_aniso.u_13":["atom_site_aniso_U_13","atom_site_anisotrop_U_13"],"atom_site_aniso.u_22":["atom_site_aniso_U_22","atom_site_anisotrop_U_22"],"atom_site_aniso.u_23":["atom_site_aniso_U_23","atom_site_anisotrop_U_23"],"atom_site_aniso.u_33":["atom_site_aniso_U_33","atom_site_anisotrop_U_33"]},Pw=gi.Schema.int,$ce={volume_data_3d_info:OT.volume_data_3d_info,segmentation_data_table:{set_id:Pw,segment_id:Pw},segmentation_data_3d:{values:Pw}},rB={parse:i=>typeof i=="string"?qR(i):tB(i),parseText:qR,parseBinary:tB,toDatabaseCollection:function(i,e,t){const n={};for(const r of e.blocks)n[r.header]=Ko(i,r,t);return n},toDatabase:Ko,schema:{mmCIF:i=>Ko(Dce,i),CCD:i=>Ko(Oce,i),BIRD:i=>Ko(Hce,i),dic:i=>Ko(zce,i),cifCore:i=>Ko(Vce,i,Kce),densityServer:i=>Ko(OT,i),segmentation:i=>Ko($ce,i)}};class Oa{constructor(e,t){var n=t||{};this.streamer=e,this.name=W(n.name,""),this.path=W(n.path,"")}get type(){return""}get __objName(){return""}get isBinary(){return!1}get isJson(){return!1}get isXml(){return!1}parse(){return this.streamer.read().then(()=>bT(this,void 0,void 0,function*(){return yield this._beforeParse(),yield this._parse(),yield this._afterParse(),this[this.__objName]}))}_parse(){}_beforeParse(){}_afterParse(){ot&&He.log(this[this.__objName])}}class vA extends Oa{constructor(e,t){var n=t||{};super(e,n),this.firstModelOnly=W(n.firstModelOnly,!1),this.asTrajectory=W(n.asTrajectory,!1),this.cAlphaOnly=W(n.cAlphaOnly,!1),this.structure=new Ja(this.name,this.path),this.structureBuilder=new Ioe(this.structure)}get type(){return"structure"}get __objName(){return"structure"}}class ig{constructor(e,t,n="",r,s=[]){this.structure=e,this.index=t,this.description=n,this.entityType=function(a){switch(a=a.toLowerCase()){case"polymer":return 1;case"non-polymer":return 2;case"macrolide":return 3;case"water":return 4;default:return 0}}(r||""),this.chainIndexList=s,s.forEach(function(a){e.chainStore.entityIndex[a]=t})}get type(){return function(e){switch(e){case 1:return"polymer";case 2:return"non-polymer";case 3:return"macrolide";case 4:return"water";default:return}}(this.entityType)}getEntityType(){return this.entityType}isPolymer(){return this.entityType===1}isNonPolymer(){return this.entityType===2}isMacrolide(){return this.entityType===3}isWater(){return this.entityType===4}eachChain(e){const t=this.structure.getChainProxy();this.chainIndexList.forEach(function(n){t.index=n,e(t)})}}const Wce={a:1,b:1,c:1,alpha:90,beta:90,gamma:90,spacegroup:"P 1"};class rg{constructor(e=Wce){this.cartToFrac=new xt,this.fracToCart=new xt,this.a=e.a,this.b=e.b,this.c=e.c,this.alpha=e.alpha,this.beta=e.beta,this.gamma=e.gamma,this.spacegroup=e.spacegroup;const t=Mi(this.alpha),n=Mi(this.beta),r=Mi(this.gamma),s=Math.cos(t),a=Math.cos(n),o=Math.cos(r),A=Math.sin(n),c=Math.sin(r);if(this.volume=this.a*this.b*this.c*Math.sqrt(1-s*s-a*a-o*o+2*s*a*o),e.cartToFrac===void 0){const l=this.a*this.b*c/this.volume,u=(a*o-s)/(A*c);this.fracToCart.set(this.a,0,0,0,this.b*o,this.b*c,0,0,this.c*a,-this.c*A*u,1/l,0,0,0,0,1).transpose(),this.cartToFrac.copy(this.fracToCart).invert()}else this.cartToFrac.copy(e.cartToFrac),this.fracToCart.copy(this.cartToFrac).invert()}getPosition(e){const t=new Float32Array(24);if(e.unitcell){const n=e.unitcell,r=e.center.clone().applyMatrix4(n.cartToFrac).floor(),s=new ne;let a=0;const o=function(A,c,l){s.set(A,c,l).add(r).applyMatrix4(n.fracToCart).toArray(t,a),a+=3};o(0,0,0),o(1,0,0),o(0,1,0),o(0,0,1),o(1,1,0),o(1,0,1),o(0,1,1),o(1,1,1)}return t}getCenter(e){return function(t,n=new ne){const r=t.length;for(let s=0;s<r;s+=3)n.x+=t[s],n.y+=t[s+1],n.z+=t[s+2];return n.divideScalar(r/3),n}(this.getPosition(e))}getData(e,t={}){const n=W(t.colorValue,"orange"),r=W(t.radius,Math.cbrt(this.volume)/200),s=new $t(n),a=new ne,o=this.getPosition(e),A=ei(8,s.r,s.g,s.b),c=Ts(8,r),l=new Float32Array(36),u=new Float32Array(36),d=ei(12,s.r,s.g,s.b),h=Ts(12,r);let m=0;function y(E,R){a.fromArray(o,3*E).toArray(l,m),a.fromArray(o,3*R).toArray(u,m),m+=3}y(0,1),y(0,2),y(0,3),y(1,4),y(1,5),y(2,6),y(3,5),y(4,7),y(5,7),y(2,4),y(7,6),y(3,6);const g=new soe(this,e);return{vertex:{position:o,color:A,radius:c,picking:g},edge:{position1:l,position2:u,color:d,color2:d,radius:h,picking:g}}}}const sg={1:"h",2:"h",3:"i",4:"h",5:"g",6:"h",7:"h",8:"h",9:"h",10:"h",0:"h"},qce=["DAL","DAR","DSG","DAS","DCY","DGL","DGN","DHI","DIL","DLE","DLY","MED","DPN","DPR","DSN","DTH","DTR","DTY","DVA","DNE"],Yce=["MOL_ID","MOLECULE","CHAIN","FRAGMENT","SYNONYM","EC","ENGINEERED","MUTATION","OTHER_DETAILS"],sB=/\s+/;function aB(i,e,t){let n=`${i}`;return e&&(n+=`:${e}`),t&&(n+=`^${t}`),n}class Af extends vA{constructor(e,t){const n=t||{};super(e,n),this.hex=W(n.hex,!1),this.inferBonds=W(n.inferBonds,"all")}get type(){return"pdb"}_parse(){ot&&He.time("PdbParser._parse "+this.name);let e=!1;const t=this.streamer.peekLines(1)[0],n=t.substr(62,4),r=t.substr(72,4);n===r&&r.trim()&&(e=!0);const s=this.type==="pqr",a=this.type==="pdbqt",o=this.structure,A=this.structureBuilder,c=this.hex;let l=10,u=10;const d=this.firstModelOnly,h=this.asTrajectory,m=this.cAlphaOnly,y=o.frames,g=o.boxes;let E,R,p=!1;const w=o.biomolDict;let v,_,x,C,B,G,I,N,T,M,U,z,L,k,K,V,D,H,oe,Ae,ee,se,le={};const J={},me={},ue=[];let ge,fe;const we={},Fe={},je={};let De,Le,tt,Ie,Xe,et,st;const re={};let X;const Be={helices:[],sheets:[]},We=Be.helices,Se=Be.sheets,ze=o.atomMap,ut=o.atomStore;ut.resize(Math.round(this.streamer.data.length/80)),(s||a)&&ut.addField("partialCharge",1,"float32"),s&&ut.addField("radius",1,"float32");const qe=o.getAtomProxy(),dt=o.getAtomProxy();let yt=0,Ut=0,ye=!0;this.streamer.eachChunkOfLines(function(it){(function(ct,rt,at){for(let Bt=ct;Bt<rt;++Bt)if(C=at[Bt],B=C.substr(0,6),B==="ATOM  "||B==="HETATM"){if(ye&&(h?(p?(E=new Float32Array(3*ut.count),y.push(E)):E=[],R=0):d||(le={}),De=1,Le=De.toString(),tt=!0,ye=!1),d&&Ut>0)continue;let he,Ke,Ne,Ge,Je,Gt=0;if(s){if(Ge=C.split(sB),Gt=Ge.length===10?1:0,z=Ge[2],m&&z!=="CA")continue;he=parseFloat(Ge[6-Gt]),Ke=parseFloat(Ge[7-Gt]),Ne=parseFloat(Ge[8-Gt])}else{if(z=C.substr(12,4).trim(),m&&z!=="CA")continue;he=parseFloat(C.substr(30,8)),Ke=parseFloat(C.substr(38,8)),Ne=parseFloat(C.substr(46,8))}if(h){const en=3*R;if(E[en+0]=he,E[en+1]=Ke,E[en+2]=Ne,R+=1,p)continue}s?(G=parseInt(Ge[1]),Je="",L=C[0]==="H",I=Gt?"":Ge[4],N=parseInt(Ge[5-Gt]),U="",T=Ge[3],K="",M=1):(G=parseInt(C.substr(6,5),l),c&&G===99999&&(l=16),L=C[0]==="H",I=C[21].trim(),N=parseInt(C.substr(22,4),u),c&&N===9999&&(u=16),U=C[26].trim(),T=C.substr(17,4).trim()||"MOL",k=parseFloat(C.substr(60,6)),K=C[16].trim(),M=parseFloat(C.substr(54,6)),e||(a?(Je=C.substr(76,3).trim(),Je in C6&&(Je=C6[Je])):(Je=C.substr(76,2).trim(),I||(I=C.substr(72,4).trim())),V=parseInt((C.substr(79,1)+C.substr(78,1)).trim()))),ut.growIfFull(),ut.atomTypeId[yt]=ze.add(z,Je),ut.x[yt]=he,ut.y[yt]=Ke,ut.z[yt]=Ne,ut.serial[yt]=G,ut.altloc[yt]=K.charCodeAt(0),ut.occupancy[yt]=isNaN(M)?0:M,s?(ut.partialCharge[yt]=parseFloat(Ge[9-Gt]),ut.radius[yt]=parseFloat(Ge[10-Gt])):(ut.bfactor[yt]=isNaN(k)?0:k,a&&(ut.partialCharge[yt]=parseFloat(C.substr(70,6))),isFinite(V)&&(ut.formalCharge||ut.addField("formalCharge",1,"int8"),ut.formalCharge[yt]=V));const on=aB(N,I,U);!L||Fe[on]||qce.includes(T)?tt||Ie===I||(De+=1,Le=De.toString()):Ie===I&&et===T&&(Wm.includes(T)||Xe===N&&st===U)||(De+=1,Le=De.toString(),Xe=N,et=T,st=U),A.addAtom(Ut,I,Le,T,N,L,void 0,U),le[G]=yt,yt+=1,tt=!1,Ie=I}else if(B==="CONECT"){const he=le[parseInt(C.substr(6,5))],Ke=[11,16,21,26],Ne={};if(he===void 0)continue;for(let Ge=0;Ge<4;++Ge){let Je=parseInt(C.substr(Ke[Ge],5));if(!Number.isNaN(Je)&&(Je=le[Je],Je!==void 0))if(he<Je?(qe.index=he,dt.index=Je):(qe.index=Je,dt.index=he),Ne[Je]!==void 0)o.bondStore.bondOrder[Ne[Je]]+=1;else{const Gt=qe.index+"|"+dt.index;me[Gt]===void 0&&(me[Gt]=!0,Ne[Je]=o.bondStore.count,o.bondStore.addBond(qe,dt,1))}}}else if(B==="HELIX "){D=C[19].trim(),H=parseInt(C.substr(21,4)),oe=C[25].trim(),Ae=C[31].trim(),ee=parseInt(C.substr(33,4)),se=C[37].trim();let he=parseInt(C.substr(39,1));he=(sg[he]||sg[0]).charCodeAt(0),We.push([D,H,oe,Ae,ee,se,he])}else if(B==="SHEET ")D=C[21].trim(),H=parseInt(C.substr(22,4)),oe=C[26].trim(),Ae=C[32].trim(),ee=parseInt(C.substr(33,4)),se=C[37].trim(),Se.push([D,H,oe,Ae,ee,se]);else if(B==="HETNAM")we[C.substr(11,3)]=C.substr(15).trim();else if(B==="SEQRES"){const he=C[11].trim();he!==X&&(re[he]=[],X=he),re[he].push(...C.substr(19).trim().split(sB))}else if(B==="MODRES"){const he=C.substr(12,3).trim(),Ke=C[16].trim(),Ne=C[22].trim(),Ge=parseInt(C.substr(18,4).trim()),Je=aB(Ge,Ke,Ne);Fe[Je]={resname:he,chainname:Ke,inscode:Ne,resno:Ge}}else if(B==="COMPND"){const he=C.substr(10,70).trim(),Ke=he.indexOf(":"),Ne=he.substring(0,Ke);let Ge;Yce.includes(Ne)?(fe=Ne,Ge=he.substring(Ke+2)):Ge=he,Ge=Ge.replace(/;$/,""),fe==="MOL_ID"?(ge={chainList:[],name:""},ue.push(ge)):fe==="MOLECULE"?(ge.name&&(ge.name+=" "),ge.name+=Ge):fe==="CHAIN"&&Array.prototype.push.apply(ge.chainList,Ge.split(/\s*,\s*/))}else if(C.startsWith("TER")){const he=o.getChainProxy(o.chainStore.count-1);je[he.chainname]=he.index,De+=1,Le=De.toString(),tt=!0}else if(B==="REMARK"&&C.substr(7,3)==="350"){if(C.substr(11,12)==="BIOMOLECULE:"){let he=C.substr(23).trim();/^(0|[1-9][0-9]*)$/.test(he)&&(he="BU"+he),v=new y0(he),w[he]=v}else if(C.substr(13,5)==="BIOMT"){const he=C.split(/\s+/),Ke=parseInt(C[18])-1;Ke===0&&(x=new xt,_.matrixList.push(x));const Ne=x.elements;Ne[0+Ke]=parseFloat(he[4]),Ne[4+Ke]=parseFloat(he[5]),Ne[8+Ke]=parseFloat(he[6]),Ne[12+Ke]=parseFloat(he[7])}else if(C.substr(11,30)==="APPLY THE FOLLOWING TO CHAINS:"||C.substr(11,30)==="                   AND CHAINS:"){C.substr(11,5)==="APPLY"&&(_=v.addPart());const he=C.substr(41,30).split(",");for(let Ke=0,Ne=he.length;Ke<Ne;++Ke){const Ge=he[Ke].trim();Ge&&_.chainList.push(Ge)}}}else if(B==="HEADER")o.id=C.substr(62,4);else if(B==="TITLE ")o.title+=(o.title?" ":"")+C.substr(10,70).trim();else if(B==="MODEL ")ye=!0;else if(B==="ENDMDL"||C.trim()==="END"){if(ye)continue;h&&!p&&(y.push(new Float32Array(E)),p=!0),Ut+=1,ye=!0}else if(C.substr(0,5)==="MTRIX"){if(C[59]==="1")continue;if(!v||v.name!=="NCS"){const Ge="NCS";v=new y0(Ge),w[Ge]=v,_=v.addPart()}const he=C.split(/\s+/),Ke=parseInt(C[5])-1;Ke===0&&(x=new xt,_.matrixList.push(x));const Ne=x.elements;Ne[0+Ke]=parseFloat(he[2]),Ne[4+Ke]=parseFloat(he[3]),Ne[8+Ke]=parseFloat(he[4]),Ne[12+Ke]=parseFloat(he[5])}else if(C.substr(0,5)==="ORIGX"){J.origx||(J.origx=new xt);const he=C.split(/\s+/),Ke=parseInt(C[5])-1,Ne=J.origx.elements;Ne[0+Ke]=parseFloat(he[1]),Ne[4+Ke]=parseFloat(he[2]),Ne[8+Ke]=parseFloat(he[3]),Ne[12+Ke]=parseFloat(he[4])}else if(C.substr(0,5)==="SCALE"){J.scale||(J.scale=new xt);const he=C.split(/\s+/),Ke=parseInt(C[5])-1,Ne=J.scale.elements;Ne[0+Ke]=parseFloat(he[1]),Ne[4+Ke]=parseFloat(he[2]),Ne[8+Ke]=parseFloat(he[3]),Ne[12+Ke]=parseFloat(he[4])}else if(B==="CRYST1"){const he=parseFloat(C.substr(6,9)),Ke=parseFloat(C.substr(15,9)),Ne=parseFloat(C.substr(24,9)),Ge=parseFloat(C.substr(33,7)),Je=parseFloat(C.substr(40,7)),Gt=parseFloat(C.substr(47,7)),on=C.substr(55,11).trim(),en=new Float32Array(9);en[0]=he,en[4]=Ke,en[8]=Ne,g.push(en),Ut===0&&(J.a=he,J.b=Ke,J.c=Ne,J.alpha=Ge,J.beta=Je,J.gamma=Gt,J.spacegroup=on)}})(0,it.length,it)}),A.finalize();const nt=ue.length;if(nt){o.eachChain(function(at){at.entityIndex=nt}),ue.forEach(function(at,Bt){const he=at.chainList.map(function(Ke){return je[Ke]});o.entityList.push(new ig(o,Bt,at.name,"polymer",he))});let it=ue.length;const ct=o.getResidueProxy(),rt={};o.eachChain(function(at){at.entityIndex===nt&&(ct.index=at.residueOffset,rt[ct.resname]||(rt[ct.resname]=[]),rt[ct.resname].push(at.index))}),Object.keys(rt).forEach(function(at){const Bt=rt[at];let he="non-polymer",Ke=we[at]||at;Wm.includes(at)&&(Ke="water",he="water"),o.entityList.push(new ig(o,it,Ke,he,Bt)),it+=1})}J.a!==void 0?o.unitcell=new rg(J):o.unitcell=void 0,(We.length||Se.length)&&cT(o,Be),o.finalizeAtoms(),e||ny(o),Ym(o,this.inferBonds),o.finalizeBonds(),We.length||Se.length||ty(o),Xm(o),ot&&He.timeEnd("PdbParser._parse "+this.name)}}an.add("pdb",Af),an.add("pdb1",Af),an.add("ent",Af);class Xce{constructor(e){this.structure=e,this.dict={},this.structure=e}add(e,t,n){this.dict[e]={chemCompType:t},n&&(this.dict[e].bonds=n)}addBond(e,t,n,r){const s=this.dict[e];if(!s)return;s.bonds||(s.bonds={atom1:[],atom2:[],bondOrders:[]});const a=s.bonds;a.atom1.push(t),a.atom2.push(n),a.bondOrders.push(r)}getBonds(e,t){var n;const r=(n=this.dict[e])===null||n===void 0?void 0:n.bonds;if(!r)return;const s=this.structure.atomMap,a=new Map(t.map((d,h)=>{var m;return[(m=s.get(d))===null||m===void 0?void 0:m.atomname,h]})),o=[],A=[],c=[];let l,u;for(let d=0;d<r.atom1.length;d++)(l=a.get(r.atom1[d]))!==void 0&&(u=a.get(r.atom2[d]))!==void 0&&(o.push(l),A.push(u),c.push(r.bondOrders[d]));return{atomIndices1:o,atomIndices2:A,bondOrders:c}}}const jce=/^\D{1,2}/,Zce={HELX_RH_AL_P:"h",STRN:"e",HELX_RH_3T_P:"g",HELX_RH_PI_P:"i",HELX_LH_PP_P:"e",TURN_TY1_P:"t",BEND:"s",OTHER:" "},Jce={AROM:1,DELO:2,DIRECTED:0,DOUB:2,PI:0,POLY:0,QUAD:4,SING:1,TRIP:3};function oB(i){switch(i.toLowerCase()){case"?":case"sing":return 1;case"doub":return 2;case"trip":return 3;case"quad":return 4}return 0}class b1 extends vA{get type(){return"cif"}get isBinary(){return!1}_parse(){var e,t,n,r,s,a,o,A,c,l,u,d,h,m,y,g,E,R,p,w,v;return bT(this,void 0,void 0,function*(){He.time("CifParser._parse "+this.name);const _=this.structure,x=this.structureBuilder,C=this.firstModelOnly,B=this.asTrajectory,G=_.frames;let I,N;const T=this.isBinary?rB.parseBinary(this.streamer.data):rB.parseText(this.streamer.compressed?Rf(this.streamer.data):this.streamer.data),M=yield T.run();if(M.isError)throw M;const U=M.result.blocks[0];if("chem_comp"in U.categories&&"chem_comp_atom"in U.categories&&!("struct"in U.categories))(function(z,L,k){const K=L.atomStore,V=L.atomMap;let D,H;const oe=z.chem_comp,Ae=z.chem_comp_atom,ee=z.chem_comp_bond;let se;oe&&((se=oe.getField("name"))&&(L.title=se.str(0)),(se=oe.getField("id"))&&(L.id=se.str(0)));const le={};if(Ae){let J,me,ue,ge;H=Ae.rowCount,K.resize(2*H);const fe=Ae.getField("atom_id"),we=Ae.getField("type_symbol"),Fe=Ae.getField("pdbx_component_comp_id"),je=Ae.getField("pdbx_residue_numbering");[["model_Cartn_x","model_Cartn_y","model_Cartn_z"],["pdbx_model_Cartn_x_ideal","pdbx_model_Cartn_y_ideal","pdbx_model_Cartn_z_ideal"]].forEach(([De,Le,tt],Ie)=>{var Xe;const et=Ae.getField(De),st=Ae.getField(Le),re=Ae.getField(tt),X=Ie*H;for(let Be=0;Be<H;++Be){const We=Be+X;K.growIfFull(),J=fe==null?void 0:fe.str(Be),me=we==null?void 0:we.str(Be),le[J]=Be,K.atomTypeId[We]=V.add(J,me),K.x[We]=et.float(Be),K.y[We]=st.float(Be),K.z[We]=re.float(Be),K.serial[We]=Be,ue=Fe.str(Be),ge=(Xe=je==null?void 0:je.int(Be))!==null&&Xe!==void 0?Xe:1,k.addAtom(Ie,"","",ue,ge,!0)}})}if(Ae&&ee){let J,me,ue;H=ee.rowCount;const ge=Ae.rowCount,fe=L.getAtomProxy(),we=L.getAtomProxy(),Fe=ee.getField("atom_id_1"),je=ee.getField("atom_id_2"),De=ee.getField("value_order");for(D=0;D<H;++D)J=Fe.str(D),me=je.str(D),ue=oB(De.str(D)),fe.index=le[J],we.index=le[me],L.bondStore.growIfFull(),L.bondStore.addBond(fe,we,ue),fe.index+=ge,we.index+=ge,L.bondStore.growIfFull(),L.bondStore.addBond(fe,we,ue)}})(U.categories,_,x),x.finalize(),_.finalizeAtoms(),_.finalizeBonds(),Bc(_);else if("atom_site_type_symbol"in U.categories&&"atom_site_label"in U.categories&&"atom_site_fract_x"in U.categories)(function(z,L,k){var K,V,D=L.atomStore,H=L.atomMap;z.header&&(L.id=z.header,L.name=z.header),L.unitcell=new rg({a:z.getField("cell_length_a").float(0),b:z.getField("cell_length_b").float(0),c:z.getField("cell_length_c").float(0),alpha:z.getField("cell_angle_alpha").float(0),beta:z.getField("cell_angle_beta").float(0),gamma:z.getField("cell_angle_gamma").float(0),spacegroup:z.getField("symmetry_space_group_name_H-M").str(0)});const oe=new ne,Ae=new ne,ee=z.getField("atom_site_type_symbol");if(!ee)return;const se=(K=ee.rowCount)!==null&&K!==void 0?K:0,le=z.getField("atom_site_type_symbol"),J=z.getField("atom_site_fract_x"),me=z.getField("atom_site_fract_y"),ue=z.getField("atom_site_fract_z"),ge=z.getField("atom_site_occupancy"),fe={};for(let Ie=0;Ie<se;++Ie){D.growIfFull();const Xe=le.str(Ie),et=ee.str(Ie);let st=fe[et];if(!st){const re=et.match(jce);fe[et]=st=(V=re==null?void 0:re[0])!==null&&V!==void 0?V:et}D.atomTypeId[Ie]=H.add(Xe,st),oe.set(J.float(Ie),me.float(Ie),ue.float(Ie)),oe.applyMatrix4(L.unitcell.fracToCart),Ae.add(oe),D.x[Ie]=oe.x,D.y[Ie]=oe.y,D.z[Ie]=oe.z,ge&&(D.occupancy[Ie]=ge.float(Ie)),D.serial[Ie]=Ie,k.addAtom(0,"","","HET",1,!0)}Ae.divideScalar(se),L.center=Ae,Xm(L);const we=new ne,Fe=new ne,je=L.biomolDict.SUPERCELL.partList[0].matrixList;let De=se;function Le(Ie){return H.get(D.atomTypeId[Ie]).covalent}const tt=new xt;for(let Ie=0;Ie<se;++Ie){const Xe=Le(Ie);oe.set(D.x[Ie],D.y[Ie],D.z[Ie]),je.forEach(function(et){if(!tt.equals(et)){we.copy(oe),we.applyMatrix4(et);for(let st=0;st<se;++st){Fe.set(D.x[st],D.y[st],D.z[st]);const re=we.distanceToSquared(Fe),X=Le(st)+Xe,Be=X+.3,We=X-.5;if(re<Be*Be&&re>We*We)return D.growIfFull(),D.atomTypeId[De]=D.atomTypeId[Ie],D.x[De]=we.x,D.y[De]=we.y,D.z[De]=we.z,D.occupancy[De]=D.occupancy[Ie],D.serial[De]=De,D.altloc[De]="A".charCodeAt(0),k.addAtom(0,"","","HET",1,!0),void(De+=1)}}})}})(U,_,x),x.finalize(),_.finalizeAtoms(),Ym(_),_.finalizeBonds();else{const z={},L={},k=_.atomMap,K=_.atomStore,V=U.categories.atom_site;let D=V.rowCount;const H=V.getField("pdbx_PDB_model_num");if(!((e=H==null?void 0:H.areValuesEqual(0,D-1))===null||e===void 0||e)&&(B||C)){const Ie=H.int(0);for(let Xe=0;Xe<D;Xe++)if(H.int(Xe)>Ie){D=Xe;break}}_.chemCompMap=new Xce(_);const oe=U.categories.chem_comp;let Ae=oe.getField("id");const ee=oe.getField("type");for(let Ie=0;Ie<oe.rowCount;Ie++)_.chemCompMap.add(Ae.str(Ie),ee.str(Ie).toUpperCase());if(U.categoryNames.includes("chem_comp_bond")){const Ie=U.categories.chem_comp_bond;Ae=Ie.getField("comp_id");const Xe=Ie.getField("atom_id_1"),et=Ie.getField("atom_id_2"),st=Ie.getField("value_order");for(let re=0;re<Ie.rowCount;re++){const X=Jce[st.str(re)];X&&_.chemCompMap.addBond(Ae.str(re),Xe.str(re),et.str(re),X)}}const se=(Ie,Xe,et)=>{const st=Ie.getField(Xe);return st?st.toFloatArray({array:Float32Array,start:0,end:et}):new Float32Array(et)};K.resize(D),K.x=se(V,"Cartn_x",D),K.y=se(V,"Cartn_y",D),K.z=se(V,"Cartn_z",D),K.serial=V.getField("id").toIntArray({start:0,end:D}),K.bfactor=se(V,"B_iso_or_equiv",D),K.occupancy=se(V,"occupancy",D);const le=V.getField("label_alt_id");le!=null&&le.isDefined&&(K.altloc=Uint8Array.from(le.toStringArray(),Ie=>Ie.charCodeAt(0)));const J=V.getField("label_atom_id"),me=V.getField("type_symbol");Ae=V.getField("label_comp_id");const ue=(t=V.getField("auth_seq_id"))!==null&&t!==void 0?t:V.getField("label_seq_id"),ge=V.getField("pdbx_PDB_ins_code"),fe=V.getField("auth_asym_id"),we=V.getField("label_asym_id"),Fe=V.getField("group_PDB"),je=V.getField("label_entity_id");for(let Ie=0;Ie<D;Ie++){const Xe=(n=H==null?void 0:H.int(Ie))!==null&&n!==void 0?n:1,et=(r=fe==null?void 0:fe.str(Ie))!==null&&r!==void 0?r:"",st=(s=we==null?void 0:we.str(Ie))!==null&&s!==void 0?s:"",re=(a=Ae==null?void 0:Ae.str(Ie))!==null&&a!==void 0?a:"",X=(o=ue==null?void 0:ue.int(Ie))!==null&&o!==void 0?o:0,Be=(Fe==null?void 0:Fe.str(Ie)[0])==="H",We=(A=ge==null?void 0:ge.str(Ie))!==null&&A!==void 0?A:"",Se=(c=je==null?void 0:je.int(Ie))!==null&&c!==void 0?c:1;K.atomTypeId[Ie]=k.add((J==null?void 0:J.str(Ie))||"",me==null?void 0:me.str(Ie)),x.addAtom(Xe-1,et,st,re,X,Be,void 0,We),z[st]=et,L[Se]||(L[Se]=new Set),L[Se].add(_.chainStore.count-1)}if(B){const Ie=V.rowCount/D|0,Xe=V.getField("Cartn_x"),et=V.getField("Cartn_y"),st=V.getField("Cartn_z");for(let re=0;re<Ie;re++){I=new Float32Array(3*D);const X=re*D,Be=X+D;N=0;for(let We=X;We<Be;We++)I[N+0]=Xe.float(We),I[N+1]=et.float(We),I[N+2]=st.float(We),N+=3;G.push(I)}}const De=function(Ie,Xe,et){var st,re,X,Be,We,Se;const ze=[],ut=[];let qe,dt,yt,Ut;const ye=Ie.struct_conf;if(ye!=null&&ye.fieldNames.includes("pdbx_PDB_helix_class")){const it=ye.getField("pdbx_beg_PDB_ins_code"),ct=ye.getField("pdbx_end_PDB_ins_code"),rt=ye.getField("pdbx_PDB_helix_class"),at=ye.getField("beg_label_asym_id"),Bt=ye.getField("end_label_asym_id"),he=ye.getField("beg_auth_seq_id"),Ke=ye.getField("end_auth_seq_id");for(qe=0,dt=ye.rowCount;qe<dt;++qe){const Ne=rt==null?void 0:rt.int(qe);Number.isFinite(Ne)&&(yt=(st=it==null?void 0:it.str(qe))!==null&&st!==void 0?st:"",Ut=(re=ct==null?void 0:ct.str(qe))!==null&&re!==void 0?re:"",ze.push([et[at.str(qe)],he.int(qe),yt,et[Bt.str(qe)],Ke.int(qe),Ut,(sg[Ne]||sg[0]).charCodeAt(0)]))}}else if(ye!=null&&ye.fieldNames.includes("conf_type_id")){const it=ye.getField("conf_type_id"),ct=ye.getField("pdbx_beg_PDB_ins_code"),rt=ye.getField("pdbx_end_PDB_ins_code"),at=ye.getField("beg_label_asym_id"),Bt=ye.getField("end_label_asym_id"),he=ye.getField("beg_auth_seq_id"),Ke=ye.getField("end_auth_seq_id");let Ne;for(qe=0,dt=ye.rowCount;qe<dt;++qe){const Ge=it.str(qe);(Ne=Zce[Ge])&&(yt=(X=ct==null?void 0:ct.str(qe))!==null&&X!==void 0?X:"",Ut=(Be=rt==null?void 0:rt.str(qe))!==null&&Be!==void 0?Be:"",Ne==="h"||Ne==="g"||Ne==="i"?ze.push([et[at.str(qe)],he.int(qe),yt,et[Bt.str(qe)],Ke.int(qe),Ut,Ne.charCodeAt(0)]):Ne==="e"&&ut.push([et[at.str(qe)],he.int(qe),yt,et[Bt.str(qe)],Ke.int(qe),Ut]))}}const nt=Ie.struct_sheet_range;if(nt&&ut.length===0){const it=nt.getField("pdbx_beg_PDB_ins_code"),ct=nt.getField("pdbx_end_PDB_ins_code"),rt=nt.getField("beg_label_asym_id"),at=nt.getField("end_label_asym_id"),Bt=nt.getField("beg_auth_seq_id"),he=nt.getField("end_auth_seq_id");for(qe=0,dt=nt.rowCount;qe<dt;++qe)yt=(We=it==null?void 0:it.str(qe))!==null&&We!==void 0?We:"",Ut=(Se=ct==null?void 0:ct.str(qe))!==null&&Se!==void 0?Se:"",ut.push([et[rt.str(qe)],Bt.int(qe),yt,et[at.str(qe)],he.int(qe),Ut])}return!(!ye&&!nt)&&{helices:ze,sheets:ut}}(U.categories,0,z);let Le,tt;if(function(Ie,Xe,et){const st={},re=Xe.biomolDict;if(Ie.pdbx_struct_oper_list){const Se=Ie.pdbx_struct_oper_list,ze=Se.getField("id"),ut=Se.getField("matrix[1][1]"),qe=Se.getField("matrix[1][2]"),dt=Se.getField("matrix[1][3]"),yt=Se.getField("matrix[2][1]"),Ut=Se.getField("matrix[2][2]"),ye=Se.getField("matrix[2][3]"),nt=Se.getField("matrix[3][1]"),it=Se.getField("matrix[3][2]"),ct=Se.getField("matrix[3][3]"),rt=Se.getField("vector[1]"),at=Se.getField("vector[2]"),Bt=Se.getField("vector[3]");for(let he=0;he<Se.rowCount;he++){const Ke=new xt,Ne=Ke.elements;Ne[0]=ut.float(he),Ne[1]=qe.float(he),Ne[2]=dt.float(he),Ne[4]=yt.float(he),Ne[5]=Ut.float(he),Ne[6]=ye.float(he),Ne[8]=nt.float(he),Ne[9]=it.float(he),Ne[10]=ct.float(he),Ne[3]=rt.float(he),Ne[7]=at.float(he),Ne[11]=Bt.float(he),Ke.transpose(),st[ze.str(he)]=Ke}}if(Ie.pdbx_struct_assembly_gen){const Se=Ie.pdbx_struct_assembly_gen,ze=function(yt){const Ut={};return yt.replace(/[()']/g,"").split(",").forEach(function(ye){if(ye.includes("-"))for(var nt=ye.split("-"),it=parseInt(nt[0]),ct=parseInt(nt[1]);it<=ct;++it)Ut[it]=st[it];else Ut[ye]=st[ye]}),Ut},ut=Se.getField("assembly_id"),qe=Se.getField("oper_expression"),dt=Se.getField("asym_id_list");for(let yt=0;yt<Se.rowCount;yt++){const Ut=ut.int(yt);let ye={},nt=qe.str(yt).replace(/['"]\(|['"]/g,"");if(nt.includes(")(")||nt.indexOf("(")>0){const[at,Bt]=nt.split("(").filter(Ne=>!!Ne),he=ze(at),Ke=ze(Bt);Object.keys(he).forEach(function(Ne){Object.keys(Ke).forEach(function(Ge){const Je=new xt;Je.multiplyMatrices(he[Ne],Ke[Ge]),ye[Ne+"x"+Ge]=Je})})}else ye=ze(nt);const it=[];for(let at in ye)it.push(ye[at]);let ct=""+Ut;/^(0|[1-9][0-9]*)$/.test(ct)&&(ct="BU"+ct);const rt=dt.str(yt).split(",").map(at=>et[at]);re[ct]===void 0&&(re[ct]=new y0(ct)),re[ct].addPart(it,rt)}}if(Ie.struct_ncs_oper){const Se=Ie.struct_ncs_oper,ze="NCS";re[ze]=new y0(ze);const ut=re[ze].addPart(),qe=Se.getField("code"),dt=Se.getField("matrix[1][1]"),yt=Se.getField("matrix[1][2]"),Ut=Se.getField("matrix[1][3]"),ye=Se.getField("matrix[2][1]"),nt=Se.getField("matrix[2][2]"),it=Se.getField("matrix[2][3]"),ct=Se.getField("matrix[3][1]"),rt=Se.getField("matrix[3][2]"),at=Se.getField("matrix[3][3]"),Bt=Se.getField("vector[1]"),he=Se.getField("vector[2]"),Ke=Se.getField("vector[3]");for(let Ne=0;Ne<Se.rowCount;Ne++){if(qe.str(Ne)==="given")return;const Ge=new xt,Je=Ge.elements;Je[0]=dt.float(Ne),Je[1]=yt.float(Ne),Je[2]=Ut.float(Ne),Je[4]=ye.float(Ne),Je[5]=nt.float(Ne),Je[6]=it.float(Ne),Je[8]=ct.float(Ne),Je[9]=rt.float(Ne),Je[10]=at.float(Ne),Je[3]=Bt.float(Ne),Je[7]=he.float(Ne),Je[11]=Ke.float(Ne),Ge.transpose(),ut.matrixList.push(Ge)}ut.matrixList.length===0&&delete re[ze]}const X={};if(Ie.cell){const Se=Ie.cell,ze=Se.getField("length_a").float(0),ut=Se.getField("length_b").float(0),qe=Se.getField("length_c").float(0),dt=new Float32Array(9);dt[0]=ze,dt[4]=ut,dt[8]=qe,Xe.boxes.push(dt),X.a=ze,X.b=ut,X.c=qe,X.alpha=Se.getField("angle_alpha").float(0),X.beta=Se.getField("angle_beta").float(0),X.gamma=Se.getField("angle_gamma").float(0)}Ie.symmetry&&(X.spacegroup=Ie.symmetry.getField("space_group_name_H-M").str(0));const Be=new xt;if(Ie.database_PDB_matrix){const Se=Ie.database_PDB_matrix,ze=Be.elements,ut=Se.getField("origx[1][1]"),qe=Se.getField("origx[1][2]"),dt=Se.getField("origx[1][3]"),yt=Se.getField("origx[2][1]"),Ut=Se.getField("origx[2][2]"),ye=Se.getField("origx[2][3]"),nt=Se.getField("origx[3][1]"),it=Se.getField("origx[3][2]"),ct=Se.getField("origx[3][3]"),rt=Se.getField("origx_vector[1]"),at=Se.getField("origx_vector[2]"),Bt=Se.getField("origx_vector[3]");ze[0]=ut.float(0),ze[1]=qe.float(0),ze[2]=dt.float(0),ze[4]=yt.float(0),ze[5]=Ut.float(0),ze[6]=ye.float(0),ze[8]=nt.float(0),ze[9]=it.float(0),ze[10]=ct.float(0),ze[3]=rt.float(0),ze[7]=at.float(0),ze[11]=Bt.float(0),Be.transpose(),X.origx=Be}const We=new xt;if(Ie.atom_sites){const Se=Ie.atom_sites,ze=We.elements,ut=Se.getField("fract_transf_matrix[1][1]"),qe=Se.getField("fract_transf_matrix[1][2]"),dt=Se.getField("fract_transf_matrix[1][3]"),yt=Se.getField("fract_transf_matrix[2][1]"),Ut=Se.getField("fract_transf_matrix[2][2]"),ye=Se.getField("fract_transf_matrix[2][3]"),nt=Se.getField("fract_transf_matrix[3][1]"),it=Se.getField("fract_transf_matrix[3][2]"),ct=Se.getField("fract_transf_matrix[3][3]"),rt=Se.getField("fract_transf_vector[1]"),at=Se.getField("fract_transf_vector[2]"),Bt=Se.getField("fract_transf_vector[3]");ze[0]=ut.float(0),ze[1]=qe.float(0),ze[2]=dt.float(0),ze[4]=yt.float(0),ze[5]=Ut.float(0),ze[6]=ye.float(0),ze[8]=nt.float(0),ze[9]=it.float(0),ze[10]=ct.float(0),ze[3]=rt.float(0),ze[7]=at.float(0),ze[11]=Bt.float(0),We.transpose(),X.scale=We}X.a!==void 0?Xe.unitcell=new rg(X):Xe.unitcell=void 0}(U.categories,_,z),function(Ie,Xe,et){const st=Ie.struct_conn;if(st){const Be=Xe.getAtomProxy(),We=Xe.getAtomProxy(),Se={},ze=st.getField("conn_type_id"),ut=st.getField("ptnr1_symmetry"),qe=st.getField("pdbx_ptnr1_PDB_ins_code"),dt=st.getField("pdbx_ptnr1_label_alt_id"),yt=st.getField("ptnr1_auth_seq_id"),Ut=st.getField("ptnr1_label_asym_id"),ye=st.getField("ptnr1_label_atom_id"),nt=st.getField("ptnr2_symmetry"),it=st.getField("pdbx_ptnr2_PDB_ins_code"),ct=st.getField("pdbx_ptnr2_label_alt_id"),rt=st.getField("ptnr2_auth_seq_id"),at=st.getField("ptnr2_label_asym_id"),Bt=st.getField("ptnr2_label_atom_id"),he=st.getField("pdbx_value_order");for(let Ke=0,Ne=st.rowCount;Ke<Ne;++Ke){const Ge=ze.str(Ke);if(Ge==="hydrog"||Ge==="mismat"||Ge==="saltbr"||ut.str(Ke)!=="1_555"||nt.str(Ke)!=="1_555")continue;const Je=qe.str(Ke),Gt=dt.str(Ke),on=yt.str(Ke)+(Je?"^"+Je:"")+":"+et[Ut.str(Ke)]+"."+ye.str(Ke)+(Gt?"%"+Gt:"");let en=Se[on];if(!en){const de=new ui(on);if(de.selection.error){ot&&He.warn("invalid selection for connection",on);continue}en=Xe.getAtomIndices(de),Se[on]=en}const Q=it.str(Ke),Y=ct.str(Ke),Z=rt.str(Ke)+(Q?"^"+Q:"")+":"+et[at.str(Ke)]+"."+Bt.str(Ke)+(Y?"%"+Y:"");let ce=Se[Z];if(!ce){const de=new ui(Z);if(de.selection.error){ot&&He.warn("invalid selection for connection",Z);continue}ce=Xe.getAtomIndices(de),Se[Z]=ce}var re=en.length,X=ce.length;if(re>X&&([re,X]=[X,re],[en,ce]=[ce,en]),re!==0&&X!==0)for(let de=0;de<X;++de)Be.index=en[de%re],We.index=ce[de],Be&&We?Xe.bondStore.addBond(Be,We,oB(he.str(Ke))):He.log("atoms for connection not found");else ot&&He.warn("no atoms found for",on,Z)}}}(U.categories,_,z),function(Ie,Xe,et){var st;if(Ie.entity){const re=Ie.entity,X=re.getField("id"),Be=re.getField("pdbx_description"),We=re.getField("type"),Se=re.rowCount;for(let ze=0;ze<Se;++ze){const ut=Array.from((st=et[X.int(ze)])!==null&&st!==void 0?st:[]);Xe.entityList[ze]=new ig(Xe,ze,Be==null?void 0:Be.str(ze),We.str(ze),ut)}}}(U.categories,_,L),(Le=(l=U.categories.struct)===null||l===void 0?void 0:l.getField("title"))&&(tt=Le.str(0))&&(_.title=tt),(Le=(u=U.categories.entry)===null||u===void 0?void 0:u.getField("id"))&&(tt=Le.str(0))&&(_.id=tt),U.categories.pdbx_audit_revision_history){if(Le=(d=U.categories.pdbx_audit_revision_history)===null||d===void 0?void 0:d.getField("revision_date")){for(let Ie=0;Ie<Le.rowCount;Ie++)if(tt=Le.str(Ie)){_.header.releaseDate=tt;break}}if(Le=(h=U.categories.pdbx_database_status)===null||h===void 0?void 0:h.getField("recvd_initial_deposition_date")){for(let Ie=0;Ie<Le.rowCount;Ie++)if(tt=Le.str(Ie)){_.header.depositionDate=tt;break}}}else if(U.categories.database_PDB_rev){if(Le=(m=U.categories.database_PDB_rev)===null||m===void 0?void 0:m.getField("date")){for(let Ie=0;Ie<Le.rowCount;Ie++)if(tt=Le.str(Ie)){_.header.releaseDate=tt;break}}if(Le=(y=U.categories.database_PDB_rev)===null||y===void 0?void 0:y.getField("date_original")){for(let Ie=0;Ie<Le.rowCount;Ie++)if(tt=Le.str(Ie)){_.header.depositionDate=tt;break}}}(Le=(E=(g=U.categories.reflns)===null||g===void 0?void 0:g.getField("d_resolution_high"))!==null&&E!==void 0?E:(R=U.categories.refine)===null||R===void 0?void 0:R.getField("ls_d_res_high"))&&Le.valueKind(0)===0&&(_.header.resolution=Le.float(0)),(Le=(p=U.categories.refine)===null||p===void 0?void 0:p.getField("ls_R_factor_R_free"))&&Le.valueKind(0)===0&&(_.header.rFree=Le.float(0)),(Le=(w=U.categories.refine)===null||w===void 0?void 0:w.getField("ls_R_factor_R_work"))&&Le.valueKind(0)===0&&(_.header.rFree=Le.float(0)),(Le=(v=U.categories.exptl)===null||v===void 0?void 0:v.getField("method"))&&(_.header.experimentalMethods=Le.toStringArray().slice()),x.finalize(),_.finalizeAtoms(),Ym(_),_.finalizeBonds(),De?cT(_,De):ty(_),Xm(_),_.extraData.cif=U}ot&&He.timeEnd("CifParser._parse "+this.name)})}}an.add("bcif",class extends b1{get type(){return"bcif"}get isBinary(){return!0}}),an.add("cif",b1),an.add("mcif",b1),an.add("mmcif",b1);an.add("gro",class extends vA{get type(){return"gro"}_parse(){ot&&He.time("GroParser._parse "+this.name);var i,e,t=this.structure,n=this.structureBuilder,r=this.firstModelOnly,s=this.asTrajectory,a=this.cAlphaOnly,o=t.frames,A=t.boxes,c=this.streamer.peekLines(3);t.title=c[0].trim();var l,u,d,h,m=5+(c[2].length-c[2].lastIndexOf(".")-1),y=20+m,g=20+2*m,E=parseInt(c[1]),R=E+3,p=t.atomMap,w=t.atomStore;w.resize(E);var v=0,_=0,x=0;this.streamer.eachChunkOfLines(function(C){(function(B,G,I){for(var N=B;N<G;++N){var T=++x-1,M=I[N];if(M){if(T%R==0)s&&(i=new Float32Array(3*E),o.push(i),e=0);else if(T%R!=1)if(T%R==R-1){var U=M.trim().split(/\s+/),z=new Float32Array(9);if(z[0]=10*parseFloat(U[0]),z[4]=10*parseFloat(U[1]),z[8]=10*parseFloat(U[2]),A.push(z),r)return!0;_+=1}else{if(l=M.substr(10,5).trim(),a&&l!=="CA")continue;var L=10*parseFloat(M.substr(20,m)),k=10*parseFloat(M.substr(y,m)),K=10*parseFloat(M.substr(g,m));if(s){var V=3*e;if(i[V+0]=L,i[V+1]=k,i[V+2]=K,e+=1,T>R)continue}u=M.substr(5,5).trim(),d=parseInt(M.substr(0,5)),h=parseInt(M.substr(15,5)),w.growIfFull(),w.atomTypeId[v]=p.add(l),w.x[v]=L,w.y[v]=k,w.z[v]=K,w.serial[v]=h,n.addAtom(_,"","",u,d,!1,"l"),v+=1}}}})(0,C.length,C)}),n.finalize(),t.finalizeAtoms(),ny(t),Ym(t),t.finalizeBonds(),ty(t),ot&&He.timeEnd("GroParser._parse "+this.name)}});var ele=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"].concat(["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"]);function th(i,e,t){return e?new i(e.buffer,e.byteOffset,e.byteLength/(t||1)):void 0}function zE(i){return th(DataView,i)}function Lw(i){return th(Int8Array,i)}function ag(i){return th(Int32Array,i,4)}function pd(i,e){var t=i.length/2;e||(e=new Int16Array(t));for(var n=0,r=0;n<t;++n,r+=2)e[n]=i[r]<<8^i[r+1];return e}function $a(i,e){var t=i.length/4;e||(e=new Int32Array(t));for(var n=0,r=0;n<t;++n,r+=4)e[n]=i[r]<<24^i[r+1]<<16^i[r+2]<<8^i[r+3];return e}function og(i,e,t){var n=i.length,r=1/e;t||(t=new Float32Array(n));for(var s=0;s<n;++s)t[s]=i[s]*r;return t}function E1(i,e){var t,n;if(!e){var r=0;for(t=0,n=i.length;t<n;t+=2)r+=i[t+1];e=new i.constructor(r)}var s=0;for(t=0,n=i.length;t<n;t+=2)for(var a=i[t],o=i[t+1],A=0;A<o;++A)e[s]=a,++s;return e}function QT(i,e){var t=i.length;e||(e=new i.constructor(t)),t&&(e[0]=i[0]);for(var n=1;n<t;++n)e[n]=i[n]+e[n-1];return e}function Ag(i,e){var t,n,r=i instanceof Int8Array?127:32767,s=-r-1,a=i.length;if(!e){var o=0;for(t=0;t<a;++t)i[t]<r&&i[t]>s&&++o;e=new Int32Array(o)}for(t=0,n=0;t<a;){for(var A=0;i[t]===r||i[t]===s;)A+=i[t],++t;A+=i[t],++t,e[n]=A,++n}return e}function AB(i,e,t){return og(Ag(i,ag(t)),e,t)}function tle(i,e,t){var n=Ag(i,ag(t));return function(r,s,a){return og(QT(r,ag(a)),s,a)}(n,e,th(Float32Array,n,4))}function HT(i){var e=0,t=new DataView(i.buffer);function n(A){for(var c={},l=0;l<A;l++)c[o()]=o();return c}function r(A){var c=i.subarray(e,e+A);return e+=A,c}function s(A){var c=i.subarray(e,e+A);e+=A;var l=65535;if(A>l){for(var u=[],d=0;d<c.length;d+=l)u.push(String.fromCharCode.apply(null,c.subarray(d,d+l)));return u.join("")}return String.fromCharCode.apply(null,c)}function a(A){for(var c=new Array(A),l=0;l<A;l++)c[l]=o();return c}function o(){var A,c,l=i[e];if(!(128&l))return e++,l;if((240&l)==128)return e++,n(c=15&l);if((240&l)==144)return e++,a(c=15&l);if((224&l)==160)return e++,s(c=31&l);if(!(224&~l))return A=t.getInt8(e),e++,A;switch(l){case 192:return e++,null;case 194:return e++,!1;case 195:return e++,!0;case 196:return c=t.getUint8(e+1),e+=2,r(c);case 197:return c=t.getUint16(e+1),e+=3,r(c);case 198:return c=t.getUint32(e+1),e+=5,r(c);case 202:return A=t.getFloat32(e+1),e+=5,A;case 203:return A=t.getFloat64(e+1),e+=9,A;case 204:return A=i[e+1],e+=2,A;case 205:return A=t.getUint16(e+1),e+=3,A;case 206:return A=t.getUint32(e+1),e+=5,A;case 208:return A=t.getInt8(e+1),e+=2,A;case 209:return A=t.getInt16(e+1),e+=3,A;case 210:return A=t.getInt32(e+1),e+=5,A;case 217:return c=t.getUint8(e+1),e+=2,s(c);case 218:return c=t.getUint16(e+1),e+=3,s(c);case 219:return c=t.getUint32(e+1),e+=5,s(c);case 220:return c=t.getUint16(e+1),e+=3,a(c);case 221:return c=t.getUint32(e+1),e+=5,a(c);case 222:return c=t.getUint16(e+1),e+=3,n(c);case 223:return c=t.getUint32(e+1),e+=5,n(c)}throw new Error("Unknown type 0x"+l.toString(16))}return o()}function nle(i,e,t,n){switch(i){case 1:return function(o,A){var c=o.length;A||(A=new Float32Array(c/4));for(var l=zE(A),u=zE(o),d=0,h=0,m=c/4;d<m;++d,h+=4)l.setFloat32(h,u.getFloat32(h),!0);return A}(e);case 2:return Lw(e);case 3:return pd(e);case 4:return $a(e);case 5:return th(Uint8Array,e);case 6:return E1($a(e),new Uint8Array(t));case 7:return E1($a(e));case 8:return function(o,A){return QT(E1(o),A)}($a(e));case 9:return r=$a(e),s=$a(n)[0],og(E1(r,ag(a)),s,a);case 10:return tle(pd(e),$a(n)[0]);case 11:return og(pd(e),$a(n)[0]);case 12:return AB(pd(e),$a(n)[0]);case 13:return AB(Lw(e),$a(n)[0]);case 14:return Ag(pd(e));case 15:return Ag(Lw(e))}var r,s,a}function ile(i,e){var t=(e=e||{}).ignoreFields,n={};return ele.forEach(function(r){var s,a,o,A,c,l=!!t&&t.indexOf(r)!==-1,u=i[r];l||u===void 0||(u instanceof Uint8Array?n[r]=nle.apply(null,(a=zE(s=u),o=a.getInt32(0),A=a.getInt32(4),c=s.subarray(8,12),[o,s=s.subarray(12),A,c])):n[r]=u)}),n}const rle={0:"i".charCodeAt(0),1:"s".charCodeAt(0),2:"h".charCodeAt(0),3:"e".charCodeAt(0),4:"g".charCodeAt(0),5:"b".charCodeAt(0),6:"t".charCodeAt(0),7:"l".charCodeAt(0),"-1":"".charCodeAt(0)};an.add("mmtf",class extends vA{get type(){return"mmtf"}get isBinary(){return!0}_parse(){let i,e,t,n,r;ot&&He.time("MmtfParser._parse "+this.name);const s=this.structure,a=ile(HT(this.streamer.data));let o,A,c,l,u,d;if(["depositionDate","releaseDate","resolution","rFree","rWork","experimentalMethods"].forEach(function(k){a[k]!==void 0&&(s.header[k]=a[k])}),s.id=a.structureId,s.title=a.title,s.atomStore.addField("formalCharge",1,"int8"),this.firstModelOnly||this.asTrajectory){for(u=1,l=a.chainsPerModel[0],c=0,i=0,e=l;i<e;++i)c+=a.groupsPerChain[i];for(A=0,i=0,e=c;i<e;++i)r=a.groupList[a.groupTypeList[i]],A+=r.atomNameList.length;o=a.numBonds,d=[l]}else o=a.numBonds,A=a.numAtoms,c=a.numGroups,l=a.numChains,u=a.numModels,d=a.chainsPerModel;if(o+=c,this.asTrajectory)for(i=0,e=a.numModels;i<e;++i){const k=new Float32Array(3*A),K=A*i;for(t=0;t<A;++t){const V=3*t,D=t+K;k[V]=a.xCoordList[D],k[V+1]=a.yCoordList[D],k[V+2]=a.zCoordList[D]}s.frames.push(k)}const h=new Uint32Array(o),m=new Uint32Array(o),y=new Uint8Array(o),g=new Uint32Array(A),E=new Int8Array(A),R=new Uint32Array(c),p=new Uint32Array(c),w=new Uint32Array(c),v=new Uint16Array(l),_=new Uint32Array(l),x=new Uint32Array(l),C=new Uint32Array(u),B=new Uint32Array(u);let G=0;for(i=0,e=u;i<e;++i){const k=d[i];for(C[i]=G,B[i]=k,t=0;t<k;++t)v[t+G]=i;G+=k}const I=a.groupsPerChain;let N=0;for(i=0,e=l;i<e;++i){const k=I[i];for(_[i]=N,x[i]=k,t=0;t<k;++t)R[t+N]=i;N+=k}let T=0,M=0;for(i=0,e=c;i<e;++i){r=a.groupList[a.groupTypeList[i]];const k=r.atomNameList.length,K=r.formalChargeList,V=r.bondAtomList,D=r.bondOrderList;for(t=0,n=D.length;t<n;++t)h[M]=T+V[2*t],m[M]=T+V[2*t+1],y[M]=D[t],M+=1;for(p[i]=T,w[i]=k,t=0;t<k;++t)g[T]=i,E[T]=K[t],T+=1}const U=a.bondAtomList;if(U)for(a.bondOrderList&&y.set(a.bondOrderList,M),i=0,e=U.length;i<e;i+=2){const k=U[i],K=U[i+1];k<A&&K<A&&(h[M]=k,m[M]=K,M+=1)}s.bondStore.length=y.length,s.bondStore.count=M,s.bondStore.atomIndex1=h,s.bondStore.atomIndex2=m,s.bondStore.bondOrder=y,s.atomStore.length=A,s.atomStore.count=A,s.atomStore.residueIndex=g,s.atomStore.atomTypeId=new Uint16Array(A),s.atomStore.x=a.xCoordList.subarray(0,A),s.atomStore.y=a.yCoordList.subarray(0,A),s.atomStore.z=a.zCoordList.subarray(0,A),s.atomStore.serial=a.atomIdList.subarray(0,A),s.atomStore.bfactor=a.bFactorList.subarray(0,A),s.atomStore.altloc=a.altLocList.subarray(0,A),s.atomStore.occupancy=a.occupancyList.subarray(0,A),s.atomStore.formalCharge=E,s.residueStore.length=c,s.residueStore.count=c,s.residueStore.chainIndex=R,s.residueStore.residueTypeId=a.groupTypeList,s.residueStore.atomOffset=p,s.residueStore.atomCount=w,s.residueStore.resno=a.groupIdList.subarray(0,c),s.residueStore.sstruc=a.secStructList.subarray(0,c),s.residueStore.inscode=a.insCodeList.subarray(0,c),s.chainStore.length=l,s.chainStore.count=l,s.chainStore.entityIndex=new Uint16Array(l),s.chainStore.modelIndex=v,s.chainStore.residueOffset=_,s.chainStore.residueCount=x,s.chainStore.chainname=a.chainNameList.subarray(0,4*l),s.chainStore.chainid=a.chainIdList.subarray(0,4*l),s.modelStore.length=u,s.modelStore.count=u,s.modelStore.chainOffset=C,s.modelStore.chainCount=B;let z={};for(i=0,e=a.groupList.length;i<e;++i){const k=a.groupList[i],K=[];for(t=0,n=k.atomNameList.length;t<n;++t){const se=k.elementList[t].toUpperCase(),le=k.atomNameList[t];K.push(s.atomMap.add(le,se))}const V=k.chemCompType.toUpperCase(),D=vae.includes(V),H=k.bondOrderList.length,oe=new Array(H),Ae=new Array(H);for(t=0;t<H;++t)oe[t]=k.bondAtomList[2*t],Ae[t]=k.bondAtomList[2*t+1];const ee={atomIndices1:oe,atomIndices2:Ae,bondOrders:k.bondOrderList};z[i]=s.residueMap.add(k.groupName,K,D,V,ee)}for(i=0,e=c;i<e;++i)s.residueStore.residueTypeId[i]=z[s.residueStore.residueTypeId[i]];for(i=0,e=s.atomStore.count;i<e;++i){const k=s.atomStore.residueIndex[i],K=s.residueMap.list[s.residueStore.residueTypeId[k]],V=s.residueStore.atomOffset[k];s.atomStore.atomTypeId[i]=K.atomTypeIdList[i-V]}if(a.secStructList){const k=a.secStructList.length;for(i=0,e=s.residueStore.count;i<e;++i){const K=rle[s.residueStore.sstruc[i%k]];K!==void 0&&(s.residueStore.sstruc[i]=K)}}if(a.entityList&&a.entityList.forEach(function(k,K){s.entityList[K]=new ig(s,K,k.description,k.type,k.chainIndexList)}),a.bioAssemblyList&&a.bioAssemblyList.forEach(function(k,K){const V=K+1,D=new y0(""+V);s.biomolDict["BU"+V]=D;let H={};k.transformList.forEach(function(oe){const Ae=new xt().fromArray(oe.matrix).transpose(),ee=oe.chainIndexList.map(function(le){let J="";for(let me=0;me<4;++me){const ue=a.chainNameList[4*le+me];if(!ue)break;J+=String.fromCharCode(ue)}return J}),se=H[ee.toString()];se?se.matrixList.push(Ae):H[ee.toString()]=D.addPart([Ae],ee)})}),a.ncsOperatorList){const k="NCS",K=new y0(k),V=K.addPart();a.ncsOperatorList.forEach(function(D){const H=new xt().fromArray(D).transpose();V.matrixList.push(H)}),V.matrixList.length>0&&(s.biomolDict[k]=K)}const L=a.unitCell;L&&Array.isArray(L)&&L[0]?s.unitcell=new rg({a:L[0],b:L[1],c:L[2],alpha:L[3],beta:L[4],gamma:L[5],spacegroup:a.spaceGroup}):s.unitcell=void 0,Mu(s,!0),Nu(s,!0),s.finalizeAtoms(),s.finalizeBonds(),Xm(s),ot&&He.timeEnd("MmtfParser._parse "+this.name)}});const Dw=/\s+/,sle={1:1,2:2,3:3,am:1,ar:1,du:1,un:1,nc:0};an.add("mol2",class extends vA{get type(){return"mol2"}_parse(){ot&&He.time("Mol2Parser._parse "+this.name);const i=this.structure,e=this.structureBuilder,t=this.firstModelOnly,n=this.asTrajectory,r=i.frames;let s,a,o=!1;const A=i.atomMap,c=i.atomStore;c.resize(Math.round(this.streamer.data.length/60)),c.addField("partialCharge",1,"float32");let l=0,u=0,d=0,h=-1,m=0,y=0;const g=i.getAtomProxy(),E=i.getAtomProxy();this.streamer.eachChunkOfLines(function(R){(function(p,w,v){for(let _=p;_<w;++_){const x=v[_].trim();if(x!==""&&x[0]!=="#"){if(x[0]==="@")x==="@<TRIPOS>MOLECULE"?(y=1,u=0,++h):x==="@<TRIPOS>ATOM"?(y=2,d=c.count,n&&(a=0,s=new Float32Array(3*m),r.push(s),h>0&&(o=!0))):y=x==="@<TRIPOS>BOND"?3:0;else if(y===1){if(u===0)i.title=x,i.id=x;else if(u===1){const C=x.split(Dw);m=parseInt(C[0])}++u}else if(y===2){const C=x.split(Dw);if(t&&h>0)continue;const B=parseFloat(C[2]),G=parseFloat(C[3]),I=parseFloat(C[4]);if(n){const k=3*a;if(s[k+0]=B,s[k+1]=G,s[k+2]=I,a+=1,o)continue}const N=C[0],T=C[1],M=C[5].split(".")[0],U=C[6]?parseInt(C[6]):1,z=C[7]?C[7]:"",L=C[8]?parseFloat(C[8]):0;c.growIfFull(),c.atomTypeId[l]=A.add(T,M),c.x[l]=B,c.y[l]=G,c.z[l]=I,c.serial[l]=+N,c.partialCharge[l]=L,e.addAtom(h,"","",z,U,!0),l+=1}else if(y===3){if(t&&h>0||n&&h>0)continue;const C=x.split(Dw);g.index=parseInt(C[1])-1+d,E.index=parseInt(C[2])-1+d;const B=sle[C[3]];i.bondStore.addBond(g,E,B)}}}})(0,R.length,R)}),e.finalize(),i.finalizeAtoms(),ny(i),Nu(i,!0),Mu(i,!0),i.finalizeBonds(),Bc(i),ty(i),ot&&He.timeEnd("Mol2Parser._parse "+this.name)}});an.add("pdbqt",class extends Af{get type(){return"pdbqt"}});an.add("pqr",class extends Af{get type(){return"pqr"}});const ale=/> +<(.+)>/;class kw extends vA{get type(){return"sdf"}_parse(){ot&&He.time("SdfParser._parse "+this.name);const e=this.structure,t=this.structureBuilder,n=this.firstModelOnly,r=this.asTrajectory,s=this.streamer.peekLines(2);e.id=s[0].trim(),e.title=s[1].trim();const a=e.frames;let o,A,c=!1;const l=e.atomMap,u=e.atomStore;u.resize(Math.round(this.streamer.data.length/50)),u.addField("formalCharge",1,"int8");const d=e.getAtomProxy(),h=e.getAtomProxy();let m=0,y=0,g=0,E=0;const R=[];let p,w,v,_,x,C,B,G,I,N,T,M,U,z,L=!1,k={};e.extraData.sdf=R;let K=!1,V=!1,D=!1,H=[],oe=[];const Ae=new Map;this.streamer.eachChunkOfLines(function(ee){(function(se,le,J){for(let me=se;me<le;++me){const ue=J[me];if(K&&ue&&(H=ue.substring(7).split(" "),oe.length&&(H=[...oe,...H],oe=[]),H[H.length-1]==="-"))H.pop(),oe=H;else{if(ue.substr(0,4)==="$$$$")y=-1,++g,E=u.count,R.push(k),k={},L=!1,K=!1;else if(y===3)K=ue.indexOf(" V3000")>-1,K?Ae.clear():(w=parseInt(ue.substr(0,3)),v=parseInt(ue.substr(3,3)),_=4,x=_+w,C=x,B=C+v,r&&(A=0,o=new Float32Array(3*w),a.push(o),g>0&&(c=!0)));else if(K&&H[0]==="COUNTS")w=parseInt(H[1]),r&&(A=0,o=new Float32Array(3*w),a.push(o),g>0&&(c=!0));else if(K&&H.length==2)H[1]==="ATOM"?H[0]==="BEGIN"?V=!0:H[0]==="END"&&(V=!1):H[1]==="BOND"&&(H[0]==="BEGIN"?D=!0:H[0]==="END"&&(D=!1));else if(V||!K&&y>=_&&y<x){if(n&&g>0)continue;let ge=0;if(K){if(G=parseFloat(H[2]),I=parseFloat(H[3]),N=parseFloat(H[4]),M=H[1],U=parseInt(H[0]),Ae.set(U,m),T=M+U,H.length>6){let fe=H.slice(6).find(we=>we.indexOf("CHG=")===0);fe&&(ge=parseInt(fe.substring(4)))}}else G=parseFloat(ue.substr(0,10)),I=parseFloat(ue.substr(10,10)),N=parseFloat(ue.substr(20,10)),M=ue.substr(31,3).trim(),T=M+(m-E+1);if(r){const fe=3*A;if(o[fe+0]=G,o[fe+1]=I,o[fe+2]=N,A+=1,c)continue}u.growIfFull(),u.atomTypeId[m]=l.add(T,M),u.x[m]=G,u.y[m]=I,u.z[m]=N,u.serial[m]=K?U:m,u.formalCharge[m]=ge,t.addAtom(g,"","","HET",1,!0),m+=1}else if(D||!K&&y>=C&&y<B){if(n&&g>0||r&&g>0)continue;K?(d.index=Ae.get(parseInt(H[2])),h.index=Ae.get(parseInt(H[3])),z=parseInt(H[1])):(d.index=parseInt(ue.substr(0,3))-1+E,h.index=parseInt(ue.substr(3,3))-1+E,z=parseInt(ue.substr(6,3))),e.bondStore.addBond(d,h,z)}else if(ue.substr(0,6)==="M  CHG"){const ge=parseInt(ue.substr(6,3));for(let fe=0,we=10;fe<ge;++fe,we+=8){const Fe=parseInt(ue.substr(we,3))-1+E,je=parseInt(ue.substr(we+4,3));u.formalCharge[Fe]=je}}else ue.charAt(0)===">"&&(p=ue.match(ale))?(L=p[1],k[L]=[]):L!==!1&&ue&&k[L].push(ue);++y}}})(0,ee.length,ee)}),t.finalize(),e.finalizeAtoms(),e.finalizeBonds(),Bc(e),ot&&He.timeEnd("SdfParser._parse "+this.name)}_postProcess(){Bc(this.structure)}}an.add("sdf",kw),an.add("sd",kw),an.add("mol",kw);function md(i,e,t){return parseInt(i.substr(e,t).trim())}class cB extends vA{get type(){return"prmtop"}_parse(){ot&&He.time("PrmtopParser._parse "+this.name);const e=this.structure,t=this.structureBuilder,n=e.atomMap,r=e.atomStore;r.addField("partialCharge",1,"float32"),r.addField("radius",1,"float32");const s=[],a={},o=["NATOM","NTYPES","NBONH","MBONA","NTHETH","MTHETA","NPHIH","MPHIA","NHPARM","NPARM","NNB","NRES","NBONA","NTHETA","NPHIA","NUMBND","NUMANG","NPTRA","NATYP","NPHB","IFPERT","NBPER","NGPER","NDPER","MBPER","MGPER","MDPER","IFBOX","NMXRS","IFCAP","NUMEXTRA","NCOPY"];let A,c,l,u,d;o.forEach(x=>{a[x]=0});let h,m,y,g,E,R=new Uint8Array(0);this.streamer.eachChunkOfLines(function(x){(function(C,B,G){for(let I=C;I<B;++I){const N=G[I],T=N.trim();if(T&&!N.startsWith("%FORMAT")){if(N.startsWith("%FLAG")){const M=N.substr(5).trim();g=0,M==="TITLE"?y=0:M==="POINTERS"?y=1:M==="ATOM_NAME"?y=2:M==="CHARGE"?y=3:M==="MASS"?y=4:M==="RESIDUE_LABEL"?y=5:M==="RESIDUE_POINTER"?y=6:M==="BONDS_INC_HYDROGEN"?(E=0,y=7):M==="BONDS_WITHOUT_HYDROGEN"?(E=a.NBONH,y=8):y=M==="RADII"?9:void 0}else if(y===0)s.push(T);else if(y===1){const M=Math.min(g+10,32);for(let z=0;g<M;++z,++g)a[o[g]]=parseInt(N.substr(8*z,8).trim());A=new Array(a.NATOM),c=new Float32Array(a.NATOM),l=new Float32Array(a.NATOM),r.resize(a.NATOM);const U=a.NBONH+a.MBONA;u=new Uint32Array(U),d=new Uint32Array(U),R=new Uint8Array(U),h=new Array(a.NRES),m=new Uint32Array(a.NRES)}else if(y===2){const M=Math.min(g+20,a.NATOM);for(let U=0;g<M;++U,++g)A[g]=N.substr(4*U,4).trim()}else if(y===3){const M=Math.min(g+5,a.NATOM);for(let U=0;g<M;++U,++g)c[g]=parseFloat(N.substr(16*U,16))/18.2223}else if(y!==4){if(y===5){const M=Math.min(g+20,a.NRES);for(let U=0;g<M;++U,++g)h[g]=N.substr(4*U,4).trim()}else if(y===6){const M=Math.min(g+10,a.NRES);for(let U=0;g<M;++U,++g)m[g]=md(N,8*U,8)}else if(y===7){const M=Math.min(g+10,3*a.NBONH);for(let U=0;g<M;++U,++g){const z=g%3;z===0&&(u[E]=md(N,8*U,8)/3),z===1&&(d[E]=md(N,8*U,8)/3,R[E]=1,++E)}}else if(y===8){const M=Math.min(g+10,3*a.MBONA);for(let U=0;g<M;++U,++g){const z=g%3;z===0&&(u[E]=md(N,8*U,8)/3),z===1&&(d[E]=md(N,8*U,8)/3,R[E]=1,++E)}}else if(y===9){const M=Math.min(g+5,a.NATOM);for(let U=0;g<M;++U,++g)l[g]=parseFloat(N.substr(16*U,16))}}}}})(0,x.length,x)}),e.title=s.join(" ");const p=a.NATOM;let w=0,v=h[0],_=1;for(let x=0;x<p;++x)x+1===m[w+1]&&(++w,v=h[w],_=w+1),r.atomTypeId[x]=n.add(A[x]),r.serial[x]=x+1,t.addAtom(0,"","",v,_,!1);r.partialCharge.set(c),r.radius.set(l),e.bondStore.length=R.length,e.bondStore.count=R.length,e.bondStore.atomIndex1=u,e.bondStore.atomIndex2=d,e.bondStore.bondOrder=R,t.finalize(),e.finalizeAtoms(),e.finalizeBonds(),Nu(e,!0),Mu(e,!0,!0),ny(e,!0),Bc(e),ot&&He.timeEnd("PrmtopParser._parse "+this.name)}}an.add("prmtop",cB),an.add("parm7",cB);const _1=/\s+/,ole=/(^\*|REMARK)*/;an.add("psf",class extends vA{get type(){return"psf"}_parse(){ot&&He.time("PsfParser._parse "+this.name);const i=this.structure,e=this.structureBuilder,t=i.atomMap,n=i.atomStore;n.addField("partialCharge",1,"float32");const r=[];let s,a,o,A,c,l,u=0,d=0,h=0;this.streamer.eachChunkOfLines(function(m){(function(y,g,E){for(let R=y;R<g;++R){const p=E[R].trim();if(p){if(s===2){const w=p.split(_1),v=parseInt(w[0]),_=w[1],x=parseInt(w[2]),C=w[3],B=w[4],G=parseFloat(w[6]);_!==o&&(a=Gf(d),++d),n.growIfFull(),n.atomTypeId[u]=t.add(B),n.serial[u]=v,n.partialCharge[u]=G,e.addAtom(0,a,a,C,x,!1),u+=1,o=_}else if(s===3){const w=p.split(_1);for(let v=0,_=w.length;v<_;v+=2)A[h]=parseInt(w[v])-1,c[h]=parseInt(w[v+1])-1,l[h]=1,h+=1}else if(s===1)r.push(p.replace(ole,"").trim());else if(s!==4){if(s!==5){if(s!==6)if(p.includes("!NATOM")){s=2;const w=parseInt(p.split(_1)[0]);n.resize(w)}else if(p.includes("!NBOND")){s=3;const w=parseInt(p.split(_1)[0]);A=new Uint32Array(w),c=new Uint32Array(w),l=new Uint8Array(w)}else p.includes("!NTITLE")?s=1:p.includes("!NTHETA")?s=4:p.includes("!NPHI")?s=5:p.includes("!NIMPHI")&&(s=6)}}}else s=void 0}})(0,m.length,m)}),i.title=r.join(" "),i.bondStore.length=l.length,i.bondStore.count=h,i.bondStore.atomIndex1=A,i.bondStore.atomIndex2=c,i.bondStore.bondOrder=l,e.finalize(),i.finalizeAtoms(),i.finalizeBonds(),Nu(i,!0),Mu(i,!0,!0),Bc(i),ot&&He.timeEnd("PsfParser._parse "+this.name)}});const Ale=/\[ (.+) \]/,v1=/\s+/;an.add("top",class extends vA{get type(){return"top"}_parse(){ot&&He.time("TopParser._parse "+this.name);const i=this.structure,e=this.structureBuilder,t=i.atomMap,n=i.bondStore,r=i.atomStore;r.addField("partialCharge",1,"float32");const s=[],a={};let o,A;this.streamer.eachChunkOfLines(function(R){(function(p,w,v){for(let _=p;_<w;++_){const x=v[_];let C=x.trim();if(!C||C[0]==="*"||C[0]===";")continue;if(C.startsWith("#include"))throw new Error("TopParser: #include statements not allowed");const B=x.match(Ale);if(B!==null){const I=B[1];I==="moleculetype"?(A=2,o={atoms:[],bonds:[]}):A=I==="atoms"?3:I==="bonds"?4:I==="system"?0:I==="molecules"?1:void 0;continue}const G=C.indexOf(";");if(G!==-1&&(C=C.substring(0,G).trim()),A===2){const I=C.split(v1)[0];a[I]=o}else if(A===3){const I=C.split(v1);o.atoms.push([parseInt(I[2]),I[3],I[4],parseFloat(I[6])])}else if(A===4){const I=C.split(v1);o.bonds.push([parseInt(I[0]),parseInt(I[1])])}else if(A===0)i.title=C;else if(A===1){const I=C.split(v1);s.push([I[0],parseInt(I[1])])}}})(0,R.length,R)});let c=0,l=0;s.forEach(function(R){const[p,w]=R,v=a[p];c+=w*v.atoms.length,l+=w*v.bonds.length}),r.resize(c),n.resize(l);let u,d=0,h=0,m=0,y=0,g=0,E=0;s.forEach(function(R){const[p,w]=R,v=a[p],_=Gf(y);for(let x=0;x<w;++x){u=-1;const C=Wm.includes(p)?_:Gf(m);v.atoms.forEach(function(B){const[G,I,N,T]=B;G!==u&&++h,r.atomTypeId[d]=t.add(N),r.serial[d]=d+1,r.partialCharge[d]=T,e.addAtom(0,_,C,I,h+1,!1),++d,u=G}),v.bonds.forEach(function(B){n.atomIndex1[g]=E+B[0]-1,n.atomIndex2[g]=E+B[1]-1,++g}),++m,E+=v.atoms.length}++y}),n.count=l,e.finalize(),i.finalizeAtoms(),i.finalizeBonds(),Nu(i,!0),Mu(i,!0,!0),Bc(i),ot&&He.timeEnd("TopParser._parse "+this.name)}});class oy extends Oa{constructor(e,t){super(e,t),this.frames=new pT(this.name,this.path)}get type(){return"trajectory"}get __objName(){return"frames"}}function Ss(i,e){if(i)throw new TypeError("Not a valid NetCDF v3.x file: "+e)}function zT(i){i.offset%4!=0&&i.skip(4-i.offset%4)}function VE(i){const e=i.readUint32(),t=i.readChars(e);return zT(i),t}an.add("dcd",class extends oy{get type(){return"dcd"}get isBinary(){return!0}_parse(){ot&&He.time("DcdParser._parse "+this.name);const i=Bu(this.streamer.data),e=new DataView(i),t=this.frames,n=t.coordinates,r=t.boxes,s={};let a=0;const o=new Int32Array(i,0,23),A=o[0]!==e.getInt32(0);if(o[0]!==84){const g=i.byteLength;for(let E=0;E<g;E+=4)e.setFloat32(E,e.getFloat32(E),!0)}o[0]!==84&&He.error("dcd bad format, header block start"),String.fromCharCode(e.getUint8(4),e.getUint8(5),e.getUint8(6),e.getUint8(7))!=="CORD"&&He.error("dcd bad format, format string");let c=!1,l=!1,u=!1;o[22]!==0&&(c=!0,o[12]!==0&&(l=!0),o[13]===1&&(u=!0)),s.NSET=o[2],s.ISTART=o[3],s.NSAVC=o[4],s.NAMNF=o[10],s.DELTA=c?e.getFloat32(44,A):e.getFloat64(44,A),o[22]!==84&&He.error("dcd bad format, header block end"),a=a+84+8;const d=e.getInt32(a,A),h=a+1;if((d-4)%80!=0&&He.error("dcd bad format, title block start"),s.TITLE=Rf(new Uint8Array(i,h,d)),e.getInt32(h+d+4-1,A)!==d&&He.error("dcd bad format, title block end"),a=a+d+8,e.getInt32(a,A)!==4&&He.error("dcd bad format, natom block start"),s.NATOM=e.getInt32(a+4,A),e.getInt32(a+8,A)!==4&&He.error("dcd bad format, natom block end"),a=a+4+8,s.NAMNF>0)return void He.error("dcd format with fixed atoms unsupported, aborting");const m=s.NATOM,y=4*m;for(let g=0,E=s.NSET;g<E;++g){if(l){a+=4;const p=new Float32Array(9);p[0]=e.getFloat64(a,A),p[4]=e.getFloat64(a+16,A),p[8]=e.getFloat64(a+40,A),r.push(p),a+=48,a+=4}const R=new Float32Array(3*m);for(let p=0;p<3;++p){e.getInt32(a,A)!==y&&He.error("dcd bad format, coord block start",g,p),a+=4;const w=new Float32Array(i,a,m);for(let v=0;v<m;++v)R[3*v+p]=w[v];a+=y,e.getInt32(a,A)!==y&&He.error("dcd bad format, coord block end",g,p),a+=4}n.push(R),u&&(a+=4+e.getInt32(a,A)+4)}s.DELTA&&(t.deltaTime=20.45482949774598*s.DELTA),s.ISTART>=1&&(t.timeOffset=(s.ISTART-1)*t.deltaTime),ot&&He.timeEnd("DcdParser._parse "+this.name)}});const Ri={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function VT(i){switch(Number(i)){case Ri.BYTE:return"byte";case Ri.CHAR:return"char";case Ri.SHORT:return"short";case Ri.INT:return"int";case Ri.FLOAT:return"float";case Ri.DOUBLE:return"double";default:return"undefined"}}function lB(i){switch(Number(i)){case Ri.BYTE:case Ri.CHAR:return 1;case Ri.SHORT:return 2;case Ri.INT:case Ri.FLOAT:return 4;case Ri.DOUBLE:return 8;default:return-1}}function uB(i){switch(String(i)){case"byte":return Ri.BYTE;case"char":return Ri.CHAR;case"short":return Ri.SHORT;case"int":return Ri.INT;case"float":return Ri.FLOAT;case"double":return Ri.DOUBLE;default:return-1}}function x1(i,e){if(i!==1){const t=new Array(i);for(let n=0;n<i;n++)t[n]=e();return t}return e()}function KE(i,e,t){switch(e){case Ri.BYTE:return i.readBytes(t);case Ri.CHAR:return function(n){return n.charCodeAt(n.length-1)===0?n.substring(0,n.length-1):n}(i.readChars(t));case Ri.SHORT:return x1(t,i.readInt16.bind(i));case Ri.INT:return x1(t,i.readInt32.bind(i));case Ri.FLOAT:return x1(t,i.readFloat32.bind(i));case Ri.DOUBLE:return x1(t,i.readFloat64.bind(i));default:return void Ss(!0,"non valid type "+e)}}const Ol=0,cle=10,lle=11,ule=12;function dle(i,e){const t={recordDimension:{length:i.readUint32()}};t.version=e;const n=function(s){let a,o,A;const c=s.readUint32();if(c===Ol)return Ss(s.readUint32()!==Ol,"wrong empty tag for list of dimensions"),[];{Ss(c!==cle,"wrong tag for list of dimensions");const l=s.readUint32();a=new Array(l);for(let u=0;u<l;u++){const d=VE(s),h=s.readUint32();h===0&&(o=u,A=d),a[u]={name:d,size:h}}return{dimensions:a,recordId:o,recordName:A}}}(i);t.recordDimension.id=n.recordId,t.recordDimension.name=n.recordName,t.dimensions=n.dimensions,t.globalAttributes=dB(i);const r=function(s,a,o){const A=s.readUint32();let c,l=0;if(A===Ol)return Ss(s.readUint32()!==Ol,"wrong empty tag for list of variables"),[];{Ss(A!==lle,"wrong tag for list of variables");const u=s.readUint32();c=new Array(u);for(let d=0;d<u;d++){const h=VE(s),m=s.readUint32(),y=new Array(m);for(let w=0;w<m;w++)y[w]=s.readUint32();const g=dB(s),E=s.readUint32();Ss(E<1&&E>6,"non valid type "+E);const R=s.readUint32();let p=s.readUint32();o===2&&(Ss(p>0,"offsets larger than 4GB not supported"),p=s.readUint32()),y[0]===a&&(l+=R),c[d]={name:h,dimensions:y,attributes:g,type:VT(E),size:R,offset:p,record:y[0]===a}}}return{variables:c,recordStep:l}}(i,n.recordId,e);return t.variables=r.variables,t.recordDimension.recordStep=r.recordStep,t}function dB(i){let e;const t=i.readUint32();if(t===Ol)return Ss(i.readUint32()!==Ol,"wrong empty tag for list of attributes"),[];{Ss(t!==ule,"wrong tag for list of attributes");const n=i.readUint32();e=new Array(n);for(let r=0;r<n;r++){const s=VE(i),a=i.readUint32();Ss(a<1||a>6,"non valid type "+a);const o=i.readUint32(),A=KE(i,a,o);zT(i),e[r]={name:s,type:VT(a),value:A}}}return e}class KT{constructor(e){const t=new qse(e);t.setBigEndian(),Ss(t.readChars(3)!=="CDF","should start with CDF");const n=t.readByte();Ss(n>2,"unknown version"),this.header=dle(t,n),this.buffer=t}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}get variables(){return this.header.variables}hasDataVariable(e){return this.header.variables.findIndex(function(t){return t.name===e})!==-1}getDataVariable(e){let t;return t=typeof e=="string"?this.header.variables.find(function(n){return n.name===e}):e,Ss(t===void 0,"variable not found"),this.buffer.seek(t.offset),t.record?function(n,r,s){const a=uB(r.type),o=r.size?r.size/lB(a):1,A=s.length,c=new Array(A),l=s.recordStep;for(let u=0;u<A;u++){const d=n.offset;c[u]=KE(n,a,o),n.seek(d+l)}return c}(this.buffer,t,this.header.recordDimension):function(n,r){const s=uB(r.type),a=r.size/lB(s),o=new Array(a);for(let A=0;A<a;A++)o[A]=KE(n,s,1);return o}(this.buffer,t)}}class Ow extends oy{get type(){return"nctraj"}get isBinary(){return!0}_parse(){ot&&He.time("NctrajParser._parse "+this.name);const e=new KT(this.streamer.data),t=this.frames,n=t.coordinates,r=t.boxes,s=t.times;e.getDataVariable("coordinates").forEach(function(a){n.push(new Float32Array(a))}),e.hasDataVariable("cell_lengths")&&e.getDataVariable("cell_lengths").forEach(function(a){r.push(new Float32Array(a))}),e.hasDataVariable("time")&&e.getDataVariable("time").forEach(function(a){s.push(a)}),s.length>=1&&(t.timeOffset=s[0]),s.length>=2&&(t.deltaTime=s[1]-s[0]),ot&&He.timeEnd("NctrajParser._parse "+this.name)}}an.add("nctraj",Ow),an.add("ncdf",Ow),an.add("nc",Ow);an.add("trr",class extends oy{get type(){return"trr"}get isBinary(){return!0}_parse(){ot&&He.time("TrrParser._parse "+this.name);const i=Bu(this.streamer.data),e=new DataView(i),t=this.frames,n=t.coordinates,r=t.boxes,s=t.times;let a=0;for(;;){a+=8;const o=e.getInt32(a);a+=4,a+=o;const A=e.getInt32(a+8),c=e.getInt32(a+12),l=e.getInt32(a+16),u=e.getInt32(a+28),d=e.getInt32(a+32),h=e.getInt32(a+36),m=e.getInt32(a+40);a+=52;const y=A/9,g=3*m;if(y===8?s.push(e.getFloat64(a)):s.push(e.getFloat32(a)),a+=2*y,A){const E=new Float32Array(9);if(y===8)for(let R=0;R<9;++R)E[R]=10*e.getFloat64(a),a+=8;else for(let R=0;R<9;++R)E[R]=10*e.getFloat32(a),a+=4;r.push(E)}if(a+=c,a+=l,u){let E;if(y===8){E=new Float32Array(g);for(let R=0;R<g;++R)E[R]=10*e.getFloat64(a),a+=8}else{const R=new Uint32Array(i,a,g);for(let p=0;p<g;++p){const w=R[p];R[p]=(255&w)<<24|(65280&w)<<8|w>>8&65280|w>>24&255}E=new Float32Array(i,a,g);for(let p=0;p<g;++p)E[p]*=10,a+=4}n.push(E)}if(a+=d,a+=h,a>=i.byteLength)break}s.length>=1&&(t.timeOffset=s[0]),s.length>=2&&(t.deltaTime=s[1]-s[0]),ot&&He.timeEnd("TrrParser._parse "+this.name)}});const xl=new Uint32Array([0,0,0,0,0,0,0,0,0,8,10,12,16,20,25,32,40,50,64,80,101,128,161,203,256,322,406,512,645,812,1024,1290,1625,2048,2580,3250,4096,5060,6501,8192,10321,13003,16384,20642,26007,32768,41285,52015,65536,82570,104031,131072,165140,208063,262144,330280,416127,524287,660561,832255,1048576,1321122,1664510,2097152,2642245,3329021,4194304,5284491,6658042,8388607,10568983,13316085,16777216]);function Qw(i){let e=1,t=0;for(;i>=e&&t<32;)t++,e<<=1;return t}const gd=new Uint8Array(32);function fle(i,e){let t=1,n=0;gd[0]=1;for(let s=0;s<i;s++){let a,o=0;for(a=0;a<t;a++)o+=gd[a]*e[s],gd[a]=255&o,o>>=8;for(;o!==0;)gd[a++]=255&o,o>>=8;t=a}let r=1;for(t--;gd[t]>=r;)n++,r*=2;return n+8*t}function sc(i,e,t,n){const r=(1<<t)-1;let s=n[1],a=n[2],o=i[0],A=0;for(;t>=8;)a=a<<8|e[o++],A|=a>>s<<t-8,t-=8;return t>0&&(s<t&&(s+=8,a=a<<8|e[o++]),s-=t,A|=a>>s&(1<<t)-1),A&=r,i[0]=o,i[1]=s,i[2]=a,A}const xa=new Int32Array(32);function fB(i,e,t,n,r,s,a){let o=0;for(xa[1]=0,xa[2]=0,xa[3]=0;n>8;)xa[o++]=sc(i,e,8,a),n-=8;n>0&&(xa[o++]=sc(i,e,n,a));for(let A=t-1;A>0;A--){let c=0;for(let l=o-1;l>=0;l--){c=c<<8|xa[l];const u=c/r[A]|0;xa[l]=u,c-=u*r[A]}s[A]=c}s[0]=xa[0]|xa[1]<<8|xa[2]<<16|xa[3]<<24}an.add("xtc",class extends oy{get type(){return"xtc"}get isBinary(){return!0}_parse(){ot&&He.time("XtcParser._parse "+this.name);const i=Bu(this.streamer.data),e=new DataView(i),t=this.frames,n=t.coordinates,r=t.boxes,s=t.times,a=new Int32Array(6),o=new Int32Array(3),A=new Int32Array(3),c=new Uint32Array(3),l=new Float32Array(3),u=new Float32Array(3);let d=0;const h=new Int32Array(3),m=new Uint32Array(h.buffer);for(;;){let y;const g=e.getInt32(d+4);d+=12;const E=3*g;s.push(e.getFloat32(d)),d+=4;const R=new Float32Array(9);for(let p=0;p<9;++p)R[p]=10*e.getFloat32(d),d+=4;if(r.push(R),g<=9){y=new Float32Array(g);for(let p=0;p<g;++p)y[p]=e.getFloat32(d),d+=4}else{h[0]=h[1]=h[2]=0,o[0]=o[1]=o[2]=0,c[0]=c[1]=c[2]=0,A[0]=A[1]=A[2]=0,l[0]=l[1]=l[2]=0,u[0]=u[1]=u[2]=0,y=new Float32Array(E);let p=0;const w=e.getInt32(d);d+=4;const v=e.getFloat32(d);let _;d+=4,a[0]=e.getInt32(d),a[1]=e.getInt32(d+4),a[2]=e.getInt32(d+8),a[3]=e.getInt32(d+12),a[4]=e.getInt32(d+16),a[5]=e.getInt32(d+20),o[0]=a[3]-a[0]+1,o[1]=a[4]-a[1]+1,o[2]=a[5]-a[2]+1,d+=24,(o[0]|o[1]|o[2])>16777215?(A[0]=Qw(o[0]),A[1]=Qw(o[1]),A[2]=Qw(o[2]),_=0):_=fle(3,o);let x=e.getInt32(d);d+=4;let C=x-1;C=9>C?9:C;let B=xl[C]/2|0,G=xl[x]/2|0;c[0]=c[1]=c[2]=xl[x];let I=4*Math.ceil(e.getInt32(d)/4);d+=4;const N=1/v;let T=0,M=0;const U=new Uint8Array(i,d);for(l[0]=l[1]=l[2]=0;M<w;){_===0?(l[0]=sc(h,U,A[0],m),l[1]=sc(h,U,A[1],m),l[2]=sc(h,U,A[2],m)):fB(h,U,3,_,o,l,m),M++,l[0]+=a[0],l[1]+=a[1],l[2]+=a[2],u[0]=l[0],u[1]=l[1],u[2]=l[2];let z=0;if(sc(h,U,1,m)===1&&(T=sc(h,U,5,m),z=T%3,T-=z,z--),T>0){l[0]=l[1]=l[2]=0;for(let L=0;L<T;L+=3){if(fB(h,U,3,x,c,l,m),M++,l[0]+=u[0]-G,l[1]+=u[1]-G,l[2]+=u[2]-G,L===0){let k=l[0];l[0]=u[0],u[0]=k,k=l[1],l[1]=u[1],u[1]=k,k=l[2],l[2]=u[2],u[2]=k,y[p++]=u[0]*N,y[p++]=u[1]*N,y[p++]=u[2]*N}else u[0]=l[0],u[1]=l[1],u[2]=l[2];y[p++]=l[0]*N,y[p++]=l[1]*N,y[p++]=l[2]*N}}else y[p++]=l[0]*N,y[p++]=l[1]*N,y[p++]=l[2]*N;if(x+=z,z<0?(G=B,B=x>9?xl[x-1]/2|0:0):z>0&&(B=G,G=xl[x]/2|0),c[0]=c[1]=c[2]=xl[x],c[0]===0||c[1]===0||c[2]===0)return void console.error("(xdrfile error) Undefined error.")}d+=I}for(let p=0;p<E;p++)y[p]*=10;if(n.push(y),d>=i.byteLength)break}s.length>=1&&(t.timeOffset=s[0]),s.length>=2&&(t.deltaTime=s[1]-s[0]),ot&&He.timeEnd("XtcParser._parse "+this.name)}});class nh extends Oa{constructor(e,t){const n=t||{};super(e,n),this.volume=new rs(this.name,this.path),this.voxelSize=W(n.voxelSize,1)}get type(){return"volume"}get __objName(){return"volume"}_afterParse(){this.volume.setMatrix(this.getMatrix()),super._afterParse()}getMatrix(){return new xt}}const hle=/\s+/,ple=/-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,R1=.529177210859;class hB extends nh{get type(){return"cube"}_parse(){ot&&He.time("CubeParser._parse "+this.name);const e=this.volume,t=this.streamer.peekLines(6),n={},r=R1*this.voxelSize;function s(l,u){var d=t[l].trim().split(hle)[u];return parseFloat(d)}n.atomCount=Math.abs(s(2,0)),n.originX=s(2,1)*R1,n.originY=s(2,2)*R1,n.originZ=s(2,3)*R1,n.NVX=s(3,0),n.NVY=s(4,0),n.NVZ=s(5,0),n.basisX=new ne(s(3,1),s(3,2),s(3,3)).multiplyScalar(r),n.basisY=new ne(s(4,1),s(4,2),s(4,3)).multiplyScalar(r),n.basisZ=new ne(s(5,1),s(5,2),s(5,3)).multiplyScalar(r);const a=new Float32Array(n.NVX*n.NVY*n.NVZ);let o=0,A=0;const c=s(2,0)>0?0:1;this.streamer.eachChunkOfLines(function(l){(function(u,d,h){for(let m=u;m<d;++m){const y=h[m].trim();if(y!==""&&A>=n.atomCount+6+c){const g=y.match(ple);for(let E=0,R=g.length;E<R;++E)a[o]=parseFloat(g[E]),++o}++A}})(0,l.length,l)}),e.header=n,e.setData(a,n.NVZ,n.NVY,n.NVX),ot&&He.timeEnd("CubeParser._parse "+this.name)}getMatrix(){const e=this.volume.header,t=new xt;return t.multiply(new xt().makeTranslation(e.originX,e.originY,e.originZ)),t.multiply(new xt().makeBasis(e.basisZ,e.basisY,e.basisX)),t}}an.add("cub",hB),an.add("cube",hB);class pB extends nh{get type(){return"dsn6"}get isBinary(){return!0}_parse(){ot&&He.time("Dsn6Parser._parse "+this.name);const e=this.volume,t={};let n,r;const s=Bu(this.streamer.data),a=new Int16Array(s),o=new Uint8Array(s),A=String.fromCharCode.apply(null,o.subarray(0,512));if(A.startsWith(":-)"))t.xStart=parseInt(A.substr(10,5)),t.yStart=parseInt(A.substr(15,5)),t.zStart=parseInt(A.substr(20,5)),t.xExtent=parseInt(A.substr(32,5)),t.yExtent=parseInt(A.substr(38,5)),t.zExtent=parseInt(A.substr(42,5)),t.xRate=parseInt(A.substr(52,5)),t.yRate=parseInt(A.substr(58,5)),t.zRate=parseInt(A.substr(62,5)),t.xlen=parseFloat(A.substr(73,10))*this.voxelSize,t.ylen=parseFloat(A.substr(83,10))*this.voxelSize,t.zlen=parseFloat(A.substr(93,10))*this.voxelSize,t.alpha=parseFloat(A.substr(103,10)),t.beta=parseFloat(A.substr(113,10)),t.gamma=parseFloat(A.substr(123,10)),n=parseFloat(A.substr(138,12))/100,r=parseInt(A.substr(155,8)),t.sigma=100*parseFloat(A.substr(170,12));else{if(a[18]!==100)for(let B=0,G=a.length;B<G;++B){const I=a[B];a[B]=(255&I)<<8|I>>8&255}t.xStart=a[0],t.yStart=a[1],t.zStart=a[2],t.xExtent=a[3],t.yExtent=a[4],t.zExtent=a[5],t.xRate=a[6],t.yRate=a[7],t.zRate=a[8];const x=1/a[17],C=x*this.voxelSize;t.xlen=a[9]*C,t.ylen=a[10]*C,t.zlen=a[11]*C,t.alpha=a[12]*x,t.beta=a[13]*x,t.gamma=a[14]*x,n=a[15]/100,r=a[16],t.gamma=a[14]*x}e.header=t,ot&&He.log(t,n,r);const c=new Float32Array(t.xExtent*t.yExtent*t.zExtent);let l=512;const u=Math.ceil(t.xExtent/8),d=Math.ceil(t.yExtent/8),h=Math.ceil(t.zExtent/8);for(var m=0;m<h;++m)for(var y=0;y<d;++y)for(var g=0;g<u;++g)for(var E=0;E<8;++E)for(var R=8*m+E,p=0;p<8;++p)for(var w=8*y+p,v=0;v<8;++v){var _=8*g+v;if(!(_<t.xExtent&&w<t.yExtent&&R<t.zExtent)){l+=8-v;break}c[(_*t.yExtent+w)*t.zExtent+R]=(o[l]-r)/n,++l}e.setData(c,t.zExtent,t.yExtent,t.xExtent),t.sigma&&e.setStats(void 0,void 0,void 0,t.sigma),ot&&He.timeEnd("Dsn6Parser._parse "+this.name)}getMatrix(){const e=this.volume.header,t=[e.xlen,0,0],n=[e.ylen*Math.cos(Math.PI/180*e.gamma),e.ylen*Math.sin(Math.PI/180*e.gamma),0],r=[e.zlen*Math.cos(Math.PI/180*e.beta),e.zlen*(Math.cos(Math.PI/180*e.alpha)-Math.cos(Math.PI/180*e.gamma)*Math.cos(Math.PI/180*e.beta))/Math.sin(Math.PI/180*e.gamma),0];r[2]=Math.sqrt(e.zlen*e.zlen*Math.sin(Math.PI/180*e.beta)*Math.sin(Math.PI/180*e.beta)-r[1]*r[1]);const s=[[],t,n,r],a=[0,e.xRate,e.yRate,e.zRate],o=[0,1,2,3],A=new xt;return A.set(s[o[1]][0]/a[o[1]],s[o[2]][0]/a[o[2]],s[o[3]][0]/a[o[3]],0,s[o[1]][1]/a[o[1]],s[o[2]][1]/a[o[2]],s[o[3]][1]/a[o[3]],0,s[o[1]][2]/a[o[1]],s[o[2]][2]/a[o[2]],s[o[3]][2]/a[o[3]],0,0,0,0,1),A.multiply(new xt().makeRotationY(Mi(90))),A.multiply(new xt().makeTranslation(-e.zStart,e.yStart,e.xStart)),A.multiply(new xt().makeScale(-1,1,1)),A}}an.add("dsn6",pB),an.add("brix",pB);const B1=/\s+/;class $T extends nh{get type(){return"dx"}_parse(){ot&&He.time("DxParser._parse "+this.name);const e=this.volume,t=this.streamer.peekLines(30),n=this.parseHeaderLines(t),r=this.volume.header,s=n.dataLineStart,a=r.nx*r.ny*r.nz,o=new Float32Array(a);let A=0,c=0;this.streamer.eachChunkOfLines(function(l){(function(u,d,h){for(let m=u;m<d;++m){if(A<a&&c>s){const y=h[m].trim();if(y!==""){const g=y.split(B1);for(let E=0,R=g.length;E<R;++E)o[A]=parseFloat(g[E]),++A}}++c}})(0,l.length,l)}),e.setData(o,r.nz,r.ny,r.nx),ot&&He.timeEnd("DxParser._parse "+this.name)}parseHeaderLines(e){const t={},n=e.length;let r=0,s=0,a=0;for(let o=0;o<n;++o){let A;const c=e[o];if(c.startsWith("object 1"))A=c.split(B1),t.nx=parseInt(A[5]),t.ny=parseInt(A[6]),t.nz=parseInt(A[7]);else if(c.startsWith("origin"))A=c.split(B1),t.xmin=parseFloat(A[1]),t.ymin=parseFloat(A[2]),t.zmin=parseFloat(A[3]);else if(c.startsWith("delta"))A=c.split(B1),a===0?t.hx=parseFloat(A[1])*this.voxelSize:a===1?t.hy=parseFloat(A[2])*this.voxelSize:a===2&&(t.hz=parseFloat(A[3])*this.voxelSize),a+=1;else if(c.startsWith("object 3")){r=o,s+=c.length+1;break}s+=c.length+1}return this.volume.header=t,{dataLineStart:r,headerByteCount:s}}getMatrix(){const e=this.volume.header,t=new xt;return t.multiply(new xt().makeRotationY(Mi(90))),t.multiply(new xt().makeTranslation(-e.zmin,e.ymin,e.xmin)),t.multiply(new xt().makeScale(-e.hz,e.hy,e.hx)),t}}an.add("dx",$T);an.add("dxbin",class extends $T{get type(){return"dxbin"}get isBinary(){return!0}_parse(){ot&&He.time("DxbinParser._parse "+this.name);const i=Bu(this.streamer.data),e=function(A,c=10485760,l=`
`){let u="",d=[];for(let h=0;h<A.length;h+=c){const m=Rf(A.subarray(h,h+c)),y=m.lastIndexOf(l);if(y===-1)u+=m;else{const g=u+m.substr(0,y);d=d.concat(g.split(l)),u=y===m.length-l.length?"":m.substr(y+l.length)}}return u!==""&&d.push(u),d}(new Uint8Array(i,0,1e3)),t=this.parseHeaderLines(e),n=this.volume.header,r=t.headerByteCount,s=n.nx*n.ny*n.nz,a=new DataView(i),o=new Float32Array(s);for(let A=0;A<s;++A)o[A]=a.getFloat64(8*A+r,!0);this.volume.setData(o,n.nz,n.ny,n.nx),ot&&He.timeEnd("DxbinParser._parse "+this.name)}});class Hw extends nh{get type(){return"mrc"}get isBinary(){return!0}_parse(){ot&&He.time("MrcParser._parse "+this.name);const e=this.volume,t={},n=Bu(this.streamer.data),r=new Int32Array(n,0,56),s=new Float32Array(n,0,56),a=new DataView(n);if(t.MAP=String.fromCharCode(a.getUint8(208),a.getUint8(209),a.getUint8(210),a.getUint8(211)),t.MACHST=[a.getUint8(212),a.getUint8(213)],t.MACHST[0]===17&&t.MACHST[1]===17){const A=n.byteLength;for(let c=0;c<A;c+=4)a.setFloat32(c,a.getFloat32(c),!0)}let o;if(t.NX=r[0],t.NY=r[1],t.NZ=r[2],t.MODE=r[3],t.NXSTART=r[4],t.NYSTART=r[5],t.NZSTART=r[6],t.MX=r[7],t.MY=r[8],t.MZ=r[9],t.xlen=s[10]*this.voxelSize,t.ylen=s[11]*this.voxelSize,t.zlen=s[12]*this.voxelSize,t.alpha=s[13],t.beta=s[14],t.gamma=s[15],t.MAPC=r[16],t.MAPR=r[17],t.MAPS=r[18],t.DMIN=s[19],t.DMAX=s[20],t.DMEAN=s[21],t.ISPG=r[22],t.NSYMBT=r[23],t.LSKFLG=r[24],t.originX=s[49],t.originY=s[50],t.originZ=s[51],t.ARMS=s[54],e.header=t,t.MODE===2)o=new Float32Array(n,1024+t.NSYMBT,t.NX*t.NY*t.NZ);else if(t.MODE===0){if(o=new Float32Array(new Int8Array(n,1024+t.NSYMBT,t.NX*t.NY*t.NZ)),r[39]===-128&&r[40]===127){const A=(t.DMAX-t.DMIN)/255,c=.5*(t.DMIN+t.DMAX+A);for(let l=0,u=o.length;l<u;++l)o[l]=A*o[l]+c}}else He.error("MrcParser unknown mode",t.MODE);e.setData(o,t.NX,t.NY,t.NZ),t.ARMS!==0&&e.setStats(t.DMIN,t.DMAX,t.DMEAN,t.ARMS),ot&&He.timeEnd("MrcParser._parse "+this.name)}getMatrix(){const e=this.volume.header,t=[e.xlen,0,0],n=[e.ylen*Math.cos(Math.PI/180*e.gamma),e.ylen*Math.sin(Math.PI/180*e.gamma),0],r=[e.zlen*Math.cos(Math.PI/180*e.beta),e.zlen*(Math.cos(Math.PI/180*e.alpha)-Math.cos(Math.PI/180*e.gamma)*Math.cos(Math.PI/180*e.beta))/Math.sin(Math.PI/180*e.gamma),0];r[2]=Math.sqrt(e.zlen*e.zlen*Math.sin(Math.PI/180*e.beta)*Math.sin(Math.PI/180*e.beta)-r[1]*r[1]);const s=[[],t,n,r],a=[0,e.MX,e.MY,e.MZ],o=[0,e.MAPC,e.MAPR,e.MAPS],A=new xt;return A.set(s[o[1]][0]/a[o[1]],s[o[2]][0]/a[o[2]],s[o[3]][0]/a[o[3]],0,s[o[1]][1]/a[o[1]],s[o[2]][1]/a[o[2]],s[o[3]][1]/a[o[3]],0,s[o[1]][2]/a[o[1]],s[o[2]][2]/a[o[2]],s[o[3]][2]/a[o[3]],0,0,0,0,1),A.setPosition(new ne(e.originX,e.originY,e.originZ)),A.multiply(new xt().makeTranslation(e.NXSTART,e.NYSTART,e.NZSTART)),A}}an.add("mrc",Hw),an.add("ccp4",Hw),an.add("map",Hw);const mle=/\s+/;function zw(i){return i.trim().split(mle).map(parseFloat)}class mB extends nh{get type(){return"xplor"}_parse(){ot&&He.time("XplorParser._parse "+this.name);const e=this.volume,t=this.streamer.peekLines(8),n={};let r;r=t[2].startsWith("REMARKS")?parseInt(t[1].substring(0,8))+2:5;const s=r+3,a=zw(t[r]);n.NA=a[0],n.AMIN=a[1],n.AMAX=a[2],n.NB=a[3],n.BMIN=a[4],n.BMAX=a[5],n.NC=a[6],n.CMIN=a[7],n.CMAX=a[8];const o=zw(t[r+1]);n.a=o[0]*this.voxelSize,n.b=o[1]*this.voxelSize,n.c=o[2]*this.voxelSize,n.alpha=o[3],n.beta=o[4],n.gamma=o[5];const A=n.AMAX-n.AMIN+1,c=n.BMAX-n.BMIN+1,l=n.CMAX-n.CMIN+1,u=A*c*l,d=new Float32Array(u),h=Math.ceil(1+A*c/6);let m=0,y=0;this.streamer.eachChunkOfLines(function(g){(function(E,R,p){for(let w=E;w<R;++w){const v=p[w];if(y>=s&&(y-s)%h!=0&&m<u)for(let _=0,x=6;_<x;++_){const C=parseFloat(v.substr(12*_,12));if(isNaN(C))break;d[m++]=C}else if(m===u){const _=v.trim();if(_&&_!=="-9999"){const x=zw(v);n.RAVE=x[0],n.RSIGMA=x[1]}}++y}})(0,g.length,g)}),e.header=n,e.setData(d,A,c,l),n.RAVE!==0&&n.RSIGMA!==1&&e.setStats(void 0,void 0,n.RAVE,n.RSIGMA),ot&&He.timeEnd("XplorParser._parse "+this.name)}getMatrix(){const e=this.volume.header,t=[e.a,0,0],n=[e.b*Math.cos(Math.PI/180*e.gamma),e.b*Math.sin(Math.PI/180*e.gamma),0],r=[e.c*Math.cos(Math.PI/180*e.beta),e.c*(Math.cos(Math.PI/180*e.alpha)-Math.cos(Math.PI/180*e.gamma)*Math.cos(Math.PI/180*e.beta))/Math.sin(Math.PI/180*e.gamma),0];r[2]=Math.sqrt(e.c*e.c*Math.sin(Math.PI/180*e.beta)*Math.sin(Math.PI/180*e.beta)-r[1]*r[1]);const s=[[],t,n,r],a=[0,e.NA,e.NB,e.NC],o=[0,1,2,3],A=new xt;return A.set(s[o[1]][0]/a[o[1]],s[o[2]][0]/a[o[2]],s[o[3]][0]/a[o[3]],0,s[o[1]][1]/a[o[1]],s[o[2]][1]/a[o[2]],s[o[3]][1]/a[o[3]],0,s[o[1]][2]/a[o[1]],s[o[2]][2]/a[o[2]],s[o[3]][2]/a[o[3]],0,0,0,0,1),A.multiply(new xt().makeTranslation(e.AMIN,e.BMIN,e.CMIN)),A}}function pi(i,e,t){let n,r,s;i/=360,e/=100,t/=100;const a=Math.floor(6*i),o=6*i-a,A=t*(1-e),c=t*(1-o*e),l=t*(1-(1-o)*e);switch(a%6){case 0:n=t,r=l,s=A;break;case 1:n=c,r=t,s=A;break;case 2:n=A,r=t,s=l;break;case 3:n=A,r=c,s=t;break;case 4:n=l,r=A,s=t;break;case 5:n=t,r=A,s=c}return[n,r,s]}an.add("xplor",mB),an.add("cns",mB);const $E={red:pi(0,100,100),orange:pi(20,100,100),gold:pi(40,100,100),yellow:pi(60,100,100),lime:pi(80,100,100),green:pi(120,80,100),sea:pi(150,100,100),cyan:pi(180,100,85),sky:pi(210,75,95),blue:pi(240,70,100),purple:pi(275,75,100),magenta:pi(300,95,100),hotpink:pi(335,100,100),pink:pi(350,55,100),peach:pi(25,75,100),lilac:pi(275,55,100),pinktint:pi(340,30,100),peachtint:pi(25,50,100),yellowtint:pi(60,50,100),greentint:pi(135,40,100),bluetint:pi(220,40,100),lilactint:pi(275,35,100),white:pi(0,0,100),gray:pi(0,0,50),brown:pi(20,45,75),deadwhite:[1,1,1],deadblack:[0,0,0],invisible:[0,0,0]},gle=/[\s,]+/,WT=/[^{}\s]*{[^{}]+}|[^{}\s]+/g,WE=/^{+|}+$/g,yle=/^['"]+|['"]+$/g,qT=/\s*=\s*/g;function C1(i){let e,t,n,r=[];const s=(i=i.replace(qT,"=")).match(WT);for(let a=1;a<s.length;++a){const o=s[a];if(o[0]==="{")e=o.substring(1,o.length-1);else{const A=o.split("=");A.length===2&&(A[0]==="color"?t=$E[A[1]]:A[0]==="width"?n=parseInt(A[1]):A[0]==="master"&&r.push(A[1].replace(WE,"")))}}return{listName:e,listColor:t,listMasters:r,listWidth:n}}function S1(i){const e=(i=i.trim()).indexOf("{"),t=i.indexOf("}"),n=i.substr(t+1).split(gle),r=i.substr(e+1,t-1),s=[parseFloat(n[n.length-3]),parseFloat(n[n.length-2]),parseFloat(n[n.length-1])];let a,o,A,c=!1,l=!1;for(let u=4;u<=n.length;u++){const d=n[n.length-u];d in $E&&(a=$E[n[n.length-u]]),d.startsWith("width")&&(o=parseInt(d.substring(5))),d.startsWith("r=")&&(A=parseFloat(d.split("=")[1])),d.startsWith("P")&&(c=!0),d.startsWith("X")&&(l=!0)}return{label:r,position:s,color:a,radius:A,width:o,isLineBreak:c,isTriangleBreak:l}}function Vw(i){const e=i.indexOf("{"),t=i.indexOf("}");return i.substring(e!==-1?e+1:0,t!==-1?t:void 0).trim()}function wle(i){const e=i.indexOf("}");return e===-1?void 0:i.substr(e+1).trim()}function Kw(i){let e="",t=[],n={};const r=(i=i.replace(qT,"=")).match(WT);for(let s=1;s<r.length;++s){const a=r[s];if(a[0]==="{")e=a.substring(1,a.length-1);else{const o=a.split("=");o.length===2?o[0]==="master"?t.push(o[1].replace(WE,"")):n[o[0]]=o[1].replace(WE,""):n[o[0]]=!0}}return{groupName:e,groupFlags:n,groupMasters:t}}an.add("kin",class extends Oa{get type(){return"kin"}get __objName(){return"kinemage"}_parse(){ot&&He.time(`KinParser._parse ${this.name}`);const i={kinemage:void 0,onewidth:void 0,"1viewid":void 0,pdbfile:void 0,texts:[],text:"",captions:[],caption:"",groupDict:{},subgroupDict:{},masterDict:{},pointmasterDict:{},dotLists:[],vectorLists:[],ballLists:[],ribbonLists:[]};let e,t;this.kinemage=i;let n,r,s,a,o,A,c,l,u,d,h,m,y,g,E,R,p,w,v,_,x,C,B=!1,G="",I=!1,N="",T=null,M=null,U=!1,z="",L=!1,k="",K=!1,V=!1;if(this.streamer.eachChunkOfLines(function(D){(function(H,oe,Ae){for(let se=H;se<oe;++se){const le=Ae[se];if(le[0]==="@"&&(B=!1,I=!1,U=!1,L=!1,K=!1,V=!1),le)if(le.startsWith("@dotlist")){let{listColor:J,listName:me,listMasters:ue}=C1(le);B=!0,G="",r=[],s=[],a=[],n=J,e&&(ue=ue.concat(e)),t&&(ue=ue.concat(t)),i.dotLists.push({name:me,masterArray:ue,labelArray:r,positionArray:s,colorArray:a})}else if(le.startsWith("@vectorlist")){let{listMasters:J,listName:me,listWidth:ue,listColor:ge}=C1(le);J&&J.forEach(function(fe){i.masterDict[fe]||(i.masterDict[fe]={indent:!1,visible:!1})}),I=!0,N="",T=null,M=null,c=[],l=[],u=[],d=[],h=[],m=[],o=ge,A=[],ue&&A.push(ue),e&&(J=J.concat(e)),t&&(J=J.concat(t)),i.vectorLists.push({name:me,masterArray:J,label1Array:c,label2Array:l,position1Array:u,position2Array:d,color1Array:h,color2Array:m,width:A})}else if(le.startsWith("@balllist")){let{listName:J,listColor:me,listMasters:ue}=C1(le);ue&&ue.forEach(function(ge){i.masterDict[ge]||(i.masterDict[ge]={indent:!1,visible:!1})}),U=!0,z="",E=[],y=[],R=[],p=[],g=me,e&&(ue=ue.concat(e)),t&&(ue=ue.concat(t)),i.ballLists.push({name:J,masterArray:ue,labelArray:E,radiusArray:y,positionArray:R,colorArray:p})}else if(le.startsWith("@ribbonlist")||le.startsWith("@trianglelist")){let{listMasters:J,listName:me,listColor:ue}=C1(le);J&&J.forEach(function(ge){i.masterDict[ge]||(i.masterDict[ge]={indent:!1,visible:!1})}),L=!0,k="",v=[],_=[],x=[],C=[],w=ue,e&&(J=J.concat(e)),t&&(J=J.concat(t)),i.ribbonLists.push({name:me,masterArray:J,labelArray:v,positionArray:_,breakArray:x,colorArray:C})}else if(le.startsWith("@text"))K=!0,i.texts.push(le.substr(5));else if(le.startsWith("@caption"))V=!0,i.captions.push(le.substr(8));else if(B){let{label:J,color:me,position:ue}=S1(le);J==='"'?J=G:G=J,me===void 0&&(me=n),r.push(J),s.push(...ue),a.push(...me)}else if(I){let J=le.replace(/(?!^){/g,`
{`).split(/\n/);for(var ee=0;ee<J.length;ee++){let me=J[ee],{label:ue,color:ge,width:fe,position:we,isLineBreak:Fe}=S1(me);ue==='"'?ue=N:N=ue,ge===void 0&&(ge=o),Fe||T!==null&&(fe&&A.push(fe),c.push(N),u.push(...T),h.push(...M),l.push(ue),d.push(...we),m.push(...ge)),N=ue,T=we,M=ge}}else if(U){let{label:J,radius:me,color:ue,position:ge}=S1(le);J==='"'?J=z:z=J,me===void 0&&(me=1),ue===void 0&&(ue=g),E.push(J),y.push(me),R.push(...ge),p.push(...ue)}else if(L){let{label:J,color:me,position:ue,isTriangleBreak:ge}=S1(le);J==='"'?J=k:k=J,me===void 0&&(me=w),v.push(J),_.push(...ue),x.push(ge),C.push(...me)}else if(K)i.texts.push(le);else if(V)i.captions.push(le);else if(le.startsWith("@kinemage"))i.kinemage=parseInt(le.substr(9).trim());else if(le.startsWith("@onewidth"))i.onewidth=!0;else if(le.startsWith("@1viewid"))i["1viewid"]=Vw(le);else if(le.startsWith("@pdbfile"))i.pdbfile=Vw(le);else if(le.startsWith("@group")){let{groupName:J,groupFlags:me,groupMasters:ue}=Kw(le);i.groupDict[J]||(i.groupDict[J]={dominant:!1,animate:!1},e=ue),e&&e.forEach(function(ge){i.masterDict[ge]||(i.masterDict[ge]={indent:!1,visible:!1})});for(let ge in me)i.groupDict[J][ge]=me[ge]}else if(le.startsWith("@subgroup")){const{groupName:J,groupFlags:me,groupMasters:ue}=Kw(le);i.subgroupDict[J]||(i.subgroupDict[J]={dominant:!1,animate:!1},t=ue),t&&t.forEach(function(ge){i.masterDict[ge]||(i.masterDict[ge]={indent:!1,visible:!1})});for(let ge in me)i.subgroupDict[J][ge]=me[ge]}else if(le.startsWith("@master")){const J=Vw(le),me=wle(le);i.masterDict[J]||(i.masterDict[J]={indent:!1,visible:!1}),me==="on"?i.masterDict[J].visible=!0:me==="off"?i.masterDict[J].visible=!1:me==="indent"&&(i.masterDict[J].indent=!0)}else if(le.startsWith("@pointmaster")){const{groupName:J,groupFlags:me}=Kw(le);i.pointmasterDict[J]={id:Object.keys(me)[0].replace(yle,"")}}else console.log(le);else B=!1,I=!1,U=!1,L=!1}})(0,D.length,D)}),i.text=i.texts.join(`
`).trim(),i.caption=i.captions.join(`
`).trim(),i.ribbonLists){let D=[];i.ribbonLists.forEach(function(H){D.push(function(oe){let{labelArray:Ae,positionArray:ee,colorArray:se,breakArray:le}=oe,J=[],me=[],ue=[],ge=[];for(let fe=0;fe<le.length/3;fe++){let we=3*fe,Fe=9*fe;le[we+1]||le[we+2]||(J.push(Ae[we]),J.push(Ae[we+1]),J.push(Ae[we+2]),ge.push(le[we]),ge.push(le[we+1]),ge.push(le[we+2]),me.push(ee[Fe]),me.push(ee[Fe+1]),me.push(ee[Fe+2]),me.push(ee[Fe+3]),me.push(ee[Fe+4]),me.push(ee[Fe+5]),me.push(ee[Fe+6]),me.push(ee[Fe+7]),me.push(ee[Fe+8]),ue.push(se[Fe]),ue.push(se[Fe+1]),ue.push(se[Fe+2]),ue.push(se[Fe+3]),ue.push(se[Fe+4]),ue.push(se[Fe+5]),ue.push(se[Fe+6]),ue.push(se[Fe+7]),ue.push(se[Fe+8]))}return{name:oe.name,masterArray:oe.masterArray,labelArray:J,positionArray:me,breakArray:ge,colorArray:ue}}(function(oe){let{labelArray:Ae,positionArray:ee,colorArray:se,breakArray:le}=oe,J=[];for(let we=0;we<3*(Ae.length-2);++we)J[we]=Ae[we-2*Math.floor(we/3)];let me=[];for(let we=0;we<3*(le.length-2);++we)me[we]=le[we-2*Math.floor(we/3)];let ue=[];for(let we=0;we<9*(ee.length/3-2);++we)ue[we]=ee[we-6*Math.floor(we/9)];let ge=[];for(let we=0;we<9*(se.length/3-2);++we)ge[we]=se[we-6*Math.floor(we/9)];let fe=[];for(let we=0;we<ue.length/3;++we)fe.push(new ne(ue[3*we],ue[3*we]+1,ue[3*we]+2));return{name:oe.name,masterArray:oe.masterArray,labelArray:J,positionArray:ue,breakArray:me,colorArray:ge}}(H)))}),i.ribbonLists=D}ot&&He.timeEnd(`KinParser._parse ${this.name}`)}});class ble extends Oa{constructor(e,t){super(e,t),this.loader=this.getLoader(),this.surface=new Jg(this.name,this.path)}get type(){return"surface"}get __objName(){return"surface"}_parse(){var e=this.loader.parse(this.streamer.asText());this.surface.fromGeometry(e)}}const qE=function(){this.regexp={vertex_pattern:/^v\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,normal_pattern:/^vn\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,uv_pattern:/^vt\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}};qE.prototype={constructor:qE,setPath:function(i){this.path=i},_createParserState:function(){var i={objects:[],object:{},vertices:[],normals:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1)return this.object.name=e,void(this.object.fromDeclaration=t!==!1);this.object={name:e||"",geometry:{vertices:[],normals:[]},fromDeclaration:t!==!1},this.objects.push(this.object)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},addVertex:function(e,t,n){var r=this.vertices,s=this.object.geometry.vertices;s.push(r[e+0]),s.push(r[e+1]),s.push(r[e+2]),s.push(r[t+0]),s.push(r[t+1]),s.push(r[t+2]),s.push(r[n+0]),s.push(r[n+1]),s.push(r[n+2])},addVertexLine:function(e){var t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0]),n.push(t[e+1]),n.push(t[e+2])},addNormal:function(e,t,n){var r=this.normals,s=this.object.geometry.normals;s.push(r[e+0]),s.push(r[e+1]),s.push(r[e+2]),s.push(r[t+0]),s.push(r[t+1]),s.push(r[t+2]),s.push(r[n+0]),s.push(r[n+1]),s.push(r[n+2])},addFace:function(e,t,n,r,s,a,o,A){var c,l=this.vertices.length,u=this.parseVertexIndex(e,l),d=this.parseVertexIndex(t,l),h=this.parseVertexIndex(n,l);if(r===void 0?this.addVertex(u,d,h):(c=this.parseVertexIndex(r,l),this.addVertex(u,d,c),this.addVertex(d,h,c)),s!==void 0){var m=this.normals.length;u=this.parseNormalIndex(s,m),d=s===a?u:this.parseNormalIndex(a,m),h=s===o?u:this.parseNormalIndex(o,m),r===void 0?this.addNormal(u,d,h):(c=this.parseNormalIndex(A,m),this.addNormal(u,d,c),this.addNormal(d,h,c))}},addLineGeometry:function(e){this.object.geometry.type="Line";for(var t=this.vertices.length,n=0,r=e.length;n<r;n++)this.addVertexLine(this.parseVertexIndex(e[n],t))}};return i.startObject("",!1),i},parse:function(i){var e,t,n=this._createParserState();i.indexOf(`\r
`)!==-1&&(i=i.replace(/\r\n/g,`
`)),i.indexOf(`\\
`)!==-1&&(i=i.replace(/\\\n/g,""));var r=i.split(`
`),s="",a="",o="",A=[],c=typeof"".trimLeft=="function";for(e=0,t=r.length;e<t;e++)if(s=r[e],(s=c?s.trimLeft():s.trim()).length!==0&&(a=s.charAt(0))!=="#"){if(a==="v"){if((o=s.charAt(1))===" "&&(A=this.regexp.vertex_pattern.exec(s))!==null)n.vertices.push(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));else if(o==="n"&&(A=this.regexp.normal_pattern.exec(s))!==null)n.normals.push(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));else if(o!=="t"||this.regexp.uv_pattern.exec(s)===null)throw new Error("Unexpected vertex/normal/uv line: '"+s+"'")}else if(a==="f"){if((A=this.regexp.face_vertex_uv_normal.exec(s))!==null)n.addFace(A[1],A[4],A[7],A[10],A[3],A[6],A[9],A[12]);else if(this.regexp.face_vertex_uv.exec(s)===null)if((A=this.regexp.face_vertex_normal.exec(s))!==null)n.addFace(A[1],A[3],A[5],A[7],A[2],A[4],A[6],A[8]);else{if((A=this.regexp.face_vertex.exec(s))===null)throw new Error("Unexpected face line: '"+s+"'");n.addFace(A[1],A[2],A[3],A[4])}}else if(a==="l"){var l=s.substring(1).trim().split(" "),u=[],d=[];if(s.indexOf("/")===-1)u=l;else for(var h=0,m=l.length;h<m;h++){var y=l[h].split("/");y[0]!==""&&u.push(y[0]),y[1]!==""&&d.push(y[1])}n.addLineGeometry(u,d)}else if((A=this.regexp.object_pattern.exec(s))!==null){var g=A[0].substr(1).trim();n.startObject(g)}else if(!this.regexp.material_use_pattern.test(s)){if(!this.regexp.material_library_pattern.test(s)){if(this.regexp.smoothing_pattern.exec(s)===null){if(s==="\0")continue;throw new Error("Unexpected line: '"+s+"'")}}}}var E=[];for(e=0,t=n.objects.length;e<t;e++){var R=n.objects[e].geometry;if(R.vertices.length!==0){var p=new tr;p.setAttribute("position",new zi(new Float32Array(R.vertices),3)),R.normals.length>0?p.setAttribute("normal",new zi(new Float32Array(R.normals),3)):p.computeVertexNormals(),E.push(p)}}return E}};an.add("obj",class extends ble{get type(){return"obj"}getLoader(){return new qE}});an.add("csv",class extends Oa{constructor(i,e){const t=e||{};super(i,t),this.delimiter=W(t.delimiter,","),this.comment=W(t.comment,"#"),this.columnNames=W(t.columnNames,!1),this.table={name:this.name,path:this.path,columnNames:[],data:[]}}get type(){return"csv"}get __objName(){return"table"}_parse(){const i=this.table.data,e=new RegExp("\\s*"+this.delimiter+"\\s*");let t=0;this.streamer.eachChunkOfLines(n=>{const r=n.length;for(let s=0;s<r;++s){const a=n[s].trim();if(a.startsWith(this.comment))continue;const o=a.split(e);t===0?this.table.columnNames=o:a&&i.push(o),++t}})}});an.add("json",class extends Oa{constructor(i,e){const t=e||{};super(i,t),this.string=W(t.string,!1),this.json={name:this.name,path:this.path,data:{}}}get type(){return"json"}get __objName(){return"json"}get isJson(){return!0}_parse(){this.streamer.isBinary()||this.string?this.json.data=JSON.parse(this.streamer.asText()):this.json.data=this.streamer.data}});an.add("msgpack",class extends Oa{constructor(i,e){super(i,e||{}),this.msgpack={name:this.name,path:this.path,data:void 0}}get type(){return"msgpack"}get __objName(){return"msgpack"}get isBinary(){return!0}_parse(){ot&&He.time("MsgpackParser._parse "+this.name),this.msgpack.data=HT(this.streamer.data),ot&&He.timeEnd("MsgpackParser._parse "+this.name)}});an.add("netcdf",class extends Oa{constructor(i,e){super(i,e||{}),this.netcdf={name:this.name,path:this.path,data:void 0}}get type(){return"netcdf"}get __objName(){return"netcdf"}get isBinary(){return!0}_parse(){ot&&He.time("NetcdfParser._parse "+this.name),this.netcdf.data=new KT(this.streamer.data),ot&&He.timeEnd("NetcdfParser._parse "+this.name)}});class gB extends Oa{constructor(e,t){super(e,t),this.text={name:this.name,path:this.path,data:""}}get type(){return"text"}get __objName(){return"text"}_parse(){this.text.data=this.streamer.asText()}}an.add("txt",gB),an.add("text",gB);const Ele=/^['"]|['"]$/g,_le=/^<([\w-:.]+)\s*/,vle=/^([^<]*)/,xle=/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/;function Rle(i){return i=i.trim().replace(/<!--[\s\S]*?-->/g,""),{declaration:e(),root:t()};function e(){if(!r(/^<\?xml\s*/))return;const o={attributes:{}};for(;!s()&&!a("?>");){const A=n();if(!A)return o;o.attributes[A.name]=A.value}return r(/\?>\s*/),o}function t(){const o=r(_le);if(!o)return;const A={name:o[1],attributes:{},children:[]};for(;!(s()||a(">")||a("?>")||a("/>"));){const l=n();if(!l)return A;A.attributes[l.name]=l.value}if(r(/^\s*\/>\s*/))return A;let c;for(r(/\??>\s*/),A.content=function(){const l=r(vle);return l?l[1]:""}();c=t();)A.children.push(c);return r(/^<\/[\w-:.]+>\s*/),A}function n(){const o=r(xle);var A;if(o)return{name:o[1],value:(A=o[2],A.replace(Ele,""))}}function r(o){const A=i.match(o);if(A)return i=i.slice(A[0].length),A}function s(){return i.length===0}function a(o){return i.indexOf(o)===0}}class YT extends Oa{constructor(e,t){const n=t||{};super(e,n),this.useDomParser=W(n.useDomParser,!1),this.xml={name:this.name,path:this.path,data:{}}}get type(){return"xml"}get __objName(){return"xml"}get isXml(){return!0}__xmlParser(e){return Rle(e)}__domParser(e){return new window.DOMParser().parseFromString(e,"text/xml")}_parse(){ot&&He.time("XmlParser._parse "+this.name),this.useDomParser?this.streamer.data instanceof Document?this.xml.data=this.streamer.data:this.xml.data=this.__domParser(this.streamer.asText()):this.xml.data=this.__xmlParser(this.streamer.asText()),ot&&He.timeEnd("XmlParser._parse "+this.name)}}function Wi(i,e){const t=i.getNamedItem(e);return t!==null?t.value:""}function yB(i,e,t=!1){const n=Wi(i,"icode").trim(),r=Wi(i,"chain").trim(),s=Wi(i,"altcode");let a=Wi(i,"resnum");return n&&(a+="^"+n),r&&(a+=":"+r),e&&(a+="."+e),t&&s.trim()&&(a+="%"+s),a+="/"+(parseInt(Wi(i,"model"))-1),a}function Ble(i){const e=Wi(i,"chain").trim();let t=`[${Wi(i,"rescode")}]${Wi(i,"resnum")}`;return e&&(t+=`:${e}`),t}function $w(i,e,t){i[e]===void 0?i[e]=t:i[e]|=t}function Ww(i,e){return i!==null&&i.value===e}function Cle(i,e,t){let n=0;const r=e.getElementsByTagName("clash");for(let s=0,a=r.length;s<a;++s)if(i[Wi(r[s].attributes,"cid")]){n+=1;break}return e.getElementsByTagName("angle-outlier").length>0&&(n+=1),e.getElementsByTagName("bond-outlier").length>0&&(n+=1),e.getElementsByTagName("plane-outlier").length>0&&(n+=1),Ww(t.getNamedItem("rota"),"OUTLIER")&&(n+=1),Ww(t.getNamedItem("rama"),"OUTLIER")&&(n+=1),Ww(t.getNamedItem("RNApucker"),"outlier")&&(n+=1),n}an.add("xml",YT);class Sle{constructor(e,t){this.name=e,this.path=t,this.rsrzDict={},this.rsccDict={},this.rciDict={},this.clashDict={},this.clashArray=[],this.geoDict={},this.geoAtomDict={},this.atomDict={},this.clashSele="NONE"}get type(){return"validation"}fromXml(e){ot&&He.time("Validation.fromXml");const t=this.rsrzDict,n=this.rsccDict,r=this.rciDict,s=this.clashDict,a=this.clashArray,o=this.geoDict,A=this.geoAtomDict,c=this.atomDict,l=e.getElementsByTagName("Entry");if(l.length===1){const m=l[0].getElementsByTagName("chemical_shift_list");if(m.length===1){const y=m[0].getElementsByTagName("random_coil_index");for(let g=0,E=y.length;g<E;++g){const R=y[g].attributes;r[Ble(R)]=parseFloat(Wi(R,"value"))}}}const u=e.getElementsByTagName("ModelledSubgroup"),d={},h=[];ot&&He.time("Validation.fromXml#clashDict");for(let m=0,y=u.length;m<y;++m){const g=u[m],E=g.attributes,R=yB(E);E.getNamedItem("rsrz")!==null&&(t[R]=parseFloat(Wi(E,"rsrz"))),E.getNamedItem("rscc")!==null&&(n[R]=parseFloat(Wi(E,"rscc")));const p=e.createAttribute("sele");p.value=R,E.setNamedItem(p);const w=g.getElementsByTagName("clash");for(let v=0,_=w.length;v<_;++v){const x=w[v].attributes,C=Wi(x,"atom");if(h4(C)!=="H"){const B=Wi(x,"cid"),G=yB(E,C,!0);if(c[G]=!0,d[B]===void 0)d[B]={sele1:G,res1:R};else{const I=d[B];I.res1!==R&&(I.sele2=G,I.res2=R,h.push(I.res1,R),s[B]=I,a.push(I))}}}}ot&&He.timeEnd("Validation.fromXml#clashDict");for(let m=0,y=u.length;m<y;++m){const g=u[m],E=g.attributes,R=Wi(E,"sele");if(Wi(E,"seq")!=="."){const p=Cle(s,g,E);p>0&&(o[R]=p)}else{const p=g.getElementsByTagName("clash"),w=g.getElementsByTagName("mog-bond-outlier"),v=g.getElementsByTagName("mog-angle-outlier");if(w.length>0||v.length>0||p.length>0){const _={};A[R]=_;for(let x=0,C=p.length;x<C;++x){const B=p[x].attributes;s[Wi(B,"cid")]&&$w(_,Wi(B,"atom"),1)}for(let x=0,C=w.length;x<C;++x)Wi(w[x].attributes,"atoms").split(",").forEach(function(B){$w(_,B,2)});for(let x=0,C=v.length;x<C;++x)Wi(v[x].attributes,"atoms").split(",").forEach(function(B){$w(_,B,4)})}}}this.clashSele=h.length?h.join(" OR "):"NONE",ot&&He.timeEnd("Validation.fromXml")}getClashData(e){ot&&He.time("Validation.getClashData");const t=e||{},n=t.structure,r=n.atomSet,s=new $t(W(t.color,"#f0027f")),a=n.getAtomProxy(),o=n.getAtomProxy(),A=new ne,c=new ne,l=new ne,u=this.clashArray,d=u.length,h=new Float32Array(3*d),m=new Float32Array(3*d),y=ei(d,s.r,s.g,s.b),g=new Float32Array(d),E=new Float32Array(d);ot&&He.time("Validation.getClashData#atomDict");const R=this.atomDict;n.eachAtom(function(w){const v=function(_){const x=_.inscode,C=_.chainname,B=_.atomname,G=_.altloc;let I=_.resno+"";return x&&(I+="^"+x),C&&(I+=":"+C),B&&(I+="."+B),G&&(I+="%"+G),I+="/"+_.modelIndex,I}(w);R[v]===!0&&(R[v]=w.index)}),ot&&He.timeEnd("Validation.getClashData#atomDict");let p=0;return u.forEach(function(w,v){if(a.index=R[w.sele1],o.index=R[w.sele2],a.index===void 0||o.index===void 0||!r.isSet(a.index,o.index))return;A.subVectors(o,a).setLength(a.vdw),c.copy(a).add(A),A.subVectors(a,o).setLength(o.vdw),l.copy(o).add(A);const _=a.distanceTo(o)/2,x=Math.sqrt(a.vdw*a.vdw-_*_),C=Math.sqrt(o.vdw*o.vdw-_*_);c.toArray(h,3*p),l.toArray(m,3*p),g[p]=(x+C)/2,E[p]=v,++p}),ot&&He.timeEnd("Validation.getClashData"),{position1:h.subarray(0,3*p),position2:m.subarray(0,3*p),color:y.subarray(0,3*p),color2:y.subarray(0,3*p),radius:g.subarray(0,p),picking:new eoe(E.subarray(0,p),this,n)}}}function XT(i,e){return i.length===e?i:i.subarray?i.subarray(0,e):(i.length=e,i)}function Zl(i,e,t,n,r){if(e.subarray&&i.subarray)i.set(e.subarray(t,t+n),r);else for(var s=0;s<n;s++)i[r+s]=e[t+s]}function YE(i,e,t,n){for(var r=65535&i,s=i>>>16&65535,a=0;t!==0;){t-=a=t>2e3?2e3:t;do s=s+(r=r+e[n++]|0)|0;while(--a);r%=65521,s%=65521}return r|s<<16}an.add("validation",class extends YT{constructor(i,e){super(i,e||{}),this.useDomParser=!0,this.validation=new Sle(this.name,this.path)}get __objName(){return"validation"}get isXml(){return!0}_parse(){super._parse(),ot&&He.time("ValidationParser._parse "+this.name),this.validation.fromXml(this.xml.data),ot&&He.timeEnd("ValidationParser._parse "+this.name)}});var Nle=function(){for(var i,e=[],t=0;t<256;t++){i=t;for(var n=0;n<8;n++)i=1&i?3988292384^i>>>1:i>>>1;e[t]=i}return e}();function Wa(i,e,t,n){var r=Nle,s=n+t;i^=-1;for(var a=n;a<s;a++)i=i>>>8^r[255&(i^e[a])];return~i}var N1=30,Mle=12;function Tle(i,e){var t,n,r,s,a,o,A,c,l,u,d,h,m,y,g,E,R,p,w,v,_,x,C,B,G;t=i.state,n=i.next_in,B=i.input,r=n+(i.avail_in-5),s=i.next_out,G=i.output,a=s-(e-i.avail_out),o=s+(i.avail_out-257),A=t.dmax,c=t.wsize,l=t.whave,u=t.wnext,d=t.window,h=t.hold,m=t.bits,y=t.lencode,g=t.distcode,E=(1<<t.lenbits)-1,R=(1<<t.distbits)-1;e:do{m<15&&(h+=B[n++]<<m,m+=8,h+=B[n++]<<m,m+=8),p=y[h&E];t:for(;;){if(h>>>=w=p>>>24,m-=w,(w=p>>>16&255)===0)G[s++]=65535&p;else{if(!(16&w)){if(64&w){if(32&w){t.mode=Mle;break e}i.msg="invalid literal/length code",t.mode=N1;break e}p=y[(65535&p)+(h&(1<<w)-1)];continue t}for(v=65535&p,(w&=15)&&(m<w&&(h+=B[n++]<<m,m+=8),v+=h&(1<<w)-1,h>>>=w,m-=w),m<15&&(h+=B[n++]<<m,m+=8,h+=B[n++]<<m,m+=8),p=g[h&R];;){if(h>>>=w=p>>>24,m-=w,16&(w=p>>>16&255)){if(_=65535&p,m<(w&=15)&&(h+=B[n++]<<m,(m+=8)<w&&(h+=B[n++]<<m,m+=8)),(_+=h&(1<<w)-1)>A){i.msg="invalid distance too far back",t.mode=N1;break e}if(h>>>=w,m-=w,_>(w=s-a)){if((w=_-w)>l&&t.sane){i.msg="invalid distance too far back",t.mode=N1;break e}if(x=0,C=d,u===0){if(x+=c-w,w<v){v-=w;do G[s++]=d[x++];while(--w);x=s-_,C=G}}else if(u<w){if(x+=c+u-w,(w-=u)<v){v-=w;do G[s++]=d[x++];while(--w);if(x=0,u<v){v-=w=u;do G[s++]=d[x++];while(--w);x=s-_,C=G}}}else if(x+=u-w,w<v){v-=w;do G[s++]=d[x++];while(--w);x=s-_,C=G}for(;v>2;)G[s++]=C[x++],G[s++]=C[x++],G[s++]=C[x++],v-=3;v&&(G[s++]=C[x++],v>1&&(G[s++]=C[x++]))}else{x=s-_;do G[s++]=G[x++],G[s++]=G[x++],G[s++]=G[x++],v-=3;while(v>2);v&&(G[s++]=G[x++],v>1&&(G[s++]=G[x++]))}break}if(64&w){i.msg="invalid distance code",t.mode=N1;break e}p=g[(65535&p)+(h&(1<<w)-1)]}}break}}while(n<r&&s<o);n-=v=m>>3,h&=(1<<(m-=v<<3))-1,i.next_in=n,i.next_out=s,i.avail_in=n<r?r-n+5:5-(n-r),i.avail_out=s<o?o-s+257:257-(s-o),t.hold=h,t.bits=m}var Rl=15,wB=852,bB=592,EB=0,qw=1,_B=2,Gle=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Fle=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Ile=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ule=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function cf(i,e,t,n,r,s,a,o){var A,c,l,u,d,h,m,y,g,E=o.bits,R=0,p=0,w=0,v=0,_=0,x=0,C=0,B=0,G=0,I=0,N=null,T=0,M=new Uint16Array(Rl+1),U=new Uint16Array(Rl+1),z=null,L=0;for(R=0;R<=Rl;R++)M[R]=0;for(p=0;p<n;p++)M[e[t+p]]++;for(_=E,v=Rl;v>=1&&M[v]===0;v--);if(_>v&&(_=v),v===0)return r[s++]=20971520,r[s++]=20971520,o.bits=1,0;for(w=1;w<v&&M[w]===0;w++);for(_<w&&(_=w),B=1,R=1;R<=Rl;R++)if(B<<=1,(B-=M[R])<0)return-1;if(B>0&&(i===EB||v!==1))return-1;for(U[1]=0,R=1;R<Rl;R++)U[R+1]=U[R]+M[R];for(p=0;p<n;p++)e[t+p]!==0&&(a[U[e[t+p]]++]=p);if(i===EB?(N=z=a,h=19):i===qw?(N=Gle,T-=257,z=Fle,L-=257,h=256):(N=Ile,z=Ule,h=-1),I=0,p=0,R=w,d=s,x=_,C=0,l=-1,u=(G=1<<_)-1,i===qw&&G>wB||i===_B&&G>bB)return 1;for(;;){m=R-C,a[p]<h?(y=0,g=a[p]):a[p]>h?(y=z[L+a[p]],g=N[T+a[p]]):(y=96,g=0),A=1<<R-C,w=c=1<<x;do r[d+(I>>C)+(c-=A)]=m<<24|y<<16|g;while(c!==0);for(A=1<<R-1;I&A;)A>>=1;if(A!==0?(I&=A-1,I+=A):I=0,p++,--M[R]==0){if(R===v)break;R=e[t+a[p]]}if(R>_&&(I&u)!==l){for(C===0&&(C=_),d+=w,B=1<<(x=R-C);x+C<v&&!((B-=M[x+C])<=0);)x++,B<<=1;if(G+=1<<x,i===qw&&G>wB||i===_B&&G>bB)return 1;r[l=I&u]=_<<24|x<<16|d-s}}return I!==0&&(r[d+I]=R-C<<24|64<<16),o.bits=_,0}var jT=1,ZT=2,yu=0,uo=-2,JT=1,qo=12,vi=30,Ple=852,Lle=592;function vB(i){return(i>>>24&255)+(i>>>8&65280)+((65280&i)<<8)+((255&i)<<24)}function Dle(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function kle(i){var e;return i&&i.state?((e=i.state).wsize=0,e.whave=0,e.wnext=0,function(t){var n;return t&&t.state?(n=t.state,t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=1&n.wrap),n.mode=JT,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(Ple),n.distcode=n.distdyn=new Int32Array(Lle),n.sane=1,n.back=-1,yu):uo}(i)):uo}function Ole(i,e){var t,n;return i?(n=new Dle,i.state=n,n.window=null,t=function(r,s){var a,o;return r&&r.state?(o=r.state,s<0?(a=0,s=-s):(a=1+(s>>4),s<48&&(s&=15)),s&&(s<8||s>15)?uo:(o.window!==null&&o.wbits!==s&&(o.window=null),o.wrap=a,o.wbits=s,kle(r))):uo}(i,e),t!==yu&&(i.state=null),t):uo}var Yw,Xw,xB=!0;function Qle(i){if(xB){var e;for(Yw=new Int32Array(512),Xw=new Int32Array(32),e=0;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(cf(jT,i.lens,0,288,Yw,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;cf(ZT,i.lens,0,32,Xw,0,i.work,{bits:5}),xB=!1}i.lencode=Yw,i.lenbits=9,i.distcode=Xw,i.distbits=5}function eG(i,e,t,n){var r,s=i.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(Zl(s.window,e,t-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((r=s.wsize-s.wnext)>n&&(r=n),Zl(s.window,e,t-n,r,s.wnext),(n-=r)?(Zl(s.window,e,t-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}function Hle(i,e){var t,n,r,s,a,o,A,c,l,u,d,h,m,y,g,E,R,p,w,v,_,x,C,B,G=0,I=new Uint8Array(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!i||!i.state||!i.output||!i.input&&i.avail_in!==0)return uo;(t=i.state).mode===qo&&(t.mode=13),a=i.next_out,r=i.output,A=i.avail_out,s=i.next_in,n=i.input,o=i.avail_in,c=t.hold,l=t.bits,u=o,d=A,x=yu;e:for(;;)switch(t.mode){case JT:if(t.wrap===0){t.mode=13;break}for(;l<16;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(2&t.wrap&&c===35615){t.check=0,I[0]=255&c,I[1]=c>>>8&255,t.check=Wa(t.check,I,2,0),c=0,l=0,t.mode=2;break}if(t.flags=0,t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&c)<<8)+(c>>8))%31){i.msg="incorrect header check",t.mode=vi;break}if((15&c)!=8){i.msg="unknown compression method",t.mode=vi;break}if(l-=4,_=8+(15&(c>>>=4)),t.wbits===0)t.wbits=_;else if(_>t.wbits){i.msg="invalid window size",t.mode=vi;break}t.dmax=1<<_,i.adler=t.check=1,t.mode=512&c?10:qo,c=0,l=0;break;case 2:for(;l<16;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(t.flags=c,(255&t.flags)!=8){i.msg="unknown compression method",t.mode=vi;break}if(57344&t.flags){i.msg="unknown header flags set",t.mode=vi;break}t.head&&(t.head.text=c>>8&1),512&t.flags&&(I[0]=255&c,I[1]=c>>>8&255,t.check=Wa(t.check,I,2,0)),c=0,l=0,t.mode=3;case 3:for(;l<32;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}t.head&&(t.head.time=c),512&t.flags&&(I[0]=255&c,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,t.check=Wa(t.check,I,4,0)),c=0,l=0,t.mode=4;case 4:for(;l<16;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}t.head&&(t.head.xflags=255&c,t.head.os=c>>8),512&t.flags&&(I[0]=255&c,I[1]=c>>>8&255,t.check=Wa(t.check,I,2,0)),c=0,l=0,t.mode=5;case 5:if(1024&t.flags){for(;l<16;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}t.length=c,t.head&&(t.head.extra_len=c),512&t.flags&&(I[0]=255&c,I[1]=c>>>8&255,t.check=Wa(t.check,I,2,0)),c=0,l=0}else t.head&&(t.head.extra=null);t.mode=6;case 6:if(1024&t.flags&&((h=t.length)>o&&(h=o),h&&(t.head&&(_=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),Zl(t.head.extra,n,s,h,_)),512&t.flags&&(t.check=Wa(t.check,n,h,s)),o-=h,s+=h,t.length-=h),t.length))break e;t.length=0,t.mode=7;case 7:if(2048&t.flags){if(o===0)break e;h=0;do _=n[s+h++],t.head&&_&&t.length<65536&&(t.head.name+=String.fromCharCode(_));while(_&&h<o);if(512&t.flags&&(t.check=Wa(t.check,n,h,s)),o-=h,s+=h,_)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=8;case 8:if(4096&t.flags){if(o===0)break e;h=0;do _=n[s+h++],t.head&&_&&t.length<65536&&(t.head.comment+=String.fromCharCode(_));while(_&&h<o);if(512&t.flags&&(t.check=Wa(t.check,n,h,s)),o-=h,s+=h,_)break e}else t.head&&(t.head.comment=null);t.mode=9;case 9:if(512&t.flags){for(;l<16;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(c!==(65535&t.check)){i.msg="header crc mismatch",t.mode=vi;break}c=0,l=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=qo;break;case 10:for(;l<32;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}i.adler=t.check=vB(c),c=0,l=0,t.mode=11;case 11:if(t.havedict===0)return i.next_out=a,i.avail_out=A,i.next_in=s,i.avail_in=o,t.hold=c,t.bits=l,2;i.adler=t.check=1,t.mode=qo;case qo:if(e===5||e===6)break e;case 13:if(t.last){c>>>=7&l,l-=7&l,t.mode=27;break}for(;l<3;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}switch(t.last=1&c,l-=1,3&(c>>>=1)){case 0:t.mode=14;break;case 1:if(Qle(t),t.mode=20,e===6){c>>>=2,l-=2;break e}break;case 2:t.mode=17;break;case 3:i.msg="invalid block type",t.mode=vi}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){i.msg="invalid stored block lengths",t.mode=vi;break}if(t.length=65535&c,c=0,l=0,t.mode=15,e===6)break e;case 15:t.mode=16;case 16:if(h=t.length){if(h>o&&(h=o),h>A&&(h=A),h===0)break e;Zl(r,n,s,h,a),o-=h,s+=h,A-=h,a+=h,t.length-=h;break}t.mode=qo;break;case 17:for(;l<14;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(t.nlen=257+(31&c),c>>>=5,l-=5,t.ndist=1+(31&c),c>>>=5,l-=5,t.ncode=4+(15&c),c>>>=4,l-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=vi;break}t.have=0,t.mode=18;case 18:for(;t.have<t.ncode;){for(;l<3;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}t.lens[N[t.have++]]=7&c,c>>>=3,l-=3}for(;t.have<19;)t.lens[N[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,C={bits:t.lenbits},x=cf(0,t.lens,0,19,t.lencode,0,t.work,C),t.lenbits=C.bits,x){i.msg="invalid code lengths set",t.mode=vi;break}t.have=0,t.mode=19;case 19:for(;t.have<t.nlen+t.ndist;){for(;E=(G=t.lencode[c&(1<<t.lenbits)-1])>>>16&255,R=65535&G,!((g=G>>>24)<=l);){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(R<16)c>>>=g,l-=g,t.lens[t.have++]=R;else{if(R===16){for(B=g+2;l<B;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(c>>>=g,l-=g,t.have===0){i.msg="invalid bit length repeat",t.mode=vi;break}_=t.lens[t.have-1],h=3+(3&c),c>>>=2,l-=2}else if(R===17){for(B=g+3;l<B;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}l-=g,_=0,h=3+(7&(c>>>=g)),c>>>=3,l-=3}else{for(B=g+7;l<B;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}l-=g,_=0,h=11+(127&(c>>>=g)),c>>>=7,l-=7}if(t.have+h>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=vi;break}for(;h--;)t.lens[t.have++]=_}}if(t.mode===vi)break;if(t.lens[256]===0){i.msg="invalid code -- missing end-of-block",t.mode=vi;break}if(t.lenbits=9,C={bits:t.lenbits},x=cf(jT,t.lens,0,t.nlen,t.lencode,0,t.work,C),t.lenbits=C.bits,x){i.msg="invalid literal/lengths set",t.mode=vi;break}if(t.distbits=6,t.distcode=t.distdyn,C={bits:t.distbits},x=cf(ZT,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,C),t.distbits=C.bits,x){i.msg="invalid distances set",t.mode=vi;break}if(t.mode=20,e===6)break e;case 20:t.mode=21;case 21:if(o>=6&&A>=258){i.next_out=a,i.avail_out=A,i.next_in=s,i.avail_in=o,t.hold=c,t.bits=l,Tle(i,d),a=i.next_out,r=i.output,A=i.avail_out,s=i.next_in,n=i.input,o=i.avail_in,c=t.hold,l=t.bits,t.mode===qo&&(t.back=-1);break}for(t.back=0;E=(G=t.lencode[c&(1<<t.lenbits)-1])>>>16&255,R=65535&G,!((g=G>>>24)<=l);){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(E&&!(240&E)){for(p=g,w=E,v=R;E=(G=t.lencode[v+((c&(1<<p+w)-1)>>p)])>>>16&255,R=65535&G,!(p+(g=G>>>24)<=l);){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}c>>>=p,l-=p,t.back+=p}if(c>>>=g,l-=g,t.back+=g,t.length=R,E===0){t.mode=26;break}if(32&E){t.back=-1,t.mode=qo;break}if(64&E){i.msg="invalid literal/length code",t.mode=vi;break}t.extra=15&E,t.mode=22;case 22:if(t.extra){for(B=t.extra;l<B;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,l-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=23;case 23:for(;E=(G=t.distcode[c&(1<<t.distbits)-1])>>>16&255,R=65535&G,!((g=G>>>24)<=l);){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(!(240&E)){for(p=g,w=E,v=R;E=(G=t.distcode[v+((c&(1<<p+w)-1)>>p)])>>>16&255,R=65535&G,!(p+(g=G>>>24)<=l);){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}c>>>=p,l-=p,t.back+=p}if(c>>>=g,l-=g,t.back+=g,64&E){i.msg="invalid distance code",t.mode=vi;break}t.offset=R,t.extra=15&E,t.mode=24;case 24:if(t.extra){for(B=t.extra;l<B;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,l-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=vi;break}t.mode=25;case 25:if(A===0)break e;if(h=d-A,t.offset>h){if((h=t.offset-h)>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=vi;break}h>t.wnext?(h-=t.wnext,m=t.wsize-h):m=t.wnext-h,h>t.length&&(h=t.length),y=t.window}else y=r,m=a-t.offset,h=t.length;h>A&&(h=A),A-=h,t.length-=h;do r[a++]=y[m++];while(--h);t.length===0&&(t.mode=21);break;case 26:if(A===0)break e;r[a++]=t.length,A--,t.mode=21;break;case 27:if(t.wrap){for(;l<32;){if(o===0)break e;o--,c|=n[s++]<<l,l+=8}if(d-=A,i.total_out+=d,t.total+=d,d&&(i.adler=t.check=t.flags?Wa(t.check,r,d,a-d):YE(t.check,r,d,a-d)),d=A,(t.flags?c:vB(c))!==t.check){i.msg="incorrect data check",t.mode=vi;break}c=0,l=0}t.mode=28;case 28:if(t.wrap&&t.flags){for(;l<32;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(c!==(4294967295&t.total)){i.msg="incorrect length check",t.mode=vi;break}c=0,l=0}t.mode=29;case 29:x=1;break e;case vi:x=-3;break e;case 31:return-4;default:return uo}return i.next_out=a,i.avail_out=A,i.next_in=s,i.avail_in=o,t.hold=c,t.bits=l,(t.wsize||d!==i.avail_out&&t.mode<vi&&(t.mode<27||e!==4))&&eG(i,i.output,i.next_out,d-i.avail_out),u-=i.avail_in,d-=i.avail_out,i.total_in+=u,i.total_out+=d,t.total+=d,t.wrap&&d&&(i.adler=t.check=t.flags?Wa(t.check,r,d,i.next_out-d):YE(t.check,r,d,i.next_out-d)),i.data_type=t.bits+(t.last?64:0)+(t.mode===qo?128:0)+(t.mode===20||t.mode===15?256:0),(u===0&&d===0||e===4)&&x===yu&&(x=-5),x}function zle(i,e){var t,n=e.length;return i&&i.state?(t=i.state).wrap!==0&&t.mode!==11?uo:t.mode===11&&YE(1,e,n,0)!==t.check?-3:eG(i,e,n,n)?(t.mode=31,-4):(t.havedict=1,yu):uo}var tG=!0,nG=!0;try{String.fromCharCode.apply(null,[0])}catch{tG=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nG=!1}for(var Ff=new Uint8Array(256),$A=0;$A<256;$A++)Ff[$A]=$A>=252?6:$A>=248?5:$A>=240?4:$A>=224?3:$A>=192?2:1;function Vle(i){var e,t,n,r,s,a=i.length,o=0;for(r=0;r<a;r++)(64512&(t=i.charCodeAt(r)))==55296&&r+1<a&&(64512&(n=i.charCodeAt(r+1)))==56320&&(t=65536+(t-55296<<10)+(n-56320),r++),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,r=0;s<o;r++)(64512&(t=i.charCodeAt(r)))==55296&&r+1<a&&(64512&(n=i.charCodeAt(r+1)))==56320&&(t=65536+(t-55296<<10)+(n-56320),r++),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|63&t):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|63&t):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|63&t);return e}function Kle(i,e){var t,n,r,s,a=e||i.length,o=new Array(2*a);for(n=0,t=0;t<a;)if((r=i[t++])<128)o[n++]=r;else if((s=Ff[r])>4)o[n++]=65533,t+=s-1;else{for(r&=s===2?31:s===3?15:7;s>1&&t<a;)r=r<<6|63&i[t++],s--;s>1?o[n++]=65533:r<65536?o[n++]=r:(r-=65536,o[n++]=55296|r>>10&1023,o[n++]=56320|1023&r)}return function(A,c){if(c<65537&&(A.subarray&&nG||!A.subarray&&tG))return String.fromCharCode.apply(null,XT(A,c));for(var l="",u=0;u<c;u++)l+=String.fromCharCode(A[u]);return l}(o,n)}function $le(i,e){var t;for((e=e||i.length)>i.length&&(e=i.length),t=e-1;t>=0&&(192&i[t])==128;)t--;return t<0||t===0?e:t+Ff[i[t]]>e?t:e}Ff[254]=Ff[254]=1;var Gl=0,Wle={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function qle(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Yle(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var RB=Object.prototype.toString;function Ql(i){if(!(this instanceof Ql))return new Ql(i);this.options=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var A=o.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var c in A)A.hasOwnProperty(c)&&(a[c]=A[c])}}return a}({chunkSize:16384,windowBits:0,to:""},i||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||i&&i.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qle,this.strm.avail_out=0;var t,n,r,s=Ole(this.strm,e.windowBits);if(s!==Gl)throw new Error(Wle[s]);this.header=new Yle,t=this.strm,n=this.header,t&&t.state&&2&(r=t.state).wrap&&(r.head=n,n.done=!1)}Ql.prototype.push=function(i,e){var t,n,r,s,a,o,A=this.strm,c=this.options.chunkSize,l=this.options.dictionary,u=!1;if(this.ended)return!1;n=e===~~e?e:e===!0?4:0,typeof i=="string"?A.input=function(d){for(var h=new Uint8Array(d.length),m=0,y=h.length;m<y;m++)h[m]=d.charCodeAt(m);return h}(i):RB.call(i)==="[object ArrayBuffer]"?A.input=new Uint8Array(i):A.input=i,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new Uint8Array(c),A.next_out=0,A.avail_out=c),(t=Hle(A,0))===2&&l&&(o=typeof l=="string"?Vle(l):RB.call(l)==="[object ArrayBuffer]"?new Uint8Array(l):l,t=zle(this.strm,o)),t===-5&&u===!0&&(t=Gl,u=!1),t!==1&&t!==Gl)return this.onEnd(t),this.ended=!0,!1;A.next_out&&(A.avail_out!==0&&t!==1&&(A.avail_in!==0||n!==4&&n!==2)||(this.options.to==="string"?(r=$le(A.output,A.next_out),s=A.next_out-r,a=Kle(A.output,r),A.next_out=s,A.avail_out=c-s,s&&Zl(A.output,A.output,r,s,0),this.onData(a)):this.onData(XT(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(u=!0)}while((A.avail_in>0||A.avail_out===0)&&t!==1);return t===1&&(n=4),n===4?(t=function(d){if(!d||!d.state)return uo;var h=d.state;return h.window&&(h.window=null),d.state=null,yu}(this.strm),this.onEnd(t),this.ended=!0,t===Gl):n!==2||(this.onEnd(Gl),A.avail_out=0,!0)},Ql.prototype.onData=function(i){this.chunks.push(i)},Ql.prototype.onEnd=function(i){i===Gl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=function(e){var t,n,r,s,a,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),s=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,s),s+=a.length;return o}(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg},A4.add("gz",function(i){let e;i instanceof ArrayBuffer&&(i=new Uint8Array(i));try{e=function(t,n){var r=new Ql(n);if(r.push(t,!0),r.err)throw r.msg;return r.result}(i)}catch{e=i}return e});class ih{}const BB="https:";o0.add("rcsb",new class extends ih{getUrl(i){const e=us(i),t=e.name.indexOf("_")>-1?e.name:e.name.substring(0,4);return!["pdb","cif"].includes(e.ext)||e.compressed!==!1&&e.compressed!=="gz"?(e.ext==="mmtf"&&(He.warn(`MMTF files distribution has been discontinued by RCSB PDB as of July 2024.
 Defaulting to bcif format instead. See https://www.rcsb.org/news/65a1af31c76ca3abcc925d0c for the deprecation notice`),e.base.endsWith(".bb")&&He.warn("Backbone only files are not available from RCSB PDB anymore."),e.ext=""),e.ext?He.warn("unsupported ext",e.ext):He.warn(`mmCif files available from RCSB PDB lack connectivity information.
 Consider using PDBe as the data provider for using "Updated mmCif files" that contain residues connectivity records.`),BB+"//models.rcsb.org/"+t+".bcif.gz"):BB+"//files.rcsb.org/download/"+e.path}getExt(i){return us(i).ext||"bcif"}});const yd="//www.ebi.ac.uk/pdbe/entry-files/download/";o0.add("pdbe",new class extends ih{getUrl(i){const e=us(i);let t,n=e.name.indexOf("_")>-1?e.name:e.name.substring(0,4);switch(e.ext){case"cif":t=yd+n+"_updated.cif";break;case"pdb":case"ent":n.startsWith("pdb")||(n="pdb"+n),t=yd+n+".ent";break;case"bcif":t=yd+e.path;break;case"":t=yd+n+".bcif";break;default:He.warn("unsupported ext",e.ext),t=yd+n+".bcif"}return"https://"+t}getExt(i){return us(i).ext||"bcif"}});const CB="//pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/",SB="/SDF?record_type=3d";o0.add("pubchem",new class extends ih{getUrl(i){const e=us(i),t=e.name;let n;return e.ext&&e.ext!=="sdf"&&He.warn("unsupported ext",e.ext),n=CB+t+SB,function(){const r=window.location.protocol;return r.match(/http(s)?:/gi)===null?"http:":r}()+n}getExt(i){return us(i).ext||"sdf"}});class jw extends ih{getUrl(e){return e}getExt(e){return us(e).ext}}o0.add("ftp",new jw),o0.add("http",new jw),o0.add("https",new jw);const NB="//alphafold.ebi.ac.uk/files/AF-",MB="-F1-model_v4.pdb";o0.add("alphafold",new class extends ih{getUrl(i){const e=us(i),t=e.name;let n;return e.ext&&e.ext!=="pdb"&&He.warn("unsupported AF ext",e.ext),n=NB+t+MB,"https://"+n}getExt(i){return us(i).ext||"pdb"}});function TB(i,e){return{type:"integer",max:i,min:e}}function Bl(i,e,t){return{type:"number",precision:i,max:e,min:t}}function Cl(i,e,t){return{type:"range",step:i,max:e,min:t}}function wd(...i){return{type:"select",options:i.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:t}),{})}}wd("auto","low","medium","high"),Cl(1,5,-1),Bl(1,10,0),Bl(1,10,0),Bl(1,10,0),Cl(1,100,0),Cl(1,100,0),TB(200,0),wd("scene","camera"),wd("relative","absolute"),Cl(1,100,0),Cl(1,100,0),wd("perspective","orthographic","stereo"),Bl(3,1,.01),Cl(1,120,15),Bl(2,10,0),Bl(2,10,0),TB(1e4,-1),wd(...Object.keys(iT));var ug,iG,dg,rG,fg,sG,Ac,Qd;class Xle extends EventTarget{constructor(t,n){super();D0(this,ug);D0(this,dg);D0(this,fg);D0(this,Ac);this.config=t,this.config={...t},this.data=n,this.initStage()}initStage(){let t=this;document.getElementById(t.config.parentElement).innerHTML="",document.querySelector(".protein-tooltip")&&document.querySelector(".protein-tooltip").remove(),t.stage=new FAe(t.config.parentElement,{backgroundColor:t.config.screenColor}),t.resize(),t.refMap=t.data[t.config.dataset].mut_metric_df.reduce((r,s)=>(r[s.site_protein]||(r[s.site_protein]={}),s.site_chain==="polymer"?r[s.site_protein].polymer=s.site_reference:s.site_chain.split(" ").forEach(o=>{r[s.site_protein][o]=s.site_reference}),r),{});const n=document.createElement("div");n.className="protein-tooltip",document.body.appendChild(n),t.stage.mouseControls.remove("hoverPick"),t.stage.signals.hovered.add(function(r){var s,a,o;if(r&&r.atom){let A=r.atom,c=String(A.resno)+A.inscode,l=((s=t.refMap[c])==null?void 0:s.polymer)||((a=t.refMap[c])==null?void 0:a[A.chainname])||"N/A";n.innerHTML=`<strong>Reference Site:</strong> ${l} </br>
          <strong>Residue:</strong> ${A.resname}${wa(o=t,ug,iG).call(o,A.resname)} </br>
          <strong>Residue #:</strong> ${c}  </br>
          <strong>Chain:</strong> ${A.chainname}`,n.style.display="block"}else n.style.display="none"}),t.stage.viewer.container.addEventListener("mousemove",r=>{n.style.top=r.pageY-10+"px",n.style.left=r.pageX+10+"px"}),t.stage.viewer.container.addEventListener("mouseleave",()=>{n.style.display="none"}),t.load()}load(){let t=this;t.config.pdbID.length==4?(t.structure=`rcsb://${t.config.pdbID}`,t.loadConfig={}):(t.structure=new Blob([t.config.pdbID],{type:"text/plain"}),t.loadConfig={ext:"pdb"}),t.dataChains=t.data[t.config.dataset].dataChains,t.excludeChains=t.data[t.config.dataset].excludeChains,t.dataChains!="polymer"?(t.dataChainSelection=`protein and (:${t.dataChains.join(" or :")})`,t.backgroundChainSelection=`protein and (not :${t.dataChains.join(" and not :")})`,t.excludeChains!="none"&&(t.backgroundChainSelection+=` and (not :${t.excludeChains.join(" and not :")})`)):(t.dataChainSelection="protein",t.backgroundChainSelection="none"),t.stage.loadFile(t.structure,t.loadConfig).then(function(n){t.component=n,t.nonCarbonHydrogens=[],t.component.structure.eachAtom(function(s){if(s.element=="H"){let a=[];s.eachBondedAtom(function(o){a.push(o.element)}),a.some(o=>o!=="C")&&t.nonCarbonHydrogens.push(s.index)}}),t.config.dispatch.on("updateSites",s=>{t.selectSites(s)}),t.updateRepresentation(),t.updateData(),t.stage.autoView();const r=new Event("proteinloaded");t.dispatchEvent(r)}).catch(function(n){new mg().showAlert(`Failed to load protein: (${n})`)})}updateRepresentation(){var n,r,s;let t=this;t.stage.setParameters({backgroundColor:t.config.screenColor}),t.stage.getRepresentationsByName("dataChains").dispose(),t.component.addRepresentation(t.config.proteinRepresentation,{sele:t.config.showNonCarbonHydrogens?`(${t.dataChainSelection} and not hydrogen)`+wa(n=t,Ac,Qd).call(n,t.dataChainSelection):`(${t.dataChainSelection} and not hydrogen)`,color:t.config.proteinElement?"element":t.config.proteinColor,opacity:t.config.proteinOpacity,name:"dataChains",smoothSheet:!0,side:"front",surfaceType:"av"}),t.stage.getRepresentationsByName("backgroundChains").dispose(),t.backgroundChainSelection!="none"&&t.component.addRepresentation(t.config.backgroundRepresentation,{sele:t.config.showNonCarbonHydrogens?`(${t.backgroundChainSelection} and not hydrogen)`+wa(r=t,Ac,Qd).call(r,t.backgroundChainSelection):`(${t.backgroundChainSelection} and not hydrogen)`,color:t.config.backgroundColor,opacity:t.config.backgroundOpacity,name:"backgroundChains",smoothSheet:!0,side:"front",surfaceType:"av"}),t.stage.getRepresentationsByName("ligands").dispose(),t.config.showGlycans&&t.component.addRepresentation(t.config.ligandRepresentation,{sele:"ligand and not protein",color:t.config.ligandElement?"element":t.config.ligandColor,name:"ligands",multipleBond:"symmetric",radiusScale:t.config.ligandRepresentation=="ball+stick"?1.5:1}),t.stage.getRepresentationsByName("nucleotide_cartoon").dispose(),t.stage.getRepresentationsByName("nucleotide_bases").dispose(),t.config.showNucleotides&&(t.component.addRepresentation("cartoon",{sele:"(nucleic or rna or dna)",color:"resname",name:"nucleotide_cartoon"}),t.component.addRepresentation("base",{sele:"(nucleic or rna or dna)",color:"resname",name:"nucleotide_bases"})),t.currentSelectionSiteString!==void 0&&(t.stage.getRepresentationsByName("currentSelection").setParameters({opacity:t.config.selectionOpacity}),t.stage.getRepresentationsByName("currentSelection").setSelection(t.config.showNonCarbonHydrogens?`(${t.currentSelectionSiteString} and not hydrogen)`+wa(s=t,Ac,Qd).call(s,t.currentSelectionSiteString):`(${t.currentSelectionSiteString} and not hydrogen)`),t.config.selectionRepresentation!==t.stage.getRepresentationsByName("currentSelection").list[0].repr.type&&t.selectSites(Am(".selected").data()))}updateData(){let t=this;t.originalMutMetric=t.data[t.config.dataset].mut_metric_df,t.mutMetric=t.originalMutMetric.map(a=>{let o={...a};for(let A in t.config.filters){let c=t.config.filters[A];if(o[A]<c){o.metric=null;break}}return o}),t.excludedAminoAcids=t.data[t.config.dataset].excludedAminoAcids,t.mutMetricSummary=LS(t.mutMetric,t.excludedAminoAcids).filter(a=>a.condition===t.config.proteinCondition).filter(a=>a[t.config.summary]!==null),t.colorAccessor=a=>t.config.floor&&a[t.config.summary]<0?0:a[t.config.summary];const n=t.data[t.config.dataset].condition_colors[t.config.proteinCondition];let r;t.data[t.config.dataset].negative_condition_colors?r=t.data[t.config.dataset].negative_condition_colors[t.config.proteinCondition]:r=Gb(n);const s=Yo(t.mutMetricSummary,t.colorAccessor).map(Math.abs);s[0]===0&&s[1]===0?t.colorScale=tA().domain([0,0]).range(["white","white"]):t.config.floor?t.colorScale=tA().domain([0,Or(t.mutMetricSummary,t.colorAccessor)]).range(["white",n]):t.colorScale=tA().domain([-Or(s),0,Or(s)]).range([r,"white",n]),t.colorMap=t.mutMetricSummary.reduce((a,o)=>(a[o.site_protein]||(a[o.site_protein]={}),o.site_chain==="polymer"?a[o.site_protein].polymer=t.colorScale(o[t.config.summary]):o.site_chain.split(" ").forEach(c=>{a[o.site_protein][c]=t.colorScale(o[t.config.summary])}),a),{}),t.schemeId=Bn.addScheme(function(){this.atomColor=a=>{var A,c;let o=((A=t.colorMap[a.resno])==null?void 0:A.polymer)||((c=t.colorMap[a.resno])==null?void 0:c[a.chainname])||void 0;return parseInt(o?u0(o).formatHex().slice(1):t.config.proteinColor.slice(1),16)}}),t.currentSelectionSiteString!==void 0&&t.stage.getRepresentationsByName("currentSelection").setParameters({color:t.schemeId}),t.refMap=t.data[t.config.dataset].mut_metric_df.reduce((a,o)=>(a[o.site_protein]||(a[o.site_protein]={}),o.site_chain==="polymer"?a[o.site_protein].polymer=o.site_reference:o.site_chain.split(" ").forEach(c=>{a[o.site_protein][c]=o.site_reference}),a),{})}selectSites(t){var s;let n=this,r=[];if(t.forEach(a=>{var l;const o=wa(l=n,fg,sG).call(l,a.site_protein),c=a.site_chain.split(" ").map(u=>{var d;return wa(d=n,dg,rG).call(d,o,u)}).join(" or ");r.push(c)}),n.currentSelectionSiteString=r.length?`protein and (${r.join(" or ")})`:void 0,n.component.autoView(r.join(" or ")),n.currentSelectionSiteString!==void 0)return n.stage.getRepresentationsByName("currentSelection").dispose(),n.component.addRepresentation(n.config.selectionRepresentation,{color:n.schemeId,opacity:n.config.selectionOpacity,roughness:1,name:"currentSelection",surfaceType:"av",side:"front",useWorker:!0}).setSelection(n.config.showNonCarbonHydrogens?`(${n.currentSelectionSiteString} and not hydrogen)`+wa(s=n,Ac,Qd).call(s,n.currentSelectionSiteString):`(${n.currentSelectionSiteString} and not hydrogen)`);n.stage.getRepresentationsByName("currentSelection").dispose()}resize(t){let n=this;const r=t*1.5;document.querySelector(".protein").style.height=`${r}px`,n.stage.handleResize()}clear(){this.stage.removeAllComponents()}saveImage(){let t=this;t.stage.makeImage({factor:4,antialias:!0,trim:!1,transparent:!1}).then(function(n){let r=new Date,s=r.getFullYear().toString()+"-"+(r.getMonth()+1).toString().padStart(2,"0")+"-"+r.getDate().toString().padStart(2,"0"),a=`${t.config.dataset}_${t.config.proteinCondition}_${s}.png`;hse(n,a)})}}ug=new WeakSet,iG=function(t){const r={ALA:"A",ARG:"R",ASN:"N",ASP:"D",CYS:"C",GLU:"E",GLN:"Q",GLY:"G",HIS:"H",ILE:"I",LEU:"L",LYS:"K",MET:"M",PHE:"F",PRO:"P",SER:"S",THR:"T",TRP:"W",TYR:"Y",VAL:"V",SEC:"U",PYL:"O"}[t.toUpperCase()];return r?` (${r})`:""},dg=new WeakSet,rG=function(t,n){return`(${n!="polymer"?":":""}${n} and ${t})`},fg=new WeakSet,sG=function(t){const n=parseFloat(t);if(!isNaN(n)&&n.toString().length<t.length){const r=t.substring(n.toString().length);return n+"^"+r.toUpperCase()}return n+"^"},Ac=new WeakSet,Qd=function(t){let n=this;return n.nonCarbonHydrogens.length?` or (@${n.nonCarbonHydrogens.join(",")} and (${t}))`:""};class jle{constructor(e,t){this.config=e,this.config={parentElement:e.parentElement,dataset:e.dataset,proteinCondition:e.proteinCondition,chartConditions:e.chartConditions,label:e.label||"Condition"},this.data=JSON.parse(JSON.stringify(t)),this.initLegend()}initLegend(){let e=this;document.querySelector(this.config.parentElement).innerHTML="",e.margin={left:20,top:20,bottom:20,point:25},e.svg=It(e.config.parentElement).append("svg").attr("width","100%"),e.background=e.svg.append("rect").attr("x",0).attr("y",0).attr("width","100%").attr("fill","white").attr("ry",10),e.legend=e.svg.append("g").attr("class","condition-legend"),e.updateLegend()}updateLegend(){let e=this;if(e.data[e.config.dataset].legend){const t=document.querySelector("#condition-option label");t.textContent=e.config.label,document.getElementById("condition-option").style.display="block"}else{document.getElementById("condition-option").style.display="none";return}e.allConditions=Object.keys(e.data[e.config.dataset].condition_colors),e.conditionColors=e.data[e.config.dataset].condition_colors,e.config.height=(e.allConditions.length-1)*e.margin.point+e.margin.top+e.margin.bottom,e.svg.attr("height",e.config.height),e.background.attr("height",e.config.height),e.renderLegend()}renderLegend(){let e=this;e.legend.selectAll(".condition-box").data(e.allConditions,t=>t).join(t=>t.append("rect").attr("class","condition-box").attr("x",e.margin.left-e.margin.point/2).attr("y",(n,r)=>e.margin.top-10+r*e.margin.point).attr("width","calc(100% - 20px)").attr("height",20).style("opacity",n=>e.config.proteinCondition.includes(n)?".25":"0").attr("ry",4).style("fill",n=>e.conditionColors[n]).on("click",(n,r)=>{n.altKey&&e.config.chartConditions.includes(r)?requestAnimationFrame(()=>e.deselectChartConditions(r)):n.altKey&&!e.config.chartConditions.includes(r)?requestAnimationFrame(()=>e.selectChartConditions(r)):requestAnimationFrame(()=>e.selectProteinCondition(r))}).on("dblclick",(n,r)=>{requestAnimationFrame(()=>e.clearAndSelectSingleCondition(r))}),t=>t.attr("y",(n,r)=>e.margin.top-10+r*e.margin.point).style("fill",n=>e.conditionColors[n]).style("opacity",n=>e.config.proteinCondition.includes(n)?".25":"0"),t=>t.remove()),e.legend.selectAll(".condition-circle").data(e.allConditions,t=>t).join(t=>t.append("circle").attr("class","condition-circle").attr("cx",e.margin.left).attr("cy",(n,r)=>e.margin.top+r*e.margin.point).attr("r",7).style("fill",n=>e.conditionColors[n]).style("opacity",n=>e.config.chartConditions.includes(n)?"1":"0.2").on("click",(n,r)=>{n.altKey&&e.config.chartConditions.includes(r)?requestAnimationFrame(()=>e.deselectChartConditions(r)):n.altKey&&!e.config.chartConditions.includes(r)?requestAnimationFrame(()=>e.selectChartConditions(r)):requestAnimationFrame(()=>e.selectProteinCondition(r))}).on("dblclick",(n,r)=>{requestAnimationFrame(()=>e.clearAndSelectSingleCondition(r))}),t=>t.attr("cy",(n,r)=>e.margin.top+r*e.margin.point).style("fill",n=>e.conditionColors[n]).style("opacity",n=>e.config.chartConditions.includes(n)?"1":"0.2"),t=>t.remove()),e.legend.selectAll(".condition-label").data(e.allConditions,t=>t).join(t=>t.append("text").attr("class","condition-label").attr("x",e.margin.left*2).attr("y",(n,r)=>e.margin.top+r*e.margin.point).text(n=>`${n}`).style("fill",n=>e.conditionColors[n]).style("opacity",n=>e.config.chartConditions.includes(n)?"1":"0.2").attr("text-anchor","left").style("alignment-baseline","middle").attr("dominant-baseline","middle").style("user-select","none").on("click",(n,r)=>{n.altKey&&e.config.chartConditions.includes(r)?requestAnimationFrame(()=>e.deselectChartConditions(r)):n.altKey&&!e.config.chartConditions.includes(r)?requestAnimationFrame(()=>e.selectChartConditions(r)):requestAnimationFrame(()=>e.selectProteinCondition(r))}).on("dblclick",(n,r)=>{requestAnimationFrame(()=>e.clearAndSelectSingleCondition(r))}),t=>t.attr("y",(n,r)=>e.margin.top+r*e.margin.point).text(n=>`${n}`).style("fill",n=>e.conditionColors[n]).style("opacity",n=>e.config.chartConditions.includes(n)?"1":"0.2"),t=>t.remove())}selectProteinCondition(e){let t=this;!t.config.chartConditions.includes(e)||(t.legend.selectAll(".condition-box").style("opacity","0"),t.legend.selectAll(".condition-box").filter(function(n){return n==e}).style("opacity",".25"),t.config.proteinCondition=e,requestAnimationFrame(()=>{const n=new CustomEvent("proteinConditionSelected",{detail:t.config.proteinCondition});window.dispatchEvent(n)}))}selectChartConditions(e){let t=this;t.legend.selectAll(".condition-label").filter(function(n){return n==e}).style("opacity","1"),t.legend.selectAll(".condition-circle").filter(function(n){return n==e}).style("opacity","1"),t.config.chartConditions.push(e),requestAnimationFrame(()=>{const n=new CustomEvent("chartConditionsSelected",{detail:t.config.chartConditions});window.dispatchEvent(n)})}deselectChartConditions(e){let t=this;t.config.chartConditions.length!=1&&(t.config.chartConditions=t.config.chartConditions.filter(function(n){return n!=e}),t.config.proteinCondition==e&&t.selectProteinCondition(t.config.chartConditions[0]),t.legend.selectAll(".condition-label").filter(function(n){return n==e}).style("opacity",".25"),t.legend.selectAll(".condition-circle").filter(function(n){return n==e}).style("opacity",".25"),requestAnimationFrame(()=>{const n=new CustomEvent("chartConditionsSelected",{detail:t.config.chartConditions});window.dispatchEvent(n)}))}clearAndSelectSingleCondition(e){let t=this;t.config.chartConditions=[e],t.config.proteinCondition=e,t.legend.selectAll(".condition-box").style("opacity",n=>n===e?".25":"0"),t.legend.selectAll(".condition-circle").style("opacity",n=>n===e?"1":"0.2"),t.legend.selectAll(".condition-label").style("opacity",n=>n===e?"1":"0.2"),requestAnimationFrame(()=>{const n=new CustomEvent("chartConditionsSelected",{detail:t.config.chartConditions});window.dispatchEvent(n)}),requestAnimationFrame(()=>{const n=new CustomEvent("proteinConditionSelected",{detail:t.config.proteinCondition});window.dispatchEvent(n)})}}class Zle{constructor(e,t){try{xW(e)}catch(n){throw alert.showAlert(n.message),console.error(n.message),n}this.data=e,this.uiInstance=t,this.initTool()}initTool(){let e=this;for(const n in e.data){e.data[n].condition_col===null?(e.data[n].conditions=["default"],e.data[n].legend=!1):(e.data[n].conditions=e.data[n].conditions.map(o=>o.toString()),e.data[n].legend=!0);const r=e.data[n].sitemap,s=e.data[n].metric_col,a=e.data[n].condition_col;e.data[n].mut_metric_df=e.data[n].mut_metric_df.map(o=>{const A=a!==null?o[a].toString():"default";return{...o,site:r[o.reference_site].sequential_site,site_reference:o.reference_site,site_protein:r[o.reference_site].protein_site,site_chain:r[o.reference_site].chains,metric:o[s],condition:A}})}e.dataset=Object.keys(e.data)[0],e.datasetDescription=e.data[e.dataset].description||"A description wasn't provided for this dataset.",e.uiInstance.datasetDescription=e.datasetDescription,e.setState(),e.updateURLParams(),e.initSelect(It("#dataset"),Object.keys(e.data),e.dataset),e.initSelect(It("#summary"),["sum","mean","max","min","median"],e.summary),e.initCheckbox(It("#floor"),e.floor),e.initCheckbox(It("#mutations"),e.mutations),e.initSelect(It("#proteinRepresentation"),["spacefill","surface","cartoon","rope","ball+stick"],e.proteinRepresentation),e.initSelect(It("#selectionRepresentation"),["spacefill","surface","cartoon","rope","ball+stick"],e.selectionRepresentation),e.initSelect(It("#backgroundRepresentation"),["spacefill","surface","cartoon","rope","ball+stick"],e.backgroundRepresentation),e.initSelect(It("#ligandRepresentation"),["spacefill","ball+stick"],e.ligandRepresentation),e.initCheckbox(It("#showGlycans"),e.showGlycans),e.initCheckbox(It("#showNucleotides"),e.showNucleotides),e.initCheckbox(It("#showNonCarbonHydrogens"),e.showNonCarbonHydrogens),e.initColorPicker(It("#proteinColor"),e.proteinColor),e.initColorPicker(It("#backgroundColor"),e.backgroundColor),e.initColorPicker(It("#ligandColor"),e.ligandColor),e.initColorPicker(It("#screenColor"),e.screenColor),e.initCheckbox(It("#ligandElement"),e.ligandElement),e.initCheckbox(It("#proteinElement"),e.proteinElement),e.initCheckbox(It("#proteinElement"),e.proteinElement),e.initRange(It("#proteinOpacity"),e.proteinOpacity),e.initRange(It("#selectionOpacity"),e.selectionOpacity),e.initRange(It("#backgroundOpacity"),e.backgroundOpacity),It("#filters").html(""),e.data[e.dataset].filter_cols&&Object.keys(e.data[e.dataset].filter_cols).forEach(n=>{let r,s,a;const o=e.data[e.dataset].filter_limits;o&&o[n]?o[n].length===3?[r,a,s]=o[n]:([r,s]=o[n],a=r):(r=df(e.data[e.dataset].mut_metric_df,A=>A[n]),s=Or(e.data[e.dataset].mut_metric_df,A=>A[n]),a=r),e.filters[n]===void 0&&(e.filters[n]=a),e.initFilter(n,e.data[e.dataset].filter_cols[n],r,s,e.filters[n])});let t=It("#default-filters");t.html(""),t.append("label").attr("for","mutationCoverage").style("display","block").text("Mutation Coverage"),t.append("input").attr("type","range").attr("id","mutationCoverage").attr("min",0).attr("max",e.data[e.dataset].alphabet.length).attr("value",e.mutationCoverage).attr("step",1).on("input",function(){const n=parseFloat(this.value);It("#mutationCoverage-output").text(nA("d")(n)),e.mutationCoverage=n,e.chart.config.mutationCoverage=n,e.protein.config.mutationCoverage=n,e.chart.updateVis(),e.protein.updateData(),e.protein.selectSites(Am(".selected").data()),e.updateURLParams()}),t.append("span").attr("class","output").attr("id","mutationCoverage-output").text(nA("d")(e.mutationCoverage)),e.chart=new ZZ({parentElement:"#chart",dataset:e.dataset,chartConditions:e.chartConditions,summary:e.summary,floor:e.floor,mutations:e.mutations,filters:e.filters,mutationCoverage:e.mutationCoverage},e.data),e.legend=new jle({parentElement:"#legend",dataset:e.dataset,proteinCondition:e.proteinCondition,chartConditions:e.chartConditions,label:e.data[e.dataset].condition_col},e.data),e.protein=new Xle({parentElement:"viewport",dataset:e.dataset,proteinCondition:e.proteinCondition,summary:e.summary,floor:e.floor,pdbID:e.data[e.dataset].pdb,dispatch:e.chart.dispatch,filters:e.filters,mutationCoverage:e.mutationCoverage,proteinRepresentation:e.proteinRepresentation,selectionRepresentation:e.selectionRepresentation,backgroundRepresentation:e.backgroundRepresentation,ligandRepresentation:e.ligandRepresentation,proteinColor:e.proteinColor,backgroundColor:e.backgroundColor,ligandColor:e.ligandColor,screenColor:e.screenColor,ligandElement:e.ligandElement,proteinElement:e.proteinElement,backgroundOpacity:e.backgroundOpacity,proteinOpacity:e.proteinOpacity,selectionOpacity:e.selectionOpacity,showGlycans:e.showGlycans,showNucleotides:e.showNucleotides,showNonCarbonHydrogens:e.showNonCarbonHydrogens},e.data),e.protein.addEventListener("proteinloaded",()=>{e.selectAll&&e.selectAllSites()})}initSelect(e,t,n=t[0]){e.selectAll("option").data(t).join("option").attr("value",r=>r).text(r=>r).property("selected",r=>r===n)}initCheckbox(e,t=!0){e.property("checked",t)}initColorPicker(e,t="#D3D3D3"){e.attr("type","color").property("value",t)}initRange(e,t=1){typeof t=="string"&&(t=parseFloat(t)),e.attr("type","range").attr("min",0).attr("max",1).attr("step",.01).property("value",t)}initFilter(e,t,n,r,s){let a=this,o=It("#filters");o.append("label").attr("for",e).style("display","block").text(t),o.append("input").attr("type","range").attr("id",e).attr("min",n).attr("max",r).attr("value",s).attr("step",(r-n)/100).on("input",function(){a.updateFilter(this)}),o.append("span").attr("class","output").attr("id",`${e}-output`).text(nA(".2f")(s))}updateSelectedDataset(e){let t=this;t.dataset=It(e).property("value");const n=new Set(t.chart.data[t.dataset].mut_metric_df.map(a=>a.site_reference)),r=new Set(t.data[t.dataset].mut_metric_df.map(a=>a.site_reference)),s=qd.exports.isEqual(n,r);t.chart.config.dataset=t.dataset,t.protein.config.dataset=t.dataset,t.legend.config.dataset=t.dataset,t.chartConditions=t.data[t.dataset].conditions,t.proteinCondition=t.chartConditions[0],t.chart.config.chartConditions=t.chartConditions,t.legend.config.chartConditions=t.chartConditions,t.protein.config.proteinCondition=t.proteinCondition,t.legend.config.proteinCondition=t.proteinCondition,t.datasetDescription=t.data[t.dataset].description||"A description wasn't provided for this dataset.",t.uiInstance.datasetDescription=t.datasetDescription,It("#alertBanner").classed("hidden")||It("#alertMessage").text(t.datasetDescription),t.initSelect(It("#summary"),["sum","mean","max","min","median"],t.data[t.dataset].summary_stat||"mean"),t.initCheckbox(It("#floor"),t.data[t.dataset].floor||!1),t.chart.config.summary=t.data[t.dataset].summary_stat||"mean",t.chart.config.floor=t.data[t.dataset].floor||!1,t.protein.config.floor=t.data[t.dataset].floor||!1,t.filters={},It("#filters").html(""),t.data[t.dataset].filter_cols&&Object.keys(t.data[t.dataset].filter_cols).forEach(a=>{let o,A,c;const l=t.data[t.dataset].filter_limits;l&&l[a]?l[a].length===3?[o,c,A]=l[a]:([o,A]=l[a],c=o):(o=df(t.data[t.dataset].mut_metric_df,u=>u[a]),A=Or(t.data[t.dataset].mut_metric_df,u=>u[a]),c=o),t.filters[a]=c,t.initFilter(a,t.data[t.dataset].filter_cols[a],o,A,t.filters[a])}),t.chart.config.filters=t.filters,t.data[t.dataset].pdb!==t.protein.config.pdbID?(t.chart.deselectSites(),t.chart.updateVis(),t.legend.updateLegend(),t.protein.config.pdbID=t.data[t.dataset].pdb,t.protein.clear(),t.protein.load()):JSON.stringify(t.data[t.dataset].dataChains)!==JSON.stringify(t.protein.dataChains)?(t.chart.deselectSites(),t.chart.updateVis(),t.legend.updateLegend(),t.protein.clear(),t.protein.load()):s?(t.chart.updateVis(),t.legend.updateLegend(),t.protein.updateData()):(t.chart.deselectSites(),t.chart.updateVis(),t.legend.updateLegend(),t.protein.clear(),t.protein.load()),t.updateURLParams()}updateChartOptions(e){let t=this;const n=It(e),s=n.attr("type")==="checkbox"?n.property("checked"):n.property("value"),a=n.attr("id");t[a]=s,t.chart.config[a]=s,t.protein.config[a]=s,t.chart.updateVis(),t.protein.updateData(),t.updateURLParams()}updateProteinOptions(e){let t=this;const n=It(e),r=n.attr("id");let s=n.property("value");if(s==="true"?s=!0:s==="false"&&(s=!1),r==="proteinRepresentation"){const o=new Map([["surface",new Set(["spacefill","surface","cartoon","rope","ball+stick"])],["spacefill",new Set(["spacefill","surface","cartoon","rope","ball+stick"])],["cartoon",new Set(["cartoon","rope"])],["rope",new Set(["cartoon","rope"])],["ball+stick",new Set(["ball+stick"])]]).get(s);o&&o.has(t.protein.config.selectionRepresentation)&&new mg().showAlert(`The current representation of the selection (${t.protein.config.selectionRepresentation}) may be obscured by the ${t.protein.config.proteinRepresentation} representation of the protein. Consider toggling the opacity of the protein representation.`,"warning")}t[r]=s,t.protein.config[r]=s,t.protein.updateRepresentation(),t.updateURLParams()}updateProteinCondition(e){let t=this;t.proteinCondition=e,t.protein.config.proteinCondition=e,t.protein.updateData(),t.updateURLParams()}updateChartConditions(e){let t=this;t.chartConditions=e,t.chart.config.chartConditions=e,t.chart.updateVis(),t.updateURLParams()}updateFilter(e){let t=this;const n=It(e),r=n.attr("id"),s=parseFloat(n.property("value"));It(`#${r}-output`).text(nA(".2f")(s)),t.filters[r]=s,t.chart.config.filters=t.filters,t.chart.updateVis(),t.protein.updateData(),t.protein.selectSites(Am(".selected").data()),t.updateURLParams()}selectAllSites(){let e=this;e.selectAll=!0,e.chart.selectSites(),e.updateURLParams()}setState(){let e=this;e.defaultParams={dataset:{abbrev:"e",default:e.dataset,json:!1},proteinCondition:{abbrev:"pe",default:e.data[e.dataset].conditions[0],json:!1},chartConditions:{abbrev:"ce",default:e.data[e.dataset].conditions,json:!0},summary:{abbrev:"s",default:e.data[e.dataset].summary_stat||"mean",json:!1},floor:{abbrev:"f",default:e.data[e.dataset].floor||!1,json:!1},mutations:{abbrev:"m",default:!1,json:!1},selectAll:{abbrev:"sa",default:!1,json:!1},proteinRepresentation:{abbrev:"pr",default:"cartoon",json:!1},selectionRepresentation:{abbrev:"sr",default:"spacefill",json:!1},backgroundRepresentation:{abbrev:"br",default:"rope",json:!1},ligandRepresentation:{abbrev:"lr",default:"spacefill",json:!1},proteinColor:{abbrev:"pc",default:"#c9c9c9",json:!1},backgroundColor:{abbrev:"bc",default:"#c9c9c9",json:!1},ligandColor:{abbrev:"lc",default:"#c9c9c9",json:!1},screenColor:{abbrev:"sc",default:"#FFFFFF",json:!1},ligandElement:{abbrev:"le",default:!1,json:!1},proteinElement:{abbrev:"pce",default:!1,json:!1},proteinOpacity:{abbrev:"po",default:"1",json:!1},selectionOpacity:{abbrev:"so",default:"1",json:!1},backgroundOpacity:{abbrev:"bo",default:"1",json:!1},showGlycans:{abbrev:"g",default:!1,json:!1},showNucleotides:{abbrev:"n",default:!1,json:!1},showNonCarbonHydrogens:{abbrev:"h",default:!1,json:!1},filters:{abbrev:"fi",default:e.data[e.dataset].filter_cols?Object.keys(e.data[e.dataset].filter_cols).reduce((n,r)=>({...n,[r]:void 0}),{}):{},json:!0},mutationCoverage:{abbrev:"mc",default:0,json:!1}};const t=new URLSearchParams(window.location.search);for(const n in e.defaultParams)if(t.has(e.defaultParams[n].abbrev))if(e.defaultParams[n].json){let r=JSON.parse(decodeURIComponent(t.get(e.defaultParams[n].abbrev)));e[n]=r}else{let r=t.get(e.defaultParams[n].abbrev);r==="true"?e[n]=!0:r==="false"?e[n]=!1:e[n]=r}else typeof e.defaultParams[n].default=="object"?e[n]=qd.exports.cloneDeep(e.defaultParams[n].default):e[n]=e.defaultParams[n].default}updateURLParams(){let e=this;const t=new URLSearchParams(window.location.search);if(!!t.has("data")){for(const n in e.defaultParams){const r=e.defaultParams[n].abbrev,s=e[n],a=e.defaultParams[n].default;if(!qd.exports.isEqual(s,a)){e.defaultParams[n].json?t.set(r,encodeURIComponent(JSON.stringify(s))):t.set(r,s);continue}t.has(r)&&t.delete(r)}window.history.replaceState({},"",`${location.pathname}?${t}`)}}}const Jle=`# Escape from the antibodies in the Regeneron cocktail targeting the SARS-CoV-2 RBD

\`dms-viz\` is an interactive tool designed to visualize mutation-level data on an associated protein structure. This example visualization is showing how mutations to the SARS-CoV-2 receptor binding domain (RBD) escape antibody binding by two (previously) clinically approved monoclonal antibodies \u2013 REGN10933 and REGN10987. The protein structure is the RBD bound by the Fab fragments of both antibodies [PDB 6XDG](https://www.rcsb.org/structure/6XDG).

The total mutation escape at each site is shown in the summary plot and on the structure. It's clear that regions of the protein with high total escape represent the antibody binding footprints for their corresponding antibody selection.

To use the visualization, you can *zoom* in and out of regions of your data by *brushing* (click and drag) over the area plot. You can select sites to see in the heatmap by *clicking* on points in the line/point plot. You can *mouseover* sites on the line/point and mutations on the heatmap to see details in a pop-up tooltip. Finally, you can select which sites to highlight on the protein structure by *brushing* (click and drag) over points and *clicking* on points in the line/point plot. To deselect sites, you can either *double-click* on the line/point plot or hold down the *option key* (\u2325) and *brush* over the sites that you want to deselect.

In this visualization, there are two seperate condition \u2013 each representing an antibody in the cocktail. If there are more than on condition in the data, an interactive legend will appear in the Chart Options section of the sidebar. You can select an condition to visualize on the protein structure by *clicking* on a condition in the legend. You can remove or add conditions to the line/point plot by holding down the *option key* (\u2325) while *clicking*.

The protein structure is interactive. You can reorient and zoom into the protein structure by *clicking* and *dragging* it around the window. You can also reset the protein structure to its original orientation by *pressing* the \`R\` button on your keyboard.

For more details on how to use \`dms-viz\` with your own data, [check out the documentation](https://dms-viz.github.io/dms-viz-docs/).

The \`configure-dms-viz\` command used to generate this visualization is:

\`\`\`bash
configure-dms-viz format
  --input "input/REGN_escape.csv" 
  --sitemap "sitemap/sitemap.csv" 
  --output "REGN_cocktail.json" 
  --name "REGN mAb Cocktail" 
  --metric "mut_escape" 
  --metric-name "Escape" 
  --structure "6XDG" 
  --condition "condition" 
  --condition-name "Antibody" 
  --included-chains "E" 
  --colors "#a10e0e,#220ea1" 
  --title "Escape from the Regeneron anti-RBD antibody cocktail"
\`\`\`

For more information about the study, check out the [manuscript](https://science.sciencemag.org/content/early/2021/01/22/science.abf9302):
> Prospective mapping of viral mutations that escape antibodies used to treat COVID-19
>
> **Tyler N. Starr**, **Allison J. Greaney**, Amin Addetia, William W. Hannon, Manish C. Choudhary, Adam S. Dingens, Jonathan Z. Li, **Jesse D. Bloom**

To view the analysis pipeline and raw data, checkout the [GitHub repository](https://github.com/jbloomlab/SARS-CoV-2-RBD_MAP_clinical_Abs/blob/main/).
`,GB={markdown_description:Jle,"REGN mAb Cocktail":{mut_metric_df:[{Antibody:"REGN10933",reference_site:331,Escape:.00332,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:331,Escape:.002249,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:331,Escape:.001125,wildtype:"N",mutant:"E"},{Antibody:"REGN10933",reference_site:331,Escape:.001125,wildtype:"N",mutant:"F"},{Antibody:"REGN10933",reference_site:331,Escape:.001125,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:331,Escape:.002029,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:331,Escape:.001125,wildtype:"N",mutant:"I"},{Antibody:"REGN10933",reference_site:331,Escape:.001125,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:331,Escape:.003418,wildtype:"N",mutant:"L"},{Antibody:"REGN10933",reference_site:331,Escape:.001125,wildtype:"N",mutant:"M"},{Antibody:"REGN10933",reference_site:331,Escape:.0038,wildtype:"N",mutant:"P"},{Antibody:"REGN10933",reference_site:331,Escape:.001125,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:331,Escape:.001125,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:331,Escape:.001125,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:331,Escape:.001857,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:331,Escape:.002269,wildtype:"N",mutant:"V"},{Antibody:"REGN10933",reference_site:332,Escape:.00293,wildtype:"I",mutant:"A"},{Antibody:"REGN10933",reference_site:332,Escape:.001125,wildtype:"I",mutant:"C"},{Antibody:"REGN10933",reference_site:332,Escape:.003159,wildtype:"I",mutant:"D"},{Antibody:"REGN10933",reference_site:332,Escape:.001125,wildtype:"I",mutant:"E"},{Antibody:"REGN10933",reference_site:332,Escape:.001233,wildtype:"I",mutant:"F"},{Antibody:"REGN10933",reference_site:332,Escape:.001856,wildtype:"I",mutant:"G"},{Antibody:"REGN10933",reference_site:332,Escape:.001125,wildtype:"I",mutant:"H"},{Antibody:"REGN10933",reference_site:332,Escape:.001125,wildtype:"I",mutant:"K"},{Antibody:"REGN10933",reference_site:332,Escape:.005045,wildtype:"I",mutant:"L"},{Antibody:"REGN10933",reference_site:332,Escape:.002626,wildtype:"I",mutant:"M"},{Antibody:"REGN10933",reference_site:332,Escape:.002591,wildtype:"I",mutant:"N"},{Antibody:"REGN10933",reference_site:332,Escape:.001125,wildtype:"I",mutant:"P"},{Antibody:"REGN10933",reference_site:332,Escape:.001125,wildtype:"I",mutant:"Q"},{Antibody:"REGN10933",reference_site:332,Escape:.001125,wildtype:"I",mutant:"R"},{Antibody:"REGN10933",reference_site:332,Escape:.00113,wildtype:"I",mutant:"S"},{Antibody:"REGN10933",reference_site:332,Escape:.002418,wildtype:"I",mutant:"T"},{Antibody:"REGN10933",reference_site:332,Escape:.001125,wildtype:"I",mutant:"V"},{Antibody:"REGN10933",reference_site:332,Escape:.001125,wildtype:"I",mutant:"W"},{Antibody:"REGN10933",reference_site:332,Escape:.005004,wildtype:"I",mutant:"Y"},{Antibody:"REGN10933",reference_site:333,Escape:.001125,wildtype:"T",mutant:"A"},{Antibody:"REGN10933",reference_site:333,Escape:.002874,wildtype:"T",mutant:"C"},{Antibody:"REGN10933",reference_site:333,Escape:.00175,wildtype:"T",mutant:"D"},{Antibody:"REGN10933",reference_site:333,Escape:.001125,wildtype:"T",mutant:"E"},{Antibody:"REGN10933",reference_site:333,Escape:.001125,wildtype:"T",mutant:"F"},{Antibody:"REGN10933",reference_site:333,Escape:.001125,wildtype:"T",mutant:"G"},{Antibody:"REGN10933",reference_site:333,Escape:.001485,wildtype:"T",mutant:"H"},{Antibody:"REGN10933",reference_site:333,Escape:.001125,wildtype:"T",mutant:"K"},{Antibody:"REGN10933",reference_site:333,Escape:.002234,wildtype:"T",mutant:"L"},{Antibody:"REGN10933",reference_site:333,Escape:.001917,wildtype:"T",mutant:"M"},{Antibody:"REGN10933",reference_site:333,Escape:.001448,wildtype:"T",mutant:"N"},{Antibody:"REGN10933",reference_site:333,Escape:.001125,wildtype:"T",mutant:"P"},{Antibody:"REGN10933",reference_site:333,Escape:.001953,wildtype:"T",mutant:"Q"},{Antibody:"REGN10933",reference_site:333,Escape:.001125,wildtype:"T",mutant:"R"},{Antibody:"REGN10933",reference_site:333,Escape:.001125,wildtype:"T",mutant:"S"},{Antibody:"REGN10933",reference_site:333,Escape:.001188,wildtype:"T",mutant:"V"},{Antibody:"REGN10933",reference_site:333,Escape:.001125,wildtype:"T",mutant:"W"},{Antibody:"REGN10933",reference_site:333,Escape:.001125,wildtype:"T",mutant:"Y"},{Antibody:"REGN10933",reference_site:334,Escape:.005325,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:334,Escape:.002177,wildtype:"N",mutant:"C"},{Antibody:"REGN10933",reference_site:334,Escape:.0282,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:334,Escape:.006518,wildtype:"N",mutant:"E"},{Antibody:"REGN10933",reference_site:334,Escape:.004503,wildtype:"N",mutant:"F"},{Antibody:"REGN10933",reference_site:334,Escape:.001125,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:334,Escape:.001645,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:334,Escape:.0292,wildtype:"N",mutant:"I"},{Antibody:"REGN10933",reference_site:334,Escape:.001125,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:334,Escape:.00547,wildtype:"N",mutant:"L"},{Antibody:"REGN10933",reference_site:334,Escape:.004644,wildtype:"N",mutant:"M"},{Antibody:"REGN10933",reference_site:334,Escape:.001125,wildtype:"N",mutant:"P"},{Antibody:"REGN10933",reference_site:334,Escape:.00339,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:334,Escape:.001125,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:334,Escape:.001125,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:334,Escape:.001125,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:334,Escape:.001125,wildtype:"N",mutant:"V"},{Antibody:"REGN10933",reference_site:334,Escape:.002955,wildtype:"N",mutant:"Y"},{Antibody:"REGN10933",reference_site:335,Escape:.001125,wildtype:"L",mutant:"A"},{Antibody:"REGN10933",reference_site:335,Escape:.01894,wildtype:"L",mutant:"C"},{Antibody:"REGN10933",reference_site:335,Escape:.00249,wildtype:"L",mutant:"D"},{Antibody:"REGN10933",reference_site:335,Escape:.002458,wildtype:"L",mutant:"E"},{Antibody:"REGN10933",reference_site:335,Escape:.001125,wildtype:"L",mutant:"F"},{Antibody:"REGN10933",reference_site:335,Escape:.001125,wildtype:"L",mutant:"G"},{Antibody:"REGN10933",reference_site:335,Escape:.001125,wildtype:"L",mutant:"H"},{Antibody:"REGN10933",reference_site:335,Escape:.001125,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:335,Escape:.0035,wildtype:"L",mutant:"K"},{Antibody:"REGN10933",reference_site:335,Escape:.002288,wildtype:"L",mutant:"M"},{Antibody:"REGN10933",reference_site:335,Escape:.001125,wildtype:"L",mutant:"N"},{Antibody:"REGN10933",reference_site:335,Escape:.004899,wildtype:"L",mutant:"P"},{Antibody:"REGN10933",reference_site:335,Escape:.001125,wildtype:"L",mutant:"Q"},{Antibody:"REGN10933",reference_site:335,Escape:.001979,wildtype:"L",mutant:"R"},{Antibody:"REGN10933",reference_site:335,Escape:.001757,wildtype:"L",mutant:"S"},{Antibody:"REGN10933",reference_site:335,Escape:.001125,wildtype:"L",mutant:"T"},{Antibody:"REGN10933",reference_site:335,Escape:.001125,wildtype:"L",mutant:"V"},{Antibody:"REGN10933",reference_site:335,Escape:.002076,wildtype:"L",mutant:"W"},{Antibody:"REGN10933",reference_site:335,Escape:.004982,wildtype:"L",mutant:"Y"},{Antibody:"REGN10933",reference_site:336,Escape:.01436,wildtype:"C",mutant:"G"},{Antibody:"REGN10933",reference_site:337,Escape:.007468,wildtype:"P",mutant:"A"},{Antibody:"REGN10933",reference_site:337,Escape:.001865,wildtype:"P",mutant:"C"},{Antibody:"REGN10933",reference_site:337,Escape:.001133,wildtype:"P",mutant:"D"},{Antibody:"REGN10933",reference_site:337,Escape:.002008,wildtype:"P",mutant:"E"},{Antibody:"REGN10933",reference_site:337,Escape:.009428,wildtype:"P",mutant:"G"},{Antibody:"REGN10933",reference_site:337,Escape:.005652,wildtype:"P",mutant:"H"},{Antibody:"REGN10933",reference_site:337,Escape:.001125,wildtype:"P",mutant:"K"},{Antibody:"REGN10933",reference_site:337,Escape:.003004,wildtype:"P",mutant:"L"},{Antibody:"REGN10933",reference_site:337,Escape:.001125,wildtype:"P",mutant:"M"},{Antibody:"REGN10933",reference_site:337,Escape:.001125,wildtype:"P",mutant:"N"},{Antibody:"REGN10933",reference_site:337,Escape:.002879,wildtype:"P",mutant:"Q"},{Antibody:"REGN10933",reference_site:337,Escape:.002777,wildtype:"P",mutant:"R"},{Antibody:"REGN10933",reference_site:337,Escape:.001125,wildtype:"P",mutant:"S"},{Antibody:"REGN10933",reference_site:337,Escape:.001125,wildtype:"P",mutant:"T"},{Antibody:"REGN10933",reference_site:338,Escape:.00532,wildtype:"F",mutant:"I"},{Antibody:"REGN10933",reference_site:338,Escape:.001228,wildtype:"F",mutant:"L"},{Antibody:"REGN10933",reference_site:338,Escape:.001605,wildtype:"F",mutant:"M"},{Antibody:"REGN10933",reference_site:338,Escape:.001125,wildtype:"F",mutant:"W"},{Antibody:"REGN10933",reference_site:338,Escape:.001125,wildtype:"F",mutant:"Y"},{Antibody:"REGN10933",reference_site:339,Escape:.005147,wildtype:"G",mutant:"A"},{Antibody:"REGN10933",reference_site:339,Escape:.001125,wildtype:"G",mutant:"D"},{Antibody:"REGN10933",reference_site:339,Escape:.004006,wildtype:"G",mutant:"E"},{Antibody:"REGN10933",reference_site:339,Escape:.00681,wildtype:"G",mutant:"F"},{Antibody:"REGN10933",reference_site:339,Escape:.002545,wildtype:"G",mutant:"H"},{Antibody:"REGN10933",reference_site:339,Escape:.003589,wildtype:"G",mutant:"I"},{Antibody:"REGN10933",reference_site:339,Escape:.004032,wildtype:"G",mutant:"K"},{Antibody:"REGN10933",reference_site:339,Escape:.001158,wildtype:"G",mutant:"L"},{Antibody:"REGN10933",reference_site:339,Escape:.001587,wildtype:"G",mutant:"M"},{Antibody:"REGN10933",reference_site:339,Escape:.001125,wildtype:"G",mutant:"N"},{Antibody:"REGN10933",reference_site:339,Escape:.003667,wildtype:"G",mutant:"P"},{Antibody:"REGN10933",reference_site:339,Escape:.002797,wildtype:"G",mutant:"Q"},{Antibody:"REGN10933",reference_site:339,Escape:.002059,wildtype:"G",mutant:"R"},{Antibody:"REGN10933",reference_site:339,Escape:.002759,wildtype:"G",mutant:"S"},{Antibody:"REGN10933",reference_site:339,Escape:.001125,wildtype:"G",mutant:"T"},{Antibody:"REGN10933",reference_site:339,Escape:.004748,wildtype:"G",mutant:"V"},{Antibody:"REGN10933",reference_site:339,Escape:.002936,wildtype:"G",mutant:"W"},{Antibody:"REGN10933",reference_site:339,Escape:.001242,wildtype:"G",mutant:"Y"},{Antibody:"REGN10933",reference_site:340,Escape:.003731,wildtype:"E",mutant:"A"},{Antibody:"REGN10933",reference_site:340,Escape:.001198,wildtype:"E",mutant:"D"},{Antibody:"REGN10933",reference_site:340,Escape:.008927,wildtype:"E",mutant:"G"},{Antibody:"REGN10933",reference_site:340,Escape:.001594,wildtype:"E",mutant:"K"},{Antibody:"REGN10933",reference_site:340,Escape:.002389,wildtype:"E",mutant:"L"},{Antibody:"REGN10933",reference_site:340,Escape:.001125,wildtype:"E",mutant:"M"},{Antibody:"REGN10933",reference_site:340,Escape:.006594,wildtype:"E",mutant:"N"},{Antibody:"REGN10933",reference_site:340,Escape:.006002,wildtype:"E",mutant:"P"},{Antibody:"REGN10933",reference_site:340,Escape:.005502,wildtype:"E",mutant:"Q"},{Antibody:"REGN10933",reference_site:340,Escape:.00398,wildtype:"E",mutant:"S"},{Antibody:"REGN10933",reference_site:340,Escape:.001125,wildtype:"E",mutant:"T"},{Antibody:"REGN10933",reference_site:341,Escape:.001125,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:341,Escape:.001125,wildtype:"V",mutant:"L"},{Antibody:"REGN10933",reference_site:342,Escape:.004056,wildtype:"F",mutant:"I"},{Antibody:"REGN10933",reference_site:342,Escape:.009387,wildtype:"F",mutant:"L"},{Antibody:"REGN10933",reference_site:342,Escape:.001125,wildtype:"F",mutant:"M"},{Antibody:"REGN10933",reference_site:344,Escape:.001125,wildtype:"A",mutant:"E"},{Antibody:"REGN10933",reference_site:344,Escape:.001125,wildtype:"A",mutant:"K"},{Antibody:"REGN10933",reference_site:344,Escape:.001125,wildtype:"A",mutant:"N"},{Antibody:"REGN10933",reference_site:344,Escape:.001125,wildtype:"A",mutant:"Q"},{Antibody:"REGN10933",reference_site:344,Escape:.005781,wildtype:"A",mutant:"R"},{Antibody:"REGN10933",reference_site:344,Escape:.00221,wildtype:"A",mutant:"S"},{Antibody:"REGN10933",reference_site:345,Escape:.0016,wildtype:"T",mutant:"A"},{Antibody:"REGN10933",reference_site:345,Escape:.004604,wildtype:"T",mutant:"D"},{Antibody:"REGN10933",reference_site:345,Escape:.001125,wildtype:"T",mutant:"E"},{Antibody:"REGN10933",reference_site:345,Escape:.001836,wildtype:"T",mutant:"K"},{Antibody:"REGN10933",reference_site:345,Escape:.001125,wildtype:"T",mutant:"P"},{Antibody:"REGN10933",reference_site:345,Escape:.00235,wildtype:"T",mutant:"R"},{Antibody:"REGN10933",reference_site:345,Escape:.003008,wildtype:"T",mutant:"S"},{Antibody:"REGN10933",reference_site:346,Escape:.002079,wildtype:"R",mutant:"A"},{Antibody:"REGN10933",reference_site:346,Escape:.002685,wildtype:"R",mutant:"C"},{Antibody:"REGN10933",reference_site:346,Escape:.01348,wildtype:"R",mutant:"D"},{Antibody:"REGN10933",reference_site:346,Escape:.001125,wildtype:"R",mutant:"E"},{Antibody:"REGN10933",reference_site:346,Escape:.001125,wildtype:"R",mutant:"F"},{Antibody:"REGN10933",reference_site:346,Escape:.001125,wildtype:"R",mutant:"G"},{Antibody:"REGN10933",reference_site:346,Escape:.001125,wildtype:"R",mutant:"H"},{Antibody:"REGN10933",reference_site:346,Escape:.001682,wildtype:"R",mutant:"I"},{Antibody:"REGN10933",reference_site:346,Escape:.001125,wildtype:"R",mutant:"K"},{Antibody:"REGN10933",reference_site:346,Escape:.02114,wildtype:"R",mutant:"L"},{Antibody:"REGN10933",reference_site:346,Escape:.001772,wildtype:"R",mutant:"M"},{Antibody:"REGN10933",reference_site:346,Escape:.002958,wildtype:"R",mutant:"N"},{Antibody:"REGN10933",reference_site:346,Escape:.00192,wildtype:"R",mutant:"Q"},{Antibody:"REGN10933",reference_site:346,Escape:.005436,wildtype:"R",mutant:"S"},{Antibody:"REGN10933",reference_site:346,Escape:.009405,wildtype:"R",mutant:"T"},{Antibody:"REGN10933",reference_site:346,Escape:.001291,wildtype:"R",mutant:"V"},{Antibody:"REGN10933",reference_site:346,Escape:.001125,wildtype:"R",mutant:"W"},{Antibody:"REGN10933",reference_site:346,Escape:.001744,wildtype:"R",mutant:"Y"},{Antibody:"REGN10933",reference_site:347,Escape:.001125,wildtype:"F",mutant:"W"},{Antibody:"REGN10933",reference_site:348,Escape:.001886,wildtype:"A",mutant:"D"},{Antibody:"REGN10933",reference_site:348,Escape:.003984,wildtype:"A",mutant:"E"},{Antibody:"REGN10933",reference_site:348,Escape:.002761,wildtype:"A",mutant:"G"},{Antibody:"REGN10933",reference_site:348,Escape:.001125,wildtype:"A",mutant:"H"},{Antibody:"REGN10933",reference_site:348,Escape:.0197,wildtype:"A",mutant:"K"},{Antibody:"REGN10933",reference_site:348,Escape:.002703,wildtype:"A",mutant:"N"},{Antibody:"REGN10933",reference_site:348,Escape:.001125,wildtype:"A",mutant:"P"},{Antibody:"REGN10933",reference_site:348,Escape:.001125,wildtype:"A",mutant:"Q"},{Antibody:"REGN10933",reference_site:348,Escape:.00214,wildtype:"A",mutant:"S"},{Antibody:"REGN10933",reference_site:348,Escape:.002455,wildtype:"A",mutant:"Y"},{Antibody:"REGN10933",reference_site:349,Escape:.001624,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:349,Escape:.009787,wildtype:"S",mutant:"P"},{Antibody:"REGN10933",reference_site:351,Escape:.003538,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:351,Escape:.00173,wildtype:"Y",mutant:"H"},{Antibody:"REGN10933",reference_site:351,Escape:.002458,wildtype:"Y",mutant:"W"},{Antibody:"REGN10933",reference_site:352,Escape:.002814,wildtype:"A",mutant:"D"},{Antibody:"REGN10933",reference_site:352,Escape:.001125,wildtype:"A",mutant:"E"},{Antibody:"REGN10933",reference_site:352,Escape:.001125,wildtype:"A",mutant:"G"},{Antibody:"REGN10933",reference_site:352,Escape:.001125,wildtype:"A",mutant:"H"},{Antibody:"REGN10933",reference_site:352,Escape:.001125,wildtype:"A",mutant:"K"},{Antibody:"REGN10933",reference_site:352,Escape:.001125,wildtype:"A",mutant:"M"},{Antibody:"REGN10933",reference_site:352,Escape:.001302,wildtype:"A",mutant:"N"},{Antibody:"REGN10933",reference_site:352,Escape:0,wildtype:"A",mutant:"Q"},{Antibody:"REGN10933",reference_site:352,Escape:.001125,wildtype:"A",mutant:"R"},{Antibody:"REGN10933",reference_site:352,Escape:.002555,wildtype:"A",mutant:"S"},{Antibody:"REGN10933",reference_site:352,Escape:.00329,wildtype:"A",mutant:"Y"},{Antibody:"REGN10933",reference_site:353,Escape:.004599,wildtype:"W",mutant:"F"},{Antibody:"REGN10933",reference_site:354,Escape:.001902,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:354,Escape:.003839,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:354,Escape:.001125,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:354,Escape:.002443,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:354,Escape:.001799,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:354,Escape:.008092,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:354,Escape:.001125,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:354,Escape:.001125,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:354,Escape:.001125,wildtype:"N",mutant:"V"},{Antibody:"REGN10933",reference_site:356,Escape:.001125,wildtype:"K",mutant:"A"},{Antibody:"REGN10933",reference_site:356,Escape:.004717,wildtype:"K",mutant:"E"},{Antibody:"REGN10933",reference_site:356,Escape:.003361,wildtype:"K",mutant:"H"},{Antibody:"REGN10933",reference_site:356,Escape:.002458,wildtype:"K",mutant:"I"},{Antibody:"REGN10933",reference_site:356,Escape:.001125,wildtype:"K",mutant:"L"},{Antibody:"REGN10933",reference_site:356,Escape:.001125,wildtype:"K",mutant:"M"},{Antibody:"REGN10933",reference_site:356,Escape:0,wildtype:"K",mutant:"N"},{Antibody:"REGN10933",reference_site:356,Escape:.003564,wildtype:"K",mutant:"Q"},{Antibody:"REGN10933",reference_site:356,Escape:.001137,wildtype:"K",mutant:"R"},{Antibody:"REGN10933",reference_site:356,Escape:.001125,wildtype:"K",mutant:"S"},{Antibody:"REGN10933",reference_site:356,Escape:.00622,wildtype:"K",mutant:"T"},{Antibody:"REGN10933",reference_site:356,Escape:.003986,wildtype:"K",mutant:"V"},{Antibody:"REGN10933",reference_site:356,Escape:.00154,wildtype:"K",mutant:"Y"},{Antibody:"REGN10933",reference_site:357,Escape:.001125,wildtype:"R",mutant:"A"},{Antibody:"REGN10933",reference_site:357,Escape:.03308,wildtype:"R",mutant:"C"},{Antibody:"REGN10933",reference_site:357,Escape:.002275,wildtype:"R",mutant:"D"},{Antibody:"REGN10933",reference_site:357,Escape:.008695,wildtype:"R",mutant:"E"},{Antibody:"REGN10933",reference_site:357,Escape:.01082,wildtype:"R",mutant:"H"},{Antibody:"REGN10933",reference_site:357,Escape:.006876,wildtype:"R",mutant:"I"},{Antibody:"REGN10933",reference_site:357,Escape:.001125,wildtype:"R",mutant:"K"},{Antibody:"REGN10933",reference_site:357,Escape:.007986,wildtype:"R",mutant:"L"},{Antibody:"REGN10933",reference_site:357,Escape:.001125,wildtype:"R",mutant:"M"},{Antibody:"REGN10933",reference_site:357,Escape:.002249,wildtype:"R",mutant:"N"},{Antibody:"REGN10933",reference_site:357,Escape:.00683,wildtype:"R",mutant:"P"},{Antibody:"REGN10933",reference_site:357,Escape:.003249,wildtype:"R",mutant:"Q"},{Antibody:"REGN10933",reference_site:357,Escape:.003075,wildtype:"R",mutant:"S"},{Antibody:"REGN10933",reference_site:357,Escape:.001125,wildtype:"R",mutant:"T"},{Antibody:"REGN10933",reference_site:357,Escape:.001125,wildtype:"R",mutant:"V"},{Antibody:"REGN10933",reference_site:357,Escape:.002325,wildtype:"R",mutant:"W"},{Antibody:"REGN10933",reference_site:357,Escape:.001125,wildtype:"R",mutant:"Y"},{Antibody:"REGN10933",reference_site:358,Escape:.001125,wildtype:"I",mutant:"C"},{Antibody:"REGN10933",reference_site:358,Escape:.001125,wildtype:"I",mutant:"F"},{Antibody:"REGN10933",reference_site:358,Escape:.001125,wildtype:"I",mutant:"L"},{Antibody:"REGN10933",reference_site:358,Escape:.001125,wildtype:"I",mutant:"M"},{Antibody:"REGN10933",reference_site:358,Escape:.004898,wildtype:"I",mutant:"V"},{Antibody:"REGN10933",reference_site:358,Escape:.005648,wildtype:"I",mutant:"W"},{Antibody:"REGN10933",reference_site:358,Escape:.001125,wildtype:"I",mutant:"Y"},{Antibody:"REGN10933",reference_site:359,Escape:.001125,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:359,Escape:.00138,wildtype:"S",mutant:"C"},{Antibody:"REGN10933",reference_site:359,Escape:.002441,wildtype:"S",mutant:"D"},{Antibody:"REGN10933",reference_site:359,Escape:.002528,wildtype:"S",mutant:"E"},{Antibody:"REGN10933",reference_site:359,Escape:.002771,wildtype:"S",mutant:"F"},{Antibody:"REGN10933",reference_site:359,Escape:.001553,wildtype:"S",mutant:"G"},{Antibody:"REGN10933",reference_site:359,Escape:.001125,wildtype:"S",mutant:"H"},{Antibody:"REGN10933",reference_site:359,Escape:.003311,wildtype:"S",mutant:"I"},{Antibody:"REGN10933",reference_site:359,Escape:.001125,wildtype:"S",mutant:"K"},{Antibody:"REGN10933",reference_site:359,Escape:.001125,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:359,Escape:.005483,wildtype:"S",mutant:"P"},{Antibody:"REGN10933",reference_site:359,Escape:.002234,wildtype:"S",mutant:"Q"},{Antibody:"REGN10933",reference_site:359,Escape:.001996,wildtype:"S",mutant:"R"},{Antibody:"REGN10933",reference_site:359,Escape:.001125,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:359,Escape:.009362,wildtype:"S",mutant:"V"},{Antibody:"REGN10933",reference_site:359,Escape:.05346,wildtype:"S",mutant:"W"},{Antibody:"REGN10933",reference_site:359,Escape:.002249,wildtype:"S",mutant:"Y"},{Antibody:"REGN10933",reference_site:360,Escape:.002249,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:360,Escape:.002641,wildtype:"N",mutant:"E"},{Antibody:"REGN10933",reference_site:360,Escape:.003697,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:360,Escape:.01319,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:360,Escape:.002427,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:360,Escape:.007853,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:361,Escape:.02753,wildtype:"C",mutant:"E"},{Antibody:"REGN10933",reference_site:361,Escape:.02418,wildtype:"C",mutant:"N"},{Antibody:"REGN10933",reference_site:361,Escape:.001602,wildtype:"C",mutant:"P"},{Antibody:"REGN10933",reference_site:362,Escape:.00266,wildtype:"V",mutant:"A"},{Antibody:"REGN10933",reference_site:362,Escape:.001125,wildtype:"V",mutant:"C"},{Antibody:"REGN10933",reference_site:362,Escape:.001125,wildtype:"V",mutant:"D"},{Antibody:"REGN10933",reference_site:362,Escape:.001125,wildtype:"V",mutant:"E"},{Antibody:"REGN10933",reference_site:362,Escape:.00313,wildtype:"V",mutant:"F"},{Antibody:"REGN10933",reference_site:362,Escape:.006829,wildtype:"V",mutant:"G"},{Antibody:"REGN10933",reference_site:362,Escape:.002009,wildtype:"V",mutant:"H"},{Antibody:"REGN10933",reference_site:362,Escape:.001125,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:362,Escape:.001125,wildtype:"V",mutant:"K"},{Antibody:"REGN10933",reference_site:362,Escape:.001828,wildtype:"V",mutant:"L"},{Antibody:"REGN10933",reference_site:362,Escape:.001125,wildtype:"V",mutant:"M"},{Antibody:"REGN10933",reference_site:362,Escape:.01118,wildtype:"V",mutant:"N"},{Antibody:"REGN10933",reference_site:362,Escape:.001707,wildtype:"V",mutant:"Q"},{Antibody:"REGN10933",reference_site:362,Escape:.001125,wildtype:"V",mutant:"R"},{Antibody:"REGN10933",reference_site:362,Escape:.009929,wildtype:"V",mutant:"S"},{Antibody:"REGN10933",reference_site:362,Escape:.01054,wildtype:"V",mutant:"T"},{Antibody:"REGN10933",reference_site:362,Escape:.002807,wildtype:"V",mutant:"W"},{Antibody:"REGN10933",reference_site:362,Escape:.003349,wildtype:"V",mutant:"Y"},{Antibody:"REGN10933",reference_site:363,Escape:.001582,wildtype:"A",mutant:"C"},{Antibody:"REGN10933",reference_site:363,Escape:.001125,wildtype:"A",mutant:"F"},{Antibody:"REGN10933",reference_site:363,Escape:.004876,wildtype:"A",mutant:"G"},{Antibody:"REGN10933",reference_site:363,Escape:.03159,wildtype:"A",mutant:"H"},{Antibody:"REGN10933",reference_site:363,Escape:.003422,wildtype:"A",mutant:"I"},{Antibody:"REGN10933",reference_site:363,Escape:.001125,wildtype:"A",mutant:"L"},{Antibody:"REGN10933",reference_site:363,Escape:.002381,wildtype:"A",mutant:"M"},{Antibody:"REGN10933",reference_site:363,Escape:.003979,wildtype:"A",mutant:"P"},{Antibody:"REGN10933",reference_site:363,Escape:.03059,wildtype:"A",mutant:"Q"},{Antibody:"REGN10933",reference_site:363,Escape:.003514,wildtype:"A",mutant:"S"},{Antibody:"REGN10933",reference_site:363,Escape:.004344,wildtype:"A",mutant:"T"},{Antibody:"REGN10933",reference_site:363,Escape:.002451,wildtype:"A",mutant:"V"},{Antibody:"REGN10933",reference_site:363,Escape:.001125,wildtype:"A",mutant:"W"},{Antibody:"REGN10933",reference_site:363,Escape:.001125,wildtype:"A",mutant:"Y"},{Antibody:"REGN10933",reference_site:365,Escape:.007065,wildtype:"Y",mutant:"A"},{Antibody:"REGN10933",reference_site:365,Escape:.01235,wildtype:"Y",mutant:"C"},{Antibody:"REGN10933",reference_site:365,Escape:.003532,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:365,Escape:.01714,wildtype:"Y",mutant:"G"},{Antibody:"REGN10933",reference_site:365,Escape:.001698,wildtype:"Y",mutant:"I"},{Antibody:"REGN10933",reference_site:365,Escape:.002923,wildtype:"Y",mutant:"L"},{Antibody:"REGN10933",reference_site:365,Escape:.001175,wildtype:"Y",mutant:"M"},{Antibody:"REGN10933",reference_site:365,Escape:.008441,wildtype:"Y",mutant:"P"},{Antibody:"REGN10933",reference_site:365,Escape:.003687,wildtype:"Y",mutant:"T"},{Antibody:"REGN10933",reference_site:365,Escape:.001125,wildtype:"Y",mutant:"V"},{Antibody:"REGN10933",reference_site:365,Escape:.002976,wildtype:"Y",mutant:"W"},{Antibody:"REGN10933",reference_site:366,Escape:.004278,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:366,Escape:.002785,wildtype:"S",mutant:"D"},{Antibody:"REGN10933",reference_site:366,Escape:.001125,wildtype:"S",mutant:"E"},{Antibody:"REGN10933",reference_site:366,Escape:.004932,wildtype:"S",mutant:"F"},{Antibody:"REGN10933",reference_site:366,Escape:.001125,wildtype:"S",mutant:"G"},{Antibody:"REGN10933",reference_site:366,Escape:.002249,wildtype:"S",mutant:"H"},{Antibody:"REGN10933",reference_site:366,Escape:.004067,wildtype:"S",mutant:"I"},{Antibody:"REGN10933",reference_site:366,Escape:.002585,wildtype:"S",mutant:"K"},{Antibody:"REGN10933",reference_site:366,Escape:.01175,wildtype:"S",mutant:"L"},{Antibody:"REGN10933",reference_site:366,Escape:.004751,wildtype:"S",mutant:"M"},{Antibody:"REGN10933",reference_site:366,Escape:.004686,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:366,Escape:.005071,wildtype:"S",mutant:"P"},{Antibody:"REGN10933",reference_site:366,Escape:.001125,wildtype:"S",mutant:"Q"},{Antibody:"REGN10933",reference_site:366,Escape:.001125,wildtype:"S",mutant:"R"},{Antibody:"REGN10933",reference_site:366,Escape:.004869,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:366,Escape:.00661,wildtype:"S",mutant:"V"},{Antibody:"REGN10933",reference_site:366,Escape:.008609,wildtype:"S",mutant:"W"},{Antibody:"REGN10933",reference_site:367,Escape:.001407,wildtype:"V",mutant:"A"},{Antibody:"REGN10933",reference_site:367,Escape:.001125,wildtype:"V",mutant:"C"},{Antibody:"REGN10933",reference_site:367,Escape:.005743,wildtype:"V",mutant:"D"},{Antibody:"REGN10933",reference_site:367,Escape:.001125,wildtype:"V",mutant:"E"},{Antibody:"REGN10933",reference_site:367,Escape:.001125,wildtype:"V",mutant:"F"},{Antibody:"REGN10933",reference_site:367,Escape:.003984,wildtype:"V",mutant:"G"},{Antibody:"REGN10933",reference_site:367,Escape:.001125,wildtype:"V",mutant:"H"},{Antibody:"REGN10933",reference_site:367,Escape:.00226,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:367,Escape:.00145,wildtype:"V",mutant:"K"},{Antibody:"REGN10933",reference_site:367,Escape:.001125,wildtype:"V",mutant:"L"},{Antibody:"REGN10933",reference_site:367,Escape:.001125,wildtype:"V",mutant:"M"},{Antibody:"REGN10933",reference_site:367,Escape:.007505,wildtype:"V",mutant:"N"},{Antibody:"REGN10933",reference_site:367,Escape:.005336,wildtype:"V",mutant:"P"},{Antibody:"REGN10933",reference_site:367,Escape:.002488,wildtype:"V",mutant:"Q"},{Antibody:"REGN10933",reference_site:367,Escape:.001125,wildtype:"V",mutant:"R"},{Antibody:"REGN10933",reference_site:367,Escape:.002102,wildtype:"V",mutant:"S"},{Antibody:"REGN10933",reference_site:367,Escape:.001125,wildtype:"V",mutant:"T"},{Antibody:"REGN10933",reference_site:367,Escape:.001597,wildtype:"V",mutant:"W"},{Antibody:"REGN10933",reference_site:367,Escape:.001125,wildtype:"V",mutant:"Y"},{Antibody:"REGN10933",reference_site:368,Escape:.008035,wildtype:"L",mutant:"F"},{Antibody:"REGN10933",reference_site:368,Escape:.004783,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:368,Escape:.005328,wildtype:"L",mutant:"M"},{Antibody:"REGN10933",reference_site:368,Escape:.001756,wildtype:"L",mutant:"V"},{Antibody:"REGN10933",reference_site:369,Escape:.005071,wildtype:"Y",mutant:"A"},{Antibody:"REGN10933",reference_site:369,Escape:.007821,wildtype:"Y",mutant:"C"},{Antibody:"REGN10933",reference_site:369,Escape:.008629,wildtype:"Y",mutant:"D"},{Antibody:"REGN10933",reference_site:369,Escape:.005196,wildtype:"Y",mutant:"E"},{Antibody:"REGN10933",reference_site:369,Escape:.001125,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:369,Escape:.003068,wildtype:"Y",mutant:"G"},{Antibody:"REGN10933",reference_site:369,Escape:.003543,wildtype:"Y",mutant:"H"},{Antibody:"REGN10933",reference_site:369,Escape:.005824,wildtype:"Y",mutant:"I"},{Antibody:"REGN10933",reference_site:369,Escape:.00361,wildtype:"Y",mutant:"K"},{Antibody:"REGN10933",reference_site:369,Escape:.002766,wildtype:"Y",mutant:"L"},{Antibody:"REGN10933",reference_site:369,Escape:.004589,wildtype:"Y",mutant:"M"},{Antibody:"REGN10933",reference_site:369,Escape:.008002,wildtype:"Y",mutant:"N"},{Antibody:"REGN10933",reference_site:369,Escape:.01487,wildtype:"Y",mutant:"P"},{Antibody:"REGN10933",reference_site:369,Escape:.004454,wildtype:"Y",mutant:"Q"},{Antibody:"REGN10933",reference_site:369,Escape:.002938,wildtype:"Y",mutant:"R"},{Antibody:"REGN10933",reference_site:369,Escape:.003229,wildtype:"Y",mutant:"S"},{Antibody:"REGN10933",reference_site:369,Escape:.001125,wildtype:"Y",mutant:"T"},{Antibody:"REGN10933",reference_site:369,Escape:.001125,wildtype:"Y",mutant:"V"},{Antibody:"REGN10933",reference_site:369,Escape:.001125,wildtype:"Y",mutant:"W"},{Antibody:"REGN10933",reference_site:370,Escape:.001125,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:370,Escape:.002648,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:370,Escape:.002284,wildtype:"N",mutant:"E"},{Antibody:"REGN10933",reference_site:370,Escape:.001354,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:370,Escape:.001243,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:370,Escape:.001125,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:370,Escape:.005738,wildtype:"N",mutant:"L"},{Antibody:"REGN10933",reference_site:370,Escape:.002922,wildtype:"N",mutant:"M"},{Antibody:"REGN10933",reference_site:370,Escape:.00396,wildtype:"N",mutant:"P"},{Antibody:"REGN10933",reference_site:370,Escape:.003507,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:370,Escape:.002153,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:370,Escape:.001125,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:370,Escape:.001125,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:370,Escape:.001217,wildtype:"N",mutant:"Y"},{Antibody:"REGN10933",reference_site:371,Escape:.002888,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:371,Escape:.001561,wildtype:"S",mutant:"C"},{Antibody:"REGN10933",reference_site:371,Escape:.001125,wildtype:"S",mutant:"D"},{Antibody:"REGN10933",reference_site:371,Escape:.001125,wildtype:"S",mutant:"E"},{Antibody:"REGN10933",reference_site:371,Escape:.004853,wildtype:"S",mutant:"F"},{Antibody:"REGN10933",reference_site:371,Escape:.00797,wildtype:"S",mutant:"G"},{Antibody:"REGN10933",reference_site:371,Escape:.001764,wildtype:"S",mutant:"H"},{Antibody:"REGN10933",reference_site:371,Escape:.00139,wildtype:"S",mutant:"I"},{Antibody:"REGN10933",reference_site:371,Escape:.00198,wildtype:"S",mutant:"K"},{Antibody:"REGN10933",reference_site:371,Escape:.001125,wildtype:"S",mutant:"L"},{Antibody:"REGN10933",reference_site:371,Escape:.003166,wildtype:"S",mutant:"M"},{Antibody:"REGN10933",reference_site:371,Escape:.001499,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:371,Escape:.005546,wildtype:"S",mutant:"P"},{Antibody:"REGN10933",reference_site:371,Escape:.001125,wildtype:"S",mutant:"Q"},{Antibody:"REGN10933",reference_site:371,Escape:.002697,wildtype:"S",mutant:"R"},{Antibody:"REGN10933",reference_site:371,Escape:.001667,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:371,Escape:.001125,wildtype:"S",mutant:"V"},{Antibody:"REGN10933",reference_site:371,Escape:.001125,wildtype:"S",mutant:"W"},{Antibody:"REGN10933",reference_site:371,Escape:.004009,wildtype:"S",mutant:"Y"},{Antibody:"REGN10933",reference_site:372,Escape:.003848,wildtype:"A",mutant:"D"},{Antibody:"REGN10933",reference_site:372,Escape:.001125,wildtype:"A",mutant:"E"},{Antibody:"REGN10933",reference_site:372,Escape:.001125,wildtype:"A",mutant:"F"},{Antibody:"REGN10933",reference_site:372,Escape:.001125,wildtype:"A",mutant:"G"},{Antibody:"REGN10933",reference_site:372,Escape:.003753,wildtype:"A",mutant:"H"},{Antibody:"REGN10933",reference_site:372,Escape:.004091,wildtype:"A",mutant:"I"},{Antibody:"REGN10933",reference_site:372,Escape:.004033,wildtype:"A",mutant:"K"},{Antibody:"REGN10933",reference_site:372,Escape:.001125,wildtype:"A",mutant:"L"},{Antibody:"REGN10933",reference_site:372,Escape:.001125,wildtype:"A",mutant:"M"},{Antibody:"REGN10933",reference_site:372,Escape:.003626,wildtype:"A",mutant:"N"},{Antibody:"REGN10933",reference_site:372,Escape:.003066,wildtype:"A",mutant:"P"},{Antibody:"REGN10933",reference_site:372,Escape:.002002,wildtype:"A",mutant:"Q"},{Antibody:"REGN10933",reference_site:372,Escape:.001125,wildtype:"A",mutant:"R"},{Antibody:"REGN10933",reference_site:372,Escape:.004057,wildtype:"A",mutant:"S"},{Antibody:"REGN10933",reference_site:372,Escape:.00124,wildtype:"A",mutant:"T"},{Antibody:"REGN10933",reference_site:372,Escape:.004715,wildtype:"A",mutant:"V"},{Antibody:"REGN10933",reference_site:372,Escape:.01366,wildtype:"A",mutant:"W"},{Antibody:"REGN10933",reference_site:372,Escape:.001125,wildtype:"A",mutant:"Y"},{Antibody:"REGN10933",reference_site:373,Escape:.002009,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:373,Escape:.00406,wildtype:"S",mutant:"C"},{Antibody:"REGN10933",reference_site:373,Escape:.005644,wildtype:"S",mutant:"D"},{Antibody:"REGN10933",reference_site:373,Escape:.001386,wildtype:"S",mutant:"E"},{Antibody:"REGN10933",reference_site:373,Escape:.001702,wildtype:"S",mutant:"F"},{Antibody:"REGN10933",reference_site:373,Escape:.005896,wildtype:"S",mutant:"G"},{Antibody:"REGN10933",reference_site:373,Escape:.001125,wildtype:"S",mutant:"H"},{Antibody:"REGN10933",reference_site:373,Escape:.002628,wildtype:"S",mutant:"I"},{Antibody:"REGN10933",reference_site:373,Escape:.002425,wildtype:"S",mutant:"K"},{Antibody:"REGN10933",reference_site:373,Escape:.004583,wildtype:"S",mutant:"L"},{Antibody:"REGN10933",reference_site:373,Escape:.002264,wildtype:"S",mutant:"M"},{Antibody:"REGN10933",reference_site:373,Escape:.001125,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:373,Escape:.001439,wildtype:"S",mutant:"P"},{Antibody:"REGN10933",reference_site:373,Escape:.001125,wildtype:"S",mutant:"Q"},{Antibody:"REGN10933",reference_site:373,Escape:.001125,wildtype:"S",mutant:"R"},{Antibody:"REGN10933",reference_site:373,Escape:.001125,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:373,Escape:.001387,wildtype:"S",mutant:"V"},{Antibody:"REGN10933",reference_site:373,Escape:.001632,wildtype:"S",mutant:"W"},{Antibody:"REGN10933",reference_site:373,Escape:.002498,wildtype:"S",mutant:"Y"},{Antibody:"REGN10933",reference_site:374,Escape:.001125,wildtype:"F",mutant:"A"},{Antibody:"REGN10933",reference_site:374,Escape:.004398,wildtype:"F",mutant:"D"},{Antibody:"REGN10933",reference_site:374,Escape:.005046,wildtype:"F",mutant:"H"},{Antibody:"REGN10933",reference_site:374,Escape:.003008,wildtype:"F",mutant:"I"},{Antibody:"REGN10933",reference_site:374,Escape:.00904,wildtype:"F",mutant:"L"},{Antibody:"REGN10933",reference_site:374,Escape:.003429,wildtype:"F",mutant:"M"},{Antibody:"REGN10933",reference_site:374,Escape:.01664,wildtype:"F",mutant:"N"},{Antibody:"REGN10933",reference_site:374,Escape:.01544,wildtype:"F",mutant:"Q"},{Antibody:"REGN10933",reference_site:374,Escape:.003557,wildtype:"F",mutant:"T"},{Antibody:"REGN10933",reference_site:374,Escape:.00389,wildtype:"F",mutant:"V"},{Antibody:"REGN10933",reference_site:374,Escape:.001843,wildtype:"F",mutant:"W"},{Antibody:"REGN10933",reference_site:374,Escape:.001125,wildtype:"F",mutant:"Y"},{Antibody:"REGN10933",reference_site:375,Escape:.007885,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:375,Escape:.001125,wildtype:"S",mutant:"D"},{Antibody:"REGN10933",reference_site:375,Escape:.001125,wildtype:"S",mutant:"E"},{Antibody:"REGN10933",reference_site:375,Escape:.002157,wildtype:"S",mutant:"G"},{Antibody:"REGN10933",reference_site:375,Escape:.001901,wildtype:"S",mutant:"H"},{Antibody:"REGN10933",reference_site:375,Escape:.00172,wildtype:"S",mutant:"K"},{Antibody:"REGN10933",reference_site:375,Escape:.002443,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:375,Escape:.001125,wildtype:"S",mutant:"Q"},{Antibody:"REGN10933",reference_site:375,Escape:.003739,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:376,Escape:.002002,wildtype:"T",mutant:"C"},{Antibody:"REGN10933",reference_site:376,Escape:.001335,wildtype:"T",mutant:"D"},{Antibody:"REGN10933",reference_site:376,Escape:.003306,wildtype:"T",mutant:"F"},{Antibody:"REGN10933",reference_site:376,Escape:.007557,wildtype:"T",mutant:"H"},{Antibody:"REGN10933",reference_site:376,Escape:.001125,wildtype:"T",mutant:"I"},{Antibody:"REGN10933",reference_site:376,Escape:.001125,wildtype:"T",mutant:"K"},{Antibody:"REGN10933",reference_site:376,Escape:.001246,wildtype:"T",mutant:"L"},{Antibody:"REGN10933",reference_site:376,Escape:.002863,wildtype:"T",mutant:"M"},{Antibody:"REGN10933",reference_site:376,Escape:.001125,wildtype:"T",mutant:"N"},{Antibody:"REGN10933",reference_site:376,Escape:.003082,wildtype:"T",mutant:"S"},{Antibody:"REGN10933",reference_site:376,Escape:.001125,wildtype:"T",mutant:"V"},{Antibody:"REGN10933",reference_site:376,Escape:.002967,wildtype:"T",mutant:"Y"},{Antibody:"REGN10933",reference_site:377,Escape:.001696,wildtype:"F",mutant:"I"},{Antibody:"REGN10933",reference_site:377,Escape:.001703,wildtype:"F",mutant:"L"},{Antibody:"REGN10933",reference_site:377,Escape:.001125,wildtype:"F",mutant:"M"},{Antibody:"REGN10933",reference_site:377,Escape:.001125,wildtype:"F",mutant:"V"},{Antibody:"REGN10933",reference_site:377,Escape:.004081,wildtype:"F",mutant:"W"},{Antibody:"REGN10933",reference_site:378,Escape:.003651,wildtype:"K",mutant:"A"},{Antibody:"REGN10933",reference_site:378,Escape:.004364,wildtype:"K",mutant:"C"},{Antibody:"REGN10933",reference_site:378,Escape:.003274,wildtype:"K",mutant:"D"},{Antibody:"REGN10933",reference_site:378,Escape:.004713,wildtype:"K",mutant:"E"},{Antibody:"REGN10933",reference_site:378,Escape:.001738,wildtype:"K",mutant:"H"},{Antibody:"REGN10933",reference_site:378,Escape:.004027,wildtype:"K",mutant:"I"},{Antibody:"REGN10933",reference_site:378,Escape:.00359,wildtype:"K",mutant:"L"},{Antibody:"REGN10933",reference_site:378,Escape:.00203,wildtype:"K",mutant:"M"},{Antibody:"REGN10933",reference_site:378,Escape:.006193,wildtype:"K",mutant:"N"},{Antibody:"REGN10933",reference_site:378,Escape:.001125,wildtype:"K",mutant:"Q"},{Antibody:"REGN10933",reference_site:378,Escape:.001125,wildtype:"K",mutant:"R"},{Antibody:"REGN10933",reference_site:378,Escape:.00835,wildtype:"K",mutant:"S"},{Antibody:"REGN10933",reference_site:378,Escape:.002197,wildtype:"K",mutant:"T"},{Antibody:"REGN10933",reference_site:378,Escape:.002241,wildtype:"K",mutant:"V"},{Antibody:"REGN10933",reference_site:380,Escape:.001125,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:380,Escape:.001125,wildtype:"Y",mutant:"W"},{Antibody:"REGN10933",reference_site:381,Escape:.00343,wildtype:"G",mutant:"H"},{Antibody:"REGN10933",reference_site:381,Escape:.00282,wildtype:"G",mutant:"K"},{Antibody:"REGN10933",reference_site:381,Escape:.002796,wildtype:"G",mutant:"N"},{Antibody:"REGN10933",reference_site:381,Escape:.001594,wildtype:"G",mutant:"Q"},{Antibody:"REGN10933",reference_site:381,Escape:.003652,wildtype:"G",mutant:"R"},{Antibody:"REGN10933",reference_site:381,Escape:.003241,wildtype:"G",mutant:"S"},{Antibody:"REGN10933",reference_site:382,Escape:.008193,wildtype:"V",mutant:"C"},{Antibody:"REGN10933",reference_site:382,Escape:.001625,wildtype:"V",mutant:"F"},{Antibody:"REGN10933",reference_site:382,Escape:.001125,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:382,Escape:.001125,wildtype:"V",mutant:"L"},{Antibody:"REGN10933",reference_site:382,Escape:.003042,wildtype:"V",mutant:"T"},{Antibody:"REGN10933",reference_site:382,Escape:.002946,wildtype:"V",mutant:"Y"},{Antibody:"REGN10933",reference_site:383,Escape:0,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:383,Escape:.00199,wildtype:"S",mutant:"C"},{Antibody:"REGN10933",reference_site:383,Escape:.001125,wildtype:"S",mutant:"D"},{Antibody:"REGN10933",reference_site:383,Escape:.001125,wildtype:"S",mutant:"E"},{Antibody:"REGN10933",reference_site:383,Escape:.001125,wildtype:"S",mutant:"H"},{Antibody:"REGN10933",reference_site:383,Escape:.003235,wildtype:"S",mutant:"I"},{Antibody:"REGN10933",reference_site:383,Escape:.007428,wildtype:"S",mutant:"K"},{Antibody:"REGN10933",reference_site:383,Escape:.001125,wildtype:"S",mutant:"L"},{Antibody:"REGN10933",reference_site:383,Escape:0,wildtype:"S",mutant:"M"},{Antibody:"REGN10933",reference_site:383,Escape:.001125,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:383,Escape:.001964,wildtype:"S",mutant:"P"},{Antibody:"REGN10933",reference_site:383,Escape:.005767,wildtype:"S",mutant:"Q"},{Antibody:"REGN10933",reference_site:383,Escape:.002759,wildtype:"S",mutant:"R"},{Antibody:"REGN10933",reference_site:383,Escape:.001998,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:383,Escape:.002022,wildtype:"S",mutant:"V"},{Antibody:"REGN10933",reference_site:383,Escape:.001125,wildtype:"S",mutant:"Y"},{Antibody:"REGN10933",reference_site:384,Escape:.00187,wildtype:"P",mutant:"A"},{Antibody:"REGN10933",reference_site:384,Escape:.00157,wildtype:"P",mutant:"E"},{Antibody:"REGN10933",reference_site:384,Escape:.001125,wildtype:"P",mutant:"F"},{Antibody:"REGN10933",reference_site:384,Escape:.007991,wildtype:"P",mutant:"G"},{Antibody:"REGN10933",reference_site:384,Escape:.001125,wildtype:"P",mutant:"H"},{Antibody:"REGN10933",reference_site:384,Escape:.001899,wildtype:"P",mutant:"I"},{Antibody:"REGN10933",reference_site:384,Escape:.001125,wildtype:"P",mutant:"K"},{Antibody:"REGN10933",reference_site:384,Escape:.003476,wildtype:"P",mutant:"L"},{Antibody:"REGN10933",reference_site:384,Escape:.001125,wildtype:"P",mutant:"M"},{Antibody:"REGN10933",reference_site:384,Escape:.002042,wildtype:"P",mutant:"N"},{Antibody:"REGN10933",reference_site:384,Escape:.001861,wildtype:"P",mutant:"Q"},{Antibody:"REGN10933",reference_site:384,Escape:.003943,wildtype:"P",mutant:"R"},{Antibody:"REGN10933",reference_site:384,Escape:.001868,wildtype:"P",mutant:"S"},{Antibody:"REGN10933",reference_site:384,Escape:.001393,wildtype:"P",mutant:"T"},{Antibody:"REGN10933",reference_site:384,Escape:.001125,wildtype:"P",mutant:"V"},{Antibody:"REGN10933",reference_site:384,Escape:.002968,wildtype:"P",mutant:"W"},{Antibody:"REGN10933",reference_site:384,Escape:.001125,wildtype:"P",mutant:"Y"},{Antibody:"REGN10933",reference_site:385,Escape:.00394,wildtype:"T",mutant:"A"},{Antibody:"REGN10933",reference_site:385,Escape:.004476,wildtype:"T",mutant:"C"},{Antibody:"REGN10933",reference_site:385,Escape:.004283,wildtype:"T",mutant:"D"},{Antibody:"REGN10933",reference_site:385,Escape:.001809,wildtype:"T",mutant:"E"},{Antibody:"REGN10933",reference_site:385,Escape:.00445,wildtype:"T",mutant:"F"},{Antibody:"REGN10933",reference_site:385,Escape:.004254,wildtype:"T",mutant:"G"},{Antibody:"REGN10933",reference_site:385,Escape:.01632,wildtype:"T",mutant:"H"},{Antibody:"REGN10933",reference_site:385,Escape:.007029,wildtype:"T",mutant:"I"},{Antibody:"REGN10933",reference_site:385,Escape:.003408,wildtype:"T",mutant:"K"},{Antibody:"REGN10933",reference_site:385,Escape:.001842,wildtype:"T",mutant:"L"},{Antibody:"REGN10933",reference_site:385,Escape:.001125,wildtype:"T",mutant:"M"},{Antibody:"REGN10933",reference_site:385,Escape:.001125,wildtype:"T",mutant:"N"},{Antibody:"REGN10933",reference_site:385,Escape:.002077,wildtype:"T",mutant:"P"},{Antibody:"REGN10933",reference_site:385,Escape:.001125,wildtype:"T",mutant:"Q"},{Antibody:"REGN10933",reference_site:385,Escape:.001685,wildtype:"T",mutant:"R"},{Antibody:"REGN10933",reference_site:385,Escape:.001125,wildtype:"T",mutant:"S"},{Antibody:"REGN10933",reference_site:385,Escape:.001125,wildtype:"T",mutant:"V"},{Antibody:"REGN10933",reference_site:385,Escape:.004109,wildtype:"T",mutant:"W"},{Antibody:"REGN10933",reference_site:385,Escape:.001125,wildtype:"T",mutant:"Y"},{Antibody:"REGN10933",reference_site:386,Escape:.04262,wildtype:"K",mutant:"A"},{Antibody:"REGN10933",reference_site:386,Escape:.006415,wildtype:"K",mutant:"C"},{Antibody:"REGN10933",reference_site:386,Escape:.001125,wildtype:"K",mutant:"D"},{Antibody:"REGN10933",reference_site:386,Escape:.006311,wildtype:"K",mutant:"E"},{Antibody:"REGN10933",reference_site:386,Escape:.001125,wildtype:"K",mutant:"G"},{Antibody:"REGN10933",reference_site:386,Escape:.001125,wildtype:"K",mutant:"H"},{Antibody:"REGN10933",reference_site:386,Escape:.003842,wildtype:"K",mutant:"I"},{Antibody:"REGN10933",reference_site:386,Escape:.003688,wildtype:"K",mutant:"L"},{Antibody:"REGN10933",reference_site:386,Escape:.001125,wildtype:"K",mutant:"M"},{Antibody:"REGN10933",reference_site:386,Escape:.004503,wildtype:"K",mutant:"N"},{Antibody:"REGN10933",reference_site:386,Escape:.001125,wildtype:"K",mutant:"Q"},{Antibody:"REGN10933",reference_site:386,Escape:.001125,wildtype:"K",mutant:"R"},{Antibody:"REGN10933",reference_site:386,Escape:.001125,wildtype:"K",mutant:"S"},{Antibody:"REGN10933",reference_site:386,Escape:.001721,wildtype:"K",mutant:"T"},{Antibody:"REGN10933",reference_site:386,Escape:.001125,wildtype:"K",mutant:"V"},{Antibody:"REGN10933",reference_site:386,Escape:.00848,wildtype:"K",mutant:"Y"},{Antibody:"REGN10933",reference_site:387,Escape:.001502,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:387,Escape:.003673,wildtype:"L",mutant:"M"},{Antibody:"REGN10933",reference_site:388,Escape:.001125,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:388,Escape:.001538,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:388,Escape:.001125,wildtype:"N",mutant:"E"},{Antibody:"REGN10933",reference_site:388,Escape:.02515,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:388,Escape:.001125,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:388,Escape:.001421,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:388,Escape:.004575,wildtype:"N",mutant:"L"},{Antibody:"REGN10933",reference_site:388,Escape:.001409,wildtype:"N",mutant:"M"},{Antibody:"REGN10933",reference_site:388,Escape:.001125,wildtype:"N",mutant:"P"},{Antibody:"REGN10933",reference_site:388,Escape:.00798,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:388,Escape:.00145,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:388,Escape:.004411,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:388,Escape:.001125,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:388,Escape:.00497,wildtype:"N",mutant:"V"},{Antibody:"REGN10933",reference_site:389,Escape:.001517,wildtype:"D",mutant:"A"},{Antibody:"REGN10933",reference_site:389,Escape:.001973,wildtype:"D",mutant:"C"},{Antibody:"REGN10933",reference_site:389,Escape:.005393,wildtype:"D",mutant:"E"},{Antibody:"REGN10933",reference_site:389,Escape:.007667,wildtype:"D",mutant:"F"},{Antibody:"REGN10933",reference_site:389,Escape:.003887,wildtype:"D",mutant:"G"},{Antibody:"REGN10933",reference_site:389,Escape:.001125,wildtype:"D",mutant:"H"},{Antibody:"REGN10933",reference_site:389,Escape:.001125,wildtype:"D",mutant:"K"},{Antibody:"REGN10933",reference_site:389,Escape:.002837,wildtype:"D",mutant:"L"},{Antibody:"REGN10933",reference_site:389,Escape:.00224,wildtype:"D",mutant:"M"},{Antibody:"REGN10933",reference_site:389,Escape:.00635,wildtype:"D",mutant:"N"},{Antibody:"REGN10933",reference_site:389,Escape:.001125,wildtype:"D",mutant:"Q"},{Antibody:"REGN10933",reference_site:389,Escape:.001856,wildtype:"D",mutant:"R"},{Antibody:"REGN10933",reference_site:389,Escape:.005172,wildtype:"D",mutant:"S"},{Antibody:"REGN10933",reference_site:389,Escape:.001125,wildtype:"D",mutant:"T"},{Antibody:"REGN10933",reference_site:389,Escape:.001984,wildtype:"D",mutant:"W"},{Antibody:"REGN10933",reference_site:389,Escape:.001952,wildtype:"D",mutant:"Y"},{Antibody:"REGN10933",reference_site:390,Escape:.002626,wildtype:"L",mutant:"A"},{Antibody:"REGN10933",reference_site:390,Escape:.002474,wildtype:"L",mutant:"C"},{Antibody:"REGN10933",reference_site:390,Escape:.002122,wildtype:"L",mutant:"D"},{Antibody:"REGN10933",reference_site:390,Escape:.001687,wildtype:"L",mutant:"E"},{Antibody:"REGN10933",reference_site:390,Escape:.003203,wildtype:"L",mutant:"F"},{Antibody:"REGN10933",reference_site:390,Escape:.002354,wildtype:"L",mutant:"G"},{Antibody:"REGN10933",reference_site:390,Escape:.004502,wildtype:"L",mutant:"H"},{Antibody:"REGN10933",reference_site:390,Escape:.001125,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:390,Escape:.003078,wildtype:"L",mutant:"K"},{Antibody:"REGN10933",reference_site:390,Escape:.001125,wildtype:"L",mutant:"M"},{Antibody:"REGN10933",reference_site:390,Escape:.005564,wildtype:"L",mutant:"N"},{Antibody:"REGN10933",reference_site:390,Escape:.005823,wildtype:"L",mutant:"Q"},{Antibody:"REGN10933",reference_site:390,Escape:.001427,wildtype:"L",mutant:"R"},{Antibody:"REGN10933",reference_site:390,Escape:.001818,wildtype:"L",mutant:"S"},{Antibody:"REGN10933",reference_site:390,Escape:.00339,wildtype:"L",mutant:"T"},{Antibody:"REGN10933",reference_site:390,Escape:.00366,wildtype:"L",mutant:"V"},{Antibody:"REGN10933",reference_site:390,Escape:.005661,wildtype:"L",mutant:"W"},{Antibody:"REGN10933",reference_site:390,Escape:.006224,wildtype:"L",mutant:"Y"},{Antibody:"REGN10933",reference_site:391,Escape:.00151,wildtype:"C",mutant:"A"},{Antibody:"REGN10933",reference_site:391,Escape:.001125,wildtype:"C",mutant:"D"},{Antibody:"REGN10933",reference_site:391,Escape:.001125,wildtype:"C",mutant:"E"},{Antibody:"REGN10933",reference_site:391,Escape:.001125,wildtype:"C",mutant:"F"},{Antibody:"REGN10933",reference_site:391,Escape:.001125,wildtype:"C",mutant:"G"},{Antibody:"REGN10933",reference_site:391,Escape:.01063,wildtype:"C",mutant:"H"},{Antibody:"REGN10933",reference_site:391,Escape:.001125,wildtype:"C",mutant:"I"},{Antibody:"REGN10933",reference_site:391,Escape:.002404,wildtype:"C",mutant:"K"},{Antibody:"REGN10933",reference_site:391,Escape:.005566,wildtype:"C",mutant:"L"},{Antibody:"REGN10933",reference_site:391,Escape:.001207,wildtype:"C",mutant:"M"},{Antibody:"REGN10933",reference_site:391,Escape:.001832,wildtype:"C",mutant:"N"},{Antibody:"REGN10933",reference_site:391,Escape:.001125,wildtype:"C",mutant:"P"},{Antibody:"REGN10933",reference_site:391,Escape:.001125,wildtype:"C",mutant:"Q"},{Antibody:"REGN10933",reference_site:391,Escape:.003116,wildtype:"C",mutant:"R"},{Antibody:"REGN10933",reference_site:391,Escape:.001192,wildtype:"C",mutant:"S"},{Antibody:"REGN10933",reference_site:391,Escape:.003372,wildtype:"C",mutant:"T"},{Antibody:"REGN10933",reference_site:391,Escape:.001125,wildtype:"C",mutant:"V"},{Antibody:"REGN10933",reference_site:391,Escape:.002448,wildtype:"C",mutant:"W"},{Antibody:"REGN10933",reference_site:391,Escape:.001125,wildtype:"C",mutant:"Y"},{Antibody:"REGN10933",reference_site:392,Escape:.001125,wildtype:"F",mutant:"A"},{Antibody:"REGN10933",reference_site:392,Escape:.002509,wildtype:"F",mutant:"C"},{Antibody:"REGN10933",reference_site:392,Escape:.002041,wildtype:"F",mutant:"H"},{Antibody:"REGN10933",reference_site:392,Escape:.004088,wildtype:"F",mutant:"I"},{Antibody:"REGN10933",reference_site:392,Escape:.003018,wildtype:"F",mutant:"L"},{Antibody:"REGN10933",reference_site:392,Escape:.001125,wildtype:"F",mutant:"M"},{Antibody:"REGN10933",reference_site:392,Escape:.001167,wildtype:"F",mutant:"N"},{Antibody:"REGN10933",reference_site:392,Escape:.001125,wildtype:"F",mutant:"P"},{Antibody:"REGN10933",reference_site:392,Escape:.004287,wildtype:"F",mutant:"S"},{Antibody:"REGN10933",reference_site:392,Escape:.00222,wildtype:"F",mutant:"T"},{Antibody:"REGN10933",reference_site:392,Escape:.001125,wildtype:"F",mutant:"V"},{Antibody:"REGN10933",reference_site:392,Escape:.002127,wildtype:"F",mutant:"W"},{Antibody:"REGN10933",reference_site:392,Escape:.002375,wildtype:"F",mutant:"Y"},{Antibody:"REGN10933",reference_site:393,Escape:.004713,wildtype:"T",mutant:"A"},{Antibody:"REGN10933",reference_site:393,Escape:.003012,wildtype:"T",mutant:"C"},{Antibody:"REGN10933",reference_site:393,Escape:.003164,wildtype:"T",mutant:"D"},{Antibody:"REGN10933",reference_site:393,Escape:.0029,wildtype:"T",mutant:"E"},{Antibody:"REGN10933",reference_site:393,Escape:.006014,wildtype:"T",mutant:"G"},{Antibody:"REGN10933",reference_site:393,Escape:.0278,wildtype:"T",mutant:"H"},{Antibody:"REGN10933",reference_site:393,Escape:.007566,wildtype:"T",mutant:"I"},{Antibody:"REGN10933",reference_site:393,Escape:.001125,wildtype:"T",mutant:"K"},{Antibody:"REGN10933",reference_site:393,Escape:.04489,wildtype:"T",mutant:"L"},{Antibody:"REGN10933",reference_site:393,Escape:.008542,wildtype:"T",mutant:"M"},{Antibody:"REGN10933",reference_site:393,Escape:.006066,wildtype:"T",mutant:"N"},{Antibody:"REGN10933",reference_site:393,Escape:.001125,wildtype:"T",mutant:"Q"},{Antibody:"REGN10933",reference_site:393,Escape:.001125,wildtype:"T",mutant:"R"},{Antibody:"REGN10933",reference_site:393,Escape:.001919,wildtype:"T",mutant:"S"},{Antibody:"REGN10933",reference_site:393,Escape:.0107,wildtype:"T",mutant:"V"},{Antibody:"REGN10933",reference_site:393,Escape:.001125,wildtype:"T",mutant:"Y"},{Antibody:"REGN10933",reference_site:394,Escape:.001245,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:394,Escape:.005474,wildtype:"N",mutant:"C"},{Antibody:"REGN10933",reference_site:394,Escape:.005006,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:394,Escape:.001125,wildtype:"N",mutant:"E"},{Antibody:"REGN10933",reference_site:394,Escape:.001475,wildtype:"N",mutant:"F"},{Antibody:"REGN10933",reference_site:394,Escape:.003201,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:394,Escape:.001125,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:394,Escape:.001727,wildtype:"N",mutant:"I"},{Antibody:"REGN10933",reference_site:394,Escape:.005271,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:394,Escape:.007092,wildtype:"N",mutant:"L"},{Antibody:"REGN10933",reference_site:394,Escape:.006682,wildtype:"N",mutant:"M"},{Antibody:"REGN10933",reference_site:394,Escape:.005256,wildtype:"N",mutant:"P"},{Antibody:"REGN10933",reference_site:394,Escape:.002588,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:394,Escape:.007367,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:394,Escape:.001125,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:394,Escape:.001125,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:394,Escape:.009163,wildtype:"N",mutant:"V"},{Antibody:"REGN10933",reference_site:394,Escape:.006375,wildtype:"N",mutant:"W"},{Antibody:"REGN10933",reference_site:394,Escape:.001125,wildtype:"N",mutant:"Y"},{Antibody:"REGN10933",reference_site:395,Escape:.01227,wildtype:"V",mutant:"A"},{Antibody:"REGN10933",reference_site:395,Escape:.001125,wildtype:"V",mutant:"G"},{Antibody:"REGN10933",reference_site:395,Escape:.001125,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:395,Escape:.001125,wildtype:"V",mutant:"L"},{Antibody:"REGN10933",reference_site:395,Escape:.001125,wildtype:"V",mutant:"M"},{Antibody:"REGN10933",reference_site:396,Escape:.002532,wildtype:"Y",mutant:"C"},{Antibody:"REGN10933",reference_site:396,Escape:.001125,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:396,Escape:.001778,wildtype:"Y",mutant:"H"},{Antibody:"REGN10933",reference_site:396,Escape:.009009,wildtype:"Y",mutant:"I"},{Antibody:"REGN10933",reference_site:396,Escape:.004938,wildtype:"Y",mutant:"L"},{Antibody:"REGN10933",reference_site:396,Escape:.01651,wildtype:"Y",mutant:"M"},{Antibody:"REGN10933",reference_site:396,Escape:.001125,wildtype:"Y",mutant:"N"},{Antibody:"REGN10933",reference_site:396,Escape:.009857,wildtype:"Y",mutant:"S"},{Antibody:"REGN10933",reference_site:396,Escape:.009786,wildtype:"Y",mutant:"T"},{Antibody:"REGN10933",reference_site:396,Escape:.001233,wildtype:"Y",mutant:"V"},{Antibody:"REGN10933",reference_site:396,Escape:.001125,wildtype:"Y",mutant:"W"},{Antibody:"REGN10933",reference_site:397,Escape:.01531,wildtype:"A",mutant:"C"},{Antibody:"REGN10933",reference_site:397,Escape:.003031,wildtype:"A",mutant:"I"},{Antibody:"REGN10933",reference_site:397,Escape:.001125,wildtype:"A",mutant:"L"},{Antibody:"REGN10933",reference_site:397,Escape:.007147,wildtype:"A",mutant:"V"},{Antibody:"REGN10933",reference_site:399,Escape:.009562,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:401,Escape:.02596,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:402,Escape:.02017,wildtype:"I",mutant:"C"},{Antibody:"REGN10933",reference_site:402,Escape:.001125,wildtype:"I",mutant:"L"},{Antibody:"REGN10933",reference_site:402,Escape:.003531,wildtype:"I",mutant:"V"},{Antibody:"REGN10933",reference_site:403,Escape:.003542,wildtype:"R",mutant:"A"},{Antibody:"REGN10933",reference_site:403,Escape:.001125,wildtype:"R",mutant:"K"},{Antibody:"REGN10933",reference_site:403,Escape:.002031,wildtype:"R",mutant:"M"},{Antibody:"REGN10933",reference_site:403,Escape:.005701,wildtype:"R",mutant:"S"},{Antibody:"REGN10933",reference_site:403,Escape:.001125,wildtype:"R",mutant:"T"},{Antibody:"REGN10933",reference_site:404,Escape:.03622,wildtype:"G",mutant:"A"},{Antibody:"REGN10933",reference_site:404,Escape:.003854,wildtype:"G",mutant:"K"},{Antibody:"REGN10933",reference_site:405,Escape:.001125,wildtype:"D",mutant:"A"},{Antibody:"REGN10933",reference_site:405,Escape:.001125,wildtype:"D",mutant:"E"},{Antibody:"REGN10933",reference_site:405,Escape:.001272,wildtype:"D",mutant:"K"},{Antibody:"REGN10933",reference_site:405,Escape:.001125,wildtype:"D",mutant:"N"},{Antibody:"REGN10933",reference_site:405,Escape:.002249,wildtype:"D",mutant:"R"},{Antibody:"REGN10933",reference_site:405,Escape:.004113,wildtype:"D",mutant:"S"},{Antibody:"REGN10933",reference_site:406,Escape:.0149,wildtype:"E",mutant:"D"},{Antibody:"REGN10933",reference_site:406,Escape:.00711,wildtype:"E",mutant:"Q"},{Antibody:"REGN10933",reference_site:406,Escape:.3279,wildtype:"E",mutant:"W"},{Antibody:"REGN10933",reference_site:407,Escape:.009413,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:407,Escape:.001125,wildtype:"V",mutant:"L"},{Antibody:"REGN10933",reference_site:408,Escape:.005431,wildtype:"R",mutant:"A"},{Antibody:"REGN10933",reference_site:408,Escape:.002782,wildtype:"R",mutant:"C"},{Antibody:"REGN10933",reference_site:408,Escape:.001125,wildtype:"R",mutant:"E"},{Antibody:"REGN10933",reference_site:408,Escape:.001537,wildtype:"R",mutant:"F"},{Antibody:"REGN10933",reference_site:408,Escape:.001125,wildtype:"R",mutant:"G"},{Antibody:"REGN10933",reference_site:408,Escape:.001125,wildtype:"R",mutant:"H"},{Antibody:"REGN10933",reference_site:408,Escape:.001125,wildtype:"R",mutant:"K"},{Antibody:"REGN10933",reference_site:408,Escape:.01,wildtype:"R",mutant:"L"},{Antibody:"REGN10933",reference_site:408,Escape:.01761,wildtype:"R",mutant:"P"},{Antibody:"REGN10933",reference_site:408,Escape:.001125,wildtype:"R",mutant:"S"},{Antibody:"REGN10933",reference_site:408,Escape:.002651,wildtype:"R",mutant:"T"},{Antibody:"REGN10933",reference_site:408,Escape:.001188,wildtype:"R",mutant:"V"},{Antibody:"REGN10933",reference_site:408,Escape:.001866,wildtype:"R",mutant:"W"},{Antibody:"REGN10933",reference_site:409,Escape:.001811,wildtype:"Q",mutant:"E"},{Antibody:"REGN10933",reference_site:410,Escape:.001125,wildtype:"I",mutant:"V"},{Antibody:"REGN10933",reference_site:411,Escape:.002655,wildtype:"A",mutant:"E"},{Antibody:"REGN10933",reference_site:411,Escape:.001125,wildtype:"A",mutant:"G"},{Antibody:"REGN10933",reference_site:411,Escape:.002002,wildtype:"A",mutant:"Q"},{Antibody:"REGN10933",reference_site:411,Escape:.001282,wildtype:"A",mutant:"R"},{Antibody:"REGN10933",reference_site:411,Escape:.002584,wildtype:"A",mutant:"S"},{Antibody:"REGN10933",reference_site:413,Escape:.001515,wildtype:"G",mutant:"A"},{Antibody:"REGN10933",reference_site:413,Escape:.001955,wildtype:"G",mutant:"C"},{Antibody:"REGN10933",reference_site:413,Escape:.001125,wildtype:"G",mutant:"F"},{Antibody:"REGN10933",reference_site:413,Escape:.001143,wildtype:"G",mutant:"H"},{Antibody:"REGN10933",reference_site:413,Escape:.001555,wildtype:"G",mutant:"K"},{Antibody:"REGN10933",reference_site:413,Escape:.001999,wildtype:"G",mutant:"L"},{Antibody:"REGN10933",reference_site:413,Escape:.001125,wildtype:"G",mutant:"M"},{Antibody:"REGN10933",reference_site:413,Escape:.002375,wildtype:"G",mutant:"N"},{Antibody:"REGN10933",reference_site:413,Escape:.001125,wildtype:"G",mutant:"Q"},{Antibody:"REGN10933",reference_site:413,Escape:.001125,wildtype:"G",mutant:"R"},{Antibody:"REGN10933",reference_site:413,Escape:.00145,wildtype:"G",mutant:"S"},{Antibody:"REGN10933",reference_site:413,Escape:.002271,wildtype:"G",mutant:"Y"},{Antibody:"REGN10933",reference_site:414,Escape:.001125,wildtype:"Q",mutant:"A"},{Antibody:"REGN10933",reference_site:414,Escape:.00167,wildtype:"Q",mutant:"C"},{Antibody:"REGN10933",reference_site:414,Escape:.00656,wildtype:"Q",mutant:"E"},{Antibody:"REGN10933",reference_site:414,Escape:.003598,wildtype:"Q",mutant:"G"},{Antibody:"REGN10933",reference_site:414,Escape:.002024,wildtype:"Q",mutant:"I"},{Antibody:"REGN10933",reference_site:414,Escape:.001125,wildtype:"Q",mutant:"K"},{Antibody:"REGN10933",reference_site:414,Escape:.004054,wildtype:"Q",mutant:"M"},{Antibody:"REGN10933",reference_site:414,Escape:.005558,wildtype:"Q",mutant:"R"},{Antibody:"REGN10933",reference_site:414,Escape:.001125,wildtype:"Q",mutant:"S"},{Antibody:"REGN10933",reference_site:414,Escape:.001125,wildtype:"Q",mutant:"T"},{Antibody:"REGN10933",reference_site:414,Escape:.008569,wildtype:"Q",mutant:"V"},{Antibody:"REGN10933",reference_site:415,Escape:.001183,wildtype:"T",mutant:"A"},{Antibody:"REGN10933",reference_site:415,Escape:.004629,wildtype:"T",mutant:"D"},{Antibody:"REGN10933",reference_site:415,Escape:.003268,wildtype:"T",mutant:"E"},{Antibody:"REGN10933",reference_site:415,Escape:.0072,wildtype:"T",mutant:"G"},{Antibody:"REGN10933",reference_site:415,Escape:.001562,wildtype:"T",mutant:"H"},{Antibody:"REGN10933",reference_site:415,Escape:.004157,wildtype:"T",mutant:"I"},{Antibody:"REGN10933",reference_site:415,Escape:.001538,wildtype:"T",mutant:"K"},{Antibody:"REGN10933",reference_site:415,Escape:.00325,wildtype:"T",mutant:"M"},{Antibody:"REGN10933",reference_site:415,Escape:.001125,wildtype:"T",mutant:"N"},{Antibody:"REGN10933",reference_site:415,Escape:.001874,wildtype:"T",mutant:"Q"},{Antibody:"REGN10933",reference_site:415,Escape:.001125,wildtype:"T",mutant:"R"},{Antibody:"REGN10933",reference_site:415,Escape:.00208,wildtype:"T",mutant:"S"},{Antibody:"REGN10933",reference_site:415,Escape:.001125,wildtype:"T",mutant:"V"},{Antibody:"REGN10933",reference_site:415,Escape:.002138,wildtype:"T",mutant:"Y"},{Antibody:"REGN10933",reference_site:417,Escape:.02007,wildtype:"K",mutant:"A"},{Antibody:"REGN10933",reference_site:417,Escape:.2703,wildtype:"K",mutant:"C"},{Antibody:"REGN10933",reference_site:417,Escape:.7281,wildtype:"K",mutant:"D"},{Antibody:"REGN10933",reference_site:417,Escape:.5641,wildtype:"K",mutant:"E"},{Antibody:"REGN10933",reference_site:417,Escape:.8196,wildtype:"K",mutant:"F"},{Antibody:"REGN10933",reference_site:417,Escape:.1216,wildtype:"K",mutant:"G"},{Antibody:"REGN10933",reference_site:417,Escape:.337,wildtype:"K",mutant:"H"},{Antibody:"REGN10933",reference_site:417,Escape:.01558,wildtype:"K",mutant:"I"},{Antibody:"REGN10933",reference_site:417,Escape:.02618,wildtype:"K",mutant:"L"},{Antibody:"REGN10933",reference_site:417,Escape:.04799,wildtype:"K",mutant:"M"},{Antibody:"REGN10933",reference_site:417,Escape:.003173,wildtype:"K",mutant:"N"},{Antibody:"REGN10933",reference_site:417,Escape:.05084,wildtype:"K",mutant:"P"},{Antibody:"REGN10933",reference_site:417,Escape:.02166,wildtype:"K",mutant:"Q"},{Antibody:"REGN10933",reference_site:417,Escape:.06988,wildtype:"K",mutant:"R"},{Antibody:"REGN10933",reference_site:417,Escape:.009814,wildtype:"K",mutant:"S"},{Antibody:"REGN10933",reference_site:417,Escape:.02103,wildtype:"K",mutant:"T"},{Antibody:"REGN10933",reference_site:417,Escape:.02792,wildtype:"K",mutant:"V"},{Antibody:"REGN10933",reference_site:417,Escape:.7221,wildtype:"K",mutant:"W"},{Antibody:"REGN10933",reference_site:417,Escape:.6782,wildtype:"K",mutant:"Y"},{Antibody:"REGN10933",reference_site:418,Escape:.00503,wildtype:"I",mutant:"V"},{Antibody:"REGN10933",reference_site:419,Escape:.001679,wildtype:"A",mutant:"P"},{Antibody:"REGN10933",reference_site:419,Escape:.00518,wildtype:"A",mutant:"S"},{Antibody:"REGN10933",reference_site:420,Escape:.006901,wildtype:"D",mutant:"A"},{Antibody:"REGN10933",reference_site:420,Escape:.005823,wildtype:"D",mutant:"E"},{Antibody:"REGN10933",reference_site:420,Escape:.001125,wildtype:"D",mutant:"K"},{Antibody:"REGN10933",reference_site:420,Escape:.002819,wildtype:"D",mutant:"M"},{Antibody:"REGN10933",reference_site:420,Escape:.001544,wildtype:"D",mutant:"N"},{Antibody:"REGN10933",reference_site:420,Escape:.001301,wildtype:"D",mutant:"Q"},{Antibody:"REGN10933",reference_site:420,Escape:.003377,wildtype:"D",mutant:"R"},{Antibody:"REGN10933",reference_site:420,Escape:.006546,wildtype:"D",mutant:"S"},{Antibody:"REGN10933",reference_site:421,Escape:.001125,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:421,Escape:.003169,wildtype:"Y",mutant:"L"},{Antibody:"REGN10933",reference_site:421,Escape:.01104,wildtype:"Y",mutant:"M"},{Antibody:"REGN10933",reference_site:421,Escape:.001125,wildtype:"Y",mutant:"W"},{Antibody:"REGN10933",reference_site:424,Escape:.002407,wildtype:"K",mutant:"H"},{Antibody:"REGN10933",reference_site:424,Escape:.001125,wildtype:"K",mutant:"R"},{Antibody:"REGN10933",reference_site:425,Escape:.001125,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:425,Escape:.003249,wildtype:"L",mutant:"M"},{Antibody:"REGN10933",reference_site:425,Escape:.001125,wildtype:"L",mutant:"V"},{Antibody:"REGN10933",reference_site:427,Escape:.001125,wildtype:"D",mutant:"A"},{Antibody:"REGN10933",reference_site:427,Escape:.001125,wildtype:"D",mutant:"E"},{Antibody:"REGN10933",reference_site:427,Escape:.001901,wildtype:"D",mutant:"F"},{Antibody:"REGN10933",reference_site:427,Escape:.003998,wildtype:"D",mutant:"G"},{Antibody:"REGN10933",reference_site:427,Escape:.001856,wildtype:"D",mutant:"H"},{Antibody:"REGN10933",reference_site:427,Escape:.001397,wildtype:"D",mutant:"I"},{Antibody:"REGN10933",reference_site:427,Escape:.001125,wildtype:"D",mutant:"K"},{Antibody:"REGN10933",reference_site:427,Escape:.002679,wildtype:"D",mutant:"L"},{Antibody:"REGN10933",reference_site:427,Escape:.004257,wildtype:"D",mutant:"M"},{Antibody:"REGN10933",reference_site:427,Escape:.01054,wildtype:"D",mutant:"N"},{Antibody:"REGN10933",reference_site:427,Escape:.004995,wildtype:"D",mutant:"P"},{Antibody:"REGN10933",reference_site:427,Escape:.008684,wildtype:"D",mutant:"Q"},{Antibody:"REGN10933",reference_site:427,Escape:.001125,wildtype:"D",mutant:"R"},{Antibody:"REGN10933",reference_site:427,Escape:.001663,wildtype:"D",mutant:"S"},{Antibody:"REGN10933",reference_site:427,Escape:.001555,wildtype:"D",mutant:"T"},{Antibody:"REGN10933",reference_site:427,Escape:.001866,wildtype:"D",mutant:"V"},{Antibody:"REGN10933",reference_site:427,Escape:.001862,wildtype:"D",mutant:"W"},{Antibody:"REGN10933",reference_site:427,Escape:.001125,wildtype:"D",mutant:"Y"},{Antibody:"REGN10933",reference_site:428,Escape:.01055,wildtype:"D",mutant:"A"},{Antibody:"REGN10933",reference_site:428,Escape:.0023,wildtype:"D",mutant:"E"},{Antibody:"REGN10933",reference_site:428,Escape:.001184,wildtype:"D",mutant:"G"},{Antibody:"REGN10933",reference_site:428,Escape:.001435,wildtype:"D",mutant:"H"},{Antibody:"REGN10933",reference_site:428,Escape:.003002,wildtype:"D",mutant:"K"},{Antibody:"REGN10933",reference_site:428,Escape:.001125,wildtype:"D",mutant:"N"},{Antibody:"REGN10933",reference_site:428,Escape:.006857,wildtype:"D",mutant:"P"},{Antibody:"REGN10933",reference_site:428,Escape:.00193,wildtype:"D",mutant:"Q"},{Antibody:"REGN10933",reference_site:428,Escape:.001532,wildtype:"D",mutant:"R"},{Antibody:"REGN10933",reference_site:428,Escape:.001408,wildtype:"D",mutant:"S"},{Antibody:"REGN10933",reference_site:428,Escape:.01731,wildtype:"D",mutant:"T"},{Antibody:"REGN10933",reference_site:429,Escape:.01048,wildtype:"F",mutant:"W"},{Antibody:"REGN10933",reference_site:430,Escape:.002066,wildtype:"T",mutant:"A"},{Antibody:"REGN10933",reference_site:430,Escape:.003223,wildtype:"T",mutant:"C"},{Antibody:"REGN10933",reference_site:430,Escape:.001532,wildtype:"T",mutant:"F"},{Antibody:"REGN10933",reference_site:430,Escape:.002503,wildtype:"T",mutant:"H"},{Antibody:"REGN10933",reference_site:430,Escape:.001674,wildtype:"T",mutant:"I"},{Antibody:"REGN10933",reference_site:430,Escape:.001125,wildtype:"T",mutant:"K"},{Antibody:"REGN10933",reference_site:430,Escape:.001809,wildtype:"T",mutant:"L"},{Antibody:"REGN10933",reference_site:430,Escape:.001125,wildtype:"T",mutant:"M"},{Antibody:"REGN10933",reference_site:430,Escape:.001934,wildtype:"T",mutant:"N"},{Antibody:"REGN10933",reference_site:430,Escape:.001125,wildtype:"T",mutant:"Q"},{Antibody:"REGN10933",reference_site:430,Escape:.001125,wildtype:"T",mutant:"R"},{Antibody:"REGN10933",reference_site:430,Escape:.006606,wildtype:"T",mutant:"S"},{Antibody:"REGN10933",reference_site:430,Escape:.00204,wildtype:"T",mutant:"V"},{Antibody:"REGN10933",reference_site:430,Escape:.005524,wildtype:"T",mutant:"W"},{Antibody:"REGN10933",reference_site:430,Escape:.001125,wildtype:"T",mutant:"Y"},{Antibody:"REGN10933",reference_site:433,Escape:.003034,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:434,Escape:.00445,wildtype:"I",mutant:"F"},{Antibody:"REGN10933",reference_site:434,Escape:.001125,wildtype:"I",mutant:"L"},{Antibody:"REGN10933",reference_site:434,Escape:.001749,wildtype:"I",mutant:"M"},{Antibody:"REGN10933",reference_site:434,Escape:.001125,wildtype:"I",mutant:"V"},{Antibody:"REGN10933",reference_site:434,Escape:.001645,wildtype:"I",mutant:"W"},{Antibody:"REGN10933",reference_site:434,Escape:.002286,wildtype:"I",mutant:"Y"},{Antibody:"REGN10933",reference_site:435,Escape:.004747,wildtype:"A",mutant:"S"},{Antibody:"REGN10933",reference_site:435,Escape:.006688,wildtype:"A",mutant:"T"},{Antibody:"REGN10933",reference_site:437,Escape:.03572,wildtype:"N",mutant:"P"},{Antibody:"REGN10933",reference_site:438,Escape:.001125,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:438,Escape:.01015,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:439,Escape:.001603,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:439,Escape:.01092,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:439,Escape:0,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:439,Escape:.00191,wildtype:"N",mutant:"L"},{Antibody:"REGN10933",reference_site:439,Escape:.001125,wildtype:"N",mutant:"M"},{Antibody:"REGN10933",reference_site:439,Escape:.001125,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:439,Escape:.002249,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:439,Escape:.01552,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:439,Escape:.001125,wildtype:"N",mutant:"V"},{Antibody:"REGN10933",reference_site:439,Escape:.00194,wildtype:"N",mutant:"Y"},{Antibody:"REGN10933",reference_site:440,Escape:.004704,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:440,Escape:.001966,wildtype:"N",mutant:"C"},{Antibody:"REGN10933",reference_site:440,Escape:.001125,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:440,Escape:.004912,wildtype:"N",mutant:"E"},{Antibody:"REGN10933",reference_site:440,Escape:.004529,wildtype:"N",mutant:"F"},{Antibody:"REGN10933",reference_site:440,Escape:.001559,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:440,Escape:.002473,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:440,Escape:.008019,wildtype:"N",mutant:"I"},{Antibody:"REGN10933",reference_site:440,Escape:.004257,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:440,Escape:.003439,wildtype:"N",mutant:"L"},{Antibody:"REGN10933",reference_site:440,Escape:.002224,wildtype:"N",mutant:"M"},{Antibody:"REGN10933",reference_site:440,Escape:.009207,wildtype:"N",mutant:"P"},{Antibody:"REGN10933",reference_site:440,Escape:.005334,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:440,Escape:.006884,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:440,Escape:.004851,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:440,Escape:.001777,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:440,Escape:.001125,wildtype:"N",mutant:"V"},{Antibody:"REGN10933",reference_site:440,Escape:.002811,wildtype:"N",mutant:"Y"},{Antibody:"REGN10933",reference_site:441,Escape:.001702,wildtype:"L",mutant:"A"},{Antibody:"REGN10933",reference_site:441,Escape:.002342,wildtype:"L",mutant:"F"},{Antibody:"REGN10933",reference_site:441,Escape:.05488,wildtype:"L",mutant:"H"},{Antibody:"REGN10933",reference_site:441,Escape:.001125,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:441,Escape:.001635,wildtype:"L",mutant:"Q"},{Antibody:"REGN10933",reference_site:441,Escape:.002249,wildtype:"L",mutant:"R"},{Antibody:"REGN10933",reference_site:441,Escape:.0021,wildtype:"L",mutant:"S"},{Antibody:"REGN10933",reference_site:441,Escape:.001125,wildtype:"L",mutant:"V"},{Antibody:"REGN10933",reference_site:441,Escape:.00319,wildtype:"L",mutant:"W"},{Antibody:"REGN10933",reference_site:443,Escape:.001125,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:443,Escape:.002741,wildtype:"S",mutant:"C"},{Antibody:"REGN10933",reference_site:443,Escape:.002515,wildtype:"S",mutant:"G"},{Antibody:"REGN10933",reference_site:443,Escape:.00161,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:443,Escape:.0038,wildtype:"S",mutant:"Q"},{Antibody:"REGN10933",reference_site:443,Escape:.002989,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:443,Escape:.00311,wildtype:"S",mutant:"V"},{Antibody:"REGN10933",reference_site:443,Escape:.00224,wildtype:"S",mutant:"Y"},{Antibody:"REGN10933",reference_site:444,Escape:.0019,wildtype:"K",mutant:"A"},{Antibody:"REGN10933",reference_site:444,Escape:.005222,wildtype:"K",mutant:"C"},{Antibody:"REGN10933",reference_site:444,Escape:.009312,wildtype:"K",mutant:"D"},{Antibody:"REGN10933",reference_site:444,Escape:.001125,wildtype:"K",mutant:"E"},{Antibody:"REGN10933",reference_site:444,Escape:.001125,wildtype:"K",mutant:"F"},{Antibody:"REGN10933",reference_site:444,Escape:.00635,wildtype:"K",mutant:"G"},{Antibody:"REGN10933",reference_site:444,Escape:.004244,wildtype:"K",mutant:"H"},{Antibody:"REGN10933",reference_site:444,Escape:.001125,wildtype:"K",mutant:"I"},{Antibody:"REGN10933",reference_site:444,Escape:.001125,wildtype:"K",mutant:"L"},{Antibody:"REGN10933",reference_site:444,Escape:.001125,wildtype:"K",mutant:"M"},{Antibody:"REGN10933",reference_site:444,Escape:.002964,wildtype:"K",mutant:"N"},{Antibody:"REGN10933",reference_site:444,Escape:.001895,wildtype:"K",mutant:"P"},{Antibody:"REGN10933",reference_site:444,Escape:.003485,wildtype:"K",mutant:"Q"},{Antibody:"REGN10933",reference_site:444,Escape:.001655,wildtype:"K",mutant:"R"},{Antibody:"REGN10933",reference_site:444,Escape:.001125,wildtype:"K",mutant:"S"},{Antibody:"REGN10933",reference_site:444,Escape:.001125,wildtype:"K",mutant:"T"},{Antibody:"REGN10933",reference_site:444,Escape:.001125,wildtype:"K",mutant:"V"},{Antibody:"REGN10933",reference_site:444,Escape:.003745,wildtype:"K",mutant:"W"},{Antibody:"REGN10933",reference_site:444,Escape:.00183,wildtype:"K",mutant:"Y"},{Antibody:"REGN10933",reference_site:445,Escape:.007457,wildtype:"V",mutant:"A"},{Antibody:"REGN10933",reference_site:445,Escape:.001125,wildtype:"V",mutant:"C"},{Antibody:"REGN10933",reference_site:445,Escape:.001125,wildtype:"V",mutant:"D"},{Antibody:"REGN10933",reference_site:445,Escape:.002399,wildtype:"V",mutant:"E"},{Antibody:"REGN10933",reference_site:445,Escape:.001125,wildtype:"V",mutant:"F"},{Antibody:"REGN10933",reference_site:445,Escape:.001125,wildtype:"V",mutant:"G"},{Antibody:"REGN10933",reference_site:445,Escape:.001125,wildtype:"V",mutant:"H"},{Antibody:"REGN10933",reference_site:445,Escape:.001125,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:445,Escape:.001125,wildtype:"V",mutant:"K"},{Antibody:"REGN10933",reference_site:445,Escape:.003621,wildtype:"V",mutant:"L"},{Antibody:"REGN10933",reference_site:445,Escape:.005325,wildtype:"V",mutant:"M"},{Antibody:"REGN10933",reference_site:445,Escape:.001125,wildtype:"V",mutant:"N"},{Antibody:"REGN10933",reference_site:445,Escape:.009023,wildtype:"V",mutant:"P"},{Antibody:"REGN10933",reference_site:445,Escape:.001458,wildtype:"V",mutant:"Q"},{Antibody:"REGN10933",reference_site:445,Escape:.001257,wildtype:"V",mutant:"R"},{Antibody:"REGN10933",reference_site:445,Escape:.006363,wildtype:"V",mutant:"S"},{Antibody:"REGN10933",reference_site:445,Escape:.001125,wildtype:"V",mutant:"T"},{Antibody:"REGN10933",reference_site:445,Escape:.0101,wildtype:"V",mutant:"W"},{Antibody:"REGN10933",reference_site:445,Escape:.002262,wildtype:"V",mutant:"Y"},{Antibody:"REGN10933",reference_site:446,Escape:.003839,wildtype:"G",mutant:"A"},{Antibody:"REGN10933",reference_site:446,Escape:.01658,wildtype:"G",mutant:"C"},{Antibody:"REGN10933",reference_site:446,Escape:.002491,wildtype:"G",mutant:"D"},{Antibody:"REGN10933",reference_site:446,Escape:.001125,wildtype:"G",mutant:"E"},{Antibody:"REGN10933",reference_site:446,Escape:.00398,wildtype:"G",mutant:"F"},{Antibody:"REGN10933",reference_site:446,Escape:.002146,wildtype:"G",mutant:"H"},{Antibody:"REGN10933",reference_site:446,Escape:.004254,wildtype:"G",mutant:"I"},{Antibody:"REGN10933",reference_site:446,Escape:.002656,wildtype:"G",mutant:"K"},{Antibody:"REGN10933",reference_site:446,Escape:.001125,wildtype:"G",mutant:"L"},{Antibody:"REGN10933",reference_site:446,Escape:.01291,wildtype:"G",mutant:"M"},{Antibody:"REGN10933",reference_site:446,Escape:.001411,wildtype:"G",mutant:"N"},{Antibody:"REGN10933",reference_site:446,Escape:.004673,wildtype:"G",mutant:"P"},{Antibody:"REGN10933",reference_site:446,Escape:.001994,wildtype:"G",mutant:"Q"},{Antibody:"REGN10933",reference_site:446,Escape:.008336,wildtype:"G",mutant:"R"},{Antibody:"REGN10933",reference_site:446,Escape:.002072,wildtype:"G",mutant:"S"},{Antibody:"REGN10933",reference_site:446,Escape:.00268,wildtype:"G",mutant:"T"},{Antibody:"REGN10933",reference_site:446,Escape:.001125,wildtype:"G",mutant:"V"},{Antibody:"REGN10933",reference_site:446,Escape:.009745,wildtype:"G",mutant:"W"},{Antibody:"REGN10933",reference_site:446,Escape:.001247,wildtype:"G",mutant:"Y"},{Antibody:"REGN10933",reference_site:447,Escape:.001797,wildtype:"G",mutant:"A"},{Antibody:"REGN10933",reference_site:447,Escape:.004508,wildtype:"G",mutant:"C"},{Antibody:"REGN10933",reference_site:447,Escape:.001125,wildtype:"G",mutant:"D"},{Antibody:"REGN10933",reference_site:447,Escape:.001125,wildtype:"G",mutant:"E"},{Antibody:"REGN10933",reference_site:447,Escape:.0156,wildtype:"G",mutant:"F"},{Antibody:"REGN10933",reference_site:447,Escape:.006635,wildtype:"G",mutant:"H"},{Antibody:"REGN10933",reference_site:447,Escape:.003225,wildtype:"G",mutant:"I"},{Antibody:"REGN10933",reference_site:447,Escape:.001125,wildtype:"G",mutant:"K"},{Antibody:"REGN10933",reference_site:447,Escape:.009308,wildtype:"G",mutant:"L"},{Antibody:"REGN10933",reference_site:447,Escape:.005232,wildtype:"G",mutant:"M"},{Antibody:"REGN10933",reference_site:447,Escape:.003841,wildtype:"G",mutant:"N"},{Antibody:"REGN10933",reference_site:447,Escape:.001271,wildtype:"G",mutant:"P"},{Antibody:"REGN10933",reference_site:447,Escape:.001301,wildtype:"G",mutant:"Q"},{Antibody:"REGN10933",reference_site:447,Escape:.001125,wildtype:"G",mutant:"R"},{Antibody:"REGN10933",reference_site:447,Escape:.001125,wildtype:"G",mutant:"S"},{Antibody:"REGN10933",reference_site:447,Escape:.002406,wildtype:"G",mutant:"T"},{Antibody:"REGN10933",reference_site:447,Escape:.005405,wildtype:"G",mutant:"V"},{Antibody:"REGN10933",reference_site:447,Escape:.002186,wildtype:"G",mutant:"Y"},{Antibody:"REGN10933",reference_site:448,Escape:.01307,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:448,Escape:.01508,wildtype:"N",mutant:"C"},{Antibody:"REGN10933",reference_site:448,Escape:.002616,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:448,Escape:.01198,wildtype:"N",mutant:"E"},{Antibody:"REGN10933",reference_site:448,Escape:.001125,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:448,Escape:.002236,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:448,Escape:.004289,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:448,Escape:.001125,wildtype:"N",mutant:"P"},{Antibody:"REGN10933",reference_site:448,Escape:.003873,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:448,Escape:.005607,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:448,Escape:.001125,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:448,Escape:.005167,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:448,Escape:.004126,wildtype:"N",mutant:"V"},{Antibody:"REGN10933",reference_site:448,Escape:.002715,wildtype:"N",mutant:"Y"},{Antibody:"REGN10933",reference_site:449,Escape:.002041,wildtype:"Y",mutant:"A"},{Antibody:"REGN10933",reference_site:449,Escape:.002322,wildtype:"Y",mutant:"C"},{Antibody:"REGN10933",reference_site:449,Escape:.002331,wildtype:"Y",mutant:"D"},{Antibody:"REGN10933",reference_site:449,Escape:.002591,wildtype:"Y",mutant:"E"},{Antibody:"REGN10933",reference_site:449,Escape:.001125,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:449,Escape:.001125,wildtype:"Y",mutant:"G"},{Antibody:"REGN10933",reference_site:449,Escape:.003523,wildtype:"Y",mutant:"H"},{Antibody:"REGN10933",reference_site:449,Escape:.006252,wildtype:"Y",mutant:"I"},{Antibody:"REGN10933",reference_site:449,Escape:.001125,wildtype:"Y",mutant:"K"},{Antibody:"REGN10933",reference_site:449,Escape:.001631,wildtype:"Y",mutant:"L"},{Antibody:"REGN10933",reference_site:449,Escape:.001674,wildtype:"Y",mutant:"M"},{Antibody:"REGN10933",reference_site:449,Escape:.001125,wildtype:"Y",mutant:"N"},{Antibody:"REGN10933",reference_site:449,Escape:.001125,wildtype:"Y",mutant:"P"},{Antibody:"REGN10933",reference_site:449,Escape:.006315,wildtype:"Y",mutant:"Q"},{Antibody:"REGN10933",reference_site:449,Escape:.001612,wildtype:"Y",mutant:"R"},{Antibody:"REGN10933",reference_site:449,Escape:.001125,wildtype:"Y",mutant:"S"},{Antibody:"REGN10933",reference_site:449,Escape:.007334,wildtype:"Y",mutant:"T"},{Antibody:"REGN10933",reference_site:449,Escape:.001125,wildtype:"Y",mutant:"V"},{Antibody:"REGN10933",reference_site:449,Escape:.001125,wildtype:"Y",mutant:"W"},{Antibody:"REGN10933",reference_site:450,Escape:.001125,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:450,Escape:.0117,wildtype:"N",mutant:"C"},{Antibody:"REGN10933",reference_site:450,Escape:.001216,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:450,Escape:.00131,wildtype:"N",mutant:"E"},{Antibody:"REGN10933",reference_site:450,Escape:.006864,wildtype:"N",mutant:"F"},{Antibody:"REGN10933",reference_site:450,Escape:.001125,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:450,Escape:.002372,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:450,Escape:.01088,wildtype:"N",mutant:"I"},{Antibody:"REGN10933",reference_site:450,Escape:.001125,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:450,Escape:.005545,wildtype:"N",mutant:"L"},{Antibody:"REGN10933",reference_site:450,Escape:.00174,wildtype:"N",mutant:"M"},{Antibody:"REGN10933",reference_site:450,Escape:.00321,wildtype:"N",mutant:"P"},{Antibody:"REGN10933",reference_site:450,Escape:.001125,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:450,Escape:.001125,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:450,Escape:.005766,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:450,Escape:.002763,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:450,Escape:.00695,wildtype:"N",mutant:"V"},{Antibody:"REGN10933",reference_site:450,Escape:.003278,wildtype:"N",mutant:"W"},{Antibody:"REGN10933",reference_site:450,Escape:.002786,wildtype:"N",mutant:"Y"},{Antibody:"REGN10933",reference_site:451,Escape:.001125,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:451,Escape:.001707,wildtype:"Y",mutant:"H"},{Antibody:"REGN10933",reference_site:451,Escape:.001743,wildtype:"Y",mutant:"I"},{Antibody:"REGN10933",reference_site:451,Escape:.00317,wildtype:"Y",mutant:"L"},{Antibody:"REGN10933",reference_site:451,Escape:.001821,wildtype:"Y",mutant:"M"},{Antibody:"REGN10933",reference_site:451,Escape:.001831,wildtype:"Y",mutant:"Q"},{Antibody:"REGN10933",reference_site:452,Escape:.001125,wildtype:"L",mutant:"A"},{Antibody:"REGN10933",reference_site:452,Escape:.006542,wildtype:"L",mutant:"C"},{Antibody:"REGN10933",reference_site:452,Escape:.006547,wildtype:"L",mutant:"D"},{Antibody:"REGN10933",reference_site:452,Escape:.001643,wildtype:"L",mutant:"E"},{Antibody:"REGN10933",reference_site:452,Escape:.001125,wildtype:"L",mutant:"F"},{Antibody:"REGN10933",reference_site:452,Escape:.008469,wildtype:"L",mutant:"G"},{Antibody:"REGN10933",reference_site:452,Escape:.002567,wildtype:"L",mutant:"H"},{Antibody:"REGN10933",reference_site:452,Escape:.03244,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:452,Escape:.001125,wildtype:"L",mutant:"K"},{Antibody:"REGN10933",reference_site:452,Escape:.001951,wildtype:"L",mutant:"M"},{Antibody:"REGN10933",reference_site:452,Escape:.00915,wildtype:"L",mutant:"N"},{Antibody:"REGN10933",reference_site:452,Escape:.002714,wildtype:"L",mutant:"Q"},{Antibody:"REGN10933",reference_site:452,Escape:.001125,wildtype:"L",mutant:"R"},{Antibody:"REGN10933",reference_site:452,Escape:.004886,wildtype:"L",mutant:"S"},{Antibody:"REGN10933",reference_site:452,Escape:.001125,wildtype:"L",mutant:"T"},{Antibody:"REGN10933",reference_site:452,Escape:.001666,wildtype:"L",mutant:"V"},{Antibody:"REGN10933",reference_site:452,Escape:.001802,wildtype:"L",mutant:"W"},{Antibody:"REGN10933",reference_site:452,Escape:.004895,wildtype:"L",mutant:"Y"},{Antibody:"REGN10933",reference_site:453,Escape:.5938,wildtype:"Y",mutant:"A"},{Antibody:"REGN10933",reference_site:453,Escape:.5735,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:453,Escape:.3966,wildtype:"Y",mutant:"H"},{Antibody:"REGN10933",reference_site:453,Escape:.6957,wildtype:"Y",mutant:"K"},{Antibody:"REGN10933",reference_site:453,Escape:.5563,wildtype:"Y",mutant:"M"},{Antibody:"REGN10933",reference_site:453,Escape:.6462,wildtype:"Y",mutant:"R"},{Antibody:"REGN10933",reference_site:453,Escape:.198,wildtype:"Y",mutant:"S"},{Antibody:"REGN10933",reference_site:453,Escape:.4383,wildtype:"Y",mutant:"V"},{Antibody:"REGN10933",reference_site:455,Escape:.7148,wildtype:"L",mutant:"A"},{Antibody:"REGN10933",reference_site:455,Escape:.3907,wildtype:"L",mutant:"C"},{Antibody:"REGN10933",reference_site:455,Escape:.9904,wildtype:"L",mutant:"E"},{Antibody:"REGN10933",reference_site:455,Escape:.3624,wildtype:"L",mutant:"F"},{Antibody:"REGN10933",reference_site:455,Escape:.8482,wildtype:"L",mutant:"G"},{Antibody:"REGN10933",reference_site:455,Escape:.5042,wildtype:"L",mutant:"H"},{Antibody:"REGN10933",reference_site:455,Escape:.008348,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:455,Escape:.004371,wildtype:"L",mutant:"M"},{Antibody:"REGN10933",reference_site:455,Escape:.5334,wildtype:"L",mutant:"N"},{Antibody:"REGN10933",reference_site:455,Escape:.1836,wildtype:"L",mutant:"P"},{Antibody:"REGN10933",reference_site:455,Escape:.8508,wildtype:"L",mutant:"R"},{Antibody:"REGN10933",reference_site:455,Escape:.5444,wildtype:"L",mutant:"S"},{Antibody:"REGN10933",reference_site:455,Escape:.03796,wildtype:"L",mutant:"T"},{Antibody:"REGN10933",reference_site:455,Escape:.001125,wildtype:"L",mutant:"V"},{Antibody:"REGN10933",reference_site:455,Escape:.5742,wildtype:"L",mutant:"W"},{Antibody:"REGN10933",reference_site:455,Escape:.2873,wildtype:"L",mutant:"Y"},{Antibody:"REGN10933",reference_site:456,Escape:.4065,wildtype:"F",mutant:"A"},{Antibody:"REGN10933",reference_site:456,Escape:.002679,wildtype:"F",mutant:"C"},{Antibody:"REGN10933",reference_site:456,Escape:.6728,wildtype:"F",mutant:"G"},{Antibody:"REGN10933",reference_site:456,Escape:.002305,wildtype:"F",mutant:"H"},{Antibody:"REGN10933",reference_site:456,Escape:.001125,wildtype:"F",mutant:"I"},{Antibody:"REGN10933",reference_site:456,Escape:.3117,wildtype:"F",mutant:"K"},{Antibody:"REGN10933",reference_site:456,Escape:.001125,wildtype:"F",mutant:"L"},{Antibody:"REGN10933",reference_site:456,Escape:.002258,wildtype:"F",mutant:"Q"},{Antibody:"REGN10933",reference_site:456,Escape:.001125,wildtype:"F",mutant:"R"},{Antibody:"REGN10933",reference_site:456,Escape:.0112,wildtype:"F",mutant:"T"},{Antibody:"REGN10933",reference_site:456,Escape:.007879,wildtype:"F",mutant:"V"},{Antibody:"REGN10933",reference_site:456,Escape:.001125,wildtype:"F",mutant:"W"},{Antibody:"REGN10933",reference_site:456,Escape:.001125,wildtype:"F",mutant:"Y"},{Antibody:"REGN10933",reference_site:458,Escape:.001125,wildtype:"K",mutant:"A"},{Antibody:"REGN10933",reference_site:458,Escape:.001125,wildtype:"K",mutant:"D"},{Antibody:"REGN10933",reference_site:458,Escape:.001663,wildtype:"K",mutant:"E"},{Antibody:"REGN10933",reference_site:458,Escape:.001692,wildtype:"K",mutant:"F"},{Antibody:"REGN10933",reference_site:458,Escape:.001442,wildtype:"K",mutant:"G"},{Antibody:"REGN10933",reference_site:458,Escape:.006514,wildtype:"K",mutant:"H"},{Antibody:"REGN10933",reference_site:458,Escape:.006737,wildtype:"K",mutant:"I"},{Antibody:"REGN10933",reference_site:458,Escape:.001125,wildtype:"K",mutant:"L"},{Antibody:"REGN10933",reference_site:458,Escape:.001637,wildtype:"K",mutant:"M"},{Antibody:"REGN10933",reference_site:458,Escape:.001217,wildtype:"K",mutant:"N"},{Antibody:"REGN10933",reference_site:458,Escape:.001125,wildtype:"K",mutant:"P"},{Antibody:"REGN10933",reference_site:458,Escape:.002847,wildtype:"K",mutant:"Q"},{Antibody:"REGN10933",reference_site:458,Escape:.00355,wildtype:"K",mutant:"R"},{Antibody:"REGN10933",reference_site:458,Escape:.002449,wildtype:"K",mutant:"S"},{Antibody:"REGN10933",reference_site:458,Escape:.004075,wildtype:"K",mutant:"T"},{Antibody:"REGN10933",reference_site:458,Escape:.003019,wildtype:"K",mutant:"V"},{Antibody:"REGN10933",reference_site:458,Escape:.002754,wildtype:"K",mutant:"W"},{Antibody:"REGN10933",reference_site:458,Escape:.002735,wildtype:"K",mutant:"Y"},{Antibody:"REGN10933",reference_site:459,Escape:.001313,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:459,Escape:.002466,wildtype:"S",mutant:"C"},{Antibody:"REGN10933",reference_site:459,Escape:.001382,wildtype:"S",mutant:"D"},{Antibody:"REGN10933",reference_site:459,Escape:.001286,wildtype:"S",mutant:"E"},{Antibody:"REGN10933",reference_site:459,Escape:.006412,wildtype:"S",mutant:"F"},{Antibody:"REGN10933",reference_site:459,Escape:.008479,wildtype:"S",mutant:"G"},{Antibody:"REGN10933",reference_site:459,Escape:.002589,wildtype:"S",mutant:"H"},{Antibody:"REGN10933",reference_site:459,Escape:.003393,wildtype:"S",mutant:"I"},{Antibody:"REGN10933",reference_site:459,Escape:.002885,wildtype:"S",mutant:"K"},{Antibody:"REGN10933",reference_site:459,Escape:.003232,wildtype:"S",mutant:"L"},{Antibody:"REGN10933",reference_site:459,Escape:.001125,wildtype:"S",mutant:"M"},{Antibody:"REGN10933",reference_site:459,Escape:.001125,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:459,Escape:.002298,wildtype:"S",mutant:"P"},{Antibody:"REGN10933",reference_site:459,Escape:.001278,wildtype:"S",mutant:"Q"},{Antibody:"REGN10933",reference_site:459,Escape:.003568,wildtype:"S",mutant:"R"},{Antibody:"REGN10933",reference_site:459,Escape:.003028,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:459,Escape:.001125,wildtype:"S",mutant:"V"},{Antibody:"REGN10933",reference_site:459,Escape:.001781,wildtype:"S",mutant:"Y"},{Antibody:"REGN10933",reference_site:460,Escape:.003154,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:460,Escape:.001125,wildtype:"N",mutant:"C"},{Antibody:"REGN10933",reference_site:460,Escape:.001125,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:460,Escape:.005124,wildtype:"N",mutant:"E"},{Antibody:"REGN10933",reference_site:460,Escape:.002559,wildtype:"N",mutant:"F"},{Antibody:"REGN10933",reference_site:460,Escape:.02696,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:460,Escape:.001125,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:460,Escape:.001125,wildtype:"N",mutant:"I"},{Antibody:"REGN10933",reference_site:460,Escape:.001719,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:460,Escape:.001125,wildtype:"N",mutant:"L"},{Antibody:"REGN10933",reference_site:460,Escape:.00433,wildtype:"N",mutant:"M"},{Antibody:"REGN10933",reference_site:460,Escape:.001868,wildtype:"N",mutant:"P"},{Antibody:"REGN10933",reference_site:460,Escape:.002118,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:460,Escape:.001125,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:460,Escape:.001125,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:460,Escape:.001295,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:460,Escape:.001125,wildtype:"N",mutant:"V"},{Antibody:"REGN10933",reference_site:460,Escape:.001125,wildtype:"N",mutant:"Y"},{Antibody:"REGN10933",reference_site:461,Escape:.01166,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:461,Escape:.002249,wildtype:"L",mutant:"M"},{Antibody:"REGN10933",reference_site:461,Escape:.00151,wildtype:"L",mutant:"V"},{Antibody:"REGN10933",reference_site:462,Escape:.002923,wildtype:"K",mutant:"A"},{Antibody:"REGN10933",reference_site:462,Escape:.001125,wildtype:"K",mutant:"C"},{Antibody:"REGN10933",reference_site:462,Escape:.001125,wildtype:"K",mutant:"D"},{Antibody:"REGN10933",reference_site:462,Escape:.0084,wildtype:"K",mutant:"E"},{Antibody:"REGN10933",reference_site:462,Escape:.005292,wildtype:"K",mutant:"F"},{Antibody:"REGN10933",reference_site:462,Escape:.007069,wildtype:"K",mutant:"G"},{Antibody:"REGN10933",reference_site:462,Escape:.001125,wildtype:"K",mutant:"H"},{Antibody:"REGN10933",reference_site:462,Escape:.01133,wildtype:"K",mutant:"I"},{Antibody:"REGN10933",reference_site:462,Escape:.001125,wildtype:"K",mutant:"L"},{Antibody:"REGN10933",reference_site:462,Escape:.001125,wildtype:"K",mutant:"M"},{Antibody:"REGN10933",reference_site:462,Escape:.001125,wildtype:"K",mutant:"N"},{Antibody:"REGN10933",reference_site:462,Escape:.001125,wildtype:"K",mutant:"Q"},{Antibody:"REGN10933",reference_site:462,Escape:.001125,wildtype:"K",mutant:"R"},{Antibody:"REGN10933",reference_site:462,Escape:.001125,wildtype:"K",mutant:"S"},{Antibody:"REGN10933",reference_site:462,Escape:.001125,wildtype:"K",mutant:"T"},{Antibody:"REGN10933",reference_site:462,Escape:.001125,wildtype:"K",mutant:"V"},{Antibody:"REGN10933",reference_site:462,Escape:.007588,wildtype:"K",mutant:"Y"},{Antibody:"REGN10933",reference_site:463,Escape:.001945,wildtype:"P",mutant:"A"},{Antibody:"REGN10933",reference_site:464,Escape:.02393,wildtype:"F",mutant:"A"},{Antibody:"REGN10933",reference_site:464,Escape:.001727,wildtype:"F",mutant:"G"},{Antibody:"REGN10933",reference_site:464,Escape:.001125,wildtype:"F",mutant:"H"},{Antibody:"REGN10933",reference_site:464,Escape:.01232,wildtype:"F",mutant:"L"},{Antibody:"REGN10933",reference_site:464,Escape:.0032,wildtype:"F",mutant:"M"},{Antibody:"REGN10933",reference_site:464,Escape:.002662,wildtype:"F",mutant:"N"},{Antibody:"REGN10933",reference_site:464,Escape:.003589,wildtype:"F",mutant:"Q"},{Antibody:"REGN10933",reference_site:464,Escape:.01926,wildtype:"F",mutant:"S"},{Antibody:"REGN10933",reference_site:464,Escape:.001125,wildtype:"F",mutant:"W"},{Antibody:"REGN10933",reference_site:464,Escape:.001125,wildtype:"F",mutant:"Y"},{Antibody:"REGN10933",reference_site:465,Escape:.02096,wildtype:"E",mutant:"D"},{Antibody:"REGN10933",reference_site:465,Escape:.001156,wildtype:"E",mutant:"G"},{Antibody:"REGN10933",reference_site:465,Escape:.002581,wildtype:"E",mutant:"H"},{Antibody:"REGN10933",reference_site:465,Escape:.004178,wildtype:"E",mutant:"Q"},{Antibody:"REGN10933",reference_site:466,Escape:.005082,wildtype:"R",mutant:"H"},{Antibody:"REGN10933",reference_site:466,Escape:.001125,wildtype:"R",mutant:"K"},{Antibody:"REGN10933",reference_site:466,Escape:.003193,wildtype:"R",mutant:"Q"},{Antibody:"REGN10933",reference_site:468,Escape:.001125,wildtype:"I",mutant:"A"},{Antibody:"REGN10933",reference_site:468,Escape:.002398,wildtype:"I",mutant:"C"},{Antibody:"REGN10933",reference_site:468,Escape:.001125,wildtype:"I",mutant:"D"},{Antibody:"REGN10933",reference_site:468,Escape:.001125,wildtype:"I",mutant:"E"},{Antibody:"REGN10933",reference_site:468,Escape:.008893,wildtype:"I",mutant:"G"},{Antibody:"REGN10933",reference_site:468,Escape:.02065,wildtype:"I",mutant:"H"},{Antibody:"REGN10933",reference_site:468,Escape:.007687,wildtype:"I",mutant:"K"},{Antibody:"REGN10933",reference_site:468,Escape:.001587,wildtype:"I",mutant:"L"},{Antibody:"REGN10933",reference_site:468,Escape:.002781,wildtype:"I",mutant:"M"},{Antibody:"REGN10933",reference_site:468,Escape:.007256,wildtype:"I",mutant:"N"},{Antibody:"REGN10933",reference_site:468,Escape:.006198,wildtype:"I",mutant:"P"},{Antibody:"REGN10933",reference_site:468,Escape:.001125,wildtype:"I",mutant:"Q"},{Antibody:"REGN10933",reference_site:468,Escape:.003825,wildtype:"I",mutant:"R"},{Antibody:"REGN10933",reference_site:468,Escape:.001713,wildtype:"I",mutant:"S"},{Antibody:"REGN10933",reference_site:468,Escape:.001125,wildtype:"I",mutant:"T"},{Antibody:"REGN10933",reference_site:468,Escape:.003451,wildtype:"I",mutant:"V"},{Antibody:"REGN10933",reference_site:468,Escape:.007172,wildtype:"I",mutant:"Y"},{Antibody:"REGN10933",reference_site:469,Escape:.006767,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:469,Escape:.001125,wildtype:"S",mutant:"C"},{Antibody:"REGN10933",reference_site:469,Escape:.002845,wildtype:"S",mutant:"D"},{Antibody:"REGN10933",reference_site:469,Escape:.001534,wildtype:"S",mutant:"E"},{Antibody:"REGN10933",reference_site:469,Escape:.001125,wildtype:"S",mutant:"G"},{Antibody:"REGN10933",reference_site:469,Escape:.001254,wildtype:"S",mutant:"K"},{Antibody:"REGN10933",reference_site:469,Escape:.001125,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:469,Escape:.002601,wildtype:"S",mutant:"Q"},{Antibody:"REGN10933",reference_site:469,Escape:.002284,wildtype:"S",mutant:"R"},{Antibody:"REGN10933",reference_site:469,Escape:.00435,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:470,Escape:.001125,wildtype:"T",mutant:"A"},{Antibody:"REGN10933",reference_site:470,Escape:.001125,wildtype:"T",mutant:"C"},{Antibody:"REGN10933",reference_site:470,Escape:.003164,wildtype:"T",mutant:"D"},{Antibody:"REGN10933",reference_site:470,Escape:.001125,wildtype:"T",mutant:"E"},{Antibody:"REGN10933",reference_site:470,Escape:8249e-7,wildtype:"T",mutant:"F"},{Antibody:"REGN10933",reference_site:470,Escape:.003001,wildtype:"T",mutant:"G"},{Antibody:"REGN10933",reference_site:470,Escape:.004827,wildtype:"T",mutant:"H"},{Antibody:"REGN10933",reference_site:470,Escape:.001125,wildtype:"T",mutant:"I"},{Antibody:"REGN10933",reference_site:470,Escape:.001125,wildtype:"T",mutant:"K"},{Antibody:"REGN10933",reference_site:470,Escape:.004241,wildtype:"T",mutant:"L"},{Antibody:"REGN10933",reference_site:470,Escape:.001125,wildtype:"T",mutant:"M"},{Antibody:"REGN10933",reference_site:470,Escape:.005147,wildtype:"T",mutant:"N"},{Antibody:"REGN10933",reference_site:470,Escape:.01181,wildtype:"T",mutant:"Q"},{Antibody:"REGN10933",reference_site:470,Escape:.001125,wildtype:"T",mutant:"R"},{Antibody:"REGN10933",reference_site:470,Escape:.001125,wildtype:"T",mutant:"S"},{Antibody:"REGN10933",reference_site:470,Escape:.001125,wildtype:"T",mutant:"V"},{Antibody:"REGN10933",reference_site:470,Escape:.002692,wildtype:"T",mutant:"Y"},{Antibody:"REGN10933",reference_site:471,Escape:.001125,wildtype:"E",mutant:"A"},{Antibody:"REGN10933",reference_site:471,Escape:.002881,wildtype:"E",mutant:"C"},{Antibody:"REGN10933",reference_site:471,Escape:.00135,wildtype:"E",mutant:"D"},{Antibody:"REGN10933",reference_site:471,Escape:.002299,wildtype:"E",mutant:"F"},{Antibody:"REGN10933",reference_site:471,Escape:.001826,wildtype:"E",mutant:"G"},{Antibody:"REGN10933",reference_site:471,Escape:.00635,wildtype:"E",mutant:"H"},{Antibody:"REGN10933",reference_site:471,Escape:.001782,wildtype:"E",mutant:"I"},{Antibody:"REGN10933",reference_site:471,Escape:.004105,wildtype:"E",mutant:"K"},{Antibody:"REGN10933",reference_site:471,Escape:.001125,wildtype:"E",mutant:"L"},{Antibody:"REGN10933",reference_site:471,Escape:.003797,wildtype:"E",mutant:"M"},{Antibody:"REGN10933",reference_site:471,Escape:.001125,wildtype:"E",mutant:"N"},{Antibody:"REGN10933",reference_site:471,Escape:.002007,wildtype:"E",mutant:"P"},{Antibody:"REGN10933",reference_site:471,Escape:.001125,wildtype:"E",mutant:"Q"},{Antibody:"REGN10933",reference_site:471,Escape:.002144,wildtype:"E",mutant:"R"},{Antibody:"REGN10933",reference_site:471,Escape:.00197,wildtype:"E",mutant:"S"},{Antibody:"REGN10933",reference_site:471,Escape:.001125,wildtype:"E",mutant:"T"},{Antibody:"REGN10933",reference_site:471,Escape:.00189,wildtype:"E",mutant:"V"},{Antibody:"REGN10933",reference_site:471,Escape:.001125,wildtype:"E",mutant:"Y"},{Antibody:"REGN10933",reference_site:472,Escape:.004343,wildtype:"I",mutant:"A"},{Antibody:"REGN10933",reference_site:472,Escape:.05317,wildtype:"I",mutant:"C"},{Antibody:"REGN10933",reference_site:472,Escape:.4552,wildtype:"I",mutant:"D"},{Antibody:"REGN10933",reference_site:472,Escape:.02677,wildtype:"I",mutant:"E"},{Antibody:"REGN10933",reference_site:472,Escape:.00309,wildtype:"I",mutant:"F"},{Antibody:"REGN10933",reference_site:472,Escape:.122,wildtype:"I",mutant:"G"},{Antibody:"REGN10933",reference_site:472,Escape:.01257,wildtype:"I",mutant:"H"},{Antibody:"REGN10933",reference_site:472,Escape:.07492,wildtype:"I",mutant:"K"},{Antibody:"REGN10933",reference_site:472,Escape:.001125,wildtype:"I",mutant:"L"},{Antibody:"REGN10933",reference_site:472,Escape:.001125,wildtype:"I",mutant:"M"},{Antibody:"REGN10933",reference_site:472,Escape:.02899,wildtype:"I",mutant:"N"},{Antibody:"REGN10933",reference_site:472,Escape:.002321,wildtype:"I",mutant:"P"},{Antibody:"REGN10933",reference_site:472,Escape:.01685,wildtype:"I",mutant:"Q"},{Antibody:"REGN10933",reference_site:472,Escape:.01145,wildtype:"I",mutant:"S"},{Antibody:"REGN10933",reference_site:472,Escape:.002404,wildtype:"I",mutant:"T"},{Antibody:"REGN10933",reference_site:472,Escape:.001125,wildtype:"I",mutant:"V"},{Antibody:"REGN10933",reference_site:472,Escape:.001615,wildtype:"I",mutant:"W"},{Antibody:"REGN10933",reference_site:472,Escape:.006716,wildtype:"I",mutant:"Y"},{Antibody:"REGN10933",reference_site:473,Escape:.006586,wildtype:"Y",mutant:"A"},{Antibody:"REGN10933",reference_site:473,Escape:.1092,wildtype:"Y",mutant:"C"},{Antibody:"REGN10933",reference_site:473,Escape:.002576,wildtype:"Y",mutant:"E"},{Antibody:"REGN10933",reference_site:473,Escape:.004184,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:473,Escape:.001125,wildtype:"Y",mutant:"H"},{Antibody:"REGN10933",reference_site:473,Escape:.001125,wildtype:"Y",mutant:"I"},{Antibody:"REGN10933",reference_site:473,Escape:.001125,wildtype:"Y",mutant:"L"},{Antibody:"REGN10933",reference_site:473,Escape:.006661,wildtype:"Y",mutant:"M"},{Antibody:"REGN10933",reference_site:473,Escape:.006545,wildtype:"Y",mutant:"N"},{Antibody:"REGN10933",reference_site:473,Escape:.003111,wildtype:"Y",mutant:"Q"},{Antibody:"REGN10933",reference_site:473,Escape:.006958,wildtype:"Y",mutant:"S"},{Antibody:"REGN10933",reference_site:473,Escape:.004548,wildtype:"Y",mutant:"T"},{Antibody:"REGN10933",reference_site:473,Escape:.001125,wildtype:"Y",mutant:"V"},{Antibody:"REGN10933",reference_site:473,Escape:.003582,wildtype:"Y",mutant:"W"},{Antibody:"REGN10933",reference_site:474,Escape:.001193,wildtype:"Q",mutant:"A"},{Antibody:"REGN10933",reference_site:474,Escape:.0116,wildtype:"Q",mutant:"D"},{Antibody:"REGN10933",reference_site:474,Escape:.002272,wildtype:"Q",mutant:"E"},{Antibody:"REGN10933",reference_site:474,Escape:.001264,wildtype:"Q",mutant:"G"},{Antibody:"REGN10933",reference_site:474,Escape:.002296,wildtype:"Q",mutant:"H"},{Antibody:"REGN10933",reference_site:474,Escape:.001202,wildtype:"Q",mutant:"K"},{Antibody:"REGN10933",reference_site:474,Escape:.002318,wildtype:"Q",mutant:"M"},{Antibody:"REGN10933",reference_site:474,Escape:.007816,wildtype:"Q",mutant:"N"},{Antibody:"REGN10933",reference_site:474,Escape:.003435,wildtype:"Q",mutant:"P"},{Antibody:"REGN10933",reference_site:474,Escape:.005652,wildtype:"Q",mutant:"R"},{Antibody:"REGN10933",reference_site:474,Escape:.005187,wildtype:"Q",mutant:"S"},{Antibody:"REGN10933",reference_site:474,Escape:.002536,wildtype:"Q",mutant:"T"},{Antibody:"REGN10933",reference_site:474,Escape:.003124,wildtype:"Q",mutant:"V"},{Antibody:"REGN10933",reference_site:475,Escape:.01121,wildtype:"A",mutant:"C"},{Antibody:"REGN10933",reference_site:475,Escape:.381,wildtype:"A",mutant:"D"},{Antibody:"REGN10933",reference_site:475,Escape:.02308,wildtype:"A",mutant:"E"},{Antibody:"REGN10933",reference_site:475,Escape:.002726,wildtype:"A",mutant:"F"},{Antibody:"REGN10933",reference_site:475,Escape:.007353,wildtype:"A",mutant:"G"},{Antibody:"REGN10933",reference_site:475,Escape:.008655,wildtype:"A",mutant:"I"},{Antibody:"REGN10933",reference_site:475,Escape:.4288,wildtype:"A",mutant:"K"},{Antibody:"REGN10933",reference_site:475,Escape:.01219,wildtype:"A",mutant:"L"},{Antibody:"REGN10933",reference_site:475,Escape:.006622,wildtype:"A",mutant:"M"},{Antibody:"REGN10933",reference_site:475,Escape:.9107,wildtype:"A",mutant:"N"},{Antibody:"REGN10933",reference_site:475,Escape:.005445,wildtype:"A",mutant:"Q"},{Antibody:"REGN10933",reference_site:475,Escape:.01739,wildtype:"A",mutant:"R"},{Antibody:"REGN10933",reference_site:475,Escape:.01052,wildtype:"A",mutant:"S"},{Antibody:"REGN10933",reference_site:475,Escape:.008823,wildtype:"A",mutant:"T"},{Antibody:"REGN10933",reference_site:475,Escape:.001403,wildtype:"A",mutant:"V"},{Antibody:"REGN10933",reference_site:475,Escape:.005608,wildtype:"A",mutant:"Y"},{Antibody:"REGN10933",reference_site:476,Escape:.002267,wildtype:"G",mutant:"A"},{Antibody:"REGN10933",reference_site:476,Escape:.8944,wildtype:"G",mutant:"D"},{Antibody:"REGN10933",reference_site:476,Escape:.8074,wildtype:"G",mutant:"E"},{Antibody:"REGN10933",reference_site:476,Escape:.002195,wildtype:"G",mutant:"H"},{Antibody:"REGN10933",reference_site:476,Escape:.4338,wildtype:"G",mutant:"K"},{Antibody:"REGN10933",reference_site:476,Escape:.2345,wildtype:"G",mutant:"N"},{Antibody:"REGN10933",reference_site:476,Escape:.01047,wildtype:"G",mutant:"Q"},{Antibody:"REGN10933",reference_site:476,Escape:.4691,wildtype:"G",mutant:"R"},{Antibody:"REGN10933",reference_site:476,Escape:.03826,wildtype:"G",mutant:"S"},{Antibody:"REGN10933",reference_site:476,Escape:.004044,wildtype:"G",mutant:"T"},{Antibody:"REGN10933",reference_site:477,Escape:.001659,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:477,Escape:.0259,wildtype:"S",mutant:"C"},{Antibody:"REGN10933",reference_site:477,Escape:.01469,wildtype:"S",mutant:"D"},{Antibody:"REGN10933",reference_site:477,Escape:.07464,wildtype:"S",mutant:"F"},{Antibody:"REGN10933",reference_site:477,Escape:.001125,wildtype:"S",mutant:"G"},{Antibody:"REGN10933",reference_site:477,Escape:.002249,wildtype:"S",mutant:"H"},{Antibody:"REGN10933",reference_site:477,Escape:.005487,wildtype:"S",mutant:"I"},{Antibody:"REGN10933",reference_site:477,Escape:.01434,wildtype:"S",mutant:"L"},{Antibody:"REGN10933",reference_site:477,Escape:.003468,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:477,Escape:.009823,wildtype:"S",mutant:"P"},{Antibody:"REGN10933",reference_site:477,Escape:.001125,wildtype:"S",mutant:"Q"},{Antibody:"REGN10933",reference_site:477,Escape:.002008,wildtype:"S",mutant:"R"},{Antibody:"REGN10933",reference_site:477,Escape:.001374,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:477,Escape:.005093,wildtype:"S",mutant:"V"},{Antibody:"REGN10933",reference_site:477,Escape:.002249,wildtype:"S",mutant:"W"},{Antibody:"REGN10933",reference_site:477,Escape:.01015,wildtype:"S",mutant:"Y"},{Antibody:"REGN10933",reference_site:478,Escape:.002078,wildtype:"T",mutant:"A"},{Antibody:"REGN10933",reference_site:478,Escape:.001939,wildtype:"T",mutant:"C"},{Antibody:"REGN10933",reference_site:478,Escape:.008733,wildtype:"T",mutant:"D"},{Antibody:"REGN10933",reference_site:478,Escape:.002553,wildtype:"T",mutant:"E"},{Antibody:"REGN10933",reference_site:478,Escape:.00151,wildtype:"T",mutant:"F"},{Antibody:"REGN10933",reference_site:478,Escape:.007115,wildtype:"T",mutant:"G"},{Antibody:"REGN10933",reference_site:478,Escape:.001125,wildtype:"T",mutant:"H"},{Antibody:"REGN10933",reference_site:478,Escape:.001125,wildtype:"T",mutant:"I"},{Antibody:"REGN10933",reference_site:478,Escape:.001125,wildtype:"T",mutant:"K"},{Antibody:"REGN10933",reference_site:478,Escape:.002384,wildtype:"T",mutant:"L"},{Antibody:"REGN10933",reference_site:478,Escape:.001125,wildtype:"T",mutant:"M"},{Antibody:"REGN10933",reference_site:478,Escape:.005068,wildtype:"T",mutant:"N"},{Antibody:"REGN10933",reference_site:478,Escape:.007186,wildtype:"T",mutant:"P"},{Antibody:"REGN10933",reference_site:478,Escape:.001125,wildtype:"T",mutant:"Q"},{Antibody:"REGN10933",reference_site:478,Escape:.001125,wildtype:"T",mutant:"R"},{Antibody:"REGN10933",reference_site:478,Escape:.001125,wildtype:"T",mutant:"S"},{Antibody:"REGN10933",reference_site:478,Escape:.002492,wildtype:"T",mutant:"V"},{Antibody:"REGN10933",reference_site:478,Escape:.01131,wildtype:"T",mutant:"W"},{Antibody:"REGN10933",reference_site:478,Escape:.001125,wildtype:"T",mutant:"Y"},{Antibody:"REGN10933",reference_site:479,Escape:.001125,wildtype:"P",mutant:"A"},{Antibody:"REGN10933",reference_site:479,Escape:.001125,wildtype:"P",mutant:"C"},{Antibody:"REGN10933",reference_site:479,Escape:.001125,wildtype:"P",mutant:"D"},{Antibody:"REGN10933",reference_site:479,Escape:.001125,wildtype:"P",mutant:"E"},{Antibody:"REGN10933",reference_site:479,Escape:.001125,wildtype:"P",mutant:"F"},{Antibody:"REGN10933",reference_site:479,Escape:.001175,wildtype:"P",mutant:"G"},{Antibody:"REGN10933",reference_site:479,Escape:.001125,wildtype:"P",mutant:"H"},{Antibody:"REGN10933",reference_site:479,Escape:.003043,wildtype:"P",mutant:"I"},{Antibody:"REGN10933",reference_site:479,Escape:.001125,wildtype:"P",mutant:"K"},{Antibody:"REGN10933",reference_site:479,Escape:.008205,wildtype:"P",mutant:"L"},{Antibody:"REGN10933",reference_site:479,Escape:.008047,wildtype:"P",mutant:"M"},{Antibody:"REGN10933",reference_site:479,Escape:.001125,wildtype:"P",mutant:"N"},{Antibody:"REGN10933",reference_site:479,Escape:.001125,wildtype:"P",mutant:"Q"},{Antibody:"REGN10933",reference_site:479,Escape:.01098,wildtype:"P",mutant:"R"},{Antibody:"REGN10933",reference_site:479,Escape:.002001,wildtype:"P",mutant:"S"},{Antibody:"REGN10933",reference_site:479,Escape:.002465,wildtype:"P",mutant:"T"},{Antibody:"REGN10933",reference_site:479,Escape:.001125,wildtype:"P",mutant:"V"},{Antibody:"REGN10933",reference_site:479,Escape:.001591,wildtype:"P",mutant:"Y"},{Antibody:"REGN10933",reference_site:481,Escape:.004697,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:481,Escape:.004891,wildtype:"N",mutant:"C"},{Antibody:"REGN10933",reference_site:481,Escape:.003158,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:481,Escape:.001125,wildtype:"N",mutant:"E"},{Antibody:"REGN10933",reference_site:481,Escape:.002724,wildtype:"N",mutant:"F"},{Antibody:"REGN10933",reference_site:481,Escape:.001637,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:481,Escape:.006419,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:481,Escape:.002269,wildtype:"N",mutant:"I"},{Antibody:"REGN10933",reference_site:481,Escape:.002555,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:481,Escape:.004965,wildtype:"N",mutant:"L"},{Antibody:"REGN10933",reference_site:481,Escape:.003559,wildtype:"N",mutant:"M"},{Antibody:"REGN10933",reference_site:481,Escape:.002351,wildtype:"N",mutant:"P"},{Antibody:"REGN10933",reference_site:481,Escape:.001125,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:481,Escape:.006744,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:481,Escape:.00264,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:481,Escape:.005894,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:481,Escape:.07559,wildtype:"N",mutant:"V"},{Antibody:"REGN10933",reference_site:481,Escape:.01035,wildtype:"N",mutant:"Y"},{Antibody:"REGN10933",reference_site:482,Escape:.001125,wildtype:"G",mutant:"A"},{Antibody:"REGN10933",reference_site:482,Escape:.004872,wildtype:"G",mutant:"C"},{Antibody:"REGN10933",reference_site:482,Escape:.001343,wildtype:"G",mutant:"D"},{Antibody:"REGN10933",reference_site:482,Escape:.002704,wildtype:"G",mutant:"F"},{Antibody:"REGN10933",reference_site:482,Escape:.005388,wildtype:"G",mutant:"H"},{Antibody:"REGN10933",reference_site:482,Escape:.001907,wildtype:"G",mutant:"K"},{Antibody:"REGN10933",reference_site:482,Escape:.01427,wildtype:"G",mutant:"L"},{Antibody:"REGN10933",reference_site:482,Escape:.005791,wildtype:"G",mutant:"N"},{Antibody:"REGN10933",reference_site:482,Escape:.01997,wildtype:"G",mutant:"P"},{Antibody:"REGN10933",reference_site:482,Escape:.001125,wildtype:"G",mutant:"Q"},{Antibody:"REGN10933",reference_site:482,Escape:.004182,wildtype:"G",mutant:"R"},{Antibody:"REGN10933",reference_site:482,Escape:.001607,wildtype:"G",mutant:"S"},{Antibody:"REGN10933",reference_site:482,Escape:.003632,wildtype:"G",mutant:"T"},{Antibody:"REGN10933",reference_site:482,Escape:.01378,wildtype:"G",mutant:"Y"},{Antibody:"REGN10933",reference_site:483,Escape:.003277,wildtype:"V",mutant:"A"},{Antibody:"REGN10933",reference_site:483,Escape:.002863,wildtype:"V",mutant:"C"},{Antibody:"REGN10933",reference_site:483,Escape:.001419,wildtype:"V",mutant:"D"},{Antibody:"REGN10933",reference_site:483,Escape:.001718,wildtype:"V",mutant:"E"},{Antibody:"REGN10933",reference_site:483,Escape:.001125,wildtype:"V",mutant:"F"},{Antibody:"REGN10933",reference_site:483,Escape:.007039,wildtype:"V",mutant:"G"},{Antibody:"REGN10933",reference_site:483,Escape:.002291,wildtype:"V",mutant:"H"},{Antibody:"REGN10933",reference_site:483,Escape:.001125,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:483,Escape:.003878,wildtype:"V",mutant:"K"},{Antibody:"REGN10933",reference_site:483,Escape:.001125,wildtype:"V",mutant:"L"},{Antibody:"REGN10933",reference_site:483,Escape:.001125,wildtype:"V",mutant:"M"},{Antibody:"REGN10933",reference_site:483,Escape:.0017,wildtype:"V",mutant:"N"},{Antibody:"REGN10933",reference_site:483,Escape:.007235,wildtype:"V",mutant:"Q"},{Antibody:"REGN10933",reference_site:483,Escape:.001973,wildtype:"V",mutant:"R"},{Antibody:"REGN10933",reference_site:483,Escape:.001125,wildtype:"V",mutant:"S"},{Antibody:"REGN10933",reference_site:483,Escape:.001125,wildtype:"V",mutant:"T"},{Antibody:"REGN10933",reference_site:483,Escape:.001401,wildtype:"V",mutant:"W"},{Antibody:"REGN10933",reference_site:483,Escape:.001125,wildtype:"V",mutant:"Y"},{Antibody:"REGN10933",reference_site:484,Escape:.01316,wildtype:"E",mutant:"A"},{Antibody:"REGN10933",reference_site:484,Escape:.04464,wildtype:"E",mutant:"C"},{Antibody:"REGN10933",reference_site:484,Escape:.001125,wildtype:"E",mutant:"D"},{Antibody:"REGN10933",reference_site:484,Escape:.4695,wildtype:"E",mutant:"F"},{Antibody:"REGN10933",reference_site:484,Escape:.00712,wildtype:"E",mutant:"G"},{Antibody:"REGN10933",reference_site:484,Escape:.005499,wildtype:"E",mutant:"H"},{Antibody:"REGN10933",reference_site:484,Escape:.5415,wildtype:"E",mutant:"I"},{Antibody:"REGN10933",reference_site:484,Escape:.008034,wildtype:"E",mutant:"K"},{Antibody:"REGN10933",reference_site:484,Escape:.5425,wildtype:"E",mutant:"L"},{Antibody:"REGN10933",reference_site:484,Escape:.03207,wildtype:"E",mutant:"M"},{Antibody:"REGN10933",reference_site:484,Escape:.00912,wildtype:"E",mutant:"N"},{Antibody:"REGN10933",reference_site:484,Escape:.007114,wildtype:"E",mutant:"P"},{Antibody:"REGN10933",reference_site:484,Escape:.003081,wildtype:"E",mutant:"Q"},{Antibody:"REGN10933",reference_site:484,Escape:.01758,wildtype:"E",mutant:"R"},{Antibody:"REGN10933",reference_site:484,Escape:.001125,wildtype:"E",mutant:"S"},{Antibody:"REGN10933",reference_site:484,Escape:.009118,wildtype:"E",mutant:"T"},{Antibody:"REGN10933",reference_site:484,Escape:.5552,wildtype:"E",mutant:"V"},{Antibody:"REGN10933",reference_site:484,Escape:.2418,wildtype:"E",mutant:"W"},{Antibody:"REGN10933",reference_site:484,Escape:.5288,wildtype:"E",mutant:"Y"},{Antibody:"REGN10933",reference_site:485,Escape:.001377,wildtype:"G",mutant:"A"},{Antibody:"REGN10933",reference_site:485,Escape:.02782,wildtype:"G",mutant:"C"},{Antibody:"REGN10933",reference_site:485,Escape:.01701,wildtype:"G",mutant:"D"},{Antibody:"REGN10933",reference_site:485,Escape:.03081,wildtype:"G",mutant:"E"},{Antibody:"REGN10933",reference_site:485,Escape:.01514,wildtype:"G",mutant:"H"},{Antibody:"REGN10933",reference_site:485,Escape:.001125,wildtype:"G",mutant:"K"},{Antibody:"REGN10933",reference_site:485,Escape:.01349,wildtype:"G",mutant:"M"},{Antibody:"REGN10933",reference_site:485,Escape:.01286,wildtype:"G",mutant:"N"},{Antibody:"REGN10933",reference_site:485,Escape:.8925,wildtype:"G",mutant:"P"},{Antibody:"REGN10933",reference_site:485,Escape:.001125,wildtype:"G",mutant:"Q"},{Antibody:"REGN10933",reference_site:485,Escape:.008563,wildtype:"G",mutant:"R"},{Antibody:"REGN10933",reference_site:485,Escape:.01071,wildtype:"G",mutant:"S"},{Antibody:"REGN10933",reference_site:485,Escape:.1827,wildtype:"G",mutant:"T"},{Antibody:"REGN10933",reference_site:486,Escape:.9669,wildtype:"F",mutant:"A"},{Antibody:"REGN10933",reference_site:486,Escape:.9307,wildtype:"F",mutant:"C"},{Antibody:"REGN10933",reference_site:486,Escape:.9834,wildtype:"F",mutant:"D"},{Antibody:"REGN10933",reference_site:486,Escape:.9494,wildtype:"F",mutant:"E"},{Antibody:"REGN10933",reference_site:486,Escape:.9806,wildtype:"F",mutant:"G"},{Antibody:"REGN10933",reference_site:486,Escape:.509,wildtype:"F",mutant:"H"},{Antibody:"REGN10933",reference_site:486,Escape:.8248,wildtype:"F",mutant:"I"},{Antibody:"REGN10933",reference_site:486,Escape:.9875,wildtype:"F",mutant:"K"},{Antibody:"REGN10933",reference_site:486,Escape:.2666,wildtype:"F",mutant:"L"},{Antibody:"REGN10933",reference_site:486,Escape:.2303,wildtype:"F",mutant:"M"},{Antibody:"REGN10933",reference_site:486,Escape:.9639,wildtype:"F",mutant:"N"},{Antibody:"REGN10933",reference_site:486,Escape:.9648,wildtype:"F",mutant:"P"},{Antibody:"REGN10933",reference_site:486,Escape:.9318,wildtype:"F",mutant:"Q"},{Antibody:"REGN10933",reference_site:486,Escape:.9549,wildtype:"F",mutant:"R"},{Antibody:"REGN10933",reference_site:486,Escape:.9704,wildtype:"F",mutant:"S"},{Antibody:"REGN10933",reference_site:486,Escape:.9634,wildtype:"F",mutant:"T"},{Antibody:"REGN10933",reference_site:486,Escape:.943,wildtype:"F",mutant:"V"},{Antibody:"REGN10933",reference_site:486,Escape:.001125,wildtype:"F",mutant:"W"},{Antibody:"REGN10933",reference_site:486,Escape:.001125,wildtype:"F",mutant:"Y"},{Antibody:"REGN10933",reference_site:487,Escape:.01089,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:487,Escape:.8188,wildtype:"N",mutant:"D"},{Antibody:"REGN10933",reference_site:487,Escape:.9573,wildtype:"N",mutant:"E"},{Antibody:"REGN10933",reference_site:487,Escape:.9566,wildtype:"N",mutant:"F"},{Antibody:"REGN10933",reference_site:487,Escape:.001438,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:487,Escape:.003854,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:487,Escape:.6412,wildtype:"N",mutant:"K"},{Antibody:"REGN10933",reference_site:487,Escape:.802,wildtype:"N",mutant:"L"},{Antibody:"REGN10933",reference_site:487,Escape:.614,wildtype:"N",mutant:"M"},{Antibody:"REGN10933",reference_site:487,Escape:.02762,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:487,Escape:.9482,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:487,Escape:.008926,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:487,Escape:.6334,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:487,Escape:.913,wildtype:"N",mutant:"Y"},{Antibody:"REGN10933",reference_site:489,Escape:.01891,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:489,Escape:.9402,wildtype:"Y",mutant:"H"},{Antibody:"REGN10933",reference_site:489,Escape:.794,wildtype:"Y",mutant:"I"},{Antibody:"REGN10933",reference_site:489,Escape:.748,wildtype:"Y",mutant:"L"},{Antibody:"REGN10933",reference_site:489,Escape:.5029,wildtype:"Y",mutant:"M"},{Antibody:"REGN10933",reference_site:489,Escape:.8957,wildtype:"Y",mutant:"Q"},{Antibody:"REGN10933",reference_site:489,Escape:.9067,wildtype:"Y",mutant:"V"},{Antibody:"REGN10933",reference_site:489,Escape:.7384,wildtype:"Y",mutant:"W"},{Antibody:"REGN10933",reference_site:490,Escape:.001125,wildtype:"F",mutant:"A"},{Antibody:"REGN10933",reference_site:490,Escape:.003032,wildtype:"F",mutant:"C"},{Antibody:"REGN10933",reference_site:490,Escape:.001125,wildtype:"F",mutant:"D"},{Antibody:"REGN10933",reference_site:490,Escape:.001125,wildtype:"F",mutant:"E"},{Antibody:"REGN10933",reference_site:490,Escape:.001125,wildtype:"F",mutant:"G"},{Antibody:"REGN10933",reference_site:490,Escape:.001125,wildtype:"F",mutant:"H"},{Antibody:"REGN10933",reference_site:490,Escape:.004915,wildtype:"F",mutant:"I"},{Antibody:"REGN10933",reference_site:490,Escape:.001312,wildtype:"F",mutant:"K"},{Antibody:"REGN10933",reference_site:490,Escape:.008067,wildtype:"F",mutant:"L"},{Antibody:"REGN10933",reference_site:490,Escape:.01036,wildtype:"F",mutant:"M"},{Antibody:"REGN10933",reference_site:490,Escape:.001125,wildtype:"F",mutant:"N"},{Antibody:"REGN10933",reference_site:490,Escape:.001125,wildtype:"F",mutant:"P"},{Antibody:"REGN10933",reference_site:490,Escape:.02526,wildtype:"F",mutant:"Q"},{Antibody:"REGN10933",reference_site:490,Escape:.005166,wildtype:"F",mutant:"R"},{Antibody:"REGN10933",reference_site:490,Escape:.001612,wildtype:"F",mutant:"S"},{Antibody:"REGN10933",reference_site:490,Escape:.001125,wildtype:"F",mutant:"T"},{Antibody:"REGN10933",reference_site:490,Escape:.003701,wildtype:"F",mutant:"V"},{Antibody:"REGN10933",reference_site:490,Escape:.001758,wildtype:"F",mutant:"W"},{Antibody:"REGN10933",reference_site:490,Escape:.001125,wildtype:"F",mutant:"Y"},{Antibody:"REGN10933",reference_site:492,Escape:.001883,wildtype:"L",mutant:"F"},{Antibody:"REGN10933",reference_site:492,Escape:.001125,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:492,Escape:.007061,wildtype:"L",mutant:"V"},{Antibody:"REGN10933",reference_site:493,Escape:.08755,wildtype:"Q",mutant:"A"},{Antibody:"REGN10933",reference_site:493,Escape:.6059,wildtype:"Q",mutant:"C"},{Antibody:"REGN10933",reference_site:493,Escape:.7925,wildtype:"Q",mutant:"D"},{Antibody:"REGN10933",reference_site:493,Escape:.7195,wildtype:"Q",mutant:"E"},{Antibody:"REGN10933",reference_site:493,Escape:.4491,wildtype:"Q",mutant:"F"},{Antibody:"REGN10933",reference_site:493,Escape:.03218,wildtype:"Q",mutant:"G"},{Antibody:"REGN10933",reference_site:493,Escape:.195,wildtype:"Q",mutant:"H"},{Antibody:"REGN10933",reference_site:493,Escape:.06399,wildtype:"Q",mutant:"I"},{Antibody:"REGN10933",reference_site:493,Escape:.6328,wildtype:"Q",mutant:"K"},{Antibody:"REGN10933",reference_site:493,Escape:.1787,wildtype:"Q",mutant:"L"},{Antibody:"REGN10933",reference_site:493,Escape:.02785,wildtype:"Q",mutant:"M"},{Antibody:"REGN10933",reference_site:493,Escape:.001125,wildtype:"Q",mutant:"N"},{Antibody:"REGN10933",reference_site:493,Escape:.1046,wildtype:"Q",mutant:"R"},{Antibody:"REGN10933",reference_site:493,Escape:.04426,wildtype:"Q",mutant:"S"},{Antibody:"REGN10933",reference_site:493,Escape:.006014,wildtype:"Q",mutant:"T"},{Antibody:"REGN10933",reference_site:493,Escape:.026,wildtype:"Q",mutant:"V"},{Antibody:"REGN10933",reference_site:493,Escape:.4258,wildtype:"Q",mutant:"W"},{Antibody:"REGN10933",reference_site:493,Escape:.6379,wildtype:"Q",mutant:"Y"},{Antibody:"REGN10933",reference_site:494,Escape:.001125,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:494,Escape:.01418,wildtype:"S",mutant:"D"},{Antibody:"REGN10933",reference_site:494,Escape:.001125,wildtype:"S",mutant:"F"},{Antibody:"REGN10933",reference_site:494,Escape:.002423,wildtype:"S",mutant:"G"},{Antibody:"REGN10933",reference_site:494,Escape:.001125,wildtype:"S",mutant:"H"},{Antibody:"REGN10933",reference_site:494,Escape:.009906,wildtype:"S",mutant:"I"},{Antibody:"REGN10933",reference_site:494,Escape:.001125,wildtype:"S",mutant:"K"},{Antibody:"REGN10933",reference_site:494,Escape:.003681,wildtype:"S",mutant:"M"},{Antibody:"REGN10933",reference_site:494,Escape:.001125,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:494,Escape:.004439,wildtype:"S",mutant:"P"},{Antibody:"REGN10933",reference_site:494,Escape:.003385,wildtype:"S",mutant:"R"},{Antibody:"REGN10933",reference_site:494,Escape:.002181,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:494,Escape:.005876,wildtype:"S",mutant:"V"},{Antibody:"REGN10933",reference_site:494,Escape:.003241,wildtype:"S",mutant:"W"},{Antibody:"REGN10933",reference_site:494,Escape:.004638,wildtype:"S",mutant:"Y"},{Antibody:"REGN10933",reference_site:496,Escape:.001125,wildtype:"G",mutant:"A"},{Antibody:"REGN10933",reference_site:496,Escape:.006216,wildtype:"G",mutant:"C"},{Antibody:"REGN10933",reference_site:496,Escape:.001125,wildtype:"G",mutant:"D"},{Antibody:"REGN10933",reference_site:496,Escape:.00469,wildtype:"G",mutant:"E"},{Antibody:"REGN10933",reference_site:496,Escape:.002095,wildtype:"G",mutant:"F"},{Antibody:"REGN10933",reference_site:496,Escape:.006929,wildtype:"G",mutant:"H"},{Antibody:"REGN10933",reference_site:496,Escape:.003704,wildtype:"G",mutant:"I"},{Antibody:"REGN10933",reference_site:496,Escape:.01085,wildtype:"G",mutant:"K"},{Antibody:"REGN10933",reference_site:496,Escape:.006741,wildtype:"G",mutant:"L"},{Antibody:"REGN10933",reference_site:496,Escape:.003109,wildtype:"G",mutant:"M"},{Antibody:"REGN10933",reference_site:496,Escape:.00168,wildtype:"G",mutant:"N"},{Antibody:"REGN10933",reference_site:496,Escape:.001125,wildtype:"G",mutant:"Q"},{Antibody:"REGN10933",reference_site:496,Escape:.001125,wildtype:"G",mutant:"R"},{Antibody:"REGN10933",reference_site:496,Escape:.001977,wildtype:"G",mutant:"S"},{Antibody:"REGN10933",reference_site:496,Escape:.001125,wildtype:"G",mutant:"T"},{Antibody:"REGN10933",reference_site:496,Escape:.02201,wildtype:"G",mutant:"V"},{Antibody:"REGN10933",reference_site:496,Escape:.002074,wildtype:"G",mutant:"W"},{Antibody:"REGN10933",reference_site:496,Escape:.002492,wildtype:"G",mutant:"Y"},{Antibody:"REGN10933",reference_site:498,Escape:.001125,wildtype:"Q",mutant:"A"},{Antibody:"REGN10933",reference_site:498,Escape:.002434,wildtype:"Q",mutant:"C"},{Antibody:"REGN10933",reference_site:498,Escape:.004202,wildtype:"Q",mutant:"D"},{Antibody:"REGN10933",reference_site:498,Escape:.001125,wildtype:"Q",mutant:"E"},{Antibody:"REGN10933",reference_site:498,Escape:.001125,wildtype:"Q",mutant:"F"},{Antibody:"REGN10933",reference_site:498,Escape:.001125,wildtype:"Q",mutant:"G"},{Antibody:"REGN10933",reference_site:498,Escape:.003255,wildtype:"Q",mutant:"H"},{Antibody:"REGN10933",reference_site:498,Escape:.008501,wildtype:"Q",mutant:"I"},{Antibody:"REGN10933",reference_site:498,Escape:.001125,wildtype:"Q",mutant:"K"},{Antibody:"REGN10933",reference_site:498,Escape:.002896,wildtype:"Q",mutant:"L"},{Antibody:"REGN10933",reference_site:498,Escape:.001125,wildtype:"Q",mutant:"M"},{Antibody:"REGN10933",reference_site:498,Escape:.001125,wildtype:"Q",mutant:"N"},{Antibody:"REGN10933",reference_site:498,Escape:.001125,wildtype:"Q",mutant:"R"},{Antibody:"REGN10933",reference_site:498,Escape:.001265,wildtype:"Q",mutant:"S"},{Antibody:"REGN10933",reference_site:498,Escape:.001125,wildtype:"Q",mutant:"T"},{Antibody:"REGN10933",reference_site:498,Escape:.001353,wildtype:"Q",mutant:"V"},{Antibody:"REGN10933",reference_site:498,Escape:.001125,wildtype:"Q",mutant:"W"},{Antibody:"REGN10933",reference_site:498,Escape:.001125,wildtype:"Q",mutant:"Y"},{Antibody:"REGN10933",reference_site:499,Escape:.001125,wildtype:"P",mutant:"A"},{Antibody:"REGN10933",reference_site:499,Escape:.00184,wildtype:"P",mutant:"C"},{Antibody:"REGN10933",reference_site:499,Escape:.001125,wildtype:"P",mutant:"D"},{Antibody:"REGN10933",reference_site:499,Escape:.001652,wildtype:"P",mutant:"E"},{Antibody:"REGN10933",reference_site:499,Escape:.002041,wildtype:"P",mutant:"G"},{Antibody:"REGN10933",reference_site:499,Escape:.002233,wildtype:"P",mutant:"H"},{Antibody:"REGN10933",reference_site:499,Escape:.003719,wildtype:"P",mutant:"L"},{Antibody:"REGN10933",reference_site:499,Escape:.003997,wildtype:"P",mutant:"M"},{Antibody:"REGN10933",reference_site:499,Escape:.01884,wildtype:"P",mutant:"N"},{Antibody:"REGN10933",reference_site:499,Escape:.003581,wildtype:"P",mutant:"Q"},{Antibody:"REGN10933",reference_site:499,Escape:.001179,wildtype:"P",mutant:"R"},{Antibody:"REGN10933",reference_site:499,Escape:.001302,wildtype:"P",mutant:"S"},{Antibody:"REGN10933",reference_site:499,Escape:.001125,wildtype:"P",mutant:"T"},{Antibody:"REGN10933",reference_site:499,Escape:.002691,wildtype:"P",mutant:"V"},{Antibody:"REGN10933",reference_site:499,Escape:.00227,wildtype:"P",mutant:"Y"},{Antibody:"REGN10933",reference_site:500,Escape:.007481,wildtype:"T",mutant:"A"},{Antibody:"REGN10933",reference_site:500,Escape:.00217,wildtype:"T",mutant:"C"},{Antibody:"REGN10933",reference_site:500,Escape:.002043,wildtype:"T",mutant:"D"},{Antibody:"REGN10933",reference_site:500,Escape:.001125,wildtype:"T",mutant:"E"},{Antibody:"REGN10933",reference_site:500,Escape:.003602,wildtype:"T",mutant:"F"},{Antibody:"REGN10933",reference_site:500,Escape:.001125,wildtype:"T",mutant:"G"},{Antibody:"REGN10933",reference_site:500,Escape:.001125,wildtype:"T",mutant:"H"},{Antibody:"REGN10933",reference_site:500,Escape:.001448,wildtype:"T",mutant:"I"},{Antibody:"REGN10933",reference_site:500,Escape:.001125,wildtype:"T",mutant:"K"},{Antibody:"REGN10933",reference_site:500,Escape:.003235,wildtype:"T",mutant:"L"},{Antibody:"REGN10933",reference_site:500,Escape:.006565,wildtype:"T",mutant:"M"},{Antibody:"REGN10933",reference_site:500,Escape:.001125,wildtype:"T",mutant:"N"},{Antibody:"REGN10933",reference_site:500,Escape:.005298,wildtype:"T",mutant:"P"},{Antibody:"REGN10933",reference_site:500,Escape:.005089,wildtype:"T",mutant:"Q"},{Antibody:"REGN10933",reference_site:500,Escape:.001125,wildtype:"T",mutant:"R"},{Antibody:"REGN10933",reference_site:500,Escape:.003401,wildtype:"T",mutant:"S"},{Antibody:"REGN10933",reference_site:500,Escape:.001125,wildtype:"T",mutant:"V"},{Antibody:"REGN10933",reference_site:500,Escape:.00438,wildtype:"T",mutant:"W"},{Antibody:"REGN10933",reference_site:500,Escape:.001125,wildtype:"T",mutant:"Y"},{Antibody:"REGN10933",reference_site:501,Escape:.00639,wildtype:"N",mutant:"A"},{Antibody:"REGN10933",reference_site:501,Escape:.001679,wildtype:"N",mutant:"C"},{Antibody:"REGN10933",reference_site:501,Escape:.001125,wildtype:"N",mutant:"F"},{Antibody:"REGN10933",reference_site:501,Escape:.002519,wildtype:"N",mutant:"G"},{Antibody:"REGN10933",reference_site:501,Escape:.01035,wildtype:"N",mutant:"H"},{Antibody:"REGN10933",reference_site:501,Escape:.002844,wildtype:"N",mutant:"I"},{Antibody:"REGN10933",reference_site:501,Escape:.001125,wildtype:"N",mutant:"L"},{Antibody:"REGN10933",reference_site:501,Escape:.006474,wildtype:"N",mutant:"M"},{Antibody:"REGN10933",reference_site:501,Escape:.0021,wildtype:"N",mutant:"P"},{Antibody:"REGN10933",reference_site:501,Escape:.002504,wildtype:"N",mutant:"Q"},{Antibody:"REGN10933",reference_site:501,Escape:.001189,wildtype:"N",mutant:"R"},{Antibody:"REGN10933",reference_site:501,Escape:.003638,wildtype:"N",mutant:"S"},{Antibody:"REGN10933",reference_site:501,Escape:.009383,wildtype:"N",mutant:"T"},{Antibody:"REGN10933",reference_site:501,Escape:.01264,wildtype:"N",mutant:"V"},{Antibody:"REGN10933",reference_site:501,Escape:.001125,wildtype:"N",mutant:"W"},{Antibody:"REGN10933",reference_site:501,Escape:.003267,wildtype:"N",mutant:"Y"},{Antibody:"REGN10933",reference_site:503,Escape:.001125,wildtype:"V",mutant:"A"},{Antibody:"REGN10933",reference_site:503,Escape:.001125,wildtype:"V",mutant:"C"},{Antibody:"REGN10933",reference_site:503,Escape:.001125,wildtype:"V",mutant:"D"},{Antibody:"REGN10933",reference_site:503,Escape:.001301,wildtype:"V",mutant:"E"},{Antibody:"REGN10933",reference_site:503,Escape:.001125,wildtype:"V",mutant:"F"},{Antibody:"REGN10933",reference_site:503,Escape:.002287,wildtype:"V",mutant:"G"},{Antibody:"REGN10933",reference_site:503,Escape:.001125,wildtype:"V",mutant:"H"},{Antibody:"REGN10933",reference_site:503,Escape:.001125,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:503,Escape:.001125,wildtype:"V",mutant:"K"},{Antibody:"REGN10933",reference_site:503,Escape:.001125,wildtype:"V",mutant:"L"},{Antibody:"REGN10933",reference_site:503,Escape:.001912,wildtype:"V",mutant:"M"},{Antibody:"REGN10933",reference_site:503,Escape:.003106,wildtype:"V",mutant:"N"},{Antibody:"REGN10933",reference_site:503,Escape:.002376,wildtype:"V",mutant:"Q"},{Antibody:"REGN10933",reference_site:503,Escape:.001125,wildtype:"V",mutant:"R"},{Antibody:"REGN10933",reference_site:503,Escape:.009509,wildtype:"V",mutant:"S"},{Antibody:"REGN10933",reference_site:503,Escape:.00209,wildtype:"V",mutant:"T"},{Antibody:"REGN10933",reference_site:503,Escape:.002266,wildtype:"V",mutant:"W"},{Antibody:"REGN10933",reference_site:503,Escape:.005608,wildtype:"V",mutant:"Y"},{Antibody:"REGN10933",reference_site:504,Escape:.001424,wildtype:"G",mutant:"A"},{Antibody:"REGN10933",reference_site:504,Escape:.002034,wildtype:"G",mutant:"C"},{Antibody:"REGN10933",reference_site:504,Escape:.002557,wildtype:"G",mutant:"D"},{Antibody:"REGN10933",reference_site:504,Escape:.00337,wildtype:"G",mutant:"E"},{Antibody:"REGN10933",reference_site:504,Escape:.004482,wildtype:"G",mutant:"F"},{Antibody:"REGN10933",reference_site:504,Escape:.001125,wildtype:"G",mutant:"H"},{Antibody:"REGN10933",reference_site:504,Escape:.001125,wildtype:"G",mutant:"I"},{Antibody:"REGN10933",reference_site:504,Escape:.001125,wildtype:"G",mutant:"K"},{Antibody:"REGN10933",reference_site:504,Escape:.003616,wildtype:"G",mutant:"L"},{Antibody:"REGN10933",reference_site:504,Escape:.001462,wildtype:"G",mutant:"M"},{Antibody:"REGN10933",reference_site:504,Escape:.001592,wildtype:"G",mutant:"N"},{Antibody:"REGN10933",reference_site:504,Escape:.001125,wildtype:"G",mutant:"P"},{Antibody:"REGN10933",reference_site:504,Escape:.002067,wildtype:"G",mutant:"Q"},{Antibody:"REGN10933",reference_site:504,Escape:.001125,wildtype:"G",mutant:"R"},{Antibody:"REGN10933",reference_site:504,Escape:.003873,wildtype:"G",mutant:"S"},{Antibody:"REGN10933",reference_site:504,Escape:.001125,wildtype:"G",mutant:"T"},{Antibody:"REGN10933",reference_site:504,Escape:.007605,wildtype:"G",mutant:"V"},{Antibody:"REGN10933",reference_site:504,Escape:.001161,wildtype:"G",mutant:"W"},{Antibody:"REGN10933",reference_site:504,Escape:.001125,wildtype:"G",mutant:"Y"},{Antibody:"REGN10933",reference_site:505,Escape:.003488,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:505,Escape:.002066,wildtype:"Y",mutant:"H"},{Antibody:"REGN10933",reference_site:505,Escape:.009064,wildtype:"Y",mutant:"M"},{Antibody:"REGN10933",reference_site:505,Escape:.002208,wildtype:"Y",mutant:"N"},{Antibody:"REGN10933",reference_site:505,Escape:.003862,wildtype:"Y",mutant:"Q"},{Antibody:"REGN10933",reference_site:505,Escape:.00626,wildtype:"Y",mutant:"W"},{Antibody:"REGN10933",reference_site:506,Escape:.00329,wildtype:"Q",mutant:"A"},{Antibody:"REGN10933",reference_site:506,Escape:.002471,wildtype:"Q",mutant:"E"},{Antibody:"REGN10933",reference_site:506,Escape:.02819,wildtype:"Q",mutant:"H"},{Antibody:"REGN10933",reference_site:506,Escape:.006009,wildtype:"Q",mutant:"N"},{Antibody:"REGN10933",reference_site:507,Escape:.001125,wildtype:"P",mutant:"A"},{Antibody:"REGN10933",reference_site:508,Escape:.0101,wildtype:"Y",mutant:"A"},{Antibody:"REGN10933",reference_site:508,Escape:.003699,wildtype:"Y",mutant:"F"},{Antibody:"REGN10933",reference_site:508,Escape:.001125,wildtype:"Y",mutant:"H"},{Antibody:"REGN10933",reference_site:508,Escape:.002389,wildtype:"Y",mutant:"M"},{Antibody:"REGN10933",reference_site:508,Escape:.003448,wildtype:"Y",mutant:"N"},{Antibody:"REGN10933",reference_site:508,Escape:.003477,wildtype:"Y",mutant:"T"},{Antibody:"REGN10933",reference_site:508,Escape:.001704,wildtype:"Y",mutant:"V"},{Antibody:"REGN10933",reference_site:508,Escape:.001849,wildtype:"Y",mutant:"W"},{Antibody:"REGN10933",reference_site:510,Escape:.001125,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:512,Escape:.001146,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:513,Escape:.001125,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:513,Escape:.003567,wildtype:"L",mutant:"M"},{Antibody:"REGN10933",reference_site:514,Escape:.001686,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:514,Escape:.001125,wildtype:"S",mutant:"C"},{Antibody:"REGN10933",reference_site:514,Escape:.001125,wildtype:"S",mutant:"F"},{Antibody:"REGN10933",reference_site:514,Escape:.005846,wildtype:"S",mutant:"G"},{Antibody:"REGN10933",reference_site:514,Escape:.002725,wildtype:"S",mutant:"H"},{Antibody:"REGN10933",reference_site:514,Escape:.001125,wildtype:"S",mutant:"I"},{Antibody:"REGN10933",reference_site:514,Escape:.004213,wildtype:"S",mutant:"K"},{Antibody:"REGN10933",reference_site:514,Escape:.01496,wildtype:"S",mutant:"L"},{Antibody:"REGN10933",reference_site:514,Escape:.0138,wildtype:"S",mutant:"M"},{Antibody:"REGN10933",reference_site:514,Escape:.002116,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:514,Escape:.001125,wildtype:"S",mutant:"Q"},{Antibody:"REGN10933",reference_site:514,Escape:.002047,wildtype:"S",mutant:"R"},{Antibody:"REGN10933",reference_site:514,Escape:.001125,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:514,Escape:.003457,wildtype:"S",mutant:"V"},{Antibody:"REGN10933",reference_site:514,Escape:.001125,wildtype:"S",mutant:"W"},{Antibody:"REGN10933",reference_site:514,Escape:.005142,wildtype:"S",mutant:"Y"},{Antibody:"REGN10933",reference_site:515,Escape:.001479,wildtype:"F",mutant:"L"},{Antibody:"REGN10933",reference_site:515,Escape:.001125,wildtype:"F",mutant:"M"},{Antibody:"REGN10933",reference_site:516,Escape:.001125,wildtype:"E",mutant:"D"},{Antibody:"REGN10933",reference_site:516,Escape:.01644,wildtype:"E",mutant:"H"},{Antibody:"REGN10933",reference_site:516,Escape:.001125,wildtype:"E",mutant:"K"},{Antibody:"REGN10933",reference_site:516,Escape:.001831,wildtype:"E",mutant:"N"},{Antibody:"REGN10933",reference_site:516,Escape:.001125,wildtype:"E",mutant:"P"},{Antibody:"REGN10933",reference_site:516,Escape:.001541,wildtype:"E",mutant:"R"},{Antibody:"REGN10933",reference_site:516,Escape:.003446,wildtype:"E",mutant:"S"},{Antibody:"REGN10933",reference_site:516,Escape:.002249,wildtype:"E",mutant:"T"},{Antibody:"REGN10933",reference_site:517,Escape:.02608,wildtype:"L",mutant:"E"},{Antibody:"REGN10933",reference_site:517,Escape:.003658,wildtype:"L",mutant:"H"},{Antibody:"REGN10933",reference_site:517,Escape:.001125,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:517,Escape:.0016,wildtype:"L",mutant:"K"},{Antibody:"REGN10933",reference_site:517,Escape:.002574,wildtype:"L",mutant:"M"},{Antibody:"REGN10933",reference_site:517,Escape:.009821,wildtype:"L",mutant:"N"},{Antibody:"REGN10933",reference_site:517,Escape:.001125,wildtype:"L",mutant:"Q"},{Antibody:"REGN10933",reference_site:517,Escape:.00226,wildtype:"L",mutant:"R"},{Antibody:"REGN10933",reference_site:517,Escape:.009562,wildtype:"L",mutant:"S"},{Antibody:"REGN10933",reference_site:517,Escape:.001125,wildtype:"L",mutant:"T"},{Antibody:"REGN10933",reference_site:517,Escape:.02273,wildtype:"L",mutant:"V"},{Antibody:"REGN10933",reference_site:517,Escape:.001125,wildtype:"L",mutant:"Y"},{Antibody:"REGN10933",reference_site:518,Escape:.001613,wildtype:"L",mutant:"F"},{Antibody:"REGN10933",reference_site:518,Escape:.001125,wildtype:"L",mutant:"H"},{Antibody:"REGN10933",reference_site:518,Escape:.001125,wildtype:"L",mutant:"I"},{Antibody:"REGN10933",reference_site:518,Escape:.00525,wildtype:"L",mutant:"K"},{Antibody:"REGN10933",reference_site:518,Escape:.002463,wildtype:"L",mutant:"M"},{Antibody:"REGN10933",reference_site:518,Escape:.001796,wildtype:"L",mutant:"N"},{Antibody:"REGN10933",reference_site:518,Escape:.007526,wildtype:"L",mutant:"P"},{Antibody:"REGN10933",reference_site:518,Escape:.002118,wildtype:"L",mutant:"Q"},{Antibody:"REGN10933",reference_site:518,Escape:.007945,wildtype:"L",mutant:"R"},{Antibody:"REGN10933",reference_site:518,Escape:.001125,wildtype:"L",mutant:"S"},{Antibody:"REGN10933",reference_site:518,Escape:.004419,wildtype:"L",mutant:"T"},{Antibody:"REGN10933",reference_site:518,Escape:.002934,wildtype:"L",mutant:"V"},{Antibody:"REGN10933",reference_site:518,Escape:.001125,wildtype:"L",mutant:"W"},{Antibody:"REGN10933",reference_site:518,Escape:.001125,wildtype:"L",mutant:"Y"},{Antibody:"REGN10933",reference_site:519,Escape:.001125,wildtype:"H",mutant:"C"},{Antibody:"REGN10933",reference_site:519,Escape:.002821,wildtype:"H",mutant:"D"},{Antibody:"REGN10933",reference_site:519,Escape:.01065,wildtype:"H",mutant:"F"},{Antibody:"REGN10933",reference_site:519,Escape:.0249,wildtype:"H",mutant:"I"},{Antibody:"REGN10933",reference_site:519,Escape:.001125,wildtype:"H",mutant:"L"},{Antibody:"REGN10933",reference_site:519,Escape:.001125,wildtype:"H",mutant:"N"},{Antibody:"REGN10933",reference_site:519,Escape:.00382,wildtype:"H",mutant:"P"},{Antibody:"REGN10933",reference_site:519,Escape:.001125,wildtype:"H",mutant:"Q"},{Antibody:"REGN10933",reference_site:519,Escape:.00732,wildtype:"H",mutant:"R"},{Antibody:"REGN10933",reference_site:519,Escape:.001125,wildtype:"H",mutant:"S"},{Antibody:"REGN10933",reference_site:519,Escape:.003845,wildtype:"H",mutant:"T"},{Antibody:"REGN10933",reference_site:519,Escape:.001975,wildtype:"H",mutant:"V"},{Antibody:"REGN10933",reference_site:519,Escape:.001138,wildtype:"H",mutant:"Y"},{Antibody:"REGN10933",reference_site:520,Escape:.005428,wildtype:"A",mutant:"C"},{Antibody:"REGN10933",reference_site:520,Escape:.004711,wildtype:"A",mutant:"D"},{Antibody:"REGN10933",reference_site:520,Escape:.001125,wildtype:"A",mutant:"E"},{Antibody:"REGN10933",reference_site:520,Escape:.05017,wildtype:"A",mutant:"F"},{Antibody:"REGN10933",reference_site:520,Escape:.002746,wildtype:"A",mutant:"G"},{Antibody:"REGN10933",reference_site:520,Escape:.006024,wildtype:"A",mutant:"H"},{Antibody:"REGN10933",reference_site:520,Escape:.001125,wildtype:"A",mutant:"I"},{Antibody:"REGN10933",reference_site:520,Escape:.002708,wildtype:"A",mutant:"K"},{Antibody:"REGN10933",reference_site:520,Escape:.001125,wildtype:"A",mutant:"L"},{Antibody:"REGN10933",reference_site:520,Escape:.001452,wildtype:"A",mutant:"M"},{Antibody:"REGN10933",reference_site:520,Escape:.001834,wildtype:"A",mutant:"N"},{Antibody:"REGN10933",reference_site:520,Escape:.01349,wildtype:"A",mutant:"P"},{Antibody:"REGN10933",reference_site:520,Escape:.001125,wildtype:"A",mutant:"R"},{Antibody:"REGN10933",reference_site:520,Escape:.0027,wildtype:"A",mutant:"S"},{Antibody:"REGN10933",reference_site:520,Escape:.001444,wildtype:"A",mutant:"T"},{Antibody:"REGN10933",reference_site:520,Escape:.002662,wildtype:"A",mutant:"V"},{Antibody:"REGN10933",reference_site:520,Escape:.0026,wildtype:"A",mutant:"Y"},{Antibody:"REGN10933",reference_site:521,Escape:.002249,wildtype:"P",mutant:"C"},{Antibody:"REGN10933",reference_site:521,Escape:.001184,wildtype:"P",mutant:"F"},{Antibody:"REGN10933",reference_site:521,Escape:.002332,wildtype:"P",mutant:"G"},{Antibody:"REGN10933",reference_site:521,Escape:.001125,wildtype:"P",mutant:"H"},{Antibody:"REGN10933",reference_site:521,Escape:.002346,wildtype:"P",mutant:"N"},{Antibody:"REGN10933",reference_site:521,Escape:.004886,wildtype:"P",mutant:"R"},{Antibody:"REGN10933",reference_site:521,Escape:.001171,wildtype:"P",mutant:"S"},{Antibody:"REGN10933",reference_site:521,Escape:.008694,wildtype:"P",mutant:"T"},{Antibody:"REGN10933",reference_site:522,Escape:.004706,wildtype:"A",mutant:"C"},{Antibody:"REGN10933",reference_site:522,Escape:.001125,wildtype:"A",mutant:"D"},{Antibody:"REGN10933",reference_site:522,Escape:.006259,wildtype:"A",mutant:"E"},{Antibody:"REGN10933",reference_site:522,Escape:.001125,wildtype:"A",mutant:"G"},{Antibody:"REGN10933",reference_site:522,Escape:.005238,wildtype:"A",mutant:"H"},{Antibody:"REGN10933",reference_site:522,Escape:.001125,wildtype:"A",mutant:"I"},{Antibody:"REGN10933",reference_site:522,Escape:.005305,wildtype:"A",mutant:"K"},{Antibody:"REGN10933",reference_site:522,Escape:.001125,wildtype:"A",mutant:"L"},{Antibody:"REGN10933",reference_site:522,Escape:.001125,wildtype:"A",mutant:"M"},{Antibody:"REGN10933",reference_site:522,Escape:.001125,wildtype:"A",mutant:"P"},{Antibody:"REGN10933",reference_site:522,Escape:.001125,wildtype:"A",mutant:"R"},{Antibody:"REGN10933",reference_site:522,Escape:.001776,wildtype:"A",mutant:"S"},{Antibody:"REGN10933",reference_site:522,Escape:.008176,wildtype:"A",mutant:"T"},{Antibody:"REGN10933",reference_site:522,Escape:.0032,wildtype:"A",mutant:"V"},{Antibody:"REGN10933",reference_site:522,Escape:.001125,wildtype:"A",mutant:"W"},{Antibody:"REGN10933",reference_site:522,Escape:.001125,wildtype:"A",mutant:"Y"},{Antibody:"REGN10933",reference_site:523,Escape:.001125,wildtype:"T",mutant:"I"},{Antibody:"REGN10933",reference_site:523,Escape:.0105,wildtype:"T",mutant:"Y"},{Antibody:"REGN10933",reference_site:524,Escape:.001125,wildtype:"V",mutant:"A"},{Antibody:"REGN10933",reference_site:524,Escape:.0105,wildtype:"V",mutant:"G"},{Antibody:"REGN10933",reference_site:524,Escape:.004403,wildtype:"V",mutant:"I"},{Antibody:"REGN10933",reference_site:525,Escape:.004412,wildtype:"C",mutant:"A"},{Antibody:"REGN10933",reference_site:525,Escape:.001125,wildtype:"C",mutant:"F"},{Antibody:"REGN10933",reference_site:525,Escape:.001734,wildtype:"C",mutant:"I"},{Antibody:"REGN10933",reference_site:525,Escape:.00216,wildtype:"C",mutant:"L"},{Antibody:"REGN10933",reference_site:525,Escape:.003737,wildtype:"C",mutant:"N"},{Antibody:"REGN10933",reference_site:525,Escape:.001125,wildtype:"C",mutant:"R"},{Antibody:"REGN10933",reference_site:525,Escape:.01031,wildtype:"C",mutant:"S"},{Antibody:"REGN10933",reference_site:526,Escape:.006919,wildtype:"G",mutant:"A"},{Antibody:"REGN10933",reference_site:526,Escape:.004101,wildtype:"G",mutant:"D"},{Antibody:"REGN10933",reference_site:526,Escape:.00349,wildtype:"G",mutant:"E"},{Antibody:"REGN10933",reference_site:526,Escape:.001125,wildtype:"G",mutant:"L"},{Antibody:"REGN10933",reference_site:526,Escape:.002648,wildtype:"G",mutant:"N"},{Antibody:"REGN10933",reference_site:526,Escape:.001125,wildtype:"G",mutant:"P"},{Antibody:"REGN10933",reference_site:526,Escape:.001871,wildtype:"G",mutant:"R"},{Antibody:"REGN10933",reference_site:526,Escape:.001125,wildtype:"G",mutant:"S"},{Antibody:"REGN10933",reference_site:526,Escape:.001125,wildtype:"G",mutant:"V"},{Antibody:"REGN10933",reference_site:526,Escape:.001125,wildtype:"G",mutant:"W"},{Antibody:"REGN10933",reference_site:527,Escape:.002405,wildtype:"P",mutant:"A"},{Antibody:"REGN10933",reference_site:527,Escape:.006269,wildtype:"P",mutant:"C"},{Antibody:"REGN10933",reference_site:527,Escape:.009839,wildtype:"P",mutant:"E"},{Antibody:"REGN10933",reference_site:527,Escape:.001125,wildtype:"P",mutant:"F"},{Antibody:"REGN10933",reference_site:527,Escape:.001125,wildtype:"P",mutant:"G"},{Antibody:"REGN10933",reference_site:527,Escape:.004532,wildtype:"P",mutant:"H"},{Antibody:"REGN10933",reference_site:527,Escape:.001125,wildtype:"P",mutant:"I"},{Antibody:"REGN10933",reference_site:527,Escape:.00177,wildtype:"P",mutant:"K"},{Antibody:"REGN10933",reference_site:527,Escape:.001125,wildtype:"P",mutant:"L"},{Antibody:"REGN10933",reference_site:527,Escape:.001125,wildtype:"P",mutant:"M"},{Antibody:"REGN10933",reference_site:527,Escape:.001878,wildtype:"P",mutant:"N"},{Antibody:"REGN10933",reference_site:527,Escape:.001125,wildtype:"P",mutant:"Q"},{Antibody:"REGN10933",reference_site:527,Escape:.001327,wildtype:"P",mutant:"R"},{Antibody:"REGN10933",reference_site:527,Escape:.001125,wildtype:"P",mutant:"S"},{Antibody:"REGN10933",reference_site:527,Escape:.01043,wildtype:"P",mutant:"T"},{Antibody:"REGN10933",reference_site:527,Escape:.002036,wildtype:"P",mutant:"V"},{Antibody:"REGN10933",reference_site:527,Escape:.001125,wildtype:"P",mutant:"Y"},{Antibody:"REGN10933",reference_site:528,Escape:.003893,wildtype:"K",mutant:"A"},{Antibody:"REGN10933",reference_site:528,Escape:.006349,wildtype:"K",mutant:"C"},{Antibody:"REGN10933",reference_site:528,Escape:.001546,wildtype:"K",mutant:"D"},{Antibody:"REGN10933",reference_site:528,Escape:.002691,wildtype:"K",mutant:"E"},{Antibody:"REGN10933",reference_site:528,Escape:.003925,wildtype:"K",mutant:"G"},{Antibody:"REGN10933",reference_site:528,Escape:.01491,wildtype:"K",mutant:"H"},{Antibody:"REGN10933",reference_site:528,Escape:.00198,wildtype:"K",mutant:"I"},{Antibody:"REGN10933",reference_site:528,Escape:.00305,wildtype:"K",mutant:"L"},{Antibody:"REGN10933",reference_site:528,Escape:.001125,wildtype:"K",mutant:"M"},{Antibody:"REGN10933",reference_site:528,Escape:.001337,wildtype:"K",mutant:"N"},{Antibody:"REGN10933",reference_site:528,Escape:.001125,wildtype:"K",mutant:"P"},{Antibody:"REGN10933",reference_site:528,Escape:.001859,wildtype:"K",mutant:"Q"},{Antibody:"REGN10933",reference_site:528,Escape:.003701,wildtype:"K",mutant:"R"},{Antibody:"REGN10933",reference_site:528,Escape:.001125,wildtype:"K",mutant:"S"},{Antibody:"REGN10933",reference_site:528,Escape:.00358,wildtype:"K",mutant:"T"},{Antibody:"REGN10933",reference_site:528,Escape:.00358,wildtype:"K",mutant:"V"},{Antibody:"REGN10933",reference_site:528,Escape:.002097,wildtype:"K",mutant:"W"},{Antibody:"REGN10933",reference_site:528,Escape:.001219,wildtype:"K",mutant:"Y"},{Antibody:"REGN10933",reference_site:529,Escape:.002273,wildtype:"K",mutant:"C"},{Antibody:"REGN10933",reference_site:529,Escape:.001136,wildtype:"K",mutant:"D"},{Antibody:"REGN10933",reference_site:529,Escape:.001125,wildtype:"K",mutant:"E"},{Antibody:"REGN10933",reference_site:529,Escape:.001125,wildtype:"K",mutant:"F"},{Antibody:"REGN10933",reference_site:529,Escape:.001125,wildtype:"K",mutant:"G"},{Antibody:"REGN10933",reference_site:529,Escape:.001125,wildtype:"K",mutant:"H"},{Antibody:"REGN10933",reference_site:529,Escape:.001513,wildtype:"K",mutant:"I"},{Antibody:"REGN10933",reference_site:529,Escape:.001125,wildtype:"K",mutant:"L"},{Antibody:"REGN10933",reference_site:529,Escape:.002781,wildtype:"K",mutant:"M"},{Antibody:"REGN10933",reference_site:529,Escape:.001125,wildtype:"K",mutant:"N"},{Antibody:"REGN10933",reference_site:529,Escape:.001125,wildtype:"K",mutant:"P"},{Antibody:"REGN10933",reference_site:529,Escape:.001125,wildtype:"K",mutant:"Q"},{Antibody:"REGN10933",reference_site:529,Escape:.001125,wildtype:"K",mutant:"R"},{Antibody:"REGN10933",reference_site:529,Escape:.003182,wildtype:"K",mutant:"S"},{Antibody:"REGN10933",reference_site:529,Escape:.0105,wildtype:"K",mutant:"T"},{Antibody:"REGN10933",reference_site:529,Escape:.001125,wildtype:"K",mutant:"V"},{Antibody:"REGN10933",reference_site:529,Escape:.001125,wildtype:"K",mutant:"W"},{Antibody:"REGN10933",reference_site:529,Escape:.009094,wildtype:"K",mutant:"Y"},{Antibody:"REGN10933",reference_site:530,Escape:.001828,wildtype:"S",mutant:"A"},{Antibody:"REGN10933",reference_site:530,Escape:.001861,wildtype:"S",mutant:"C"},{Antibody:"REGN10933",reference_site:530,Escape:.001125,wildtype:"S",mutant:"D"},{Antibody:"REGN10933",reference_site:530,Escape:.02688,wildtype:"S",mutant:"E"},{Antibody:"REGN10933",reference_site:530,Escape:.001125,wildtype:"S",mutant:"F"},{Antibody:"REGN10933",reference_site:530,Escape:.005114,wildtype:"S",mutant:"G"},{Antibody:"REGN10933",reference_site:530,Escape:.001286,wildtype:"S",mutant:"H"},{Antibody:"REGN10933",reference_site:530,Escape:.004329,wildtype:"S",mutant:"I"},{Antibody:"REGN10933",reference_site:530,Escape:.001277,wildtype:"S",mutant:"K"},{Antibody:"REGN10933",reference_site:530,Escape:.001125,wildtype:"S",mutant:"L"},{Antibody:"REGN10933",reference_site:530,Escape:.00405,wildtype:"S",mutant:"M"},{Antibody:"REGN10933",reference_site:530,Escape:.001125,wildtype:"S",mutant:"N"},{Antibody:"REGN10933",reference_site:530,Escape:.001125,wildtype:"S",mutant:"P"},{Antibody:"REGN10933",reference_site:530,Escape:.001125,wildtype:"S",mutant:"Q"},{Antibody:"REGN10933",reference_site:530,Escape:.001125,wildtype:"S",mutant:"R"},{Antibody:"REGN10933",reference_site:530,Escape:.006129,wildtype:"S",mutant:"T"},{Antibody:"REGN10933",reference_site:530,Escape:.001125,wildtype:"S",mutant:"V"},{Antibody:"REGN10933",reference_site:530,Escape:.001125,wildtype:"S",mutant:"W"},{Antibody:"REGN10933",reference_site:530,Escape:.001125,wildtype:"S",mutant:"Y"},{Antibody:"REGN10933",reference_site:531,Escape:.004197,wildtype:"T",mutant:"A"},{Antibody:"REGN10933",reference_site:531,Escape:.001125,wildtype:"T",mutant:"C"},{Antibody:"REGN10933",reference_site:531,Escape:.005573,wildtype:"T",mutant:"D"},{Antibody:"REGN10933",reference_site:531,Escape:.001125,wildtype:"T",mutant:"E"},{Antibody:"REGN10933",reference_site:531,Escape:.001672,wildtype:"T",mutant:"F"},{Antibody:"REGN10933",reference_site:531,Escape:.007998,wildtype:"T",mutant:"G"},{Antibody:"REGN10933",reference_site:531,Escape:.001125,wildtype:"T",mutant:"H"},{Antibody:"REGN10933",reference_site:531,Escape:.004738,wildtype:"T",mutant:"I"},{Antibody:"REGN10933",reference_site:531,Escape:.001672,wildtype:"T",mutant:"K"},{Antibody:"REGN10933",reference_site:531,Escape:.003033,wildtype:"T",mutant:"L"},{Antibody:"REGN10933",reference_site:531,Escape:.001125,wildtype:"T",mutant:"M"},{Antibody:"REGN10933",reference_site:531,Escape:.003722,wildtype:"T",mutant:"N"},{Antibody:"REGN10933",reference_site:531,Escape:.001125,wildtype:"T",mutant:"P"},{Antibody:"REGN10933",reference_site:531,Escape:.008619,wildtype:"T",mutant:"Q"},{Antibody:"REGN10933",reference_site:531,Escape:.0022,wildtype:"T",mutant:"R"},{Antibody:"REGN10933",reference_site:531,Escape:.01125,wildtype:"T",mutant:"S"},{Antibody:"REGN10933",reference_site:531,Escape:.001233,wildtype:"T",mutant:"V"},{Antibody:"REGN10933",reference_site:531,Escape:.001125,wildtype:"T",mutant:"W"},{Antibody:"REGN10933",reference_site:531,Escape:.001437,wildtype:"T",mutant:"Y"},{Antibody:"REGN10987",reference_site:331,Escape:.002077,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:331,Escape:.00156,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:331,Escape:.002075,wildtype:"N",mutant:"E"},{Antibody:"REGN10987",reference_site:331,Escape:.002076,wildtype:"N",mutant:"F"},{Antibody:"REGN10987",reference_site:331,Escape:.002075,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:331,Escape:.002076,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:331,Escape:.00207,wildtype:"N",mutant:"I"},{Antibody:"REGN10987",reference_site:331,Escape:.002074,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:331,Escape:.002076,wildtype:"N",mutant:"L"},{Antibody:"REGN10987",reference_site:331,Escape:.00208,wildtype:"N",mutant:"M"},{Antibody:"REGN10987",reference_site:331,Escape:.002077,wildtype:"N",mutant:"P"},{Antibody:"REGN10987",reference_site:331,Escape:.002078,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:331,Escape:.002075,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:331,Escape:.002076,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:331,Escape:.002082,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:331,Escape:.002066,wildtype:"N",mutant:"V"},{Antibody:"REGN10987",reference_site:332,Escape:.002076,wildtype:"I",mutant:"A"},{Antibody:"REGN10987",reference_site:332,Escape:.002072,wildtype:"I",mutant:"C"},{Antibody:"REGN10987",reference_site:332,Escape:.002077,wildtype:"I",mutant:"D"},{Antibody:"REGN10987",reference_site:332,Escape:.002077,wildtype:"I",mutant:"E"},{Antibody:"REGN10987",reference_site:332,Escape:.002079,wildtype:"I",mutant:"F"},{Antibody:"REGN10987",reference_site:332,Escape:.002071,wildtype:"I",mutant:"G"},{Antibody:"REGN10987",reference_site:332,Escape:.002078,wildtype:"I",mutant:"H"},{Antibody:"REGN10987",reference_site:332,Escape:.002077,wildtype:"I",mutant:"K"},{Antibody:"REGN10987",reference_site:332,Escape:.002078,wildtype:"I",mutant:"L"},{Antibody:"REGN10987",reference_site:332,Escape:.002073,wildtype:"I",mutant:"M"},{Antibody:"REGN10987",reference_site:332,Escape:.002076,wildtype:"I",mutant:"N"},{Antibody:"REGN10987",reference_site:332,Escape:.002075,wildtype:"I",mutant:"P"},{Antibody:"REGN10987",reference_site:332,Escape:.002078,wildtype:"I",mutant:"Q"},{Antibody:"REGN10987",reference_site:332,Escape:.002073,wildtype:"I",mutant:"R"},{Antibody:"REGN10987",reference_site:332,Escape:.002072,wildtype:"I",mutant:"S"},{Antibody:"REGN10987",reference_site:332,Escape:.002076,wildtype:"I",mutant:"T"},{Antibody:"REGN10987",reference_site:332,Escape:.002077,wildtype:"I",mutant:"V"},{Antibody:"REGN10987",reference_site:332,Escape:.002075,wildtype:"I",mutant:"W"},{Antibody:"REGN10987",reference_site:332,Escape:.002077,wildtype:"I",mutant:"Y"},{Antibody:"REGN10987",reference_site:333,Escape:.002075,wildtype:"T",mutant:"A"},{Antibody:"REGN10987",reference_site:333,Escape:.002075,wildtype:"T",mutant:"C"},{Antibody:"REGN10987",reference_site:333,Escape:.002075,wildtype:"T",mutant:"D"},{Antibody:"REGN10987",reference_site:333,Escape:.002074,wildtype:"T",mutant:"E"},{Antibody:"REGN10987",reference_site:333,Escape:.002072,wildtype:"T",mutant:"F"},{Antibody:"REGN10987",reference_site:333,Escape:.002076,wildtype:"T",mutant:"G"},{Antibody:"REGN10987",reference_site:333,Escape:.002075,wildtype:"T",mutant:"H"},{Antibody:"REGN10987",reference_site:333,Escape:.002075,wildtype:"T",mutant:"K"},{Antibody:"REGN10987",reference_site:333,Escape:.002076,wildtype:"T",mutant:"L"},{Antibody:"REGN10987",reference_site:333,Escape:.002081,wildtype:"T",mutant:"M"},{Antibody:"REGN10987",reference_site:333,Escape:.002075,wildtype:"T",mutant:"N"},{Antibody:"REGN10987",reference_site:333,Escape:.002076,wildtype:"T",mutant:"P"},{Antibody:"REGN10987",reference_site:333,Escape:.002077,wildtype:"T",mutant:"Q"},{Antibody:"REGN10987",reference_site:333,Escape:.002075,wildtype:"T",mutant:"R"},{Antibody:"REGN10987",reference_site:333,Escape:.002076,wildtype:"T",mutant:"S"},{Antibody:"REGN10987",reference_site:333,Escape:.002072,wildtype:"T",mutant:"V"},{Antibody:"REGN10987",reference_site:333,Escape:.002076,wildtype:"T",mutant:"W"},{Antibody:"REGN10987",reference_site:333,Escape:.002073,wildtype:"T",mutant:"Y"},{Antibody:"REGN10987",reference_site:334,Escape:.002076,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:334,Escape:.00361,wildtype:"N",mutant:"C"},{Antibody:"REGN10987",reference_site:334,Escape:.002076,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:334,Escape:.002079,wildtype:"N",mutant:"E"},{Antibody:"REGN10987",reference_site:334,Escape:.002076,wildtype:"N",mutant:"F"},{Antibody:"REGN10987",reference_site:334,Escape:.002076,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:334,Escape:.002076,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:334,Escape:.00208,wildtype:"N",mutant:"I"},{Antibody:"REGN10987",reference_site:334,Escape:.002075,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:334,Escape:.002079,wildtype:"N",mutant:"L"},{Antibody:"REGN10987",reference_site:334,Escape:.002076,wildtype:"N",mutant:"M"},{Antibody:"REGN10987",reference_site:334,Escape:.002079,wildtype:"N",mutant:"P"},{Antibody:"REGN10987",reference_site:334,Escape:.002075,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:334,Escape:.002075,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:334,Escape:.002078,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:334,Escape:.002078,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:334,Escape:.002075,wildtype:"N",mutant:"V"},{Antibody:"REGN10987",reference_site:334,Escape:.002077,wildtype:"N",mutant:"Y"},{Antibody:"REGN10987",reference_site:335,Escape:.002075,wildtype:"L",mutant:"A"},{Antibody:"REGN10987",reference_site:335,Escape:.002076,wildtype:"L",mutant:"C"},{Antibody:"REGN10987",reference_site:335,Escape:.002067,wildtype:"L",mutant:"D"},{Antibody:"REGN10987",reference_site:335,Escape:.002075,wildtype:"L",mutant:"E"},{Antibody:"REGN10987",reference_site:335,Escape:.002073,wildtype:"L",mutant:"F"},{Antibody:"REGN10987",reference_site:335,Escape:.002082,wildtype:"L",mutant:"G"},{Antibody:"REGN10987",reference_site:335,Escape:.002073,wildtype:"L",mutant:"H"},{Antibody:"REGN10987",reference_site:335,Escape:.002076,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:335,Escape:.002076,wildtype:"L",mutant:"K"},{Antibody:"REGN10987",reference_site:335,Escape:.002077,wildtype:"L",mutant:"M"},{Antibody:"REGN10987",reference_site:335,Escape:.002079,wildtype:"L",mutant:"N"},{Antibody:"REGN10987",reference_site:335,Escape:.002075,wildtype:"L",mutant:"P"},{Antibody:"REGN10987",reference_site:335,Escape:.002074,wildtype:"L",mutant:"Q"},{Antibody:"REGN10987",reference_site:335,Escape:.002075,wildtype:"L",mutant:"R"},{Antibody:"REGN10987",reference_site:335,Escape:.002077,wildtype:"L",mutant:"S"},{Antibody:"REGN10987",reference_site:335,Escape:.002074,wildtype:"L",mutant:"T"},{Antibody:"REGN10987",reference_site:335,Escape:.002077,wildtype:"L",mutant:"V"},{Antibody:"REGN10987",reference_site:335,Escape:.002072,wildtype:"L",mutant:"W"},{Antibody:"REGN10987",reference_site:335,Escape:.002072,wildtype:"L",mutant:"Y"},{Antibody:"REGN10987",reference_site:336,Escape:.05206,wildtype:"C",mutant:"G"},{Antibody:"REGN10987",reference_site:337,Escape:.002077,wildtype:"P",mutant:"A"},{Antibody:"REGN10987",reference_site:337,Escape:.002082,wildtype:"P",mutant:"C"},{Antibody:"REGN10987",reference_site:337,Escape:.002074,wildtype:"P",mutant:"D"},{Antibody:"REGN10987",reference_site:337,Escape:.002073,wildtype:"P",mutant:"E"},{Antibody:"REGN10987",reference_site:337,Escape:.002592,wildtype:"P",mutant:"G"},{Antibody:"REGN10987",reference_site:337,Escape:.002078,wildtype:"P",mutant:"H"},{Antibody:"REGN10987",reference_site:337,Escape:.002075,wildtype:"P",mutant:"K"},{Antibody:"REGN10987",reference_site:337,Escape:.00208,wildtype:"P",mutant:"L"},{Antibody:"REGN10987",reference_site:337,Escape:.002075,wildtype:"P",mutant:"M"},{Antibody:"REGN10987",reference_site:337,Escape:.002076,wildtype:"P",mutant:"N"},{Antibody:"REGN10987",reference_site:337,Escape:.00208,wildtype:"P",mutant:"Q"},{Antibody:"REGN10987",reference_site:337,Escape:.002076,wildtype:"P",mutant:"R"},{Antibody:"REGN10987",reference_site:337,Escape:.00208,wildtype:"P",mutant:"S"},{Antibody:"REGN10987",reference_site:337,Escape:.01181,wildtype:"P",mutant:"T"},{Antibody:"REGN10987",reference_site:338,Escape:.002083,wildtype:"F",mutant:"I"},{Antibody:"REGN10987",reference_site:338,Escape:.002079,wildtype:"F",mutant:"L"},{Antibody:"REGN10987",reference_site:338,Escape:.002075,wildtype:"F",mutant:"M"},{Antibody:"REGN10987",reference_site:338,Escape:.002072,wildtype:"F",mutant:"W"},{Antibody:"REGN10987",reference_site:338,Escape:.002073,wildtype:"F",mutant:"Y"},{Antibody:"REGN10987",reference_site:339,Escape:.00208,wildtype:"G",mutant:"A"},{Antibody:"REGN10987",reference_site:339,Escape:.002076,wildtype:"G",mutant:"D"},{Antibody:"REGN10987",reference_site:339,Escape:.002076,wildtype:"G",mutant:"E"},{Antibody:"REGN10987",reference_site:339,Escape:.002075,wildtype:"G",mutant:"F"},{Antibody:"REGN10987",reference_site:339,Escape:.002075,wildtype:"G",mutant:"H"},{Antibody:"REGN10987",reference_site:339,Escape:.002076,wildtype:"G",mutant:"I"},{Antibody:"REGN10987",reference_site:339,Escape:.002078,wildtype:"G",mutant:"K"},{Antibody:"REGN10987",reference_site:339,Escape:.002081,wildtype:"G",mutant:"L"},{Antibody:"REGN10987",reference_site:339,Escape:.002077,wildtype:"G",mutant:"M"},{Antibody:"REGN10987",reference_site:339,Escape:.00207,wildtype:"G",mutant:"N"},{Antibody:"REGN10987",reference_site:339,Escape:.002083,wildtype:"G",mutant:"P"},{Antibody:"REGN10987",reference_site:339,Escape:.002071,wildtype:"G",mutant:"Q"},{Antibody:"REGN10987",reference_site:339,Escape:.002078,wildtype:"G",mutant:"R"},{Antibody:"REGN10987",reference_site:339,Escape:.002074,wildtype:"G",mutant:"S"},{Antibody:"REGN10987",reference_site:339,Escape:.002083,wildtype:"G",mutant:"T"},{Antibody:"REGN10987",reference_site:339,Escape:.002081,wildtype:"G",mutant:"V"},{Antibody:"REGN10987",reference_site:339,Escape:.002078,wildtype:"G",mutant:"W"},{Antibody:"REGN10987",reference_site:339,Escape:.002071,wildtype:"G",mutant:"Y"},{Antibody:"REGN10987",reference_site:340,Escape:.002075,wildtype:"E",mutant:"A"},{Antibody:"REGN10987",reference_site:340,Escape:.00208,wildtype:"E",mutant:"D"},{Antibody:"REGN10987",reference_site:340,Escape:.004805,wildtype:"E",mutant:"G"},{Antibody:"REGN10987",reference_site:340,Escape:.002076,wildtype:"E",mutant:"K"},{Antibody:"REGN10987",reference_site:340,Escape:.002075,wildtype:"E",mutant:"L"},{Antibody:"REGN10987",reference_site:340,Escape:.009197,wildtype:"E",mutant:"M"},{Antibody:"REGN10987",reference_site:340,Escape:.002076,wildtype:"E",mutant:"N"},{Antibody:"REGN10987",reference_site:340,Escape:.002082,wildtype:"E",mutant:"P"},{Antibody:"REGN10987",reference_site:340,Escape:.002076,wildtype:"E",mutant:"Q"},{Antibody:"REGN10987",reference_site:340,Escape:.002083,wildtype:"E",mutant:"S"},{Antibody:"REGN10987",reference_site:340,Escape:.002075,wildtype:"E",mutant:"T"},{Antibody:"REGN10987",reference_site:341,Escape:.002075,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:341,Escape:.002081,wildtype:"V",mutant:"L"},{Antibody:"REGN10987",reference_site:342,Escape:.002078,wildtype:"F",mutant:"I"},{Antibody:"REGN10987",reference_site:342,Escape:.00208,wildtype:"F",mutant:"L"},{Antibody:"REGN10987",reference_site:342,Escape:.002076,wildtype:"F",mutant:"M"},{Antibody:"REGN10987",reference_site:344,Escape:.00208,wildtype:"A",mutant:"E"},{Antibody:"REGN10987",reference_site:344,Escape:.002081,wildtype:"A",mutant:"K"},{Antibody:"REGN10987",reference_site:344,Escape:.002074,wildtype:"A",mutant:"N"},{Antibody:"REGN10987",reference_site:344,Escape:.002076,wildtype:"A",mutant:"Q"},{Antibody:"REGN10987",reference_site:344,Escape:.002078,wildtype:"A",mutant:"R"},{Antibody:"REGN10987",reference_site:344,Escape:.002075,wildtype:"A",mutant:"S"},{Antibody:"REGN10987",reference_site:345,Escape:.002076,wildtype:"T",mutant:"A"},{Antibody:"REGN10987",reference_site:345,Escape:.002077,wildtype:"T",mutant:"D"},{Antibody:"REGN10987",reference_site:345,Escape:.002076,wildtype:"T",mutant:"E"},{Antibody:"REGN10987",reference_site:345,Escape:.002075,wildtype:"T",mutant:"K"},{Antibody:"REGN10987",reference_site:345,Escape:.002076,wildtype:"T",mutant:"P"},{Antibody:"REGN10987",reference_site:345,Escape:.002076,wildtype:"T",mutant:"R"},{Antibody:"REGN10987",reference_site:345,Escape:.002069,wildtype:"T",mutant:"S"},{Antibody:"REGN10987",reference_site:346,Escape:.002076,wildtype:"R",mutant:"A"},{Antibody:"REGN10987",reference_site:346,Escape:.002076,wildtype:"R",mutant:"C"},{Antibody:"REGN10987",reference_site:346,Escape:.002075,wildtype:"R",mutant:"D"},{Antibody:"REGN10987",reference_site:346,Escape:.002075,wildtype:"R",mutant:"E"},{Antibody:"REGN10987",reference_site:346,Escape:.002076,wildtype:"R",mutant:"F"},{Antibody:"REGN10987",reference_site:346,Escape:.002074,wildtype:"R",mutant:"G"},{Antibody:"REGN10987",reference_site:346,Escape:.002078,wildtype:"R",mutant:"H"},{Antibody:"REGN10987",reference_site:346,Escape:.002076,wildtype:"R",mutant:"I"},{Antibody:"REGN10987",reference_site:346,Escape:.002074,wildtype:"R",mutant:"K"},{Antibody:"REGN10987",reference_site:346,Escape:.002078,wildtype:"R",mutant:"L"},{Antibody:"REGN10987",reference_site:346,Escape:.002071,wildtype:"R",mutant:"M"},{Antibody:"REGN10987",reference_site:346,Escape:.002075,wildtype:"R",mutant:"N"},{Antibody:"REGN10987",reference_site:346,Escape:.002077,wildtype:"R",mutant:"Q"},{Antibody:"REGN10987",reference_site:346,Escape:.002075,wildtype:"R",mutant:"S"},{Antibody:"REGN10987",reference_site:346,Escape:.002076,wildtype:"R",mutant:"T"},{Antibody:"REGN10987",reference_site:346,Escape:.002077,wildtype:"R",mutant:"V"},{Antibody:"REGN10987",reference_site:346,Escape:.002075,wildtype:"R",mutant:"W"},{Antibody:"REGN10987",reference_site:346,Escape:.002075,wildtype:"R",mutant:"Y"},{Antibody:"REGN10987",reference_site:347,Escape:.002076,wildtype:"F",mutant:"W"},{Antibody:"REGN10987",reference_site:348,Escape:.002076,wildtype:"A",mutant:"D"},{Antibody:"REGN10987",reference_site:348,Escape:.002075,wildtype:"A",mutant:"E"},{Antibody:"REGN10987",reference_site:348,Escape:.002076,wildtype:"A",mutant:"G"},{Antibody:"REGN10987",reference_site:348,Escape:.002075,wildtype:"A",mutant:"H"},{Antibody:"REGN10987",reference_site:348,Escape:.002076,wildtype:"A",mutant:"K"},{Antibody:"REGN10987",reference_site:348,Escape:.002077,wildtype:"A",mutant:"N"},{Antibody:"REGN10987",reference_site:348,Escape:.002077,wildtype:"A",mutant:"P"},{Antibody:"REGN10987",reference_site:348,Escape:.002076,wildtype:"A",mutant:"Q"},{Antibody:"REGN10987",reference_site:348,Escape:.002075,wildtype:"A",mutant:"S"},{Antibody:"REGN10987",reference_site:348,Escape:.002076,wildtype:"A",mutant:"Y"},{Antibody:"REGN10987",reference_site:349,Escape:.003053,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:349,Escape:.002083,wildtype:"S",mutant:"P"},{Antibody:"REGN10987",reference_site:351,Escape:.002076,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:351,Escape:.002076,wildtype:"Y",mutant:"H"},{Antibody:"REGN10987",reference_site:351,Escape:.002076,wildtype:"Y",mutant:"W"},{Antibody:"REGN10987",reference_site:352,Escape:.002076,wildtype:"A",mutant:"D"},{Antibody:"REGN10987",reference_site:352,Escape:.002075,wildtype:"A",mutant:"E"},{Antibody:"REGN10987",reference_site:352,Escape:.002076,wildtype:"A",mutant:"G"},{Antibody:"REGN10987",reference_site:352,Escape:.002071,wildtype:"A",mutant:"H"},{Antibody:"REGN10987",reference_site:352,Escape:.002075,wildtype:"A",mutant:"K"},{Antibody:"REGN10987",reference_site:352,Escape:.002076,wildtype:"A",mutant:"M"},{Antibody:"REGN10987",reference_site:352,Escape:.002075,wildtype:"A",mutant:"N"},{Antibody:"REGN10987",reference_site:352,Escape:.002593,wildtype:"A",mutant:"Q"},{Antibody:"REGN10987",reference_site:352,Escape:.002075,wildtype:"A",mutant:"R"},{Antibody:"REGN10987",reference_site:352,Escape:.002076,wildtype:"A",mutant:"S"},{Antibody:"REGN10987",reference_site:352,Escape:.002076,wildtype:"A",mutant:"Y"},{Antibody:"REGN10987",reference_site:353,Escape:.002077,wildtype:"W",mutant:"F"},{Antibody:"REGN10987",reference_site:354,Escape:.002076,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:354,Escape:.002076,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:354,Escape:.002076,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:354,Escape:.002077,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:354,Escape:.002077,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:354,Escape:.00208,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:354,Escape:.002076,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:354,Escape:.002075,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:354,Escape:.002076,wildtype:"N",mutant:"V"},{Antibody:"REGN10987",reference_site:356,Escape:.002076,wildtype:"K",mutant:"A"},{Antibody:"REGN10987",reference_site:356,Escape:.00208,wildtype:"K",mutant:"E"},{Antibody:"REGN10987",reference_site:356,Escape:.002076,wildtype:"K",mutant:"H"},{Antibody:"REGN10987",reference_site:356,Escape:.002076,wildtype:"K",mutant:"I"},{Antibody:"REGN10987",reference_site:356,Escape:.002076,wildtype:"K",mutant:"L"},{Antibody:"REGN10987",reference_site:356,Escape:.002075,wildtype:"K",mutant:"M"},{Antibody:"REGN10987",reference_site:356,Escape:.002594,wildtype:"K",mutant:"N"},{Antibody:"REGN10987",reference_site:356,Escape:.002076,wildtype:"K",mutant:"Q"},{Antibody:"REGN10987",reference_site:356,Escape:.002076,wildtype:"K",mutant:"R"},{Antibody:"REGN10987",reference_site:356,Escape:.002078,wildtype:"K",mutant:"S"},{Antibody:"REGN10987",reference_site:356,Escape:.002076,wildtype:"K",mutant:"T"},{Antibody:"REGN10987",reference_site:356,Escape:.008098,wildtype:"K",mutant:"V"},{Antibody:"REGN10987",reference_site:356,Escape:.002076,wildtype:"K",mutant:"Y"},{Antibody:"REGN10987",reference_site:357,Escape:.002076,wildtype:"R",mutant:"A"},{Antibody:"REGN10987",reference_site:357,Escape:.002076,wildtype:"R",mutant:"C"},{Antibody:"REGN10987",reference_site:357,Escape:.002076,wildtype:"R",mutant:"D"},{Antibody:"REGN10987",reference_site:357,Escape:.002079,wildtype:"R",mutant:"E"},{Antibody:"REGN10987",reference_site:357,Escape:.002076,wildtype:"R",mutant:"H"},{Antibody:"REGN10987",reference_site:357,Escape:.002069,wildtype:"R",mutant:"I"},{Antibody:"REGN10987",reference_site:357,Escape:.00207,wildtype:"R",mutant:"K"},{Antibody:"REGN10987",reference_site:357,Escape:.002073,wildtype:"R",mutant:"L"},{Antibody:"REGN10987",reference_site:357,Escape:.002077,wildtype:"R",mutant:"M"},{Antibody:"REGN10987",reference_site:357,Escape:.00156,wildtype:"R",mutant:"N"},{Antibody:"REGN10987",reference_site:357,Escape:.002078,wildtype:"R",mutant:"P"},{Antibody:"REGN10987",reference_site:357,Escape:.002074,wildtype:"R",mutant:"Q"},{Antibody:"REGN10987",reference_site:357,Escape:.002081,wildtype:"R",mutant:"S"},{Antibody:"REGN10987",reference_site:357,Escape:.002074,wildtype:"R",mutant:"T"},{Antibody:"REGN10987",reference_site:357,Escape:.002075,wildtype:"R",mutant:"V"},{Antibody:"REGN10987",reference_site:357,Escape:.002077,wildtype:"R",mutant:"W"},{Antibody:"REGN10987",reference_site:357,Escape:.002076,wildtype:"R",mutant:"Y"},{Antibody:"REGN10987",reference_site:358,Escape:.002082,wildtype:"I",mutant:"C"},{Antibody:"REGN10987",reference_site:358,Escape:.002075,wildtype:"I",mutant:"F"},{Antibody:"REGN10987",reference_site:358,Escape:.002073,wildtype:"I",mutant:"L"},{Antibody:"REGN10987",reference_site:358,Escape:.002075,wildtype:"I",mutant:"M"},{Antibody:"REGN10987",reference_site:358,Escape:.002075,wildtype:"I",mutant:"V"},{Antibody:"REGN10987",reference_site:358,Escape:.00208,wildtype:"I",mutant:"W"},{Antibody:"REGN10987",reference_site:358,Escape:.002075,wildtype:"I",mutant:"Y"},{Antibody:"REGN10987",reference_site:359,Escape:.002075,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:359,Escape:.00207,wildtype:"S",mutant:"C"},{Antibody:"REGN10987",reference_site:359,Escape:.002076,wildtype:"S",mutant:"D"},{Antibody:"REGN10987",reference_site:359,Escape:.002076,wildtype:"S",mutant:"E"},{Antibody:"REGN10987",reference_site:359,Escape:.002075,wildtype:"S",mutant:"F"},{Antibody:"REGN10987",reference_site:359,Escape:.002079,wildtype:"S",mutant:"G"},{Antibody:"REGN10987",reference_site:359,Escape:.002075,wildtype:"S",mutant:"H"},{Antibody:"REGN10987",reference_site:359,Escape:.002082,wildtype:"S",mutant:"I"},{Antibody:"REGN10987",reference_site:359,Escape:.002077,wildtype:"S",mutant:"K"},{Antibody:"REGN10987",reference_site:359,Escape:.002079,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:359,Escape:.002076,wildtype:"S",mutant:"P"},{Antibody:"REGN10987",reference_site:359,Escape:.002075,wildtype:"S",mutant:"Q"},{Antibody:"REGN10987",reference_site:359,Escape:.002075,wildtype:"S",mutant:"R"},{Antibody:"REGN10987",reference_site:359,Escape:.002075,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:359,Escape:.06753,wildtype:"S",mutant:"V"},{Antibody:"REGN10987",reference_site:359,Escape:.002076,wildtype:"S",mutant:"W"},{Antibody:"REGN10987",reference_site:359,Escape:.00156,wildtype:"S",mutant:"Y"},{Antibody:"REGN10987",reference_site:360,Escape:.00156,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:360,Escape:.002076,wildtype:"N",mutant:"E"},{Antibody:"REGN10987",reference_site:360,Escape:.002073,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:360,Escape:.002076,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:360,Escape:.002079,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:360,Escape:.002076,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:361,Escape:.002605,wildtype:"C",mutant:"E"},{Antibody:"REGN10987",reference_site:361,Escape:.0308,wildtype:"C",mutant:"N"},{Antibody:"REGN10987",reference_site:361,Escape:.01021,wildtype:"C",mutant:"P"},{Antibody:"REGN10987",reference_site:362,Escape:.002075,wildtype:"V",mutant:"A"},{Antibody:"REGN10987",reference_site:362,Escape:.002075,wildtype:"V",mutant:"C"},{Antibody:"REGN10987",reference_site:362,Escape:.002076,wildtype:"V",mutant:"D"},{Antibody:"REGN10987",reference_site:362,Escape:.00207,wildtype:"V",mutant:"E"},{Antibody:"REGN10987",reference_site:362,Escape:.002075,wildtype:"V",mutant:"F"},{Antibody:"REGN10987",reference_site:362,Escape:.002066,wildtype:"V",mutant:"G"},{Antibody:"REGN10987",reference_site:362,Escape:.002078,wildtype:"V",mutant:"H"},{Antibody:"REGN10987",reference_site:362,Escape:.002077,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:362,Escape:.002076,wildtype:"V",mutant:"K"},{Antibody:"REGN10987",reference_site:362,Escape:.002077,wildtype:"V",mutant:"L"},{Antibody:"REGN10987",reference_site:362,Escape:.002073,wildtype:"V",mutant:"M"},{Antibody:"REGN10987",reference_site:362,Escape:.002075,wildtype:"V",mutant:"N"},{Antibody:"REGN10987",reference_site:362,Escape:.002075,wildtype:"V",mutant:"Q"},{Antibody:"REGN10987",reference_site:362,Escape:.002075,wildtype:"V",mutant:"R"},{Antibody:"REGN10987",reference_site:362,Escape:.002082,wildtype:"V",mutant:"S"},{Antibody:"REGN10987",reference_site:362,Escape:.002078,wildtype:"V",mutant:"T"},{Antibody:"REGN10987",reference_site:362,Escape:.002075,wildtype:"V",mutant:"W"},{Antibody:"REGN10987",reference_site:362,Escape:.002075,wildtype:"V",mutant:"Y"},{Antibody:"REGN10987",reference_site:363,Escape:.002081,wildtype:"A",mutant:"C"},{Antibody:"REGN10987",reference_site:363,Escape:.00207,wildtype:"A",mutant:"F"},{Antibody:"REGN10987",reference_site:363,Escape:.002075,wildtype:"A",mutant:"G"},{Antibody:"REGN10987",reference_site:363,Escape:.002077,wildtype:"A",mutant:"H"},{Antibody:"REGN10987",reference_site:363,Escape:.002076,wildtype:"A",mutant:"I"},{Antibody:"REGN10987",reference_site:363,Escape:.002076,wildtype:"A",mutant:"L"},{Antibody:"REGN10987",reference_site:363,Escape:.002077,wildtype:"A",mutant:"M"},{Antibody:"REGN10987",reference_site:363,Escape:.002076,wildtype:"A",mutant:"P"},{Antibody:"REGN10987",reference_site:363,Escape:.00208,wildtype:"A",mutant:"Q"},{Antibody:"REGN10987",reference_site:363,Escape:.002073,wildtype:"A",mutant:"S"},{Antibody:"REGN10987",reference_site:363,Escape:.002076,wildtype:"A",mutant:"T"},{Antibody:"REGN10987",reference_site:363,Escape:.002076,wildtype:"A",mutant:"V"},{Antibody:"REGN10987",reference_site:363,Escape:.002075,wildtype:"A",mutant:"W"},{Antibody:"REGN10987",reference_site:363,Escape:.002074,wildtype:"A",mutant:"Y"},{Antibody:"REGN10987",reference_site:365,Escape:.002081,wildtype:"Y",mutant:"A"},{Antibody:"REGN10987",reference_site:365,Escape:.04884,wildtype:"Y",mutant:"C"},{Antibody:"REGN10987",reference_site:365,Escape:.002073,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:365,Escape:.0207,wildtype:"Y",mutant:"G"},{Antibody:"REGN10987",reference_site:365,Escape:.002078,wildtype:"Y",mutant:"I"},{Antibody:"REGN10987",reference_site:365,Escape:.002078,wildtype:"Y",mutant:"L"},{Antibody:"REGN10987",reference_site:365,Escape:.002077,wildtype:"Y",mutant:"M"},{Antibody:"REGN10987",reference_site:365,Escape:.01349,wildtype:"Y",mutant:"P"},{Antibody:"REGN10987",reference_site:365,Escape:.002077,wildtype:"Y",mutant:"T"},{Antibody:"REGN10987",reference_site:365,Escape:.002076,wildtype:"Y",mutant:"V"},{Antibody:"REGN10987",reference_site:365,Escape:.002078,wildtype:"Y",mutant:"W"},{Antibody:"REGN10987",reference_site:366,Escape:.002081,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:366,Escape:.002075,wildtype:"S",mutant:"D"},{Antibody:"REGN10987",reference_site:366,Escape:.002075,wildtype:"S",mutant:"E"},{Antibody:"REGN10987",reference_site:366,Escape:.002077,wildtype:"S",mutant:"F"},{Antibody:"REGN10987",reference_site:366,Escape:.002076,wildtype:"S",mutant:"G"},{Antibody:"REGN10987",reference_site:366,Escape:.00156,wildtype:"S",mutant:"H"},{Antibody:"REGN10987",reference_site:366,Escape:.01129,wildtype:"S",mutant:"I"},{Antibody:"REGN10987",reference_site:366,Escape:.002076,wildtype:"S",mutant:"K"},{Antibody:"REGN10987",reference_site:366,Escape:.002082,wildtype:"S",mutant:"L"},{Antibody:"REGN10987",reference_site:366,Escape:.002083,wildtype:"S",mutant:"M"},{Antibody:"REGN10987",reference_site:366,Escape:.002076,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:366,Escape:.08959,wildtype:"S",mutant:"P"},{Antibody:"REGN10987",reference_site:366,Escape:.002075,wildtype:"S",mutant:"Q"},{Antibody:"REGN10987",reference_site:366,Escape:.002077,wildtype:"S",mutant:"R"},{Antibody:"REGN10987",reference_site:366,Escape:.002078,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:366,Escape:.002079,wildtype:"S",mutant:"V"},{Antibody:"REGN10987",reference_site:366,Escape:.002068,wildtype:"S",mutant:"W"},{Antibody:"REGN10987",reference_site:367,Escape:.002076,wildtype:"V",mutant:"A"},{Antibody:"REGN10987",reference_site:367,Escape:.002079,wildtype:"V",mutant:"C"},{Antibody:"REGN10987",reference_site:367,Escape:.002077,wildtype:"V",mutant:"D"},{Antibody:"REGN10987",reference_site:367,Escape:.002075,wildtype:"V",mutant:"E"},{Antibody:"REGN10987",reference_site:367,Escape:.002074,wildtype:"V",mutant:"F"},{Antibody:"REGN10987",reference_site:367,Escape:.002082,wildtype:"V",mutant:"G"},{Antibody:"REGN10987",reference_site:367,Escape:.002075,wildtype:"V",mutant:"H"},{Antibody:"REGN10987",reference_site:367,Escape:.002077,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:367,Escape:.002076,wildtype:"V",mutant:"K"},{Antibody:"REGN10987",reference_site:367,Escape:.00208,wildtype:"V",mutant:"L"},{Antibody:"REGN10987",reference_site:367,Escape:.002073,wildtype:"V",mutant:"M"},{Antibody:"REGN10987",reference_site:367,Escape:.002076,wildtype:"V",mutant:"N"},{Antibody:"REGN10987",reference_site:367,Escape:.002077,wildtype:"V",mutant:"P"},{Antibody:"REGN10987",reference_site:367,Escape:.002077,wildtype:"V",mutant:"Q"},{Antibody:"REGN10987",reference_site:367,Escape:.009078,wildtype:"V",mutant:"R"},{Antibody:"REGN10987",reference_site:367,Escape:.002074,wildtype:"V",mutant:"S"},{Antibody:"REGN10987",reference_site:367,Escape:.002076,wildtype:"V",mutant:"T"},{Antibody:"REGN10987",reference_site:367,Escape:.002073,wildtype:"V",mutant:"W"},{Antibody:"REGN10987",reference_site:367,Escape:.002082,wildtype:"V",mutant:"Y"},{Antibody:"REGN10987",reference_site:368,Escape:.00208,wildtype:"L",mutant:"F"},{Antibody:"REGN10987",reference_site:368,Escape:.002078,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:368,Escape:.002076,wildtype:"L",mutant:"M"},{Antibody:"REGN10987",reference_site:368,Escape:.01982,wildtype:"L",mutant:"V"},{Antibody:"REGN10987",reference_site:369,Escape:.002077,wildtype:"Y",mutant:"A"},{Antibody:"REGN10987",reference_site:369,Escape:.002076,wildtype:"Y",mutant:"C"},{Antibody:"REGN10987",reference_site:369,Escape:.02615,wildtype:"Y",mutant:"D"},{Antibody:"REGN10987",reference_site:369,Escape:.002082,wildtype:"Y",mutant:"E"},{Antibody:"REGN10987",reference_site:369,Escape:.002073,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:369,Escape:.004131,wildtype:"Y",mutant:"G"},{Antibody:"REGN10987",reference_site:369,Escape:.00208,wildtype:"Y",mutant:"H"},{Antibody:"REGN10987",reference_site:369,Escape:.002076,wildtype:"Y",mutant:"I"},{Antibody:"REGN10987",reference_site:369,Escape:.002076,wildtype:"Y",mutant:"K"},{Antibody:"REGN10987",reference_site:369,Escape:.002075,wildtype:"Y",mutant:"L"},{Antibody:"REGN10987",reference_site:369,Escape:.002076,wildtype:"Y",mutant:"M"},{Antibody:"REGN10987",reference_site:369,Escape:.00208,wildtype:"Y",mutant:"N"},{Antibody:"REGN10987",reference_site:369,Escape:.02523,wildtype:"Y",mutant:"P"},{Antibody:"REGN10987",reference_site:369,Escape:.005289,wildtype:"Y",mutant:"Q"},{Antibody:"REGN10987",reference_site:369,Escape:.002075,wildtype:"Y",mutant:"R"},{Antibody:"REGN10987",reference_site:369,Escape:.002082,wildtype:"Y",mutant:"S"},{Antibody:"REGN10987",reference_site:369,Escape:.002071,wildtype:"Y",mutant:"T"},{Antibody:"REGN10987",reference_site:369,Escape:.002074,wildtype:"Y",mutant:"V"},{Antibody:"REGN10987",reference_site:369,Escape:.002076,wildtype:"Y",mutant:"W"},{Antibody:"REGN10987",reference_site:370,Escape:.002075,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:370,Escape:.00208,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:370,Escape:.002075,wildtype:"N",mutant:"E"},{Antibody:"REGN10987",reference_site:370,Escape:.002076,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:370,Escape:.005217,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:370,Escape:.002073,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:370,Escape:.002074,wildtype:"N",mutant:"L"},{Antibody:"REGN10987",reference_site:370,Escape:.002075,wildtype:"N",mutant:"M"},{Antibody:"REGN10987",reference_site:370,Escape:.002076,wildtype:"N",mutant:"P"},{Antibody:"REGN10987",reference_site:370,Escape:.002076,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:370,Escape:.002075,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:370,Escape:.002073,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:370,Escape:.002076,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:370,Escape:.002075,wildtype:"N",mutant:"Y"},{Antibody:"REGN10987",reference_site:371,Escape:.002075,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:371,Escape:.002075,wildtype:"S",mutant:"C"},{Antibody:"REGN10987",reference_site:371,Escape:.002082,wildtype:"S",mutant:"D"},{Antibody:"REGN10987",reference_site:371,Escape:.002075,wildtype:"S",mutant:"E"},{Antibody:"REGN10987",reference_site:371,Escape:.002082,wildtype:"S",mutant:"F"},{Antibody:"REGN10987",reference_site:371,Escape:.002078,wildtype:"S",mutant:"G"},{Antibody:"REGN10987",reference_site:371,Escape:.00207,wildtype:"S",mutant:"H"},{Antibody:"REGN10987",reference_site:371,Escape:.002079,wildtype:"S",mutant:"I"},{Antibody:"REGN10987",reference_site:371,Escape:.002078,wildtype:"S",mutant:"K"},{Antibody:"REGN10987",reference_site:371,Escape:.00208,wildtype:"S",mutant:"L"},{Antibody:"REGN10987",reference_site:371,Escape:.002077,wildtype:"S",mutant:"M"},{Antibody:"REGN10987",reference_site:371,Escape:.4977,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:371,Escape:.002077,wildtype:"S",mutant:"P"},{Antibody:"REGN10987",reference_site:371,Escape:.002075,wildtype:"S",mutant:"Q"},{Antibody:"REGN10987",reference_site:371,Escape:.00208,wildtype:"S",mutant:"R"},{Antibody:"REGN10987",reference_site:371,Escape:.002077,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:371,Escape:.002072,wildtype:"S",mutant:"V"},{Antibody:"REGN10987",reference_site:371,Escape:.002075,wildtype:"S",mutant:"W"},{Antibody:"REGN10987",reference_site:371,Escape:.00828,wildtype:"S",mutant:"Y"},{Antibody:"REGN10987",reference_site:372,Escape:.002078,wildtype:"A",mutant:"D"},{Antibody:"REGN10987",reference_site:372,Escape:.002075,wildtype:"A",mutant:"E"},{Antibody:"REGN10987",reference_site:372,Escape:.002074,wildtype:"A",mutant:"F"},{Antibody:"REGN10987",reference_site:372,Escape:.002075,wildtype:"A",mutant:"G"},{Antibody:"REGN10987",reference_site:372,Escape:.002074,wildtype:"A",mutant:"H"},{Antibody:"REGN10987",reference_site:372,Escape:.002075,wildtype:"A",mutant:"I"},{Antibody:"REGN10987",reference_site:372,Escape:.002076,wildtype:"A",mutant:"K"},{Antibody:"REGN10987",reference_site:372,Escape:.002074,wildtype:"A",mutant:"L"},{Antibody:"REGN10987",reference_site:372,Escape:.002076,wildtype:"A",mutant:"M"},{Antibody:"REGN10987",reference_site:372,Escape:.002075,wildtype:"A",mutant:"N"},{Antibody:"REGN10987",reference_site:372,Escape:.002076,wildtype:"A",mutant:"P"},{Antibody:"REGN10987",reference_site:372,Escape:.002075,wildtype:"A",mutant:"Q"},{Antibody:"REGN10987",reference_site:372,Escape:.002078,wildtype:"A",mutant:"R"},{Antibody:"REGN10987",reference_site:372,Escape:.002076,wildtype:"A",mutant:"S"},{Antibody:"REGN10987",reference_site:372,Escape:.002076,wildtype:"A",mutant:"T"},{Antibody:"REGN10987",reference_site:372,Escape:.002076,wildtype:"A",mutant:"V"},{Antibody:"REGN10987",reference_site:372,Escape:.002076,wildtype:"A",mutant:"W"},{Antibody:"REGN10987",reference_site:372,Escape:.002075,wildtype:"A",mutant:"Y"},{Antibody:"REGN10987",reference_site:373,Escape:.002074,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:373,Escape:.002077,wildtype:"S",mutant:"C"},{Antibody:"REGN10987",reference_site:373,Escape:.002076,wildtype:"S",mutant:"D"},{Antibody:"REGN10987",reference_site:373,Escape:.002075,wildtype:"S",mutant:"E"},{Antibody:"REGN10987",reference_site:373,Escape:.002077,wildtype:"S",mutant:"F"},{Antibody:"REGN10987",reference_site:373,Escape:.01196,wildtype:"S",mutant:"G"},{Antibody:"REGN10987",reference_site:373,Escape:.002075,wildtype:"S",mutant:"H"},{Antibody:"REGN10987",reference_site:373,Escape:.002075,wildtype:"S",mutant:"I"},{Antibody:"REGN10987",reference_site:373,Escape:.002071,wildtype:"S",mutant:"K"},{Antibody:"REGN10987",reference_site:373,Escape:.002076,wildtype:"S",mutant:"L"},{Antibody:"REGN10987",reference_site:373,Escape:.002078,wildtype:"S",mutant:"M"},{Antibody:"REGN10987",reference_site:373,Escape:.002075,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:373,Escape:.002075,wildtype:"S",mutant:"P"},{Antibody:"REGN10987",reference_site:373,Escape:.002076,wildtype:"S",mutant:"Q"},{Antibody:"REGN10987",reference_site:373,Escape:.002077,wildtype:"S",mutant:"R"},{Antibody:"REGN10987",reference_site:373,Escape:.00208,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:373,Escape:.002076,wildtype:"S",mutant:"V"},{Antibody:"REGN10987",reference_site:373,Escape:.002076,wildtype:"S",mutant:"W"},{Antibody:"REGN10987",reference_site:373,Escape:.002077,wildtype:"S",mutant:"Y"},{Antibody:"REGN10987",reference_site:374,Escape:.002078,wildtype:"F",mutant:"A"},{Antibody:"REGN10987",reference_site:374,Escape:.00726,wildtype:"F",mutant:"D"},{Antibody:"REGN10987",reference_site:374,Escape:.002076,wildtype:"F",mutant:"H"},{Antibody:"REGN10987",reference_site:374,Escape:.002077,wildtype:"F",mutant:"I"},{Antibody:"REGN10987",reference_site:374,Escape:.002079,wildtype:"F",mutant:"L"},{Antibody:"REGN10987",reference_site:374,Escape:.01368,wildtype:"F",mutant:"M"},{Antibody:"REGN10987",reference_site:374,Escape:.04411,wildtype:"F",mutant:"N"},{Antibody:"REGN10987",reference_site:374,Escape:.002076,wildtype:"F",mutant:"Q"},{Antibody:"REGN10987",reference_site:374,Escape:.007728,wildtype:"F",mutant:"T"},{Antibody:"REGN10987",reference_site:374,Escape:.002081,wildtype:"F",mutant:"V"},{Antibody:"REGN10987",reference_site:374,Escape:.002077,wildtype:"F",mutant:"W"},{Antibody:"REGN10987",reference_site:374,Escape:.002075,wildtype:"F",mutant:"Y"},{Antibody:"REGN10987",reference_site:375,Escape:.002078,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:375,Escape:.002075,wildtype:"S",mutant:"D"},{Antibody:"REGN10987",reference_site:375,Escape:.002072,wildtype:"S",mutant:"E"},{Antibody:"REGN10987",reference_site:375,Escape:.002076,wildtype:"S",mutant:"G"},{Antibody:"REGN10987",reference_site:375,Escape:.002075,wildtype:"S",mutant:"H"},{Antibody:"REGN10987",reference_site:375,Escape:.002076,wildtype:"S",mutant:"K"},{Antibody:"REGN10987",reference_site:375,Escape:.002067,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:375,Escape:.002077,wildtype:"S",mutant:"Q"},{Antibody:"REGN10987",reference_site:375,Escape:.002076,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:376,Escape:.002076,wildtype:"T",mutant:"C"},{Antibody:"REGN10987",reference_site:376,Escape:.002077,wildtype:"T",mutant:"D"},{Antibody:"REGN10987",reference_site:376,Escape:.002077,wildtype:"T",mutant:"F"},{Antibody:"REGN10987",reference_site:376,Escape:.002077,wildtype:"T",mutant:"H"},{Antibody:"REGN10987",reference_site:376,Escape:.002076,wildtype:"T",mutant:"I"},{Antibody:"REGN10987",reference_site:376,Escape:.002076,wildtype:"T",mutant:"K"},{Antibody:"REGN10987",reference_site:376,Escape:.002075,wildtype:"T",mutant:"L"},{Antibody:"REGN10987",reference_site:376,Escape:.002076,wildtype:"T",mutant:"M"},{Antibody:"REGN10987",reference_site:376,Escape:.002077,wildtype:"T",mutant:"N"},{Antibody:"REGN10987",reference_site:376,Escape:.002075,wildtype:"T",mutant:"S"},{Antibody:"REGN10987",reference_site:376,Escape:.002077,wildtype:"T",mutant:"V"},{Antibody:"REGN10987",reference_site:376,Escape:.00208,wildtype:"T",mutant:"Y"},{Antibody:"REGN10987",reference_site:377,Escape:.002076,wildtype:"F",mutant:"I"},{Antibody:"REGN10987",reference_site:377,Escape:.002076,wildtype:"F",mutant:"L"},{Antibody:"REGN10987",reference_site:377,Escape:.002078,wildtype:"F",mutant:"M"},{Antibody:"REGN10987",reference_site:377,Escape:.002081,wildtype:"F",mutant:"V"},{Antibody:"REGN10987",reference_site:377,Escape:.002082,wildtype:"F",mutant:"W"},{Antibody:"REGN10987",reference_site:378,Escape:.002074,wildtype:"K",mutant:"A"},{Antibody:"REGN10987",reference_site:378,Escape:.002595,wildtype:"K",mutant:"C"},{Antibody:"REGN10987",reference_site:378,Escape:.002075,wildtype:"K",mutant:"D"},{Antibody:"REGN10987",reference_site:378,Escape:.002077,wildtype:"K",mutant:"E"},{Antibody:"REGN10987",reference_site:378,Escape:.002076,wildtype:"K",mutant:"H"},{Antibody:"REGN10987",reference_site:378,Escape:.002074,wildtype:"K",mutant:"I"},{Antibody:"REGN10987",reference_site:378,Escape:.00207,wildtype:"K",mutant:"L"},{Antibody:"REGN10987",reference_site:378,Escape:.002076,wildtype:"K",mutant:"M"},{Antibody:"REGN10987",reference_site:378,Escape:.002081,wildtype:"K",mutant:"N"},{Antibody:"REGN10987",reference_site:378,Escape:.002074,wildtype:"K",mutant:"Q"},{Antibody:"REGN10987",reference_site:378,Escape:.002074,wildtype:"K",mutant:"R"},{Antibody:"REGN10987",reference_site:378,Escape:.002071,wildtype:"K",mutant:"S"},{Antibody:"REGN10987",reference_site:378,Escape:.002075,wildtype:"K",mutant:"T"},{Antibody:"REGN10987",reference_site:378,Escape:.002075,wildtype:"K",mutant:"V"},{Antibody:"REGN10987",reference_site:380,Escape:.002075,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:380,Escape:.002076,wildtype:"Y",mutant:"W"},{Antibody:"REGN10987",reference_site:381,Escape:.002076,wildtype:"G",mutant:"H"},{Antibody:"REGN10987",reference_site:381,Escape:.002075,wildtype:"G",mutant:"K"},{Antibody:"REGN10987",reference_site:381,Escape:.002075,wildtype:"G",mutant:"N"},{Antibody:"REGN10987",reference_site:381,Escape:.002076,wildtype:"G",mutant:"Q"},{Antibody:"REGN10987",reference_site:381,Escape:.002074,wildtype:"G",mutant:"R"},{Antibody:"REGN10987",reference_site:381,Escape:.002079,wildtype:"G",mutant:"S"},{Antibody:"REGN10987",reference_site:382,Escape:.002079,wildtype:"V",mutant:"C"},{Antibody:"REGN10987",reference_site:382,Escape:.002071,wildtype:"V",mutant:"F"},{Antibody:"REGN10987",reference_site:382,Escape:.002076,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:382,Escape:.002075,wildtype:"V",mutant:"L"},{Antibody:"REGN10987",reference_site:382,Escape:.002075,wildtype:"V",mutant:"T"},{Antibody:"REGN10987",reference_site:382,Escape:.00208,wildtype:"V",mutant:"Y"},{Antibody:"REGN10987",reference_site:383,Escape:.002595,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:383,Escape:.002076,wildtype:"S",mutant:"C"},{Antibody:"REGN10987",reference_site:383,Escape:.002076,wildtype:"S",mutant:"D"},{Antibody:"REGN10987",reference_site:383,Escape:.002075,wildtype:"S",mutant:"E"},{Antibody:"REGN10987",reference_site:383,Escape:.002076,wildtype:"S",mutant:"H"},{Antibody:"REGN10987",reference_site:383,Escape:.002072,wildtype:"S",mutant:"I"},{Antibody:"REGN10987",reference_site:383,Escape:.002075,wildtype:"S",mutant:"K"},{Antibody:"REGN10987",reference_site:383,Escape:.002078,wildtype:"S",mutant:"L"},{Antibody:"REGN10987",reference_site:383,Escape:.002591,wildtype:"S",mutant:"M"},{Antibody:"REGN10987",reference_site:383,Escape:.002068,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:383,Escape:.002075,wildtype:"S",mutant:"P"},{Antibody:"REGN10987",reference_site:383,Escape:.002077,wildtype:"S",mutant:"Q"},{Antibody:"REGN10987",reference_site:383,Escape:.002077,wildtype:"S",mutant:"R"},{Antibody:"REGN10987",reference_site:383,Escape:.002075,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:383,Escape:.002075,wildtype:"S",mutant:"V"},{Antibody:"REGN10987",reference_site:383,Escape:.002083,wildtype:"S",mutant:"Y"},{Antibody:"REGN10987",reference_site:384,Escape:.002075,wildtype:"P",mutant:"A"},{Antibody:"REGN10987",reference_site:384,Escape:.002073,wildtype:"P",mutant:"E"},{Antibody:"REGN10987",reference_site:384,Escape:.002074,wildtype:"P",mutant:"F"},{Antibody:"REGN10987",reference_site:384,Escape:.002076,wildtype:"P",mutant:"G"},{Antibody:"REGN10987",reference_site:384,Escape:.00208,wildtype:"P",mutant:"H"},{Antibody:"REGN10987",reference_site:384,Escape:.002076,wildtype:"P",mutant:"I"},{Antibody:"REGN10987",reference_site:384,Escape:.002071,wildtype:"P",mutant:"K"},{Antibody:"REGN10987",reference_site:384,Escape:.002077,wildtype:"P",mutant:"L"},{Antibody:"REGN10987",reference_site:384,Escape:.002075,wildtype:"P",mutant:"M"},{Antibody:"REGN10987",reference_site:384,Escape:.002076,wildtype:"P",mutant:"N"},{Antibody:"REGN10987",reference_site:384,Escape:.002076,wildtype:"P",mutant:"Q"},{Antibody:"REGN10987",reference_site:384,Escape:.002075,wildtype:"P",mutant:"R"},{Antibody:"REGN10987",reference_site:384,Escape:.002075,wildtype:"P",mutant:"S"},{Antibody:"REGN10987",reference_site:384,Escape:.002075,wildtype:"P",mutant:"T"},{Antibody:"REGN10987",reference_site:384,Escape:.002075,wildtype:"P",mutant:"V"},{Antibody:"REGN10987",reference_site:384,Escape:.002076,wildtype:"P",mutant:"W"},{Antibody:"REGN10987",reference_site:384,Escape:.002076,wildtype:"P",mutant:"Y"},{Antibody:"REGN10987",reference_site:385,Escape:.002075,wildtype:"T",mutant:"A"},{Antibody:"REGN10987",reference_site:385,Escape:.002071,wildtype:"T",mutant:"C"},{Antibody:"REGN10987",reference_site:385,Escape:.002077,wildtype:"T",mutant:"D"},{Antibody:"REGN10987",reference_site:385,Escape:.002075,wildtype:"T",mutant:"E"},{Antibody:"REGN10987",reference_site:385,Escape:.002075,wildtype:"T",mutant:"F"},{Antibody:"REGN10987",reference_site:385,Escape:.002072,wildtype:"T",mutant:"G"},{Antibody:"REGN10987",reference_site:385,Escape:.002078,wildtype:"T",mutant:"H"},{Antibody:"REGN10987",reference_site:385,Escape:.002077,wildtype:"T",mutant:"I"},{Antibody:"REGN10987",reference_site:385,Escape:.002077,wildtype:"T",mutant:"K"},{Antibody:"REGN10987",reference_site:385,Escape:.002072,wildtype:"T",mutant:"L"},{Antibody:"REGN10987",reference_site:385,Escape:.002075,wildtype:"T",mutant:"M"},{Antibody:"REGN10987",reference_site:385,Escape:.002078,wildtype:"T",mutant:"N"},{Antibody:"REGN10987",reference_site:385,Escape:.002066,wildtype:"T",mutant:"P"},{Antibody:"REGN10987",reference_site:385,Escape:.002075,wildtype:"T",mutant:"Q"},{Antibody:"REGN10987",reference_site:385,Escape:.002075,wildtype:"T",mutant:"R"},{Antibody:"REGN10987",reference_site:385,Escape:.002075,wildtype:"T",mutant:"S"},{Antibody:"REGN10987",reference_site:385,Escape:.002077,wildtype:"T",mutant:"V"},{Antibody:"REGN10987",reference_site:385,Escape:.002073,wildtype:"T",mutant:"W"},{Antibody:"REGN10987",reference_site:385,Escape:.002073,wildtype:"T",mutant:"Y"},{Antibody:"REGN10987",reference_site:386,Escape:.002081,wildtype:"K",mutant:"A"},{Antibody:"REGN10987",reference_site:386,Escape:.002073,wildtype:"K",mutant:"C"},{Antibody:"REGN10987",reference_site:386,Escape:.002075,wildtype:"K",mutant:"D"},{Antibody:"REGN10987",reference_site:386,Escape:.002079,wildtype:"K",mutant:"E"},{Antibody:"REGN10987",reference_site:386,Escape:.002077,wildtype:"K",mutant:"G"},{Antibody:"REGN10987",reference_site:386,Escape:.002072,wildtype:"K",mutant:"H"},{Antibody:"REGN10987",reference_site:386,Escape:.002074,wildtype:"K",mutant:"I"},{Antibody:"REGN10987",reference_site:386,Escape:.002073,wildtype:"K",mutant:"L"},{Antibody:"REGN10987",reference_site:386,Escape:.002073,wildtype:"K",mutant:"M"},{Antibody:"REGN10987",reference_site:386,Escape:.002075,wildtype:"K",mutant:"N"},{Antibody:"REGN10987",reference_site:386,Escape:.002064,wildtype:"K",mutant:"Q"},{Antibody:"REGN10987",reference_site:386,Escape:.002076,wildtype:"K",mutant:"R"},{Antibody:"REGN10987",reference_site:386,Escape:.002078,wildtype:"K",mutant:"S"},{Antibody:"REGN10987",reference_site:386,Escape:.002067,wildtype:"K",mutant:"T"},{Antibody:"REGN10987",reference_site:386,Escape:.002076,wildtype:"K",mutant:"V"},{Antibody:"REGN10987",reference_site:386,Escape:.002075,wildtype:"K",mutant:"Y"},{Antibody:"REGN10987",reference_site:387,Escape:.002077,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:387,Escape:.002076,wildtype:"L",mutant:"M"},{Antibody:"REGN10987",reference_site:388,Escape:.002075,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:388,Escape:.002077,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:388,Escape:.002075,wildtype:"N",mutant:"E"},{Antibody:"REGN10987",reference_site:388,Escape:.002076,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:388,Escape:.00207,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:388,Escape:.002077,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:388,Escape:.002077,wildtype:"N",mutant:"L"},{Antibody:"REGN10987",reference_site:388,Escape:.002077,wildtype:"N",mutant:"M"},{Antibody:"REGN10987",reference_site:388,Escape:.002077,wildtype:"N",mutant:"P"},{Antibody:"REGN10987",reference_site:388,Escape:.002078,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:388,Escape:.002083,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:388,Escape:.002076,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:388,Escape:.002075,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:388,Escape:.002076,wildtype:"N",mutant:"V"},{Antibody:"REGN10987",reference_site:389,Escape:.002072,wildtype:"D",mutant:"A"},{Antibody:"REGN10987",reference_site:389,Escape:.002076,wildtype:"D",mutant:"C"},{Antibody:"REGN10987",reference_site:389,Escape:.002071,wildtype:"D",mutant:"E"},{Antibody:"REGN10987",reference_site:389,Escape:.002074,wildtype:"D",mutant:"F"},{Antibody:"REGN10987",reference_site:389,Escape:.00208,wildtype:"D",mutant:"G"},{Antibody:"REGN10987",reference_site:389,Escape:.002075,wildtype:"D",mutant:"H"},{Antibody:"REGN10987",reference_site:389,Escape:.002075,wildtype:"D",mutant:"K"},{Antibody:"REGN10987",reference_site:389,Escape:.002077,wildtype:"D",mutant:"L"},{Antibody:"REGN10987",reference_site:389,Escape:.002078,wildtype:"D",mutant:"M"},{Antibody:"REGN10987",reference_site:389,Escape:.002075,wildtype:"D",mutant:"N"},{Antibody:"REGN10987",reference_site:389,Escape:.002074,wildtype:"D",mutant:"Q"},{Antibody:"REGN10987",reference_site:389,Escape:.002079,wildtype:"D",mutant:"R"},{Antibody:"REGN10987",reference_site:389,Escape:.002074,wildtype:"D",mutant:"S"},{Antibody:"REGN10987",reference_site:389,Escape:.002078,wildtype:"D",mutant:"T"},{Antibody:"REGN10987",reference_site:389,Escape:.002076,wildtype:"D",mutant:"W"},{Antibody:"REGN10987",reference_site:389,Escape:.002079,wildtype:"D",mutant:"Y"},{Antibody:"REGN10987",reference_site:390,Escape:.002075,wildtype:"L",mutant:"A"},{Antibody:"REGN10987",reference_site:390,Escape:.002075,wildtype:"L",mutant:"C"},{Antibody:"REGN10987",reference_site:390,Escape:.002068,wildtype:"L",mutant:"D"},{Antibody:"REGN10987",reference_site:390,Escape:.002077,wildtype:"L",mutant:"E"},{Antibody:"REGN10987",reference_site:390,Escape:.002076,wildtype:"L",mutant:"F"},{Antibody:"REGN10987",reference_site:390,Escape:.002077,wildtype:"L",mutant:"G"},{Antibody:"REGN10987",reference_site:390,Escape:.002078,wildtype:"L",mutant:"H"},{Antibody:"REGN10987",reference_site:390,Escape:.002076,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:390,Escape:.002072,wildtype:"L",mutant:"K"},{Antibody:"REGN10987",reference_site:390,Escape:.002074,wildtype:"L",mutant:"M"},{Antibody:"REGN10987",reference_site:390,Escape:.002075,wildtype:"L",mutant:"N"},{Antibody:"REGN10987",reference_site:390,Escape:.002075,wildtype:"L",mutant:"Q"},{Antibody:"REGN10987",reference_site:390,Escape:.002076,wildtype:"L",mutant:"R"},{Antibody:"REGN10987",reference_site:390,Escape:.002078,wildtype:"L",mutant:"S"},{Antibody:"REGN10987",reference_site:390,Escape:.002081,wildtype:"L",mutant:"T"},{Antibody:"REGN10987",reference_site:390,Escape:.002074,wildtype:"L",mutant:"V"},{Antibody:"REGN10987",reference_site:390,Escape:.002077,wildtype:"L",mutant:"W"},{Antibody:"REGN10987",reference_site:390,Escape:.002073,wildtype:"L",mutant:"Y"},{Antibody:"REGN10987",reference_site:391,Escape:.002079,wildtype:"C",mutant:"A"},{Antibody:"REGN10987",reference_site:391,Escape:.002076,wildtype:"C",mutant:"D"},{Antibody:"REGN10987",reference_site:391,Escape:.002077,wildtype:"C",mutant:"E"},{Antibody:"REGN10987",reference_site:391,Escape:.002079,wildtype:"C",mutant:"F"},{Antibody:"REGN10987",reference_site:391,Escape:.002074,wildtype:"C",mutant:"G"},{Antibody:"REGN10987",reference_site:391,Escape:.002081,wildtype:"C",mutant:"H"},{Antibody:"REGN10987",reference_site:391,Escape:.00207,wildtype:"C",mutant:"I"},{Antibody:"REGN10987",reference_site:391,Escape:.002079,wildtype:"C",mutant:"K"},{Antibody:"REGN10987",reference_site:391,Escape:.002081,wildtype:"C",mutant:"L"},{Antibody:"REGN10987",reference_site:391,Escape:.002076,wildtype:"C",mutant:"M"},{Antibody:"REGN10987",reference_site:391,Escape:.002081,wildtype:"C",mutant:"N"},{Antibody:"REGN10987",reference_site:391,Escape:.00208,wildtype:"C",mutant:"P"},{Antibody:"REGN10987",reference_site:391,Escape:.002075,wildtype:"C",mutant:"Q"},{Antibody:"REGN10987",reference_site:391,Escape:.002079,wildtype:"C",mutant:"R"},{Antibody:"REGN10987",reference_site:391,Escape:.002078,wildtype:"C",mutant:"S"},{Antibody:"REGN10987",reference_site:391,Escape:.002076,wildtype:"C",mutant:"T"},{Antibody:"REGN10987",reference_site:391,Escape:.002081,wildtype:"C",mutant:"V"},{Antibody:"REGN10987",reference_site:391,Escape:.002075,wildtype:"C",mutant:"W"},{Antibody:"REGN10987",reference_site:391,Escape:.002077,wildtype:"C",mutant:"Y"},{Antibody:"REGN10987",reference_site:392,Escape:.002074,wildtype:"F",mutant:"A"},{Antibody:"REGN10987",reference_site:392,Escape:.002079,wildtype:"F",mutant:"C"},{Antibody:"REGN10987",reference_site:392,Escape:.002076,wildtype:"F",mutant:"H"},{Antibody:"REGN10987",reference_site:392,Escape:.002075,wildtype:"F",mutant:"I"},{Antibody:"REGN10987",reference_site:392,Escape:.002074,wildtype:"F",mutant:"L"},{Antibody:"REGN10987",reference_site:392,Escape:.002076,wildtype:"F",mutant:"M"},{Antibody:"REGN10987",reference_site:392,Escape:.002076,wildtype:"F",mutant:"N"},{Antibody:"REGN10987",reference_site:392,Escape:.00208,wildtype:"F",mutant:"P"},{Antibody:"REGN10987",reference_site:392,Escape:.002075,wildtype:"F",mutant:"S"},{Antibody:"REGN10987",reference_site:392,Escape:.002076,wildtype:"F",mutant:"T"},{Antibody:"REGN10987",reference_site:392,Escape:.002075,wildtype:"F",mutant:"V"},{Antibody:"REGN10987",reference_site:392,Escape:.002077,wildtype:"F",mutant:"W"},{Antibody:"REGN10987",reference_site:392,Escape:.002071,wildtype:"F",mutant:"Y"},{Antibody:"REGN10987",reference_site:393,Escape:.002076,wildtype:"T",mutant:"A"},{Antibody:"REGN10987",reference_site:393,Escape:.002076,wildtype:"T",mutant:"C"},{Antibody:"REGN10987",reference_site:393,Escape:.002075,wildtype:"T",mutant:"D"},{Antibody:"REGN10987",reference_site:393,Escape:.002075,wildtype:"T",mutant:"E"},{Antibody:"REGN10987",reference_site:393,Escape:.002074,wildtype:"T",mutant:"G"},{Antibody:"REGN10987",reference_site:393,Escape:.002075,wildtype:"T",mutant:"H"},{Antibody:"REGN10987",reference_site:393,Escape:.002088,wildtype:"T",mutant:"I"},{Antibody:"REGN10987",reference_site:393,Escape:.002068,wildtype:"T",mutant:"K"},{Antibody:"REGN10987",reference_site:393,Escape:.004139,wildtype:"T",mutant:"L"},{Antibody:"REGN10987",reference_site:393,Escape:.002076,wildtype:"T",mutant:"M"},{Antibody:"REGN10987",reference_site:393,Escape:.002079,wildtype:"T",mutant:"N"},{Antibody:"REGN10987",reference_site:393,Escape:.002078,wildtype:"T",mutant:"Q"},{Antibody:"REGN10987",reference_site:393,Escape:.002078,wildtype:"T",mutant:"R"},{Antibody:"REGN10987",reference_site:393,Escape:.002079,wildtype:"T",mutant:"S"},{Antibody:"REGN10987",reference_site:393,Escape:.002079,wildtype:"T",mutant:"V"},{Antibody:"REGN10987",reference_site:393,Escape:.002075,wildtype:"T",mutant:"Y"},{Antibody:"REGN10987",reference_site:394,Escape:.002076,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:394,Escape:.002074,wildtype:"N",mutant:"C"},{Antibody:"REGN10987",reference_site:394,Escape:.002078,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:394,Escape:.002077,wildtype:"N",mutant:"E"},{Antibody:"REGN10987",reference_site:394,Escape:.002074,wildtype:"N",mutant:"F"},{Antibody:"REGN10987",reference_site:394,Escape:.002076,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:394,Escape:.002082,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:394,Escape:.002076,wildtype:"N",mutant:"I"},{Antibody:"REGN10987",reference_site:394,Escape:.002067,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:394,Escape:.002079,wildtype:"N",mutant:"L"},{Antibody:"REGN10987",reference_site:394,Escape:.002076,wildtype:"N",mutant:"M"},{Antibody:"REGN10987",reference_site:394,Escape:.002077,wildtype:"N",mutant:"P"},{Antibody:"REGN10987",reference_site:394,Escape:.002068,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:394,Escape:.002075,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:394,Escape:.002076,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:394,Escape:.002076,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:394,Escape:.004031,wildtype:"N",mutant:"V"},{Antibody:"REGN10987",reference_site:394,Escape:.002076,wildtype:"N",mutant:"W"},{Antibody:"REGN10987",reference_site:394,Escape:.00207,wildtype:"N",mutant:"Y"},{Antibody:"REGN10987",reference_site:395,Escape:.002076,wildtype:"V",mutant:"A"},{Antibody:"REGN10987",reference_site:395,Escape:.002076,wildtype:"V",mutant:"G"},{Antibody:"REGN10987",reference_site:395,Escape:.002075,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:395,Escape:.00208,wildtype:"V",mutant:"L"},{Antibody:"REGN10987",reference_site:395,Escape:.002076,wildtype:"V",mutant:"M"},{Antibody:"REGN10987",reference_site:396,Escape:.002076,wildtype:"Y",mutant:"C"},{Antibody:"REGN10987",reference_site:396,Escape:.002075,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:396,Escape:.002076,wildtype:"Y",mutant:"H"},{Antibody:"REGN10987",reference_site:396,Escape:.002075,wildtype:"Y",mutant:"I"},{Antibody:"REGN10987",reference_site:396,Escape:.002073,wildtype:"Y",mutant:"L"},{Antibody:"REGN10987",reference_site:396,Escape:.002074,wildtype:"Y",mutant:"M"},{Antibody:"REGN10987",reference_site:396,Escape:.002079,wildtype:"Y",mutant:"N"},{Antibody:"REGN10987",reference_site:396,Escape:.005415,wildtype:"Y",mutant:"S"},{Antibody:"REGN10987",reference_site:396,Escape:.002072,wildtype:"Y",mutant:"T"},{Antibody:"REGN10987",reference_site:396,Escape:.002076,wildtype:"Y",mutant:"V"},{Antibody:"REGN10987",reference_site:396,Escape:.002076,wildtype:"Y",mutant:"W"},{Antibody:"REGN10987",reference_site:397,Escape:.01264,wildtype:"A",mutant:"C"},{Antibody:"REGN10987",reference_site:397,Escape:.002077,wildtype:"A",mutant:"I"},{Antibody:"REGN10987",reference_site:397,Escape:.002075,wildtype:"A",mutant:"L"},{Antibody:"REGN10987",reference_site:397,Escape:.007232,wildtype:"A",mutant:"V"},{Antibody:"REGN10987",reference_site:399,Escape:.003026,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:401,Escape:.002076,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:402,Escape:.002082,wildtype:"I",mutant:"C"},{Antibody:"REGN10987",reference_site:402,Escape:.002076,wildtype:"I",mutant:"L"},{Antibody:"REGN10987",reference_site:402,Escape:.002075,wildtype:"I",mutant:"V"},{Antibody:"REGN10987",reference_site:403,Escape:.002075,wildtype:"R",mutant:"A"},{Antibody:"REGN10987",reference_site:403,Escape:.002075,wildtype:"R",mutant:"K"},{Antibody:"REGN10987",reference_site:403,Escape:.002076,wildtype:"R",mutant:"M"},{Antibody:"REGN10987",reference_site:403,Escape:.002083,wildtype:"R",mutant:"S"},{Antibody:"REGN10987",reference_site:403,Escape:.002074,wildtype:"R",mutant:"T"},{Antibody:"REGN10987",reference_site:404,Escape:.002076,wildtype:"G",mutant:"A"},{Antibody:"REGN10987",reference_site:404,Escape:.002075,wildtype:"G",mutant:"K"},{Antibody:"REGN10987",reference_site:405,Escape:.002076,wildtype:"D",mutant:"A"},{Antibody:"REGN10987",reference_site:405,Escape:.002076,wildtype:"D",mutant:"E"},{Antibody:"REGN10987",reference_site:405,Escape:.002075,wildtype:"D",mutant:"K"},{Antibody:"REGN10987",reference_site:405,Escape:.002074,wildtype:"D",mutant:"N"},{Antibody:"REGN10987",reference_site:405,Escape:.00156,wildtype:"D",mutant:"R"},{Antibody:"REGN10987",reference_site:405,Escape:.002073,wildtype:"D",mutant:"S"},{Antibody:"REGN10987",reference_site:406,Escape:.002076,wildtype:"E",mutant:"D"},{Antibody:"REGN10987",reference_site:406,Escape:.002075,wildtype:"E",mutant:"Q"},{Antibody:"REGN10987",reference_site:406,Escape:.1529,wildtype:"E",mutant:"W"},{Antibody:"REGN10987",reference_site:407,Escape:.002075,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:407,Escape:.002076,wildtype:"V",mutant:"L"},{Antibody:"REGN10987",reference_site:408,Escape:.002076,wildtype:"R",mutant:"A"},{Antibody:"REGN10987",reference_site:408,Escape:.002076,wildtype:"R",mutant:"C"},{Antibody:"REGN10987",reference_site:408,Escape:.002075,wildtype:"R",mutant:"E"},{Antibody:"REGN10987",reference_site:408,Escape:.002076,wildtype:"R",mutant:"F"},{Antibody:"REGN10987",reference_site:408,Escape:.002075,wildtype:"R",mutant:"G"},{Antibody:"REGN10987",reference_site:408,Escape:.00207,wildtype:"R",mutant:"H"},{Antibody:"REGN10987",reference_site:408,Escape:.002076,wildtype:"R",mutant:"K"},{Antibody:"REGN10987",reference_site:408,Escape:.002079,wildtype:"R",mutant:"L"},{Antibody:"REGN10987",reference_site:408,Escape:.002066,wildtype:"R",mutant:"P"},{Antibody:"REGN10987",reference_site:408,Escape:.002075,wildtype:"R",mutant:"S"},{Antibody:"REGN10987",reference_site:408,Escape:.002076,wildtype:"R",mutant:"T"},{Antibody:"REGN10987",reference_site:408,Escape:.002076,wildtype:"R",mutant:"V"},{Antibody:"REGN10987",reference_site:408,Escape:.002076,wildtype:"R",mutant:"W"},{Antibody:"REGN10987",reference_site:409,Escape:.002416,wildtype:"Q",mutant:"E"},{Antibody:"REGN10987",reference_site:410,Escape:.002492,wildtype:"I",mutant:"V"},{Antibody:"REGN10987",reference_site:411,Escape:.002075,wildtype:"A",mutant:"E"},{Antibody:"REGN10987",reference_site:411,Escape:.002077,wildtype:"A",mutant:"G"},{Antibody:"REGN10987",reference_site:411,Escape:.002073,wildtype:"A",mutant:"Q"},{Antibody:"REGN10987",reference_site:411,Escape:.002383,wildtype:"A",mutant:"R"},{Antibody:"REGN10987",reference_site:411,Escape:.002075,wildtype:"A",mutant:"S"},{Antibody:"REGN10987",reference_site:413,Escape:.002083,wildtype:"G",mutant:"A"},{Antibody:"REGN10987",reference_site:413,Escape:.002072,wildtype:"G",mutant:"C"},{Antibody:"REGN10987",reference_site:413,Escape:.002068,wildtype:"G",mutant:"F"},{Antibody:"REGN10987",reference_site:413,Escape:.002075,wildtype:"G",mutant:"H"},{Antibody:"REGN10987",reference_site:413,Escape:.002075,wildtype:"G",mutant:"K"},{Antibody:"REGN10987",reference_site:413,Escape:.002078,wildtype:"G",mutant:"L"},{Antibody:"REGN10987",reference_site:413,Escape:.002078,wildtype:"G",mutant:"M"},{Antibody:"REGN10987",reference_site:413,Escape:.002069,wildtype:"G",mutant:"N"},{Antibody:"REGN10987",reference_site:413,Escape:.002077,wildtype:"G",mutant:"Q"},{Antibody:"REGN10987",reference_site:413,Escape:.002071,wildtype:"G",mutant:"R"},{Antibody:"REGN10987",reference_site:413,Escape:.002245,wildtype:"G",mutant:"S"},{Antibody:"REGN10987",reference_site:413,Escape:.002076,wildtype:"G",mutant:"Y"},{Antibody:"REGN10987",reference_site:414,Escape:.002076,wildtype:"Q",mutant:"A"},{Antibody:"REGN10987",reference_site:414,Escape:.002076,wildtype:"Q",mutant:"C"},{Antibody:"REGN10987",reference_site:414,Escape:.002077,wildtype:"Q",mutant:"E"},{Antibody:"REGN10987",reference_site:414,Escape:.002075,wildtype:"Q",mutant:"G"},{Antibody:"REGN10987",reference_site:414,Escape:.002076,wildtype:"Q",mutant:"I"},{Antibody:"REGN10987",reference_site:414,Escape:.002076,wildtype:"Q",mutant:"K"},{Antibody:"REGN10987",reference_site:414,Escape:.002076,wildtype:"Q",mutant:"M"},{Antibody:"REGN10987",reference_site:414,Escape:.002083,wildtype:"Q",mutant:"R"},{Antibody:"REGN10987",reference_site:414,Escape:.002073,wildtype:"Q",mutant:"S"},{Antibody:"REGN10987",reference_site:414,Escape:.002075,wildtype:"Q",mutant:"T"},{Antibody:"REGN10987",reference_site:414,Escape:.00208,wildtype:"Q",mutant:"V"},{Antibody:"REGN10987",reference_site:415,Escape:.002075,wildtype:"T",mutant:"A"},{Antibody:"REGN10987",reference_site:415,Escape:.002075,wildtype:"T",mutant:"D"},{Antibody:"REGN10987",reference_site:415,Escape:.002068,wildtype:"T",mutant:"E"},{Antibody:"REGN10987",reference_site:415,Escape:.002076,wildtype:"T",mutant:"G"},{Antibody:"REGN10987",reference_site:415,Escape:.002072,wildtype:"T",mutant:"H"},{Antibody:"REGN10987",reference_site:415,Escape:.002076,wildtype:"T",mutant:"I"},{Antibody:"REGN10987",reference_site:415,Escape:.002924,wildtype:"T",mutant:"K"},{Antibody:"REGN10987",reference_site:415,Escape:.002079,wildtype:"T",mutant:"M"},{Antibody:"REGN10987",reference_site:415,Escape:.002071,wildtype:"T",mutant:"N"},{Antibody:"REGN10987",reference_site:415,Escape:.002075,wildtype:"T",mutant:"Q"},{Antibody:"REGN10987",reference_site:415,Escape:.002075,wildtype:"T",mutant:"R"},{Antibody:"REGN10987",reference_site:415,Escape:.002076,wildtype:"T",mutant:"S"},{Antibody:"REGN10987",reference_site:415,Escape:.002075,wildtype:"T",mutant:"V"},{Antibody:"REGN10987",reference_site:415,Escape:.002078,wildtype:"T",mutant:"Y"},{Antibody:"REGN10987",reference_site:417,Escape:.002075,wildtype:"K",mutant:"A"},{Antibody:"REGN10987",reference_site:417,Escape:.002076,wildtype:"K",mutant:"C"},{Antibody:"REGN10987",reference_site:417,Escape:.002075,wildtype:"K",mutant:"D"},{Antibody:"REGN10987",reference_site:417,Escape:.002079,wildtype:"K",mutant:"E"},{Antibody:"REGN10987",reference_site:417,Escape:.002075,wildtype:"K",mutant:"F"},{Antibody:"REGN10987",reference_site:417,Escape:.002079,wildtype:"K",mutant:"G"},{Antibody:"REGN10987",reference_site:417,Escape:.002078,wildtype:"K",mutant:"H"},{Antibody:"REGN10987",reference_site:417,Escape:.002078,wildtype:"K",mutant:"I"},{Antibody:"REGN10987",reference_site:417,Escape:.002074,wildtype:"K",mutant:"L"},{Antibody:"REGN10987",reference_site:417,Escape:.002074,wildtype:"K",mutant:"M"},{Antibody:"REGN10987",reference_site:417,Escape:.002069,wildtype:"K",mutant:"N"},{Antibody:"REGN10987",reference_site:417,Escape:.002075,wildtype:"K",mutant:"P"},{Antibody:"REGN10987",reference_site:417,Escape:.002074,wildtype:"K",mutant:"Q"},{Antibody:"REGN10987",reference_site:417,Escape:.002074,wildtype:"K",mutant:"R"},{Antibody:"REGN10987",reference_site:417,Escape:.002074,wildtype:"K",mutant:"S"},{Antibody:"REGN10987",reference_site:417,Escape:.002077,wildtype:"K",mutant:"T"},{Antibody:"REGN10987",reference_site:417,Escape:.002075,wildtype:"K",mutant:"V"},{Antibody:"REGN10987",reference_site:417,Escape:.002074,wildtype:"K",mutant:"W"},{Antibody:"REGN10987",reference_site:417,Escape:.002076,wildtype:"K",mutant:"Y"},{Antibody:"REGN10987",reference_site:418,Escape:.002076,wildtype:"I",mutant:"V"},{Antibody:"REGN10987",reference_site:419,Escape:.002076,wildtype:"A",mutant:"P"},{Antibody:"REGN10987",reference_site:419,Escape:.002078,wildtype:"A",mutant:"S"},{Antibody:"REGN10987",reference_site:420,Escape:.002076,wildtype:"D",mutant:"A"},{Antibody:"REGN10987",reference_site:420,Escape:.00208,wildtype:"D",mutant:"E"},{Antibody:"REGN10987",reference_site:420,Escape:.002075,wildtype:"D",mutant:"K"},{Antibody:"REGN10987",reference_site:420,Escape:.002072,wildtype:"D",mutant:"M"},{Antibody:"REGN10987",reference_site:420,Escape:.002075,wildtype:"D",mutant:"N"},{Antibody:"REGN10987",reference_site:420,Escape:.002079,wildtype:"D",mutant:"Q"},{Antibody:"REGN10987",reference_site:420,Escape:.002075,wildtype:"D",mutant:"R"},{Antibody:"REGN10987",reference_site:420,Escape:.002074,wildtype:"D",mutant:"S"},{Antibody:"REGN10987",reference_site:421,Escape:.002078,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:421,Escape:.002077,wildtype:"Y",mutant:"L"},{Antibody:"REGN10987",reference_site:421,Escape:.002076,wildtype:"Y",mutant:"M"},{Antibody:"REGN10987",reference_site:421,Escape:.002075,wildtype:"Y",mutant:"W"},{Antibody:"REGN10987",reference_site:424,Escape:.002075,wildtype:"K",mutant:"H"},{Antibody:"REGN10987",reference_site:424,Escape:.002071,wildtype:"K",mutant:"R"},{Antibody:"REGN10987",reference_site:425,Escape:.002076,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:425,Escape:.002079,wildtype:"L",mutant:"M"},{Antibody:"REGN10987",reference_site:425,Escape:.002079,wildtype:"L",mutant:"V"},{Antibody:"REGN10987",reference_site:427,Escape:.002073,wildtype:"D",mutant:"A"},{Antibody:"REGN10987",reference_site:427,Escape:.002074,wildtype:"D",mutant:"E"},{Antibody:"REGN10987",reference_site:427,Escape:.002075,wildtype:"D",mutant:"F"},{Antibody:"REGN10987",reference_site:427,Escape:.002076,wildtype:"D",mutant:"G"},{Antibody:"REGN10987",reference_site:427,Escape:.002075,wildtype:"D",mutant:"H"},{Antibody:"REGN10987",reference_site:427,Escape:.002079,wildtype:"D",mutant:"I"},{Antibody:"REGN10987",reference_site:427,Escape:.002079,wildtype:"D",mutant:"K"},{Antibody:"REGN10987",reference_site:427,Escape:.002078,wildtype:"D",mutant:"L"},{Antibody:"REGN10987",reference_site:427,Escape:.002073,wildtype:"D",mutant:"M"},{Antibody:"REGN10987",reference_site:427,Escape:.002075,wildtype:"D",mutant:"N"},{Antibody:"REGN10987",reference_site:427,Escape:.004508,wildtype:"D",mutant:"P"},{Antibody:"REGN10987",reference_site:427,Escape:.002075,wildtype:"D",mutant:"Q"},{Antibody:"REGN10987",reference_site:427,Escape:.002074,wildtype:"D",mutant:"R"},{Antibody:"REGN10987",reference_site:427,Escape:.002072,wildtype:"D",mutant:"S"},{Antibody:"REGN10987",reference_site:427,Escape:.002075,wildtype:"D",mutant:"T"},{Antibody:"REGN10987",reference_site:427,Escape:.002076,wildtype:"D",mutant:"V"},{Antibody:"REGN10987",reference_site:427,Escape:.002076,wildtype:"D",mutant:"W"},{Antibody:"REGN10987",reference_site:427,Escape:.002076,wildtype:"D",mutant:"Y"},{Antibody:"REGN10987",reference_site:428,Escape:.002076,wildtype:"D",mutant:"A"},{Antibody:"REGN10987",reference_site:428,Escape:.002076,wildtype:"D",mutant:"E"},{Antibody:"REGN10987",reference_site:428,Escape:.002077,wildtype:"D",mutant:"G"},{Antibody:"REGN10987",reference_site:428,Escape:.002072,wildtype:"D",mutant:"H"},{Antibody:"REGN10987",reference_site:428,Escape:.002107,wildtype:"D",mutant:"K"},{Antibody:"REGN10987",reference_site:428,Escape:.002071,wildtype:"D",mutant:"N"},{Antibody:"REGN10987",reference_site:428,Escape:.002076,wildtype:"D",mutant:"P"},{Antibody:"REGN10987",reference_site:428,Escape:.002075,wildtype:"D",mutant:"Q"},{Antibody:"REGN10987",reference_site:428,Escape:.002075,wildtype:"D",mutant:"R"},{Antibody:"REGN10987",reference_site:428,Escape:.002076,wildtype:"D",mutant:"S"},{Antibody:"REGN10987",reference_site:428,Escape:.00208,wildtype:"D",mutant:"T"},{Antibody:"REGN10987",reference_site:429,Escape:.002076,wildtype:"F",mutant:"W"},{Antibody:"REGN10987",reference_site:430,Escape:.002076,wildtype:"T",mutant:"A"},{Antibody:"REGN10987",reference_site:430,Escape:.002077,wildtype:"T",mutant:"C"},{Antibody:"REGN10987",reference_site:430,Escape:.002074,wildtype:"T",mutant:"F"},{Antibody:"REGN10987",reference_site:430,Escape:.002078,wildtype:"T",mutant:"H"},{Antibody:"REGN10987",reference_site:430,Escape:.002077,wildtype:"T",mutant:"I"},{Antibody:"REGN10987",reference_site:430,Escape:.002074,wildtype:"T",mutant:"K"},{Antibody:"REGN10987",reference_site:430,Escape:.002075,wildtype:"T",mutant:"L"},{Antibody:"REGN10987",reference_site:430,Escape:.002075,wildtype:"T",mutant:"M"},{Antibody:"REGN10987",reference_site:430,Escape:.00208,wildtype:"T",mutant:"N"},{Antibody:"REGN10987",reference_site:430,Escape:.002079,wildtype:"T",mutant:"Q"},{Antibody:"REGN10987",reference_site:430,Escape:.002074,wildtype:"T",mutant:"R"},{Antibody:"REGN10987",reference_site:430,Escape:.002075,wildtype:"T",mutant:"S"},{Antibody:"REGN10987",reference_site:430,Escape:.002075,wildtype:"T",mutant:"V"},{Antibody:"REGN10987",reference_site:430,Escape:.002075,wildtype:"T",mutant:"W"},{Antibody:"REGN10987",reference_site:430,Escape:.002076,wildtype:"T",mutant:"Y"},{Antibody:"REGN10987",reference_site:433,Escape:.002081,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:434,Escape:.002075,wildtype:"I",mutant:"F"},{Antibody:"REGN10987",reference_site:434,Escape:.002076,wildtype:"I",mutant:"L"},{Antibody:"REGN10987",reference_site:434,Escape:.002076,wildtype:"I",mutant:"M"},{Antibody:"REGN10987",reference_site:434,Escape:.002072,wildtype:"I",mutant:"V"},{Antibody:"REGN10987",reference_site:434,Escape:.002075,wildtype:"I",mutant:"W"},{Antibody:"REGN10987",reference_site:434,Escape:.002072,wildtype:"I",mutant:"Y"},{Antibody:"REGN10987",reference_site:435,Escape:.002073,wildtype:"A",mutant:"S"},{Antibody:"REGN10987",reference_site:435,Escape:.00207,wildtype:"A",mutant:"T"},{Antibody:"REGN10987",reference_site:437,Escape:.008312,wildtype:"N",mutant:"P"},{Antibody:"REGN10987",reference_site:438,Escape:.002079,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:438,Escape:.002076,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:439,Escape:.003202,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:439,Escape:.002076,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:439,Escape:.06063,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:439,Escape:.0242,wildtype:"N",mutant:"L"},{Antibody:"REGN10987",reference_site:439,Escape:.002074,wildtype:"N",mutant:"M"},{Antibody:"REGN10987",reference_site:439,Escape:.004029,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:439,Escape:.6551,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:439,Escape:.8449,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:439,Escape:.002078,wildtype:"N",mutant:"V"},{Antibody:"REGN10987",reference_site:439,Escape:.6058,wildtype:"N",mutant:"Y"},{Antibody:"REGN10987",reference_site:440,Escape:.002076,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:440,Escape:.06584,wildtype:"N",mutant:"C"},{Antibody:"REGN10987",reference_site:440,Escape:.4686,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:440,Escape:.6321,wildtype:"N",mutant:"E"},{Antibody:"REGN10987",reference_site:440,Escape:.8326,wildtype:"N",mutant:"F"},{Antibody:"REGN10987",reference_site:440,Escape:.002076,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:440,Escape:.002594,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:440,Escape:.9109,wildtype:"N",mutant:"I"},{Antibody:"REGN10987",reference_site:440,Escape:.565,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:440,Escape:.9579,wildtype:"N",mutant:"L"},{Antibody:"REGN10987",reference_site:440,Escape:.468,wildtype:"N",mutant:"M"},{Antibody:"REGN10987",reference_site:440,Escape:.01361,wildtype:"N",mutant:"P"},{Antibody:"REGN10987",reference_site:440,Escape:.1667,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:440,Escape:.002083,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:440,Escape:.002082,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:440,Escape:.4962,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:440,Escape:.5196,wildtype:"N",mutant:"V"},{Antibody:"REGN10987",reference_site:440,Escape:.5023,wildtype:"N",mutant:"Y"},{Antibody:"REGN10987",reference_site:441,Escape:.002076,wildtype:"L",mutant:"A"},{Antibody:"REGN10987",reference_site:441,Escape:.002077,wildtype:"L",mutant:"F"},{Antibody:"REGN10987",reference_site:441,Escape:.002075,wildtype:"L",mutant:"H"},{Antibody:"REGN10987",reference_site:441,Escape:.002079,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:441,Escape:.002075,wildtype:"L",mutant:"Q"},{Antibody:"REGN10987",reference_site:441,Escape:.00156,wildtype:"L",mutant:"R"},{Antibody:"REGN10987",reference_site:441,Escape:.7052,wildtype:"L",mutant:"S"},{Antibody:"REGN10987",reference_site:441,Escape:.002076,wildtype:"L",mutant:"V"},{Antibody:"REGN10987",reference_site:441,Escape:.002591,wildtype:"L",mutant:"W"},{Antibody:"REGN10987",reference_site:443,Escape:.00208,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:443,Escape:.002075,wildtype:"S",mutant:"C"},{Antibody:"REGN10987",reference_site:443,Escape:.01984,wildtype:"S",mutant:"G"},{Antibody:"REGN10987",reference_site:443,Escape:.6469,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:443,Escape:.6069,wildtype:"S",mutant:"Q"},{Antibody:"REGN10987",reference_site:443,Escape:.002076,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:443,Escape:.01478,wildtype:"S",mutant:"V"},{Antibody:"REGN10987",reference_site:443,Escape:.7986,wildtype:"S",mutant:"Y"},{Antibody:"REGN10987",reference_site:444,Escape:.9747,wildtype:"K",mutant:"A"},{Antibody:"REGN10987",reference_site:444,Escape:.9426,wildtype:"K",mutant:"C"},{Antibody:"REGN10987",reference_site:444,Escape:.8499,wildtype:"K",mutant:"D"},{Antibody:"REGN10987",reference_site:444,Escape:.9617,wildtype:"K",mutant:"E"},{Antibody:"REGN10987",reference_site:444,Escape:.9547,wildtype:"K",mutant:"F"},{Antibody:"REGN10987",reference_site:444,Escape:.9656,wildtype:"K",mutant:"G"},{Antibody:"REGN10987",reference_site:444,Escape:.988,wildtype:"K",mutant:"H"},{Antibody:"REGN10987",reference_site:444,Escape:.9938,wildtype:"K",mutant:"I"},{Antibody:"REGN10987",reference_site:444,Escape:.969,wildtype:"K",mutant:"L"},{Antibody:"REGN10987",reference_site:444,Escape:.9689,wildtype:"K",mutant:"M"},{Antibody:"REGN10987",reference_site:444,Escape:.9434,wildtype:"K",mutant:"N"},{Antibody:"REGN10987",reference_site:444,Escape:.9923,wildtype:"K",mutant:"P"},{Antibody:"REGN10987",reference_site:444,Escape:.9698,wildtype:"K",mutant:"Q"},{Antibody:"REGN10987",reference_site:444,Escape:.01247,wildtype:"K",mutant:"R"},{Antibody:"REGN10987",reference_site:444,Escape:.9604,wildtype:"K",mutant:"S"},{Antibody:"REGN10987",reference_site:444,Escape:.9817,wildtype:"K",mutant:"T"},{Antibody:"REGN10987",reference_site:444,Escape:.9818,wildtype:"K",mutant:"V"},{Antibody:"REGN10987",reference_site:444,Escape:.9818,wildtype:"K",mutant:"W"},{Antibody:"REGN10987",reference_site:444,Escape:.9834,wildtype:"K",mutant:"Y"},{Antibody:"REGN10987",reference_site:445,Escape:.9799,wildtype:"V",mutant:"A"},{Antibody:"REGN10987",reference_site:445,Escape:.9731,wildtype:"V",mutant:"C"},{Antibody:"REGN10987",reference_site:445,Escape:.9571,wildtype:"V",mutant:"D"},{Antibody:"REGN10987",reference_site:445,Escape:.9936,wildtype:"V",mutant:"E"},{Antibody:"REGN10987",reference_site:445,Escape:.8851,wildtype:"V",mutant:"F"},{Antibody:"REGN10987",reference_site:445,Escape:.9761,wildtype:"V",mutant:"G"},{Antibody:"REGN10987",reference_site:445,Escape:.8988,wildtype:"V",mutant:"H"},{Antibody:"REGN10987",reference_site:445,Escape:.002083,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:445,Escape:1,wildtype:"V",mutant:"K"},{Antibody:"REGN10987",reference_site:445,Escape:.806,wildtype:"V",mutant:"L"},{Antibody:"REGN10987",reference_site:445,Escape:.4669,wildtype:"V",mutant:"M"},{Antibody:"REGN10987",reference_site:445,Escape:.9735,wildtype:"V",mutant:"N"},{Antibody:"REGN10987",reference_site:445,Escape:.9771,wildtype:"V",mutant:"P"},{Antibody:"REGN10987",reference_site:445,Escape:.9949,wildtype:"V",mutant:"Q"},{Antibody:"REGN10987",reference_site:445,Escape:.9693,wildtype:"V",mutant:"R"},{Antibody:"REGN10987",reference_site:445,Escape:.9757,wildtype:"V",mutant:"S"},{Antibody:"REGN10987",reference_site:445,Escape:.9465,wildtype:"V",mutant:"T"},{Antibody:"REGN10987",reference_site:445,Escape:.7947,wildtype:"V",mutant:"W"},{Antibody:"REGN10987",reference_site:445,Escape:.9714,wildtype:"V",mutant:"Y"},{Antibody:"REGN10987",reference_site:446,Escape:.7438,wildtype:"G",mutant:"A"},{Antibody:"REGN10987",reference_site:446,Escape:.9342,wildtype:"G",mutant:"C"},{Antibody:"REGN10987",reference_site:446,Escape:.9783,wildtype:"G",mutant:"D"},{Antibody:"REGN10987",reference_site:446,Escape:.9533,wildtype:"G",mutant:"E"},{Antibody:"REGN10987",reference_site:446,Escape:.726,wildtype:"G",mutant:"F"},{Antibody:"REGN10987",reference_site:446,Escape:.943,wildtype:"G",mutant:"H"},{Antibody:"REGN10987",reference_site:446,Escape:.9525,wildtype:"G",mutant:"I"},{Antibody:"REGN10987",reference_site:446,Escape:.9896,wildtype:"G",mutant:"K"},{Antibody:"REGN10987",reference_site:446,Escape:.8538,wildtype:"G",mutant:"L"},{Antibody:"REGN10987",reference_site:446,Escape:.8218,wildtype:"G",mutant:"M"},{Antibody:"REGN10987",reference_site:446,Escape:.9243,wildtype:"G",mutant:"N"},{Antibody:"REGN10987",reference_site:446,Escape:.9902,wildtype:"G",mutant:"P"},{Antibody:"REGN10987",reference_site:446,Escape:.9725,wildtype:"G",mutant:"Q"},{Antibody:"REGN10987",reference_site:446,Escape:.953,wildtype:"G",mutant:"R"},{Antibody:"REGN10987",reference_site:446,Escape:.8243,wildtype:"G",mutant:"S"},{Antibody:"REGN10987",reference_site:446,Escape:.9862,wildtype:"G",mutant:"T"},{Antibody:"REGN10987",reference_site:446,Escape:.9594,wildtype:"G",mutant:"V"},{Antibody:"REGN10987",reference_site:446,Escape:.7883,wildtype:"G",mutant:"W"},{Antibody:"REGN10987",reference_site:446,Escape:.8243,wildtype:"G",mutant:"Y"},{Antibody:"REGN10987",reference_site:447,Escape:.2216,wildtype:"G",mutant:"A"},{Antibody:"REGN10987",reference_site:447,Escape:.5914,wildtype:"G",mutant:"C"},{Antibody:"REGN10987",reference_site:447,Escape:.9863,wildtype:"G",mutant:"D"},{Antibody:"REGN10987",reference_site:447,Escape:.7348,wildtype:"G",mutant:"E"},{Antibody:"REGN10987",reference_site:447,Escape:.9084,wildtype:"G",mutant:"F"},{Antibody:"REGN10987",reference_site:447,Escape:.7447,wildtype:"G",mutant:"H"},{Antibody:"REGN10987",reference_site:447,Escape:.5625,wildtype:"G",mutant:"I"},{Antibody:"REGN10987",reference_site:447,Escape:.4278,wildtype:"G",mutant:"K"},{Antibody:"REGN10987",reference_site:447,Escape:.9056,wildtype:"G",mutant:"L"},{Antibody:"REGN10987",reference_site:447,Escape:.491,wildtype:"G",mutant:"M"},{Antibody:"REGN10987",reference_site:447,Escape:.9457,wildtype:"G",mutant:"N"},{Antibody:"REGN10987",reference_site:447,Escape:.9204,wildtype:"G",mutant:"P"},{Antibody:"REGN10987",reference_site:447,Escape:.6683,wildtype:"G",mutant:"Q"},{Antibody:"REGN10987",reference_site:447,Escape:.2098,wildtype:"G",mutant:"R"},{Antibody:"REGN10987",reference_site:447,Escape:.6446,wildtype:"G",mutant:"S"},{Antibody:"REGN10987",reference_site:447,Escape:.6549,wildtype:"G",mutant:"T"},{Antibody:"REGN10987",reference_site:447,Escape:.8373,wildtype:"G",mutant:"V"},{Antibody:"REGN10987",reference_site:447,Escape:.7025,wildtype:"G",mutant:"Y"},{Antibody:"REGN10987",reference_site:448,Escape:.4968,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:448,Escape:.5141,wildtype:"N",mutant:"C"},{Antibody:"REGN10987",reference_site:448,Escape:.6127,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:448,Escape:.6337,wildtype:"N",mutant:"E"},{Antibody:"REGN10987",reference_site:448,Escape:.6467,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:448,Escape:.5174,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:448,Escape:.643,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:448,Escape:.9101,wildtype:"N",mutant:"P"},{Antibody:"REGN10987",reference_site:448,Escape:.5996,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:448,Escape:.7005,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:448,Escape:.01589,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:448,Escape:.116,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:448,Escape:.6604,wildtype:"N",mutant:"V"},{Antibody:"REGN10987",reference_site:448,Escape:.0776,wildtype:"N",mutant:"Y"},{Antibody:"REGN10987",reference_site:449,Escape:.002075,wildtype:"Y",mutant:"A"},{Antibody:"REGN10987",reference_site:449,Escape:.002075,wildtype:"Y",mutant:"C"},{Antibody:"REGN10987",reference_site:449,Escape:.002068,wildtype:"Y",mutant:"D"},{Antibody:"REGN10987",reference_site:449,Escape:.002077,wildtype:"Y",mutant:"E"},{Antibody:"REGN10987",reference_site:449,Escape:.002075,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:449,Escape:.002074,wildtype:"Y",mutant:"G"},{Antibody:"REGN10987",reference_site:449,Escape:.002075,wildtype:"Y",mutant:"H"},{Antibody:"REGN10987",reference_site:449,Escape:.002079,wildtype:"Y",mutant:"I"},{Antibody:"REGN10987",reference_site:449,Escape:.002074,wildtype:"Y",mutant:"K"},{Antibody:"REGN10987",reference_site:449,Escape:.002072,wildtype:"Y",mutant:"L"},{Antibody:"REGN10987",reference_site:449,Escape:.002075,wildtype:"Y",mutant:"M"},{Antibody:"REGN10987",reference_site:449,Escape:.002064,wildtype:"Y",mutant:"N"},{Antibody:"REGN10987",reference_site:449,Escape:.2707,wildtype:"Y",mutant:"P"},{Antibody:"REGN10987",reference_site:449,Escape:.002075,wildtype:"Y",mutant:"Q"},{Antibody:"REGN10987",reference_site:449,Escape:.002072,wildtype:"Y",mutant:"R"},{Antibody:"REGN10987",reference_site:449,Escape:.002074,wildtype:"Y",mutant:"S"},{Antibody:"REGN10987",reference_site:449,Escape:.00207,wildtype:"Y",mutant:"T"},{Antibody:"REGN10987",reference_site:449,Escape:.002076,wildtype:"Y",mutant:"V"},{Antibody:"REGN10987",reference_site:449,Escape:.002072,wildtype:"Y",mutant:"W"},{Antibody:"REGN10987",reference_site:450,Escape:.002076,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:450,Escape:.003306,wildtype:"N",mutant:"C"},{Antibody:"REGN10987",reference_site:450,Escape:.002379,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:450,Escape:.002074,wildtype:"N",mutant:"E"},{Antibody:"REGN10987",reference_site:450,Escape:.002076,wildtype:"N",mutant:"F"},{Antibody:"REGN10987",reference_site:450,Escape:.002076,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:450,Escape:.002078,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:450,Escape:.009536,wildtype:"N",mutant:"I"},{Antibody:"REGN10987",reference_site:450,Escape:.002075,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:450,Escape:.002082,wildtype:"N",mutant:"L"},{Antibody:"REGN10987",reference_site:450,Escape:.002076,wildtype:"N",mutant:"M"},{Antibody:"REGN10987",reference_site:450,Escape:.8386,wildtype:"N",mutant:"P"},{Antibody:"REGN10987",reference_site:450,Escape:.002076,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:450,Escape:.002076,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:450,Escape:.03684,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:450,Escape:.9781,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:450,Escape:.002103,wildtype:"N",mutant:"V"},{Antibody:"REGN10987",reference_site:450,Escape:.002075,wildtype:"N",mutant:"W"},{Antibody:"REGN10987",reference_site:450,Escape:.002075,wildtype:"N",mutant:"Y"},{Antibody:"REGN10987",reference_site:451,Escape:.002077,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:451,Escape:.00208,wildtype:"Y",mutant:"H"},{Antibody:"REGN10987",reference_site:451,Escape:.002076,wildtype:"Y",mutant:"I"},{Antibody:"REGN10987",reference_site:451,Escape:.002078,wildtype:"Y",mutant:"L"},{Antibody:"REGN10987",reference_site:451,Escape:.002076,wildtype:"Y",mutant:"M"},{Antibody:"REGN10987",reference_site:451,Escape:.002076,wildtype:"Y",mutant:"Q"},{Antibody:"REGN10987",reference_site:452,Escape:.002075,wildtype:"L",mutant:"A"},{Antibody:"REGN10987",reference_site:452,Escape:.002082,wildtype:"L",mutant:"C"},{Antibody:"REGN10987",reference_site:452,Escape:.002076,wildtype:"L",mutant:"D"},{Antibody:"REGN10987",reference_site:452,Escape:.002074,wildtype:"L",mutant:"E"},{Antibody:"REGN10987",reference_site:452,Escape:.002082,wildtype:"L",mutant:"F"},{Antibody:"REGN10987",reference_site:452,Escape:.002076,wildtype:"L",mutant:"G"},{Antibody:"REGN10987",reference_site:452,Escape:.002075,wildtype:"L",mutant:"H"},{Antibody:"REGN10987",reference_site:452,Escape:.002078,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:452,Escape:.002075,wildtype:"L",mutant:"K"},{Antibody:"REGN10987",reference_site:452,Escape:.002078,wildtype:"L",mutant:"M"},{Antibody:"REGN10987",reference_site:452,Escape:.002076,wildtype:"L",mutant:"N"},{Antibody:"REGN10987",reference_site:452,Escape:.002075,wildtype:"L",mutant:"Q"},{Antibody:"REGN10987",reference_site:452,Escape:.002073,wildtype:"L",mutant:"R"},{Antibody:"REGN10987",reference_site:452,Escape:.00208,wildtype:"L",mutant:"S"},{Antibody:"REGN10987",reference_site:452,Escape:.002097,wildtype:"L",mutant:"T"},{Antibody:"REGN10987",reference_site:452,Escape:.002078,wildtype:"L",mutant:"V"},{Antibody:"REGN10987",reference_site:452,Escape:.002074,wildtype:"L",mutant:"W"},{Antibody:"REGN10987",reference_site:452,Escape:.002078,wildtype:"L",mutant:"Y"},{Antibody:"REGN10987",reference_site:453,Escape:.002068,wildtype:"Y",mutant:"A"},{Antibody:"REGN10987",reference_site:453,Escape:.002082,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:453,Escape:.002076,wildtype:"Y",mutant:"H"},{Antibody:"REGN10987",reference_site:453,Escape:.002078,wildtype:"Y",mutant:"K"},{Antibody:"REGN10987",reference_site:453,Escape:.002077,wildtype:"Y",mutant:"M"},{Antibody:"REGN10987",reference_site:453,Escape:.002076,wildtype:"Y",mutant:"R"},{Antibody:"REGN10987",reference_site:453,Escape:.002079,wildtype:"Y",mutant:"S"},{Antibody:"REGN10987",reference_site:453,Escape:.002078,wildtype:"Y",mutant:"V"},{Antibody:"REGN10987",reference_site:455,Escape:.002078,wildtype:"L",mutant:"A"},{Antibody:"REGN10987",reference_site:455,Escape:.002079,wildtype:"L",mutant:"C"},{Antibody:"REGN10987",reference_site:455,Escape:.002076,wildtype:"L",mutant:"E"},{Antibody:"REGN10987",reference_site:455,Escape:.002075,wildtype:"L",mutant:"F"},{Antibody:"REGN10987",reference_site:455,Escape:.002075,wildtype:"L",mutant:"G"},{Antibody:"REGN10987",reference_site:455,Escape:.002076,wildtype:"L",mutant:"H"},{Antibody:"REGN10987",reference_site:455,Escape:.002077,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:455,Escape:.002075,wildtype:"L",mutant:"M"},{Antibody:"REGN10987",reference_site:455,Escape:.002075,wildtype:"L",mutant:"N"},{Antibody:"REGN10987",reference_site:455,Escape:.002074,wildtype:"L",mutant:"P"},{Antibody:"REGN10987",reference_site:455,Escape:.002075,wildtype:"L",mutant:"R"},{Antibody:"REGN10987",reference_site:455,Escape:.002075,wildtype:"L",mutant:"S"},{Antibody:"REGN10987",reference_site:455,Escape:.002074,wildtype:"L",mutant:"T"},{Antibody:"REGN10987",reference_site:455,Escape:.002082,wildtype:"L",mutant:"V"},{Antibody:"REGN10987",reference_site:455,Escape:.002076,wildtype:"L",mutant:"W"},{Antibody:"REGN10987",reference_site:455,Escape:.002071,wildtype:"L",mutant:"Y"},{Antibody:"REGN10987",reference_site:456,Escape:.002076,wildtype:"F",mutant:"A"},{Antibody:"REGN10987",reference_site:456,Escape:.002075,wildtype:"F",mutant:"C"},{Antibody:"REGN10987",reference_site:456,Escape:.002078,wildtype:"F",mutant:"G"},{Antibody:"REGN10987",reference_site:456,Escape:.00208,wildtype:"F",mutant:"H"},{Antibody:"REGN10987",reference_site:456,Escape:.002078,wildtype:"F",mutant:"I"},{Antibody:"REGN10987",reference_site:456,Escape:.002076,wildtype:"F",mutant:"K"},{Antibody:"REGN10987",reference_site:456,Escape:.002073,wildtype:"F",mutant:"L"},{Antibody:"REGN10987",reference_site:456,Escape:.002076,wildtype:"F",mutant:"Q"},{Antibody:"REGN10987",reference_site:456,Escape:.002075,wildtype:"F",mutant:"R"},{Antibody:"REGN10987",reference_site:456,Escape:.002076,wildtype:"F",mutant:"T"},{Antibody:"REGN10987",reference_site:456,Escape:.002073,wildtype:"F",mutant:"V"},{Antibody:"REGN10987",reference_site:456,Escape:.002076,wildtype:"F",mutant:"W"},{Antibody:"REGN10987",reference_site:456,Escape:.09267,wildtype:"F",mutant:"Y"},{Antibody:"REGN10987",reference_site:458,Escape:.002075,wildtype:"K",mutant:"A"},{Antibody:"REGN10987",reference_site:458,Escape:.002076,wildtype:"K",mutant:"D"},{Antibody:"REGN10987",reference_site:458,Escape:.002075,wildtype:"K",mutant:"E"},{Antibody:"REGN10987",reference_site:458,Escape:.002075,wildtype:"K",mutant:"F"},{Antibody:"REGN10987",reference_site:458,Escape:.002076,wildtype:"K",mutant:"G"},{Antibody:"REGN10987",reference_site:458,Escape:.002074,wildtype:"K",mutant:"H"},{Antibody:"REGN10987",reference_site:458,Escape:.002946,wildtype:"K",mutant:"I"},{Antibody:"REGN10987",reference_site:458,Escape:.002079,wildtype:"K",mutant:"L"},{Antibody:"REGN10987",reference_site:458,Escape:.00208,wildtype:"K",mutant:"M"},{Antibody:"REGN10987",reference_site:458,Escape:.002075,wildtype:"K",mutant:"N"},{Antibody:"REGN10987",reference_site:458,Escape:.002075,wildtype:"K",mutant:"P"},{Antibody:"REGN10987",reference_site:458,Escape:.002075,wildtype:"K",mutant:"Q"},{Antibody:"REGN10987",reference_site:458,Escape:.002077,wildtype:"K",mutant:"R"},{Antibody:"REGN10987",reference_site:458,Escape:.002081,wildtype:"K",mutant:"S"},{Antibody:"REGN10987",reference_site:458,Escape:.002072,wildtype:"K",mutant:"T"},{Antibody:"REGN10987",reference_site:458,Escape:.00207,wildtype:"K",mutant:"V"},{Antibody:"REGN10987",reference_site:458,Escape:.002076,wildtype:"K",mutant:"W"},{Antibody:"REGN10987",reference_site:458,Escape:.002074,wildtype:"K",mutant:"Y"},{Antibody:"REGN10987",reference_site:459,Escape:.002071,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:459,Escape:.002075,wildtype:"S",mutant:"C"},{Antibody:"REGN10987",reference_site:459,Escape:.002075,wildtype:"S",mutant:"D"},{Antibody:"REGN10987",reference_site:459,Escape:.002075,wildtype:"S",mutant:"E"},{Antibody:"REGN10987",reference_site:459,Escape:.002076,wildtype:"S",mutant:"F"},{Antibody:"REGN10987",reference_site:459,Escape:.002075,wildtype:"S",mutant:"G"},{Antibody:"REGN10987",reference_site:459,Escape:.002073,wildtype:"S",mutant:"H"},{Antibody:"REGN10987",reference_site:459,Escape:.002077,wildtype:"S",mutant:"I"},{Antibody:"REGN10987",reference_site:459,Escape:.002076,wildtype:"S",mutant:"K"},{Antibody:"REGN10987",reference_site:459,Escape:.002076,wildtype:"S",mutant:"L"},{Antibody:"REGN10987",reference_site:459,Escape:.002078,wildtype:"S",mutant:"M"},{Antibody:"REGN10987",reference_site:459,Escape:.002076,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:459,Escape:.002076,wildtype:"S",mutant:"P"},{Antibody:"REGN10987",reference_site:459,Escape:.002078,wildtype:"S",mutant:"Q"},{Antibody:"REGN10987",reference_site:459,Escape:.002073,wildtype:"S",mutant:"R"},{Antibody:"REGN10987",reference_site:459,Escape:.002071,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:459,Escape:.002076,wildtype:"S",mutant:"V"},{Antibody:"REGN10987",reference_site:459,Escape:.00208,wildtype:"S",mutant:"Y"},{Antibody:"REGN10987",reference_site:460,Escape:.002078,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:460,Escape:.002075,wildtype:"N",mutant:"C"},{Antibody:"REGN10987",reference_site:460,Escape:.002072,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:460,Escape:.002072,wildtype:"N",mutant:"E"},{Antibody:"REGN10987",reference_site:460,Escape:.002078,wildtype:"N",mutant:"F"},{Antibody:"REGN10987",reference_site:460,Escape:.005806,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:460,Escape:.002075,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:460,Escape:.002072,wildtype:"N",mutant:"I"},{Antibody:"REGN10987",reference_site:460,Escape:.002074,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:460,Escape:.002075,wildtype:"N",mutant:"L"},{Antibody:"REGN10987",reference_site:460,Escape:.002076,wildtype:"N",mutant:"M"},{Antibody:"REGN10987",reference_site:460,Escape:.002075,wildtype:"N",mutant:"P"},{Antibody:"REGN10987",reference_site:460,Escape:.002075,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:460,Escape:.002074,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:460,Escape:.002076,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:460,Escape:.002075,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:460,Escape:.002075,wildtype:"N",mutant:"V"},{Antibody:"REGN10987",reference_site:460,Escape:.002074,wildtype:"N",mutant:"Y"},{Antibody:"REGN10987",reference_site:461,Escape:.002075,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:461,Escape:.00156,wildtype:"L",mutant:"M"},{Antibody:"REGN10987",reference_site:461,Escape:.002075,wildtype:"L",mutant:"V"},{Antibody:"REGN10987",reference_site:462,Escape:.002075,wildtype:"K",mutant:"A"},{Antibody:"REGN10987",reference_site:462,Escape:.002076,wildtype:"K",mutant:"C"},{Antibody:"REGN10987",reference_site:462,Escape:.002078,wildtype:"K",mutant:"D"},{Antibody:"REGN10987",reference_site:462,Escape:.002884,wildtype:"K",mutant:"E"},{Antibody:"REGN10987",reference_site:462,Escape:.002075,wildtype:"K",mutant:"F"},{Antibody:"REGN10987",reference_site:462,Escape:.002075,wildtype:"K",mutant:"G"},{Antibody:"REGN10987",reference_site:462,Escape:.002076,wildtype:"K",mutant:"H"},{Antibody:"REGN10987",reference_site:462,Escape:.002075,wildtype:"K",mutant:"I"},{Antibody:"REGN10987",reference_site:462,Escape:.002076,wildtype:"K",mutant:"L"},{Antibody:"REGN10987",reference_site:462,Escape:.002076,wildtype:"K",mutant:"M"},{Antibody:"REGN10987",reference_site:462,Escape:.002077,wildtype:"K",mutant:"N"},{Antibody:"REGN10987",reference_site:462,Escape:.002076,wildtype:"K",mutant:"Q"},{Antibody:"REGN10987",reference_site:462,Escape:.002074,wildtype:"K",mutant:"R"},{Antibody:"REGN10987",reference_site:462,Escape:.002079,wildtype:"K",mutant:"S"},{Antibody:"REGN10987",reference_site:462,Escape:.002076,wildtype:"K",mutant:"T"},{Antibody:"REGN10987",reference_site:462,Escape:.002071,wildtype:"K",mutant:"V"},{Antibody:"REGN10987",reference_site:462,Escape:.002075,wildtype:"K",mutant:"Y"},{Antibody:"REGN10987",reference_site:463,Escape:.002075,wildtype:"P",mutant:"A"},{Antibody:"REGN10987",reference_site:464,Escape:.002078,wildtype:"F",mutant:"A"},{Antibody:"REGN10987",reference_site:464,Escape:.002077,wildtype:"F",mutant:"G"},{Antibody:"REGN10987",reference_site:464,Escape:.002076,wildtype:"F",mutant:"H"},{Antibody:"REGN10987",reference_site:464,Escape:.002082,wildtype:"F",mutant:"L"},{Antibody:"REGN10987",reference_site:464,Escape:.002076,wildtype:"F",mutant:"M"},{Antibody:"REGN10987",reference_site:464,Escape:.002079,wildtype:"F",mutant:"N"},{Antibody:"REGN10987",reference_site:464,Escape:.00208,wildtype:"F",mutant:"Q"},{Antibody:"REGN10987",reference_site:464,Escape:.007496,wildtype:"F",mutant:"S"},{Antibody:"REGN10987",reference_site:464,Escape:.002076,wildtype:"F",mutant:"W"},{Antibody:"REGN10987",reference_site:464,Escape:.002075,wildtype:"F",mutant:"Y"},{Antibody:"REGN10987",reference_site:465,Escape:.00208,wildtype:"E",mutant:"D"},{Antibody:"REGN10987",reference_site:465,Escape:.002852,wildtype:"E",mutant:"G"},{Antibody:"REGN10987",reference_site:465,Escape:.00208,wildtype:"E",mutant:"H"},{Antibody:"REGN10987",reference_site:465,Escape:.002078,wildtype:"E",mutant:"Q"},{Antibody:"REGN10987",reference_site:466,Escape:.002076,wildtype:"R",mutant:"H"},{Antibody:"REGN10987",reference_site:466,Escape:.002072,wildtype:"R",mutant:"K"},{Antibody:"REGN10987",reference_site:466,Escape:.002072,wildtype:"R",mutant:"Q"},{Antibody:"REGN10987",reference_site:468,Escape:.002077,wildtype:"I",mutant:"A"},{Antibody:"REGN10987",reference_site:468,Escape:.002075,wildtype:"I",mutant:"C"},{Antibody:"REGN10987",reference_site:468,Escape:.002076,wildtype:"I",mutant:"D"},{Antibody:"REGN10987",reference_site:468,Escape:.002077,wildtype:"I",mutant:"E"},{Antibody:"REGN10987",reference_site:468,Escape:.002077,wildtype:"I",mutant:"G"},{Antibody:"REGN10987",reference_site:468,Escape:.002593,wildtype:"I",mutant:"H"},{Antibody:"REGN10987",reference_site:468,Escape:.002073,wildtype:"I",mutant:"K"},{Antibody:"REGN10987",reference_site:468,Escape:.002066,wildtype:"I",mutant:"L"},{Antibody:"REGN10987",reference_site:468,Escape:.002076,wildtype:"I",mutant:"M"},{Antibody:"REGN10987",reference_site:468,Escape:.002076,wildtype:"I",mutant:"N"},{Antibody:"REGN10987",reference_site:468,Escape:.002083,wildtype:"I",mutant:"P"},{Antibody:"REGN10987",reference_site:468,Escape:.002069,wildtype:"I",mutant:"Q"},{Antibody:"REGN10987",reference_site:468,Escape:.00208,wildtype:"I",mutant:"R"},{Antibody:"REGN10987",reference_site:468,Escape:.002076,wildtype:"I",mutant:"S"},{Antibody:"REGN10987",reference_site:468,Escape:.002075,wildtype:"I",mutant:"T"},{Antibody:"REGN10987",reference_site:468,Escape:.002075,wildtype:"I",mutant:"V"},{Antibody:"REGN10987",reference_site:468,Escape:.002082,wildtype:"I",mutant:"Y"},{Antibody:"REGN10987",reference_site:469,Escape:.002078,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:469,Escape:.002076,wildtype:"S",mutant:"C"},{Antibody:"REGN10987",reference_site:469,Escape:.002076,wildtype:"S",mutant:"D"},{Antibody:"REGN10987",reference_site:469,Escape:.002076,wildtype:"S",mutant:"E"},{Antibody:"REGN10987",reference_site:469,Escape:.002075,wildtype:"S",mutant:"G"},{Antibody:"REGN10987",reference_site:469,Escape:.002075,wildtype:"S",mutant:"K"},{Antibody:"REGN10987",reference_site:469,Escape:.002075,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:469,Escape:.002073,wildtype:"S",mutant:"Q"},{Antibody:"REGN10987",reference_site:469,Escape:.002076,wildtype:"S",mutant:"R"},{Antibody:"REGN10987",reference_site:469,Escape:.002075,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:470,Escape:.002077,wildtype:"T",mutant:"A"},{Antibody:"REGN10987",reference_site:470,Escape:.002075,wildtype:"T",mutant:"C"},{Antibody:"REGN10987",reference_site:470,Escape:.002076,wildtype:"T",mutant:"D"},{Antibody:"REGN10987",reference_site:470,Escape:.002075,wildtype:"T",mutant:"E"},{Antibody:"REGN10987",reference_site:470,Escape:.002591,wildtype:"T",mutant:"F"},{Antibody:"REGN10987",reference_site:470,Escape:.002076,wildtype:"T",mutant:"G"},{Antibody:"REGN10987",reference_site:470,Escape:.002076,wildtype:"T",mutant:"H"},{Antibody:"REGN10987",reference_site:470,Escape:.002077,wildtype:"T",mutant:"I"},{Antibody:"REGN10987",reference_site:470,Escape:.002074,wildtype:"T",mutant:"K"},{Antibody:"REGN10987",reference_site:470,Escape:.002075,wildtype:"T",mutant:"L"},{Antibody:"REGN10987",reference_site:470,Escape:.002069,wildtype:"T",mutant:"M"},{Antibody:"REGN10987",reference_site:470,Escape:.002078,wildtype:"T",mutant:"N"},{Antibody:"REGN10987",reference_site:470,Escape:.002069,wildtype:"T",mutant:"Q"},{Antibody:"REGN10987",reference_site:470,Escape:.002074,wildtype:"T",mutant:"R"},{Antibody:"REGN10987",reference_site:470,Escape:.00208,wildtype:"T",mutant:"S"},{Antibody:"REGN10987",reference_site:470,Escape:.002074,wildtype:"T",mutant:"V"},{Antibody:"REGN10987",reference_site:470,Escape:.002075,wildtype:"T",mutant:"Y"},{Antibody:"REGN10987",reference_site:471,Escape:.002075,wildtype:"E",mutant:"A"},{Antibody:"REGN10987",reference_site:471,Escape:.002075,wildtype:"E",mutant:"C"},{Antibody:"REGN10987",reference_site:471,Escape:.002073,wildtype:"E",mutant:"D"},{Antibody:"REGN10987",reference_site:471,Escape:.002076,wildtype:"E",mutant:"F"},{Antibody:"REGN10987",reference_site:471,Escape:.002074,wildtype:"E",mutant:"G"},{Antibody:"REGN10987",reference_site:471,Escape:.002076,wildtype:"E",mutant:"H"},{Antibody:"REGN10987",reference_site:471,Escape:.002075,wildtype:"E",mutant:"I"},{Antibody:"REGN10987",reference_site:471,Escape:.002083,wildtype:"E",mutant:"K"},{Antibody:"REGN10987",reference_site:471,Escape:.002079,wildtype:"E",mutant:"L"},{Antibody:"REGN10987",reference_site:471,Escape:.002076,wildtype:"E",mutant:"M"},{Antibody:"REGN10987",reference_site:471,Escape:.00208,wildtype:"E",mutant:"N"},{Antibody:"REGN10987",reference_site:471,Escape:.002075,wildtype:"E",mutant:"P"},{Antibody:"REGN10987",reference_site:471,Escape:.002069,wildtype:"E",mutant:"Q"},{Antibody:"REGN10987",reference_site:471,Escape:.002076,wildtype:"E",mutant:"R"},{Antibody:"REGN10987",reference_site:471,Escape:.002075,wildtype:"E",mutant:"S"},{Antibody:"REGN10987",reference_site:471,Escape:.002075,wildtype:"E",mutant:"T"},{Antibody:"REGN10987",reference_site:471,Escape:.002074,wildtype:"E",mutant:"V"},{Antibody:"REGN10987",reference_site:471,Escape:.002074,wildtype:"E",mutant:"Y"},{Antibody:"REGN10987",reference_site:472,Escape:.002076,wildtype:"I",mutant:"A"},{Antibody:"REGN10987",reference_site:472,Escape:.002076,wildtype:"I",mutant:"C"},{Antibody:"REGN10987",reference_site:472,Escape:.002073,wildtype:"I",mutant:"D"},{Antibody:"REGN10987",reference_site:472,Escape:.002076,wildtype:"I",mutant:"E"},{Antibody:"REGN10987",reference_site:472,Escape:.002075,wildtype:"I",mutant:"F"},{Antibody:"REGN10987",reference_site:472,Escape:.002076,wildtype:"I",mutant:"G"},{Antibody:"REGN10987",reference_site:472,Escape:.00208,wildtype:"I",mutant:"H"},{Antibody:"REGN10987",reference_site:472,Escape:.002077,wildtype:"I",mutant:"K"},{Antibody:"REGN10987",reference_site:472,Escape:.002076,wildtype:"I",mutant:"L"},{Antibody:"REGN10987",reference_site:472,Escape:.002076,wildtype:"I",mutant:"M"},{Antibody:"REGN10987",reference_site:472,Escape:.002078,wildtype:"I",mutant:"N"},{Antibody:"REGN10987",reference_site:472,Escape:.002075,wildtype:"I",mutant:"P"},{Antibody:"REGN10987",reference_site:472,Escape:.002078,wildtype:"I",mutant:"Q"},{Antibody:"REGN10987",reference_site:472,Escape:.002076,wildtype:"I",mutant:"S"},{Antibody:"REGN10987",reference_site:472,Escape:.002076,wildtype:"I",mutant:"T"},{Antibody:"REGN10987",reference_site:472,Escape:.002075,wildtype:"I",mutant:"V"},{Antibody:"REGN10987",reference_site:472,Escape:.002076,wildtype:"I",mutant:"W"},{Antibody:"REGN10987",reference_site:472,Escape:.002075,wildtype:"I",mutant:"Y"},{Antibody:"REGN10987",reference_site:473,Escape:.002076,wildtype:"Y",mutant:"A"},{Antibody:"REGN10987",reference_site:473,Escape:.002076,wildtype:"Y",mutant:"C"},{Antibody:"REGN10987",reference_site:473,Escape:.002076,wildtype:"Y",mutant:"E"},{Antibody:"REGN10987",reference_site:473,Escape:.002074,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:473,Escape:.006637,wildtype:"Y",mutant:"H"},{Antibody:"REGN10987",reference_site:473,Escape:.002073,wildtype:"Y",mutant:"I"},{Antibody:"REGN10987",reference_site:473,Escape:.002078,wildtype:"Y",mutant:"L"},{Antibody:"REGN10987",reference_site:473,Escape:.00208,wildtype:"Y",mutant:"M"},{Antibody:"REGN10987",reference_site:473,Escape:.002076,wildtype:"Y",mutant:"N"},{Antibody:"REGN10987",reference_site:473,Escape:.002076,wildtype:"Y",mutant:"Q"},{Antibody:"REGN10987",reference_site:473,Escape:.002076,wildtype:"Y",mutant:"S"},{Antibody:"REGN10987",reference_site:473,Escape:.002079,wildtype:"Y",mutant:"T"},{Antibody:"REGN10987",reference_site:473,Escape:.002077,wildtype:"Y",mutant:"V"},{Antibody:"REGN10987",reference_site:473,Escape:.002076,wildtype:"Y",mutant:"W"},{Antibody:"REGN10987",reference_site:474,Escape:.002594,wildtype:"Q",mutant:"A"},{Antibody:"REGN10987",reference_site:474,Escape:.002073,wildtype:"Q",mutant:"D"},{Antibody:"REGN10987",reference_site:474,Escape:.002075,wildtype:"Q",mutant:"E"},{Antibody:"REGN10987",reference_site:474,Escape:.002076,wildtype:"Q",mutant:"G"},{Antibody:"REGN10987",reference_site:474,Escape:.002075,wildtype:"Q",mutant:"H"},{Antibody:"REGN10987",reference_site:474,Escape:.002076,wildtype:"Q",mutant:"K"},{Antibody:"REGN10987",reference_site:474,Escape:.002077,wildtype:"Q",mutant:"M"},{Antibody:"REGN10987",reference_site:474,Escape:.002076,wildtype:"Q",mutant:"N"},{Antibody:"REGN10987",reference_site:474,Escape:.002076,wildtype:"Q",mutant:"P"},{Antibody:"REGN10987",reference_site:474,Escape:.002075,wildtype:"Q",mutant:"R"},{Antibody:"REGN10987",reference_site:474,Escape:.002075,wildtype:"Q",mutant:"S"},{Antibody:"REGN10987",reference_site:474,Escape:.002076,wildtype:"Q",mutant:"T"},{Antibody:"REGN10987",reference_site:474,Escape:.002077,wildtype:"Q",mutant:"V"},{Antibody:"REGN10987",reference_site:475,Escape:.002076,wildtype:"A",mutant:"C"},{Antibody:"REGN10987",reference_site:475,Escape:.002076,wildtype:"A",mutant:"D"},{Antibody:"REGN10987",reference_site:475,Escape:.002076,wildtype:"A",mutant:"E"},{Antibody:"REGN10987",reference_site:475,Escape:.002075,wildtype:"A",mutant:"F"},{Antibody:"REGN10987",reference_site:475,Escape:.002075,wildtype:"A",mutant:"G"},{Antibody:"REGN10987",reference_site:475,Escape:.002075,wildtype:"A",mutant:"I"},{Antibody:"REGN10987",reference_site:475,Escape:.002076,wildtype:"A",mutant:"K"},{Antibody:"REGN10987",reference_site:475,Escape:.002075,wildtype:"A",mutant:"L"},{Antibody:"REGN10987",reference_site:475,Escape:.002074,wildtype:"A",mutant:"M"},{Antibody:"REGN10987",reference_site:475,Escape:.03631,wildtype:"A",mutant:"N"},{Antibody:"REGN10987",reference_site:475,Escape:.002076,wildtype:"A",mutant:"Q"},{Antibody:"REGN10987",reference_site:475,Escape:.002075,wildtype:"A",mutant:"R"},{Antibody:"REGN10987",reference_site:475,Escape:.002074,wildtype:"A",mutant:"S"},{Antibody:"REGN10987",reference_site:475,Escape:.002078,wildtype:"A",mutant:"T"},{Antibody:"REGN10987",reference_site:475,Escape:.002075,wildtype:"A",mutant:"V"},{Antibody:"REGN10987",reference_site:475,Escape:.002076,wildtype:"A",mutant:"Y"},{Antibody:"REGN10987",reference_site:476,Escape:.002071,wildtype:"G",mutant:"A"},{Antibody:"REGN10987",reference_site:476,Escape:.002076,wildtype:"G",mutant:"D"},{Antibody:"REGN10987",reference_site:476,Escape:.002077,wildtype:"G",mutant:"E"},{Antibody:"REGN10987",reference_site:476,Escape:.002076,wildtype:"G",mutant:"H"},{Antibody:"REGN10987",reference_site:476,Escape:.002076,wildtype:"G",mutant:"K"},{Antibody:"REGN10987",reference_site:476,Escape:.002077,wildtype:"G",mutant:"N"},{Antibody:"REGN10987",reference_site:476,Escape:.002122,wildtype:"G",mutant:"Q"},{Antibody:"REGN10987",reference_site:476,Escape:.002074,wildtype:"G",mutant:"R"},{Antibody:"REGN10987",reference_site:476,Escape:.002078,wildtype:"G",mutant:"S"},{Antibody:"REGN10987",reference_site:476,Escape:.002073,wildtype:"G",mutant:"T"},{Antibody:"REGN10987",reference_site:477,Escape:.002075,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:477,Escape:.002073,wildtype:"S",mutant:"C"},{Antibody:"REGN10987",reference_site:477,Escape:.002075,wildtype:"S",mutant:"D"},{Antibody:"REGN10987",reference_site:477,Escape:.002074,wildtype:"S",mutant:"F"},{Antibody:"REGN10987",reference_site:477,Escape:.002076,wildtype:"S",mutant:"G"},{Antibody:"REGN10987",reference_site:477,Escape:.00156,wildtype:"S",mutant:"H"},{Antibody:"REGN10987",reference_site:477,Escape:.002075,wildtype:"S",mutant:"I"},{Antibody:"REGN10987",reference_site:477,Escape:.002075,wildtype:"S",mutant:"L"},{Antibody:"REGN10987",reference_site:477,Escape:.002075,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:477,Escape:.002078,wildtype:"S",mutant:"P"},{Antibody:"REGN10987",reference_site:477,Escape:.002071,wildtype:"S",mutant:"Q"},{Antibody:"REGN10987",reference_site:477,Escape:.002075,wildtype:"S",mutant:"R"},{Antibody:"REGN10987",reference_site:477,Escape:.002079,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:477,Escape:.002076,wildtype:"S",mutant:"V"},{Antibody:"REGN10987",reference_site:477,Escape:.00156,wildtype:"S",mutant:"W"},{Antibody:"REGN10987",reference_site:477,Escape:.002076,wildtype:"S",mutant:"Y"},{Antibody:"REGN10987",reference_site:478,Escape:.002073,wildtype:"T",mutant:"A"},{Antibody:"REGN10987",reference_site:478,Escape:.002075,wildtype:"T",mutant:"C"},{Antibody:"REGN10987",reference_site:478,Escape:.002072,wildtype:"T",mutant:"D"},{Antibody:"REGN10987",reference_site:478,Escape:.002075,wildtype:"T",mutant:"E"},{Antibody:"REGN10987",reference_site:478,Escape:.002075,wildtype:"T",mutant:"F"},{Antibody:"REGN10987",reference_site:478,Escape:.002078,wildtype:"T",mutant:"G"},{Antibody:"REGN10987",reference_site:478,Escape:.002076,wildtype:"T",mutant:"H"},{Antibody:"REGN10987",reference_site:478,Escape:.002068,wildtype:"T",mutant:"I"},{Antibody:"REGN10987",reference_site:478,Escape:.002078,wildtype:"T",mutant:"K"},{Antibody:"REGN10987",reference_site:478,Escape:.002077,wildtype:"T",mutant:"L"},{Antibody:"REGN10987",reference_site:478,Escape:.002076,wildtype:"T",mutant:"M"},{Antibody:"REGN10987",reference_site:478,Escape:.002075,wildtype:"T",mutant:"N"},{Antibody:"REGN10987",reference_site:478,Escape:.002076,wildtype:"T",mutant:"P"},{Antibody:"REGN10987",reference_site:478,Escape:.002073,wildtype:"T",mutant:"Q"},{Antibody:"REGN10987",reference_site:478,Escape:.002074,wildtype:"T",mutant:"R"},{Antibody:"REGN10987",reference_site:478,Escape:.002075,wildtype:"T",mutant:"S"},{Antibody:"REGN10987",reference_site:478,Escape:.002075,wildtype:"T",mutant:"V"},{Antibody:"REGN10987",reference_site:478,Escape:.002065,wildtype:"T",mutant:"W"},{Antibody:"REGN10987",reference_site:478,Escape:.002075,wildtype:"T",mutant:"Y"},{Antibody:"REGN10987",reference_site:479,Escape:.002075,wildtype:"P",mutant:"A"},{Antibody:"REGN10987",reference_site:479,Escape:.002073,wildtype:"P",mutant:"C"},{Antibody:"REGN10987",reference_site:479,Escape:.002074,wildtype:"P",mutant:"D"},{Antibody:"REGN10987",reference_site:479,Escape:.002078,wildtype:"P",mutant:"E"},{Antibody:"REGN10987",reference_site:479,Escape:.002075,wildtype:"P",mutant:"F"},{Antibody:"REGN10987",reference_site:479,Escape:.002075,wildtype:"P",mutant:"G"},{Antibody:"REGN10987",reference_site:479,Escape:.002077,wildtype:"P",mutant:"H"},{Antibody:"REGN10987",reference_site:479,Escape:.002073,wildtype:"P",mutant:"I"},{Antibody:"REGN10987",reference_site:479,Escape:.002873,wildtype:"P",mutant:"K"},{Antibody:"REGN10987",reference_site:479,Escape:.002079,wildtype:"P",mutant:"L"},{Antibody:"REGN10987",reference_site:479,Escape:.00208,wildtype:"P",mutant:"M"},{Antibody:"REGN10987",reference_site:479,Escape:.002075,wildtype:"P",mutant:"N"},{Antibody:"REGN10987",reference_site:479,Escape:.002075,wildtype:"P",mutant:"Q"},{Antibody:"REGN10987",reference_site:479,Escape:.002074,wildtype:"P",mutant:"R"},{Antibody:"REGN10987",reference_site:479,Escape:.002082,wildtype:"P",mutant:"S"},{Antibody:"REGN10987",reference_site:479,Escape:.002078,wildtype:"P",mutant:"T"},{Antibody:"REGN10987",reference_site:479,Escape:.002078,wildtype:"P",mutant:"V"},{Antibody:"REGN10987",reference_site:479,Escape:.002076,wildtype:"P",mutant:"Y"},{Antibody:"REGN10987",reference_site:481,Escape:.002075,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:481,Escape:.002075,wildtype:"N",mutant:"C"},{Antibody:"REGN10987",reference_site:481,Escape:.002076,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:481,Escape:.002075,wildtype:"N",mutant:"E"},{Antibody:"REGN10987",reference_site:481,Escape:.002074,wildtype:"N",mutant:"F"},{Antibody:"REGN10987",reference_site:481,Escape:.002076,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:481,Escape:.002075,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:481,Escape:.002075,wildtype:"N",mutant:"I"},{Antibody:"REGN10987",reference_site:481,Escape:.002075,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:481,Escape:.002075,wildtype:"N",mutant:"L"},{Antibody:"REGN10987",reference_site:481,Escape:.002075,wildtype:"N",mutant:"M"},{Antibody:"REGN10987",reference_site:481,Escape:.002076,wildtype:"N",mutant:"P"},{Antibody:"REGN10987",reference_site:481,Escape:.002075,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:481,Escape:.002074,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:481,Escape:.002074,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:481,Escape:.002075,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:481,Escape:.002081,wildtype:"N",mutant:"V"},{Antibody:"REGN10987",reference_site:481,Escape:.002076,wildtype:"N",mutant:"Y"},{Antibody:"REGN10987",reference_site:482,Escape:.002075,wildtype:"G",mutant:"A"},{Antibody:"REGN10987",reference_site:482,Escape:.002078,wildtype:"G",mutant:"C"},{Antibody:"REGN10987",reference_site:482,Escape:.002074,wildtype:"G",mutant:"D"},{Antibody:"REGN10987",reference_site:482,Escape:.002076,wildtype:"G",mutant:"F"},{Antibody:"REGN10987",reference_site:482,Escape:.002075,wildtype:"G",mutant:"H"},{Antibody:"REGN10987",reference_site:482,Escape:.002075,wildtype:"G",mutant:"K"},{Antibody:"REGN10987",reference_site:482,Escape:.002082,wildtype:"G",mutant:"L"},{Antibody:"REGN10987",reference_site:482,Escape:.002078,wildtype:"G",mutant:"N"},{Antibody:"REGN10987",reference_site:482,Escape:.002079,wildtype:"G",mutant:"P"},{Antibody:"REGN10987",reference_site:482,Escape:.003815,wildtype:"G",mutant:"Q"},{Antibody:"REGN10987",reference_site:482,Escape:.002076,wildtype:"G",mutant:"R"},{Antibody:"REGN10987",reference_site:482,Escape:.002074,wildtype:"G",mutant:"S"},{Antibody:"REGN10987",reference_site:482,Escape:.002078,wildtype:"G",mutant:"T"},{Antibody:"REGN10987",reference_site:482,Escape:.002077,wildtype:"G",mutant:"Y"},{Antibody:"REGN10987",reference_site:483,Escape:.002075,wildtype:"V",mutant:"A"},{Antibody:"REGN10987",reference_site:483,Escape:.002076,wildtype:"V",mutant:"C"},{Antibody:"REGN10987",reference_site:483,Escape:.002076,wildtype:"V",mutant:"D"},{Antibody:"REGN10987",reference_site:483,Escape:.00207,wildtype:"V",mutant:"E"},{Antibody:"REGN10987",reference_site:483,Escape:.002077,wildtype:"V",mutant:"F"},{Antibody:"REGN10987",reference_site:483,Escape:.002076,wildtype:"V",mutant:"G"},{Antibody:"REGN10987",reference_site:483,Escape:.002076,wildtype:"V",mutant:"H"},{Antibody:"REGN10987",reference_site:483,Escape:.002074,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:483,Escape:.002075,wildtype:"V",mutant:"K"},{Antibody:"REGN10987",reference_site:483,Escape:.002075,wildtype:"V",mutant:"L"},{Antibody:"REGN10987",reference_site:483,Escape:.009066,wildtype:"V",mutant:"M"},{Antibody:"REGN10987",reference_site:483,Escape:.002076,wildtype:"V",mutant:"N"},{Antibody:"REGN10987",reference_site:483,Escape:.002076,wildtype:"V",mutant:"Q"},{Antibody:"REGN10987",reference_site:483,Escape:.002074,wildtype:"V",mutant:"R"},{Antibody:"REGN10987",reference_site:483,Escape:.00208,wildtype:"V",mutant:"S"},{Antibody:"REGN10987",reference_site:483,Escape:.002074,wildtype:"V",mutant:"T"},{Antibody:"REGN10987",reference_site:483,Escape:.002076,wildtype:"V",mutant:"W"},{Antibody:"REGN10987",reference_site:483,Escape:.002077,wildtype:"V",mutant:"Y"},{Antibody:"REGN10987",reference_site:484,Escape:.002064,wildtype:"E",mutant:"A"},{Antibody:"REGN10987",reference_site:484,Escape:.002076,wildtype:"E",mutant:"C"},{Antibody:"REGN10987",reference_site:484,Escape:.00208,wildtype:"E",mutant:"D"},{Antibody:"REGN10987",reference_site:484,Escape:.002076,wildtype:"E",mutant:"F"},{Antibody:"REGN10987",reference_site:484,Escape:.00207,wildtype:"E",mutant:"G"},{Antibody:"REGN10987",reference_site:484,Escape:.002076,wildtype:"E",mutant:"H"},{Antibody:"REGN10987",reference_site:484,Escape:.002075,wildtype:"E",mutant:"I"},{Antibody:"REGN10987",reference_site:484,Escape:.002075,wildtype:"E",mutant:"K"},{Antibody:"REGN10987",reference_site:484,Escape:.002073,wildtype:"E",mutant:"L"},{Antibody:"REGN10987",reference_site:484,Escape:.002075,wildtype:"E",mutant:"M"},{Antibody:"REGN10987",reference_site:484,Escape:.002077,wildtype:"E",mutant:"N"},{Antibody:"REGN10987",reference_site:484,Escape:.002075,wildtype:"E",mutant:"P"},{Antibody:"REGN10987",reference_site:484,Escape:.002075,wildtype:"E",mutant:"Q"},{Antibody:"REGN10987",reference_site:484,Escape:.002077,wildtype:"E",mutant:"R"},{Antibody:"REGN10987",reference_site:484,Escape:.002077,wildtype:"E",mutant:"S"},{Antibody:"REGN10987",reference_site:484,Escape:.002066,wildtype:"E",mutant:"T"},{Antibody:"REGN10987",reference_site:484,Escape:.002075,wildtype:"E",mutant:"V"},{Antibody:"REGN10987",reference_site:484,Escape:.002076,wildtype:"E",mutant:"W"},{Antibody:"REGN10987",reference_site:484,Escape:.002073,wildtype:"E",mutant:"Y"},{Antibody:"REGN10987",reference_site:485,Escape:.002074,wildtype:"G",mutant:"A"},{Antibody:"REGN10987",reference_site:485,Escape:.002077,wildtype:"G",mutant:"C"},{Antibody:"REGN10987",reference_site:485,Escape:.002081,wildtype:"G",mutant:"D"},{Antibody:"REGN10987",reference_site:485,Escape:.002073,wildtype:"G",mutant:"E"},{Antibody:"REGN10987",reference_site:485,Escape:.002075,wildtype:"G",mutant:"H"},{Antibody:"REGN10987",reference_site:485,Escape:.002075,wildtype:"G",mutant:"K"},{Antibody:"REGN10987",reference_site:485,Escape:.002074,wildtype:"G",mutant:"M"},{Antibody:"REGN10987",reference_site:485,Escape:.002077,wildtype:"G",mutant:"N"},{Antibody:"REGN10987",reference_site:485,Escape:.002075,wildtype:"G",mutant:"P"},{Antibody:"REGN10987",reference_site:485,Escape:.002076,wildtype:"G",mutant:"Q"},{Antibody:"REGN10987",reference_site:485,Escape:.002075,wildtype:"G",mutant:"R"},{Antibody:"REGN10987",reference_site:485,Escape:.002075,wildtype:"G",mutant:"S"},{Antibody:"REGN10987",reference_site:485,Escape:.002082,wildtype:"G",mutant:"T"},{Antibody:"REGN10987",reference_site:486,Escape:.002075,wildtype:"F",mutant:"A"},{Antibody:"REGN10987",reference_site:486,Escape:.002075,wildtype:"F",mutant:"C"},{Antibody:"REGN10987",reference_site:486,Escape:.002075,wildtype:"F",mutant:"D"},{Antibody:"REGN10987",reference_site:486,Escape:.002076,wildtype:"F",mutant:"E"},{Antibody:"REGN10987",reference_site:486,Escape:.002071,wildtype:"F",mutant:"G"},{Antibody:"REGN10987",reference_site:486,Escape:.002072,wildtype:"F",mutant:"H"},{Antibody:"REGN10987",reference_site:486,Escape:.002074,wildtype:"F",mutant:"I"},{Antibody:"REGN10987",reference_site:486,Escape:.002074,wildtype:"F",mutant:"K"},{Antibody:"REGN10987",reference_site:486,Escape:.002076,wildtype:"F",mutant:"L"},{Antibody:"REGN10987",reference_site:486,Escape:.002069,wildtype:"F",mutant:"M"},{Antibody:"REGN10987",reference_site:486,Escape:.002075,wildtype:"F",mutant:"N"},{Antibody:"REGN10987",reference_site:486,Escape:.002079,wildtype:"F",mutant:"P"},{Antibody:"REGN10987",reference_site:486,Escape:.002077,wildtype:"F",mutant:"Q"},{Antibody:"REGN10987",reference_site:486,Escape:.002076,wildtype:"F",mutant:"R"},{Antibody:"REGN10987",reference_site:486,Escape:.002077,wildtype:"F",mutant:"S"},{Antibody:"REGN10987",reference_site:486,Escape:.002075,wildtype:"F",mutant:"T"},{Antibody:"REGN10987",reference_site:486,Escape:.002075,wildtype:"F",mutant:"V"},{Antibody:"REGN10987",reference_site:486,Escape:.002075,wildtype:"F",mutant:"W"},{Antibody:"REGN10987",reference_site:486,Escape:.002078,wildtype:"F",mutant:"Y"},{Antibody:"REGN10987",reference_site:487,Escape:.002079,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:487,Escape:.002077,wildtype:"N",mutant:"D"},{Antibody:"REGN10987",reference_site:487,Escape:.002075,wildtype:"N",mutant:"E"},{Antibody:"REGN10987",reference_site:487,Escape:.002076,wildtype:"N",mutant:"F"},{Antibody:"REGN10987",reference_site:487,Escape:.002075,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:487,Escape:.002075,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:487,Escape:.002075,wildtype:"N",mutant:"K"},{Antibody:"REGN10987",reference_site:487,Escape:.002072,wildtype:"N",mutant:"L"},{Antibody:"REGN10987",reference_site:487,Escape:.002076,wildtype:"N",mutant:"M"},{Antibody:"REGN10987",reference_site:487,Escape:.002076,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:487,Escape:.002079,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:487,Escape:.002077,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:487,Escape:.002075,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:487,Escape:.002076,wildtype:"N",mutant:"Y"},{Antibody:"REGN10987",reference_site:489,Escape:.002076,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:489,Escape:.002076,wildtype:"Y",mutant:"H"},{Antibody:"REGN10987",reference_site:489,Escape:.002076,wildtype:"Y",mutant:"I"},{Antibody:"REGN10987",reference_site:489,Escape:.002072,wildtype:"Y",mutant:"L"},{Antibody:"REGN10987",reference_site:489,Escape:.002076,wildtype:"Y",mutant:"M"},{Antibody:"REGN10987",reference_site:489,Escape:.002076,wildtype:"Y",mutant:"Q"},{Antibody:"REGN10987",reference_site:489,Escape:.002076,wildtype:"Y",mutant:"V"},{Antibody:"REGN10987",reference_site:489,Escape:.002076,wildtype:"Y",mutant:"W"},{Antibody:"REGN10987",reference_site:490,Escape:.002075,wildtype:"F",mutant:"A"},{Antibody:"REGN10987",reference_site:490,Escape:.00208,wildtype:"F",mutant:"C"},{Antibody:"REGN10987",reference_site:490,Escape:.002079,wildtype:"F",mutant:"D"},{Antibody:"REGN10987",reference_site:490,Escape:.002075,wildtype:"F",mutant:"E"},{Antibody:"REGN10987",reference_site:490,Escape:.002075,wildtype:"F",mutant:"G"},{Antibody:"REGN10987",reference_site:490,Escape:.002075,wildtype:"F",mutant:"H"},{Antibody:"REGN10987",reference_site:490,Escape:.002077,wildtype:"F",mutant:"I"},{Antibody:"REGN10987",reference_site:490,Escape:.002076,wildtype:"F",mutant:"K"},{Antibody:"REGN10987",reference_site:490,Escape:.002078,wildtype:"F",mutant:"L"},{Antibody:"REGN10987",reference_site:490,Escape:.002075,wildtype:"F",mutant:"M"},{Antibody:"REGN10987",reference_site:490,Escape:.002075,wildtype:"F",mutant:"N"},{Antibody:"REGN10987",reference_site:490,Escape:.002075,wildtype:"F",mutant:"P"},{Antibody:"REGN10987",reference_site:490,Escape:.002077,wildtype:"F",mutant:"Q"},{Antibody:"REGN10987",reference_site:490,Escape:.002075,wildtype:"F",mutant:"R"},{Antibody:"REGN10987",reference_site:490,Escape:.002078,wildtype:"F",mutant:"S"},{Antibody:"REGN10987",reference_site:490,Escape:.002077,wildtype:"F",mutant:"T"},{Antibody:"REGN10987",reference_site:490,Escape:.002075,wildtype:"F",mutant:"V"},{Antibody:"REGN10987",reference_site:490,Escape:.002075,wildtype:"F",mutant:"W"},{Antibody:"REGN10987",reference_site:490,Escape:.002071,wildtype:"F",mutant:"Y"},{Antibody:"REGN10987",reference_site:492,Escape:.002076,wildtype:"L",mutant:"F"},{Antibody:"REGN10987",reference_site:492,Escape:.002075,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:492,Escape:.002076,wildtype:"L",mutant:"V"},{Antibody:"REGN10987",reference_site:493,Escape:.002078,wildtype:"Q",mutant:"A"},{Antibody:"REGN10987",reference_site:493,Escape:.002075,wildtype:"Q",mutant:"C"},{Antibody:"REGN10987",reference_site:493,Escape:.002075,wildtype:"Q",mutant:"D"},{Antibody:"REGN10987",reference_site:493,Escape:.002076,wildtype:"Q",mutant:"E"},{Antibody:"REGN10987",reference_site:493,Escape:.002075,wildtype:"Q",mutant:"F"},{Antibody:"REGN10987",reference_site:493,Escape:.002076,wildtype:"Q",mutant:"G"},{Antibody:"REGN10987",reference_site:493,Escape:.002075,wildtype:"Q",mutant:"H"},{Antibody:"REGN10987",reference_site:493,Escape:.002075,wildtype:"Q",mutant:"I"},{Antibody:"REGN10987",reference_site:493,Escape:.002076,wildtype:"Q",mutant:"K"},{Antibody:"REGN10987",reference_site:493,Escape:.002065,wildtype:"Q",mutant:"L"},{Antibody:"REGN10987",reference_site:493,Escape:.002075,wildtype:"Q",mutant:"M"},{Antibody:"REGN10987",reference_site:493,Escape:.002076,wildtype:"Q",mutant:"N"},{Antibody:"REGN10987",reference_site:493,Escape:.002075,wildtype:"Q",mutant:"R"},{Antibody:"REGN10987",reference_site:493,Escape:.002076,wildtype:"Q",mutant:"S"},{Antibody:"REGN10987",reference_site:493,Escape:.002075,wildtype:"Q",mutant:"T"},{Antibody:"REGN10987",reference_site:493,Escape:.002075,wildtype:"Q",mutant:"V"},{Antibody:"REGN10987",reference_site:493,Escape:.002591,wildtype:"Q",mutant:"W"},{Antibody:"REGN10987",reference_site:493,Escape:.002076,wildtype:"Q",mutant:"Y"},{Antibody:"REGN10987",reference_site:494,Escape:.002075,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:494,Escape:.002589,wildtype:"S",mutant:"D"},{Antibody:"REGN10987",reference_site:494,Escape:.002076,wildtype:"S",mutant:"F"},{Antibody:"REGN10987",reference_site:494,Escape:.002076,wildtype:"S",mutant:"G"},{Antibody:"REGN10987",reference_site:494,Escape:.002074,wildtype:"S",mutant:"H"},{Antibody:"REGN10987",reference_site:494,Escape:.002076,wildtype:"S",mutant:"I"},{Antibody:"REGN10987",reference_site:494,Escape:.002075,wildtype:"S",mutant:"K"},{Antibody:"REGN10987",reference_site:494,Escape:.002075,wildtype:"S",mutant:"M"},{Antibody:"REGN10987",reference_site:494,Escape:.002076,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:494,Escape:.002076,wildtype:"S",mutant:"P"},{Antibody:"REGN10987",reference_site:494,Escape:.002075,wildtype:"S",mutant:"R"},{Antibody:"REGN10987",reference_site:494,Escape:.002075,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:494,Escape:.002075,wildtype:"S",mutant:"V"},{Antibody:"REGN10987",reference_site:494,Escape:.002076,wildtype:"S",mutant:"W"},{Antibody:"REGN10987",reference_site:494,Escape:.002075,wildtype:"S",mutant:"Y"},{Antibody:"REGN10987",reference_site:496,Escape:.002076,wildtype:"G",mutant:"A"},{Antibody:"REGN10987",reference_site:496,Escape:.003073,wildtype:"G",mutant:"C"},{Antibody:"REGN10987",reference_site:496,Escape:.007593,wildtype:"G",mutant:"D"},{Antibody:"REGN10987",reference_site:496,Escape:.002077,wildtype:"G",mutant:"E"},{Antibody:"REGN10987",reference_site:496,Escape:.002076,wildtype:"G",mutant:"F"},{Antibody:"REGN10987",reference_site:496,Escape:.002083,wildtype:"G",mutant:"H"},{Antibody:"REGN10987",reference_site:496,Escape:.002076,wildtype:"G",mutant:"I"},{Antibody:"REGN10987",reference_site:496,Escape:.002076,wildtype:"G",mutant:"K"},{Antibody:"REGN10987",reference_site:496,Escape:.002078,wildtype:"G",mutant:"L"},{Antibody:"REGN10987",reference_site:496,Escape:.002075,wildtype:"G",mutant:"M"},{Antibody:"REGN10987",reference_site:496,Escape:.002076,wildtype:"G",mutant:"N"},{Antibody:"REGN10987",reference_site:496,Escape:.002075,wildtype:"G",mutant:"Q"},{Antibody:"REGN10987",reference_site:496,Escape:.002075,wildtype:"G",mutant:"R"},{Antibody:"REGN10987",reference_site:496,Escape:.002082,wildtype:"G",mutant:"S"},{Antibody:"REGN10987",reference_site:496,Escape:.002076,wildtype:"G",mutant:"T"},{Antibody:"REGN10987",reference_site:496,Escape:.002077,wildtype:"G",mutant:"V"},{Antibody:"REGN10987",reference_site:496,Escape:.002077,wildtype:"G",mutant:"W"},{Antibody:"REGN10987",reference_site:496,Escape:.002082,wildtype:"G",mutant:"Y"},{Antibody:"REGN10987",reference_site:498,Escape:.002075,wildtype:"Q",mutant:"A"},{Antibody:"REGN10987",reference_site:498,Escape:.002075,wildtype:"Q",mutant:"C"},{Antibody:"REGN10987",reference_site:498,Escape:.002076,wildtype:"Q",mutant:"D"},{Antibody:"REGN10987",reference_site:498,Escape:.002075,wildtype:"Q",mutant:"E"},{Antibody:"REGN10987",reference_site:498,Escape:.02425,wildtype:"Q",mutant:"F"},{Antibody:"REGN10987",reference_site:498,Escape:.002075,wildtype:"Q",mutant:"G"},{Antibody:"REGN10987",reference_site:498,Escape:.002081,wildtype:"Q",mutant:"H"},{Antibody:"REGN10987",reference_site:498,Escape:.002076,wildtype:"Q",mutant:"I"},{Antibody:"REGN10987",reference_site:498,Escape:.002075,wildtype:"Q",mutant:"K"},{Antibody:"REGN10987",reference_site:498,Escape:.00321,wildtype:"Q",mutant:"L"},{Antibody:"REGN10987",reference_site:498,Escape:.002075,wildtype:"Q",mutant:"M"},{Antibody:"REGN10987",reference_site:498,Escape:.002075,wildtype:"Q",mutant:"N"},{Antibody:"REGN10987",reference_site:498,Escape:.002078,wildtype:"Q",mutant:"R"},{Antibody:"REGN10987",reference_site:498,Escape:.002073,wildtype:"Q",mutant:"S"},{Antibody:"REGN10987",reference_site:498,Escape:.002072,wildtype:"Q",mutant:"T"},{Antibody:"REGN10987",reference_site:498,Escape:.002075,wildtype:"Q",mutant:"V"},{Antibody:"REGN10987",reference_site:498,Escape:.2834,wildtype:"Q",mutant:"W"},{Antibody:"REGN10987",reference_site:498,Escape:.008974,wildtype:"Q",mutant:"Y"},{Antibody:"REGN10987",reference_site:499,Escape:.002076,wildtype:"P",mutant:"A"},{Antibody:"REGN10987",reference_site:499,Escape:.8679,wildtype:"P",mutant:"C"},{Antibody:"REGN10987",reference_site:499,Escape:.9947,wildtype:"P",mutant:"D"},{Antibody:"REGN10987",reference_site:499,Escape:.8744,wildtype:"P",mutant:"E"},{Antibody:"REGN10987",reference_site:499,Escape:.8269,wildtype:"P",mutant:"G"},{Antibody:"REGN10987",reference_site:499,Escape:.3335,wildtype:"P",mutant:"H"},{Antibody:"REGN10987",reference_site:499,Escape:.05697,wildtype:"P",mutant:"L"},{Antibody:"REGN10987",reference_site:499,Escape:.2294,wildtype:"P",mutant:"M"},{Antibody:"REGN10987",reference_site:499,Escape:.7046,wildtype:"P",mutant:"N"},{Antibody:"REGN10987",reference_site:499,Escape:.657,wildtype:"P",mutant:"Q"},{Antibody:"REGN10987",reference_site:499,Escape:.8923,wildtype:"P",mutant:"R"},{Antibody:"REGN10987",reference_site:499,Escape:.782,wildtype:"P",mutant:"S"},{Antibody:"REGN10987",reference_site:499,Escape:.5848,wildtype:"P",mutant:"T"},{Antibody:"REGN10987",reference_site:499,Escape:.002079,wildtype:"P",mutant:"V"},{Antibody:"REGN10987",reference_site:499,Escape:.3508,wildtype:"P",mutant:"Y"},{Antibody:"REGN10987",reference_site:500,Escape:.002072,wildtype:"T",mutant:"A"},{Antibody:"REGN10987",reference_site:500,Escape:.002076,wildtype:"T",mutant:"C"},{Antibody:"REGN10987",reference_site:500,Escape:.4751,wildtype:"T",mutant:"D"},{Antibody:"REGN10987",reference_site:500,Escape:.002075,wildtype:"T",mutant:"E"},{Antibody:"REGN10987",reference_site:500,Escape:.002075,wildtype:"T",mutant:"F"},{Antibody:"REGN10987",reference_site:500,Escape:.00232,wildtype:"T",mutant:"G"},{Antibody:"REGN10987",reference_site:500,Escape:.002076,wildtype:"T",mutant:"H"},{Antibody:"REGN10987",reference_site:500,Escape:.002075,wildtype:"T",mutant:"I"},{Antibody:"REGN10987",reference_site:500,Escape:.002368,wildtype:"T",mutant:"K"},{Antibody:"REGN10987",reference_site:500,Escape:.002075,wildtype:"T",mutant:"L"},{Antibody:"REGN10987",reference_site:500,Escape:.002074,wildtype:"T",mutant:"M"},{Antibody:"REGN10987",reference_site:500,Escape:.002077,wildtype:"T",mutant:"N"},{Antibody:"REGN10987",reference_site:500,Escape:.002076,wildtype:"T",mutant:"P"},{Antibody:"REGN10987",reference_site:500,Escape:.002076,wildtype:"T",mutant:"Q"},{Antibody:"REGN10987",reference_site:500,Escape:.002077,wildtype:"T",mutant:"R"},{Antibody:"REGN10987",reference_site:500,Escape:.002073,wildtype:"T",mutant:"S"},{Antibody:"REGN10987",reference_site:500,Escape:.002075,wildtype:"T",mutant:"V"},{Antibody:"REGN10987",reference_site:500,Escape:.00208,wildtype:"T",mutant:"W"},{Antibody:"REGN10987",reference_site:500,Escape:.002082,wildtype:"T",mutant:"Y"},{Antibody:"REGN10987",reference_site:501,Escape:.002075,wildtype:"N",mutant:"A"},{Antibody:"REGN10987",reference_site:501,Escape:.002075,wildtype:"N",mutant:"C"},{Antibody:"REGN10987",reference_site:501,Escape:.002068,wildtype:"N",mutant:"F"},{Antibody:"REGN10987",reference_site:501,Escape:.002075,wildtype:"N",mutant:"G"},{Antibody:"REGN10987",reference_site:501,Escape:.002069,wildtype:"N",mutant:"H"},{Antibody:"REGN10987",reference_site:501,Escape:.002075,wildtype:"N",mutant:"I"},{Antibody:"REGN10987",reference_site:501,Escape:.002076,wildtype:"N",mutant:"L"},{Antibody:"REGN10987",reference_site:501,Escape:.00207,wildtype:"N",mutant:"M"},{Antibody:"REGN10987",reference_site:501,Escape:.002079,wildtype:"N",mutant:"P"},{Antibody:"REGN10987",reference_site:501,Escape:.002075,wildtype:"N",mutant:"Q"},{Antibody:"REGN10987",reference_site:501,Escape:.002076,wildtype:"N",mutant:"R"},{Antibody:"REGN10987",reference_site:501,Escape:.002074,wildtype:"N",mutant:"S"},{Antibody:"REGN10987",reference_site:501,Escape:.002076,wildtype:"N",mutant:"T"},{Antibody:"REGN10987",reference_site:501,Escape:.002076,wildtype:"N",mutant:"V"},{Antibody:"REGN10987",reference_site:501,Escape:.002076,wildtype:"N",mutant:"W"},{Antibody:"REGN10987",reference_site:501,Escape:.002071,wildtype:"N",mutant:"Y"},{Antibody:"REGN10987",reference_site:503,Escape:.002078,wildtype:"V",mutant:"A"},{Antibody:"REGN10987",reference_site:503,Escape:.002075,wildtype:"V",mutant:"C"},{Antibody:"REGN10987",reference_site:503,Escape:.002074,wildtype:"V",mutant:"D"},{Antibody:"REGN10987",reference_site:503,Escape:.002076,wildtype:"V",mutant:"E"},{Antibody:"REGN10987",reference_site:503,Escape:.002076,wildtype:"V",mutant:"F"},{Antibody:"REGN10987",reference_site:503,Escape:.002075,wildtype:"V",mutant:"G"},{Antibody:"REGN10987",reference_site:503,Escape:.002075,wildtype:"V",mutant:"H"},{Antibody:"REGN10987",reference_site:503,Escape:.002074,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:503,Escape:.002075,wildtype:"V",mutant:"K"},{Antibody:"REGN10987",reference_site:503,Escape:.002075,wildtype:"V",mutant:"L"},{Antibody:"REGN10987",reference_site:503,Escape:.002075,wildtype:"V",mutant:"M"},{Antibody:"REGN10987",reference_site:503,Escape:.002074,wildtype:"V",mutant:"N"},{Antibody:"REGN10987",reference_site:503,Escape:.002078,wildtype:"V",mutant:"Q"},{Antibody:"REGN10987",reference_site:503,Escape:.002079,wildtype:"V",mutant:"R"},{Antibody:"REGN10987",reference_site:503,Escape:.002072,wildtype:"V",mutant:"S"},{Antibody:"REGN10987",reference_site:503,Escape:.007378,wildtype:"V",mutant:"T"},{Antibody:"REGN10987",reference_site:503,Escape:.002076,wildtype:"V",mutant:"W"},{Antibody:"REGN10987",reference_site:503,Escape:.002075,wildtype:"V",mutant:"Y"},{Antibody:"REGN10987",reference_site:504,Escape:.002075,wildtype:"G",mutant:"A"},{Antibody:"REGN10987",reference_site:504,Escape:.002076,wildtype:"G",mutant:"C"},{Antibody:"REGN10987",reference_site:504,Escape:.002077,wildtype:"G",mutant:"D"},{Antibody:"REGN10987",reference_site:504,Escape:.002076,wildtype:"G",mutant:"E"},{Antibody:"REGN10987",reference_site:504,Escape:.002074,wildtype:"G",mutant:"F"},{Antibody:"REGN10987",reference_site:504,Escape:.002076,wildtype:"G",mutant:"H"},{Antibody:"REGN10987",reference_site:504,Escape:.002075,wildtype:"G",mutant:"I"},{Antibody:"REGN10987",reference_site:504,Escape:.002077,wildtype:"G",mutant:"K"},{Antibody:"REGN10987",reference_site:504,Escape:.002073,wildtype:"G",mutant:"L"},{Antibody:"REGN10987",reference_site:504,Escape:.00208,wildtype:"G",mutant:"M"},{Antibody:"REGN10987",reference_site:504,Escape:.002071,wildtype:"G",mutant:"N"},{Antibody:"REGN10987",reference_site:504,Escape:.002081,wildtype:"G",mutant:"P"},{Antibody:"REGN10987",reference_site:504,Escape:.002075,wildtype:"G",mutant:"Q"},{Antibody:"REGN10987",reference_site:504,Escape:.002074,wildtype:"G",mutant:"R"},{Antibody:"REGN10987",reference_site:504,Escape:.002083,wildtype:"G",mutant:"S"},{Antibody:"REGN10987",reference_site:504,Escape:.002075,wildtype:"G",mutant:"T"},{Antibody:"REGN10987",reference_site:504,Escape:.002075,wildtype:"G",mutant:"V"},{Antibody:"REGN10987",reference_site:504,Escape:.002077,wildtype:"G",mutant:"W"},{Antibody:"REGN10987",reference_site:504,Escape:.002076,wildtype:"G",mutant:"Y"},{Antibody:"REGN10987",reference_site:505,Escape:.002075,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:505,Escape:.002079,wildtype:"Y",mutant:"H"},{Antibody:"REGN10987",reference_site:505,Escape:.002584,wildtype:"Y",mutant:"M"},{Antibody:"REGN10987",reference_site:505,Escape:.002075,wildtype:"Y",mutant:"N"},{Antibody:"REGN10987",reference_site:505,Escape:.002076,wildtype:"Y",mutant:"Q"},{Antibody:"REGN10987",reference_site:505,Escape:.002076,wildtype:"Y",mutant:"W"},{Antibody:"REGN10987",reference_site:506,Escape:.002076,wildtype:"Q",mutant:"A"},{Antibody:"REGN10987",reference_site:506,Escape:.002077,wildtype:"Q",mutant:"E"},{Antibody:"REGN10987",reference_site:506,Escape:.005702,wildtype:"Q",mutant:"H"},{Antibody:"REGN10987",reference_site:506,Escape:.002599,wildtype:"Q",mutant:"N"},{Antibody:"REGN10987",reference_site:507,Escape:.3451,wildtype:"P",mutant:"A"},{Antibody:"REGN10987",reference_site:508,Escape:.002082,wildtype:"Y",mutant:"A"},{Antibody:"REGN10987",reference_site:508,Escape:.002077,wildtype:"Y",mutant:"F"},{Antibody:"REGN10987",reference_site:508,Escape:.002078,wildtype:"Y",mutant:"H"},{Antibody:"REGN10987",reference_site:508,Escape:.002076,wildtype:"Y",mutant:"M"},{Antibody:"REGN10987",reference_site:508,Escape:.002079,wildtype:"Y",mutant:"N"},{Antibody:"REGN10987",reference_site:508,Escape:.002076,wildtype:"Y",mutant:"T"},{Antibody:"REGN10987",reference_site:508,Escape:.002076,wildtype:"Y",mutant:"V"},{Antibody:"REGN10987",reference_site:508,Escape:.002076,wildtype:"Y",mutant:"W"},{Antibody:"REGN10987",reference_site:510,Escape:.002076,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:512,Escape:.002076,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:513,Escape:.002075,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:513,Escape:.002075,wildtype:"L",mutant:"M"},{Antibody:"REGN10987",reference_site:514,Escape:.002082,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:514,Escape:.002077,wildtype:"S",mutant:"C"},{Antibody:"REGN10987",reference_site:514,Escape:.002076,wildtype:"S",mutant:"F"},{Antibody:"REGN10987",reference_site:514,Escape:.002081,wildtype:"S",mutant:"G"},{Antibody:"REGN10987",reference_site:514,Escape:.002076,wildtype:"S",mutant:"H"},{Antibody:"REGN10987",reference_site:514,Escape:.002076,wildtype:"S",mutant:"I"},{Antibody:"REGN10987",reference_site:514,Escape:.003851,wildtype:"S",mutant:"K"},{Antibody:"REGN10987",reference_site:514,Escape:.002077,wildtype:"S",mutant:"L"},{Antibody:"REGN10987",reference_site:514,Escape:.002076,wildtype:"S",mutant:"M"},{Antibody:"REGN10987",reference_site:514,Escape:.002076,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:514,Escape:.002076,wildtype:"S",mutant:"Q"},{Antibody:"REGN10987",reference_site:514,Escape:.002075,wildtype:"S",mutant:"R"},{Antibody:"REGN10987",reference_site:514,Escape:.002071,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:514,Escape:.002079,wildtype:"S",mutant:"V"},{Antibody:"REGN10987",reference_site:514,Escape:.002083,wildtype:"S",mutant:"W"},{Antibody:"REGN10987",reference_site:514,Escape:.00208,wildtype:"S",mutant:"Y"},{Antibody:"REGN10987",reference_site:515,Escape:.002075,wildtype:"F",mutant:"L"},{Antibody:"REGN10987",reference_site:515,Escape:.002076,wildtype:"F",mutant:"M"},{Antibody:"REGN10987",reference_site:516,Escape:.002076,wildtype:"E",mutant:"D"},{Antibody:"REGN10987",reference_site:516,Escape:.002076,wildtype:"E",mutant:"H"},{Antibody:"REGN10987",reference_site:516,Escape:.002075,wildtype:"E",mutant:"K"},{Antibody:"REGN10987",reference_site:516,Escape:.002076,wildtype:"E",mutant:"N"},{Antibody:"REGN10987",reference_site:516,Escape:.002076,wildtype:"E",mutant:"P"},{Antibody:"REGN10987",reference_site:516,Escape:.002076,wildtype:"E",mutant:"R"},{Antibody:"REGN10987",reference_site:516,Escape:.002076,wildtype:"E",mutant:"S"},{Antibody:"REGN10987",reference_site:516,Escape:.00156,wildtype:"E",mutant:"T"},{Antibody:"REGN10987",reference_site:517,Escape:.002077,wildtype:"L",mutant:"E"},{Antibody:"REGN10987",reference_site:517,Escape:.002075,wildtype:"L",mutant:"H"},{Antibody:"REGN10987",reference_site:517,Escape:.002075,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:517,Escape:.002076,wildtype:"L",mutant:"K"},{Antibody:"REGN10987",reference_site:517,Escape:.002076,wildtype:"L",mutant:"M"},{Antibody:"REGN10987",reference_site:517,Escape:.002078,wildtype:"L",mutant:"N"},{Antibody:"REGN10987",reference_site:517,Escape:.002075,wildtype:"L",mutant:"Q"},{Antibody:"REGN10987",reference_site:517,Escape:.002076,wildtype:"L",mutant:"R"},{Antibody:"REGN10987",reference_site:517,Escape:.002075,wildtype:"L",mutant:"S"},{Antibody:"REGN10987",reference_site:517,Escape:.002074,wildtype:"L",mutant:"T"},{Antibody:"REGN10987",reference_site:517,Escape:.004383,wildtype:"L",mutant:"V"},{Antibody:"REGN10987",reference_site:517,Escape:.002076,wildtype:"L",mutant:"Y"},{Antibody:"REGN10987",reference_site:518,Escape:.002078,wildtype:"L",mutant:"F"},{Antibody:"REGN10987",reference_site:518,Escape:.002076,wildtype:"L",mutant:"H"},{Antibody:"REGN10987",reference_site:518,Escape:.002076,wildtype:"L",mutant:"I"},{Antibody:"REGN10987",reference_site:518,Escape:.002076,wildtype:"L",mutant:"K"},{Antibody:"REGN10987",reference_site:518,Escape:.002076,wildtype:"L",mutant:"M"},{Antibody:"REGN10987",reference_site:518,Escape:.002074,wildtype:"L",mutant:"N"},{Antibody:"REGN10987",reference_site:518,Escape:.002075,wildtype:"L",mutant:"P"},{Antibody:"REGN10987",reference_site:518,Escape:.002076,wildtype:"L",mutant:"Q"},{Antibody:"REGN10987",reference_site:518,Escape:.002076,wildtype:"L",mutant:"R"},{Antibody:"REGN10987",reference_site:518,Escape:.002076,wildtype:"L",mutant:"S"},{Antibody:"REGN10987",reference_site:518,Escape:.002076,wildtype:"L",mutant:"T"},{Antibody:"REGN10987",reference_site:518,Escape:.002076,wildtype:"L",mutant:"V"},{Antibody:"REGN10987",reference_site:518,Escape:.002076,wildtype:"L",mutant:"W"},{Antibody:"REGN10987",reference_site:518,Escape:.002075,wildtype:"L",mutant:"Y"},{Antibody:"REGN10987",reference_site:519,Escape:.002075,wildtype:"H",mutant:"C"},{Antibody:"REGN10987",reference_site:519,Escape:.03777,wildtype:"H",mutant:"D"},{Antibody:"REGN10987",reference_site:519,Escape:.002075,wildtype:"H",mutant:"F"},{Antibody:"REGN10987",reference_site:519,Escape:.002076,wildtype:"H",mutant:"I"},{Antibody:"REGN10987",reference_site:519,Escape:.002075,wildtype:"H",mutant:"L"},{Antibody:"REGN10987",reference_site:519,Escape:.002074,wildtype:"H",mutant:"N"},{Antibody:"REGN10987",reference_site:519,Escape:.002076,wildtype:"H",mutant:"P"},{Antibody:"REGN10987",reference_site:519,Escape:.0518,wildtype:"H",mutant:"Q"},{Antibody:"REGN10987",reference_site:519,Escape:.002075,wildtype:"H",mutant:"R"},{Antibody:"REGN10987",reference_site:519,Escape:.002071,wildtype:"H",mutant:"S"},{Antibody:"REGN10987",reference_site:519,Escape:.002079,wildtype:"H",mutant:"T"},{Antibody:"REGN10987",reference_site:519,Escape:.002076,wildtype:"H",mutant:"V"},{Antibody:"REGN10987",reference_site:519,Escape:.002077,wildtype:"H",mutant:"Y"},{Antibody:"REGN10987",reference_site:520,Escape:.002074,wildtype:"A",mutant:"C"},{Antibody:"REGN10987",reference_site:520,Escape:.002075,wildtype:"A",mutant:"D"},{Antibody:"REGN10987",reference_site:520,Escape:.002074,wildtype:"A",mutant:"E"},{Antibody:"REGN10987",reference_site:520,Escape:.002076,wildtype:"A",mutant:"F"},{Antibody:"REGN10987",reference_site:520,Escape:.00259,wildtype:"A",mutant:"G"},{Antibody:"REGN10987",reference_site:520,Escape:.002072,wildtype:"A",mutant:"H"},{Antibody:"REGN10987",reference_site:520,Escape:.002077,wildtype:"A",mutant:"I"},{Antibody:"REGN10987",reference_site:520,Escape:.002076,wildtype:"A",mutant:"K"},{Antibody:"REGN10987",reference_site:520,Escape:.002075,wildtype:"A",mutant:"L"},{Antibody:"REGN10987",reference_site:520,Escape:.002073,wildtype:"A",mutant:"M"},{Antibody:"REGN10987",reference_site:520,Escape:.002076,wildtype:"A",mutant:"N"},{Antibody:"REGN10987",reference_site:520,Escape:.002065,wildtype:"A",mutant:"P"},{Antibody:"REGN10987",reference_site:520,Escape:.002077,wildtype:"A",mutant:"R"},{Antibody:"REGN10987",reference_site:520,Escape:.002078,wildtype:"A",mutant:"S"},{Antibody:"REGN10987",reference_site:520,Escape:.002075,wildtype:"A",mutant:"T"},{Antibody:"REGN10987",reference_site:520,Escape:.002079,wildtype:"A",mutant:"V"},{Antibody:"REGN10987",reference_site:520,Escape:.002075,wildtype:"A",mutant:"Y"},{Antibody:"REGN10987",reference_site:521,Escape:.00156,wildtype:"P",mutant:"C"},{Antibody:"REGN10987",reference_site:521,Escape:.002076,wildtype:"P",mutant:"F"},{Antibody:"REGN10987",reference_site:521,Escape:.002076,wildtype:"P",mutant:"G"},{Antibody:"REGN10987",reference_site:521,Escape:.002076,wildtype:"P",mutant:"H"},{Antibody:"REGN10987",reference_site:521,Escape:.002075,wildtype:"P",mutant:"N"},{Antibody:"REGN10987",reference_site:521,Escape:.002076,wildtype:"P",mutant:"R"},{Antibody:"REGN10987",reference_site:521,Escape:.002078,wildtype:"P",mutant:"S"},{Antibody:"REGN10987",reference_site:521,Escape:.002081,wildtype:"P",mutant:"T"},{Antibody:"REGN10987",reference_site:522,Escape:.002076,wildtype:"A",mutant:"C"},{Antibody:"REGN10987",reference_site:522,Escape:.002076,wildtype:"A",mutant:"D"},{Antibody:"REGN10987",reference_site:522,Escape:.002078,wildtype:"A",mutant:"E"},{Antibody:"REGN10987",reference_site:522,Escape:.002078,wildtype:"A",mutant:"G"},{Antibody:"REGN10987",reference_site:522,Escape:.002082,wildtype:"A",mutant:"H"},{Antibody:"REGN10987",reference_site:522,Escape:.002075,wildtype:"A",mutant:"I"},{Antibody:"REGN10987",reference_site:522,Escape:.002594,wildtype:"A",mutant:"K"},{Antibody:"REGN10987",reference_site:522,Escape:.002075,wildtype:"A",mutant:"L"},{Antibody:"REGN10987",reference_site:522,Escape:.002075,wildtype:"A",mutant:"M"},{Antibody:"REGN10987",reference_site:522,Escape:.002075,wildtype:"A",mutant:"P"},{Antibody:"REGN10987",reference_site:522,Escape:.002076,wildtype:"A",mutant:"R"},{Antibody:"REGN10987",reference_site:522,Escape:.002076,wildtype:"A",mutant:"S"},{Antibody:"REGN10987",reference_site:522,Escape:.002075,wildtype:"A",mutant:"T"},{Antibody:"REGN10987",reference_site:522,Escape:.002075,wildtype:"A",mutant:"V"},{Antibody:"REGN10987",reference_site:522,Escape:.002076,wildtype:"A",mutant:"W"},{Antibody:"REGN10987",reference_site:522,Escape:.002074,wildtype:"A",mutant:"Y"},{Antibody:"REGN10987",reference_site:523,Escape:.002076,wildtype:"T",mutant:"I"},{Antibody:"REGN10987",reference_site:523,Escape:.002076,wildtype:"T",mutant:"Y"},{Antibody:"REGN10987",reference_site:524,Escape:.002075,wildtype:"V",mutant:"A"},{Antibody:"REGN10987",reference_site:524,Escape:.002076,wildtype:"V",mutant:"G"},{Antibody:"REGN10987",reference_site:524,Escape:.002075,wildtype:"V",mutant:"I"},{Antibody:"REGN10987",reference_site:525,Escape:.002076,wildtype:"C",mutant:"A"},{Antibody:"REGN10987",reference_site:525,Escape:.002078,wildtype:"C",mutant:"F"},{Antibody:"REGN10987",reference_site:525,Escape:.002076,wildtype:"C",mutant:"I"},{Antibody:"REGN10987",reference_site:525,Escape:.002076,wildtype:"C",mutant:"L"},{Antibody:"REGN10987",reference_site:525,Escape:.002076,wildtype:"C",mutant:"N"},{Antibody:"REGN10987",reference_site:525,Escape:.002076,wildtype:"C",mutant:"R"},{Antibody:"REGN10987",reference_site:525,Escape:.002075,wildtype:"C",mutant:"S"},{Antibody:"REGN10987",reference_site:526,Escape:.002076,wildtype:"G",mutant:"A"},{Antibody:"REGN10987",reference_site:526,Escape:.002074,wildtype:"G",mutant:"D"},{Antibody:"REGN10987",reference_site:526,Escape:.002078,wildtype:"G",mutant:"E"},{Antibody:"REGN10987",reference_site:526,Escape:.002076,wildtype:"G",mutant:"L"},{Antibody:"REGN10987",reference_site:526,Escape:.002076,wildtype:"G",mutant:"N"},{Antibody:"REGN10987",reference_site:526,Escape:.002076,wildtype:"G",mutant:"P"},{Antibody:"REGN10987",reference_site:526,Escape:.002076,wildtype:"G",mutant:"R"},{Antibody:"REGN10987",reference_site:526,Escape:.002072,wildtype:"G",mutant:"S"},{Antibody:"REGN10987",reference_site:526,Escape:.002075,wildtype:"G",mutant:"V"},{Antibody:"REGN10987",reference_site:526,Escape:.002074,wildtype:"G",mutant:"W"},{Antibody:"REGN10987",reference_site:527,Escape:.002078,wildtype:"P",mutant:"A"},{Antibody:"REGN10987",reference_site:527,Escape:.002591,wildtype:"P",mutant:"C"},{Antibody:"REGN10987",reference_site:527,Escape:.002075,wildtype:"P",mutant:"E"},{Antibody:"REGN10987",reference_site:527,Escape:.002075,wildtype:"P",mutant:"F"},{Antibody:"REGN10987",reference_site:527,Escape:.002075,wildtype:"P",mutant:"G"},{Antibody:"REGN10987",reference_site:527,Escape:.002076,wildtype:"P",mutant:"H"},{Antibody:"REGN10987",reference_site:527,Escape:.002075,wildtype:"P",mutant:"I"},{Antibody:"REGN10987",reference_site:527,Escape:.002075,wildtype:"P",mutant:"K"},{Antibody:"REGN10987",reference_site:527,Escape:.002077,wildtype:"P",mutant:"L"},{Antibody:"REGN10987",reference_site:527,Escape:.002075,wildtype:"P",mutant:"M"},{Antibody:"REGN10987",reference_site:527,Escape:.002073,wildtype:"P",mutant:"N"},{Antibody:"REGN10987",reference_site:527,Escape:.002078,wildtype:"P",mutant:"Q"},{Antibody:"REGN10987",reference_site:527,Escape:.002075,wildtype:"P",mutant:"R"},{Antibody:"REGN10987",reference_site:527,Escape:.002074,wildtype:"P",mutant:"S"},{Antibody:"REGN10987",reference_site:527,Escape:.002074,wildtype:"P",mutant:"T"},{Antibody:"REGN10987",reference_site:527,Escape:.002079,wildtype:"P",mutant:"V"},{Antibody:"REGN10987",reference_site:527,Escape:.002075,wildtype:"P",mutant:"Y"},{Antibody:"REGN10987",reference_site:528,Escape:.002075,wildtype:"K",mutant:"A"},{Antibody:"REGN10987",reference_site:528,Escape:.002077,wildtype:"K",mutant:"C"},{Antibody:"REGN10987",reference_site:528,Escape:.00208,wildtype:"K",mutant:"D"},{Antibody:"REGN10987",reference_site:528,Escape:.002075,wildtype:"K",mutant:"E"},{Antibody:"REGN10987",reference_site:528,Escape:.002075,wildtype:"K",mutant:"G"},{Antibody:"REGN10987",reference_site:528,Escape:.002075,wildtype:"K",mutant:"H"},{Antibody:"REGN10987",reference_site:528,Escape:.002075,wildtype:"K",mutant:"I"},{Antibody:"REGN10987",reference_site:528,Escape:.002078,wildtype:"K",mutant:"L"},{Antibody:"REGN10987",reference_site:528,Escape:.002074,wildtype:"K",mutant:"M"},{Antibody:"REGN10987",reference_site:528,Escape:.002074,wildtype:"K",mutant:"N"},{Antibody:"REGN10987",reference_site:528,Escape:.002074,wildtype:"K",mutant:"P"},{Antibody:"REGN10987",reference_site:528,Escape:.002075,wildtype:"K",mutant:"Q"},{Antibody:"REGN10987",reference_site:528,Escape:.002077,wildtype:"K",mutant:"R"},{Antibody:"REGN10987",reference_site:528,Escape:.00208,wildtype:"K",mutant:"S"},{Antibody:"REGN10987",reference_site:528,Escape:.002075,wildtype:"K",mutant:"T"},{Antibody:"REGN10987",reference_site:528,Escape:.002074,wildtype:"K",mutant:"V"},{Antibody:"REGN10987",reference_site:528,Escape:.002075,wildtype:"K",mutant:"W"},{Antibody:"REGN10987",reference_site:528,Escape:.002076,wildtype:"K",mutant:"Y"},{Antibody:"REGN10987",reference_site:529,Escape:.002076,wildtype:"K",mutant:"C"},{Antibody:"REGN10987",reference_site:529,Escape:.002075,wildtype:"K",mutant:"D"},{Antibody:"REGN10987",reference_site:529,Escape:.002076,wildtype:"K",mutant:"E"},{Antibody:"REGN10987",reference_site:529,Escape:.002072,wildtype:"K",mutant:"F"},{Antibody:"REGN10987",reference_site:529,Escape:.002076,wildtype:"K",mutant:"G"},{Antibody:"REGN10987",reference_site:529,Escape:.002075,wildtype:"K",mutant:"H"},{Antibody:"REGN10987",reference_site:529,Escape:.002069,wildtype:"K",mutant:"I"},{Antibody:"REGN10987",reference_site:529,Escape:.002075,wildtype:"K",mutant:"L"},{Antibody:"REGN10987",reference_site:529,Escape:.002065,wildtype:"K",mutant:"M"},{Antibody:"REGN10987",reference_site:529,Escape:.002078,wildtype:"K",mutant:"N"},{Antibody:"REGN10987",reference_site:529,Escape:.002077,wildtype:"K",mutant:"P"},{Antibody:"REGN10987",reference_site:529,Escape:.002073,wildtype:"K",mutant:"Q"},{Antibody:"REGN10987",reference_site:529,Escape:.002075,wildtype:"K",mutant:"R"},{Antibody:"REGN10987",reference_site:529,Escape:.002075,wildtype:"K",mutant:"S"},{Antibody:"REGN10987",reference_site:529,Escape:.002077,wildtype:"K",mutant:"T"},{Antibody:"REGN10987",reference_site:529,Escape:.002075,wildtype:"K",mutant:"V"},{Antibody:"REGN10987",reference_site:529,Escape:.002075,wildtype:"K",mutant:"W"},{Antibody:"REGN10987",reference_site:529,Escape:.002078,wildtype:"K",mutant:"Y"},{Antibody:"REGN10987",reference_site:530,Escape:.002076,wildtype:"S",mutant:"A"},{Antibody:"REGN10987",reference_site:530,Escape:.002075,wildtype:"S",mutant:"C"},{Antibody:"REGN10987",reference_site:530,Escape:.002076,wildtype:"S",mutant:"D"},{Antibody:"REGN10987",reference_site:530,Escape:.002075,wildtype:"S",mutant:"E"},{Antibody:"REGN10987",reference_site:530,Escape:.002078,wildtype:"S",mutant:"F"},{Antibody:"REGN10987",reference_site:530,Escape:.002075,wildtype:"S",mutant:"G"},{Antibody:"REGN10987",reference_site:530,Escape:.002075,wildtype:"S",mutant:"H"},{Antibody:"REGN10987",reference_site:530,Escape:.002074,wildtype:"S",mutant:"I"},{Antibody:"REGN10987",reference_site:530,Escape:.002072,wildtype:"S",mutant:"K"},{Antibody:"REGN10987",reference_site:530,Escape:.002076,wildtype:"S",mutant:"L"},{Antibody:"REGN10987",reference_site:530,Escape:.002075,wildtype:"S",mutant:"M"},{Antibody:"REGN10987",reference_site:530,Escape:.002075,wildtype:"S",mutant:"N"},{Antibody:"REGN10987",reference_site:530,Escape:.002072,wildtype:"S",mutant:"P"},{Antibody:"REGN10987",reference_site:530,Escape:.002074,wildtype:"S",mutant:"Q"},{Antibody:"REGN10987",reference_site:530,Escape:.002073,wildtype:"S",mutant:"R"},{Antibody:"REGN10987",reference_site:530,Escape:.002075,wildtype:"S",mutant:"T"},{Antibody:"REGN10987",reference_site:530,Escape:.002097,wildtype:"S",mutant:"V"},{Antibody:"REGN10987",reference_site:530,Escape:.002075,wildtype:"S",mutant:"W"},{Antibody:"REGN10987",reference_site:530,Escape:.002075,wildtype:"S",mutant:"Y"},{Antibody:"REGN10987",reference_site:531,Escape:.002076,wildtype:"T",mutant:"A"},{Antibody:"REGN10987",reference_site:531,Escape:.002075,wildtype:"T",mutant:"C"},{Antibody:"REGN10987",reference_site:531,Escape:.002076,wildtype:"T",mutant:"D"},{Antibody:"REGN10987",reference_site:531,Escape:.002075,wildtype:"T",mutant:"E"},{Antibody:"REGN10987",reference_site:531,Escape:.002075,wildtype:"T",mutant:"F"},{Antibody:"REGN10987",reference_site:531,Escape:.002079,wildtype:"T",mutant:"G"},{Antibody:"REGN10987",reference_site:531,Escape:.002074,wildtype:"T",mutant:"H"},{Antibody:"REGN10987",reference_site:531,Escape:.002076,wildtype:"T",mutant:"I"},{Antibody:"REGN10987",reference_site:531,Escape:.002068,wildtype:"T",mutant:"K"},{Antibody:"REGN10987",reference_site:531,Escape:.002077,wildtype:"T",mutant:"L"},{Antibody:"REGN10987",reference_site:531,Escape:.002076,wildtype:"T",mutant:"M"},{Antibody:"REGN10987",reference_site:531,Escape:.002073,wildtype:"T",mutant:"N"},{Antibody:"REGN10987",reference_site:531,Escape:.002073,wildtype:"T",mutant:"P"},{Antibody:"REGN10987",reference_site:531,Escape:.002075,wildtype:"T",mutant:"Q"},{Antibody:"REGN10987",reference_site:531,Escape:.002079,wildtype:"T",mutant:"R"},{Antibody:"REGN10987",reference_site:531,Escape:.002079,wildtype:"T",mutant:"S"},{Antibody:"REGN10987",reference_site:531,Escape:.002076,wildtype:"T",mutant:"V"},{Antibody:"REGN10987",reference_site:531,Escape:.002072,wildtype:"T",mutant:"W"},{Antibody:"REGN10987",reference_site:531,Escape:.002079,wildtype:"T",mutant:"Y"}],sitemap:{331:{protein_site:331,sequential_site:331,chains:"E"},332:{protein_site:332,sequential_site:332,chains:"E"},333:{protein_site:333,sequential_site:333,chains:"E"},334:{protein_site:334,sequential_site:334,chains:"E"},335:{protein_site:335,sequential_site:335,chains:"E"},336:{protein_site:336,sequential_site:336,chains:"E"},337:{protein_site:337,sequential_site:337,chains:"E"},338:{protein_site:338,sequential_site:338,chains:"E"},339:{protein_site:339,sequential_site:339,chains:"E"},340:{protein_site:340,sequential_site:340,chains:"E"},341:{protein_site:341,sequential_site:341,chains:"E"},342:{protein_site:342,sequential_site:342,chains:"E"},344:{protein_site:344,sequential_site:344,chains:"E"},345:{protein_site:345,sequential_site:345,chains:"E"},346:{protein_site:346,sequential_site:346,chains:"E"},347:{protein_site:347,sequential_site:347,chains:"E"},348:{protein_site:348,sequential_site:348,chains:"E"},349:{protein_site:349,sequential_site:349,chains:"E"},351:{protein_site:351,sequential_site:351,chains:"E"},352:{protein_site:352,sequential_site:352,chains:"E"},353:{protein_site:353,sequential_site:353,chains:"E"},354:{protein_site:354,sequential_site:354,chains:"E"},356:{protein_site:356,sequential_site:356,chains:"E"},357:{protein_site:357,sequential_site:357,chains:"E"},358:{protein_site:358,sequential_site:358,chains:"E"},359:{protein_site:359,sequential_site:359,chains:"E"},360:{protein_site:360,sequential_site:360,chains:"E"},361:{protein_site:361,sequential_site:361,chains:"E"},362:{protein_site:362,sequential_site:362,chains:"E"},363:{protein_site:363,sequential_site:363,chains:"E"},365:{protein_site:365,sequential_site:365,chains:"E"},366:{protein_site:366,sequential_site:366,chains:"E"},367:{protein_site:367,sequential_site:367,chains:"E"},368:{protein_site:368,sequential_site:368,chains:"E"},369:{protein_site:369,sequential_site:369,chains:"E"},370:{protein_site:370,sequential_site:370,chains:"E"},371:{protein_site:371,sequential_site:371,chains:"E"},372:{protein_site:372,sequential_site:372,chains:"E"},373:{protein_site:373,sequential_site:373,chains:"E"},374:{protein_site:374,sequential_site:374,chains:"E"},375:{protein_site:375,sequential_site:375,chains:"E"},376:{protein_site:376,sequential_site:376,chains:"E"},377:{protein_site:377,sequential_site:377,chains:"E"},378:{protein_site:378,sequential_site:378,chains:"E"},380:{protein_site:380,sequential_site:380,chains:"E"},381:{protein_site:381,sequential_site:381,chains:"E"},382:{protein_site:382,sequential_site:382,chains:"E"},383:{protein_site:383,sequential_site:383,chains:"E"},384:{protein_site:384,sequential_site:384,chains:"E"},385:{protein_site:385,sequential_site:385,chains:"E"},386:{protein_site:386,sequential_site:386,chains:"E"},387:{protein_site:387,sequential_site:387,chains:"E"},388:{protein_site:388,sequential_site:388,chains:"E"},389:{protein_site:389,sequential_site:389,chains:"E"},390:{protein_site:390,sequential_site:390,chains:"E"},391:{protein_site:391,sequential_site:391,chains:"E"},392:{protein_site:392,sequential_site:392,chains:"E"},393:{protein_site:393,sequential_site:393,chains:"E"},394:{protein_site:394,sequential_site:394,chains:"E"},395:{protein_site:395,sequential_site:395,chains:"E"},396:{protein_site:396,sequential_site:396,chains:"E"},397:{protein_site:397,sequential_site:397,chains:"E"},399:{protein_site:399,sequential_site:399,chains:"E"},401:{protein_site:401,sequential_site:401,chains:"E"},402:{protein_site:402,sequential_site:402,chains:"E"},403:{protein_site:403,sequential_site:403,chains:"E"},404:{protein_site:404,sequential_site:404,chains:"E"},405:{protein_site:405,sequential_site:405,chains:"E"},406:{protein_site:406,sequential_site:406,chains:"E"},407:{protein_site:407,sequential_site:407,chains:"E"},408:{protein_site:408,sequential_site:408,chains:"E"},409:{protein_site:409,sequential_site:409,chains:"E"},410:{protein_site:410,sequential_site:410,chains:"E"},411:{protein_site:411,sequential_site:411,chains:"E"},413:{protein_site:413,sequential_site:413,chains:"E"},414:{protein_site:414,sequential_site:414,chains:"E"},415:{protein_site:415,sequential_site:415,chains:"E"},417:{protein_site:417,sequential_site:417,chains:"E"},418:{protein_site:418,sequential_site:418,chains:"E"},419:{protein_site:419,sequential_site:419,chains:"E"},420:{protein_site:420,sequential_site:420,chains:"E"},421:{protein_site:421,sequential_site:421,chains:"E"},424:{protein_site:424,sequential_site:424,chains:"E"},425:{protein_site:425,sequential_site:425,chains:"E"},427:{protein_site:427,sequential_site:427,chains:"E"},428:{protein_site:428,sequential_site:428,chains:"E"},429:{protein_site:429,sequential_site:429,chains:"E"},430:{protein_site:430,sequential_site:430,chains:"E"},433:{protein_site:433,sequential_site:433,chains:"E"},434:{protein_site:434,sequential_site:434,chains:"E"},435:{protein_site:435,sequential_site:435,chains:"E"},437:{protein_site:437,sequential_site:437,chains:"E"},438:{protein_site:438,sequential_site:438,chains:"E"},439:{protein_site:439,sequential_site:439,chains:"E"},440:{protein_site:440,sequential_site:440,chains:"E"},441:{protein_site:441,sequential_site:441,chains:"E"},443:{protein_site:443,sequential_site:443,chains:"E"},444:{protein_site:444,sequential_site:444,chains:"E"},445:{protein_site:445,sequential_site:445,chains:"E"},446:{protein_site:446,sequential_site:446,chains:"E"},447:{protein_site:447,sequential_site:447,chains:"E"},448:{protein_site:448,sequential_site:448,chains:"E"},449:{protein_site:449,sequential_site:449,chains:"E"},450:{protein_site:450,sequential_site:450,chains:"E"},451:{protein_site:451,sequential_site:451,chains:"E"},452:{protein_site:452,sequential_site:452,chains:"E"},453:{protein_site:453,sequential_site:453,chains:"E"},455:{protein_site:455,sequential_site:455,chains:"E"},456:{protein_site:456,sequential_site:456,chains:"E"},458:{protein_site:458,sequential_site:458,chains:"E"},459:{protein_site:459,sequential_site:459,chains:"E"},460:{protein_site:460,sequential_site:460,chains:"E"},461:{protein_site:461,sequential_site:461,chains:"E"},462:{protein_site:462,sequential_site:462,chains:"E"},463:{protein_site:463,sequential_site:463,chains:"E"},464:{protein_site:464,sequential_site:464,chains:"E"},465:{protein_site:465,sequential_site:465,chains:"E"},466:{protein_site:466,sequential_site:466,chains:"E"},468:{protein_site:468,sequential_site:468,chains:"E"},469:{protein_site:469,sequential_site:469,chains:"E"},470:{protein_site:470,sequential_site:470,chains:"E"},471:{protein_site:471,sequential_site:471,chains:"E"},472:{protein_site:472,sequential_site:472,chains:"E"},473:{protein_site:473,sequential_site:473,chains:"E"},474:{protein_site:474,sequential_site:474,chains:"E"},475:{protein_site:475,sequential_site:475,chains:"E"},476:{protein_site:476,sequential_site:476,chains:"E"},477:{protein_site:477,sequential_site:477,chains:"E"},478:{protein_site:478,sequential_site:478,chains:"E"},479:{protein_site:479,sequential_site:479,chains:"E"},481:{protein_site:481,sequential_site:481,chains:"E"},482:{protein_site:482,sequential_site:482,chains:"E"},483:{protein_site:483,sequential_site:483,chains:"E"},484:{protein_site:484,sequential_site:484,chains:"E"},485:{protein_site:485,sequential_site:485,chains:"E"},486:{protein_site:486,sequential_site:486,chains:"E"},487:{protein_site:487,sequential_site:487,chains:"E"},489:{protein_site:489,sequential_site:489,chains:"E"},490:{protein_site:490,sequential_site:490,chains:"E"},492:{protein_site:492,sequential_site:492,chains:"E"},493:{protein_site:493,sequential_site:493,chains:"E"},494:{protein_site:494,sequential_site:494,chains:"E"},496:{protein_site:496,sequential_site:496,chains:"E"},498:{protein_site:498,sequential_site:498,chains:"E"},499:{protein_site:499,sequential_site:499,chains:"E"},500:{protein_site:500,sequential_site:500,chains:"E"},501:{protein_site:501,sequential_site:501,chains:"E"},503:{protein_site:503,sequential_site:503,chains:"E"},504:{protein_site:504,sequential_site:504,chains:"E"},505:{protein_site:505,sequential_site:505,chains:"E"},506:{protein_site:506,sequential_site:506,chains:"E"},507:{protein_site:507,sequential_site:507,chains:"E"},508:{protein_site:508,sequential_site:508,chains:"E"},510:{protein_site:510,sequential_site:510,chains:"E"},512:{protein_site:512,sequential_site:512,chains:"E"},513:{protein_site:513,sequential_site:513,chains:"E"},514:{protein_site:514,sequential_site:514,chains:"E"},515:{protein_site:515,sequential_site:515,chains:"E"},516:{protein_site:516,sequential_site:516,chains:"E"},517:{protein_site:517,sequential_site:517,chains:"E"},518:{protein_site:518,sequential_site:518,chains:"E"},519:{protein_site:519,sequential_site:519,chains:"E"},520:{protein_site:520,sequential_site:520,chains:"E"},521:{protein_site:521,sequential_site:521,chains:"E"},522:{protein_site:522,sequential_site:522,chains:"E"},523:{protein_site:523,sequential_site:523,chains:"E"},524:{protein_site:524,sequential_site:524,chains:"E"},525:{protein_site:525,sequential_site:525,chains:"E"},526:{protein_site:526,sequential_site:526,chains:"E"},527:{protein_site:527,sequential_site:527,chains:"E"},528:{protein_site:528,sequential_site:528,chains:"E"},529:{protein_site:529,sequential_site:529,chains:"E"},530:{protein_site:530,sequential_site:530,chains:"E"},531:{protein_site:531,sequential_site:531,chains:"E"}},metric_col:"Escape",condition_col:"Antibody",conditions:["REGN10933","REGN10987"],condition_colors:{REGN10933:"#220ea1",REGN10987:"#a10e0e"},negative_condition_colors:null,alphabet:["R","K","H","D","E","Q","N","S","T","Y","W","F","A","I","L","M","V","G","P","C","-","*"],pdb:"6XDG",dataChains:["E"],excludeChains:["none"],filter_cols:null,filter_limits:null,tooltip_cols:null,excludedAminoAcids:null,description:null,title:"Escape from the Regeneron anti-RBD antibody cocktail"}};let Dn,Zw=new TO;const ea=new mg,eue=new RW;Promise.all([tue().then(i=>{ea.showAlert(`<details>
        <summary><strong>Click for instructions!</strong></summary>
        <p>
          Welcome to <strong><code>dms-viz</code></strong>! If you're new here, we suggest checking out
          the <a href='https://dms-viz.github.io/dms-viz-docs/' target='_blank'>documentation</a>. 
          <br/>
          <br/>
          To use the visualization, <em>zoom</em> into regions of the
          <strong>focus plot</strong> (the central summary plot) by 
          <em>brushing</em> (<em>click and drag</em>) over the <strong>context plot</strong> (the top area plot).
          <br/>
          <br/>
          Select sites by <em>clicking</em> on points in the <strong>focus plot</strong>.
          The mutations at these site will appear in a <strong>detail plot</strong> (the leftmost heatmap).
          These sites will also appear on the <strong>protein structure</strong>.
          <br/>
          <br/>
          To more efficiently select sites on the <strong>protein structure</strong>, 
          <em>brush</em> over points in the <strong>focus plot</strong>.
          To deselect sites, you can either <em>double-click</em> on the <strong>focus plot</strong>,
          or hold down the option key <kbd>\u2325</kbd> while <em>brushing</em> over points to deselect.
          <br/>
          <br/>
          If there are multiple conditions in the data, an interactive <strong>legend</strong>
          will appear in the <em>Chart Options</em> in the sidebar. <em>Click</em> on
          the <strong>legend</strong> values to determine which condition will appear in the
          <strong>protein structure</strong>. To remove or add conditions to the
          <strong>focus plot</strong>, <em>click</em> while holding down the option key <kbd>\u2325</kbd>.
          <br/>
          <br/>
          Interact with the <strong>protein structure</strong> by zooming using two
          fingers on your tackpad or mouse. Change the orientation by <em>clicking and dragging</em> 
          the structure. Reset the initial zoom and position by pressing the <kbd>r</kbd> key.
        </p>
        </details>`,"instruct"),Dn=new Zle(jE(i),Zw),nue(),iue(),rue(),sue(),aue()}).then(()=>{if(window.dispatchEvent(new Event("resize")),!Zw.sidebar.classList.contains("sidebar-collapsed")){const i=document.getElementById("chart-btn");Zw.toggleAccordion(i)}}),BW(3e3)]).then(()=>{document.getElementById("loadingScreen").style.display="none"}).catch(i=>{document.getElementById("loadingScreen").style.display="none",ea.showAlert(i.message)});async function tue(){const i=new URLSearchParams(window.location.search),e=i.get("data"),t=i.get("markdown");let n=GB;if(e)if(n=await cg(e)||GB,document.getElementById("remote-file").click(function(r){r.stopPropagation()}),document.getElementById("url-json-file").value=e,document.getElementById("url-markdown-file").disabled=!1,t){const r=await cg(t,"markdown");Jl(r),document.getElementById("url-markdown-file").value=t,n.markdown_description&&ea.showAlert("The remote markdown description is being used instead of the one in the JSON file.","warning")}else n.markdown_description?Jl(n.markdown_description):XE();else Jl(n.markdown_description);return n}async function cg(i,e="json"){let t=null;try{const n=await fetch(i);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);switch(e){case"json":t=await n.json();break;case"markdown":t=await n.text();break;default:throw new Error(`Unsupported format: ${e}`)}}catch(n){ea.showAlert(`Fetch operation failed: ${n.message}`),console.error(`Fetch operation failed: ${n.message}`)}return t}function Jl(i){try{document.getElementById("markdown").style.display="block",document.getElementById("markdown-container").innerHTML=$n.parse(i,{renderer:eue})}catch{ea.showAlert("Markdown rendering failed. Please check that the markdown is properly formatted.")}}function XE(){document.getElementById("markdown").style.display="none",document.getElementById("markdown-container").innerHTML=""}function jE(i){const e=JSON.parse(JSON.stringify(i));return delete e.markdown_description,e}function nue(){It("#local-json-file").on("change",function(){const i=document.getElementById("local-json-file");if(i.files.length===0){ea.showAlert("Please select a JSON file to upload.");return}const e=i.files[0];if(e.type!=="application/json"){ea.showAlert("Please select a valid JSON file.");return}const t=new FileReader;t.onload=function(){try{const r=JSON.parse(t.result);Dn.data=jE(r),window.history.replaceState({},"",`${location.pathname}`),document.getElementById("url-json-file").value="",document.getElementById("url-markdown-file").value="",document.getElementById("url-markdown-file").disabled=!0,Dn.initTool(),r.markdown_description?Jl(r.markdown_description):XE();var n=document.querySelectorAll(".submenu");n.forEach(function(s){var a=s.querySelector(".accordion"),o=s.querySelector(".accordion-content");a&&o&&a.classList.contains("is-open")&&(o.style.maxHeight=o.scrollHeight+"px")}),window.dispatchEvent(new Event("resize"))}catch(r){ea.showAlert(r.message)}},t.readAsText(e)}),It("#url-json-file").on("keyup",async function(i){if(i.key!=="Enter")return;if(!this.value){ea.showAlert("Please enter a URL.");return}try{new URL(this.value)}catch{ea.showAlert("Please enter a valid URL.");return}const e=await cg(this.value);document.getElementById("url-markdown-file").disabled=!1;const t=new URLSearchParams;t.set("data",this.value),window.history.replaceState({},"",`${location.pathname}?${t}`),Dn.data=jE(e),Dn.initTool(),e.markdown_description?Jl(e.markdown_description):XE();var n=document.querySelectorAll(".submenu");n.forEach(function(r){var s=r.querySelector(".accordion"),a=r.querySelector(".accordion-content");s&&a&&s.classList.contains("is-open")&&(a.style.maxHeight=a.scrollHeight+"px")}),window.dispatchEvent(new Event("resize")),document.getElementById("local-json-file").value=""}),It("#url-markdown-file").on("keyup",async function(i){if(i.key!=="Enter")return;if(!this.value){ea.showAlert("Please enter a URL.");return}try{new URL(this.value)}catch{ea.showAlert("Please enter a valid URL.");return}const e=await cg(this.value,"markdown");Jl(e);const t=new URLSearchParams(window.location.search);t.set("markdown",this.value),window.history.replaceState({},"",`${location.pathname}?${t}`)})}function iue(){It("#dataset").on("change",function(){Dn.updateSelectedDataset(this);let i=document.getElementById("chart-btn");if(i.classList.contains("is-open")){let e=i.nextElementSibling;e.style.maxHeight=e.scrollHeight+"px"}}),window.addEventListener("proteinConditionSelected",function(i){Dn.updateProteinCondition(i.detail)}),window.addEventListener("chartConditionsSelected",function(i){Dn.updateChartConditions(i.detail)}),It("#summary").on("change",function(){Dn.updateChartOptions(this)}),It("#floor").on("change",function(){Dn.updateChartOptions(this)}),It("#mutations").on("change",function(){Dn.updateChartOptions(this)}),It("#selectAll").on("click",function(){Dn.selectAllSites()}),document.addEventListener("sitesDeselected",()=>{console.log("sitesDeselected"),Dn.selectAll=!1,Dn.updateURLParams()})}function rue(){It("#proteinRepresentation").on("change",function(){Dn.updateProteinOptions(this)}),It("#selectionRepresentation").on("change",function(){Dn.updateProteinOptions(this)}),It("#backgroundRepresentation").on("change",function(){Dn.updateProteinOptions(this)}),It("#ligandRepresentation").on("change",function(){Dn.updateProteinOptions(this)}),It("#proteinColor").on("change",function(){Dn.updateProteinOptions(this)}),It("#backgroundColor").on("change",function(){Dn.updateProteinOptions(this)}),It("#ligandColor").on("change",function(){Dn.updateProteinOptions(this)}),It("#screenColor").on("change",function(){Dn.updateProteinOptions(this)}),It("#ligandElement").on("change",function(){this.value=this.checked?"true":"false",Dn.updateProteinOptions(this)}),It("#proteinElement").on("change",function(){this.value=this.checked?"true":"false",Dn.updateProteinOptions(this)}),It("#backgroundOpacity").on("input",function(){Dn.updateProteinOptions(this)}),It("#proteinOpacity").on("input",function(){Dn.updateProteinOptions(this)}),It("#selectionOpacity").on("input",function(){Dn.updateProteinOptions(this)}),It("#showGlycans").on("change",function(){this.value=this.checked?"true":"false",Dn.updateProteinOptions(this)}),It("#showNucleotides").on("change",function(){this.value=this.checked?"true":"false",Dn.updateProteinOptions(this)}),It("#showNonCarbonHydrogens").on("change",function(){this.value=this.checked?"true":"false",Dn.updateProteinOptions(this)})}function sue(){It("#downloadProtein").on("click",function(){Dn.protein.saveImage()}),It("#downloadPlot").on("click",function(){Dn.chart.saveImage()})}function aue(){window.addEventListener("resize",function(){const i=Dn.chart.resize();Dn.protein.resize(i)})}document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelector(".software-version span");i.textContent="v0.8.6"});
