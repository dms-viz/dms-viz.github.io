var iQ=Object.defineProperty;var rQ=(e,t,n)=>t in e?iQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ii=(e,t,n)=>(rQ(e,typeof t!="symbol"?t+"":t,n),n),aQ=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var tu=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};var Go=(e,t,n)=>(aQ(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var nl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kf={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,i="4.17.21",r=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",o="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",A=500,l="__lodash_placeholder__",u=1,d=2,p=4,h=1,g=2,b=1,y=2,v=4,_=8,w=16,E=32,B=64,R=128,G=256,C=512,O=30,I="...",D=800,k=16,L=1,T=2,H=3,W=1/0,j=9007199254740991,ce=17976931348623157e292,ue=0/0,te=4294967295,re=te-1,ae=te>>>1,fe=[["ary",R],["bind",b],["bindKey",y],["curry",_],["curryRight",w],["flip",C],["partial",E],["partialRight",B],["rearg",G]],ye="[object Arguments]",se="[object Array]",me="[object AsyncFunction]",pe="[object Boolean]",Ee="[object Date]",ee="[object DOMException]",ie="[object Error]",oe="[object Function]",he="[object GeneratorFunction]",Re="[object Map]",Ge="[object Number]",Le="[object Null]",K="[object Object]",Z="[object Promise]",Ce="[object Proxy]",ve="[object RegExp]",de="[object Set]",be="[object String]",Pe="[object Symbol]",Ve="[object Undefined]",Fe="[object WeakMap]",He="[object WeakSet]",ke="[object ArrayBuffer]",qe="[object DataView]",Ye="[object Float32Array]",We="[object Float64Array]",mt="[object Int8Array]",Qt="[object Int16Array]",Dt="[object Int32Array]",Me="[object Uint8Array]",it="[object Uint8ClampedArray]",ut="[object Uint16Array]",vt="[object Uint32Array]",ot=/\b__p \+= '';/g,Ht=/\b(__p \+=) '' \+/g,Et=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bt=/&(?:amp|lt|gt|quot|#39);/g,en=/[&<>"']/g,ct=RegExp(bt.source),yt=RegExp(en.source),Mt=/<%-([\s\S]+?)%>/g,Ae=/<%([\s\S]+?)%>/g,ze=/<%=([\s\S]+?)%>/g,Ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/,U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(Q.source),q=/^\s+/,le=/\s/,ge=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Be=/\{\n\/\* \[wrapped with (.+)\] \*/,Ke=/,? & /,Qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ze=/[()=,{}\[\]\/\s]/,gt=/\\(\\)?/g,tt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,ht=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,Ot=/^\[object .+?Constructor\]$/,Pt=/^0o[0-7]+$/i,ei=/^(?:0|[1-9]\d*)$/,Mn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ar=/($^)/,na=/['\n\r\u2028\u2029\\]/g,tn="\\ud800-\\udfff",Je="\\u0300-\\u036f",Tt="\\ufe20-\\ufe2f",ln="\\u20d0-\\u20ff",xn=Je+Tt+ln,jt="\\u2700-\\u27bf",Bn="a-z\\xdf-\\xf6\\xf8-\\xff",bn="\\xac\\xb1\\xd7\\xf7",Kn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ki="\\u2000-\\u206f",fn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ti="A-Z\\xc0-\\xd6\\xd8-\\xde",us="\\ufe0e\\ufe0f",ba=bn+Kn+Ki+fn,ds="['\u2019]",ps="["+tn+"]",ka="["+ba+"]",ia="["+xn+"]",Oa="\\d+",Bo="["+jt+"]",js="["+Bn+"]",b0="[^"+tn+ba+Oa+jt+Bn+ti+"]",Ys="\\ud83c[\\udffb-\\udfff]",mc="(?:"+ia+"|"+Ys+")",Ro="[^"+tn+"]",qs="(?:\\ud83c[\\udde6-\\uddff]){2}",va="[\\ud800-\\udbff][\\udc00-\\udfff]",fs="["+ti+"]",v0="\\u200d",w0="(?:"+js+"|"+b0+")",CA="(?:"+fs+"|"+b0+")",Xs="(?:"+ds+"(?:d|ll|m|re|s|t|ve))?",NA="(?:"+ds+"(?:D|LL|M|RE|S|T|VE))?",op=mc+"?",Ha="["+us+"]?",SA="(?:"+v0+"(?:"+[Ro,qs,va].join("|")+")"+Ha+op+")*",cp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ap="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",j7=Ha+op+SA,lL="(?:"+[Bo,qs,va].join("|")+")"+j7,uL="(?:"+[Ro+ia+"?",ia,qs,va,ps].join("|")+")",dL=RegExp(ds,"g"),pL=RegExp(ia,"g"),Z2=RegExp(Ys+"(?="+Ys+")|"+uL+j7,"g"),fL=RegExp([fs+"?"+js+"+"+Xs+"(?="+[ka,fs,"$"].join("|")+")",CA+"+"+NA+"(?="+[ka,fs+w0,"$"].join("|")+")",fs+"?"+w0+"+"+Xs,fs+"+"+NA,Ap,cp,Oa,lL].join("|"),"g"),hL=RegExp("["+v0+tn+xn+us+"]"),mL=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yL=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gL=-1,Ni={};Ni[Ye]=Ni[We]=Ni[mt]=Ni[Qt]=Ni[Dt]=Ni[Me]=Ni[it]=Ni[ut]=Ni[vt]=!0,Ni[ye]=Ni[se]=Ni[ke]=Ni[pe]=Ni[qe]=Ni[Ee]=Ni[ie]=Ni[oe]=Ni[Re]=Ni[Ge]=Ni[K]=Ni[ve]=Ni[de]=Ni[be]=Ni[Fe]=!1;var _i={};_i[ye]=_i[se]=_i[ke]=_i[qe]=_i[pe]=_i[Ee]=_i[Ye]=_i[We]=_i[mt]=_i[Qt]=_i[Dt]=_i[Re]=_i[Ge]=_i[K]=_i[ve]=_i[de]=_i[be]=_i[Pe]=_i[Me]=_i[it]=_i[ut]=_i[vt]=!0,_i[ie]=_i[oe]=_i[Fe]=!1;var bL={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},vL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wL={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},EL={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_L=parseFloat,xL=parseInt,Y7=typeof nl=="object"&&nl&&nl.Object===Object&&nl,BL=typeof self=="object"&&self&&self.Object===Object&&self,Sr=Y7||BL||Function("return this")(),J2=t&&!t.nodeType&&t,GA=J2&&!0&&e&&!e.nodeType&&e,q7=GA&&GA.exports===J2,eb=q7&&Y7.process,hs=function(){try{var Te=GA&&GA.require&&GA.require("util").types;return Te||eb&&eb.binding&&eb.binding("util")}catch{}}(),X7=hs&&hs.isArrayBuffer,Z7=hs&&hs.isDate,J7=hs&&hs.isMap,e5=hs&&hs.isRegExp,t5=hs&&hs.isSet,n5=hs&&hs.isTypedArray;function Qa(Te,Xe,$e){switch($e.length){case 0:return Te.call(Xe);case 1:return Te.call(Xe,$e[0]);case 2:return Te.call(Xe,$e[0],$e[1]);case 3:return Te.call(Xe,$e[0],$e[1],$e[2])}return Te.apply(Xe,$e)}function RL(Te,Xe,$e,Ut){for(var vn=-1,Xn=Te==null?0:Te.length;++vn<Xn;){var pr=Te[vn];Xe(Ut,pr,$e(pr),Te)}return Ut}function ms(Te,Xe){for(var $e=-1,Ut=Te==null?0:Te.length;++$e<Ut&&Xe(Te[$e],$e,Te)!==!1;);return Te}function CL(Te,Xe){for(var $e=Te==null?0:Te.length;$e--&&Xe(Te[$e],$e,Te)!==!1;);return Te}function i5(Te,Xe){for(var $e=-1,Ut=Te==null?0:Te.length;++$e<Ut;)if(!Xe(Te[$e],$e,Te))return!1;return!0}function E0(Te,Xe){for(var $e=-1,Ut=Te==null?0:Te.length,vn=0,Xn=[];++$e<Ut;){var pr=Te[$e];Xe(pr,$e,Te)&&(Xn[vn++]=pr)}return Xn}function mm(Te,Xe){var $e=Te==null?0:Te.length;return!!$e&&Ql(Te,Xe,0)>-1}function tb(Te,Xe,$e){for(var Ut=-1,vn=Te==null?0:Te.length;++Ut<vn;)if($e(Xe,Te[Ut]))return!0;return!1}function Mi(Te,Xe){for(var $e=-1,Ut=Te==null?0:Te.length,vn=Array(Ut);++$e<Ut;)vn[$e]=Xe(Te[$e],$e,Te);return vn}function _0(Te,Xe){for(var $e=-1,Ut=Xe.length,vn=Te.length;++$e<Ut;)Te[vn+$e]=Xe[$e];return Te}function nb(Te,Xe,$e,Ut){var vn=-1,Xn=Te==null?0:Te.length;for(Ut&&Xn&&($e=Te[++vn]);++vn<Xn;)$e=Xe($e,Te[vn],vn,Te);return $e}function NL(Te,Xe,$e,Ut){var vn=Te==null?0:Te.length;for(Ut&&vn&&($e=Te[--vn]);vn--;)$e=Xe($e,Te[vn],vn,Te);return $e}function ib(Te,Xe){for(var $e=-1,Ut=Te==null?0:Te.length;++$e<Ut;)if(Xe(Te[$e],$e,Te))return!0;return!1}var SL=rb("length");function GL(Te){return Te.split("")}function ML(Te){return Te.match(Qe)||[]}function r5(Te,Xe,$e){var Ut;return $e(Te,function(vn,Xn,pr){if(Xe(vn,Xn,pr))return Ut=Xn,!1}),Ut}function ym(Te,Xe,$e,Ut){for(var vn=Te.length,Xn=$e+(Ut?1:-1);Ut?Xn--:++Xn<vn;)if(Xe(Te[Xn],Xn,Te))return Xn;return-1}function Ql(Te,Xe,$e){return Xe===Xe?zL(Te,Xe,$e):ym(Te,a5,$e)}function TL(Te,Xe,$e,Ut){for(var vn=$e-1,Xn=Te.length;++vn<Xn;)if(Ut(Te[vn],Xe))return vn;return-1}function a5(Te){return Te!==Te}function s5(Te,Xe){var $e=Te==null?0:Te.length;return $e?sb(Te,Xe)/$e:ue}function rb(Te){return function(Xe){return Xe==null?n:Xe[Te]}}function ab(Te){return function(Xe){return Te==null?n:Te[Xe]}}function o5(Te,Xe,$e,Ut,vn){return vn(Te,function(Xn,pr,bi){$e=Ut?(Ut=!1,Xn):Xe($e,Xn,pr,bi)}),$e}function FL(Te,Xe){var $e=Te.length;for(Te.sort(Xe);$e--;)Te[$e]=Te[$e].value;return Te}function sb(Te,Xe){for(var $e,Ut=-1,vn=Te.length;++Ut<vn;){var Xn=Xe(Te[Ut]);Xn!==n&&($e=$e===n?Xn:$e+Xn)}return $e}function ob(Te,Xe){for(var $e=-1,Ut=Array(Te);++$e<Te;)Ut[$e]=Xe($e);return Ut}function IL(Te,Xe){return Mi(Xe,function($e){return[$e,Te[$e]]})}function c5(Te){return Te&&Te.slice(0,d5(Te)+1).replace(q,"")}function za(Te){return function(Xe){return Te(Xe)}}function cb(Te,Xe){return Mi(Xe,function($e){return Te[$e]})}function lp(Te,Xe){return Te.has(Xe)}function A5(Te,Xe){for(var $e=-1,Ut=Te.length;++$e<Ut&&Ql(Xe,Te[$e],0)>-1;);return $e}function l5(Te,Xe){for(var $e=Te.length;$e--&&Ql(Xe,Te[$e],0)>-1;);return $e}function LL(Te,Xe){for(var $e=Te.length,Ut=0;$e--;)Te[$e]===Xe&&++Ut;return Ut}var PL=ab(bL),UL=ab(vL);function DL(Te){return"\\"+EL[Te]}function kL(Te,Xe){return Te==null?n:Te[Xe]}function zl(Te){return hL.test(Te)}function OL(Te){return mL.test(Te)}function HL(Te){for(var Xe,$e=[];!(Xe=Te.next()).done;)$e.push(Xe.value);return $e}function Ab(Te){var Xe=-1,$e=Array(Te.size);return Te.forEach(function(Ut,vn){$e[++Xe]=[vn,Ut]}),$e}function u5(Te,Xe){return function($e){return Te(Xe($e))}}function x0(Te,Xe){for(var $e=-1,Ut=Te.length,vn=0,Xn=[];++$e<Ut;){var pr=Te[$e];(pr===Xe||pr===l)&&(Te[$e]=l,Xn[vn++]=$e)}return Xn}function gm(Te){var Xe=-1,$e=Array(Te.size);return Te.forEach(function(Ut){$e[++Xe]=Ut}),$e}function QL(Te){var Xe=-1,$e=Array(Te.size);return Te.forEach(function(Ut){$e[++Xe]=[Ut,Ut]}),$e}function zL(Te,Xe,$e){for(var Ut=$e-1,vn=Te.length;++Ut<vn;)if(Te[Ut]===Xe)return Ut;return-1}function VL(Te,Xe,$e){for(var Ut=$e+1;Ut--;)if(Te[Ut]===Xe)return Ut;return Ut}function Vl(Te){return zl(Te)?WL(Te):SL(Te)}function Zs(Te){return zl(Te)?$L(Te):GL(Te)}function d5(Te){for(var Xe=Te.length;Xe--&&le.test(Te.charAt(Xe)););return Xe}var KL=ab(wL);function WL(Te){for(var Xe=Z2.lastIndex=0;Z2.test(Te);)++Xe;return Xe}function $L(Te){return Te.match(Z2)||[]}function jL(Te){return Te.match(fL)||[]}var YL=function Te(Xe){Xe=Xe==null?Sr:Kl.defaults(Sr.Object(),Xe,Kl.pick(Sr,yL));var $e=Xe.Array,Ut=Xe.Date,vn=Xe.Error,Xn=Xe.Function,pr=Xe.Math,bi=Xe.Object,lb=Xe.RegExp,qL=Xe.String,ys=Xe.TypeError,bm=$e.prototype,XL=Xn.prototype,Wl=bi.prototype,vm=Xe["__core-js_shared__"],wm=XL.toString,ci=Wl.hasOwnProperty,ZL=0,p5=function(){var f=/[^.]+$/.exec(vm&&vm.keys&&vm.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),Em=Wl.toString,JL=wm.call(bi),eP=Sr._,tP=lb("^"+wm.call(ci).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_m=q7?Xe.Buffer:n,B0=Xe.Symbol,xm=Xe.Uint8Array,f5=_m?_m.allocUnsafe:n,Bm=u5(bi.getPrototypeOf,bi),h5=bi.create,m5=Wl.propertyIsEnumerable,Rm=bm.splice,y5=B0?B0.isConcatSpreadable:n,up=B0?B0.iterator:n,MA=B0?B0.toStringTag:n,Cm=function(){try{var f=PA(bi,"defineProperty");return f({},"",{}),f}catch{}}(),nP=Xe.clearTimeout!==Sr.clearTimeout&&Xe.clearTimeout,iP=Ut&&Ut.now!==Sr.Date.now&&Ut.now,rP=Xe.setTimeout!==Sr.setTimeout&&Xe.setTimeout,Nm=pr.ceil,Sm=pr.floor,ub=bi.getOwnPropertySymbols,aP=_m?_m.isBuffer:n,g5=Xe.isFinite,sP=bm.join,oP=u5(bi.keys,bi),fr=pr.max,Hr=pr.min,cP=Ut.now,AP=Xe.parseInt,b5=pr.random,lP=bm.reverse,db=PA(Xe,"DataView"),dp=PA(Xe,"Map"),pb=PA(Xe,"Promise"),$l=PA(Xe,"Set"),pp=PA(Xe,"WeakMap"),fp=PA(bi,"create"),Gm=pp&&new pp,jl={},uP=UA(db),dP=UA(dp),pP=UA(pb),fP=UA($l),hP=UA(pp),Mm=B0?B0.prototype:n,hp=Mm?Mm.valueOf:n,v5=Mm?Mm.toString:n;function X(f){if(Wi(f)&&!wn(f)&&!(f instanceof Un)){if(f instanceof gs)return f;if(ci.call(f,"__wrapped__"))return w9(f)}return new gs(f)}var Yl=function(){function f(){}return function(m){if(!Pi(m))return{};if(h5)return h5(m);f.prototype=m;var x=new f;return f.prototype=n,x}}();function Tm(){}function gs(f,m){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=n}X.templateSettings={escape:Mt,evaluate:Ae,interpolate:ze,variable:"",imports:{_:X}},X.prototype=Tm.prototype,X.prototype.constructor=X,gs.prototype=Yl(Tm.prototype),gs.prototype.constructor=gs;function Un(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function mP(){var f=new Un(this.__wrapped__);return f.__actions__=wa(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=wa(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=wa(this.__views__),f}function yP(){if(this.__filtered__){var f=new Un(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function gP(){var f=this.__wrapped__.value(),m=this.__dir__,x=wn(f),M=m<0,V=x?f.length:0,ne=GU(0,V,this.__views__),_e=ne.start,Ne=ne.end,Ie=Ne-_e,rt=M?Ne:_e-1,at=this.__iteratees__,At=at.length,_t=0,zt=Hr(Ie,this.__takeCount__);if(!x||!M&&V==Ie&&zt==Ie)return V5(f,this.__actions__);var sn=[];e:for(;Ie--&&_t<zt;){rt+=m;for(var Sn=-1,on=f[rt];++Sn<At;){var Ln=at[Sn],Hn=Ln.iteratee,Wa=Ln.type,sa=Hn(on);if(Wa==T)on=sa;else if(!sa){if(Wa==L)continue e;break e}}sn[_t++]=on}return sn}Un.prototype=Yl(Tm.prototype),Un.prototype.constructor=Un;function TA(f){var m=-1,x=f==null?0:f.length;for(this.clear();++m<x;){var M=f[m];this.set(M[0],M[1])}}function bP(){this.__data__=fp?fp(null):{},this.size=0}function vP(f){var m=this.has(f)&&delete this.__data__[f];return this.size-=m?1:0,m}function wP(f){var m=this.__data__;if(fp){var x=m[f];return x===c?n:x}return ci.call(m,f)?m[f]:n}function EP(f){var m=this.__data__;return fp?m[f]!==n:ci.call(m,f)}function _P(f,m){var x=this.__data__;return this.size+=this.has(f)?0:1,x[f]=fp&&m===n?c:m,this}TA.prototype.clear=bP,TA.prototype.delete=vP,TA.prototype.get=wP,TA.prototype.has=EP,TA.prototype.set=_P;function yc(f){var m=-1,x=f==null?0:f.length;for(this.clear();++m<x;){var M=f[m];this.set(M[0],M[1])}}function xP(){this.__data__=[],this.size=0}function BP(f){var m=this.__data__,x=Fm(m,f);if(x<0)return!1;var M=m.length-1;return x==M?m.pop():Rm.call(m,x,1),--this.size,!0}function RP(f){var m=this.__data__,x=Fm(m,f);return x<0?n:m[x][1]}function CP(f){return Fm(this.__data__,f)>-1}function NP(f,m){var x=this.__data__,M=Fm(x,f);return M<0?(++this.size,x.push([f,m])):x[M][1]=m,this}yc.prototype.clear=xP,yc.prototype.delete=BP,yc.prototype.get=RP,yc.prototype.has=CP,yc.prototype.set=NP;function gc(f){var m=-1,x=f==null?0:f.length;for(this.clear();++m<x;){var M=f[m];this.set(M[0],M[1])}}function SP(){this.size=0,this.__data__={hash:new TA,map:new(dp||yc),string:new TA}}function GP(f){var m=Km(this,f).delete(f);return this.size-=m?1:0,m}function MP(f){return Km(this,f).get(f)}function TP(f){return Km(this,f).has(f)}function FP(f,m){var x=Km(this,f),M=x.size;return x.set(f,m),this.size+=x.size==M?0:1,this}gc.prototype.clear=SP,gc.prototype.delete=GP,gc.prototype.get=MP,gc.prototype.has=TP,gc.prototype.set=FP;function FA(f){var m=-1,x=f==null?0:f.length;for(this.__data__=new gc;++m<x;)this.add(f[m])}function IP(f){return this.__data__.set(f,c),this}function LP(f){return this.__data__.has(f)}FA.prototype.add=FA.prototype.push=IP,FA.prototype.has=LP;function Js(f){var m=this.__data__=new yc(f);this.size=m.size}function PP(){this.__data__=new yc,this.size=0}function UP(f){var m=this.__data__,x=m.delete(f);return this.size=m.size,x}function DP(f){return this.__data__.get(f)}function kP(f){return this.__data__.has(f)}function OP(f,m){var x=this.__data__;if(x instanceof yc){var M=x.__data__;if(!dp||M.length<r-1)return M.push([f,m]),this.size=++x.size,this;x=this.__data__=new gc(M)}return x.set(f,m),this.size=x.size,this}Js.prototype.clear=PP,Js.prototype.delete=UP,Js.prototype.get=DP,Js.prototype.has=kP,Js.prototype.set=OP;function w5(f,m){var x=wn(f),M=!x&&DA(f),V=!x&&!M&&G0(f),ne=!x&&!M&&!V&&Jl(f),_e=x||M||V||ne,Ne=_e?ob(f.length,qL):[],Ie=Ne.length;for(var rt in f)(m||ci.call(f,rt))&&!(_e&&(rt=="length"||V&&(rt=="offset"||rt=="parent")||ne&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||Ec(rt,Ie)))&&Ne.push(rt);return Ne}function E5(f){var m=f.length;return m?f[xb(0,m-1)]:n}function HP(f,m){return Wm(wa(f),IA(m,0,f.length))}function QP(f){return Wm(wa(f))}function fb(f,m,x){(x!==n&&!eo(f[m],x)||x===n&&!(m in f))&&bc(f,m,x)}function mp(f,m,x){var M=f[m];(!(ci.call(f,m)&&eo(M,x))||x===n&&!(m in f))&&bc(f,m,x)}function Fm(f,m){for(var x=f.length;x--;)if(eo(f[x][0],m))return x;return-1}function zP(f,m,x,M){return R0(f,function(V,ne,_e){m(M,V,x(V),_e)}),M}function _5(f,m){return f&&No(m,Er(m),f)}function VP(f,m){return f&&No(m,_a(m),f)}function bc(f,m,x){m=="__proto__"&&Cm?Cm(f,m,{configurable:!0,enumerable:!0,value:x,writable:!0}):f[m]=x}function hb(f,m){for(var x=-1,M=m.length,V=$e(M),ne=f==null;++x<M;)V[x]=ne?n:Yb(f,m[x]);return V}function IA(f,m,x){return f===f&&(x!==n&&(f=f<=x?f:x),m!==n&&(f=f>=m?f:m)),f}function bs(f,m,x,M,V,ne){var _e,Ne=m&u,Ie=m&d,rt=m&p;if(x&&(_e=V?x(f,M,V,ne):x(f)),_e!==n)return _e;if(!Pi(f))return f;var at=wn(f);if(at){if(_e=TU(f),!Ne)return wa(f,_e)}else{var At=Qr(f),_t=At==oe||At==he;if(G0(f))return $5(f,Ne);if(At==K||At==ye||_t&&!V){if(_e=Ie||_t?{}:d9(f),!Ne)return Ie?wU(f,VP(_e,f)):vU(f,_5(_e,f))}else{if(!_i[At])return V?f:{};_e=FU(f,At,Ne)}}ne||(ne=new Js);var zt=ne.get(f);if(zt)return zt;ne.set(f,_e),H9(f)?f.forEach(function(on){_e.add(bs(on,m,x,on,f,ne))}):k9(f)&&f.forEach(function(on,Ln){_e.set(Ln,bs(on,m,x,Ln,f,ne))});var sn=rt?Ie?Lb:Ib:Ie?_a:Er,Sn=at?n:sn(f);return ms(Sn||f,function(on,Ln){Sn&&(Ln=on,on=f[Ln]),mp(_e,Ln,bs(on,m,x,Ln,f,ne))}),_e}function KP(f){var m=Er(f);return function(x){return x5(x,f,m)}}function x5(f,m,x){var M=x.length;if(f==null)return!M;for(f=bi(f);M--;){var V=x[M],ne=m[V],_e=f[V];if(_e===n&&!(V in f)||!ne(_e))return!1}return!0}function B5(f,m,x){if(typeof f!="function")throw new ys(s);return _p(function(){f.apply(n,x)},m)}function yp(f,m,x,M){var V=-1,ne=mm,_e=!0,Ne=f.length,Ie=[],rt=m.length;if(!Ne)return Ie;x&&(m=Mi(m,za(x))),M?(ne=tb,_e=!1):m.length>=r&&(ne=lp,_e=!1,m=new FA(m));e:for(;++V<Ne;){var at=f[V],At=x==null?at:x(at);if(at=M||at!==0?at:0,_e&&At===At){for(var _t=rt;_t--;)if(m[_t]===At)continue e;Ie.push(at)}else ne(m,At,M)||Ie.push(at)}return Ie}var R0=Z5(Co),R5=Z5(yb,!0);function WP(f,m){var x=!0;return R0(f,function(M,V,ne){return x=!!m(M,V,ne),x}),x}function Im(f,m,x){for(var M=-1,V=f.length;++M<V;){var ne=f[M],_e=m(ne);if(_e!=null&&(Ne===n?_e===_e&&!Ka(_e):x(_e,Ne)))var Ne=_e,Ie=ne}return Ie}function $P(f,m,x,M){var V=f.length;for(x=Rn(x),x<0&&(x=-x>V?0:V+x),M=M===n||M>V?V:Rn(M),M<0&&(M+=V),M=x>M?0:z9(M);x<M;)f[x++]=m;return f}function C5(f,m){var x=[];return R0(f,function(M,V,ne){m(M,V,ne)&&x.push(M)}),x}function Gr(f,m,x,M,V){var ne=-1,_e=f.length;for(x||(x=LU),V||(V=[]);++ne<_e;){var Ne=f[ne];m>0&&x(Ne)?m>1?Gr(Ne,m-1,x,M,V):_0(V,Ne):M||(V[V.length]=Ne)}return V}var mb=J5(),N5=J5(!0);function Co(f,m){return f&&mb(f,m,Er)}function yb(f,m){return f&&N5(f,m,Er)}function Lm(f,m){return E0(m,function(x){return _c(f[x])})}function LA(f,m){m=N0(m,f);for(var x=0,M=m.length;f!=null&&x<M;)f=f[So(m[x++])];return x&&x==M?f:n}function S5(f,m,x){var M=m(f);return wn(f)?M:_0(M,x(f))}function ra(f){return f==null?f===n?Ve:Le:MA&&MA in bi(f)?SU(f):QU(f)}function gb(f,m){return f>m}function jP(f,m){return f!=null&&ci.call(f,m)}function YP(f,m){return f!=null&&m in bi(f)}function qP(f,m,x){return f>=Hr(m,x)&&f<fr(m,x)}function bb(f,m,x){for(var M=x?tb:mm,V=f[0].length,ne=f.length,_e=ne,Ne=$e(ne),Ie=1/0,rt=[];_e--;){var at=f[_e];_e&&m&&(at=Mi(at,za(m))),Ie=Hr(at.length,Ie),Ne[_e]=!x&&(m||V>=120&&at.length>=120)?new FA(_e&&at):n}at=f[0];var At=-1,_t=Ne[0];e:for(;++At<V&&rt.length<Ie;){var zt=at[At],sn=m?m(zt):zt;if(zt=x||zt!==0?zt:0,!(_t?lp(_t,sn):M(rt,sn,x))){for(_e=ne;--_e;){var Sn=Ne[_e];if(!(Sn?lp(Sn,sn):M(f[_e],sn,x)))continue e}_t&&_t.push(sn),rt.push(zt)}}return rt}function XP(f,m,x,M){return Co(f,function(V,ne,_e){m(M,x(V),ne,_e)}),M}function gp(f,m,x){m=N0(m,f),f=m9(f,m);var M=f==null?f:f[So(ws(m))];return M==null?n:Qa(M,f,x)}function G5(f){return Wi(f)&&ra(f)==ye}function ZP(f){return Wi(f)&&ra(f)==ke}function JP(f){return Wi(f)&&ra(f)==Ee}function bp(f,m,x,M,V){return f===m?!0:f==null||m==null||!Wi(f)&&!Wi(m)?f!==f&&m!==m:eU(f,m,x,M,bp,V)}function eU(f,m,x,M,V,ne){var _e=wn(f),Ne=wn(m),Ie=_e?se:Qr(f),rt=Ne?se:Qr(m);Ie=Ie==ye?K:Ie,rt=rt==ye?K:rt;var at=Ie==K,At=rt==K,_t=Ie==rt;if(_t&&G0(f)){if(!G0(m))return!1;_e=!0,at=!1}if(_t&&!at)return ne||(ne=new Js),_e||Jl(f)?A9(f,m,x,M,V,ne):CU(f,m,Ie,x,M,V,ne);if(!(x&h)){var zt=at&&ci.call(f,"__wrapped__"),sn=At&&ci.call(m,"__wrapped__");if(zt||sn){var Sn=zt?f.value():f,on=sn?m.value():m;return ne||(ne=new Js),V(Sn,on,x,M,ne)}}return _t?(ne||(ne=new Js),NU(f,m,x,M,V,ne)):!1}function tU(f){return Wi(f)&&Qr(f)==Re}function vb(f,m,x,M){var V=x.length,ne=V,_e=!M;if(f==null)return!ne;for(f=bi(f);V--;){var Ne=x[V];if(_e&&Ne[2]?Ne[1]!==f[Ne[0]]:!(Ne[0]in f))return!1}for(;++V<ne;){Ne=x[V];var Ie=Ne[0],rt=f[Ie],at=Ne[1];if(_e&&Ne[2]){if(rt===n&&!(Ie in f))return!1}else{var At=new Js;if(M)var _t=M(rt,at,Ie,f,m,At);if(!(_t===n?bp(at,rt,h|g,M,At):_t))return!1}}return!0}function M5(f){if(!Pi(f)||UU(f))return!1;var m=_c(f)?tP:Ot;return m.test(UA(f))}function nU(f){return Wi(f)&&ra(f)==ve}function iU(f){return Wi(f)&&Qr(f)==de}function rU(f){return Wi(f)&&Zm(f.length)&&!!Ni[ra(f)]}function T5(f){return typeof f=="function"?f:f==null?xa:typeof f=="object"?wn(f)?L5(f[0],f[1]):I5(f):e8(f)}function wb(f){if(!Ep(f))return oP(f);var m=[];for(var x in bi(f))ci.call(f,x)&&x!="constructor"&&m.push(x);return m}function aU(f){if(!Pi(f))return HU(f);var m=Ep(f),x=[];for(var M in f)M=="constructor"&&(m||!ci.call(f,M))||x.push(M);return x}function Eb(f,m){return f<m}function F5(f,m){var x=-1,M=Ea(f)?$e(f.length):[];return R0(f,function(V,ne,_e){M[++x]=m(V,ne,_e)}),M}function I5(f){var m=Ub(f);return m.length==1&&m[0][2]?f9(m[0][0],m[0][1]):function(x){return x===f||vb(x,f,m)}}function L5(f,m){return kb(f)&&p9(m)?f9(So(f),m):function(x){var M=Yb(x,f);return M===n&&M===m?qb(x,f):bp(m,M,h|g)}}function Pm(f,m,x,M,V){f!==m&&mb(m,function(ne,_e){if(V||(V=new Js),Pi(ne))sU(f,m,_e,x,Pm,M,V);else{var Ne=M?M(Hb(f,_e),ne,_e+"",f,m,V):n;Ne===n&&(Ne=ne),fb(f,_e,Ne)}},_a)}function sU(f,m,x,M,V,ne,_e){var Ne=Hb(f,x),Ie=Hb(m,x),rt=_e.get(Ie);if(rt){fb(f,x,rt);return}var at=ne?ne(Ne,Ie,x+"",f,m,_e):n,At=at===n;if(At){var _t=wn(Ie),zt=!_t&&G0(Ie),sn=!_t&&!zt&&Jl(Ie);at=Ie,_t||zt||sn?wn(Ne)?at=Ne:Yi(Ne)?at=wa(Ne):zt?(At=!1,at=$5(Ie,!0)):sn?(At=!1,at=j5(Ie,!0)):at=[]:xp(Ie)||DA(Ie)?(at=Ne,DA(Ne)?at=V9(Ne):(!Pi(Ne)||_c(Ne))&&(at=d9(Ie))):At=!1}At&&(_e.set(Ie,at),V(at,Ie,M,ne,_e),_e.delete(Ie)),fb(f,x,at)}function P5(f,m){var x=f.length;if(!!x)return m+=m<0?x:0,Ec(m,x)?f[m]:n}function U5(f,m,x){m.length?m=Mi(m,function(ne){return wn(ne)?function(_e){return LA(_e,ne.length===1?ne[0]:ne)}:ne}):m=[xa];var M=-1;m=Mi(m,za(nn()));var V=F5(f,function(ne,_e,Ne){var Ie=Mi(m,function(rt){return rt(ne)});return{criteria:Ie,index:++M,value:ne}});return FL(V,function(ne,_e){return bU(ne,_e,x)})}function oU(f,m){return D5(f,m,function(x,M){return qb(f,M)})}function D5(f,m,x){for(var M=-1,V=m.length,ne={};++M<V;){var _e=m[M],Ne=LA(f,_e);x(Ne,_e)&&vp(ne,N0(_e,f),Ne)}return ne}function cU(f){return function(m){return LA(m,f)}}function _b(f,m,x,M){var V=M?TL:Ql,ne=-1,_e=m.length,Ne=f;for(f===m&&(m=wa(m)),x&&(Ne=Mi(f,za(x)));++ne<_e;)for(var Ie=0,rt=m[ne],at=x?x(rt):rt;(Ie=V(Ne,at,Ie,M))>-1;)Ne!==f&&Rm.call(Ne,Ie,1),Rm.call(f,Ie,1);return f}function k5(f,m){for(var x=f?m.length:0,M=x-1;x--;){var V=m[x];if(x==M||V!==ne){var ne=V;Ec(V)?Rm.call(f,V,1):Cb(f,V)}}return f}function xb(f,m){return f+Sm(b5()*(m-f+1))}function AU(f,m,x,M){for(var V=-1,ne=fr(Nm((m-f)/(x||1)),0),_e=$e(ne);ne--;)_e[M?ne:++V]=f,f+=x;return _e}function Bb(f,m){var x="";if(!f||m<1||m>j)return x;do m%2&&(x+=f),m=Sm(m/2),m&&(f+=f);while(m);return x}function Gn(f,m){return Qb(h9(f,m,xa),f+"")}function lU(f){return E5(eu(f))}function uU(f,m){var x=eu(f);return Wm(x,IA(m,0,x.length))}function vp(f,m,x,M){if(!Pi(f))return f;m=N0(m,f);for(var V=-1,ne=m.length,_e=ne-1,Ne=f;Ne!=null&&++V<ne;){var Ie=So(m[V]),rt=x;if(Ie==="__proto__"||Ie==="constructor"||Ie==="prototype")return f;if(V!=_e){var at=Ne[Ie];rt=M?M(at,Ie,Ne):n,rt===n&&(rt=Pi(at)?at:Ec(m[V+1])?[]:{})}mp(Ne,Ie,rt),Ne=Ne[Ie]}return f}var O5=Gm?function(f,m){return Gm.set(f,m),f}:xa,dU=Cm?function(f,m){return Cm(f,"toString",{configurable:!0,enumerable:!1,value:Zb(m),writable:!0})}:xa;function pU(f){return Wm(eu(f))}function vs(f,m,x){var M=-1,V=f.length;m<0&&(m=-m>V?0:V+m),x=x>V?V:x,x<0&&(x+=V),V=m>x?0:x-m>>>0,m>>>=0;for(var ne=$e(V);++M<V;)ne[M]=f[M+m];return ne}function fU(f,m){var x;return R0(f,function(M,V,ne){return x=m(M,V,ne),!x}),!!x}function Um(f,m,x){var M=0,V=f==null?M:f.length;if(typeof m=="number"&&m===m&&V<=ae){for(;M<V;){var ne=M+V>>>1,_e=f[ne];_e!==null&&!Ka(_e)&&(x?_e<=m:_e<m)?M=ne+1:V=ne}return V}return Rb(f,m,xa,x)}function Rb(f,m,x,M){var V=0,ne=f==null?0:f.length;if(ne===0)return 0;m=x(m);for(var _e=m!==m,Ne=m===null,Ie=Ka(m),rt=m===n;V<ne;){var at=Sm((V+ne)/2),At=x(f[at]),_t=At!==n,zt=At===null,sn=At===At,Sn=Ka(At);if(_e)var on=M||sn;else rt?on=sn&&(M||_t):Ne?on=sn&&_t&&(M||!zt):Ie?on=sn&&_t&&!zt&&(M||!Sn):zt||Sn?on=!1:on=M?At<=m:At<m;on?V=at+1:ne=at}return Hr(ne,re)}function H5(f,m){for(var x=-1,M=f.length,V=0,ne=[];++x<M;){var _e=f[x],Ne=m?m(_e):_e;if(!x||!eo(Ne,Ie)){var Ie=Ne;ne[V++]=_e===0?0:_e}}return ne}function Q5(f){return typeof f=="number"?f:Ka(f)?ue:+f}function Va(f){if(typeof f=="string")return f;if(wn(f))return Mi(f,Va)+"";if(Ka(f))return v5?v5.call(f):"";var m=f+"";return m=="0"&&1/f==-W?"-0":m}function C0(f,m,x){var M=-1,V=mm,ne=f.length,_e=!0,Ne=[],Ie=Ne;if(x)_e=!1,V=tb;else if(ne>=r){var rt=m?null:BU(f);if(rt)return gm(rt);_e=!1,V=lp,Ie=new FA}else Ie=m?[]:Ne;e:for(;++M<ne;){var at=f[M],At=m?m(at):at;if(at=x||at!==0?at:0,_e&&At===At){for(var _t=Ie.length;_t--;)if(Ie[_t]===At)continue e;m&&Ie.push(At),Ne.push(at)}else V(Ie,At,x)||(Ie!==Ne&&Ie.push(At),Ne.push(at))}return Ne}function Cb(f,m){return m=N0(m,f),f=m9(f,m),f==null||delete f[So(ws(m))]}function z5(f,m,x,M){return vp(f,m,x(LA(f,m)),M)}function Dm(f,m,x,M){for(var V=f.length,ne=M?V:-1;(M?ne--:++ne<V)&&m(f[ne],ne,f););return x?vs(f,M?0:ne,M?ne+1:V):vs(f,M?ne+1:0,M?V:ne)}function V5(f,m){var x=f;return x instanceof Un&&(x=x.value()),nb(m,function(M,V){return V.func.apply(V.thisArg,_0([M],V.args))},x)}function Nb(f,m,x){var M=f.length;if(M<2)return M?C0(f[0]):[];for(var V=-1,ne=$e(M);++V<M;)for(var _e=f[V],Ne=-1;++Ne<M;)Ne!=V&&(ne[V]=yp(ne[V]||_e,f[Ne],m,x));return C0(Gr(ne,1),m,x)}function K5(f,m,x){for(var M=-1,V=f.length,ne=m.length,_e={};++M<V;){var Ne=M<ne?m[M]:n;x(_e,f[M],Ne)}return _e}function Sb(f){return Yi(f)?f:[]}function Gb(f){return typeof f=="function"?f:xa}function N0(f,m){return wn(f)?f:kb(f,m)?[f]:v9(ni(f))}var hU=Gn;function S0(f,m,x){var M=f.length;return x=x===n?M:x,!m&&x>=M?f:vs(f,m,x)}var W5=nP||function(f){return Sr.clearTimeout(f)};function $5(f,m){if(m)return f.slice();var x=f.length,M=f5?f5(x):new f.constructor(x);return f.copy(M),M}function Mb(f){var m=new f.constructor(f.byteLength);return new xm(m).set(new xm(f)),m}function mU(f,m){var x=m?Mb(f.buffer):f.buffer;return new f.constructor(x,f.byteOffset,f.byteLength)}function yU(f){var m=new f.constructor(f.source,nt.exec(f));return m.lastIndex=f.lastIndex,m}function gU(f){return hp?bi(hp.call(f)):{}}function j5(f,m){var x=m?Mb(f.buffer):f.buffer;return new f.constructor(x,f.byteOffset,f.length)}function Y5(f,m){if(f!==m){var x=f!==n,M=f===null,V=f===f,ne=Ka(f),_e=m!==n,Ne=m===null,Ie=m===m,rt=Ka(m);if(!Ne&&!rt&&!ne&&f>m||ne&&_e&&Ie&&!Ne&&!rt||M&&_e&&Ie||!x&&Ie||!V)return 1;if(!M&&!ne&&!rt&&f<m||rt&&x&&V&&!M&&!ne||Ne&&x&&V||!_e&&V||!Ie)return-1}return 0}function bU(f,m,x){for(var M=-1,V=f.criteria,ne=m.criteria,_e=V.length,Ne=x.length;++M<_e;){var Ie=Y5(V[M],ne[M]);if(Ie){if(M>=Ne)return Ie;var rt=x[M];return Ie*(rt=="desc"?-1:1)}}return f.index-m.index}function q5(f,m,x,M){for(var V=-1,ne=f.length,_e=x.length,Ne=-1,Ie=m.length,rt=fr(ne-_e,0),at=$e(Ie+rt),At=!M;++Ne<Ie;)at[Ne]=m[Ne];for(;++V<_e;)(At||V<ne)&&(at[x[V]]=f[V]);for(;rt--;)at[Ne++]=f[V++];return at}function X5(f,m,x,M){for(var V=-1,ne=f.length,_e=-1,Ne=x.length,Ie=-1,rt=m.length,at=fr(ne-Ne,0),At=$e(at+rt),_t=!M;++V<at;)At[V]=f[V];for(var zt=V;++Ie<rt;)At[zt+Ie]=m[Ie];for(;++_e<Ne;)(_t||V<ne)&&(At[zt+x[_e]]=f[V++]);return At}function wa(f,m){var x=-1,M=f.length;for(m||(m=$e(M));++x<M;)m[x]=f[x];return m}function No(f,m,x,M){var V=!x;x||(x={});for(var ne=-1,_e=m.length;++ne<_e;){var Ne=m[ne],Ie=M?M(x[Ne],f[Ne],Ne,x,f):n;Ie===n&&(Ie=f[Ne]),V?bc(x,Ne,Ie):mp(x,Ne,Ie)}return x}function vU(f,m){return No(f,Db(f),m)}function wU(f,m){return No(f,l9(f),m)}function km(f,m){return function(x,M){var V=wn(x)?RL:zP,ne=m?m():{};return V(x,f,nn(M,2),ne)}}function ql(f){return Gn(function(m,x){var M=-1,V=x.length,ne=V>1?x[V-1]:n,_e=V>2?x[2]:n;for(ne=f.length>3&&typeof ne=="function"?(V--,ne):n,_e&&aa(x[0],x[1],_e)&&(ne=V<3?n:ne,V=1),m=bi(m);++M<V;){var Ne=x[M];Ne&&f(m,Ne,M,ne)}return m})}function Z5(f,m){return function(x,M){if(x==null)return x;if(!Ea(x))return f(x,M);for(var V=x.length,ne=m?V:-1,_e=bi(x);(m?ne--:++ne<V)&&M(_e[ne],ne,_e)!==!1;);return x}}function J5(f){return function(m,x,M){for(var V=-1,ne=bi(m),_e=M(m),Ne=_e.length;Ne--;){var Ie=_e[f?Ne:++V];if(x(ne[Ie],Ie,ne)===!1)break}return m}}function EU(f,m,x){var M=m&b,V=wp(f);function ne(){var _e=this&&this!==Sr&&this instanceof ne?V:f;return _e.apply(M?x:this,arguments)}return ne}function e9(f){return function(m){m=ni(m);var x=zl(m)?Zs(m):n,M=x?x[0]:m.charAt(0),V=x?S0(x,1).join(""):m.slice(1);return M[f]()+V}}function Xl(f){return function(m){return nb(Z9(X9(m).replace(dL,"")),f,"")}}function wp(f){return function(){var m=arguments;switch(m.length){case 0:return new f;case 1:return new f(m[0]);case 2:return new f(m[0],m[1]);case 3:return new f(m[0],m[1],m[2]);case 4:return new f(m[0],m[1],m[2],m[3]);case 5:return new f(m[0],m[1],m[2],m[3],m[4]);case 6:return new f(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new f(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var x=Yl(f.prototype),M=f.apply(x,m);return Pi(M)?M:x}}function _U(f,m,x){var M=wp(f);function V(){for(var ne=arguments.length,_e=$e(ne),Ne=ne,Ie=Zl(V);Ne--;)_e[Ne]=arguments[Ne];var rt=ne<3&&_e[0]!==Ie&&_e[ne-1]!==Ie?[]:x0(_e,Ie);if(ne-=rt.length,ne<x)return a9(f,m,Om,V.placeholder,n,_e,rt,n,n,x-ne);var at=this&&this!==Sr&&this instanceof V?M:f;return Qa(at,this,_e)}return V}function t9(f){return function(m,x,M){var V=bi(m);if(!Ea(m)){var ne=nn(x,3);m=Er(m),x=function(Ne){return ne(V[Ne],Ne,V)}}var _e=f(m,x,M);return _e>-1?V[ne?m[_e]:_e]:n}}function n9(f){return wc(function(m){var x=m.length,M=x,V=gs.prototype.thru;for(f&&m.reverse();M--;){var ne=m[M];if(typeof ne!="function")throw new ys(s);if(V&&!_e&&Vm(ne)=="wrapper")var _e=new gs([],!0)}for(M=_e?M:x;++M<x;){ne=m[M];var Ne=Vm(ne),Ie=Ne=="wrapper"?Pb(ne):n;Ie&&Ob(Ie[0])&&Ie[1]==(R|_|E|G)&&!Ie[4].length&&Ie[9]==1?_e=_e[Vm(Ie[0])].apply(_e,Ie[3]):_e=ne.length==1&&Ob(ne)?_e[Ne]():_e.thru(ne)}return function(){var rt=arguments,at=rt[0];if(_e&&rt.length==1&&wn(at))return _e.plant(at).value();for(var At=0,_t=x?m[At].apply(this,rt):at;++At<x;)_t=m[At].call(this,_t);return _t}})}function Om(f,m,x,M,V,ne,_e,Ne,Ie,rt){var at=m&R,At=m&b,_t=m&y,zt=m&(_|w),sn=m&C,Sn=_t?n:wp(f);function on(){for(var Ln=arguments.length,Hn=$e(Ln),Wa=Ln;Wa--;)Hn[Wa]=arguments[Wa];if(zt)var sa=Zl(on),$a=LL(Hn,sa);if(M&&(Hn=q5(Hn,M,V,zt)),ne&&(Hn=X5(Hn,ne,_e,zt)),Ln-=$a,zt&&Ln<rt){var qi=x0(Hn,sa);return a9(f,m,Om,on.placeholder,x,Hn,qi,Ne,Ie,rt-Ln)}var to=At?x:this,Bc=_t?to[f]:f;return Ln=Hn.length,Ne?Hn=zU(Hn,Ne):sn&&Ln>1&&Hn.reverse(),at&&Ie<Ln&&(Hn.length=Ie),this&&this!==Sr&&this instanceof on&&(Bc=Sn||wp(Bc)),Bc.apply(to,Hn)}return on}function i9(f,m){return function(x,M){return XP(x,f,m(M),{})}}function Hm(f,m){return function(x,M){var V;if(x===n&&M===n)return m;if(x!==n&&(V=x),M!==n){if(V===n)return M;typeof x=="string"||typeof M=="string"?(x=Va(x),M=Va(M)):(x=Q5(x),M=Q5(M)),V=f(x,M)}return V}}function Tb(f){return wc(function(m){return m=Mi(m,za(nn())),Gn(function(x){var M=this;return f(m,function(V){return Qa(V,M,x)})})})}function Qm(f,m){m=m===n?" ":Va(m);var x=m.length;if(x<2)return x?Bb(m,f):m;var M=Bb(m,Nm(f/Vl(m)));return zl(m)?S0(Zs(M),0,f).join(""):M.slice(0,f)}function xU(f,m,x,M){var V=m&b,ne=wp(f);function _e(){for(var Ne=-1,Ie=arguments.length,rt=-1,at=M.length,At=$e(at+Ie),_t=this&&this!==Sr&&this instanceof _e?ne:f;++rt<at;)At[rt]=M[rt];for(;Ie--;)At[rt++]=arguments[++Ne];return Qa(_t,V?x:this,At)}return _e}function r9(f){return function(m,x,M){return M&&typeof M!="number"&&aa(m,x,M)&&(x=M=n),m=xc(m),x===n?(x=m,m=0):x=xc(x),M=M===n?m<x?1:-1:xc(M),AU(m,x,M,f)}}function zm(f){return function(m,x){return typeof m=="string"&&typeof x=="string"||(m=Es(m),x=Es(x)),f(m,x)}}function a9(f,m,x,M,V,ne,_e,Ne,Ie,rt){var at=m&_,At=at?_e:n,_t=at?n:_e,zt=at?ne:n,sn=at?n:ne;m|=at?E:B,m&=~(at?B:E),m&v||(m&=~(b|y));var Sn=[f,m,V,zt,At,sn,_t,Ne,Ie,rt],on=x.apply(n,Sn);return Ob(f)&&y9(on,Sn),on.placeholder=M,g9(on,f,m)}function Fb(f){var m=pr[f];return function(x,M){if(x=Es(x),M=M==null?0:Hr(Rn(M),292),M&&g5(x)){var V=(ni(x)+"e").split("e"),ne=m(V[0]+"e"+(+V[1]+M));return V=(ni(ne)+"e").split("e"),+(V[0]+"e"+(+V[1]-M))}return m(x)}}var BU=$l&&1/gm(new $l([,-0]))[1]==W?function(f){return new $l(f)}:tv;function s9(f){return function(m){var x=Qr(m);return x==Re?Ab(m):x==de?QL(m):IL(m,f(m))}}function vc(f,m,x,M,V,ne,_e,Ne){var Ie=m&y;if(!Ie&&typeof f!="function")throw new ys(s);var rt=M?M.length:0;if(rt||(m&=~(E|B),M=V=n),_e=_e===n?_e:fr(Rn(_e),0),Ne=Ne===n?Ne:Rn(Ne),rt-=V?V.length:0,m&B){var at=M,At=V;M=V=n}var _t=Ie?n:Pb(f),zt=[f,m,x,M,V,at,At,ne,_e,Ne];if(_t&&OU(zt,_t),f=zt[0],m=zt[1],x=zt[2],M=zt[3],V=zt[4],Ne=zt[9]=zt[9]===n?Ie?0:f.length:fr(zt[9]-rt,0),!Ne&&m&(_|w)&&(m&=~(_|w)),!m||m==b)var sn=EU(f,m,x);else m==_||m==w?sn=_U(f,m,Ne):(m==E||m==(b|E))&&!V.length?sn=xU(f,m,x,M):sn=Om.apply(n,zt);var Sn=_t?O5:y9;return g9(Sn(sn,zt),f,m)}function o9(f,m,x,M){return f===n||eo(f,Wl[x])&&!ci.call(M,x)?m:f}function c9(f,m,x,M,V,ne){return Pi(f)&&Pi(m)&&(ne.set(m,f),Pm(f,m,n,c9,ne),ne.delete(m)),f}function RU(f){return xp(f)?n:f}function A9(f,m,x,M,V,ne){var _e=x&h,Ne=f.length,Ie=m.length;if(Ne!=Ie&&!(_e&&Ie>Ne))return!1;var rt=ne.get(f),at=ne.get(m);if(rt&&at)return rt==m&&at==f;var At=-1,_t=!0,zt=x&g?new FA:n;for(ne.set(f,m),ne.set(m,f);++At<Ne;){var sn=f[At],Sn=m[At];if(M)var on=_e?M(Sn,sn,At,m,f,ne):M(sn,Sn,At,f,m,ne);if(on!==n){if(on)continue;_t=!1;break}if(zt){if(!ib(m,function(Ln,Hn){if(!lp(zt,Hn)&&(sn===Ln||V(sn,Ln,x,M,ne)))return zt.push(Hn)})){_t=!1;break}}else if(!(sn===Sn||V(sn,Sn,x,M,ne))){_t=!1;break}}return ne.delete(f),ne.delete(m),_t}function CU(f,m,x,M,V,ne,_e){switch(x){case qe:if(f.byteLength!=m.byteLength||f.byteOffset!=m.byteOffset)return!1;f=f.buffer,m=m.buffer;case ke:return!(f.byteLength!=m.byteLength||!ne(new xm(f),new xm(m)));case pe:case Ee:case Ge:return eo(+f,+m);case ie:return f.name==m.name&&f.message==m.message;case ve:case be:return f==m+"";case Re:var Ne=Ab;case de:var Ie=M&h;if(Ne||(Ne=gm),f.size!=m.size&&!Ie)return!1;var rt=_e.get(f);if(rt)return rt==m;M|=g,_e.set(f,m);var at=A9(Ne(f),Ne(m),M,V,ne,_e);return _e.delete(f),at;case Pe:if(hp)return hp.call(f)==hp.call(m)}return!1}function NU(f,m,x,M,V,ne){var _e=x&h,Ne=Ib(f),Ie=Ne.length,rt=Ib(m),at=rt.length;if(Ie!=at&&!_e)return!1;for(var At=Ie;At--;){var _t=Ne[At];if(!(_e?_t in m:ci.call(m,_t)))return!1}var zt=ne.get(f),sn=ne.get(m);if(zt&&sn)return zt==m&&sn==f;var Sn=!0;ne.set(f,m),ne.set(m,f);for(var on=_e;++At<Ie;){_t=Ne[At];var Ln=f[_t],Hn=m[_t];if(M)var Wa=_e?M(Hn,Ln,_t,m,f,ne):M(Ln,Hn,_t,f,m,ne);if(!(Wa===n?Ln===Hn||V(Ln,Hn,x,M,ne):Wa)){Sn=!1;break}on||(on=_t=="constructor")}if(Sn&&!on){var sa=f.constructor,$a=m.constructor;sa!=$a&&"constructor"in f&&"constructor"in m&&!(typeof sa=="function"&&sa instanceof sa&&typeof $a=="function"&&$a instanceof $a)&&(Sn=!1)}return ne.delete(f),ne.delete(m),Sn}function wc(f){return Qb(h9(f,n,x9),f+"")}function Ib(f){return S5(f,Er,Db)}function Lb(f){return S5(f,_a,l9)}var Pb=Gm?function(f){return Gm.get(f)}:tv;function Vm(f){for(var m=f.name+"",x=jl[m],M=ci.call(jl,m)?x.length:0;M--;){var V=x[M],ne=V.func;if(ne==null||ne==f)return V.name}return m}function Zl(f){var m=ci.call(X,"placeholder")?X:f;return m.placeholder}function nn(){var f=X.iteratee||Jb;return f=f===Jb?T5:f,arguments.length?f(arguments[0],arguments[1]):f}function Km(f,m){var x=f.__data__;return PU(m)?x[typeof m=="string"?"string":"hash"]:x.map}function Ub(f){for(var m=Er(f),x=m.length;x--;){var M=m[x],V=f[M];m[x]=[M,V,p9(V)]}return m}function PA(f,m){var x=kL(f,m);return M5(x)?x:n}function SU(f){var m=ci.call(f,MA),x=f[MA];try{f[MA]=n;var M=!0}catch{}var V=Em.call(f);return M&&(m?f[MA]=x:delete f[MA]),V}var Db=ub?function(f){return f==null?[]:(f=bi(f),E0(ub(f),function(m){return m5.call(f,m)}))}:nv,l9=ub?function(f){for(var m=[];f;)_0(m,Db(f)),f=Bm(f);return m}:nv,Qr=ra;(db&&Qr(new db(new ArrayBuffer(1)))!=qe||dp&&Qr(new dp)!=Re||pb&&Qr(pb.resolve())!=Z||$l&&Qr(new $l)!=de||pp&&Qr(new pp)!=Fe)&&(Qr=function(f){var m=ra(f),x=m==K?f.constructor:n,M=x?UA(x):"";if(M)switch(M){case uP:return qe;case dP:return Re;case pP:return Z;case fP:return de;case hP:return Fe}return m});function GU(f,m,x){for(var M=-1,V=x.length;++M<V;){var ne=x[M],_e=ne.size;switch(ne.type){case"drop":f+=_e;break;case"dropRight":m-=_e;break;case"take":m=Hr(m,f+_e);break;case"takeRight":f=fr(f,m-_e);break}}return{start:f,end:m}}function MU(f){var m=f.match(Be);return m?m[1].split(Ke):[]}function u9(f,m,x){m=N0(m,f);for(var M=-1,V=m.length,ne=!1;++M<V;){var _e=So(m[M]);if(!(ne=f!=null&&x(f,_e)))break;f=f[_e]}return ne||++M!=V?ne:(V=f==null?0:f.length,!!V&&Zm(V)&&Ec(_e,V)&&(wn(f)||DA(f)))}function TU(f){var m=f.length,x=new f.constructor(m);return m&&typeof f[0]=="string"&&ci.call(f,"index")&&(x.index=f.index,x.input=f.input),x}function d9(f){return typeof f.constructor=="function"&&!Ep(f)?Yl(Bm(f)):{}}function FU(f,m,x){var M=f.constructor;switch(m){case ke:return Mb(f);case pe:case Ee:return new M(+f);case qe:return mU(f,x);case Ye:case We:case mt:case Qt:case Dt:case Me:case it:case ut:case vt:return j5(f,x);case Re:return new M;case Ge:case be:return new M(f);case ve:return yU(f);case de:return new M;case Pe:return gU(f)}}function IU(f,m){var x=m.length;if(!x)return f;var M=x-1;return m[M]=(x>1?"& ":"")+m[M],m=m.join(x>2?", ":" "),f.replace(ge,`{
/* [wrapped with `+m+`] */
`)}function LU(f){return wn(f)||DA(f)||!!(y5&&f&&f[y5])}function Ec(f,m){var x=typeof f;return m=m==null?j:m,!!m&&(x=="number"||x!="symbol"&&ei.test(f))&&f>-1&&f%1==0&&f<m}function aa(f,m,x){if(!Pi(x))return!1;var M=typeof m;return(M=="number"?Ea(x)&&Ec(m,x.length):M=="string"&&m in x)?eo(x[m],f):!1}function kb(f,m){if(wn(f))return!1;var x=typeof f;return x=="number"||x=="symbol"||x=="boolean"||f==null||Ka(f)?!0:S.test(f)||!Ue.test(f)||m!=null&&f in bi(m)}function PU(f){var m=typeof f;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?f!=="__proto__":f===null}function Ob(f){var m=Vm(f),x=X[m];if(typeof x!="function"||!(m in Un.prototype))return!1;if(f===x)return!0;var M=Pb(x);return!!M&&f===M[0]}function UU(f){return!!p5&&p5 in f}var DU=vm?_c:iv;function Ep(f){var m=f&&f.constructor,x=typeof m=="function"&&m.prototype||Wl;return f===x}function p9(f){return f===f&&!Pi(f)}function f9(f,m){return function(x){return x==null?!1:x[f]===m&&(m!==n||f in bi(x))}}function kU(f){var m=qm(f,function(M){return x.size===A&&x.clear(),M}),x=m.cache;return m}function OU(f,m){var x=f[1],M=m[1],V=x|M,ne=V<(b|y|R),_e=M==R&&x==_||M==R&&x==G&&f[7].length<=m[8]||M==(R|G)&&m[7].length<=m[8]&&x==_;if(!(ne||_e))return f;M&b&&(f[2]=m[2],V|=x&b?0:v);var Ne=m[3];if(Ne){var Ie=f[3];f[3]=Ie?q5(Ie,Ne,m[4]):Ne,f[4]=Ie?x0(f[3],l):m[4]}return Ne=m[5],Ne&&(Ie=f[5],f[5]=Ie?X5(Ie,Ne,m[6]):Ne,f[6]=Ie?x0(f[5],l):m[6]),Ne=m[7],Ne&&(f[7]=Ne),M&R&&(f[8]=f[8]==null?m[8]:Hr(f[8],m[8])),f[9]==null&&(f[9]=m[9]),f[0]=m[0],f[1]=V,f}function HU(f){var m=[];if(f!=null)for(var x in bi(f))m.push(x);return m}function QU(f){return Em.call(f)}function h9(f,m,x){return m=fr(m===n?f.length-1:m,0),function(){for(var M=arguments,V=-1,ne=fr(M.length-m,0),_e=$e(ne);++V<ne;)_e[V]=M[m+V];V=-1;for(var Ne=$e(m+1);++V<m;)Ne[V]=M[V];return Ne[m]=x(_e),Qa(f,this,Ne)}}function m9(f,m){return m.length<2?f:LA(f,vs(m,0,-1))}function zU(f,m){for(var x=f.length,M=Hr(m.length,x),V=wa(f);M--;){var ne=m[M];f[M]=Ec(ne,x)?V[ne]:n}return f}function Hb(f,m){if(!(m==="constructor"&&typeof f[m]=="function")&&m!="__proto__")return f[m]}var y9=b9(O5),_p=rP||function(f,m){return Sr.setTimeout(f,m)},Qb=b9(dU);function g9(f,m,x){var M=m+"";return Qb(f,IU(M,VU(MU(M),x)))}function b9(f){var m=0,x=0;return function(){var M=cP(),V=k-(M-x);if(x=M,V>0){if(++m>=D)return arguments[0]}else m=0;return f.apply(n,arguments)}}function Wm(f,m){var x=-1,M=f.length,V=M-1;for(m=m===n?M:m;++x<m;){var ne=xb(x,V),_e=f[ne];f[ne]=f[x],f[x]=_e}return f.length=m,f}var v9=kU(function(f){var m=[];return f.charCodeAt(0)===46&&m.push(""),f.replace(U,function(x,M,V,ne){m.push(V?ne.replace(gt,"$1"):M||x)}),m});function So(f){if(typeof f=="string"||Ka(f))return f;var m=f+"";return m=="0"&&1/f==-W?"-0":m}function UA(f){if(f!=null){try{return wm.call(f)}catch{}try{return f+""}catch{}}return""}function VU(f,m){return ms(fe,function(x){var M="_."+x[0];m&x[1]&&!mm(f,M)&&f.push(M)}),f.sort()}function w9(f){if(f instanceof Un)return f.clone();var m=new gs(f.__wrapped__,f.__chain__);return m.__actions__=wa(f.__actions__),m.__index__=f.__index__,m.__values__=f.__values__,m}function KU(f,m,x){(x?aa(f,m,x):m===n)?m=1:m=fr(Rn(m),0);var M=f==null?0:f.length;if(!M||m<1)return[];for(var V=0,ne=0,_e=$e(Nm(M/m));V<M;)_e[ne++]=vs(f,V,V+=m);return _e}function WU(f){for(var m=-1,x=f==null?0:f.length,M=0,V=[];++m<x;){var ne=f[m];ne&&(V[M++]=ne)}return V}function $U(){var f=arguments.length;if(!f)return[];for(var m=$e(f-1),x=arguments[0],M=f;M--;)m[M-1]=arguments[M];return _0(wn(x)?wa(x):[x],Gr(m,1))}var jU=Gn(function(f,m){return Yi(f)?yp(f,Gr(m,1,Yi,!0)):[]}),YU=Gn(function(f,m){var x=ws(m);return Yi(x)&&(x=n),Yi(f)?yp(f,Gr(m,1,Yi,!0),nn(x,2)):[]}),qU=Gn(function(f,m){var x=ws(m);return Yi(x)&&(x=n),Yi(f)?yp(f,Gr(m,1,Yi,!0),n,x):[]});function XU(f,m,x){var M=f==null?0:f.length;return M?(m=x||m===n?1:Rn(m),vs(f,m<0?0:m,M)):[]}function ZU(f,m,x){var M=f==null?0:f.length;return M?(m=x||m===n?1:Rn(m),m=M-m,vs(f,0,m<0?0:m)):[]}function JU(f,m){return f&&f.length?Dm(f,nn(m,3),!0,!0):[]}function eD(f,m){return f&&f.length?Dm(f,nn(m,3),!0):[]}function tD(f,m,x,M){var V=f==null?0:f.length;return V?(x&&typeof x!="number"&&aa(f,m,x)&&(x=0,M=V),$P(f,m,x,M)):[]}function E9(f,m,x){var M=f==null?0:f.length;if(!M)return-1;var V=x==null?0:Rn(x);return V<0&&(V=fr(M+V,0)),ym(f,nn(m,3),V)}function _9(f,m,x){var M=f==null?0:f.length;if(!M)return-1;var V=M-1;return x!==n&&(V=Rn(x),V=x<0?fr(M+V,0):Hr(V,M-1)),ym(f,nn(m,3),V,!0)}function x9(f){var m=f==null?0:f.length;return m?Gr(f,1):[]}function nD(f){var m=f==null?0:f.length;return m?Gr(f,W):[]}function iD(f,m){var x=f==null?0:f.length;return x?(m=m===n?1:Rn(m),Gr(f,m)):[]}function rD(f){for(var m=-1,x=f==null?0:f.length,M={};++m<x;){var V=f[m];M[V[0]]=V[1]}return M}function B9(f){return f&&f.length?f[0]:n}function aD(f,m,x){var M=f==null?0:f.length;if(!M)return-1;var V=x==null?0:Rn(x);return V<0&&(V=fr(M+V,0)),Ql(f,m,V)}function sD(f){var m=f==null?0:f.length;return m?vs(f,0,-1):[]}var oD=Gn(function(f){var m=Mi(f,Sb);return m.length&&m[0]===f[0]?bb(m):[]}),cD=Gn(function(f){var m=ws(f),x=Mi(f,Sb);return m===ws(x)?m=n:x.pop(),x.length&&x[0]===f[0]?bb(x,nn(m,2)):[]}),AD=Gn(function(f){var m=ws(f),x=Mi(f,Sb);return m=typeof m=="function"?m:n,m&&x.pop(),x.length&&x[0]===f[0]?bb(x,n,m):[]});function lD(f,m){return f==null?"":sP.call(f,m)}function ws(f){var m=f==null?0:f.length;return m?f[m-1]:n}function uD(f,m,x){var M=f==null?0:f.length;if(!M)return-1;var V=M;return x!==n&&(V=Rn(x),V=V<0?fr(M+V,0):Hr(V,M-1)),m===m?VL(f,m,V):ym(f,a5,V,!0)}function dD(f,m){return f&&f.length?P5(f,Rn(m)):n}var pD=Gn(R9);function R9(f,m){return f&&f.length&&m&&m.length?_b(f,m):f}function fD(f,m,x){return f&&f.length&&m&&m.length?_b(f,m,nn(x,2)):f}function hD(f,m,x){return f&&f.length&&m&&m.length?_b(f,m,n,x):f}var mD=wc(function(f,m){var x=f==null?0:f.length,M=hb(f,m);return k5(f,Mi(m,function(V){return Ec(V,x)?+V:V}).sort(Y5)),M});function yD(f,m){var x=[];if(!(f&&f.length))return x;var M=-1,V=[],ne=f.length;for(m=nn(m,3);++M<ne;){var _e=f[M];m(_e,M,f)&&(x.push(_e),V.push(M))}return k5(f,V),x}function zb(f){return f==null?f:lP.call(f)}function gD(f,m,x){var M=f==null?0:f.length;return M?(x&&typeof x!="number"&&aa(f,m,x)?(m=0,x=M):(m=m==null?0:Rn(m),x=x===n?M:Rn(x)),vs(f,m,x)):[]}function bD(f,m){return Um(f,m)}function vD(f,m,x){return Rb(f,m,nn(x,2))}function wD(f,m){var x=f==null?0:f.length;if(x){var M=Um(f,m);if(M<x&&eo(f[M],m))return M}return-1}function ED(f,m){return Um(f,m,!0)}function _D(f,m,x){return Rb(f,m,nn(x,2),!0)}function xD(f,m){var x=f==null?0:f.length;if(x){var M=Um(f,m,!0)-1;if(eo(f[M],m))return M}return-1}function BD(f){return f&&f.length?H5(f):[]}function RD(f,m){return f&&f.length?H5(f,nn(m,2)):[]}function CD(f){var m=f==null?0:f.length;return m?vs(f,1,m):[]}function ND(f,m,x){return f&&f.length?(m=x||m===n?1:Rn(m),vs(f,0,m<0?0:m)):[]}function SD(f,m,x){var M=f==null?0:f.length;return M?(m=x||m===n?1:Rn(m),m=M-m,vs(f,m<0?0:m,M)):[]}function GD(f,m){return f&&f.length?Dm(f,nn(m,3),!1,!0):[]}function MD(f,m){return f&&f.length?Dm(f,nn(m,3)):[]}var TD=Gn(function(f){return C0(Gr(f,1,Yi,!0))}),FD=Gn(function(f){var m=ws(f);return Yi(m)&&(m=n),C0(Gr(f,1,Yi,!0),nn(m,2))}),ID=Gn(function(f){var m=ws(f);return m=typeof m=="function"?m:n,C0(Gr(f,1,Yi,!0),n,m)});function LD(f){return f&&f.length?C0(f):[]}function PD(f,m){return f&&f.length?C0(f,nn(m,2)):[]}function UD(f,m){return m=typeof m=="function"?m:n,f&&f.length?C0(f,n,m):[]}function Vb(f){if(!(f&&f.length))return[];var m=0;return f=E0(f,function(x){if(Yi(x))return m=fr(x.length,m),!0}),ob(m,function(x){return Mi(f,rb(x))})}function C9(f,m){if(!(f&&f.length))return[];var x=Vb(f);return m==null?x:Mi(x,function(M){return Qa(m,n,M)})}var DD=Gn(function(f,m){return Yi(f)?yp(f,m):[]}),kD=Gn(function(f){return Nb(E0(f,Yi))}),OD=Gn(function(f){var m=ws(f);return Yi(m)&&(m=n),Nb(E0(f,Yi),nn(m,2))}),HD=Gn(function(f){var m=ws(f);return m=typeof m=="function"?m:n,Nb(E0(f,Yi),n,m)}),QD=Gn(Vb);function zD(f,m){return K5(f||[],m||[],mp)}function VD(f,m){return K5(f||[],m||[],vp)}var KD=Gn(function(f){var m=f.length,x=m>1?f[m-1]:n;return x=typeof x=="function"?(f.pop(),x):n,C9(f,x)});function N9(f){var m=X(f);return m.__chain__=!0,m}function WD(f,m){return m(f),f}function $m(f,m){return m(f)}var $D=wc(function(f){var m=f.length,x=m?f[0]:0,M=this.__wrapped__,V=function(ne){return hb(ne,f)};return m>1||this.__actions__.length||!(M instanceof Un)||!Ec(x)?this.thru(V):(M=M.slice(x,+x+(m?1:0)),M.__actions__.push({func:$m,args:[V],thisArg:n}),new gs(M,this.__chain__).thru(function(ne){return m&&!ne.length&&ne.push(n),ne}))});function jD(){return N9(this)}function YD(){return new gs(this.value(),this.__chain__)}function qD(){this.__values__===n&&(this.__values__=Q9(this.value()));var f=this.__index__>=this.__values__.length,m=f?n:this.__values__[this.__index__++];return{done:f,value:m}}function XD(){return this}function ZD(f){for(var m,x=this;x instanceof Tm;){var M=w9(x);M.__index__=0,M.__values__=n,m?V.__wrapped__=M:m=M;var V=M;x=x.__wrapped__}return V.__wrapped__=f,m}function JD(){var f=this.__wrapped__;if(f instanceof Un){var m=f;return this.__actions__.length&&(m=new Un(this)),m=m.reverse(),m.__actions__.push({func:$m,args:[zb],thisArg:n}),new gs(m,this.__chain__)}return this.thru(zb)}function ek(){return V5(this.__wrapped__,this.__actions__)}var tk=km(function(f,m,x){ci.call(f,x)?++f[x]:bc(f,x,1)});function nk(f,m,x){var M=wn(f)?i5:WP;return x&&aa(f,m,x)&&(m=n),M(f,nn(m,3))}function ik(f,m){var x=wn(f)?E0:C5;return x(f,nn(m,3))}var rk=t9(E9),ak=t9(_9);function sk(f,m){return Gr(jm(f,m),1)}function ok(f,m){return Gr(jm(f,m),W)}function ck(f,m,x){return x=x===n?1:Rn(x),Gr(jm(f,m),x)}function S9(f,m){var x=wn(f)?ms:R0;return x(f,nn(m,3))}function G9(f,m){var x=wn(f)?CL:R5;return x(f,nn(m,3))}var Ak=km(function(f,m,x){ci.call(f,x)?f[x].push(m):bc(f,x,[m])});function lk(f,m,x,M){f=Ea(f)?f:eu(f),x=x&&!M?Rn(x):0;var V=f.length;return x<0&&(x=fr(V+x,0)),Jm(f)?x<=V&&f.indexOf(m,x)>-1:!!V&&Ql(f,m,x)>-1}var uk=Gn(function(f,m,x){var M=-1,V=typeof m=="function",ne=Ea(f)?$e(f.length):[];return R0(f,function(_e){ne[++M]=V?Qa(m,_e,x):gp(_e,m,x)}),ne}),dk=km(function(f,m,x){bc(f,x,m)});function jm(f,m){var x=wn(f)?Mi:F5;return x(f,nn(m,3))}function pk(f,m,x,M){return f==null?[]:(wn(m)||(m=m==null?[]:[m]),x=M?n:x,wn(x)||(x=x==null?[]:[x]),U5(f,m,x))}var fk=km(function(f,m,x){f[x?0:1].push(m)},function(){return[[],[]]});function hk(f,m,x){var M=wn(f)?nb:o5,V=arguments.length<3;return M(f,nn(m,4),x,V,R0)}function mk(f,m,x){var M=wn(f)?NL:o5,V=arguments.length<3;return M(f,nn(m,4),x,V,R5)}function yk(f,m){var x=wn(f)?E0:C5;return x(f,Xm(nn(m,3)))}function gk(f){var m=wn(f)?E5:lU;return m(f)}function bk(f,m,x){(x?aa(f,m,x):m===n)?m=1:m=Rn(m);var M=wn(f)?HP:uU;return M(f,m)}function vk(f){var m=wn(f)?QP:pU;return m(f)}function wk(f){if(f==null)return 0;if(Ea(f))return Jm(f)?Vl(f):f.length;var m=Qr(f);return m==Re||m==de?f.size:wb(f).length}function Ek(f,m,x){var M=wn(f)?ib:fU;return x&&aa(f,m,x)&&(m=n),M(f,nn(m,3))}var _k=Gn(function(f,m){if(f==null)return[];var x=m.length;return x>1&&aa(f,m[0],m[1])?m=[]:x>2&&aa(m[0],m[1],m[2])&&(m=[m[0]]),U5(f,Gr(m,1),[])}),Ym=iP||function(){return Sr.Date.now()};function xk(f,m){if(typeof m!="function")throw new ys(s);return f=Rn(f),function(){if(--f<1)return m.apply(this,arguments)}}function M9(f,m,x){return m=x?n:m,m=f&&m==null?f.length:m,vc(f,R,n,n,n,n,m)}function T9(f,m){var x;if(typeof m!="function")throw new ys(s);return f=Rn(f),function(){return--f>0&&(x=m.apply(this,arguments)),f<=1&&(m=n),x}}var Kb=Gn(function(f,m,x){var M=b;if(x.length){var V=x0(x,Zl(Kb));M|=E}return vc(f,M,m,x,V)}),F9=Gn(function(f,m,x){var M=b|y;if(x.length){var V=x0(x,Zl(F9));M|=E}return vc(m,M,f,x,V)});function I9(f,m,x){m=x?n:m;var M=vc(f,_,n,n,n,n,n,m);return M.placeholder=I9.placeholder,M}function L9(f,m,x){m=x?n:m;var M=vc(f,w,n,n,n,n,n,m);return M.placeholder=L9.placeholder,M}function P9(f,m,x){var M,V,ne,_e,Ne,Ie,rt=0,at=!1,At=!1,_t=!0;if(typeof f!="function")throw new ys(s);m=Es(m)||0,Pi(x)&&(at=!!x.leading,At="maxWait"in x,ne=At?fr(Es(x.maxWait)||0,m):ne,_t="trailing"in x?!!x.trailing:_t);function zt(qi){var to=M,Bc=V;return M=V=n,rt=qi,_e=f.apply(Bc,to),_e}function sn(qi){return rt=qi,Ne=_p(Ln,m),at?zt(qi):_e}function Sn(qi){var to=qi-Ie,Bc=qi-rt,t8=m-to;return At?Hr(t8,ne-Bc):t8}function on(qi){var to=qi-Ie,Bc=qi-rt;return Ie===n||to>=m||to<0||At&&Bc>=ne}function Ln(){var qi=Ym();if(on(qi))return Hn(qi);Ne=_p(Ln,Sn(qi))}function Hn(qi){return Ne=n,_t&&M?zt(qi):(M=V=n,_e)}function Wa(){Ne!==n&&W5(Ne),rt=0,M=Ie=V=Ne=n}function sa(){return Ne===n?_e:Hn(Ym())}function $a(){var qi=Ym(),to=on(qi);if(M=arguments,V=this,Ie=qi,to){if(Ne===n)return sn(Ie);if(At)return W5(Ne),Ne=_p(Ln,m),zt(Ie)}return Ne===n&&(Ne=_p(Ln,m)),_e}return $a.cancel=Wa,$a.flush=sa,$a}var Bk=Gn(function(f,m){return B5(f,1,m)}),Rk=Gn(function(f,m,x){return B5(f,Es(m)||0,x)});function Ck(f){return vc(f,C)}function qm(f,m){if(typeof f!="function"||m!=null&&typeof m!="function")throw new ys(s);var x=function(){var M=arguments,V=m?m.apply(this,M):M[0],ne=x.cache;if(ne.has(V))return ne.get(V);var _e=f.apply(this,M);return x.cache=ne.set(V,_e)||ne,_e};return x.cache=new(qm.Cache||gc),x}qm.Cache=gc;function Xm(f){if(typeof f!="function")throw new ys(s);return function(){var m=arguments;switch(m.length){case 0:return!f.call(this);case 1:return!f.call(this,m[0]);case 2:return!f.call(this,m[0],m[1]);case 3:return!f.call(this,m[0],m[1],m[2])}return!f.apply(this,m)}}function Nk(f){return T9(2,f)}var Sk=hU(function(f,m){m=m.length==1&&wn(m[0])?Mi(m[0],za(nn())):Mi(Gr(m,1),za(nn()));var x=m.length;return Gn(function(M){for(var V=-1,ne=Hr(M.length,x);++V<ne;)M[V]=m[V].call(this,M[V]);return Qa(f,this,M)})}),Wb=Gn(function(f,m){var x=x0(m,Zl(Wb));return vc(f,E,n,m,x)}),U9=Gn(function(f,m){var x=x0(m,Zl(U9));return vc(f,B,n,m,x)}),Gk=wc(function(f,m){return vc(f,G,n,n,n,m)});function Mk(f,m){if(typeof f!="function")throw new ys(s);return m=m===n?m:Rn(m),Gn(f,m)}function Tk(f,m){if(typeof f!="function")throw new ys(s);return m=m==null?0:fr(Rn(m),0),Gn(function(x){var M=x[m],V=S0(x,0,m);return M&&_0(V,M),Qa(f,this,V)})}function Fk(f,m,x){var M=!0,V=!0;if(typeof f!="function")throw new ys(s);return Pi(x)&&(M="leading"in x?!!x.leading:M,V="trailing"in x?!!x.trailing:V),P9(f,m,{leading:M,maxWait:m,trailing:V})}function Ik(f){return M9(f,1)}function Lk(f,m){return Wb(Gb(m),f)}function Pk(){if(!arguments.length)return[];var f=arguments[0];return wn(f)?f:[f]}function Uk(f){return bs(f,p)}function Dk(f,m){return m=typeof m=="function"?m:n,bs(f,p,m)}function kk(f){return bs(f,u|p)}function Ok(f,m){return m=typeof m=="function"?m:n,bs(f,u|p,m)}function Hk(f,m){return m==null||x5(f,m,Er(m))}function eo(f,m){return f===m||f!==f&&m!==m}var Qk=zm(gb),zk=zm(function(f,m){return f>=m}),DA=G5(function(){return arguments}())?G5:function(f){return Wi(f)&&ci.call(f,"callee")&&!m5.call(f,"callee")},wn=$e.isArray,Vk=X7?za(X7):ZP;function Ea(f){return f!=null&&Zm(f.length)&&!_c(f)}function Yi(f){return Wi(f)&&Ea(f)}function Kk(f){return f===!0||f===!1||Wi(f)&&ra(f)==pe}var G0=aP||iv,Wk=Z7?za(Z7):JP;function $k(f){return Wi(f)&&f.nodeType===1&&!xp(f)}function jk(f){if(f==null)return!0;if(Ea(f)&&(wn(f)||typeof f=="string"||typeof f.splice=="function"||G0(f)||Jl(f)||DA(f)))return!f.length;var m=Qr(f);if(m==Re||m==de)return!f.size;if(Ep(f))return!wb(f).length;for(var x in f)if(ci.call(f,x))return!1;return!0}function Yk(f,m){return bp(f,m)}function qk(f,m,x){x=typeof x=="function"?x:n;var M=x?x(f,m):n;return M===n?bp(f,m,n,x):!!M}function $b(f){if(!Wi(f))return!1;var m=ra(f);return m==ie||m==ee||typeof f.message=="string"&&typeof f.name=="string"&&!xp(f)}function Xk(f){return typeof f=="number"&&g5(f)}function _c(f){if(!Pi(f))return!1;var m=ra(f);return m==oe||m==he||m==me||m==Ce}function D9(f){return typeof f=="number"&&f==Rn(f)}function Zm(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=j}function Pi(f){var m=typeof f;return f!=null&&(m=="object"||m=="function")}function Wi(f){return f!=null&&typeof f=="object"}var k9=J7?za(J7):tU;function Zk(f,m){return f===m||vb(f,m,Ub(m))}function Jk(f,m,x){return x=typeof x=="function"?x:n,vb(f,m,Ub(m),x)}function eO(f){return O9(f)&&f!=+f}function tO(f){if(DU(f))throw new vn(a);return M5(f)}function nO(f){return f===null}function iO(f){return f==null}function O9(f){return typeof f=="number"||Wi(f)&&ra(f)==Ge}function xp(f){if(!Wi(f)||ra(f)!=K)return!1;var m=Bm(f);if(m===null)return!0;var x=ci.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&wm.call(x)==JL}var jb=e5?za(e5):nU;function rO(f){return D9(f)&&f>=-j&&f<=j}var H9=t5?za(t5):iU;function Jm(f){return typeof f=="string"||!wn(f)&&Wi(f)&&ra(f)==be}function Ka(f){return typeof f=="symbol"||Wi(f)&&ra(f)==Pe}var Jl=n5?za(n5):rU;function aO(f){return f===n}function sO(f){return Wi(f)&&Qr(f)==Fe}function oO(f){return Wi(f)&&ra(f)==He}var cO=zm(Eb),AO=zm(function(f,m){return f<=m});function Q9(f){if(!f)return[];if(Ea(f))return Jm(f)?Zs(f):wa(f);if(up&&f[up])return HL(f[up]());var m=Qr(f),x=m==Re?Ab:m==de?gm:eu;return x(f)}function xc(f){if(!f)return f===0?f:0;if(f=Es(f),f===W||f===-W){var m=f<0?-1:1;return m*ce}return f===f?f:0}function Rn(f){var m=xc(f),x=m%1;return m===m?x?m-x:m:0}function z9(f){return f?IA(Rn(f),0,te):0}function Es(f){if(typeof f=="number")return f;if(Ka(f))return ue;if(Pi(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=Pi(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=c5(f);var x=Lt.test(f);return x||Pt.test(f)?xL(f.slice(2),x?2:8):ht.test(f)?ue:+f}function V9(f){return No(f,_a(f))}function lO(f){return f?IA(Rn(f),-j,j):f===0?f:0}function ni(f){return f==null?"":Va(f)}var uO=ql(function(f,m){if(Ep(m)||Ea(m)){No(m,Er(m),f);return}for(var x in m)ci.call(m,x)&&mp(f,x,m[x])}),K9=ql(function(f,m){No(m,_a(m),f)}),e1=ql(function(f,m,x,M){No(m,_a(m),f,M)}),dO=ql(function(f,m,x,M){No(m,Er(m),f,M)}),pO=wc(hb);function fO(f,m){var x=Yl(f);return m==null?x:_5(x,m)}var hO=Gn(function(f,m){f=bi(f);var x=-1,M=m.length,V=M>2?m[2]:n;for(V&&aa(m[0],m[1],V)&&(M=1);++x<M;)for(var ne=m[x],_e=_a(ne),Ne=-1,Ie=_e.length;++Ne<Ie;){var rt=_e[Ne],at=f[rt];(at===n||eo(at,Wl[rt])&&!ci.call(f,rt))&&(f[rt]=ne[rt])}return f}),mO=Gn(function(f){return f.push(n,c9),Qa(W9,n,f)});function yO(f,m){return r5(f,nn(m,3),Co)}function gO(f,m){return r5(f,nn(m,3),yb)}function bO(f,m){return f==null?f:mb(f,nn(m,3),_a)}function vO(f,m){return f==null?f:N5(f,nn(m,3),_a)}function wO(f,m){return f&&Co(f,nn(m,3))}function EO(f,m){return f&&yb(f,nn(m,3))}function _O(f){return f==null?[]:Lm(f,Er(f))}function xO(f){return f==null?[]:Lm(f,_a(f))}function Yb(f,m,x){var M=f==null?n:LA(f,m);return M===n?x:M}function BO(f,m){return f!=null&&u9(f,m,jP)}function qb(f,m){return f!=null&&u9(f,m,YP)}var RO=i9(function(f,m,x){m!=null&&typeof m.toString!="function"&&(m=Em.call(m)),f[m]=x},Zb(xa)),CO=i9(function(f,m,x){m!=null&&typeof m.toString!="function"&&(m=Em.call(m)),ci.call(f,m)?f[m].push(x):f[m]=[x]},nn),NO=Gn(gp);function Er(f){return Ea(f)?w5(f):wb(f)}function _a(f){return Ea(f)?w5(f,!0):aU(f)}function SO(f,m){var x={};return m=nn(m,3),Co(f,function(M,V,ne){bc(x,m(M,V,ne),M)}),x}function GO(f,m){var x={};return m=nn(m,3),Co(f,function(M,V,ne){bc(x,V,m(M,V,ne))}),x}var MO=ql(function(f,m,x){Pm(f,m,x)}),W9=ql(function(f,m,x,M){Pm(f,m,x,M)}),TO=wc(function(f,m){var x={};if(f==null)return x;var M=!1;m=Mi(m,function(ne){return ne=N0(ne,f),M||(M=ne.length>1),ne}),No(f,Lb(f),x),M&&(x=bs(x,u|d|p,RU));for(var V=m.length;V--;)Cb(x,m[V]);return x});function FO(f,m){return $9(f,Xm(nn(m)))}var IO=wc(function(f,m){return f==null?{}:oU(f,m)});function $9(f,m){if(f==null)return{};var x=Mi(Lb(f),function(M){return[M]});return m=nn(m),D5(f,x,function(M,V){return m(M,V[0])})}function LO(f,m,x){m=N0(m,f);var M=-1,V=m.length;for(V||(V=1,f=n);++M<V;){var ne=f==null?n:f[So(m[M])];ne===n&&(M=V,ne=x),f=_c(ne)?ne.call(f):ne}return f}function PO(f,m,x){return f==null?f:vp(f,m,x)}function UO(f,m,x,M){return M=typeof M=="function"?M:n,f==null?f:vp(f,m,x,M)}var j9=s9(Er),Y9=s9(_a);function DO(f,m,x){var M=wn(f),V=M||G0(f)||Jl(f);if(m=nn(m,4),x==null){var ne=f&&f.constructor;V?x=M?new ne:[]:Pi(f)?x=_c(ne)?Yl(Bm(f)):{}:x={}}return(V?ms:Co)(f,function(_e,Ne,Ie){return m(x,_e,Ne,Ie)}),x}function kO(f,m){return f==null?!0:Cb(f,m)}function OO(f,m,x){return f==null?f:z5(f,m,Gb(x))}function HO(f,m,x,M){return M=typeof M=="function"?M:n,f==null?f:z5(f,m,Gb(x),M)}function eu(f){return f==null?[]:cb(f,Er(f))}function QO(f){return f==null?[]:cb(f,_a(f))}function zO(f,m,x){return x===n&&(x=m,m=n),x!==n&&(x=Es(x),x=x===x?x:0),m!==n&&(m=Es(m),m=m===m?m:0),IA(Es(f),m,x)}function VO(f,m,x){return m=xc(m),x===n?(x=m,m=0):x=xc(x),f=Es(f),qP(f,m,x)}function KO(f,m,x){if(x&&typeof x!="boolean"&&aa(f,m,x)&&(m=x=n),x===n&&(typeof m=="boolean"?(x=m,m=n):typeof f=="boolean"&&(x=f,f=n)),f===n&&m===n?(f=0,m=1):(f=xc(f),m===n?(m=f,f=0):m=xc(m)),f>m){var M=f;f=m,m=M}if(x||f%1||m%1){var V=b5();return Hr(f+V*(m-f+_L("1e-"+((V+"").length-1))),m)}return xb(f,m)}var WO=Xl(function(f,m,x){return m=m.toLowerCase(),f+(x?q9(m):m)});function q9(f){return Xb(ni(f).toLowerCase())}function X9(f){return f=ni(f),f&&f.replace(Mn,PL).replace(pL,"")}function $O(f,m,x){f=ni(f),m=Va(m);var M=f.length;x=x===n?M:IA(Rn(x),0,M);var V=x;return x-=m.length,x>=0&&f.slice(x,V)==m}function jO(f){return f=ni(f),f&&yt.test(f)?f.replace(en,UL):f}function YO(f){return f=ni(f),f&&Y.test(f)?f.replace(Q,"\\$&"):f}var qO=Xl(function(f,m,x){return f+(x?"-":"")+m.toLowerCase()}),XO=Xl(function(f,m,x){return f+(x?" ":"")+m.toLowerCase()}),ZO=e9("toLowerCase");function JO(f,m,x){f=ni(f),m=Rn(m);var M=m?Vl(f):0;if(!m||M>=m)return f;var V=(m-M)/2;return Qm(Sm(V),x)+f+Qm(Nm(V),x)}function eH(f,m,x){f=ni(f),m=Rn(m);var M=m?Vl(f):0;return m&&M<m?f+Qm(m-M,x):f}function tH(f,m,x){f=ni(f),m=Rn(m);var M=m?Vl(f):0;return m&&M<m?Qm(m-M,x)+f:f}function nH(f,m,x){return x||m==null?m=0:m&&(m=+m),AP(ni(f).replace(q,""),m||0)}function iH(f,m,x){return(x?aa(f,m,x):m===n)?m=1:m=Rn(m),Bb(ni(f),m)}function rH(){var f=arguments,m=ni(f[0]);return f.length<3?m:m.replace(f[1],f[2])}var aH=Xl(function(f,m,x){return f+(x?"_":"")+m.toLowerCase()});function sH(f,m,x){return x&&typeof x!="number"&&aa(f,m,x)&&(m=x=n),x=x===n?te:x>>>0,x?(f=ni(f),f&&(typeof m=="string"||m!=null&&!jb(m))&&(m=Va(m),!m&&zl(f))?S0(Zs(f),0,x):f.split(m,x)):[]}var oH=Xl(function(f,m,x){return f+(x?" ":"")+Xb(m)});function cH(f,m,x){return f=ni(f),x=x==null?0:IA(Rn(x),0,f.length),m=Va(m),f.slice(x,x+m.length)==m}function AH(f,m,x){var M=X.templateSettings;x&&aa(f,m,x)&&(m=n),f=ni(f),m=e1({},m,M,o9);var V=e1({},m.imports,M.imports,o9),ne=Er(V),_e=cb(V,ne),Ne,Ie,rt=0,at=m.interpolate||ar,At="__p += '",_t=lb((m.escape||ar).source+"|"+at.source+"|"+(at===ze?tt:ar).source+"|"+(m.evaluate||ar).source+"|$","g"),zt="//# sourceURL="+(ci.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gL+"]")+`
`;f.replace(_t,function(on,Ln,Hn,Wa,sa,$a){return Hn||(Hn=Wa),At+=f.slice(rt,$a).replace(na,DL),Ln&&(Ne=!0,At+=`' +
__e(`+Ln+`) +
'`),sa&&(Ie=!0,At+=`';
`+sa+`;
__p += '`),Hn&&(At+=`' +
((__t = (`+Hn+`)) == null ? '' : __t) +
'`),rt=$a+on.length,on}),At+=`';
`;var sn=ci.call(m,"variable")&&m.variable;if(!sn)At=`with (obj) {
`+At+`
}
`;else if(Ze.test(sn))throw new vn(o);At=(Ie?At.replace(ot,""):At).replace(Ht,"$1").replace(Et,"$1;"),At="function("+(sn||"obj")+`) {
`+(sn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ne?", __e = _.escape":"")+(Ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+At+`return __p
}`;var Sn=J9(function(){return Xn(ne,zt+"return "+At).apply(n,_e)});if(Sn.source=At,$b(Sn))throw Sn;return Sn}function lH(f){return ni(f).toLowerCase()}function uH(f){return ni(f).toUpperCase()}function dH(f,m,x){if(f=ni(f),f&&(x||m===n))return c5(f);if(!f||!(m=Va(m)))return f;var M=Zs(f),V=Zs(m),ne=A5(M,V),_e=l5(M,V)+1;return S0(M,ne,_e).join("")}function pH(f,m,x){if(f=ni(f),f&&(x||m===n))return f.slice(0,d5(f)+1);if(!f||!(m=Va(m)))return f;var M=Zs(f),V=l5(M,Zs(m))+1;return S0(M,0,V).join("")}function fH(f,m,x){if(f=ni(f),f&&(x||m===n))return f.replace(q,"");if(!f||!(m=Va(m)))return f;var M=Zs(f),V=A5(M,Zs(m));return S0(M,V).join("")}function hH(f,m){var x=O,M=I;if(Pi(m)){var V="separator"in m?m.separator:V;x="length"in m?Rn(m.length):x,M="omission"in m?Va(m.omission):M}f=ni(f);var ne=f.length;if(zl(f)){var _e=Zs(f);ne=_e.length}if(x>=ne)return f;var Ne=x-Vl(M);if(Ne<1)return M;var Ie=_e?S0(_e,0,Ne).join(""):f.slice(0,Ne);if(V===n)return Ie+M;if(_e&&(Ne+=Ie.length-Ne),jb(V)){if(f.slice(Ne).search(V)){var rt,at=Ie;for(V.global||(V=lb(V.source,ni(nt.exec(V))+"g")),V.lastIndex=0;rt=V.exec(at);)var At=rt.index;Ie=Ie.slice(0,At===n?Ne:At)}}else if(f.indexOf(Va(V),Ne)!=Ne){var _t=Ie.lastIndexOf(V);_t>-1&&(Ie=Ie.slice(0,_t))}return Ie+M}function mH(f){return f=ni(f),f&&ct.test(f)?f.replace(bt,KL):f}var yH=Xl(function(f,m,x){return f+(x?" ":"")+m.toUpperCase()}),Xb=e9("toUpperCase");function Z9(f,m,x){return f=ni(f),m=x?n:m,m===n?OL(f)?jL(f):ML(f):f.match(m)||[]}var J9=Gn(function(f,m){try{return Qa(f,n,m)}catch(x){return $b(x)?x:new vn(x)}}),gH=wc(function(f,m){return ms(m,function(x){x=So(x),bc(f,x,Kb(f[x],f))}),f});function bH(f){var m=f==null?0:f.length,x=nn();return f=m?Mi(f,function(M){if(typeof M[1]!="function")throw new ys(s);return[x(M[0]),M[1]]}):[],Gn(function(M){for(var V=-1;++V<m;){var ne=f[V];if(Qa(ne[0],this,M))return Qa(ne[1],this,M)}})}function vH(f){return KP(bs(f,u))}function Zb(f){return function(){return f}}function wH(f,m){return f==null||f!==f?m:f}var EH=n9(),_H=n9(!0);function xa(f){return f}function Jb(f){return T5(typeof f=="function"?f:bs(f,u))}function xH(f){return I5(bs(f,u))}function BH(f,m){return L5(f,bs(m,u))}var RH=Gn(function(f,m){return function(x){return gp(x,f,m)}}),CH=Gn(function(f,m){return function(x){return gp(f,x,m)}});function ev(f,m,x){var M=Er(m),V=Lm(m,M);x==null&&!(Pi(m)&&(V.length||!M.length))&&(x=m,m=f,f=this,V=Lm(m,Er(m)));var ne=!(Pi(x)&&"chain"in x)||!!x.chain,_e=_c(f);return ms(V,function(Ne){var Ie=m[Ne];f[Ne]=Ie,_e&&(f.prototype[Ne]=function(){var rt=this.__chain__;if(ne||rt){var at=f(this.__wrapped__),At=at.__actions__=wa(this.__actions__);return At.push({func:Ie,args:arguments,thisArg:f}),at.__chain__=rt,at}return Ie.apply(f,_0([this.value()],arguments))})}),f}function NH(){return Sr._===this&&(Sr._=eP),this}function tv(){}function SH(f){return f=Rn(f),Gn(function(m){return P5(m,f)})}var GH=Tb(Mi),MH=Tb(i5),TH=Tb(ib);function e8(f){return kb(f)?rb(So(f)):cU(f)}function FH(f){return function(m){return f==null?n:LA(f,m)}}var IH=r9(),LH=r9(!0);function nv(){return[]}function iv(){return!1}function PH(){return{}}function UH(){return""}function DH(){return!0}function kH(f,m){if(f=Rn(f),f<1||f>j)return[];var x=te,M=Hr(f,te);m=nn(m),f-=te;for(var V=ob(M,m);++x<f;)m(x);return V}function OH(f){return wn(f)?Mi(f,So):Ka(f)?[f]:wa(v9(ni(f)))}function HH(f){var m=++ZL;return ni(f)+m}var QH=Hm(function(f,m){return f+m},0),zH=Fb("ceil"),VH=Hm(function(f,m){return f/m},1),KH=Fb("floor");function WH(f){return f&&f.length?Im(f,xa,gb):n}function $H(f,m){return f&&f.length?Im(f,nn(m,2),gb):n}function jH(f){return s5(f,xa)}function YH(f,m){return s5(f,nn(m,2))}function qH(f){return f&&f.length?Im(f,xa,Eb):n}function XH(f,m){return f&&f.length?Im(f,nn(m,2),Eb):n}var ZH=Hm(function(f,m){return f*m},1),JH=Fb("round"),eQ=Hm(function(f,m){return f-m},0);function tQ(f){return f&&f.length?sb(f,xa):0}function nQ(f,m){return f&&f.length?sb(f,nn(m,2)):0}return X.after=xk,X.ary=M9,X.assign=uO,X.assignIn=K9,X.assignInWith=e1,X.assignWith=dO,X.at=pO,X.before=T9,X.bind=Kb,X.bindAll=gH,X.bindKey=F9,X.castArray=Pk,X.chain=N9,X.chunk=KU,X.compact=WU,X.concat=$U,X.cond=bH,X.conforms=vH,X.constant=Zb,X.countBy=tk,X.create=fO,X.curry=I9,X.curryRight=L9,X.debounce=P9,X.defaults=hO,X.defaultsDeep=mO,X.defer=Bk,X.delay=Rk,X.difference=jU,X.differenceBy=YU,X.differenceWith=qU,X.drop=XU,X.dropRight=ZU,X.dropRightWhile=JU,X.dropWhile=eD,X.fill=tD,X.filter=ik,X.flatMap=sk,X.flatMapDeep=ok,X.flatMapDepth=ck,X.flatten=x9,X.flattenDeep=nD,X.flattenDepth=iD,X.flip=Ck,X.flow=EH,X.flowRight=_H,X.fromPairs=rD,X.functions=_O,X.functionsIn=xO,X.groupBy=Ak,X.initial=sD,X.intersection=oD,X.intersectionBy=cD,X.intersectionWith=AD,X.invert=RO,X.invertBy=CO,X.invokeMap=uk,X.iteratee=Jb,X.keyBy=dk,X.keys=Er,X.keysIn=_a,X.map=jm,X.mapKeys=SO,X.mapValues=GO,X.matches=xH,X.matchesProperty=BH,X.memoize=qm,X.merge=MO,X.mergeWith=W9,X.method=RH,X.methodOf=CH,X.mixin=ev,X.negate=Xm,X.nthArg=SH,X.omit=TO,X.omitBy=FO,X.once=Nk,X.orderBy=pk,X.over=GH,X.overArgs=Sk,X.overEvery=MH,X.overSome=TH,X.partial=Wb,X.partialRight=U9,X.partition=fk,X.pick=IO,X.pickBy=$9,X.property=e8,X.propertyOf=FH,X.pull=pD,X.pullAll=R9,X.pullAllBy=fD,X.pullAllWith=hD,X.pullAt=mD,X.range=IH,X.rangeRight=LH,X.rearg=Gk,X.reject=yk,X.remove=yD,X.rest=Mk,X.reverse=zb,X.sampleSize=bk,X.set=PO,X.setWith=UO,X.shuffle=vk,X.slice=gD,X.sortBy=_k,X.sortedUniq=BD,X.sortedUniqBy=RD,X.split=sH,X.spread=Tk,X.tail=CD,X.take=ND,X.takeRight=SD,X.takeRightWhile=GD,X.takeWhile=MD,X.tap=WD,X.throttle=Fk,X.thru=$m,X.toArray=Q9,X.toPairs=j9,X.toPairsIn=Y9,X.toPath=OH,X.toPlainObject=V9,X.transform=DO,X.unary=Ik,X.union=TD,X.unionBy=FD,X.unionWith=ID,X.uniq=LD,X.uniqBy=PD,X.uniqWith=UD,X.unset=kO,X.unzip=Vb,X.unzipWith=C9,X.update=OO,X.updateWith=HO,X.values=eu,X.valuesIn=QO,X.without=DD,X.words=Z9,X.wrap=Lk,X.xor=kD,X.xorBy=OD,X.xorWith=HD,X.zip=QD,X.zipObject=zD,X.zipObjectDeep=VD,X.zipWith=KD,X.entries=j9,X.entriesIn=Y9,X.extend=K9,X.extendWith=e1,ev(X,X),X.add=QH,X.attempt=J9,X.camelCase=WO,X.capitalize=q9,X.ceil=zH,X.clamp=zO,X.clone=Uk,X.cloneDeep=kk,X.cloneDeepWith=Ok,X.cloneWith=Dk,X.conformsTo=Hk,X.deburr=X9,X.defaultTo=wH,X.divide=VH,X.endsWith=$O,X.eq=eo,X.escape=jO,X.escapeRegExp=YO,X.every=nk,X.find=rk,X.findIndex=E9,X.findKey=yO,X.findLast=ak,X.findLastIndex=_9,X.findLastKey=gO,X.floor=KH,X.forEach=S9,X.forEachRight=G9,X.forIn=bO,X.forInRight=vO,X.forOwn=wO,X.forOwnRight=EO,X.get=Yb,X.gt=Qk,X.gte=zk,X.has=BO,X.hasIn=qb,X.head=B9,X.identity=xa,X.includes=lk,X.indexOf=aD,X.inRange=VO,X.invoke=NO,X.isArguments=DA,X.isArray=wn,X.isArrayBuffer=Vk,X.isArrayLike=Ea,X.isArrayLikeObject=Yi,X.isBoolean=Kk,X.isBuffer=G0,X.isDate=Wk,X.isElement=$k,X.isEmpty=jk,X.isEqual=Yk,X.isEqualWith=qk,X.isError=$b,X.isFinite=Xk,X.isFunction=_c,X.isInteger=D9,X.isLength=Zm,X.isMap=k9,X.isMatch=Zk,X.isMatchWith=Jk,X.isNaN=eO,X.isNative=tO,X.isNil=iO,X.isNull=nO,X.isNumber=O9,X.isObject=Pi,X.isObjectLike=Wi,X.isPlainObject=xp,X.isRegExp=jb,X.isSafeInteger=rO,X.isSet=H9,X.isString=Jm,X.isSymbol=Ka,X.isTypedArray=Jl,X.isUndefined=aO,X.isWeakMap=sO,X.isWeakSet=oO,X.join=lD,X.kebabCase=qO,X.last=ws,X.lastIndexOf=uD,X.lowerCase=XO,X.lowerFirst=ZO,X.lt=cO,X.lte=AO,X.max=WH,X.maxBy=$H,X.mean=jH,X.meanBy=YH,X.min=qH,X.minBy=XH,X.stubArray=nv,X.stubFalse=iv,X.stubObject=PH,X.stubString=UH,X.stubTrue=DH,X.multiply=ZH,X.nth=dD,X.noConflict=NH,X.noop=tv,X.now=Ym,X.pad=JO,X.padEnd=eH,X.padStart=tH,X.parseInt=nH,X.random=KO,X.reduce=hk,X.reduceRight=mk,X.repeat=iH,X.replace=rH,X.result=LO,X.round=JH,X.runInContext=Te,X.sample=gk,X.size=wk,X.snakeCase=aH,X.some=Ek,X.sortedIndex=bD,X.sortedIndexBy=vD,X.sortedIndexOf=wD,X.sortedLastIndex=ED,X.sortedLastIndexBy=_D,X.sortedLastIndexOf=xD,X.startCase=oH,X.startsWith=cH,X.subtract=eQ,X.sum=tQ,X.sumBy=nQ,X.template=AH,X.times=kH,X.toFinite=xc,X.toInteger=Rn,X.toLength=z9,X.toLower=lH,X.toNumber=Es,X.toSafeInteger=lO,X.toString=ni,X.toUpper=uH,X.trim=dH,X.trimEnd=pH,X.trimStart=fH,X.truncate=hH,X.unescape=mH,X.uniqueId=HH,X.upperCase=yH,X.upperFirst=Xb,X.each=S9,X.eachRight=G9,X.first=B9,ev(X,function(){var f={};return Co(X,function(m,x){ci.call(X.prototype,x)||(f[x]=m)}),f}(),{chain:!1}),X.VERSION=i,ms(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){X[f].placeholder=X}),ms(["drop","take"],function(f,m){Un.prototype[f]=function(x){x=x===n?1:fr(Rn(x),0);var M=this.__filtered__&&!m?new Un(this):this.clone();return M.__filtered__?M.__takeCount__=Hr(x,M.__takeCount__):M.__views__.push({size:Hr(x,te),type:f+(M.__dir__<0?"Right":"")}),M},Un.prototype[f+"Right"]=function(x){return this.reverse()[f](x).reverse()}}),ms(["filter","map","takeWhile"],function(f,m){var x=m+1,M=x==L||x==H;Un.prototype[f]=function(V){var ne=this.clone();return ne.__iteratees__.push({iteratee:nn(V,3),type:x}),ne.__filtered__=ne.__filtered__||M,ne}}),ms(["head","last"],function(f,m){var x="take"+(m?"Right":"");Un.prototype[f]=function(){return this[x](1).value()[0]}}),ms(["initial","tail"],function(f,m){var x="drop"+(m?"":"Right");Un.prototype[f]=function(){return this.__filtered__?new Un(this):this[x](1)}}),Un.prototype.compact=function(){return this.filter(xa)},Un.prototype.find=function(f){return this.filter(f).head()},Un.prototype.findLast=function(f){return this.reverse().find(f)},Un.prototype.invokeMap=Gn(function(f,m){return typeof f=="function"?new Un(this):this.map(function(x){return gp(x,f,m)})}),Un.prototype.reject=function(f){return this.filter(Xm(nn(f)))},Un.prototype.slice=function(f,m){f=Rn(f);var x=this;return x.__filtered__&&(f>0||m<0)?new Un(x):(f<0?x=x.takeRight(-f):f&&(x=x.drop(f)),m!==n&&(m=Rn(m),x=m<0?x.dropRight(-m):x.take(m-f)),x)},Un.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Un.prototype.toArray=function(){return this.take(te)},Co(Un.prototype,function(f,m){var x=/^(?:filter|find|map|reject)|While$/.test(m),M=/^(?:head|last)$/.test(m),V=X[M?"take"+(m=="last"?"Right":""):m],ne=M||/^find/.test(m);!V||(X.prototype[m]=function(){var _e=this.__wrapped__,Ne=M?[1]:arguments,Ie=_e instanceof Un,rt=Ne[0],at=Ie||wn(_e),At=function(Ln){var Hn=V.apply(X,_0([Ln],Ne));return M&&_t?Hn[0]:Hn};at&&x&&typeof rt=="function"&&rt.length!=1&&(Ie=at=!1);var _t=this.__chain__,zt=!!this.__actions__.length,sn=ne&&!_t,Sn=Ie&&!zt;if(!ne&&at){_e=Sn?_e:new Un(this);var on=f.apply(_e,Ne);return on.__actions__.push({func:$m,args:[At],thisArg:n}),new gs(on,_t)}return sn&&Sn?f.apply(this,Ne):(on=this.thru(At),sn?M?on.value()[0]:on.value():on)})}),ms(["pop","push","shift","sort","splice","unshift"],function(f){var m=bm[f],x=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",M=/^(?:pop|shift)$/.test(f);X.prototype[f]=function(){var V=arguments;if(M&&!this.__chain__){var ne=this.value();return m.apply(wn(ne)?ne:[],V)}return this[x](function(_e){return m.apply(wn(_e)?_e:[],V)})}}),Co(Un.prototype,function(f,m){var x=X[m];if(x){var M=x.name+"";ci.call(jl,M)||(jl[M]=[]),jl[M].push({name:m,func:x})}}),jl[Om(n,y).name]=[{name:"wrapper",func:n}],Un.prototype.clone=mP,Un.prototype.reverse=yP,Un.prototype.value=gP,X.prototype.at=$D,X.prototype.chain=jD,X.prototype.commit=YD,X.prototype.next=qD,X.prototype.plant=ZD,X.prototype.reverse=JD,X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=ek,X.prototype.first=X.prototype.head,up&&(X.prototype[up]=XD),X},Kl=YL();GA?((GA.exports=Kl)._=Kl,J2._=Kl):Sr._=Kl}).call(nl)})(Kf,Kf.exports);var Ia="top",Os="bottom",Hs="right",La="left",hx="auto",jh=[Ia,Os,Hs,La],hd="start",Wf="end",sQ="clippingParents",OS="viewport",Bp="popper",oQ="reference",n8=jh.reduce(function(e,t){return e.concat([t+"-"+hd,t+"-"+Wf])},[]),HS=[].concat(jh,[hx]).reduce(function(e,t){return e.concat([t,t+"-"+hd,t+"-"+Wf])},[]),cQ="beforeRead",AQ="read",lQ="afterRead",uQ="beforeMain",dQ="main",pQ="afterMain",fQ="beforeWrite",hQ="write",mQ="afterWrite",yQ=[cQ,AQ,lQ,uQ,dQ,pQ,fQ,hQ,mQ];function nc(e){return e?(e.nodeName||"").toLowerCase():null}function ns(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vl(e){var t=ns(e).Element;return e instanceof t||e instanceof Element}function Ds(e){var t=ns(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function mx(e){if(typeof ShadowRoot>"u")return!1;var t=ns(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function gQ(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},a=t.elements[n];!Ds(a)||!nc(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(s){var o=r[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function bQ(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],a=t.attributes[i]||{},s=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),o=s.reduce(function(c,A){return c[A]="",c},{});!Ds(r)||!nc(r)||(Object.assign(r.style,o),Object.keys(a).forEach(function(c){r.removeAttribute(c)}))})}}const QS={name:"applyStyles",enabled:!0,phase:"write",fn:gQ,effect:bQ,requires:["computeStyles"]};function Xo(e){return e.split("-")[0]}var cl=Math.max,Cg=Math.min,md=Math.round;function QE(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function zS(){return!/^((?!chrome|android).)*safari/i.test(QE())}function yd(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,a=1;t&&Ds(e)&&(r=e.offsetWidth>0&&md(i.width)/e.offsetWidth||1,a=e.offsetHeight>0&&md(i.height)/e.offsetHeight||1);var s=vl(e)?ns(e):window,o=s.visualViewport,c=!zS()&&n,A=(i.left+(c&&o?o.offsetLeft:0))/r,l=(i.top+(c&&o?o.offsetTop:0))/a,u=i.width/r,d=i.height/a;return{width:u,height:d,top:l,right:A+u,bottom:l+d,left:A,x:A,y:l}}function yx(e){var t=yd(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function VS(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&mx(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Zc(e){return ns(e).getComputedStyle(e)}function vQ(e){return["table","td","th"].indexOf(nc(e))>=0}function _A(e){return((vl(e)?e.ownerDocument:e.document)||window.document).documentElement}function a2(e){return nc(e)==="html"?e:e.assignedSlot||e.parentNode||(mx(e)?e.host:null)||_A(e)}function i8(e){return!Ds(e)||Zc(e).position==="fixed"?null:e.offsetParent}function wQ(e){var t=/firefox/i.test(QE()),n=/Trident/i.test(QE());if(n&&Ds(e)){var i=Zc(e);if(i.position==="fixed")return null}var r=a2(e);for(mx(r)&&(r=r.host);Ds(r)&&["html","body"].indexOf(nc(r))<0;){var a=Zc(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function Yh(e){for(var t=ns(e),n=i8(e);n&&vQ(n)&&Zc(n).position==="static";)n=i8(n);return n&&(nc(n)==="html"||nc(n)==="body"&&Zc(n).position==="static")?t:n||wQ(e)||t}function gx(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function _f(e,t,n){return cl(e,Cg(t,n))}function EQ(e,t,n){var i=_f(e,t,n);return i>n?n:i}function KS(){return{top:0,right:0,bottom:0,left:0}}function WS(e){return Object.assign({},KS(),e)}function $S(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var _Q=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,WS(typeof t!="number"?t:$S(t,jh))};function xQ(e){var t,n=e.state,i=e.name,r=e.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,o=Xo(n.placement),c=gx(o),A=[La,Hs].indexOf(o)>=0,l=A?"height":"width";if(!(!a||!s)){var u=_Q(r.padding,n),d=yx(a),p=c==="y"?Ia:La,h=c==="y"?Os:Hs,g=n.rects.reference[l]+n.rects.reference[c]-s[c]-n.rects.popper[l],b=s[c]-n.rects.reference[c],y=Yh(a),v=y?c==="y"?y.clientHeight||0:y.clientWidth||0:0,_=g/2-b/2,w=u[p],E=v-d[l]-u[h],B=v/2-d[l]/2+_,R=_f(w,B,E),G=c;n.modifiersData[i]=(t={},t[G]=R,t.centerOffset=R-B,t)}}function BQ(e){var t=e.state,n=e.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||!VS(t.elements.popper,r)||(t.elements.arrow=r))}const RQ={name:"arrow",enabled:!0,phase:"main",fn:xQ,effect:BQ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gd(e){return e.split("-")[1]}var CQ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function NQ(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:md(n*r)/r||0,y:md(i*r)/r||0}}function r8(e){var t,n=e.popper,i=e.popperRect,r=e.placement,a=e.variation,s=e.offsets,o=e.position,c=e.gpuAcceleration,A=e.adaptive,l=e.roundOffsets,u=e.isFixed,d=s.x,p=d===void 0?0:d,h=s.y,g=h===void 0?0:h,b=typeof l=="function"?l({x:p,y:g}):{x:p,y:g};p=b.x,g=b.y;var y=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),_=La,w=Ia,E=window;if(A){var B=Yh(n),R="clientHeight",G="clientWidth";if(B===ns(n)&&(B=_A(n),Zc(B).position!=="static"&&o==="absolute"&&(R="scrollHeight",G="scrollWidth")),B=B,r===Ia||(r===La||r===Hs)&&a===Wf){w=Os;var C=u&&B===E&&E.visualViewport?E.visualViewport.height:B[R];g-=C-i.height,g*=c?1:-1}if(r===La||(r===Ia||r===Os)&&a===Wf){_=Hs;var O=u&&B===E&&E.visualViewport?E.visualViewport.width:B[G];p-=O-i.width,p*=c?1:-1}}var I=Object.assign({position:o},A&&CQ),D=l===!0?NQ({x:p,y:g},ns(n)):{x:p,y:g};if(p=D.x,g=D.y,c){var k;return Object.assign({},I,(k={},k[w]=v?"0":"",k[_]=y?"0":"",k.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",k))}return Object.assign({},I,(t={},t[w]=v?g+"px":"",t[_]=y?p+"px":"",t.transform="",t))}function SQ(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,a=n.adaptive,s=a===void 0?!0:a,o=n.roundOffsets,c=o===void 0?!0:o,A={placement:Xo(t.placement),variation:gd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,r8(Object.assign({},A,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,r8(Object.assign({},A,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const GQ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:SQ,data:{}};var t1={passive:!0};function MQ(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,a=r===void 0?!0:r,s=i.resize,o=s===void 0?!0:s,c=ns(t.elements.popper),A=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&A.forEach(function(l){l.addEventListener("scroll",n.update,t1)}),o&&c.addEventListener("resize",n.update,t1),function(){a&&A.forEach(function(l){l.removeEventListener("scroll",n.update,t1)}),o&&c.removeEventListener("resize",n.update,t1)}}const TQ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:MQ,data:{}};var FQ={left:"right",right:"left",bottom:"top",top:"bottom"};function $y(e){return e.replace(/left|right|bottom|top/g,function(t){return FQ[t]})}var IQ={start:"end",end:"start"};function a8(e){return e.replace(/start|end/g,function(t){return IQ[t]})}function bx(e){var t=ns(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function vx(e){return yd(_A(e)).left+bx(e).scrollLeft}function LQ(e,t){var n=ns(e),i=_A(e),r=n.visualViewport,a=i.clientWidth,s=i.clientHeight,o=0,c=0;if(r){a=r.width,s=r.height;var A=zS();(A||!A&&t==="fixed")&&(o=r.offsetLeft,c=r.offsetTop)}return{width:a,height:s,x:o+vx(e),y:c}}function PQ(e){var t,n=_A(e),i=bx(e),r=(t=e.ownerDocument)==null?void 0:t.body,a=cl(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=cl(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+vx(e),c=-i.scrollTop;return Zc(r||n).direction==="rtl"&&(o+=cl(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:s,x:o,y:c}}function wx(e){var t=Zc(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function jS(e){return["html","body","#document"].indexOf(nc(e))>=0?e.ownerDocument.body:Ds(e)&&wx(e)?e:jS(a2(e))}function xf(e,t){var n;t===void 0&&(t=[]);var i=jS(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),a=ns(i),s=r?[a].concat(a.visualViewport||[],wx(i)?i:[]):i,o=t.concat(s);return r?o:o.concat(xf(a2(s)))}function zE(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function UQ(e,t){var n=yd(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function s8(e,t,n){return t===OS?zE(LQ(e,n)):vl(t)?UQ(t,n):zE(PQ(_A(e)))}function DQ(e){var t=xf(a2(e)),n=["absolute","fixed"].indexOf(Zc(e).position)>=0,i=n&&Ds(e)?Yh(e):e;return vl(i)?t.filter(function(r){return vl(r)&&VS(r,i)&&nc(r)!=="body"}):[]}function kQ(e,t,n,i){var r=t==="clippingParents"?DQ(e):[].concat(t),a=[].concat(r,[n]),s=a[0],o=a.reduce(function(c,A){var l=s8(e,A,i);return c.top=cl(l.top,c.top),c.right=Cg(l.right,c.right),c.bottom=Cg(l.bottom,c.bottom),c.left=cl(l.left,c.left),c},s8(e,s,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function YS(e){var t=e.reference,n=e.element,i=e.placement,r=i?Xo(i):null,a=i?gd(i):null,s=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2,c;switch(r){case Ia:c={x:s,y:t.y-n.height};break;case Os:c={x:s,y:t.y+t.height};break;case Hs:c={x:t.x+t.width,y:o};break;case La:c={x:t.x-n.width,y:o};break;default:c={x:t.x,y:t.y}}var A=r?gx(r):null;if(A!=null){var l=A==="y"?"height":"width";switch(a){case hd:c[A]=c[A]-(t[l]/2-n[l]/2);break;case Wf:c[A]=c[A]+(t[l]/2-n[l]/2);break}}return c}function $f(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=i===void 0?e.placement:i,a=n.strategy,s=a===void 0?e.strategy:a,o=n.boundary,c=o===void 0?sQ:o,A=n.rootBoundary,l=A===void 0?OS:A,u=n.elementContext,d=u===void 0?Bp:u,p=n.altBoundary,h=p===void 0?!1:p,g=n.padding,b=g===void 0?0:g,y=WS(typeof b!="number"?b:$S(b,jh)),v=d===Bp?oQ:Bp,_=e.rects.popper,w=e.elements[h?v:d],E=kQ(vl(w)?w:w.contextElement||_A(e.elements.popper),c,l,s),B=yd(e.elements.reference),R=YS({reference:B,element:_,strategy:"absolute",placement:r}),G=zE(Object.assign({},_,R)),C=d===Bp?G:B,O={top:E.top-C.top+y.top,bottom:C.bottom-E.bottom+y.bottom,left:E.left-C.left+y.left,right:C.right-E.right+y.right},I=e.modifiersData.offset;if(d===Bp&&I){var D=I[r];Object.keys(O).forEach(function(k){var L=[Hs,Os].indexOf(k)>=0?1:-1,T=[Ia,Os].indexOf(k)>=0?"y":"x";O[k]+=D[T]*L})}return O}function OQ(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=n.boundary,a=n.rootBoundary,s=n.padding,o=n.flipVariations,c=n.allowedAutoPlacements,A=c===void 0?HS:c,l=gd(i),u=l?o?n8:n8.filter(function(h){return gd(h)===l}):jh,d=u.filter(function(h){return A.indexOf(h)>=0});d.length===0&&(d=u);var p=d.reduce(function(h,g){return h[g]=$f(e,{placement:g,boundary:r,rootBoundary:a,padding:s})[Xo(g)],h},{});return Object.keys(p).sort(function(h,g){return p[h]-p[g]})}function HQ(e){if(Xo(e)===hx)return[];var t=$y(e);return[a8(e),t,a8(t)]}function QQ(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,a=r===void 0?!0:r,s=n.altAxis,o=s===void 0?!0:s,c=n.fallbackPlacements,A=n.padding,l=n.boundary,u=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,h=p===void 0?!0:p,g=n.allowedAutoPlacements,b=t.options.placement,y=Xo(b),v=y===b,_=c||(v||!h?[$y(b)]:HQ(b)),w=[b].concat(_).reduce(function(fe,ye){return fe.concat(Xo(ye)===hx?OQ(t,{placement:ye,boundary:l,rootBoundary:u,padding:A,flipVariations:h,allowedAutoPlacements:g}):ye)},[]),E=t.rects.reference,B=t.rects.popper,R=new Map,G=!0,C=w[0],O=0;O<w.length;O++){var I=w[O],D=Xo(I),k=gd(I)===hd,L=[Ia,Os].indexOf(D)>=0,T=L?"width":"height",H=$f(t,{placement:I,boundary:l,rootBoundary:u,altBoundary:d,padding:A}),W=L?k?Hs:La:k?Os:Ia;E[T]>B[T]&&(W=$y(W));var j=$y(W),ce=[];if(a&&ce.push(H[D]<=0),o&&ce.push(H[W]<=0,H[j]<=0),ce.every(function(fe){return fe})){C=I,G=!1;break}R.set(I,ce)}if(G)for(var ue=h?3:1,te=function(ye){var se=w.find(function(me){var pe=R.get(me);if(pe)return pe.slice(0,ye).every(function(Ee){return Ee})});if(se)return C=se,"break"},re=ue;re>0;re--){var ae=te(re);if(ae==="break")break}t.placement!==C&&(t.modifiersData[i]._skip=!0,t.placement=C,t.reset=!0)}}const zQ={name:"flip",enabled:!0,phase:"main",fn:QQ,requiresIfExists:["offset"],data:{_skip:!1}};function o8(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function c8(e){return[Ia,Hs,Os,La].some(function(t){return e[t]>=0})}function VQ(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,a=t.modifiersData.preventOverflow,s=$f(t,{elementContext:"reference"}),o=$f(t,{altBoundary:!0}),c=o8(s,i),A=o8(o,r,a),l=c8(c),u=c8(A);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:A,isReferenceHidden:l,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":u})}const KQ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:VQ};function WQ(e,t,n){var i=Xo(e),r=[La,Ia].indexOf(i)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=a[0],o=a[1];return s=s||0,o=(o||0)*r,[La,Hs].indexOf(i)>=0?{x:o,y:s}:{x:s,y:o}}function $Q(e){var t=e.state,n=e.options,i=e.name,r=n.offset,a=r===void 0?[0,0]:r,s=HS.reduce(function(l,u){return l[u]=WQ(u,t.rects,a),l},{}),o=s[t.placement],c=o.x,A=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=A),t.modifiersData[i]=s}const jQ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$Q};function YQ(e){var t=e.state,n=e.name;t.modifiersData[n]=YS({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const qQ={name:"popperOffsets",enabled:!0,phase:"read",fn:YQ,data:{}};function XQ(e){return e==="x"?"y":"x"}function ZQ(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,a=r===void 0?!0:r,s=n.altAxis,o=s===void 0?!1:s,c=n.boundary,A=n.rootBoundary,l=n.altBoundary,u=n.padding,d=n.tether,p=d===void 0?!0:d,h=n.tetherOffset,g=h===void 0?0:h,b=$f(t,{boundary:c,rootBoundary:A,padding:u,altBoundary:l}),y=Xo(t.placement),v=gd(t.placement),_=!v,w=gx(y),E=XQ(w),B=t.modifiersData.popperOffsets,R=t.rects.reference,G=t.rects.popper,C=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,O=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(!!B){if(a){var k,L=w==="y"?Ia:La,T=w==="y"?Os:Hs,H=w==="y"?"height":"width",W=B[w],j=W+b[L],ce=W-b[T],ue=p?-G[H]/2:0,te=v===hd?R[H]:G[H],re=v===hd?-G[H]:-R[H],ae=t.elements.arrow,fe=p&&ae?yx(ae):{width:0,height:0},ye=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:KS(),se=ye[L],me=ye[T],pe=_f(0,R[H],fe[H]),Ee=_?R[H]/2-ue-pe-se-O.mainAxis:te-pe-se-O.mainAxis,ee=_?-R[H]/2+ue+pe+me+O.mainAxis:re+pe+me+O.mainAxis,ie=t.elements.arrow&&Yh(t.elements.arrow),oe=ie?w==="y"?ie.clientTop||0:ie.clientLeft||0:0,he=(k=I==null?void 0:I[w])!=null?k:0,Re=W+Ee-he-oe,Ge=W+ee-he,Le=_f(p?Cg(j,Re):j,W,p?cl(ce,Ge):ce);B[w]=Le,D[w]=Le-W}if(o){var K,Z=w==="x"?Ia:La,Ce=w==="x"?Os:Hs,ve=B[E],de=E==="y"?"height":"width",be=ve+b[Z],Pe=ve-b[Ce],Ve=[Ia,La].indexOf(y)!==-1,Fe=(K=I==null?void 0:I[E])!=null?K:0,He=Ve?be:ve-R[de]-G[de]-Fe+O.altAxis,ke=Ve?ve+R[de]+G[de]-Fe-O.altAxis:Pe,qe=p&&Ve?EQ(He,ve,ke):_f(p?He:be,ve,p?ke:Pe);B[E]=qe,D[E]=qe-ve}t.modifiersData[i]=D}}const JQ={name:"preventOverflow",enabled:!0,phase:"main",fn:ZQ,requiresIfExists:["offset"]};function ez(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function tz(e){return e===ns(e)||!Ds(e)?bx(e):ez(e)}function nz(e){var t=e.getBoundingClientRect(),n=md(t.width)/e.offsetWidth||1,i=md(t.height)/e.offsetHeight||1;return n!==1||i!==1}function iz(e,t,n){n===void 0&&(n=!1);var i=Ds(t),r=Ds(t)&&nz(t),a=_A(t),s=yd(e,r,n),o={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!n)&&((nc(t)!=="body"||wx(a))&&(o=tz(t)),Ds(t)?(c=yd(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=vx(a))),{x:s.left+o.scrollLeft-c.x,y:s.top+o.scrollTop-c.y,width:s.width,height:s.height}}function rz(e){var t=new Map,n=new Set,i=[];e.forEach(function(a){t.set(a.name,a)});function r(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!n.has(o)){var c=t.get(o);c&&r(c)}}),i.push(a)}return e.forEach(function(a){n.has(a.name)||r(a)}),i}function az(e){var t=rz(e);return yQ.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function sz(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function oz(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var A8={placement:"bottom",modifiers:[],strategy:"absolute"};function l8(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function cz(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,a=r===void 0?A8:r;return function(o,c,A){A===void 0&&(A=a);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},A8,a),modifiersData:{},elements:{reference:o,popper:c},attributes:{},styles:{}},u=[],d=!1,p={state:l,setOptions:function(y){var v=typeof y=="function"?y(l.options):y;g(),l.options=Object.assign({},a,l.options,v),l.scrollParents={reference:vl(o)?xf(o):o.contextElement?xf(o.contextElement):[],popper:xf(c)};var _=az(oz([].concat(i,l.options.modifiers)));return l.orderedModifiers=_.filter(function(w){return w.enabled}),h(),p.update()},forceUpdate:function(){if(!d){var y=l.elements,v=y.reference,_=y.popper;if(!!l8(v,_)){l.rects={reference:iz(v,Yh(_),l.options.strategy==="fixed"),popper:yx(_)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(O){return l.modifiersData[O.name]=Object.assign({},O.data)});for(var w=0;w<l.orderedModifiers.length;w++){if(l.reset===!0){l.reset=!1,w=-1;continue}var E=l.orderedModifiers[w],B=E.fn,R=E.options,G=R===void 0?{}:R,C=E.name;typeof B=="function"&&(l=B({state:l,options:G,name:C,instance:p})||l)}}}},update:sz(function(){return new Promise(function(b){p.forceUpdate(),b(l)})}),destroy:function(){g(),d=!0}};if(!l8(o,c))return p;p.setOptions(A).then(function(b){!d&&A.onFirstUpdate&&A.onFirstUpdate(b)});function h(){l.orderedModifiers.forEach(function(b){var y=b.name,v=b.options,_=v===void 0?{}:v,w=b.effect;if(typeof w=="function"){var E=w({state:l,name:y,instance:p,options:_}),B=function(){};u.push(E||B)}})}function g(){u.forEach(function(b){return b()}),u=[]}return p}}var Az=[TQ,qQ,GQ,QS,jQ,zQ,JQ,RQ,KQ],lz=cz({defaultModifiers:Az}),uz="tippy-box",qS="tippy-content",dz="tippy-backdrop",XS="tippy-arrow",ZS="tippy-svg-arrow",XA={passive:!0,capture:!0},JS=function(){return document.body};function rv(e,t,n){if(Array.isArray(e)){var i=e[t];return i==null?Array.isArray(n)?n[t]:n:i}return e}function Ex(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function eG(e,t){return typeof e=="function"?e.apply(void 0,t):e}function u8(e,t){if(t===0)return e;var n;return function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}}function pz(e){return e.split(/\s+/).filter(Boolean)}function Lu(e){return[].concat(e)}function d8(e,t){e.indexOf(t)===-1&&e.push(t)}function fz(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function hz(e){return e.split("-")[0]}function Ng(e){return[].slice.call(e)}function p8(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function Bf(){return document.createElement("div")}function s2(e){return["Element","Fragment"].some(function(t){return Ex(e,t)})}function mz(e){return Ex(e,"NodeList")}function yz(e){return Ex(e,"MouseEvent")}function gz(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function bz(e){return s2(e)?[e]:mz(e)?Ng(e):Array.isArray(e)?e:Ng(document.querySelectorAll(e))}function av(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function f8(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function vz(e){var t,n=Lu(e),i=n[0];return i!=null&&(t=i.ownerDocument)!=null&&t.body?i.ownerDocument:document}function wz(e,t){var n=t.clientX,i=t.clientY;return e.every(function(r){var a=r.popperRect,s=r.popperState,o=r.props,c=o.interactiveBorder,A=hz(s.placement),l=s.modifiersData.offset;if(!l)return!0;var u=A==="bottom"?l.top.y:0,d=A==="top"?l.bottom.y:0,p=A==="right"?l.left.x:0,h=A==="left"?l.right.x:0,g=a.top-i+u>c,b=i-a.bottom-d>c,y=a.left-n+p>c,v=n-a.right-h>c;return g||b||y||v})}function sv(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){e[i](r,n)})}function h8(e,t){for(var n=t;n;){var i;if(e.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var zo={isTouch:!1},m8=0;function Ez(){zo.isTouch||(zo.isTouch=!0,window.performance&&document.addEventListener("mousemove",tG))}function tG(){var e=performance.now();e-m8<20&&(zo.isTouch=!1,document.removeEventListener("mousemove",tG)),m8=e}function _z(){var e=document.activeElement;if(gz(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function xz(){document.addEventListener("touchstart",Ez,XA),window.addEventListener("blur",_z)}var Bz=typeof window<"u"&&typeof document<"u",Rz=Bz?!!window.msCrypto:!1,Cz={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Nz={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},bo=Object.assign({appendTo:JS,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Cz,Nz),Sz=Object.keys(bo),Gz=function(t){var n=Object.keys(t);n.forEach(function(i){bo[i]=t[i]})};function nG(e){var t=e.plugins||[],n=t.reduce(function(i,r){var a=r.name,s=r.defaultValue;if(a){var o;i[a]=e[a]!==void 0?e[a]:(o=bo[a])!=null?o:s}return i},{});return Object.assign({},e,n)}function Mz(e,t){var n=t?Object.keys(nG(Object.assign({},bo,{plugins:t}))):Sz,i=n.reduce(function(r,a){var s=(e.getAttribute("data-tippy-"+a)||"").trim();if(!s)return r;if(a==="content")r[a]=s;else try{r[a]=JSON.parse(s)}catch{r[a]=s}return r},{});return i}function y8(e,t){var n=Object.assign({},t,{content:eG(t.content,[e])},t.ignoreAttributes?{}:Mz(e,t.plugins));return n.aria=Object.assign({},bo.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var Tz=function(){return"innerHTML"};function VE(e,t){e[Tz()]=t}function g8(e){var t=Bf();return e===!0?t.className=XS:(t.className=ZS,s2(e)?t.appendChild(e):VE(t,e)),t}function b8(e,t){s2(t.content)?(VE(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?VE(e,t.content):e.textContent=t.content)}function KE(e){var t=e.firstElementChild,n=Ng(t.children);return{box:t,content:n.find(function(i){return i.classList.contains(qS)}),arrow:n.find(function(i){return i.classList.contains(XS)||i.classList.contains(ZS)}),backdrop:n.find(function(i){return i.classList.contains(dz)})}}function iG(e){var t=Bf(),n=Bf();n.className=uz,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Bf();i.className=qS,i.setAttribute("data-state","hidden"),b8(i,e.props),t.appendChild(n),n.appendChild(i),r(e.props,e.props);function r(a,s){var o=KE(t),c=o.box,A=o.content,l=o.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(a.content!==s.content||a.allowHTML!==s.allowHTML)&&b8(A,e.props),s.arrow?l?a.arrow!==s.arrow&&(c.removeChild(l),c.appendChild(g8(s.arrow))):c.appendChild(g8(s.arrow)):l&&c.removeChild(l)}return{popper:t,onUpdate:r}}iG.$$tippy=!0;var Fz=1,n1=[],ov=[];function Iz(e,t){var n=y8(e,Object.assign({},bo,nG(p8(t)))),i,r,a,s=!1,o=!1,c=!1,A=!1,l,u,d,p=[],h=u8(Re,n.interactiveDebounce),g,b=Fz++,y=null,v=fz(n.plugins),_={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},w={id:b,reference:e,popper:Bf(),popperInstance:y,props:n,state:_,plugins:v,clearDelayTimeouts:He,setProps:ke,setContent:qe,show:Ye,hide:We,hideWithInteractivity:mt,enable:Ve,disable:Fe,unmount:Qt,destroy:Dt};if(!n.render)return w;var E=n.render(w),B=E.popper,R=E.onUpdate;B.setAttribute("data-tippy-root",""),B.id="tippy-"+w.id,w.popper=B,e._tippy=w,B._tippy=w;var G=v.map(function(Me){return Me.fn(w)}),C=e.hasAttribute("aria-expanded");return ie(),ue(),W(),j("onCreate",[w]),n.showOnCreate&&be(),B.addEventListener("mouseenter",function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()}),B.addEventListener("mouseleave",function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&L().addEventListener("mousemove",h)}),w;function O(){var Me=w.props.touch;return Array.isArray(Me)?Me:[Me,0]}function I(){return O()[0]==="hold"}function D(){var Me;return!!((Me=w.props.render)!=null&&Me.$$tippy)}function k(){return g||e}function L(){var Me=k().parentNode;return Me?vz(Me):document}function T(){return KE(B)}function H(Me){return w.state.isMounted&&!w.state.isVisible||zo.isTouch||l&&l.type==="focus"?0:rv(w.props.delay,Me?0:1,bo.delay)}function W(Me){Me===void 0&&(Me=!1),B.style.pointerEvents=w.props.interactive&&!Me?"":"none",B.style.zIndex=""+w.props.zIndex}function j(Me,it,ut){if(ut===void 0&&(ut=!0),G.forEach(function(ot){ot[Me]&&ot[Me].apply(ot,it)}),ut){var vt;(vt=w.props)[Me].apply(vt,it)}}function ce(){var Me=w.props.aria;if(!!Me.content){var it="aria-"+Me.content,ut=B.id,vt=Lu(w.props.triggerTarget||e);vt.forEach(function(ot){var Ht=ot.getAttribute(it);if(w.state.isVisible)ot.setAttribute(it,Ht?Ht+" "+ut:ut);else{var Et=Ht&&Ht.replace(ut,"").trim();Et?ot.setAttribute(it,Et):ot.removeAttribute(it)}})}}function ue(){if(!(C||!w.props.aria.expanded)){var Me=Lu(w.props.triggerTarget||e);Me.forEach(function(it){w.props.interactive?it.setAttribute("aria-expanded",w.state.isVisible&&it===k()?"true":"false"):it.removeAttribute("aria-expanded")})}}function te(){L().removeEventListener("mousemove",h),n1=n1.filter(function(Me){return Me!==h})}function re(Me){if(!(zo.isTouch&&(c||Me.type==="mousedown"))){var it=Me.composedPath&&Me.composedPath()[0]||Me.target;if(!(w.props.interactive&&h8(B,it))){if(Lu(w.props.triggerTarget||e).some(function(ut){return h8(ut,it)})){if(zo.isTouch||w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else j("onClickOutside",[w,Me]);w.props.hideOnClick===!0&&(w.clearDelayTimeouts(),w.hide(),o=!0,setTimeout(function(){o=!1}),w.state.isMounted||se())}}}function ae(){c=!0}function fe(){c=!1}function ye(){var Me=L();Me.addEventListener("mousedown",re,!0),Me.addEventListener("touchend",re,XA),Me.addEventListener("touchstart",fe,XA),Me.addEventListener("touchmove",ae,XA)}function se(){var Me=L();Me.removeEventListener("mousedown",re,!0),Me.removeEventListener("touchend",re,XA),Me.removeEventListener("touchstart",fe,XA),Me.removeEventListener("touchmove",ae,XA)}function me(Me,it){Ee(Me,function(){!w.state.isVisible&&B.parentNode&&B.parentNode.contains(B)&&it()})}function pe(Me,it){Ee(Me,it)}function Ee(Me,it){var ut=T().box;function vt(ot){ot.target===ut&&(sv(ut,"remove",vt),it())}if(Me===0)return it();sv(ut,"remove",u),sv(ut,"add",vt),u=vt}function ee(Me,it,ut){ut===void 0&&(ut=!1);var vt=Lu(w.props.triggerTarget||e);vt.forEach(function(ot){ot.addEventListener(Me,it,ut),p.push({node:ot,eventType:Me,handler:it,options:ut})})}function ie(){I()&&(ee("touchstart",he,{passive:!0}),ee("touchend",Ge,{passive:!0})),pz(w.props.trigger).forEach(function(Me){if(Me!=="manual")switch(ee(Me,he),Me){case"mouseenter":ee("mouseleave",Ge);break;case"focus":ee(Rz?"focusout":"blur",Le);break;case"focusin":ee("focusout",Le);break}})}function oe(){p.forEach(function(Me){var it=Me.node,ut=Me.eventType,vt=Me.handler,ot=Me.options;it.removeEventListener(ut,vt,ot)}),p=[]}function he(Me){var it,ut=!1;if(!(!w.state.isEnabled||K(Me)||o)){var vt=((it=l)==null?void 0:it.type)==="focus";l=Me,g=Me.currentTarget,ue(),!w.state.isVisible&&yz(Me)&&n1.forEach(function(ot){return ot(Me)}),Me.type==="click"&&(w.props.trigger.indexOf("mouseenter")<0||s)&&w.props.hideOnClick!==!1&&w.state.isVisible?ut=!0:be(Me),Me.type==="click"&&(s=!ut),ut&&!vt&&Pe(Me)}}function Re(Me){var it=Me.target,ut=k().contains(it)||B.contains(it);if(!(Me.type==="mousemove"&&ut)){var vt=de().concat(B).map(function(ot){var Ht,Et=ot._tippy,bt=(Ht=Et.popperInstance)==null?void 0:Ht.state;return bt?{popperRect:ot.getBoundingClientRect(),popperState:bt,props:n}:null}).filter(Boolean);wz(vt,Me)&&(te(),Pe(Me))}}function Ge(Me){var it=K(Me)||w.props.trigger.indexOf("click")>=0&&s;if(!it){if(w.props.interactive){w.hideWithInteractivity(Me);return}Pe(Me)}}function Le(Me){w.props.trigger.indexOf("focusin")<0&&Me.target!==k()||w.props.interactive&&Me.relatedTarget&&B.contains(Me.relatedTarget)||Pe(Me)}function K(Me){return zo.isTouch?I()!==Me.type.indexOf("touch")>=0:!1}function Z(){Ce();var Me=w.props,it=Me.popperOptions,ut=Me.placement,vt=Me.offset,ot=Me.getReferenceClientRect,Ht=Me.moveTransition,Et=D()?KE(B).arrow:null,bt=ot?{getBoundingClientRect:ot,contextElement:ot.contextElement||k()}:e,en={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Mt){var Ae=Mt.state;if(D()){var ze=T(),Ue=ze.box;["placement","reference-hidden","escaped"].forEach(function(S){S==="placement"?Ue.setAttribute("data-placement",Ae.placement):Ae.attributes.popper["data-popper-"+S]?Ue.setAttribute("data-"+S,""):Ue.removeAttribute("data-"+S)}),Ae.attributes.popper={}}}},ct=[{name:"offset",options:{offset:vt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ht}},en];D()&&Et&&ct.push({name:"arrow",options:{element:Et,padding:3}}),ct.push.apply(ct,(it==null?void 0:it.modifiers)||[]),w.popperInstance=lz(bt,B,Object.assign({},it,{placement:ut,onFirstUpdate:d,modifiers:ct}))}function Ce(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function ve(){var Me=w.props.appendTo,it,ut=k();w.props.interactive&&Me===JS||Me==="parent"?it=ut.parentNode:it=eG(Me,[ut]),it.contains(B)||it.appendChild(B),w.state.isMounted=!0,Z()}function de(){return Ng(B.querySelectorAll("[data-tippy-root]"))}function be(Me){w.clearDelayTimeouts(),Me&&j("onTrigger",[w,Me]),ye();var it=H(!0),ut=O(),vt=ut[0],ot=ut[1];zo.isTouch&&vt==="hold"&&ot&&(it=ot),it?i=setTimeout(function(){w.show()},it):w.show()}function Pe(Me){if(w.clearDelayTimeouts(),j("onUntrigger",[w,Me]),!w.state.isVisible){se();return}if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Me.type)>=0&&s)){var it=H(!1);it?r=setTimeout(function(){w.state.isVisible&&w.hide()},it):a=requestAnimationFrame(function(){w.hide()})}}function Ve(){w.state.isEnabled=!0}function Fe(){w.hide(),w.state.isEnabled=!1}function He(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(a)}function ke(Me){if(!w.state.isDestroyed){j("onBeforeUpdate",[w,Me]),oe();var it=w.props,ut=y8(e,Object.assign({},it,p8(Me),{ignoreAttributes:!0}));w.props=ut,ie(),it.interactiveDebounce!==ut.interactiveDebounce&&(te(),h=u8(Re,ut.interactiveDebounce)),it.triggerTarget&&!ut.triggerTarget?Lu(it.triggerTarget).forEach(function(vt){vt.removeAttribute("aria-expanded")}):ut.triggerTarget&&e.removeAttribute("aria-expanded"),ue(),W(),R&&R(it,ut),w.popperInstance&&(Z(),de().forEach(function(vt){requestAnimationFrame(vt._tippy.popperInstance.forceUpdate)})),j("onAfterUpdate",[w,Me])}}function qe(Me){w.setProps({content:Me})}function Ye(){var Me=w.state.isVisible,it=w.state.isDestroyed,ut=!w.state.isEnabled,vt=zo.isTouch&&!w.props.touch,ot=rv(w.props.duration,0,bo.duration);if(!(Me||it||ut||vt)&&!k().hasAttribute("disabled")&&(j("onShow",[w],!1),w.props.onShow(w)!==!1)){if(w.state.isVisible=!0,D()&&(B.style.visibility="visible"),W(),ye(),w.state.isMounted||(B.style.transition="none"),D()){var Ht=T(),Et=Ht.box,bt=Ht.content;av([Et,bt],0)}d=function(){var ct;if(!(!w.state.isVisible||A)){if(A=!0,B.offsetHeight,B.style.transition=w.props.moveTransition,D()&&w.props.animation){var yt=T(),Mt=yt.box,Ae=yt.content;av([Mt,Ae],ot),f8([Mt,Ae],"visible")}ce(),ue(),d8(ov,w),(ct=w.popperInstance)==null||ct.forceUpdate(),j("onMount",[w]),w.props.animation&&D()&&pe(ot,function(){w.state.isShown=!0,j("onShown",[w])})}},ve()}}function We(){var Me=!w.state.isVisible,it=w.state.isDestroyed,ut=!w.state.isEnabled,vt=rv(w.props.duration,1,bo.duration);if(!(Me||it||ut)&&(j("onHide",[w],!1),w.props.onHide(w)!==!1)){if(w.state.isVisible=!1,w.state.isShown=!1,A=!1,s=!1,D()&&(B.style.visibility="hidden"),te(),se(),W(!0),D()){var ot=T(),Ht=ot.box,Et=ot.content;w.props.animation&&(av([Ht,Et],vt),f8([Ht,Et],"hidden"))}ce(),ue(),w.props.animation?D()&&me(vt,w.unmount):w.unmount()}}function mt(Me){L().addEventListener("mousemove",h),d8(n1,h),h(Me)}function Qt(){w.state.isVisible&&w.hide(),w.state.isMounted&&(Ce(),de().forEach(function(Me){Me._tippy.unmount()}),B.parentNode&&B.parentNode.removeChild(B),ov=ov.filter(function(Me){return Me!==w}),w.state.isMounted=!1,j("onHidden",[w]))}function Dt(){w.state.isDestroyed||(w.clearDelayTimeouts(),w.unmount(),oe(),delete e._tippy,w.state.isDestroyed=!0,j("onDestroy",[w]))}}function qh(e,t){t===void 0&&(t={});var n=bo.plugins.concat(t.plugins||[]);xz();var i=Object.assign({},t,{plugins:n}),r=bz(e),a=r.reduce(function(s,o){var c=o&&Iz(o,i);return c&&s.push(c),s},[]);return s2(e)?a[0]:a}qh.defaultProps=bo;qh.setDefaultProps=Gz;qh.currentInput=zo;Object.assign({},QS,{effect:function(t){var n=t.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});qh.setDefaultProps({render:iG});class Lz{constructor(){this.modal=document.querySelector(".modal"),this.trigger=document.querySelector(".trigger"),this.closeButton=document.querySelector(".close-button"),this.infoButton=document.getElementById("dataset-info-button"),this.sidebar=document.getElementById("sidebar"),this.toggle=document.getElementById("sidebar-toggle"),this.headerpd=document.getElementById("header"),this.mainpd=document.getElementById("main"),this.localFile=document.getElementById("local-file"),this.remoteFile=document.getElementById("remote-file"),this.accordionParent=document.getElementById("sidebar"),this.infoButton=document.getElementById("dataset-info-button"),this.highlightHelp=Kf.exports.once(this.highlightHelp.bind(this)),this.registerEventListeners(),this.registerTooltips()}toggleModal(){this.modal.classList.toggle("show-modal")}windowOnClick(t){t.target===this.modal&&this.toggleModal()}toggleSidebar(){return new Promise(t=>{this.sidebar.classList.toggle("sidebar--collapsed"),this.toggle.classList.toggle("bx-x"),this.headerpd.classList.toggle("body-pad"),this.mainpd.classList.toggle("body-pad"),this.sidebar.addEventListener("transitionend",t,{once:!0})})}toggleAccordion(t){this.sidebar.classList.contains("sidebar--collapsed")?this.toggleSidebar().then(()=>{this.expandAccordionContent(t)}):this.expandAccordionContent(t)}expandAccordionContent(t){t.classList.toggle("is-open");let n=t.nextElementSibling;n.style.maxHeight?n.style.maxHeight=null:n.style.maxHeight=n.scrollHeight+"px"}registerEventListeners(){this.trigger.addEventListener("click",()=>this.toggleModal()),this.closeButton.addEventListener("click",()=>this.toggleModal()),this.infoButton.addEventListener("click",()=>this.showDatasetDescription()),window.addEventListener("click",t=>this.windowOnClick(t)),this.toggle.addEventListener("click",()=>this.handleSidebarToggle()),this.localFile.addEventListener("click",t=>this.toggleDownload(t)),this.remoteFile.addEventListener("click",t=>this.toggleDownload(t)),this.accordionParent.addEventListener("click",t=>{const n=t.target.closest(".accordion");n&&this.toggleAccordion(n)}),window.addEventListener("load",()=>{window.matchMedia("(max-width: 1000px)").matches?this.handleSidebarToggle():window.dispatchEvent(new Event("resize"))}),document.addEventListener("mousedown",()=>this.highlightHelp())}registerTooltips(){qh(".bx-info-circle",{content:"Click here for more information about the dataset",placement:"right",theme:"select-info",animation:"scale"})}showDatasetDescription(){const t=this;new o2().showAlert(t.datasetDescription,"info")}highlightHelp(){const t=document.getElementById("help-message"),n=document.querySelector(".help");this.trigger.classList.remove("glow"),n.classList.remove("active"),t.remove()}toggleDownload({target:t}){const n=t.parentNode.parentNode.parentNode.previousElementSibling,i=t.parentNode.parentNode.parentNode;Array.from(t.parentNode.querySelectorAll("button")).forEach(a=>a.classList.remove("upload-method")),t.classList.add("upload-method"),t.id==="local-file"?(document.getElementById("local-file-input").style.display="block",document.getElementById("remote-url-input").style.display="none",document.getElementById("remote-markdown-input").style.display="none",n.classList.contains("is-open")&&(i.style.maxHeight=i.scrollHeight+"px")):t.id==="remote-file"&&(document.getElementById("remote-url-input").style.display="block",document.getElementById("remote-markdown-input").style.display="block",document.getElementById("local-file-input").style.display="none",n.classList.contains("is-open")&&(i.style.maxHeight=i.scrollHeight+"px"))}handleSidebarToggle(){this.toggleSidebar().then(()=>{document.querySelectorAll(".accordion").forEach(n=>{n.classList.remove("is-open");let i=n.nextElementSibling;i.style.maxHeight=null})}).then(()=>{window.dispatchEvent(new Event("resize"))})}}class o2{constructor(){this.alertBanner=document.getElementById("alertBanner"),this.alertMessage=document.getElementById("alertMessage"),this.alertClose=document.getElementById("alertClose"),this.registerEventListeners()}showAlert(t,n="error"){this.alertMessage.textContent=t,this.alertBanner.classList.remove("error","info","warning"),this.alertBanner.classList.remove("hidden"),this.alertBanner.classList.add(n)}hideAlert(){this.alertBanner.classList.add("hidden")}registerEventListeners(){this.alertClose.addEventListener("click",()=>this.hideAlert())}}function jy(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rG(e){let t,n,i;e.length!==2?(t=jy,n=(o,c)=>jy(e(o),c),i=(o,c)=>e(o)-c):(t=e===jy||e===Pz?e:Uz,n=e,i=e);function r(o,c,A=0,l=o.length){if(A<l){if(t(c,c)!==0)return l;do{const u=A+l>>>1;n(o[u],c)<0?A=u+1:l=u}while(A<l)}return A}function a(o,c,A=0,l=o.length){if(A<l){if(t(c,c)!==0)return l;do{const u=A+l>>>1;n(o[u],c)<=0?A=u+1:l=u}while(A<l)}return A}function s(o,c,A=0,l=o.length){const u=r(o,c,A,l-1);return u>A&&i(o[u-1],c)>-i(o[u],c)?u-1:u}return{left:r,center:s,right:a}}function Uz(){return 0}function Dz(e){return e===null?NaN:+e}const kz=rG(jy),Oz=kz.right;rG(Dz).center;const Hz=Oz;function ZA(e,t){let n,i;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n===void 0?a>=a&&(n=i=a):(n>a&&(n=a),i<a&&(i=a)))}return[n,i]}class WE extends Map{constructor(t,n=Vz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(v8(this,t))}has(t){return super.has(v8(this,t))}set(t,n){return super.set(Qz(this,t),n)}delete(t){return super.delete(zz(this,t))}}function v8({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function Qz({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function zz({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Vz(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $E(e){return e}function Kz(e,...t){return aG(e,$E,$E,t)}function Wz(e,t,...n){return aG(e,$E,t,n)}function aG(e,t,n,i){return function r(a,s){if(s>=i.length)return n(a);const o=new WE,c=i[s++];let A=-1;for(const l of a){const u=c(l,++A,a),d=o.get(u);d?d.push(l):o.set(u,[l])}for(const[l,u]of o)o.set(l,r(u,s));return t(o)}(e,0)}const $z=Math.sqrt(50),jz=Math.sqrt(10),Yz=Math.sqrt(2);function Sg(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),s=a>=$z?10:a>=jz?5:a>=Yz?2:1;let o,c,A;return r<0?(A=Math.pow(10,-r)/s,o=Math.round(e*A),c=Math.round(t*A),o/A<e&&++o,c/A>t&&--c,A=-A):(A=Math.pow(10,r)*s,o=Math.round(e/A),c=Math.round(t/A),o*A<e&&++o,c*A>t&&--c),c<o&&.5<=n&&n<2?Sg(e,t,n*2):[o,c,A]}function qz(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,a,s]=i?Sg(t,e,n):Sg(e,t,n);if(!(a>=r))return[];const o=a-r+1,c=new Array(o);if(i)if(s<0)for(let A=0;A<o;++A)c[A]=(a-A)/-s;else for(let A=0;A<o;++A)c[A]=(a-A)*s;else if(s<0)for(let A=0;A<o;++A)c[A]=(r+A)/-s;else for(let A=0;A<o;++A)c[A]=(r+A)*s;return c}function jE(e,t,n){return t=+t,e=+e,n=+n,Sg(e,t,n)[2]}function Xz(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?jE(t,e,n):jE(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function Ms(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function ef(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function Zz(e,t){let n=0,i=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(++n,i+=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(a=+a)>=a&&(++n,i+=a)}if(n)return i/n}function Jz(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(r);++i<r;)a[i]=e+i*n;return a}function eV(e,t){let n=0;if(t===void 0)for(let i of e)(i=+i)&&(n+=i);else{let i=-1;for(let r of e)(r=+t(r,++i,e))&&(n+=r)}return n}function tV(e){return e}var cv=1,Yy=2,YE=3,tf=4,w8=1e-6;function nV(e){return"translate("+e+",0)"}function iV(e){return"translate(0,"+e+")"}function rV(e){return t=>+e(t)}function aV(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function sV(){return!this.__axis}function _x(e,t){var n=[],i=null,r=null,a=6,s=6,o=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,A=e===cv||e===tf?-1:1,l=e===tf||e===Yy?"x":"y",u=e===cv||e===YE?nV:iV;function d(p){var h=i==null?t.ticks?t.ticks.apply(t,n):t.domain():i,g=r==null?t.tickFormat?t.tickFormat.apply(t,n):tV:r,b=Math.max(a,0)+o,y=t.range(),v=+y[0]+c,_=+y[y.length-1]+c,w=(t.bandwidth?aV:rV)(t.copy(),c),E=p.selection?p.selection():p,B=E.selectAll(".domain").data([null]),R=E.selectAll(".tick").data(h,t).order(),G=R.exit(),C=R.enter().append("g").attr("class","tick"),O=R.select("line"),I=R.select("text");B=B.merge(B.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(C),O=O.merge(C.append("line").attr("stroke","currentColor").attr(l+"2",A*a)),I=I.merge(C.append("text").attr("fill","currentColor").attr(l,A*b).attr("dy",e===cv?"0em":e===YE?"0.71em":"0.32em")),p!==E&&(B=B.transition(p),R=R.transition(p),O=O.transition(p),I=I.transition(p),G=G.transition(p).attr("opacity",w8).attr("transform",function(D){return isFinite(D=w(D))?u(D+c):this.getAttribute("transform")}),C.attr("opacity",w8).attr("transform",function(D){var k=this.parentNode.__axis;return u((k&&isFinite(k=k(D))?k:w(D))+c)})),G.remove(),B.attr("d",e===tf||e===Yy?s?"M"+A*s+","+v+"H"+c+"V"+_+"H"+A*s:"M"+c+","+v+"V"+_:s?"M"+v+","+A*s+"V"+c+"H"+_+"V"+A*s:"M"+v+","+c+"H"+_),R.attr("opacity",1).attr("transform",function(D){return u(w(D)+c)}),O.attr(l+"2",A*a),I.attr(l,A*b).text(g),E.filter(sV).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Yy?"start":e===tf?"end":"middle"),E.each(function(){this.__axis=w})}return d.scale=function(p){return arguments.length?(t=p,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(i=p==null?null:Array.from(p),d):i&&i.slice()},d.tickFormat=function(p){return arguments.length?(r=p,d):r},d.tickSize=function(p){return arguments.length?(a=s=+p,d):a},d.tickSizeInner=function(p){return arguments.length?(a=+p,d):a},d.tickSizeOuter=function(p){return arguments.length?(s=+p,d):s},d.tickPadding=function(p){return arguments.length?(o=+p,d):o},d.offset=function(p){return arguments.length?(c=+p,d):c},d}function oV(e){return _x(Yy,e)}function Av(e){return _x(YE,e)}function lv(e){return _x(tf,e)}var cV={value:()=>{}};function c2(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new qy(n)}function qy(e){this._=e}function AV(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}qy.prototype=c2.prototype={constructor:qy,on:function(e,t){var n=this._,i=AV(e+"",n),r,a=-1,s=i.length;if(arguments.length<2){for(;++a<s;)if((r=(e=i[a]).type)&&(r=lV(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(r=(e=i[a]).type)n[r]=E8(n[r],e.name,t);else if(t==null)for(r in n)n[r]=E8(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new qy(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,a;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,r=a.length;i<r;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)}};function lV(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function E8(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=cV,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var qE="http://www.w3.org/1999/xhtml";const _8={svg:"http://www.w3.org/2000/svg",xhtml:qE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function A2(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_8.hasOwnProperty(t)?{space:_8[t],local:e}:e}function uV(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===qE&&t.documentElement.namespaceURI===qE?t.createElement(e):t.createElementNS(n,e)}}function dV(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function sG(e){var t=A2(e);return(t.local?dV:uV)(t)}function pV(){}function xx(e){return e==null?pV:function(){return this.querySelector(e)}}function fV(e){typeof e!="function"&&(e=xx(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],s=a.length,o=i[r]=new Array(s),c,A,l=0;l<s;++l)(c=a[l])&&(A=e.call(c,c.__data__,l,a))&&("__data__"in c&&(A.__data__=c.__data__),o[l]=A);return new ma(i,this._parents)}function oG(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function hV(){return[]}function cG(e){return e==null?hV:function(){return this.querySelectorAll(e)}}function mV(e){return function(){return oG(e.apply(this,arguments))}}function yV(e){typeof e=="function"?e=mV(e):e=cG(e);for(var t=this._groups,n=t.length,i=[],r=[],a=0;a<n;++a)for(var s=t[a],o=s.length,c,A=0;A<o;++A)(c=s[A])&&(i.push(e.call(c,c.__data__,A,s)),r.push(c));return new ma(i,r)}function AG(e){return function(){return this.matches(e)}}function lG(e){return function(t){return t.matches(e)}}var gV=Array.prototype.find;function bV(e){return function(){return gV.call(this.children,e)}}function vV(){return this.firstElementChild}function wV(e){return this.select(e==null?vV:bV(typeof e=="function"?e:lG(e)))}var EV=Array.prototype.filter;function _V(){return Array.from(this.children)}function xV(e){return function(){return EV.call(this.children,e)}}function BV(e){return this.selectAll(e==null?_V:xV(typeof e=="function"?e:lG(e)))}function RV(e){typeof e!="function"&&(e=AG(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],s=a.length,o=i[r]=[],c,A=0;A<s;++A)(c=a[A])&&e.call(c,c.__data__,A,a)&&o.push(c);return new ma(i,this._parents)}function uG(e){return new Array(e.length)}function CV(){return new ma(this._enter||this._groups.map(uG),this._parents)}function Gg(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Gg.prototype={constructor:Gg,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function NV(e){return function(){return e}}function SV(e,t,n,i,r,a){for(var s=0,o,c=t.length,A=a.length;s<A;++s)(o=t[s])?(o.__data__=a[s],i[s]=o):n[s]=new Gg(e,a[s]);for(;s<c;++s)(o=t[s])&&(r[s]=o)}function GV(e,t,n,i,r,a,s){var o,c,A=new Map,l=t.length,u=a.length,d=new Array(l),p;for(o=0;o<l;++o)(c=t[o])&&(d[o]=p=s.call(c,c.__data__,o,t)+"",A.has(p)?r[o]=c:A.set(p,c));for(o=0;o<u;++o)p=s.call(e,a[o],o,a)+"",(c=A.get(p))?(i[o]=c,c.__data__=a[o],A.delete(p)):n[o]=new Gg(e,a[o]);for(o=0;o<l;++o)(c=t[o])&&A.get(d[o])===c&&(r[o]=c)}function MV(e){return e.__data__}function TV(e,t){if(!arguments.length)return Array.from(this,MV);var n=t?GV:SV,i=this._parents,r=this._groups;typeof e!="function"&&(e=NV(e));for(var a=r.length,s=new Array(a),o=new Array(a),c=new Array(a),A=0;A<a;++A){var l=i[A],u=r[A],d=u.length,p=FV(e.call(l,l&&l.__data__,A,i)),h=p.length,g=o[A]=new Array(h),b=s[A]=new Array(h),y=c[A]=new Array(d);n(l,u,g,b,y,p,t);for(var v=0,_=0,w,E;v<h;++v)if(w=g[v]){for(v>=_&&(_=v+1);!(E=b[_])&&++_<h;);w._next=E||null}}return s=new ma(s,i),s._enter=o,s._exit=c,s}function FV(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IV(){return new ma(this._exit||this._groups.map(uG),this._parents)}function LV(e,t,n){var i=this.enter(),r=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?a.remove():n(a),i&&r?i.merge(r).order():r}function PV(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,a=i.length,s=Math.min(r,a),o=new Array(r),c=0;c<s;++c)for(var A=n[c],l=i[c],u=A.length,d=o[c]=new Array(u),p,h=0;h<u;++h)(p=A[h]||l[h])&&(d[h]=p);for(;c<r;++c)o[c]=n[c];return new ma(o,this._parents)}function UV(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,a=i[r],s;--r>=0;)(s=i[r])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function DV(e){e||(e=kV);function t(u,d){return u&&d?e(u.__data__,d.__data__):!u-!d}for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var s=n[a],o=s.length,c=r[a]=new Array(o),A,l=0;l<o;++l)(A=s[l])&&(c[l]=A);c.sort(t)}return new ma(r,this._parents).order()}function kV(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function OV(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function HV(){return Array.from(this)}function QV(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length;r<a;++r){var s=i[r];if(s)return s}return null}function zV(){let e=0;for(const t of this)++e;return e}function VV(){return!this.node()}function KV(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],a=0,s=r.length,o;a<s;++a)(o=r[a])&&e.call(o,o.__data__,a,r);return this}function WV(e){return function(){this.removeAttribute(e)}}function $V(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jV(e,t){return function(){this.setAttribute(e,t)}}function YV(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function qV(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function XV(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ZV(e,t){var n=A2(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?$V:WV:typeof t=="function"?n.local?XV:qV:n.local?YV:jV)(n,t))}function dG(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function JV(e){return function(){this.style.removeProperty(e)}}function eK(e,t,n){return function(){this.style.setProperty(e,t,n)}}function tK(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function nK(e,t,n){return arguments.length>1?this.each((t==null?JV:typeof t=="function"?tK:eK)(e,t,n==null?"":n)):bd(this.node(),e)}function bd(e,t){return e.style.getPropertyValue(t)||dG(e).getComputedStyle(e,null).getPropertyValue(t)}function iK(e){return function(){delete this[e]}}function rK(e,t){return function(){this[e]=t}}function aK(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function sK(e,t){return arguments.length>1?this.each((t==null?iK:typeof t=="function"?aK:rK)(e,t)):this.node()[e]}function pG(e){return e.trim().split(/^|\s+/)}function Bx(e){return e.classList||new fG(e)}function fG(e){this._node=e,this._names=pG(e.getAttribute("class")||"")}fG.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function hG(e,t){for(var n=Bx(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function mG(e,t){for(var n=Bx(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function oK(e){return function(){hG(this,e)}}function cK(e){return function(){mG(this,e)}}function AK(e,t){return function(){(t.apply(this,arguments)?hG:mG)(this,e)}}function lK(e,t){var n=pG(e+"");if(arguments.length<2){for(var i=Bx(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?AK:t?oK:cK)(n,t))}function uK(){this.textContent=""}function dK(e){return function(){this.textContent=e}}function pK(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function fK(e){return arguments.length?this.each(e==null?uK:(typeof e=="function"?pK:dK)(e)):this.node().textContent}function hK(){this.innerHTML=""}function mK(e){return function(){this.innerHTML=e}}function yK(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function gK(e){return arguments.length?this.each(e==null?hK:(typeof e=="function"?yK:mK)(e)):this.node().innerHTML}function bK(){this.nextSibling&&this.parentNode.appendChild(this)}function vK(){return this.each(bK)}function wK(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function EK(){return this.each(wK)}function _K(e){var t=typeof e=="function"?e:sG(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function xK(){return null}function BK(e,t){var n=typeof e=="function"?e:sG(e),i=t==null?xK:typeof t=="function"?t:xx(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function RK(){var e=this.parentNode;e&&e.removeChild(this)}function CK(){return this.each(RK)}function NK(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function SK(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function GK(e){return this.select(e?SK:NK)}function MK(e){return arguments.length?this.property("__data__",e):this.node().__data__}function TK(e){return function(t){e.call(this,t,this.__data__)}}function FK(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function IK(e){return function(){var t=this.__on;if(!!t){for(var n=0,i=-1,r=t.length,a;n<r;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function LK(e,t,n){return function(){var i=this.__on,r,a=TK(t);if(i){for(var s=0,o=i.length;s<o;++s)if((r=i[s]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=t;return}}this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function PK(e,t,n){var i=FK(e+""),r,a=i.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,A=o.length,l;c<A;++c)for(r=0,l=o[c];r<a;++r)if((s=i[r]).type===l.type&&s.name===l.name)return l.value}return}for(o=t?LK:IK,r=0;r<a;++r)this.each(o(i[r],t,n));return this}function yG(e,t,n){var i=dG(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function UK(e,t){return function(){return yG(this,e,t)}}function DK(e,t){return function(){return yG(this,e,t.apply(this,arguments))}}function kK(e,t){return this.each((typeof t=="function"?DK:UK)(e,t))}function*OK(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length,s;r<a;++r)(s=i[r])&&(yield s)}var Rx=[null];function ma(e,t){this._groups=e,this._parents=t}function Xh(){return new ma([[document.documentElement]],Rx)}function HK(){return this}ma.prototype=Xh.prototype={constructor:ma,select:fV,selectAll:yV,selectChild:wV,selectChildren:BV,filter:RV,data:TV,enter:CV,exit:IV,join:LV,merge:PV,selection:HK,order:UV,sort:DV,call:OV,nodes:HV,node:QV,size:zV,empty:VV,each:KV,attr:ZV,style:nK,property:sK,classed:lK,text:fK,html:gK,raise:vK,lower:EK,append:_K,insert:BK,remove:CK,clone:GK,datum:MK,on:PK,dispatch:kK,[Symbol.iterator]:OK};function kt(e){return typeof e=="string"?new ma([[document.querySelector(e)]],[document.documentElement]):new ma([[e]],Rx)}function QK(e){let t;for(;t=e.sourceEvent;)e=t;return e}function x8(e,t){if(e=QK(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}function Cx(e){return typeof e=="string"?new ma([document.querySelectorAll(e)],[document.documentElement]):new ma([oG(e)],Rx)}const XE={capture:!0,passive:!1};function ZE(e){e.preventDefault(),e.stopImmediatePropagation()}function zK(e){var t=e.document.documentElement,n=kt(e).on("dragstart.drag",ZE,XE);"onselectstart"in t?n.on("selectstart.drag",ZE,XE):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function VK(e,t){var n=e.document.documentElement,i=kt(e).on("dragstart.drag",null);t&&(i.on("click.drag",ZE,XE),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Nx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gG(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Zh(){}var jf=.7,Mg=1/jf,sd="\\s*([+-]?\\d+)\\s*",Yf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KK=/^#([0-9a-f]{3,8})$/,WK=new RegExp(`^rgb\\(${sd},${sd},${sd}\\)$`),$K=new RegExp(`^rgb\\(${Zo},${Zo},${Zo}\\)$`),jK=new RegExp(`^rgba\\(${sd},${sd},${sd},${Yf}\\)$`),YK=new RegExp(`^rgba\\(${Zo},${Zo},${Zo},${Yf}\\)$`),qK=new RegExp(`^hsl\\(${Yf},${Zo},${Zo}\\)$`),XK=new RegExp(`^hsla\\(${Yf},${Zo},${Zo},${Yf}\\)$`),B8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nx(Zh,uA,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:R8,formatHex:R8,formatHex8:ZK,formatHsl:JK,formatRgb:C8,toString:C8});function R8(){return this.rgb().formatHex()}function ZK(){return this.rgb().formatHex8()}function JK(){return bG(this).formatHsl()}function C8(){return this.rgb().formatRgb()}function uA(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=KK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?N8(t):n===3?new Fa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?i1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?i1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WK.exec(e))?new Fa(t[1],t[2],t[3],1):(t=$K.exec(e))?new Fa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jK.exec(e))?i1(t[1],t[2],t[3],t[4]):(t=YK.exec(e))?i1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qK.exec(e))?M8(t[1],t[2]/100,t[3]/100,1):(t=XK.exec(e))?M8(t[1],t[2]/100,t[3]/100,t[4]):B8.hasOwnProperty(e)?N8(B8[e]):e==="transparent"?new Fa(NaN,NaN,NaN,0):null}function N8(e){return new Fa(e>>16&255,e>>8&255,e&255,1)}function i1(e,t,n,i){return i<=0&&(e=t=n=NaN),new Fa(e,t,n,i)}function eW(e){return e instanceof Zh||(e=uA(e)),e?(e=e.rgb(),new Fa(e.r,e.g,e.b,e.opacity)):new Fa}function JE(e,t,n,i){return arguments.length===1?eW(e):new Fa(e,t,n,i==null?1:i)}function Fa(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Nx(Fa,JE,gG(Zh,{brighter(e){return e=e==null?Mg:Math.pow(Mg,e),new Fa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jf:Math.pow(jf,e),new Fa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fa(Al(this.r),Al(this.g),Al(this.b),Tg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S8,formatHex:S8,formatHex8:tW,formatRgb:G8,toString:G8}));function S8(){return`#${al(this.r)}${al(this.g)}${al(this.b)}`}function tW(){return`#${al(this.r)}${al(this.g)}${al(this.b)}${al((isNaN(this.opacity)?1:this.opacity)*255)}`}function G8(){const e=Tg(this.opacity);return`${e===1?"rgb(":"rgba("}${Al(this.r)}, ${Al(this.g)}, ${Al(this.b)}${e===1?")":`, ${e})`}`}function Tg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Al(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function al(e){return e=Al(e),(e<16?"0":"")+e.toString(16)}function M8(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mo(e,t,n,i)}function bG(e){if(e instanceof mo)return new mo(e.h,e.s,e.l,e.opacity);if(e instanceof Zh||(e=uA(e)),!e)return new mo;if(e instanceof mo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),s=NaN,o=a-r,c=(a+r)/2;return o?(t===a?s=(n-i)/o+(n<i)*6:n===a?s=(i-t)/o+2:s=(t-n)/o+4,o/=c<.5?a+r:2-a-r,s*=60):o=c>0&&c<1?0:s,new mo(s,o,c,e.opacity)}function nW(e,t,n,i){return arguments.length===1?bG(e):new mo(e,t,n,i==null?1:i)}function mo(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Nx(mo,nW,gG(Zh,{brighter(e){return e=e==null?Mg:Math.pow(Mg,e),new mo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jf:Math.pow(jf,e),new mo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Fa(uv(e>=240?e-240:e+120,r,i),uv(e,r,i),uv(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new mo(T8(this.h),r1(this.s),r1(this.l),Tg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tg(this.opacity);return`${e===1?"hsl(":"hsla("}${T8(this.h)}, ${r1(this.s)*100}%, ${r1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function T8(e){return e=(e||0)%360,e<0?e+360:e}function r1(e){return Math.max(0,Math.min(1,e||0))}function uv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Sx=e=>()=>e;function iW(e,t){return function(n){return e+n*t}}function rW(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function aW(e){return(e=+e)==1?vG:function(t,n){return n-t?rW(t,n,e):Sx(isNaN(t)?n:t)}}function vG(e,t){var n=t-e;return n?iW(e,n):Sx(isNaN(e)?t:e)}const Fg=function e(t){var n=aW(t);function i(r,a){var s=n((r=JE(r)).r,(a=JE(a)).r),o=n(r.g,a.g),c=n(r.b,a.b),A=vG(r.opacity,a.opacity);return function(l){return r.r=s(l),r.g=o(l),r.b=c(l),r.opacity=A(l),r+""}}return i.gamma=e,i}(1);function sW(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function oW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cW(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),a=new Array(n),s;for(s=0;s<i;++s)r[s]=Jh(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<i;++s)a[s]=r[s](o);return a}}function AW(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function fo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function lW(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Jh(e[r],t[r]):i[r]=t[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var e4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dv=new RegExp(e4.source,"g");function uW(e){return function(){return e}}function dW(e){return function(t){return e(t)+""}}function wG(e,t){var n=e4.lastIndex=dv.lastIndex=0,i,r,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(i=e4.exec(e))&&(r=dv.exec(t));)(a=r.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(i=i[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,c.push({i:s,x:fo(i,r)})),n=dv.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?dW(c[0].x):uW(t):(t=c.length,function(A){for(var l=0,u;l<t;++l)o[(u=c[l]).i]=u.x(A);return o.join("")})}function Jh(e,t){var n=typeof t,i;return t==null||n==="boolean"?Sx(t):(n==="number"?fo:n==="string"?(i=uA(t))?(t=i,Fg):wG:t instanceof uA?Fg:t instanceof Date?AW:oW(t)?sW:Array.isArray(t)?cW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lW:fo)(e,t)}function pW(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var F8=180/Math.PI,t4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function EG(e,t,n,i,r,a){var s,o,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*i)&&(n-=e*c,i-=t*c),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,c/=o),e*i<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*F8,skewX:Math.atan(c)*F8,scaleX:s,scaleY:o}}var a1;function fW(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?t4:EG(t.a,t.b,t.c,t.d,t.e,t.f)}function hW(e){return e==null||(a1||(a1=document.createElementNS("http://www.w3.org/2000/svg","g")),a1.setAttribute("transform",e),!(e=a1.transform.baseVal.consolidate()))?t4:(e=e.matrix,EG(e.a,e.b,e.c,e.d,e.e,e.f))}function _G(e,t,n,i){function r(A){return A.length?A.pop()+" ":""}function a(A,l,u,d,p,h){if(A!==u||l!==d){var g=p.push("translate(",null,t,null,n);h.push({i:g-4,x:fo(A,u)},{i:g-2,x:fo(l,d)})}else(u||d)&&p.push("translate("+u+t+d+n)}function s(A,l,u,d){A!==l?(A-l>180?l+=360:l-A>180&&(A+=360),d.push({i:u.push(r(u)+"rotate(",null,i)-2,x:fo(A,l)})):l&&u.push(r(u)+"rotate("+l+i)}function o(A,l,u,d){A!==l?d.push({i:u.push(r(u)+"skewX(",null,i)-2,x:fo(A,l)}):l&&u.push(r(u)+"skewX("+l+i)}function c(A,l,u,d,p,h){if(A!==u||l!==d){var g=p.push(r(p)+"scale(",null,",",null,")");h.push({i:g-4,x:fo(A,u)},{i:g-2,x:fo(l,d)})}else(u!==1||d!==1)&&p.push(r(p)+"scale("+u+","+d+")")}return function(A,l){var u=[],d=[];return A=e(A),l=e(l),a(A.translateX,A.translateY,l.translateX,l.translateY,u,d),s(A.rotate,l.rotate,u,d),o(A.skewX,l.skewX,u,d),c(A.scaleX,A.scaleY,l.scaleX,l.scaleY,u,d),A=l=null,function(p){for(var h=-1,g=d.length,b;++h<g;)u[(b=d[h]).i]=b.x(p);return u.join("")}}}var mW=_G(fW,"px, ","px)","deg)"),yW=_G(hW,", ",")",")");function gW(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n}var vd=0,nf=0,Rp=0,xG=1e3,Ig,rf,Lg=0,wl=0,l2=0,qf=typeof performance=="object"&&performance.now?performance:Date,BG=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Gx(){return wl||(BG(bW),wl=qf.now()+l2)}function bW(){wl=0}function Pg(){this._call=this._time=this._next=null}Pg.prototype=RG.prototype={constructor:Pg,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Gx():+n)+(t==null?0:+t),!this._next&&rf!==this&&(rf?rf._next=this:Ig=this,rf=this),this._call=e,this._time=n,n4()},stop:function(){this._call&&(this._call=null,this._time=1/0,n4())}};function RG(e,t,n){var i=new Pg;return i.restart(e,t,n),i}function vW(){Gx(),++vd;for(var e=Ig,t;e;)(t=wl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--vd}function I8(){wl=(Lg=qf.now())+l2,vd=nf=0;try{vW()}finally{vd=0,EW(),wl=0}}function wW(){var e=qf.now(),t=e-Lg;t>xG&&(l2-=t,Lg=e)}function EW(){for(var e,t=Ig,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ig=n);rf=e,n4(i)}function n4(e){if(!vd){nf&&(nf=clearTimeout(nf));var t=e-wl;t>24?(e<1/0&&(nf=setTimeout(I8,e-qf.now()-l2)),Rp&&(Rp=clearInterval(Rp))):(Rp||(Lg=qf.now(),Rp=setInterval(wW,xG)),vd=1,BG(I8))}}function L8(e,t,n){var i=new Pg;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var _W=c2("start","end","cancel","interrupt"),xW=[],CG=0,P8=1,i4=2,Xy=3,U8=4,r4=5,Zy=6;function u2(e,t,n,i,r,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;BW(e,n,{name:t,index:i,group:r,on:_W,tween:xW,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:CG})}function Mx(e,t){var n=_o(e,t);if(n.state>CG)throw new Error("too late; already scheduled");return n}function lc(e,t){var n=_o(e,t);if(n.state>Xy)throw new Error("too late; already running");return n}function _o(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function BW(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=RG(a,0,n.time);function a(A){n.state=P8,n.timer.restart(s,n.delay,n.time),n.delay<=A&&s(A-n.delay)}function s(A){var l,u,d,p;if(n.state!==P8)return c();for(l in i)if(p=i[l],p.name===n.name){if(p.state===Xy)return L8(s);p.state===U8?(p.state=Zy,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[l]):+l<t&&(p.state=Zy,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[l])}if(L8(function(){n.state===Xy&&(n.state=U8,n.timer.restart(o,n.delay,n.time),o(A))}),n.state=i4,n.on.call("start",e,e.__data__,n.index,n.group),n.state===i4){for(n.state=Xy,r=new Array(d=n.tween.length),l=0,u=-1;l<d;++l)(p=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=p);r.length=u+1}}function o(A){for(var l=A<n.duration?n.ease.call(null,A/n.duration):(n.timer.restart(c),n.state=r4,1),u=-1,d=r.length;++u<d;)r[u].call(e,l);n.state===r4&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Zy,n.timer.stop(),delete i[t];for(var A in i)return;delete e.__transition}}function a4(e,t){var n=e.__transition,i,r,a=!0,s;if(!!n){t=t==null?null:t+"";for(s in n){if((i=n[s]).name!==t){a=!1;continue}r=i.state>i4&&i.state<r4,i.state=Zy,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]}a&&delete e.__transition}}function RW(e){return this.each(function(){a4(this,e)})}function CW(e,t){var n,i;return function(){var r=lc(this,e),a=r.tween;if(a!==n){i=n=a;for(var s=0,o=i.length;s<o;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function NW(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var a=lc(this,e),s=a.tween;if(s!==i){r=(i=s).slice();for(var o={name:t,value:n},c=0,A=r.length;c<A;++c)if(r[c].name===t){r[c]=o;break}c===A&&r.push(o)}a.tween=r}}function SW(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=_o(this.node(),n).tween,r=0,a=i.length,s;r<a;++r)if((s=i[r]).name===e)return s.value;return null}return this.each((t==null?CW:NW)(n,e,t))}function Tx(e,t,n){var i=e._id;return e.each(function(){var r=lc(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return _o(r,i).value[t]}}function NG(e,t){var n;return(typeof t=="number"?fo:t instanceof uA?Fg:(n=uA(t))?(t=n,Fg):wG)(e,t)}function GW(e){return function(){this.removeAttribute(e)}}function MW(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TW(e,t,n){var i,r=n+"",a;return function(){var s=this.getAttribute(e);return s===r?null:s===i?a:a=t(i=s,n)}}function FW(e,t,n){var i,r=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===r?null:s===i?a:a=t(i=s,n)}}function IW(e,t,n){var i,r,a;return function(){var s,o=n(this),c;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=o+"",s===c?null:s===i&&c===r?a:(r=c,a=t(i=s,o)))}}function LW(e,t,n){var i,r,a;return function(){var s,o=n(this),c;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=o+"",s===c?null:s===i&&c===r?a:(r=c,a=t(i=s,o)))}}function PW(e,t){var n=A2(e),i=n==="transform"?yW:NG;return this.attrTween(e,typeof t=="function"?(n.local?LW:IW)(n,i,Tx(this,"attr."+e,t)):t==null?(n.local?MW:GW)(n):(n.local?FW:TW)(n,i,t))}function UW(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function DW(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function kW(e,t){var n,i;function r(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&DW(e,a)),n}return r._value=t,r}function OW(e,t){var n,i;function r(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&UW(e,a)),n}return r._value=t,r}function HW(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=A2(e);return this.tween(n,(i.local?kW:OW)(i,t))}function QW(e,t){return function(){Mx(this,e).delay=+t.apply(this,arguments)}}function zW(e,t){return t=+t,function(){Mx(this,e).delay=t}}function VW(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?QW:zW)(t,e)):_o(this.node(),t).delay}function KW(e,t){return function(){lc(this,e).duration=+t.apply(this,arguments)}}function WW(e,t){return t=+t,function(){lc(this,e).duration=t}}function $W(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?KW:WW)(t,e)):_o(this.node(),t).duration}function jW(e,t){if(typeof t!="function")throw new Error;return function(){lc(this,e).ease=t}}function YW(e){var t=this._id;return arguments.length?this.each(jW(t,e)):_o(this.node(),t).ease}function qW(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;lc(this,e).ease=n}}function XW(e){if(typeof e!="function")throw new Error;return this.each(qW(this._id,e))}function ZW(e){typeof e!="function"&&(e=AG(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],s=a.length,o=i[r]=[],c,A=0;A<s;++A)(c=a[A])&&e.call(c,c.__data__,A,a)&&o.push(c);return new Jc(i,this._parents,this._name,this._id)}function JW(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,a=Math.min(i,r),s=new Array(i),o=0;o<a;++o)for(var c=t[o],A=n[o],l=c.length,u=s[o]=new Array(l),d,p=0;p<l;++p)(d=c[p]||A[p])&&(u[p]=d);for(;o<i;++o)s[o]=t[o];return new Jc(s,this._parents,this._name,this._id)}function e$(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function t$(e,t,n){var i,r,a=e$(t)?Mx:lc;return function(){var s=a(this,e),o=s.on;o!==i&&(r=(i=o).copy()).on(t,n),s.on=r}}function n$(e,t){var n=this._id;return arguments.length<2?_o(this.node(),n).on.on(e):this.each(t$(n,e,t))}function i$(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function r$(){return this.on("end.remove",i$(this._id))}function a$(e){var t=this._name,n=this._id;typeof e!="function"&&(e=xx(e));for(var i=this._groups,r=i.length,a=new Array(r),s=0;s<r;++s)for(var o=i[s],c=o.length,A=a[s]=new Array(c),l,u,d=0;d<c;++d)(l=o[d])&&(u=e.call(l,l.__data__,d,o))&&("__data__"in l&&(u.__data__=l.__data__),A[d]=u,u2(A[d],t,n,d,A,_o(l,n)));return new Jc(a,this._parents,t,n)}function s$(e){var t=this._name,n=this._id;typeof e!="function"&&(e=cG(e));for(var i=this._groups,r=i.length,a=[],s=[],o=0;o<r;++o)for(var c=i[o],A=c.length,l,u=0;u<A;++u)if(l=c[u]){for(var d=e.call(l,l.__data__,u,c),p,h=_o(l,n),g=0,b=d.length;g<b;++g)(p=d[g])&&u2(p,t,n,g,d,h);a.push(d),s.push(l)}return new Jc(a,s,t,n)}var o$=Xh.prototype.constructor;function c$(){return new o$(this._groups,this._parents)}function A$(e,t){var n,i,r;return function(){var a=bd(this,e),s=(this.style.removeProperty(e),bd(this,e));return a===s?null:a===n&&s===i?r:r=t(n=a,i=s)}}function SG(e){return function(){this.style.removeProperty(e)}}function l$(e,t,n){var i,r=n+"",a;return function(){var s=bd(this,e);return s===r?null:s===i?a:a=t(i=s,n)}}function u$(e,t,n){var i,r,a;return function(){var s=bd(this,e),o=n(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(e),bd(this,e))),s===c?null:s===i&&c===r?a:(r=c,a=t(i=s,o))}}function d$(e,t){var n,i,r,a="style."+t,s="end."+a,o;return function(){var c=lc(this,e),A=c.on,l=c.value[a]==null?o||(o=SG(t)):void 0;(A!==n||r!==l)&&(i=(n=A).copy()).on(s,r=l),c.on=i}}function p$(e,t,n){var i=(e+="")=="transform"?mW:NG;return t==null?this.styleTween(e,A$(e,i)).on("end.style."+e,SG(e)):typeof t=="function"?this.styleTween(e,u$(e,i,Tx(this,"style."+e,t))).each(d$(this._id,e)):this.styleTween(e,l$(e,i,t),n).on("end.style."+e,null)}function f$(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function h$(e,t,n){var i,r;function a(){var s=t.apply(this,arguments);return s!==r&&(i=(r=s)&&f$(e,s,n)),i}return a._value=t,a}function m$(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,h$(e,t,n==null?"":n))}function y$(e){return function(){this.textContent=e}}function g$(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function b$(e){return this.tween("text",typeof e=="function"?g$(Tx(this,"text",e)):y$(e==null?"":e+""))}function v$(e){return function(t){this.textContent=e.call(this,t)}}function w$(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&v$(r)),t}return i._value=e,i}function E$(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,w$(e))}function _$(){for(var e=this._name,t=this._id,n=GG(),i=this._groups,r=i.length,a=0;a<r;++a)for(var s=i[a],o=s.length,c,A=0;A<o;++A)if(c=s[A]){var l=_o(c,t);u2(c,e,n,A,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Jc(i,this._parents,e,n)}function x$(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(a,s){var o={value:s},c={value:function(){--r===0&&a()}};n.each(function(){var A=lc(this,i),l=A.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(c)),A.on=t}),r===0&&a()})}var B$=0;function Jc(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function GG(){return++B$}var Rc=Xh.prototype;Jc.prototype={constructor:Jc,select:a$,selectAll:s$,selectChild:Rc.selectChild,selectChildren:Rc.selectChildren,filter:ZW,merge:JW,selection:c$,transition:_$,call:Rc.call,nodes:Rc.nodes,node:Rc.node,size:Rc.size,empty:Rc.empty,each:Rc.each,on:n$,attr:PW,attrTween:HW,style:p$,styleTween:m$,text:b$,textTween:E$,remove:r$,tween:SW,delay:VW,duration:$W,ease:YW,easeVarying:XW,end:x$,[Symbol.iterator]:Rc[Symbol.iterator]};function R$(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var C$={time:null,delay:0,duration:250,ease:R$};function N$(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function S$(e){var t,n;e instanceof Jc?(t=e._id,e=e._name):(t=GG(),(n=C$).time=Gx(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var s=i[a],o=s.length,c,A=0;A<o;++A)(c=s[A])&&u2(c,e,t,A,s,n||N$(c,t));return new Jc(i,this._parents,e,t)}Xh.prototype.interrupt=RW;Xh.prototype.transition=S$;const pv=e=>()=>e;function G$(e,{sourceEvent:t,target:n,selection:i,mode:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function M$(e){e.stopImmediatePropagation()}function fv(e){e.preventDefault(),e.stopImmediatePropagation()}var D8={name:"drag"},hv={name:"space"},nu={name:"handle"},iu={name:"center"};const{abs:k8,max:zr,min:Vr}=Math;function O8(e){return[+e[0],+e[1]]}function s4(e){return[O8(e[0]),O8(e[1])]}var Jy={name:"x",handles:["w","e"].map(Xf),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},mv={name:"y",handles:["n","s"].map(Xf),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},T$={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Xf),input:function(e){return e==null?null:s4(e)},output:function(e){return e}},Cc={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},H8={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Q8={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},F$={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},I$={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Xf(e){return{type:e}}function L$(e){return!e.ctrlKey&&!e.button}function P$(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function U$(){return navigator.maxTouchPoints||"ontouchstart"in this}function yv(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function D$(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function k$(){return MG(Jy)}function O$(){return MG(T$)}function MG(e){var t=P$,n=L$,i=U$,r=!0,a=c2("start","brush","end"),s=6,o;function c(b){var y=b.property("__brush",g).selectAll(".overlay").data([Xf("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Cc.overlay).merge(y).each(function(){var _=yv(this).extent;kt(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),b.selectAll(".selection").data([Xf("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Cc.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=b.selectAll(".handle").data(e.handles,function(_){return _.type});v.exit().remove(),v.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return Cc[_.type]}),b.each(A).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(i).on("touchstart.brush",d).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",h).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(b,y,v){b.tween?b.on("start.brush",function(_){l(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){l(this,arguments).end(_)}).tween("brush",function(){var _=this,w=_.__brush,E=l(_,arguments),B=w.selection,R=e.input(typeof y=="function"?y.apply(this,arguments):y,w.extent),G=Jh(B,R);function C(O){w.selection=O===1&&R===null?null:G(O),A.call(_),E.brush()}return B!==null&&R!==null?C:C(1)}):b.each(function(){var _=this,w=arguments,E=_.__brush,B=e.input(typeof y=="function"?y.apply(_,w):y,E.extent),R=l(_,w).beforestart();a4(_),E.selection=B===null?null:B,A.call(_),R.start(v).brush(v).end(v)})},c.clear=function(b,y){c.move(b,null,y)};function A(){var b=kt(this),y=yv(this).selection;y?(b.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?y[1][0]-s/2:y[0][0]-s/2}).attr("y",function(v){return v.type[0]==="s"?y[1][1]-s/2:y[0][1]-s/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?y[1][0]-y[0][0]+s:s}).attr("height",function(v){return v.type==="e"||v.type==="w"?y[1][1]-y[0][1]+s:s})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(b,y,v){var _=b.__brush.emitter;return _&&(!v||!_.clean)?_:new u(b,y,v)}function u(b,y,v){this.that=b,this.args=y,this.state=b.__brush,this.active=0,this.clean=v}u.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,y){return this.starting?(this.starting=!1,this.emit("start",b,y)):this.emit("brush",b),this},brush:function(b,y){return this.emit("brush",b,y),this},end:function(b,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,y)),this},emit:function(b,y,v){var _=kt(this.that).datum();a.call(b,this.that,new G$(b,{sourceEvent:y,target:c,selection:e.output(this.state.selection),mode:v,dispatch:a}),_)}};function d(b){if(o&&!b.touches||!n.apply(this,arguments))return;var y=this,v=b.target.__data__.type,_=(r&&b.metaKey?v="overlay":v)==="selection"?D8:r&&b.altKey?iu:nu,w=e===mv?null:F$[v],E=e===Jy?null:I$[v],B=yv(y),R=B.extent,G=B.selection,C=R[0][0],O,I,D=R[0][1],k,L,T=R[1][0],H,W,j=R[1][1],ce,ue,te=0,re=0,ae,fe=w&&E&&r&&b.shiftKey,ye,se,me=Array.from(b.touches||[b],K=>{const Z=K.identifier;return K=x8(K,y),K.point0=K.slice(),K.identifier=Z,K});a4(y);var pe=l(y,arguments,!0).beforestart();if(v==="overlay"){G&&(ae=!0);const K=[me[0],me[1]||me[0]];B.selection=G=[[O=e===mv?C:Vr(K[0][0],K[1][0]),k=e===Jy?D:Vr(K[0][1],K[1][1])],[H=e===mv?T:zr(K[0][0],K[1][0]),ce=e===Jy?j:zr(K[0][1],K[1][1])]],me.length>1&&he(b)}else O=G[0][0],k=G[0][1],H=G[1][0],ce=G[1][1];I=O,L=k,W=H,ue=ce;var Ee=kt(y).attr("pointer-events","none"),ee=Ee.selectAll(".overlay").attr("cursor",Cc[v]);if(b.touches)pe.moved=oe,pe.ended=Re;else{var ie=kt(b.view).on("mousemove.brush",oe,!0).on("mouseup.brush",Re,!0);r&&ie.on("keydown.brush",Ge,!0).on("keyup.brush",Le,!0),zK(b.view)}A.call(y),pe.start(b,_.name);function oe(K){for(const Z of K.changedTouches||[K])for(const Ce of me)Ce.identifier===Z.identifier&&(Ce.cur=x8(Z,y));if(fe&&!ye&&!se&&me.length===1){const Z=me[0];k8(Z.cur[0]-Z[0])>k8(Z.cur[1]-Z[1])?se=!0:ye=!0}for(const Z of me)Z.cur&&(Z[0]=Z.cur[0],Z[1]=Z.cur[1]);ae=!0,fv(K),he(K)}function he(K){const Z=me[0],Ce=Z.point0;var ve;switch(te=Z[0]-Ce[0],re=Z[1]-Ce[1],_){case hv:case D8:{w&&(te=zr(C-O,Vr(T-H,te)),I=O+te,W=H+te),E&&(re=zr(D-k,Vr(j-ce,re)),L=k+re,ue=ce+re);break}case nu:{me[1]?(w&&(I=zr(C,Vr(T,me[0][0])),W=zr(C,Vr(T,me[1][0])),w=1),E&&(L=zr(D,Vr(j,me[0][1])),ue=zr(D,Vr(j,me[1][1])),E=1)):(w<0?(te=zr(C-O,Vr(T-O,te)),I=O+te,W=H):w>0&&(te=zr(C-H,Vr(T-H,te)),I=O,W=H+te),E<0?(re=zr(D-k,Vr(j-k,re)),L=k+re,ue=ce):E>0&&(re=zr(D-ce,Vr(j-ce,re)),L=k,ue=ce+re));break}case iu:{w&&(I=zr(C,Vr(T,O-te*w)),W=zr(C,Vr(T,H+te*w))),E&&(L=zr(D,Vr(j,k-re*E)),ue=zr(D,Vr(j,ce+re*E)));break}}W<I&&(w*=-1,ve=O,O=H,H=ve,ve=I,I=W,W=ve,v in H8&&ee.attr("cursor",Cc[v=H8[v]])),ue<L&&(E*=-1,ve=k,k=ce,ce=ve,ve=L,L=ue,ue=ve,v in Q8&&ee.attr("cursor",Cc[v=Q8[v]])),B.selection&&(G=B.selection),ye&&(I=G[0][0],W=G[1][0]),se&&(L=G[0][1],ue=G[1][1]),(G[0][0]!==I||G[0][1]!==L||G[1][0]!==W||G[1][1]!==ue)&&(B.selection=[[I,L],[W,ue]],A.call(y),pe.brush(K,_.name))}function Re(K){if(M$(K),K.touches){if(K.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else VK(K.view,ae),ie.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ee.attr("pointer-events","all"),ee.attr("cursor",Cc.overlay),B.selection&&(G=B.selection),D$(G)&&(B.selection=null,A.call(y)),pe.end(K,_.name)}function Ge(K){switch(K.keyCode){case 16:{fe=w&&E;break}case 18:{_===nu&&(w&&(H=W-te*w,O=I+te*w),E&&(ce=ue-re*E,k=L+re*E),_=iu,he(K));break}case 32:{(_===nu||_===iu)&&(w<0?H=W-te:w>0&&(O=I-te),E<0?ce=ue-re:E>0&&(k=L-re),_=hv,ee.attr("cursor",Cc.selection),he(K));break}default:return}fv(K)}function Le(K){switch(K.keyCode){case 16:{fe&&(ye=se=fe=!1,he(K));break}case 18:{_===iu&&(w<0?H=W:w>0&&(O=I),E<0?ce=ue:E>0&&(k=L),_=nu,he(K));break}case 32:{_===hv&&(K.altKey?(w&&(H=W-te*w,O=I+te*w),E&&(ce=ue-re*E,k=L+re*E),_=iu):(w<0?H=W:w>0&&(O=I),E<0?ce=ue:E>0&&(k=L),_=nu),ee.attr("cursor",Cc[v]),he(K));break}default:return}fv(K)}}function p(b){l(this,arguments).moved(b)}function h(b){l(this,arguments).ended(b)}function g(){var b=this.__brush||{selection:null};return b.extent=s4(t.apply(this,arguments)),b.dim=e,b}return c.extent=function(b){return arguments.length?(t=typeof b=="function"?b:pv(s4(b)),c):t},c.filter=function(b){return arguments.length?(n=typeof b=="function"?b:pv(!!b),c):n},c.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:pv(!!b),c):i},c.handleSize=function(b){return arguments.length?(s=+b,c):s},c.keyModifiers=function(b){return arguments.length?(r=!!b,c):r},c.on=function(){var b=a.on.apply(a,arguments);return b===a?c:b},c}const o4=Math.PI,c4=2*o4,JA=1e-6,H$=c4-JA;function TG(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Q$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return TG;const n=10**t;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class z${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?TG:Q$(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,r){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,n,i,r,a,s){this._append`C${+t},${+n},${+i},${+r},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,i,r,a){if(t=+t,n=+n,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=i-t,A=r-n,l=s-t,u=o-n,d=l*l+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>JA)if(!(Math.abs(u*c-A*l)>JA)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=i-s,h=r-o,g=c*c+A*A,b=p*p+h*h,y=Math.sqrt(g),v=Math.sqrt(d),_=a*Math.tan((o4-Math.acos((g+d-b)/(2*y*v)))/2),w=_/v,E=_/y;Math.abs(w-1)>JA&&this._append`L${t+w*l},${n+w*u}`,this._append`A${a},${a},0,0,${+(u*p>l*h)},${this._x1=t+E*c},${this._y1=n+E*A}`}}arc(t,n,i,r,a,s){if(t=+t,n=+n,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),c=i*Math.sin(r),A=t+o,l=n+c,u=1^s,d=s?r-a:a-r;this._x1===null?this._append`M${A},${l}`:(Math.abs(this._x1-A)>JA||Math.abs(this._y1-l)>JA)&&this._append`L${A},${l}`,i&&(d<0&&(d=d%c4+c4),d>H$?this._append`A${i},${i},0,1,${u},${t-o},${n-c}A${i},${i},0,1,${u},${this._x1=A},${this._y1=l}`:d>JA&&this._append`A${i},${i},0,${+(d>=o4)},${u},${this._x1=t+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(t,n,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function V$(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ug(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function wd(e){return e=Ug(Math.abs(e)),e?e[1]:NaN}function K$(e,t){return function(n,i){for(var r=n.length,a=[],s=0,o=e[0],c=0;r>0&&o>0&&(c+o+1>i&&(o=Math.max(1,i-c)),a.push(n.substring(r-=o,r+o)),!((c+=o+1)>i));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function W$(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var $$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dg(e){if(!(t=$$.exec(e)))throw new Error("invalid format: "+e);var t;return new Fx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Dg.prototype=Fx.prototype;function Fx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Fx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function j$(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var FG;function Y$(e,t){var n=Ug(e,t);if(!n)return e+"";var i=n[0],r=n[1],a=r-(FG=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Ug(e,Math.max(0,t+a-1))[0]}function z8(e,t){var n=Ug(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const V8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:V$,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>z8(e*100,t),r:z8,s:Y$,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function K8(e){return e}var W8=Array.prototype.map,$8=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function q$(e){var t=e.grouping===void 0||e.thousands===void 0?K8:K$(W8.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?K8:W$(W8.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function A(u){u=Dg(u);var d=u.fill,p=u.align,h=u.sign,g=u.symbol,b=u.zero,y=u.width,v=u.comma,_=u.precision,w=u.trim,E=u.type;E==="n"?(v=!0,E="g"):V8[E]||(_===void 0&&(_=12),w=!0,E="g"),(b||d==="0"&&p==="=")&&(b=!0,d="0",p="=");var B=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",R=g==="$"?i:/[%p]/.test(E)?s:"",G=V8[E],C=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function O(I){var D=B,k=R,L,T,H;if(E==="c")k=G(I)+k,I="";else{I=+I;var W=I<0||1/I<0;if(I=isNaN(I)?c:G(Math.abs(I),_),w&&(I=j$(I)),W&&+I==0&&h!=="+"&&(W=!1),D=(W?h==="("?h:o:h==="-"||h==="("?"":h)+D,k=(E==="s"?$8[8+FG/3]:"")+k+(W&&h==="("?")":""),C){for(L=-1,T=I.length;++L<T;)if(H=I.charCodeAt(L),48>H||H>57){k=(H===46?r+I.slice(L+1):I.slice(L))+k,I=I.slice(0,L);break}}}v&&!b&&(I=t(I,1/0));var j=D.length+I.length+k.length,ce=j<y?new Array(y-j+1).join(d):"";switch(v&&b&&(I=t(ce+I,ce.length?y-k.length:1/0),ce=""),p){case"<":I=D+I+k+ce;break;case"=":I=D+ce+I+k;break;case"^":I=ce.slice(0,j=ce.length>>1)+D+I+k+ce.slice(j);break;default:I=ce+D+I+k;break}return a(I)}return O.toString=function(){return u+""},O}function l(u,d){var p=A((u=Dg(u),u.type="f",u)),h=Math.max(-8,Math.min(8,Math.floor(wd(d)/3)))*3,g=Math.pow(10,-h),b=$8[8+h/3];return function(y){return p(g*y)+b}}return{format:A,formatPrefix:l}}var s1,ll,IG;X$({thousands:",",grouping:[3],currency:["$",""]});function X$(e){return s1=q$(e),ll=s1.format,IG=s1.formatPrefix,s1}function Z$(e){return Math.max(0,-wd(Math.abs(e)))}function J$(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wd(t)/3)))*3-wd(Math.abs(e)))}function ej(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wd(t)-wd(e))+1}function Ix(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const j8=Symbol("implicit");function LG(){var e=new WE,t=[],n=[],i=j8;function r(a){let s=e.get(a);if(s===void 0){if(i!==j8)return i;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return r.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new WE;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return LG(t,n).unknown(i)},Ix.apply(r,arguments),r}function A4(){var e=LG().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,a,s,o=!1,c=0,A=0,l=.5;delete e.unknown;function u(){var d=t().length,p=r<i,h=p?r:i,g=p?i:r;a=(g-h)/Math.max(1,d-c+A*2),o&&(a=Math.floor(a)),h+=(g-h-a*(d-c))*l,s=a*(1-c),o&&(h=Math.round(h),s=Math.round(s));var b=Jz(d).map(function(y){return h+a*y});return n(p?b.reverse():b)}return e.domain=function(d){return arguments.length?(t(d),u()):t()},e.range=function(d){return arguments.length?([i,r]=d,i=+i,r=+r,u()):[i,r]},e.rangeRound=function(d){return[i,r]=d,i=+i,r=+r,o=!0,u()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(d){return arguments.length?(o=!!d,u()):o},e.padding=function(d){return arguments.length?(c=Math.min(1,A=+d),u()):c},e.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),u()):c},e.paddingOuter=function(d){return arguments.length?(A=+d,u()):A},e.align=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),u()):l},e.copy=function(){return A4(t(),[i,r]).round(o).paddingInner(c).paddingOuter(A).align(l)},Ix.apply(u(),arguments)}function tj(e){return function(){return e}}function nj(e){return+e}var Y8=[0,1];function ju(e){return e}function l4(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:tj(isNaN(t)?NaN:.5)}function ij(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function rj(e,t,n){var i=e[0],r=e[1],a=t[0],s=t[1];return r<i?(i=l4(r,i),a=n(s,a)):(i=l4(i,r),a=n(a,s)),function(o){return a(i(o))}}function aj(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=l4(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var c=Hz(e,o,1,i)-1;return a[c](r[c](o))}}function sj(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function oj(){var e=Y8,t=Y8,n=Jh,i,r,a,s=ju,o,c,A;function l(){var d=Math.min(e.length,t.length);return s!==ju&&(s=ij(e[0],e[d-1])),o=d>2?aj:rj,c=A=null,u}function u(d){return d==null||isNaN(d=+d)?a:(c||(c=o(e.map(i),t,n)))(i(s(d)))}return u.invert=function(d){return s(r((A||(A=o(t,e.map(i),fo)))(d)))},u.domain=function(d){return arguments.length?(e=Array.from(d,nj),l()):e.slice()},u.range=function(d){return arguments.length?(t=Array.from(d),l()):t.slice()},u.rangeRound=function(d){return t=Array.from(d),n=pW,l()},u.clamp=function(d){return arguments.length?(s=d?!0:ju,l()):s!==ju},u.interpolate=function(d){return arguments.length?(n=d,l()):n},u.unknown=function(d){return arguments.length?(a=d,u):a},function(d,p){return i=d,r=p,l()}}function cj(){return oj()(ju,ju)}function Aj(e,t,n,i){var r=Xz(e,t,n),a;switch(i=Dg(i==null?",f":i),i.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=J$(r,s))&&(i.precision=a),IG(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=ej(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Z$(r))&&(i.precision=a-(i.type==="%")*2);break}}return ll(i)}function lj(e){var t=e.domain;return e.ticks=function(n){var i=t();return qz(i[0],i[i.length-1],n==null?10:n)},e.tickFormat=function(n,i){var r=t();return Aj(r[0],r[r.length-1],n==null?10:n,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,a=i.length-1,s=i[r],o=i[a],c,A,l=10;for(o<s&&(A=s,s=o,o=A,A=r,r=a,a=A);l-- >0;){if(A=jE(s,o,n),A===c)return i[r]=s,i[a]=o,t(i);if(A>0)s=Math.floor(s/A)*A,o=Math.ceil(o/A)*A;else if(A<0)s=Math.ceil(s*A)/A,o=Math.floor(o*A)/A;else break;c=A}return e},e}function Kc(){var e=cj();return e.copy=function(){return sj(e,Kc())},Ix.apply(e,arguments),lj(e)}function Cr(e){return function(){return e}}function PG(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new z$(t)}function UG(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DG(e){this._context=e}DG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function kg(e){return new DG(e)}function kG(e){return e[0]}function OG(e){return e[1]}function HG(e,t){var n=Cr(!0),i=null,r=kg,a=null,s=PG(o);e=typeof e=="function"?e:e===void 0?kG:Cr(e),t=typeof t=="function"?t:t===void 0?OG:Cr(t);function o(c){var A,l=(c=UG(c)).length,u,d=!1,p;for(i==null&&(a=r(p=s())),A=0;A<=l;++A)!(A<l&&n(u=c[A],A,c))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(u,A,c),+t(u,A,c));if(p)return a=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Cr(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Cr(+c),o):t},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Cr(!!c),o):n},o.curve=function(c){return arguments.length?(r=c,i!=null&&(a=r(i)),o):r},o.context=function(c){return arguments.length?(c==null?i=a=null:a=r(i=c),o):i},o}function uj(e,t,n){var i=null,r=Cr(!0),a=null,s=kg,o=null,c=PG(A);e=typeof e=="function"?e:e===void 0?kG:Cr(+e),t=typeof t=="function"?t:Cr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?OG:Cr(+n);function A(u){var d,p,h,g=(u=UG(u)).length,b,y=!1,v,_=new Array(g),w=new Array(g);for(a==null&&(o=s(v=c())),d=0;d<=g;++d){if(!(d<g&&r(b=u[d],d,u))===y)if(y=!y)p=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=d-1;h>=p;--h)o.point(_[h],w[h]);o.lineEnd(),o.areaEnd()}y&&(_[d]=+e(b,d,u),w[d]=+t(b,d,u),o.point(i?+i(b,d,u):_[d],n?+n(b,d,u):w[d]))}if(v)return o=null,v+""||null}function l(){return HG().defined(r).curve(s).context(a)}return A.x=function(u){return arguments.length?(e=typeof u=="function"?u:Cr(+u),i=null,A):e},A.x0=function(u){return arguments.length?(e=typeof u=="function"?u:Cr(+u),A):e},A.x1=function(u){return arguments.length?(i=u==null?null:typeof u=="function"?u:Cr(+u),A):i},A.y=function(u){return arguments.length?(t=typeof u=="function"?u:Cr(+u),n=null,A):t},A.y0=function(u){return arguments.length?(t=typeof u=="function"?u:Cr(+u),A):t},A.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:Cr(+u),A):n},A.lineX0=A.lineY0=function(){return l().x(e).y(t)},A.lineY1=function(){return l().x(e).y(n)},A.lineX1=function(){return l().x(i).y(t)},A.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Cr(!!u),A):r},A.curve=function(u){return arguments.length?(s=u,a!=null&&(o=s(a)),A):s},A.context=function(u){return arguments.length?(u==null?a=o=null:o=s(a=u),A):a},A}function Yu(e,t,n){this.k=e,this.x=t,this.y=n}Yu.prototype={constructor:Yu,scale:function(e){return e===1?this:new Yu(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Yu(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Yu(1,0,0);Yu.prototype;function QG(e,t=null){t&&(e=e.filter(r=>!t.includes(r.mutant)));const n=Wz(e,r=>r.every(a=>a.metric===null)?{count:null,mean:null,sum:null,min:null,max:null}:{count:r.length,mean:Zz(r,a=>a.metric),sum:eV(r,a=>a.metric),min:ef(r,a=>a.metric),max:Ms(r,a=>a.metric)},r=>r.site,r=>r.condition);return e.map(r=>({condition:r.condition,site:r.site,site_reference:r.site_reference,site_protein:r.site_protein,site_chain:r.site_chain,wildtype:r.wildtype,...n.get(r.site).get(r.condition)})).filter((r,a,s)=>a===s.findIndex(o=>o.site===r.site&&o.condition===r.condition))}function u4(e){let t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);t/=255,n/=255,i/=255;let r=Math.max(t,n,i),a=Math.min(t,n,i),s,o,c=(r+a)/2;if(r==a)s=o=0;else{let p=r-a;switch(o=c>.5?p/(2-r-a):p/(r+a),r){case t:s=(n-i)/p+(n<i?6:0);break;case n:s=(i-t)/p+2;break;case i:s=(t-n)/p+4;break}s/=6}s=(s+.5)%1;let A,l,u;if(o==0)A=l=u=c;else{const p=(b,y,v)=>(v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?b+(y-b)*6*v:v<.5?y:v<.6666666666666666?b+(y-b)*(.6666666666666666-v)*6:b),h=c<.5?c*(1+o):c+o-c*o,g=2*c-h;A=p(g,h,s+1/3),l=p(g,h,s),u=p(g,h,s-1/3)}const d=p=>{const h=Math.round(p*255).toString(16);return h.length==1?"0"+h:h};return"#"+d(A)+d(l)+d(u)}function d4(e){const t=["mut_metric_df","sitemap","metric_col","condition_col","conditions","condition_colors","alphabet","pdb","dataChains","excludeChains","filter_cols","tooltip_cols","excludedAminoAcids"];for(const n in e){const i=t.filter(r=>!(r in e[n]));if(i.length>0)throw new Error(`Invalid specification for dataset ${n}. Missing keys: ${i.join(", ")}.`)}}function Lx(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Dl=Lx();function zG(e){Dl=e}const VG=/[&<>"']/,dj=new RegExp(VG.source,"g"),KG=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,pj=new RegExp(KG.source,"g"),fj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},q8=e=>fj[e];function qr(e,t){if(t){if(VG.test(e))return e.replace(dj,q8)}else if(KG.test(e))return e.replace(pj,q8);return e}const hj=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function WG(e){return e.replace(hj,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const mj=/(^|[^\[])\^/g;function oi(e,t){e=typeof e=="string"?e:e.source,t=t||"";const n={replace:(i,r)=>(r=typeof r=="object"&&"source"in r?r.source:r,r=r.replace(mj,"$1"),e=e.replace(i,r),n),getRegex:()=>new RegExp(e,t)};return n}const yj=/[^\w:]/g,gj=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function X8(e,t,n){if(e){let i;try{i=decodeURIComponent(WG(n)).replace(yj,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}t&&!gj.test(n)&&(n=Ej(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const o1={},bj=/^[^:]+:\/*[^/]*$/,vj=/^([^:]+:)[\s\S]*$/,wj=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Ej(e,t){o1[" "+e]||(bj.test(e)?o1[" "+e]=e+"/":o1[" "+e]=eg(e,"/",!0)),e=o1[" "+e];const n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(vj,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(wj,"$1")+t:e+t}const Og={exec:()=>null};function Z8(e,t){const n=e.replace(/\|/g,(a,s,o)=>{let c=!1,A=s;for(;--A>=0&&o[A]==="\\";)c=!c;return c?"|":" |"}),i=n.split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function eg(e,t,n){const i=e.length;if(i===0)return"";let r=0;for(;r<i;){const a=e.charAt(i-r-1);if(a===t&&!n)r++;else if(a!==t&&n)r++;else break}return e.slice(0,i-r)}function _j(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return-1}function xj(e,t){!e||e.silent||(t&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(e.sanitize||e.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(e.highlight||e.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),e.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),e.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),e.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),e.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(e.headerIds||e.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function J8(e,t,n,i){const r=t.href,a=t.title?qr(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){i.state.inLink=!0;const o={type:"link",raw:n,href:r,title:a,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,o}return{type:"image",raw:n,href:r,title:a,text:qr(s)}}function Bj(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const i=n[1];return t.split(`
`).map(r=>{const a=r.match(/^\s+/);if(a===null)return r;const[s]=a;return s.length>=i.length?r.slice(i.length):r}).join(`
`)}class Hg{constructor(t){ii(this,"options");ii(this,"rules");ii(this,"lexer");this.options=t||Dl}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const i=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:eg(i,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const i=n[0],r=Bj(i,n[3]||"");return{type:"code",raw:i,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:r}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let i=n[2].trim();if(/#$/.test(i)){const r=eg(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){const i=n[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const a=this.lexer.blockTokens(i);return this.lexer.state.top=r,{type:"blockquote",raw:n[0],tokens:a,text:i}}}list(t){let n=this.rules.block.list.exec(t);if(n){let i=n[1].trim();const r=i.length>1,a={type:"list",raw:"",ordered:r,start:r?+i.slice(0,-1):"",loose:!1,items:[]};i=r?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=r?i:"[*+-]");const s=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let o="",c="",A=!1;for(;t;){let l=!1;if(!(n=s.exec(t))||this.rules.block.hr.test(t))break;o=n[0],t=t.substring(o.length);let u=n[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),d=t.split(`
`,1)[0],p=0;this.options.pedantic?(p=2,c=u.trimLeft()):(p=n[2].search(/[^ ]/),p=p>4?1:p,c=u.slice(p),p+=n[1].length);let h=!1;if(!u&&/^ *$/.test(d)&&(o+=d+`
`,t=t.substring(d.length+1),l=!0),!l){const y=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),_=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),w=new RegExp(`^ {0,${Math.min(3,p-1)}}#`);for(;t;){const E=t.split(`
`,1)[0];if(d=E,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),_.test(d)||w.test(d)||y.test(d)||v.test(t))break;if(d.search(/[^ ]/)>=p||!d.trim())c+=`
`+d.slice(p);else{if(h||u.search(/[^ ]/)>=4||_.test(u)||w.test(u)||v.test(u))break;c+=`
`+d}!h&&!d.trim()&&(h=!0),o+=E+`
`,t=t.substring(E.length+1),u=d.slice(p)}}a.loose||(A?a.loose=!0:/\n *\n *$/.test(o)&&(A=!0));let g=null,b;this.options.gfm&&(g=/^\[[ xX]\] /.exec(c),g&&(b=g[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:o,task:!!g,checked:b,loose:!1,text:c,tokens:[]}),a.raw+=o}a.items[a.items.length-1].raw=o.trimRight(),a.items[a.items.length-1].text=c.trimRight(),a.raw=a.raw.trimRight();for(let l=0;l<a.items.length;l++)if(this.lexer.state.top=!1,a.items[l].tokens=this.lexer.blockTokens(a.items[l].text,[]),!a.loose){const u=a.items[l].tokens.filter(p=>p.type==="space"),d=u.length>0&&u.some(p=>/\n.*\n/.test(p.raw));a.loose=d}if(a.loose)for(let l=0;l<a.items.length;l++)a.items[l].loose=!0;return a}}html(t){const n=this.rules.block.html.exec(t);if(n){const i={type:"html",block:!0,raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(n[0]):qr(n[0]),a=i;a.type="paragraph",a.text=r,a.tokens=this.lexer.inline(r)}return i}}def(t){const n=this.rules.block.def.exec(t);if(n){const i=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",a=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:i,raw:n[0],href:r,title:a}}}table(t){const n=this.rules.block.table.exec(t);if(n){const i={type:"table",raw:n[0],header:Z8(n[1]).map(r=>({text:r,tokens:[]})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){let r=i.align.length,a,s,o,c;for(a=0;a<r;a++){const A=i.align[a];A&&(/^ *-+: *$/.test(A)?i.align[a]="right":/^ *:-+: *$/.test(A)?i.align[a]="center":/^ *:-+ *$/.test(A)?i.align[a]="left":i.align[a]=null)}for(r=i.rows.length,a=0;a<r;a++)i.rows[a]=Z8(i.rows[a],i.header.length).map(A=>({text:A,tokens:[]}));for(r=i.header.length,s=0;s<r;s++)i.header[s].tokens=this.lexer.inline(i.header[s].text);for(r=i.rows.length,s=0;s<r;s++)for(c=i.rows[s],o=0;o<c.length;o++)c[o].tokens=this.lexer.inline(c[o].text);return i}}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const i=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:i,tokens:this.lexer.inline(i)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:qr(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):qr(n[0]):n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const i=n[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=eg(i.slice(0,-1),"\\");if((i.length-s.length)%2===0)return}else{const s=_j(n[2],"()");if(s>-1){const c=(n[0].indexOf("!")===0?5:4)+n[1].length+s;n[2]=n[2].substring(0,s),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let r=n[2],a="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);s&&(r=s[1],a=s[3])}else a=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(i)?r=r.slice(1):r=r.slice(1,-1)),J8(n,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(t,n){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=n[r.toLowerCase()],!r){const a=i[0].charAt(0);return{type:"text",raw:a,text:a}}return J8(i,r,i[0],this.lexer)}}emStrong(t,n,i=""){let r=this.rules.inline.emStrong.lDelim.exec(t);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const s=[...r[0]].length-1;let o,c,A=s,l=0;const u=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,n=n.slice(-1*t.length+s);(r=u.exec(n))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(c=[...o].length,r[3]||r[4]){A+=c;continue}else if((r[5]||r[6])&&s%3&&!((s+c)%3)){l+=c;continue}if(A-=c,A>0)continue;c=Math.min(c,c+A+l);const d=[...t].slice(0,s+r.index+c+1).join("");if(Math.min(s,c)%2){const h=d.slice(1,-1);return{type:"em",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}const p=d.slice(2,-2);return{type:"strong",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let i=n[2].replace(/\n/g," ");const r=/[^ ]/.test(i),a=/^ /.test(i)&&/ $/.test(i);return r&&a&&(i=i.substring(1,i.length-1)),i=qr(i,!0),{type:"codespan",raw:n[0],text:i}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t,n){const i=this.rules.inline.autolink.exec(t);if(i){let r,a;return i[2]==="@"?(r=qr(this.options.mangle?n(i[1]):i[1]),a="mailto:"+r):(r=qr(i[1]),a=r),{type:"link",raw:i[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}url(t,n){let i;if(i=this.rules.inline.url.exec(t)){let r,a;if(i[2]==="@")r=qr(this.options.mangle?n(i[0]):i[0]),a="mailto:"+r;else{let s;do s=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(s!==i[0]);r=qr(i[0]),i[1]==="www."?a="http://"+i[0]:a=i[0]}return{type:"link",raw:i[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t,n){const i=this.rules.inline.text.exec(t);if(i){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):qr(i[0]):i[0]:r=qr(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:r}}}}const $t={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Og,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};$t._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;$t._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;$t.def=oi($t.def).replace("label",$t._label).replace("title",$t._title).getRegex();$t.bullet=/(?:[*+-]|\d{1,9}[.)])/;$t.listItemStart=oi(/^( *)(bull) */).replace("bull",$t.bullet).getRegex();$t.list=oi($t.list).replace(/bull/g,$t.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+$t.def.source+")").getRegex();$t._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";$t._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;$t.html=oi($t.html,"i").replace("comment",$t._comment).replace("tag",$t._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();$t.lheading=oi($t.lheading).replace(/bull/g,$t.bullet).getRegex();$t.paragraph=oi($t._paragraph).replace("hr",$t.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$t._tag).getRegex();$t.blockquote=oi($t.blockquote).replace("paragraph",$t.paragraph).getRegex();$t.normal={...$t};$t.gfm={...$t.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};$t.gfm.table=oi($t.gfm.table).replace("hr",$t.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$t._tag).getRegex();$t.gfm.paragraph=oi($t._paragraph).replace("hr",$t.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",$t.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$t._tag).getRegex();$t.pedantic={...$t.normal,html:oi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$t._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Og,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:oi($t.normal._paragraph).replace("hr",$t.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",$t.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const St={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Og,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Og,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};St._punctuation="\\p{P}$+<=>`^|~";St.punctuation=oi(St.punctuation,"u").replace(/punctuation/g,St._punctuation).getRegex();St.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;St.anyPunctuation=/\\[punct]/g;St._escapes=/\\([punct])/g;St._comment=oi($t._comment).replace("(?:-->|$)","-->").getRegex();St.emStrong.lDelim=oi(St.emStrong.lDelim,"u").replace(/punct/g,St._punctuation).getRegex();St.emStrong.rDelimAst=oi(St.emStrong.rDelimAst,"gu").replace(/punct/g,St._punctuation).getRegex();St.emStrong.rDelimUnd=oi(St.emStrong.rDelimUnd,"gu").replace(/punct/g,St._punctuation).getRegex();St.anyPunctuation=oi(St.anyPunctuation,"gu").replace(/punct/g,St._punctuation).getRegex();St._escapes=oi(St._escapes,"gu").replace(/punct/g,St._punctuation).getRegex();St._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;St._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;St.autolink=oi(St.autolink).replace("scheme",St._scheme).replace("email",St._email).getRegex();St._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;St.tag=oi(St.tag).replace("comment",St._comment).replace("attribute",St._attribute).getRegex();St._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;St._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;St._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;St.link=oi(St.link).replace("label",St._label).replace("href",St._href).replace("title",St._title).getRegex();St.reflink=oi(St.reflink).replace("label",St._label).replace("ref",$t._label).getRegex();St.nolink=oi(St.nolink).replace("ref",$t._label).getRegex();St.reflinkSearch=oi(St.reflinkSearch,"g").replace("reflink",St.reflink).replace("nolink",St.nolink).getRegex();St.normal={...St};St.pedantic={...St.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:oi(/^!?\[(label)\]\((.*?)\)/).replace("label",St._label).getRegex(),reflink:oi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",St._label).getRegex()};St.gfm={...St.normal,escape:oi(St.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};St.gfm.url=oi(St.gfm.url,"i").replace("email",St.gfm._extended_email).getRegex();St.breaks={...St.gfm,br:oi(St.br).replace("{2,}","*").getRegex(),text:oi(St.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function Rj(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function eB(e){let t="";for(let n=0;n<e.length;n++){const i=Math.random()>.5?"x"+e.charCodeAt(n).toString(16):e.charCodeAt(n).toString();t+="&#"+i+";"}return t}class $o{constructor(t){ii(this,"tokens");ii(this,"options");ii(this,"state");ii(this,"tokenizer");ii(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Dl,this.options.tokenizer=this.options.tokenizer||new Hg,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:$t.normal,inline:St.normal};this.options.pedantic?(n.block=$t.pedantic,n.inline=St.pedantic):this.options.gfm&&(n.block=$t.gfm,this.options.breaks?n.inline=St.breaks:n.inline=St.gfm),this.tokenizer.rules=n}static get rules(){return{block:$t,inline:St}}static lex(t,n){return new $o(n).lex(t)}static lexInline(t,n){return new $o(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(o,c,A)=>c+"    ".repeat(A.length));let i,r,a,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(i=o.call({lexer:this},t,n))?(t=t.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length),i.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),n.push(i);continue}if(a=t,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const c=t.slice(1);let A;this.options.extensions.startBlock.forEach(l=>{A=l.call({lexer:this},c),typeof A=="number"&&A>=0&&(o=Math.min(o,A))}),o<1/0&&o>=0&&(a=t.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a))){r=n[n.length-1],s&&r.type==="paragraph"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(i),s=a.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&r.type==="text"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(i);continue}if(t){const o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let i,r,a,s=t,o,c,A;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)l.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,o.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(c||(A=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(l=>(i=l.call({lexer:this},t,n))?(t=t.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.escape(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.tag(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):n.push(i);continue}if(i=this.tokenizer.link(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(i.raw.length),r=n[n.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):n.push(i);continue}if(i=this.tokenizer.emStrong(t,s,A)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.codespan(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.br(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.del(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.autolink(t,eB)){t=t.substring(i.raw.length),n.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(t,eB))){t=t.substring(i.raw.length),n.push(i);continue}if(a=t,this.options.extensions&&this.options.extensions.startInline){let l=1/0;const u=t.slice(1);let d;this.options.extensions.startInline.forEach(p=>{d=p.call({lexer:this},u),typeof d=="number"&&d>=0&&(l=Math.min(l,d))}),l<1/0&&l>=0&&(a=t.substring(0,l+1))}if(i=this.tokenizer.inlineText(a,Rj)){t=t.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(A=i.raw.slice(-1)),c=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):n.push(i);continue}if(t){const l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return n}}class Qg{constructor(t){ii(this,"options");this.options=t||Dl}code(t,n,i){var a;const r=(a=(n||"").match(/^\S*/))==null?void 0:a[0];if(this.options.highlight){const s=this.options.highlight(t,r);s!=null&&s!==t&&(i=!0,t=s)}return t=t.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+qr(r)+'">'+(i?t:qr(t,!0))+`</code></pre>
`:"<pre><code>"+(i?t:qr(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t,n){return t}heading(t,n,i,r){if(this.options.headerIds){const a=this.options.headerPrefix+r.slug(i);return`<h${n} id="${a}">${t}</h${n}>
`}return`<h${n}>${t}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,n,i){const r=n?"ol":"ul",a=n&&i!==1?' start="'+i+'"':"";return"<"+r+a+`>
`+t+"</"+r+`>
`}listitem(t,n,i){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,n){const i=n.header?"th":"td";return(n.align?`<${i} align="${n.align}">`:`<${i}>`)+t+`</${i}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,n,i){const r=X8(this.options.sanitize,this.options.baseUrl,t);if(r===null)return i;t=r;let a='<a href="'+t+'"';return n&&(a+=' title="'+n+'"'),a+=">"+i+"</a>",a}image(t,n,i){const r=X8(this.options.sanitize,this.options.baseUrl,t);if(r===null)return i;t=r;let a=`<img src="${t}" alt="${i}"`;return n&&(a+=` title="${n}"`),a+=this.options.xhtml?"/>":">",a}text(t){return t}}class Px{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,n,i){return""+i}image(t,n,i){return""+i}br(){return""}}class Ux{constructor(){ii(this,"seen");this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,n){let i=t,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[t];do r++,i=t+"-"+r;while(this.seen.hasOwnProperty(i))}return n||(this.seen[t]=r,this.seen[i]=0),i}slug(t,n={}){const i=this.serialize(t);return this.getNextSafeSlug(i,n.dryrun)}}class jo{constructor(t){ii(this,"options");ii(this,"renderer");ii(this,"textRenderer");ii(this,"slugger");this.options=t||Dl,this.options.renderer=this.options.renderer||new Qg,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Px,this.slugger=new Ux}static parse(t,n){return new jo(n).parse(t)}static parseInline(t,n){return new jo(n).parseInline(t)}parse(t,n=!0){let i="";for(let r=0;r<t.length;r++){const a=t[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const s=a,o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){i+=o||"";continue}}switch(a.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{const s=a;i+=this.renderer.heading(this.parseInline(s.tokens),s.depth,WG(this.parseInline(s.tokens,this.textRenderer)),this.slugger);continue}case"code":{const s=a;i+=this.renderer.code(s.text,s.lang,!!s.escaped);continue}case"table":{const s=a;let o="",c="";for(let l=0;l<s.header.length;l++)c+=this.renderer.tablecell(this.parseInline(s.header[l].tokens),{header:!0,align:s.align[l]});o+=this.renderer.tablerow(c);let A="";for(let l=0;l<s.rows.length;l++){const u=s.rows[l];c="";for(let d=0;d<u.length;d++)c+=this.renderer.tablecell(this.parseInline(u[d].tokens),{header:!1,align:s.align[d]});A+=this.renderer.tablerow(c)}i+=this.renderer.table(o,A);continue}case"blockquote":{const s=a,o=this.parse(s.tokens);i+=this.renderer.blockquote(o);continue}case"list":{const s=a,o=s.ordered,c=s.start,A=s.loose;let l="";for(let u=0;u<s.items.length;u++){const d=s.items[u],p=d.checked,h=d.task;let g="";if(d.task){const b=this.renderer.checkbox(!!p);A?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=b+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=b+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:b}):g+=b}g+=this.parse(d.tokens,A),l+=this.renderer.listitem(g,h,!!p)}i+=this.renderer.list(l,o,c);continue}case"html":{const s=a;i+=this.renderer.html(s.text,s.block);continue}case"paragraph":{const s=a;i+=this.renderer.paragraph(this.parseInline(s.tokens));continue}case"text":{let s=a,o=s.tokens?this.parseInline(s.tokens):s.text;for(;r+1<t.length&&t[r+1].type==="text";)s=t[++r],o+=`
`+(s.tokens?this.parseInline(s.tokens):s.text);i+=n?this.renderer.paragraph(o):o;continue}default:{const s='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return i}parseInline(t,n){n=n||this.renderer;let i="";for(let r=0;r<t.length;r++){const a=t[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const s=this.options.extensions.renderers[a.type].call({parser:this},a);if(s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){i+=s||"";continue}}switch(a.type){case"escape":{const s=a;i+=n.text(s.text);break}case"html":{const s=a;i+=n.html(s.text);break}case"link":{const s=a;i+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{const s=a;i+=n.image(s.href,s.title,s.text);break}case"strong":{const s=a;i+=n.strong(this.parseInline(s.tokens,n));break}case"em":{const s=a;i+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{const s=a;i+=n.codespan(s.text);break}case"br":{i+=n.br();break}case"del":{const s=a;i+=n.del(this.parseInline(s.tokens,n));break}case"text":{const s=a;i+=n.text(s.text);break}default:{const s='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return i}}class Rf{constructor(t){ii(this,"options");this.options=t||Dl}preprocess(t){return t}postprocess(t){return t}}ii(Rf,"passThroughHooks",new Set(["preprocess","postprocess"]));var $h,p4,n2,$G;class Cj{constructor(...t){tu(this,$h);tu(this,n2);ii(this,"defaults",Lx());ii(this,"options",this.setOptions);ii(this,"parse",Go(this,$h,p4).call(this,$o.lex,jo.parse));ii(this,"parseInline",Go(this,$h,p4).call(this,$o.lexInline,jo.parseInline));ii(this,"Parser",jo);ii(this,"parser",jo.parse);ii(this,"Renderer",Qg);ii(this,"TextRenderer",Px);ii(this,"Lexer",$o);ii(this,"lexer",$o.lex);ii(this,"Tokenizer",Hg);ii(this,"Slugger",Ux);ii(this,"Hooks",Rf);this.use(...t)}walkTokens(t,n){var r,a;let i=[];for(const s of t)switch(i=i.concat(n.call(this,s)),s.type){case"table":{const o=s;for(const c of o.header)i=i.concat(this.walkTokens(c.tokens,n));for(const c of o.rows)for(const A of c)i=i.concat(this.walkTokens(A.tokens,n));break}case"list":{const o=s;i=i.concat(this.walkTokens(o.items,n));break}default:{const o=s;(a=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&a[o.type]?this.defaults.extensions.childTokens[o.type].forEach(c=>{i=i.concat(this.walkTokens(o[c],n))}):o.tokens&&(i=i.concat(this.walkTokens(o.tokens,n)))}}return i}use(...t){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{const r={...i};if(r.async=this.defaults.async||r.async||!1,i.extensions&&(i.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const s=n.renderers[a.name];s?n.renderers[a.name]=function(...o){let c=a.renderer.apply(this,o);return c===!1&&(c=s.apply(this,o)),c}:n.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=n[a.level];s?s.unshift(a.tokenizer):n[a.level]=[a.tokenizer],a.start&&(a.level==="block"?n.startBlock?n.startBlock.push(a.start):n.startBlock=[a.start]:a.level==="inline"&&(n.startInline?n.startInline.push(a.start):n.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(n.childTokens[a.name]=a.childTokens)}),r.extensions=n),i.renderer){const a=this.defaults.renderer||new Qg(this.defaults);for(const s in i.renderer){const o=i.renderer[s],c=s,A=a[c];a[c]=(...l)=>{let u=o.apply(a,l);return u===!1&&(u=A.apply(a,l)),u||""}}r.renderer=a}if(i.tokenizer){const a=this.defaults.tokenizer||new Hg(this.defaults);for(const s in i.tokenizer){const o=i.tokenizer[s],c=s,A=a[c];a[c]=(...l)=>{let u=o.apply(a,l);return u===!1&&(u=A.apply(a,l)),u}}r.tokenizer=a}if(i.hooks){const a=this.defaults.hooks||new Rf;for(const s in i.hooks){const o=i.hooks[s],c=s,A=a[c];Rf.passThroughHooks.has(s)?a[c]=l=>{if(this.defaults.async)return Promise.resolve(o.call(a,l)).then(d=>A.call(a,d));const u=o.call(a,l);return A.call(a,u)}:a[c]=(...l)=>{let u=o.apply(a,l);return u===!1&&(u=A.apply(a,l)),u}}r.hooks=a}if(i.walkTokens){const a=this.defaults.walkTokens,s=i.walkTokens;r.walkTokens=function(o){let c=[];return c.push(s.call(this,o)),a&&(c=c.concat(a.call(this,o))),c}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}}$h=new WeakSet,p4=function(t,n){return(i,r,a)=>{typeof r=="function"&&(a=r,r=null);const s={...r},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const c=Go(this,n2,$G).call(this,!!o.silent,!!o.async,a);if(typeof i>"u"||i===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(xj(o,a),o.hooks&&(o.hooks.options=o),a){const A=a,l=o.highlight;let u;try{o.hooks&&(i=o.hooks.preprocess(i)),u=t(i,o)}catch(h){return c(h)}const d=h=>{let g;if(!h)try{o.walkTokens&&this.walkTokens(u,o.walkTokens),g=n(u,o),o.hooks&&(g=o.hooks.postprocess(g))}catch(b){h=b}return o.highlight=l,h?c(h):A(null,g)};if(!l||l.length<3||(delete o.highlight,!u.length))return d();let p=0;this.walkTokens(u,h=>{h.type==="code"&&(p++,setTimeout(()=>{l(h.text,h.lang,(g,b)=>{if(g)return d(g);b!=null&&b!==h.text&&(h.text=b,h.escaped=!0),p--,p===0&&d()})},0))}),p===0&&d();return}if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(i):i).then(A=>t(A,o)).then(A=>o.walkTokens?Promise.all(this.walkTokens(A,o.walkTokens)).then(()=>A):A).then(A=>n(A,o)).then(A=>o.hooks?o.hooks.postprocess(A):A).catch(c);try{o.hooks&&(i=o.hooks.preprocess(i));const A=t(i,o);o.walkTokens&&this.walkTokens(A,o.walkTokens);let l=n(A,o);return o.hooks&&(l=o.hooks.postprocess(l)),l}catch(A){return c(A)}}},n2=new WeakSet,$G=function(t,n,i){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const a="<p>An error occurred:</p><pre>"+qr(r.message+"",!0)+"</pre>";if(n)return Promise.resolve(a);if(i){i(null,a);return}return a}if(n)return Promise.reject(r);if(i){i(r);return}throw r}};const El=new Cj;function qn(e,t,n){return El.parse(e,t,n)}qn.options=qn.setOptions=function(e){return El.setOptions(e),qn.defaults=El.defaults,zG(qn.defaults),qn};qn.getDefaults=Lx;qn.defaults=Dl;qn.use=function(...e){return El.use(...e),qn.defaults=El.defaults,zG(qn.defaults),qn};qn.walkTokens=function(e,t){return El.walkTokens(e,t)};qn.parseInline=El.parseInline;qn.Parser=jo;qn.parser=jo.parse;qn.Renderer=Qg;qn.TextRenderer=Px;qn.Lexer=$o;qn.lexer=$o.lex;qn.Tokenizer=Hg;qn.Slugger=Ux;qn.Hooks=Rf;qn.parse=qn;qn.options;qn.setOptions;qn.use;qn.walkTokens;qn.parseInline;jo.parse;$o.lex;class Ja{constructor(t,n,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=i}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new Ja(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class Jo{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new Jo(n,Ja.range(this,t))}}class ft{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+t,r,a,s=n&&n.loc;if(s&&s.start<=s.end){var o=s.lexer.input;r=s.start,a=s.end,r===o.length?i+=" at end of input: ":i+=" at position "+(r+1)+": ";var c=o.slice(r,a).replace(/[^]/g,"$&\u0332"),A;r>15?A="\u2026"+o.slice(r-15,r):A=o.slice(0,r);var l;a+15<o.length?l=o.slice(a,a+15)+"\u2026":l=o.slice(a),i+=A+c+l}var u=new Error(i);return u.name="ParseError",u.__proto__=ft.prototype,u.position=r,r!=null&&a!=null&&(u.length=a-r),u.rawMessage=t,u}}ft.prototype.__proto__=Error.prototype;var Nj=function(t,n){return t.indexOf(n)!==-1},Sj=function(t,n){return t===void 0?n:t},Gj=/([A-Z])/g,Mj=function(t){return t.replace(Gj,"-$1").toLowerCase()},Tj={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Fj=/[&><"']/g;function Ij(e){return String(e).replace(Fj,t=>Tj[t])}var jG=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},Lj=function(t){var n=jG(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},Pj=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},Uj=function(t){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(t);return n!=null?n[1]:"_relative"},dn={contains:Nj,deflt:Sj,escape:Ij,hyphenate:Mj,getBaseElem:jG,isCharacterBox:Lj,protocolFromUrl:Uj},tg={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function Dj(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Dx{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in tg)if(tg.hasOwnProperty(n)){var i=tg[n];this[n]=t[n]!==void 0?i.processor?i.processor(t[n]):t[n]:Dj(i)}}reportNonstrict(t,n,i){var r=this.strict;if(typeof r=="function"&&(r=r(t,n,i)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new ft("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),i);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,i){var r=this.strict;if(typeof r=="function")try{r=r(t,n,i)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+t+"]")),!1)}isTrusted(t){t.url&&!t.protocol&&(t.protocol=dn.protocolFromUrl(t.url));var n=typeof this.trust=="function"?this.trust(t):this.trust;return Boolean(n)}}class M0{constructor(t,n,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=i}sup(){return Vo[kj[this.id]]}sub(){return Vo[Oj[this.id]]}fracNum(){return Vo[Hj[this.id]]}fracDen(){return Vo[Qj[this.id]]}cramp(){return Vo[zj[this.id]]}text(){return Vo[Vj[this.id]]}isTight(){return this.size>=2}}var kx=0,zg=1,od=2,jc=3,Zf=4,Is=5,Ed=6,pa=7,Vo=[new M0(kx,0,!1),new M0(zg,0,!0),new M0(od,1,!1),new M0(jc,1,!0),new M0(Zf,2,!1),new M0(Is,2,!0),new M0(Ed,3,!1),new M0(pa,3,!0)],kj=[Zf,Is,Zf,Is,Ed,pa,Ed,pa],Oj=[Is,Is,Is,Is,pa,pa,pa,pa],Hj=[od,jc,Zf,Is,Ed,pa,Ed,pa],Qj=[jc,jc,Is,Is,pa,pa,pa,pa],zj=[zg,zg,jc,jc,Is,Is,pa,pa],Vj=[kx,zg,od,jc,od,jc,od,jc],Zt={DISPLAY:Vo[kx],TEXT:Vo[od],SCRIPT:Vo[Zf],SCRIPTSCRIPT:Vo[Ed]},f4=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Kj(e){for(var t=0;t<f4.length;t++)for(var n=f4[t],i=0;i<n.blocks.length;i++){var r=n.blocks[i];if(e>=r[0]&&e<=r[1])return n.name}return null}var ng=[];f4.forEach(e=>e.blocks.forEach(t=>ng.push(...t)));function YG(e){for(var t=0;t<ng.length;t+=2)if(e>=ng[t]&&e<=ng[t+1])return!0;return!1}var ru=80,Wj=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},$j=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},jj=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},Yj=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},qj=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},Xj=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},Zj=function(t,n,i){var r=i-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},Jj=function(t,n,i){n=1e3*n;var r="";switch(t){case"sqrtMain":r=Wj(n,ru);break;case"sqrtSize1":r=$j(n,ru);break;case"sqrtSize2":r=jj(n,ru);break;case"sqrtSize3":r=Yj(n,ru);break;case"sqrtSize4":r=qj(n,ru);break;case"sqrtTall":r=Zj(n,ru,i)}return r},eY=function(t,n){switch(t){case"\u239C":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"\u2223":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"\u2225":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"\u239F":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"\u23A2":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"\u23A5":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"\u23AA":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"\u23D0":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"\u2016":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},tB={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tY=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class em{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return dn.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var Yo={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},c1={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},nB={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function nY(e,t){Yo[e]=t}function Ox(e,t,n){if(!Yo[t])throw new Error("Font metrics not found for font: "+t+".");var i=e.charCodeAt(0),r=Yo[t][i];if(!r&&e[0]in nB&&(i=nB[e[0]].charCodeAt(0),r=Yo[t][i]),!r&&n==="text"&&YG(i)&&(r=Yo[t][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var gv={};function iY(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!gv[t]){var n=gv[t]={cssEmPerMu:c1.quad[t]/18};for(var i in c1)c1.hasOwnProperty(i)&&(n[i]=c1[i][t])}return gv[t]}var rY=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],iB=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],rB=function(t,n){return n.size<2?t:rY[t-1][n.size-1]};class Qc{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Qc.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=iB[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return new Qc(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:rB(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:iB[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=rB(Qc.BASESIZE,t);return this.size===n&&this.textSize===Qc.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Qc.BASESIZE?["sizing","reset-size"+this.size,"size"+Qc.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=iY(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Qc.BASESIZE=6;var h4={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},aY={ex:!0,em:!0,mu:!0},qG=function(t){return typeof t!="string"&&(t=t.unit),t in h4||t in aY||t==="ex"},Hi=function(t,n){var i;if(t.unit in h4)i=h4[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")i=n.fontMetrics().cssEmPerMu;else{var r;if(n.style.isTight()?r=n.havingStyle(n.style.text()):r=n,t.unit==="ex")i=r.fontMetrics().xHeight;else if(t.unit==="em")i=r.fontMetrics().quad;else throw new ft("Invalid unit: '"+t.unit+"'");r!==n&&(i*=r.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*i,n.maxSize)},wt=function(t){return+t.toFixed(4)+"em"},dA=function(t){return t.filter(n=>n).join(" ")},XG=function(t,n,i){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},n){n.style.isTight()&&this.classes.push("mtight");var r=n.getColor();r&&(this.style.color=r)}},ZG=function(t){var n=document.createElement(t);n.className=dA(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(n.style[i]=this.style[i]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&n.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},JG=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+dn.escape(dA(this.classes))+'"');var i="";for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=dn.hyphenate(r)+":"+this.style[r]+";");i&&(n+=' style="'+dn.escape(i)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(n+=" "+a+'="'+dn.escape(this.attributes[a])+'"');n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+t+">",n};class tm{constructor(t,n,i,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,XG.call(this,t,i,r),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return dn.contains(this.classes,t)}toNode(){return ZG.call(this,"span")}toMarkup(){return JG.call(this,"span")}}class Hx{constructor(t,n,i,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,XG.call(this,n,r),this.children=i||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return dn.contains(this.classes,t)}toNode(){return ZG.call(this,"a")}toMarkup(){return JG.call(this,"a")}}class sY{constructor(t,n,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=i}hasClass(t){return dn.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=dn.hyphenate(i)+":"+this.style[i]+";");return n&&(t+=' style="'+dn.escape(n)+'"'),t+="'/>",t}}var oY={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"};class Qs{constructor(t,n,i,r,a,s,o,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=i||0,this.italic=r||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=c||{},this.maxFontSize=0;var A=Kj(this.text.charCodeAt(0));A&&this.classes.push(A+"_fallback"),/[]/.test(this.text)&&(this.text=oY[this.text])}hasClass(t){return dn.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=wt(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=dA(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(n=n||document.createElement("span"),n.style[i]=this.style[i]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=dn.escape(dA(this.classes)),n+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=dn.hyphenate(r)+":"+this.style[r]+";");i&&(t=!0,n+=' style="'+dn.escape(i)+'"');var a=dn.escape(this.text);return t?(n+=">",n+=a,n+="</span>",n):a}}class e0{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&n.setAttribute(i,this.attributes[i]);for(var r=0;r<this.children.length;r++)n.appendChild(this.children[r].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</svg>",t}}class pA{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",tB[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+tB[this.pathName]+"'/>"}}class m4{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&n.setAttribute(i,this.attributes[i]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");return t+="/>",t}}function aB(e){if(e instanceof Qs)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function cY(e){if(e instanceof tm)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var AY={bin:1,close:1,inner:1,open:1,punct:1,rel:1},lY={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ri={math:{},text:{}};function N(e,t,n,i,r,a){Ri[e][r]={font:t,group:n,replace:i},a&&i&&(Ri[e][i]=Ri[e][r])}var F="math",lt="text",$="main",we="ams",Li="accent-token",It="bin",ya="close",jd="inner",rn="mathord",dr="op-token",cs="open",d2="punct",xe="rel",f0="spacing",Se="textord";N(F,$,xe,"\u2261","\\equiv",!0);N(F,$,xe,"\u227A","\\prec",!0);N(F,$,xe,"\u227B","\\succ",!0);N(F,$,xe,"\u223C","\\sim",!0);N(F,$,xe,"\u22A5","\\perp");N(F,$,xe,"\u2AAF","\\preceq",!0);N(F,$,xe,"\u2AB0","\\succeq",!0);N(F,$,xe,"\u2243","\\simeq",!0);N(F,$,xe,"\u2223","\\mid",!0);N(F,$,xe,"\u226A","\\ll",!0);N(F,$,xe,"\u226B","\\gg",!0);N(F,$,xe,"\u224D","\\asymp",!0);N(F,$,xe,"\u2225","\\parallel");N(F,$,xe,"\u22C8","\\bowtie",!0);N(F,$,xe,"\u2323","\\smile",!0);N(F,$,xe,"\u2291","\\sqsubseteq",!0);N(F,$,xe,"\u2292","\\sqsupseteq",!0);N(F,$,xe,"\u2250","\\doteq",!0);N(F,$,xe,"\u2322","\\frown",!0);N(F,$,xe,"\u220B","\\ni",!0);N(F,$,xe,"\u221D","\\propto",!0);N(F,$,xe,"\u22A2","\\vdash",!0);N(F,$,xe,"\u22A3","\\dashv",!0);N(F,$,xe,"\u220B","\\owns");N(F,$,d2,".","\\ldotp");N(F,$,d2,"\u22C5","\\cdotp");N(F,$,Se,"#","\\#");N(lt,$,Se,"#","\\#");N(F,$,Se,"&","\\&");N(lt,$,Se,"&","\\&");N(F,$,Se,"\u2135","\\aleph",!0);N(F,$,Se,"\u2200","\\forall",!0);N(F,$,Se,"\u210F","\\hbar",!0);N(F,$,Se,"\u2203","\\exists",!0);N(F,$,Se,"\u2207","\\nabla",!0);N(F,$,Se,"\u266D","\\flat",!0);N(F,$,Se,"\u2113","\\ell",!0);N(F,$,Se,"\u266E","\\natural",!0);N(F,$,Se,"\u2663","\\clubsuit",!0);N(F,$,Se,"\u2118","\\wp",!0);N(F,$,Se,"\u266F","\\sharp",!0);N(F,$,Se,"\u2662","\\diamondsuit",!0);N(F,$,Se,"\u211C","\\Re",!0);N(F,$,Se,"\u2661","\\heartsuit",!0);N(F,$,Se,"\u2111","\\Im",!0);N(F,$,Se,"\u2660","\\spadesuit",!0);N(F,$,Se,"\xA7","\\S",!0);N(lt,$,Se,"\xA7","\\S");N(F,$,Se,"\xB6","\\P",!0);N(lt,$,Se,"\xB6","\\P");N(F,$,Se,"\u2020","\\dag");N(lt,$,Se,"\u2020","\\dag");N(lt,$,Se,"\u2020","\\textdagger");N(F,$,Se,"\u2021","\\ddag");N(lt,$,Se,"\u2021","\\ddag");N(lt,$,Se,"\u2021","\\textdaggerdbl");N(F,$,ya,"\u23B1","\\rmoustache",!0);N(F,$,cs,"\u23B0","\\lmoustache",!0);N(F,$,ya,"\u27EF","\\rgroup",!0);N(F,$,cs,"\u27EE","\\lgroup",!0);N(F,$,It,"\u2213","\\mp",!0);N(F,$,It,"\u2296","\\ominus",!0);N(F,$,It,"\u228E","\\uplus",!0);N(F,$,It,"\u2293","\\sqcap",!0);N(F,$,It,"\u2217","\\ast");N(F,$,It,"\u2294","\\sqcup",!0);N(F,$,It,"\u25EF","\\bigcirc",!0);N(F,$,It,"\u2219","\\bullet",!0);N(F,$,It,"\u2021","\\ddagger");N(F,$,It,"\u2240","\\wr",!0);N(F,$,It,"\u2A3F","\\amalg");N(F,$,It,"&","\\And");N(F,$,xe,"\u27F5","\\longleftarrow",!0);N(F,$,xe,"\u21D0","\\Leftarrow",!0);N(F,$,xe,"\u27F8","\\Longleftarrow",!0);N(F,$,xe,"\u27F6","\\longrightarrow",!0);N(F,$,xe,"\u21D2","\\Rightarrow",!0);N(F,$,xe,"\u27F9","\\Longrightarrow",!0);N(F,$,xe,"\u2194","\\leftrightarrow",!0);N(F,$,xe,"\u27F7","\\longleftrightarrow",!0);N(F,$,xe,"\u21D4","\\Leftrightarrow",!0);N(F,$,xe,"\u27FA","\\Longleftrightarrow",!0);N(F,$,xe,"\u21A6","\\mapsto",!0);N(F,$,xe,"\u27FC","\\longmapsto",!0);N(F,$,xe,"\u2197","\\nearrow",!0);N(F,$,xe,"\u21A9","\\hookleftarrow",!0);N(F,$,xe,"\u21AA","\\hookrightarrow",!0);N(F,$,xe,"\u2198","\\searrow",!0);N(F,$,xe,"\u21BC","\\leftharpoonup",!0);N(F,$,xe,"\u21C0","\\rightharpoonup",!0);N(F,$,xe,"\u2199","\\swarrow",!0);N(F,$,xe,"\u21BD","\\leftharpoondown",!0);N(F,$,xe,"\u21C1","\\rightharpoondown",!0);N(F,$,xe,"\u2196","\\nwarrow",!0);N(F,$,xe,"\u21CC","\\rightleftharpoons",!0);N(F,we,xe,"\u226E","\\nless",!0);N(F,we,xe,"\uE010","\\@nleqslant");N(F,we,xe,"\uE011","\\@nleqq");N(F,we,xe,"\u2A87","\\lneq",!0);N(F,we,xe,"\u2268","\\lneqq",!0);N(F,we,xe,"\uE00C","\\@lvertneqq");N(F,we,xe,"\u22E6","\\lnsim",!0);N(F,we,xe,"\u2A89","\\lnapprox",!0);N(F,we,xe,"\u2280","\\nprec",!0);N(F,we,xe,"\u22E0","\\npreceq",!0);N(F,we,xe,"\u22E8","\\precnsim",!0);N(F,we,xe,"\u2AB9","\\precnapprox",!0);N(F,we,xe,"\u2241","\\nsim",!0);N(F,we,xe,"\uE006","\\@nshortmid");N(F,we,xe,"\u2224","\\nmid",!0);N(F,we,xe,"\u22AC","\\nvdash",!0);N(F,we,xe,"\u22AD","\\nvDash",!0);N(F,we,xe,"\u22EA","\\ntriangleleft");N(F,we,xe,"\u22EC","\\ntrianglelefteq",!0);N(F,we,xe,"\u228A","\\subsetneq",!0);N(F,we,xe,"\uE01A","\\@varsubsetneq");N(F,we,xe,"\u2ACB","\\subsetneqq",!0);N(F,we,xe,"\uE017","\\@varsubsetneqq");N(F,we,xe,"\u226F","\\ngtr",!0);N(F,we,xe,"\uE00F","\\@ngeqslant");N(F,we,xe,"\uE00E","\\@ngeqq");N(F,we,xe,"\u2A88","\\gneq",!0);N(F,we,xe,"\u2269","\\gneqq",!0);N(F,we,xe,"\uE00D","\\@gvertneqq");N(F,we,xe,"\u22E7","\\gnsim",!0);N(F,we,xe,"\u2A8A","\\gnapprox",!0);N(F,we,xe,"\u2281","\\nsucc",!0);N(F,we,xe,"\u22E1","\\nsucceq",!0);N(F,we,xe,"\u22E9","\\succnsim",!0);N(F,we,xe,"\u2ABA","\\succnapprox",!0);N(F,we,xe,"\u2246","\\ncong",!0);N(F,we,xe,"\uE007","\\@nshortparallel");N(F,we,xe,"\u2226","\\nparallel",!0);N(F,we,xe,"\u22AF","\\nVDash",!0);N(F,we,xe,"\u22EB","\\ntriangleright");N(F,we,xe,"\u22ED","\\ntrianglerighteq",!0);N(F,we,xe,"\uE018","\\@nsupseteqq");N(F,we,xe,"\u228B","\\supsetneq",!0);N(F,we,xe,"\uE01B","\\@varsupsetneq");N(F,we,xe,"\u2ACC","\\supsetneqq",!0);N(F,we,xe,"\uE019","\\@varsupsetneqq");N(F,we,xe,"\u22AE","\\nVdash",!0);N(F,we,xe,"\u2AB5","\\precneqq",!0);N(F,we,xe,"\u2AB6","\\succneqq",!0);N(F,we,xe,"\uE016","\\@nsubseteqq");N(F,we,It,"\u22B4","\\unlhd");N(F,we,It,"\u22B5","\\unrhd");N(F,we,xe,"\u219A","\\nleftarrow",!0);N(F,we,xe,"\u219B","\\nrightarrow",!0);N(F,we,xe,"\u21CD","\\nLeftarrow",!0);N(F,we,xe,"\u21CF","\\nRightarrow",!0);N(F,we,xe,"\u21AE","\\nleftrightarrow",!0);N(F,we,xe,"\u21CE","\\nLeftrightarrow",!0);N(F,we,xe,"\u25B3","\\vartriangle");N(F,we,Se,"\u210F","\\hslash");N(F,we,Se,"\u25BD","\\triangledown");N(F,we,Se,"\u25CA","\\lozenge");N(F,we,Se,"\u24C8","\\circledS");N(F,we,Se,"\xAE","\\circledR");N(lt,we,Se,"\xAE","\\circledR");N(F,we,Se,"\u2221","\\measuredangle",!0);N(F,we,Se,"\u2204","\\nexists");N(F,we,Se,"\u2127","\\mho");N(F,we,Se,"\u2132","\\Finv",!0);N(F,we,Se,"\u2141","\\Game",!0);N(F,we,Se,"\u2035","\\backprime");N(F,we,Se,"\u25B2","\\blacktriangle");N(F,we,Se,"\u25BC","\\blacktriangledown");N(F,we,Se,"\u25A0","\\blacksquare");N(F,we,Se,"\u29EB","\\blacklozenge");N(F,we,Se,"\u2605","\\bigstar");N(F,we,Se,"\u2222","\\sphericalangle",!0);N(F,we,Se,"\u2201","\\complement",!0);N(F,we,Se,"\xF0","\\eth",!0);N(lt,$,Se,"\xF0","\xF0");N(F,we,Se,"\u2571","\\diagup");N(F,we,Se,"\u2572","\\diagdown");N(F,we,Se,"\u25A1","\\square");N(F,we,Se,"\u25A1","\\Box");N(F,we,Se,"\u25CA","\\Diamond");N(F,we,Se,"\xA5","\\yen",!0);N(lt,we,Se,"\xA5","\\yen",!0);N(F,we,Se,"\u2713","\\checkmark",!0);N(lt,we,Se,"\u2713","\\checkmark");N(F,we,Se,"\u2136","\\beth",!0);N(F,we,Se,"\u2138","\\daleth",!0);N(F,we,Se,"\u2137","\\gimel",!0);N(F,we,Se,"\u03DD","\\digamma",!0);N(F,we,Se,"\u03F0","\\varkappa");N(F,we,cs,"\u250C","\\@ulcorner",!0);N(F,we,ya,"\u2510","\\@urcorner",!0);N(F,we,cs,"\u2514","\\@llcorner",!0);N(F,we,ya,"\u2518","\\@lrcorner",!0);N(F,we,xe,"\u2266","\\leqq",!0);N(F,we,xe,"\u2A7D","\\leqslant",!0);N(F,we,xe,"\u2A95","\\eqslantless",!0);N(F,we,xe,"\u2272","\\lesssim",!0);N(F,we,xe,"\u2A85","\\lessapprox",!0);N(F,we,xe,"\u224A","\\approxeq",!0);N(F,we,It,"\u22D6","\\lessdot");N(F,we,xe,"\u22D8","\\lll",!0);N(F,we,xe,"\u2276","\\lessgtr",!0);N(F,we,xe,"\u22DA","\\lesseqgtr",!0);N(F,we,xe,"\u2A8B","\\lesseqqgtr",!0);N(F,we,xe,"\u2251","\\doteqdot");N(F,we,xe,"\u2253","\\risingdotseq",!0);N(F,we,xe,"\u2252","\\fallingdotseq",!0);N(F,we,xe,"\u223D","\\backsim",!0);N(F,we,xe,"\u22CD","\\backsimeq",!0);N(F,we,xe,"\u2AC5","\\subseteqq",!0);N(F,we,xe,"\u22D0","\\Subset",!0);N(F,we,xe,"\u228F","\\sqsubset",!0);N(F,we,xe,"\u227C","\\preccurlyeq",!0);N(F,we,xe,"\u22DE","\\curlyeqprec",!0);N(F,we,xe,"\u227E","\\precsim",!0);N(F,we,xe,"\u2AB7","\\precapprox",!0);N(F,we,xe,"\u22B2","\\vartriangleleft");N(F,we,xe,"\u22B4","\\trianglelefteq");N(F,we,xe,"\u22A8","\\vDash",!0);N(F,we,xe,"\u22AA","\\Vvdash",!0);N(F,we,xe,"\u2323","\\smallsmile");N(F,we,xe,"\u2322","\\smallfrown");N(F,we,xe,"\u224F","\\bumpeq",!0);N(F,we,xe,"\u224E","\\Bumpeq",!0);N(F,we,xe,"\u2267","\\geqq",!0);N(F,we,xe,"\u2A7E","\\geqslant",!0);N(F,we,xe,"\u2A96","\\eqslantgtr",!0);N(F,we,xe,"\u2273","\\gtrsim",!0);N(F,we,xe,"\u2A86","\\gtrapprox",!0);N(F,we,It,"\u22D7","\\gtrdot");N(F,we,xe,"\u22D9","\\ggg",!0);N(F,we,xe,"\u2277","\\gtrless",!0);N(F,we,xe,"\u22DB","\\gtreqless",!0);N(F,we,xe,"\u2A8C","\\gtreqqless",!0);N(F,we,xe,"\u2256","\\eqcirc",!0);N(F,we,xe,"\u2257","\\circeq",!0);N(F,we,xe,"\u225C","\\triangleq",!0);N(F,we,xe,"\u223C","\\thicksim");N(F,we,xe,"\u2248","\\thickapprox");N(F,we,xe,"\u2AC6","\\supseteqq",!0);N(F,we,xe,"\u22D1","\\Supset",!0);N(F,we,xe,"\u2290","\\sqsupset",!0);N(F,we,xe,"\u227D","\\succcurlyeq",!0);N(F,we,xe,"\u22DF","\\curlyeqsucc",!0);N(F,we,xe,"\u227F","\\succsim",!0);N(F,we,xe,"\u2AB8","\\succapprox",!0);N(F,we,xe,"\u22B3","\\vartriangleright");N(F,we,xe,"\u22B5","\\trianglerighteq");N(F,we,xe,"\u22A9","\\Vdash",!0);N(F,we,xe,"\u2223","\\shortmid");N(F,we,xe,"\u2225","\\shortparallel");N(F,we,xe,"\u226C","\\between",!0);N(F,we,xe,"\u22D4","\\pitchfork",!0);N(F,we,xe,"\u221D","\\varpropto");N(F,we,xe,"\u25C0","\\blacktriangleleft");N(F,we,xe,"\u2234","\\therefore",!0);N(F,we,xe,"\u220D","\\backepsilon");N(F,we,xe,"\u25B6","\\blacktriangleright");N(F,we,xe,"\u2235","\\because",!0);N(F,we,xe,"\u22D8","\\llless");N(F,we,xe,"\u22D9","\\gggtr");N(F,we,It,"\u22B2","\\lhd");N(F,we,It,"\u22B3","\\rhd");N(F,we,xe,"\u2242","\\eqsim",!0);N(F,$,xe,"\u22C8","\\Join");N(F,we,xe,"\u2251","\\Doteq",!0);N(F,we,It,"\u2214","\\dotplus",!0);N(F,we,It,"\u2216","\\smallsetminus");N(F,we,It,"\u22D2","\\Cap",!0);N(F,we,It,"\u22D3","\\Cup",!0);N(F,we,It,"\u2A5E","\\doublebarwedge",!0);N(F,we,It,"\u229F","\\boxminus",!0);N(F,we,It,"\u229E","\\boxplus",!0);N(F,we,It,"\u22C7","\\divideontimes",!0);N(F,we,It,"\u22C9","\\ltimes",!0);N(F,we,It,"\u22CA","\\rtimes",!0);N(F,we,It,"\u22CB","\\leftthreetimes",!0);N(F,we,It,"\u22CC","\\rightthreetimes",!0);N(F,we,It,"\u22CF","\\curlywedge",!0);N(F,we,It,"\u22CE","\\curlyvee",!0);N(F,we,It,"\u229D","\\circleddash",!0);N(F,we,It,"\u229B","\\circledast",!0);N(F,we,It,"\u22C5","\\centerdot");N(F,we,It,"\u22BA","\\intercal",!0);N(F,we,It,"\u22D2","\\doublecap");N(F,we,It,"\u22D3","\\doublecup");N(F,we,It,"\u22A0","\\boxtimes",!0);N(F,we,xe,"\u21E2","\\dashrightarrow",!0);N(F,we,xe,"\u21E0","\\dashleftarrow",!0);N(F,we,xe,"\u21C7","\\leftleftarrows",!0);N(F,we,xe,"\u21C6","\\leftrightarrows",!0);N(F,we,xe,"\u21DA","\\Lleftarrow",!0);N(F,we,xe,"\u219E","\\twoheadleftarrow",!0);N(F,we,xe,"\u21A2","\\leftarrowtail",!0);N(F,we,xe,"\u21AB","\\looparrowleft",!0);N(F,we,xe,"\u21CB","\\leftrightharpoons",!0);N(F,we,xe,"\u21B6","\\curvearrowleft",!0);N(F,we,xe,"\u21BA","\\circlearrowleft",!0);N(F,we,xe,"\u21B0","\\Lsh",!0);N(F,we,xe,"\u21C8","\\upuparrows",!0);N(F,we,xe,"\u21BF","\\upharpoonleft",!0);N(F,we,xe,"\u21C3","\\downharpoonleft",!0);N(F,$,xe,"\u22B6","\\origof",!0);N(F,$,xe,"\u22B7","\\imageof",!0);N(F,we,xe,"\u22B8","\\multimap",!0);N(F,we,xe,"\u21AD","\\leftrightsquigarrow",!0);N(F,we,xe,"\u21C9","\\rightrightarrows",!0);N(F,we,xe,"\u21C4","\\rightleftarrows",!0);N(F,we,xe,"\u21A0","\\twoheadrightarrow",!0);N(F,we,xe,"\u21A3","\\rightarrowtail",!0);N(F,we,xe,"\u21AC","\\looparrowright",!0);N(F,we,xe,"\u21B7","\\curvearrowright",!0);N(F,we,xe,"\u21BB","\\circlearrowright",!0);N(F,we,xe,"\u21B1","\\Rsh",!0);N(F,we,xe,"\u21CA","\\downdownarrows",!0);N(F,we,xe,"\u21BE","\\upharpoonright",!0);N(F,we,xe,"\u21C2","\\downharpoonright",!0);N(F,we,xe,"\u21DD","\\rightsquigarrow",!0);N(F,we,xe,"\u21DD","\\leadsto");N(F,we,xe,"\u21DB","\\Rrightarrow",!0);N(F,we,xe,"\u21BE","\\restriction");N(F,$,Se,"\u2018","`");N(F,$,Se,"$","\\$");N(lt,$,Se,"$","\\$");N(lt,$,Se,"$","\\textdollar");N(F,$,Se,"%","\\%");N(lt,$,Se,"%","\\%");N(F,$,Se,"_","\\_");N(lt,$,Se,"_","\\_");N(lt,$,Se,"_","\\textunderscore");N(F,$,Se,"\u2220","\\angle",!0);N(F,$,Se,"\u221E","\\infty",!0);N(F,$,Se,"\u2032","\\prime");N(F,$,Se,"\u25B3","\\triangle");N(F,$,Se,"\u0393","\\Gamma",!0);N(F,$,Se,"\u0394","\\Delta",!0);N(F,$,Se,"\u0398","\\Theta",!0);N(F,$,Se,"\u039B","\\Lambda",!0);N(F,$,Se,"\u039E","\\Xi",!0);N(F,$,Se,"\u03A0","\\Pi",!0);N(F,$,Se,"\u03A3","\\Sigma",!0);N(F,$,Se,"\u03A5","\\Upsilon",!0);N(F,$,Se,"\u03A6","\\Phi",!0);N(F,$,Se,"\u03A8","\\Psi",!0);N(F,$,Se,"\u03A9","\\Omega",!0);N(F,$,Se,"A","\u0391");N(F,$,Se,"B","\u0392");N(F,$,Se,"E","\u0395");N(F,$,Se,"Z","\u0396");N(F,$,Se,"H","\u0397");N(F,$,Se,"I","\u0399");N(F,$,Se,"K","\u039A");N(F,$,Se,"M","\u039C");N(F,$,Se,"N","\u039D");N(F,$,Se,"O","\u039F");N(F,$,Se,"P","\u03A1");N(F,$,Se,"T","\u03A4");N(F,$,Se,"X","\u03A7");N(F,$,Se,"\xAC","\\neg",!0);N(F,$,Se,"\xAC","\\lnot");N(F,$,Se,"\u22A4","\\top");N(F,$,Se,"\u22A5","\\bot");N(F,$,Se,"\u2205","\\emptyset");N(F,we,Se,"\u2205","\\varnothing");N(F,$,rn,"\u03B1","\\alpha",!0);N(F,$,rn,"\u03B2","\\beta",!0);N(F,$,rn,"\u03B3","\\gamma",!0);N(F,$,rn,"\u03B4","\\delta",!0);N(F,$,rn,"\u03F5","\\epsilon",!0);N(F,$,rn,"\u03B6","\\zeta",!0);N(F,$,rn,"\u03B7","\\eta",!0);N(F,$,rn,"\u03B8","\\theta",!0);N(F,$,rn,"\u03B9","\\iota",!0);N(F,$,rn,"\u03BA","\\kappa",!0);N(F,$,rn,"\u03BB","\\lambda",!0);N(F,$,rn,"\u03BC","\\mu",!0);N(F,$,rn,"\u03BD","\\nu",!0);N(F,$,rn,"\u03BE","\\xi",!0);N(F,$,rn,"\u03BF","\\omicron",!0);N(F,$,rn,"\u03C0","\\pi",!0);N(F,$,rn,"\u03C1","\\rho",!0);N(F,$,rn,"\u03C3","\\sigma",!0);N(F,$,rn,"\u03C4","\\tau",!0);N(F,$,rn,"\u03C5","\\upsilon",!0);N(F,$,rn,"\u03D5","\\phi",!0);N(F,$,rn,"\u03C7","\\chi",!0);N(F,$,rn,"\u03C8","\\psi",!0);N(F,$,rn,"\u03C9","\\omega",!0);N(F,$,rn,"\u03B5","\\varepsilon",!0);N(F,$,rn,"\u03D1","\\vartheta",!0);N(F,$,rn,"\u03D6","\\varpi",!0);N(F,$,rn,"\u03F1","\\varrho",!0);N(F,$,rn,"\u03C2","\\varsigma",!0);N(F,$,rn,"\u03C6","\\varphi",!0);N(F,$,It,"\u2217","*",!0);N(F,$,It,"+","+");N(F,$,It,"\u2212","-",!0);N(F,$,It,"\u22C5","\\cdot",!0);N(F,$,It,"\u2218","\\circ",!0);N(F,$,It,"\xF7","\\div",!0);N(F,$,It,"\xB1","\\pm",!0);N(F,$,It,"\xD7","\\times",!0);N(F,$,It,"\u2229","\\cap",!0);N(F,$,It,"\u222A","\\cup",!0);N(F,$,It,"\u2216","\\setminus",!0);N(F,$,It,"\u2227","\\land");N(F,$,It,"\u2228","\\lor");N(F,$,It,"\u2227","\\wedge",!0);N(F,$,It,"\u2228","\\vee",!0);N(F,$,Se,"\u221A","\\surd");N(F,$,cs,"\u27E8","\\langle",!0);N(F,$,cs,"\u2223","\\lvert");N(F,$,cs,"\u2225","\\lVert");N(F,$,ya,"?","?");N(F,$,ya,"!","!");N(F,$,ya,"\u27E9","\\rangle",!0);N(F,$,ya,"\u2223","\\rvert");N(F,$,ya,"\u2225","\\rVert");N(F,$,xe,"=","=");N(F,$,xe,":",":");N(F,$,xe,"\u2248","\\approx",!0);N(F,$,xe,"\u2245","\\cong",!0);N(F,$,xe,"\u2265","\\ge");N(F,$,xe,"\u2265","\\geq",!0);N(F,$,xe,"\u2190","\\gets");N(F,$,xe,">","\\gt",!0);N(F,$,xe,"\u2208","\\in",!0);N(F,$,xe,"\uE020","\\@not");N(F,$,xe,"\u2282","\\subset",!0);N(F,$,xe,"\u2283","\\supset",!0);N(F,$,xe,"\u2286","\\subseteq",!0);N(F,$,xe,"\u2287","\\supseteq",!0);N(F,we,xe,"\u2288","\\nsubseteq",!0);N(F,we,xe,"\u2289","\\nsupseteq",!0);N(F,$,xe,"\u22A8","\\models");N(F,$,xe,"\u2190","\\leftarrow",!0);N(F,$,xe,"\u2264","\\le");N(F,$,xe,"\u2264","\\leq",!0);N(F,$,xe,"<","\\lt",!0);N(F,$,xe,"\u2192","\\rightarrow",!0);N(F,$,xe,"\u2192","\\to");N(F,we,xe,"\u2271","\\ngeq",!0);N(F,we,xe,"\u2270","\\nleq",!0);N(F,$,f0,"\xA0","\\ ");N(F,$,f0,"\xA0","\\space");N(F,$,f0,"\xA0","\\nobreakspace");N(lt,$,f0,"\xA0","\\ ");N(lt,$,f0,"\xA0"," ");N(lt,$,f0,"\xA0","\\space");N(lt,$,f0,"\xA0","\\nobreakspace");N(F,$,f0,null,"\\nobreak");N(F,$,f0,null,"\\allowbreak");N(F,$,d2,",",",");N(F,$,d2,";",";");N(F,we,It,"\u22BC","\\barwedge",!0);N(F,we,It,"\u22BB","\\veebar",!0);N(F,$,It,"\u2299","\\odot",!0);N(F,$,It,"\u2295","\\oplus",!0);N(F,$,It,"\u2297","\\otimes",!0);N(F,$,Se,"\u2202","\\partial",!0);N(F,$,It,"\u2298","\\oslash",!0);N(F,we,It,"\u229A","\\circledcirc",!0);N(F,we,It,"\u22A1","\\boxdot",!0);N(F,$,It,"\u25B3","\\bigtriangleup");N(F,$,It,"\u25BD","\\bigtriangledown");N(F,$,It,"\u2020","\\dagger");N(F,$,It,"\u22C4","\\diamond");N(F,$,It,"\u22C6","\\star");N(F,$,It,"\u25C3","\\triangleleft");N(F,$,It,"\u25B9","\\triangleright");N(F,$,cs,"{","\\{");N(lt,$,Se,"{","\\{");N(lt,$,Se,"{","\\textbraceleft");N(F,$,ya,"}","\\}");N(lt,$,Se,"}","\\}");N(lt,$,Se,"}","\\textbraceright");N(F,$,cs,"{","\\lbrace");N(F,$,ya,"}","\\rbrace");N(F,$,cs,"[","\\lbrack",!0);N(lt,$,Se,"[","\\lbrack",!0);N(F,$,ya,"]","\\rbrack",!0);N(lt,$,Se,"]","\\rbrack",!0);N(F,$,cs,"(","\\lparen",!0);N(F,$,ya,")","\\rparen",!0);N(lt,$,Se,"<","\\textless",!0);N(lt,$,Se,">","\\textgreater",!0);N(F,$,cs,"\u230A","\\lfloor",!0);N(F,$,ya,"\u230B","\\rfloor",!0);N(F,$,cs,"\u2308","\\lceil",!0);N(F,$,ya,"\u2309","\\rceil",!0);N(F,$,Se,"\\","\\backslash");N(F,$,Se,"\u2223","|");N(F,$,Se,"\u2223","\\vert");N(lt,$,Se,"|","\\textbar",!0);N(F,$,Se,"\u2225","\\|");N(F,$,Se,"\u2225","\\Vert");N(lt,$,Se,"\u2225","\\textbardbl");N(lt,$,Se,"~","\\textasciitilde");N(lt,$,Se,"\\","\\textbackslash");N(lt,$,Se,"^","\\textasciicircum");N(F,$,xe,"\u2191","\\uparrow",!0);N(F,$,xe,"\u21D1","\\Uparrow",!0);N(F,$,xe,"\u2193","\\downarrow",!0);N(F,$,xe,"\u21D3","\\Downarrow",!0);N(F,$,xe,"\u2195","\\updownarrow",!0);N(F,$,xe,"\u21D5","\\Updownarrow",!0);N(F,$,dr,"\u2210","\\coprod");N(F,$,dr,"\u22C1","\\bigvee");N(F,$,dr,"\u22C0","\\bigwedge");N(F,$,dr,"\u2A04","\\biguplus");N(F,$,dr,"\u22C2","\\bigcap");N(F,$,dr,"\u22C3","\\bigcup");N(F,$,dr,"\u222B","\\int");N(F,$,dr,"\u222B","\\intop");N(F,$,dr,"\u222C","\\iint");N(F,$,dr,"\u222D","\\iiint");N(F,$,dr,"\u220F","\\prod");N(F,$,dr,"\u2211","\\sum");N(F,$,dr,"\u2A02","\\bigotimes");N(F,$,dr,"\u2A01","\\bigoplus");N(F,$,dr,"\u2A00","\\bigodot");N(F,$,dr,"\u222E","\\oint");N(F,$,dr,"\u222F","\\oiint");N(F,$,dr,"\u2230","\\oiiint");N(F,$,dr,"\u2A06","\\bigsqcup");N(F,$,dr,"\u222B","\\smallint");N(lt,$,jd,"\u2026","\\textellipsis");N(F,$,jd,"\u2026","\\mathellipsis");N(lt,$,jd,"\u2026","\\ldots",!0);N(F,$,jd,"\u2026","\\ldots",!0);N(F,$,jd,"\u22EF","\\@cdots",!0);N(F,$,jd,"\u22F1","\\ddots",!0);N(F,$,Se,"\u22EE","\\varvdots");N(F,$,Li,"\u02CA","\\acute");N(F,$,Li,"\u02CB","\\grave");N(F,$,Li,"\xA8","\\ddot");N(F,$,Li,"~","\\tilde");N(F,$,Li,"\u02C9","\\bar");N(F,$,Li,"\u02D8","\\breve");N(F,$,Li,"\u02C7","\\check");N(F,$,Li,"^","\\hat");N(F,$,Li,"\u20D7","\\vec");N(F,$,Li,"\u02D9","\\dot");N(F,$,Li,"\u02DA","\\mathring");N(F,$,rn,"\uE131","\\@imath");N(F,$,rn,"\uE237","\\@jmath");N(F,$,Se,"\u0131","\u0131");N(F,$,Se,"\u0237","\u0237");N(lt,$,Se,"\u0131","\\i",!0);N(lt,$,Se,"\u0237","\\j",!0);N(lt,$,Se,"\xDF","\\ss",!0);N(lt,$,Se,"\xE6","\\ae",!0);N(lt,$,Se,"\u0153","\\oe",!0);N(lt,$,Se,"\xF8","\\o",!0);N(lt,$,Se,"\xC6","\\AE",!0);N(lt,$,Se,"\u0152","\\OE",!0);N(lt,$,Se,"\xD8","\\O",!0);N(lt,$,Li,"\u02CA","\\'");N(lt,$,Li,"\u02CB","\\`");N(lt,$,Li,"\u02C6","\\^");N(lt,$,Li,"\u02DC","\\~");N(lt,$,Li,"\u02C9","\\=");N(lt,$,Li,"\u02D8","\\u");N(lt,$,Li,"\u02D9","\\.");N(lt,$,Li,"\xB8","\\c");N(lt,$,Li,"\u02DA","\\r");N(lt,$,Li,"\u02C7","\\v");N(lt,$,Li,"\xA8",'\\"');N(lt,$,Li,"\u02DD","\\H");N(lt,$,Li,"\u25EF","\\textcircled");var eM={"--":!0,"---":!0,"``":!0,"''":!0};N(lt,$,Se,"\u2013","--",!0);N(lt,$,Se,"\u2013","\\textendash");N(lt,$,Se,"\u2014","---",!0);N(lt,$,Se,"\u2014","\\textemdash");N(lt,$,Se,"\u2018","`",!0);N(lt,$,Se,"\u2018","\\textquoteleft");N(lt,$,Se,"\u2019","'",!0);N(lt,$,Se,"\u2019","\\textquoteright");N(lt,$,Se,"\u201C","``",!0);N(lt,$,Se,"\u201C","\\textquotedblleft");N(lt,$,Se,"\u201D","''",!0);N(lt,$,Se,"\u201D","\\textquotedblright");N(F,$,Se,"\xB0","\\degree",!0);N(lt,$,Se,"\xB0","\\degree");N(lt,$,Se,"\xB0","\\textdegree",!0);N(F,$,Se,"\xA3","\\pounds");N(F,$,Se,"\xA3","\\mathsterling",!0);N(lt,$,Se,"\xA3","\\pounds");N(lt,$,Se,"\xA3","\\textsterling",!0);N(F,we,Se,"\u2720","\\maltese");N(lt,we,Se,"\u2720","\\maltese");var sB='0123456789/@."';for(var bv=0;bv<sB.length;bv++){var oB=sB.charAt(bv);N(F,$,Se,oB,oB)}var cB='0123456789!@*()-=+";:?/.,';for(var vv=0;vv<cB.length;vv++){var AB=cB.charAt(vv);N(lt,$,Se,AB,AB)}var Vg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var wv=0;wv<Vg.length;wv++){var A1=Vg.charAt(wv);N(F,$,rn,A1,A1),N(lt,$,Se,A1,A1)}N(F,we,Se,"C","\u2102");N(lt,we,Se,"C","\u2102");N(F,we,Se,"H","\u210D");N(lt,we,Se,"H","\u210D");N(F,we,Se,"N","\u2115");N(lt,we,Se,"N","\u2115");N(F,we,Se,"P","\u2119");N(lt,we,Se,"P","\u2119");N(F,we,Se,"Q","\u211A");N(lt,we,Se,"Q","\u211A");N(F,we,Se,"R","\u211D");N(lt,we,Se,"R","\u211D");N(F,we,Se,"Z","\u2124");N(lt,we,Se,"Z","\u2124");N(F,$,rn,"h","\u210E");N(lt,$,rn,"h","\u210E");var gn="";for(var Ba=0;Ba<Vg.length;Ba++){var sr=Vg.charAt(Ba);gn=String.fromCharCode(55349,56320+Ba),N(F,$,rn,sr,gn),N(lt,$,Se,sr,gn),gn=String.fromCharCode(55349,56372+Ba),N(F,$,rn,sr,gn),N(lt,$,Se,sr,gn),gn=String.fromCharCode(55349,56424+Ba),N(F,$,rn,sr,gn),N(lt,$,Se,sr,gn),gn=String.fromCharCode(55349,56580+Ba),N(F,$,rn,sr,gn),N(lt,$,Se,sr,gn),gn=String.fromCharCode(55349,56736+Ba),N(F,$,rn,sr,gn),N(lt,$,Se,sr,gn),gn=String.fromCharCode(55349,56788+Ba),N(F,$,rn,sr,gn),N(lt,$,Se,sr,gn),gn=String.fromCharCode(55349,56840+Ba),N(F,$,rn,sr,gn),N(lt,$,Se,sr,gn),gn=String.fromCharCode(55349,56944+Ba),N(F,$,rn,sr,gn),N(lt,$,Se,sr,gn),Ba<26&&(gn=String.fromCharCode(55349,56632+Ba),N(F,$,rn,sr,gn),N(lt,$,Se,sr,gn),gn=String.fromCharCode(55349,56476+Ba),N(F,$,rn,sr,gn),N(lt,$,Se,sr,gn))}gn=String.fromCharCode(55349,56668);N(F,$,rn,"k",gn);N(lt,$,Se,"k",gn);for(var kA=0;kA<10;kA++){var T0=kA.toString();gn=String.fromCharCode(55349,57294+kA),N(F,$,rn,T0,gn),N(lt,$,Se,T0,gn),gn=String.fromCharCode(55349,57314+kA),N(F,$,rn,T0,gn),N(lt,$,Se,T0,gn),gn=String.fromCharCode(55349,57324+kA),N(F,$,rn,T0,gn),N(lt,$,Se,T0,gn),gn=String.fromCharCode(55349,57334+kA),N(F,$,rn,T0,gn),N(lt,$,Se,T0,gn)}var y4="\xD0\xDE\xFE";for(var Ev=0;Ev<y4.length;Ev++){var l1=y4.charAt(Ev);N(F,$,rn,l1,l1),N(lt,$,Se,l1,l1)}var u1=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],lB=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],uY=function(t,n){var i=t.charCodeAt(0),r=t.charCodeAt(1),a=(i-55296)*1024+(r-56320)+65536,s=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[u1[o][2],u1[o][s]]}else if(120782<=a&&a<=120831){var c=Math.floor((a-120782)/10);return[lB[c][2],lB[c][s]]}else{if(a===120485||a===120486)return[u1[0][2],u1[0][s]];if(120486<a&&a<120782)return["",""];throw new ft("Unsupported character: "+t)}},p2=function(t,n,i){return Ri[i][t]&&Ri[i][t].replace&&(t=Ri[i][t].replace),{value:t,metrics:Ox(t,n,i)}},lo=function(t,n,i,r,a){var s=p2(t,n,i),o=s.metrics;t=s.value;var c;if(o){var A=o.italic;(i==="text"||r&&r.font==="mathit")&&(A=0),c=new Qs(t,o.height,o.depth,A,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+i+"'")),c=new Qs(t,0,0,0,0,0,a);if(r){c.maxFontSize=r.sizeMultiplier,r.style.isTight()&&c.classes.push("mtight");var l=r.getColor();l&&(c.style.color=l)}return c},dY=function(t,n,i,r){return r===void 0&&(r=[]),i.font==="boldsymbol"&&p2(t,"Main-Bold",n).metrics?lo(t,"Main-Bold",n,i,r.concat(["mathbf"])):t==="\\"||Ri[n][t].font==="main"?lo(t,"Main-Regular",n,i,r):lo(t,"AMS-Regular",n,i,r.concat(["amsrm"]))},pY=function(t,n,i,r,a){return a!=="textord"&&p2(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},fY=function(t,n,i){var r=t.mode,a=t.text,s=["mord"],o=r==="math"||r==="text"&&n.font,c=o?n.font:n.fontFamily;if(a.charCodeAt(0)===55349){var[A,l]=uY(a,r);return lo(a,A,r,n,s.concat(l))}else if(c){var u,d;if(c==="boldsymbol"){var p=pY(a,r,n,s,i);u=p.fontName,d=[p.fontClass]}else o?(u=iM[c].fontName,d=[c]):(u=d1(c,n.fontWeight,n.fontShape),d=[c,n.fontWeight,n.fontShape]);if(p2(a,u,r).metrics)return lo(a,u,r,n,s.concat(d));if(eM.hasOwnProperty(a)&&u.slice(0,10)==="Typewriter"){for(var h=[],g=0;g<a.length;g++)h.push(lo(a[g],u,r,n,s.concat(d)));return nM(h)}}if(i==="mathord")return lo(a,"Math-Italic",r,n,s.concat(["mathnormal"]));if(i==="textord"){var b=Ri[r][a]&&Ri[r][a].font;if(b==="ams"){var y=d1("amsrm",n.fontWeight,n.fontShape);return lo(a,y,r,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(b==="main"||!b){var v=d1("textrm",n.fontWeight,n.fontShape);return lo(a,v,r,n,s.concat(n.fontWeight,n.fontShape))}else{var _=d1(b,n.fontWeight,n.fontShape);return lo(a,_,r,n,s.concat(_,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},hY=(e,t)=>{if(dA(e.classes)!==dA(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var i in e.style)if(e.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;for(var r in t.style)if(t.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;return!0},mY=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];n instanceof Qs&&i instanceof Qs&&hY(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,e.splice(t+1,1),t--)}return e},Qx=function(t){for(var n=0,i=0,r=0,a=0;a<t.children.length;a++){var s=t.children[a];s.height>n&&(n=s.height),s.depth>i&&(i=s.depth),s.maxFontSize>r&&(r=s.maxFontSize)}t.height=n,t.depth=i,t.maxFontSize=r},Sa=function(t,n,i,r){var a=new tm(t,n,i,r);return Qx(a),a},tM=(e,t,n,i)=>new tm(e,t,n,i),yY=function(t,n,i){var r=Sa([t],[],n);return r.height=Math.max(i||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),r.style.borderBottomWidth=wt(r.height),r.maxFontSize=1,r},gY=function(t,n,i,r){var a=new Hx(t,n,i,r);return Qx(a),a},nM=function(t){var n=new em(t);return Qx(n),n},bY=function(t,n){return t instanceof em?Sa([],[t],n):t},vY=function(t){if(t.positionType==="individualShift"){for(var n=t.children,i=[n[0]],r=-n[0].shift-n[0].elem.depth,a=r,s=1;s<n.length;s++){var o=-n[s].shift-a-n[s].elem.depth,c=o-(n[s-1].elem.height+n[s-1].elem.depth);a=a+o,i.push({type:"kern",size:c}),i.push(n[s])}return{children:i,depth:r}}var A;if(t.positionType==="top"){for(var l=t.positionData,u=0;u<t.children.length;u++){var d=t.children[u];l-=d.type==="kern"?d.size:d.elem.height+d.elem.depth}A=l}else if(t.positionType==="bottom")A=-t.positionData;else{var p=t.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")A=-p.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")A=-p.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:A}},wY=function(t,n){for(var{children:i,depth:r}=vY(t),a=0,s=0;s<i.length;s++){var o=i[s];if(o.type==="elem"){var c=o.elem;a=Math.max(a,c.maxFontSize,c.height)}}a+=2;var A=Sa(["pstrut"],[]);A.style.height=wt(a);for(var l=[],u=r,d=r,p=r,h=0;h<i.length;h++){var g=i[h];if(g.type==="kern")p+=g.size;else{var b=g.elem,y=g.wrapperClasses||[],v=g.wrapperStyle||{},_=Sa(y,[A,b],void 0,v);_.style.top=wt(-a-p-b.depth),g.marginLeft&&(_.style.marginLeft=g.marginLeft),g.marginRight&&(_.style.marginRight=g.marginRight),l.push(_),p+=b.height+b.depth}u=Math.min(u,p),d=Math.max(d,p)}var w=Sa(["vlist"],l);w.style.height=wt(d);var E;if(u<0){var B=Sa([],[]),R=Sa(["vlist"],[B]);R.style.height=wt(-u);var G=Sa(["vlist-s"],[new Qs("\u200B")]);E=[Sa(["vlist-r"],[w,G]),Sa(["vlist-r"],[R])]}else E=[Sa(["vlist-r"],[w])];var C=Sa(["vlist-t"],E);return E.length===2&&C.classes.push("vlist-t2"),C.height=d,C.depth=-u,C},EY=(e,t)=>{var n=Sa(["mspace"],[],t),i=Hi(e,t);return n.style.marginRight=wt(i),n},d1=function(t,n,i){var r="";switch(t){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=t}var a;return n==="textbf"&&i==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",r+"-"+a},iM={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},rM={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},_Y=function(t,n){var[i,r,a]=rM[t],s=new pA(i),o=new e0([s],{width:wt(r),height:wt(a),style:"width:"+wt(r),viewBox:"0 0 "+1e3*r+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),c=tM(["overlay"],[o],n);return c.height=a,c.style.height=wt(a),c.style.width=wt(r),c},Oe={fontMap:iM,makeSymbol:lo,mathsym:dY,makeSpan:Sa,makeSvgSpan:tM,makeLineSpan:yY,makeAnchor:gY,makeFragment:nM,wrapFragment:bY,makeVList:wY,makeOrd:fY,makeGlue:EY,staticSvg:_Y,svgData:rM,tryCombineChars:mY},Ui={number:3,unit:"mu"},OA={number:4,unit:"mu"},Nc={number:5,unit:"mu"},xY={mord:{mop:Ui,mbin:OA,mrel:Nc,minner:Ui},mop:{mord:Ui,mop:Ui,mrel:Nc,minner:Ui},mbin:{mord:OA,mop:OA,mopen:OA,minner:OA},mrel:{mord:Nc,mop:Nc,mopen:Nc,minner:Nc},mopen:{},mclose:{mop:Ui,mbin:OA,mrel:Nc,minner:Ui},mpunct:{mord:Ui,mop:Ui,mrel:Nc,mopen:Ui,mclose:Ui,mpunct:Ui,minner:Ui},minner:{mord:Ui,mop:Ui,mbin:OA,mrel:Nc,mopen:Ui,mpunct:Ui,minner:Ui}},BY={mord:{mop:Ui},mop:{mord:Ui,mop:Ui},mbin:{},mrel:{},mopen:{},mclose:{mop:Ui},mpunct:{},minner:{mop:Ui}},aM={},Kg={},Wg={};function Ct(e){for(var{type:t,names:n,props:i,handler:r,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:r},c=0;c<n.length;++c)aM[n[c]]=o;t&&(a&&(Kg[t]=a),s&&(Wg[t]=s))}function kl(e){var{type:t,htmlBuilder:n,mathmlBuilder:i}=e;Ct({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:i})}var $g=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},ir=function(t){return t.type==="ordgroup"?t.body:[t]},t0=Oe.makeSpan,RY=["leftmost","mbin","mopen","mrel","mop","mpunct"],CY=["rightmost","mrel","mclose","mpunct"],NY={display:Zt.DISPLAY,text:Zt.TEXT,script:Zt.SCRIPT,scriptscript:Zt.SCRIPTSCRIPT},SY={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},wr=function(t,n,i,r){r===void 0&&(r=[null,null]);for(var a=[],s=0;s<t.length;s++){var o=Wn(t[s],n);if(o instanceof em){var c=o.children;a.push(...c)}else a.push(o)}if(Oe.tryCombineChars(a),!i)return a;var A=n;if(t.length===1){var l=t[0];l.type==="sizing"?A=n.havingSize(l.size):l.type==="styling"&&(A=n.havingStyle(NY[l.style]))}var u=t0([r[0]||"leftmost"],[],n),d=t0([r[1]||"rightmost"],[],n),p=i==="root";return uB(a,(h,g)=>{var b=g.classes[0],y=h.classes[0];b==="mbin"&&dn.contains(CY,y)?g.classes[0]="mord":y==="mbin"&&dn.contains(RY,b)&&(h.classes[0]="mord")},{node:u},d,p),uB(a,(h,g)=>{var b=g4(g),y=g4(h),v=b&&y?h.hasClass("mtight")?BY[b][y]:xY[b][y]:null;if(v)return Oe.makeGlue(v,A)},{node:u},d,p),a},uB=function e(t,n,i,r,a){r&&t.push(r);for(var s=0;s<t.length;s++){var o=t[s],c=sM(o);if(c){e(c.children,n,i,null,a);continue}var A=!o.hasClass("mspace");if(A){var l=n(o,i.node);l&&(i.insertAfter?i.insertAfter(l):(t.unshift(l),s++))}A?i.node=o:a&&o.hasClass("newline")&&(i.node=t0(["leftmost"])),i.insertAfter=(u=>d=>{t.splice(u+1,0,d),s++})(s)}r&&t.pop()},sM=function(t){return t instanceof em||t instanceof Hx||t instanceof tm&&t.hasClass("enclosing")?t:null},GY=function e(t,n){var i=sM(t);if(i){var r=i.children;if(r.length){if(n==="right")return e(r[r.length-1],"right");if(n==="left")return e(r[0],"left")}}return t},g4=function(t,n){return t?(n&&(t=GY(t,n)),SY[t.classes[0]]||null):null},Jf=function(t,n){var i=["nulldelimiter"].concat(t.baseSizingClasses());return t0(n.concat(i))},Wn=function(t,n,i){if(!t)return t0();if(Kg[t.type]){var r=Kg[t.type](t,n);if(i&&n.size!==i.size){r=t0(n.sizingClasses(i),[r],n);var a=n.sizeMultiplier/i.sizeMultiplier;r.height*=a,r.depth*=a}return r}else throw new ft("Got group of unknown type: '"+t.type+"'")};function p1(e,t){var n=t0(["base"],e,t),i=t0(["strut"]);return i.style.height=wt(n.height+n.depth),n.depth&&(i.style.verticalAlign=wt(-n.depth)),n.children.unshift(i),n}function b4(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var i=wr(e,t,"root"),r;i.length===2&&i[1].hasClass("tag")&&(r=i.pop());for(var a=[],s=[],o=0;o<i.length;o++)if(s.push(i[o]),i[o].hasClass("mbin")||i[o].hasClass("mrel")||i[o].hasClass("allowbreak")){for(var c=!1;o<i.length-1&&i[o+1].hasClass("mspace")&&!i[o+1].hasClass("newline");)o++,s.push(i[o]),i[o].hasClass("nobreak")&&(c=!0);c||(a.push(p1(s,t)),s=[])}else i[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(p1(s,t)),s=[]),a.push(i[o]));s.length>0&&a.push(p1(s,t));var A;n?(A=p1(wr(n,t,!0)),A.classes=["tag"],a.push(A)):r&&a.push(r);var l=t0(["katex-html"],a);if(l.setAttribute("aria-hidden","true"),A){var u=A.children[0];u.style.height=wt(l.height+l.depth),l.depth&&(u.style.verticalAlign=wt(-l.depth))}return l}function oM(e){return new em(e)}class Fs{constructor(t,n,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=i||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=dA(this.classes));for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=dn.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+dn.escape(dA(this.classes))+'"'),t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Cf{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return dn.escape(this.toText())}toText(){return this.text}}class MY{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="\u200A":t>=.1666&&t<=.1667?this.character="\u2009":t>=.2222&&t<=.2223?this.character="\u2005":t>=.2777&&t<=.2778?this.character="\u2005\u200A":t>=-.05556&&t<=-.05555?this.character="\u200A\u2063":t>=-.1667&&t<=-.1666?this.character="\u2009\u2063":t>=-.2223&&t<=-.2222?this.character="\u205F\u2063":t>=-.2778&&t<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",wt(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+wt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var dt={MathNode:Fs,TextNode:Cf,SpaceNode:MY,newDocumentFragment:oM},zs=function(t,n,i){return Ri[n][t]&&Ri[n][t].replace&&t.charCodeAt(0)!==55349&&!(eM.hasOwnProperty(t)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(t=Ri[n][t].replace),new dt.TextNode(t)},zx=function(t){return t.length===1?t[0]:new dt.MathNode("mrow",t)},Vx=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var i=n.font;if(!i||i==="mathnormal")return null;var r=t.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var a=t.text;if(dn.contains(["\\imath","\\jmath"],a))return null;Ri[r][a]&&Ri[r][a].replace&&(a=Ri[r][a].replace);var s=Oe.fontMap[i].fontName;return Ox(a,s,r)?Oe.fontMap[i].variant:null},Da=function(t,n,i){if(t.length===1){var r=vi(t[0],n);return i&&r instanceof Fs&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var a=[],s,o=0;o<t.length;o++){var c=vi(t[o],n);if(c instanceof Fs&&s instanceof Fs){if(c.type==="mtext"&&s.type==="mtext"&&c.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...c.children);continue}else if(c.type==="mn"&&s.type==="mn"){s.children.push(...c.children);continue}else if(c.type==="mi"&&c.children.length===1&&s.type==="mn"){var A=c.children[0];if(A instanceof Cf&&A.text==="."){s.children.push(...c.children);continue}}else if(s.type==="mi"&&s.children.length===1){var l=s.children[0];if(l instanceof Cf&&l.text==="\u0338"&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var u=c.children[0];u instanceof Cf&&u.text.length>0&&(u.text=u.text.slice(0,1)+"\u0338"+u.text.slice(1),a.pop())}}}a.push(c),s=c}return a},fA=function(t,n,i){return zx(Da(t,n,i))},vi=function(t,n){if(!t)return new dt.MathNode("mrow");if(Wg[t.type]){var i=Wg[t.type](t,n);return i}else throw new ft("Got group of unknown type: '"+t.type+"'")};function dB(e,t,n,i,r){var a=Da(e,n),s;a.length===1&&a[0]instanceof Fs&&dn.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new dt.MathNode("mrow",a);var o=new dt.MathNode("annotation",[new dt.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var c=new dt.MathNode("semantics",[s,o]),A=new dt.MathNode("math",[c]);A.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&A.setAttribute("display","block");var l=r?"katex":"katex-mathml";return Oe.makeSpan([l],[A])}var cM=function(t){return new Qc({style:t.displayMode?Zt.DISPLAY:Zt.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},AM=function(t,n){if(n.displayMode){var i=["katex-display"];n.leqno&&i.push("leqno"),n.fleqn&&i.push("fleqn"),t=Oe.makeSpan(i,[t])}return t},TY=function(t,n,i){var r=cM(i),a;if(i.output==="mathml")return dB(t,n,r,i.displayMode,!0);if(i.output==="html"){var s=b4(t,r);a=Oe.makeSpan(["katex"],[s])}else{var o=dB(t,n,r,i.displayMode,!1),c=b4(t,r);a=Oe.makeSpan(["katex"],[o,c])}return AM(a,i)},FY=function(t,n,i){var r=cM(i),a=b4(t,r),s=Oe.makeSpan(["katex"],[a]);return AM(s,i)},IY={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},LY=function(t){var n=new dt.MathNode("mo",[new dt.TextNode(IY[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},PY={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},UY=function(t){return t.type==="ordgroup"?t.body.length:1},DY=function(t,n){function i(){var o=4e5,c=t.label.slice(1);if(dn.contains(["widehat","widecheck","widetilde","utilde"],c)){var A=t,l=UY(A.base),u,d,p;if(l>5)c==="widehat"||c==="widecheck"?(u=420,o=2364,p=.42,d=c+"4"):(u=312,o=2340,p=.34,d="tilde4");else{var h=[1,1,2,2,3,3][l];c==="widehat"||c==="widecheck"?(o=[0,1062,2364,2364,2364][h],u=[0,239,300,360,420][h],p=[0,.24,.3,.3,.36,.42][h],d=c+h):(o=[0,600,1033,2339,2340][h],u=[0,260,286,306,312][h],p=[0,.26,.286,.3,.306,.34][h],d="tilde"+h)}var g=new pA(d),b=new e0([g],{width:"100%",height:wt(p),viewBox:"0 0 "+o+" "+u,preserveAspectRatio:"none"});return{span:Oe.makeSvgSpan([],[b],n),minWidth:0,height:p}}else{var y=[],v=PY[c],[_,w,E]=v,B=E/1e3,R=_.length,G,C;if(R===1){var O=v[3];G=["hide-tail"],C=[O]}else if(R===2)G=["halfarrow-left","halfarrow-right"],C=["xMinYMin","xMaxYMin"];else if(R===3)G=["brace-left","brace-center","brace-right"],C=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+R+" children.");for(var I=0;I<R;I++){var D=new pA(_[I]),k=new e0([D],{width:"400em",height:wt(B),viewBox:"0 0 "+o+" "+E,preserveAspectRatio:C[I]+" slice"}),L=Oe.makeSvgSpan([G[I]],[k],n);if(R===1)return{span:L,minWidth:w,height:B};L.style.height=wt(B),y.push(L)}return{span:Oe.makeSpan(["stretchy"],y,n),minWidth:w,height:B}}}var{span:r,minWidth:a,height:s}=i();return r.height=s,r.style.height=wt(s),a>0&&(r.style.minWidth=wt(a)),r},kY=function(t,n,i,r,a){var s,o=t.height+t.depth+i+r;if(/fbox|color|angl/.test(n)){if(s=Oe.makeSpan(["stretchy",n],[],a),n==="fbox"){var c=a.color&&a.getColor();c&&(s.style.borderColor=c)}}else{var A=[];/^[bx]cancel$/.test(n)&&A.push(new m4({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&A.push(new m4({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var l=new e0(A,{width:"100%",height:wt(o)});s=Oe.makeSvgSpan([],[l],a)}return s.height=o,s.style.height=wt(o),s},n0={encloseSpan:kY,mathMLnode:LY,svgSpan:DY};function Cn(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Kx(e){var t=f2(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function f2(e){return e&&(e.type==="atom"||lY.hasOwnProperty(e.type))?e:null}var Wx=(e,t)=>{var n,i,r;e&&e.type==="supsub"?(i=Cn(e.base,"accent"),n=i.base,e.base=n,r=cY(Wn(e,t)),e.base=i):(i=Cn(e,"accent"),n=i.base);var a=Wn(n,t.havingCrampedStyle()),s=i.isShifty&&dn.isCharacterBox(n),o=0;if(s){var c=dn.getBaseElem(n),A=Wn(c,t.havingCrampedStyle());o=aB(A).skew}var l=i.label==="\\c",u=l?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),d;if(i.isStretchy)d=n0.svgSpan(i,t),d=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:d,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+wt(2*o)+")",marginLeft:wt(2*o)}:void 0}]},t);else{var p,h;i.label==="\\vec"?(p=Oe.staticSvg("vec",t),h=Oe.svgData.vec[1]):(p=Oe.makeOrd({mode:i.mode,text:i.label},t,"textord"),p=aB(p),p.italic=0,h=p.width,l&&(u+=p.depth)),d=Oe.makeSpan(["accent-body"],[p]);var g=i.label==="\\textcircled";g&&(d.classes.push("accent-full"),u=a.height);var b=o;g||(b-=h/2),d.style.left=wt(b),i.label==="\\textcircled"&&(d.style.top=".2em"),d=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-u},{type:"elem",elem:d}]},t)}var y=Oe.makeSpan(["mord","accent"],[d],t);return r?(r.children[0]=y,r.height=Math.max(y.height,r.height),r.classes[0]="mord",r):y},lM=(e,t)=>{var n=e.isStretchy?n0.mathMLnode(e.label):new dt.MathNode("mo",[zs(e.label,e.mode)]),i=new dt.MathNode("mover",[vi(e.base,t),n]);return i.setAttribute("accent","true"),i},OY=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Ct({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=$g(t[0]),i=!OY.test(e.funcName),r=!i||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:i,isShifty:r,base:n}},htmlBuilder:Wx,mathmlBuilder:lM});Ct({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],i=e.parser.mode;return i==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Wx,mathmlBuilder:lM});Ct({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0];return{type:"accentUnder",mode:n.mode,label:i,base:r}},htmlBuilder:(e,t)=>{var n=Wn(e.base,t),i=n0.svgSpan(e,t),r=e.label==="\\utilde"?.12:0,a=Oe.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:n}]},t);return Oe.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(e,t)=>{var n=n0.mathMLnode(e.label),i=new dt.MathNode("munder",[vi(e.base,t),n]);return i.setAttribute("accentunder","true"),i}});var f1=e=>{var t=new dt.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Ct({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:i,funcName:r}=e;return{type:"xArrow",mode:i.mode,label:r,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,i=t.havingStyle(n.sup()),r=Oe.wrapFragment(Wn(e.body,i,t),t),a=e.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(a+"-arrow-pad");var s;e.below&&(i=t.havingStyle(n.sub()),s=Oe.wrapFragment(Wn(e.below,i,t),t),s.classes.push(a+"-arrow-pad"));var o=n0.svgSpan(e,t),c=-t.fontMetrics().axisHeight+.5*o.height,A=-t.fontMetrics().axisHeight-.5*o.height-.111;(r.depth>.25||e.label==="\\xleftequilibrium")&&(A-=r.depth);var l;if(s){var u=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111;l=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:A},{type:"elem",elem:o,shift:c},{type:"elem",elem:s,shift:u}]},t)}else l=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:A},{type:"elem",elem:o,shift:c}]},t);return l.children[0].children[0].children[1].classes.push("svg-align"),Oe.makeSpan(["mrel","x-arrow"],[l],t)},mathmlBuilder(e,t){var n=n0.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(e.body){var r=f1(vi(e.body,t));if(e.below){var a=f1(vi(e.below,t));i=new dt.MathNode("munderover",[n,a,r])}else i=new dt.MathNode("mover",[n,r])}else if(e.below){var s=f1(vi(e.below,t));i=new dt.MathNode("munder",[n,s])}else i=f1(),i=new dt.MathNode("mover",[n,i]);return i}});var HY=Oe.makeSpan;function uM(e,t){var n=wr(e.body,t,!0);return HY([e.mclass],n,t)}function dM(e,t){var n,i=Da(e.body,t);return e.mclass==="minner"?n=new dt.MathNode("mpadded",i):e.mclass==="mord"?e.isCharacterBox?(n=i[0],n.type="mi"):n=new dt.MathNode("mi",i):(e.isCharacterBox?(n=i[0],n.type="mo"):n=new dt.MathNode("mo",i),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Ct({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.slice(5),body:ir(r),isCharacterBox:dn.isCharacterBox(r)}},htmlBuilder:uM,mathmlBuilder:dM});var h2=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Ct({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:h2(t[0]),body:ir(t[1]),isCharacterBox:dn.isCharacterBox(t[1])}}});Ct({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:i}=e,r=t[1],a=t[0],s;i!=="\\stackrel"?s=h2(r):s="mrel";var o={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:ir(r)},c={type:"supsub",mode:a.mode,base:o,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:s,body:[c],isCharacterBox:dn.isCharacterBox(c)}},htmlBuilder:uM,mathmlBuilder:dM});Ct({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:h2(t[0]),body:ir(t[0])}},htmlBuilder(e,t){var n=wr(e.body,t,!0),i=Oe.makeSpan([e.mclass],n,t);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(e,t){var n=Da(e.body,t),i=new dt.MathNode("mstyle",n);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var QY={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},pB=()=>({type:"styling",body:[],mode:"math",style:"display"}),fB=e=>e.type==="textord"&&e.text==="@",zY=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function VY(e,t,n){var i=QY[e];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var r=n.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},s=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[t[1]],[]),c={type:"ordgroup",mode:"math",body:[r,s,o]};return n.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var A={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[A],[])}default:return{type:"textord",text:" ",mode:"math"}}}function KY(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ft("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var i=[],r=[i],a=0;a<t.length;a++){for(var s=t[a],o=pB(),c=0;c<s.length;c++)if(!fB(s[c]))o.body.push(s[c]);else{i.push(o),c+=1;var A=Kx(s[c]).text,l=new Array(2);if(l[0]={type:"ordgroup",mode:"math",body:[]},l[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(A)>-1))if("<>AV".indexOf(A)>-1)for(var u=0;u<2;u++){for(var d=!0,p=c+1;p<s.length;p++){if(zY(s[p],A)){d=!1,c=p;break}if(fB(s[p]))throw new ft("Missing a "+A+" character to complete a CD arrow.",s[p]);l[u].body.push(s[p])}if(d)throw new ft("Missing a "+A+" character to complete a CD arrow.",s[c])}else throw new ft('Expected one of "<>AV=|." after @',s[c]);var h=VY(A,l,e),g={type:"styling",body:[h],mode:"math",style:"display"};i.push(g),o=pB()}a%2===0?i.push(o):i.shift(),i=[],r.push(i)}e.gullet.endGroup(),e.gullet.endGroup();var b=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}Ct({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e;return{type:"cdlabel",mode:n.mode,side:i.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),i=Oe.wrapFragment(Wn(e.label,n,t),t);return i.classes.push("cd-label-"+e.side),i.style.bottom=wt(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(e,t){var n=new dt.MathNode("mrow",[vi(e.label,t)]);return n=new dt.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new dt.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Ct({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=Oe.wrapFragment(Wn(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new dt.MathNode("mrow",[vi(e.fragment,t)])}});Ct({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,i=Cn(t[0],"ordgroup"),r=i.body,a="",s=0;s<r.length;s++){var o=Cn(r[s],"textord");a+=o.text}var c=parseInt(a),A;if(isNaN(c))throw new ft("\\@char has non-numeric argument "+a);if(c<0||c>=1114111)throw new ft("\\@char with invalid code point "+a);return c<=65535?A=String.fromCharCode(c):(c-=65536,A=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:n.mode,text:A}}});var pM=(e,t)=>{var n=wr(e.body,t.withColor(e.color),!1);return Oe.makeFragment(n)},fM=(e,t)=>{var n=Da(e.body,t.withColor(e.color)),i=new dt.MathNode("mstyle",n);return i.setAttribute("mathcolor",e.color),i};Ct({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,i=Cn(t[0],"color-token").color,r=t[1];return{type:"color",mode:n.mode,color:i,body:ir(r)}},htmlBuilder:pM,mathmlBuilder:fM});Ct({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:i}=e,r=Cn(t[0],"color-token").color;n.gullet.macros.set("\\current@color",r);var a=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:r,body:a}},htmlBuilder:pM,mathmlBuilder:fM});Ct({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:i}=e,r=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:r&&Cn(r,"size").value}},htmlBuilder(e,t){var n=Oe.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=wt(Hi(e.size,t)))),n},mathmlBuilder(e,t){var n=new dt.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",wt(Hi(e.size,t)))),n}});var v4={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},hM=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ft("Expected a control sequence",e);return t},WY=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},mM=(e,t,n,i)=>{var r=e.gullet.macros.get(n.text);r==null&&(n.noexpand=!0,r={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,r,i)};Ct({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var i=t.fetch();if(v4[i.text])return(n==="\\global"||n==="\\\\globallong")&&(i.text=v4[i.text]),Cn(t.parseFunction(),"internal");throw new ft("Invalid token after macro prefix",i)}});Ct({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=t.gullet.popToken(),r=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new ft("Expected a control sequence",i);for(var a=0,s,o=[[]];t.gullet.future().text!=="{";)if(i=t.gullet.popToken(),i.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),o[a].push("{");break}if(i=t.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new ft('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new ft('Argument number "'+i.text+'" out of order');a++,o.push([])}else{if(i.text==="EOF")throw new ft("Expected a macro definition");o[a].push(i.text)}var{tokens:c}=t.gullet.consumeArg();return s&&c.unshift(s),(n==="\\edef"||n==="\\xdef")&&(c=t.gullet.expandTokens(c),c.reverse()),t.gullet.macros.set(r,{tokens:c,numArgs:a,delimiters:o},n===v4[n]),{type:"internal",mode:t.mode}}});Ct({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=hM(t.gullet.popToken());t.gullet.consumeSpaces();var r=WY(t);return mM(t,i,r,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});Ct({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=hM(t.gullet.popToken()),r=t.gullet.popToken(),a=t.gullet.popToken();return mM(t,i,a,n==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(r),{type:"internal",mode:t.mode}}});var af=function(t,n,i){var r=Ri.math[t]&&Ri.math[t].replace,a=Ox(r||t,n,i);if(!a)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return a},$x=function(t,n,i,r){var a=i.havingBaseStyle(n),s=Oe.makeSpan(r.concat(a.sizingClasses(i)),[t],i),o=a.sizeMultiplier/i.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},yM=function(t,n,i){var r=n.havingBaseStyle(i),a=(1-n.sizeMultiplier/r.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=wt(a),t.height-=a,t.depth+=a},$Y=function(t,n,i,r,a,s){var o=Oe.makeSymbol(t,"Main-Regular",a,r),c=$x(o,n,r,s);return i&&yM(c,r,n),c},jY=function(t,n,i,r){return Oe.makeSymbol(t,"Size"+n+"-Regular",i,r)},gM=function(t,n,i,r,a,s){var o=jY(t,n,a,r),c=$x(Oe.makeSpan(["delimsizing","size"+n],[o],r),Zt.TEXT,r,s);return i&&yM(c,r,Zt.TEXT),c},_v=function(t,n,i){var r;n==="Size1-Regular"?r="delim-size1":r="delim-size4";var a=Oe.makeSpan(["delimsizinginner",r],[Oe.makeSpan([],[Oe.makeSymbol(t,n,i)])]);return{type:"elem",elem:a}},xv=function(t,n,i){var r=Yo["Size4-Regular"][t.charCodeAt(0)]?Yo["Size4-Regular"][t.charCodeAt(0)][4]:Yo["Size1-Regular"][t.charCodeAt(0)][4],a=new pA("inner",eY(t,Math.round(1e3*n))),s=new e0([a],{width:wt(r),height:wt(n),style:"width:"+wt(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=Oe.makeSvgSpan([],[s],i);return o.height=n,o.style.height=wt(n),o.style.width=wt(r),{type:"elem",elem:o}},w4=.008,h1={type:"kern",size:-1*w4},YY=["|","\\lvert","\\rvert","\\vert"],qY=["\\|","\\lVert","\\rVert","\\Vert"],bM=function(t,n,i,r,a,s){var o,c,A,l,u="",d=0;o=A=l=t,c=null;var p="Size1-Regular";t==="\\uparrow"?A=l="\u23D0":t==="\\Uparrow"?A=l="\u2016":t==="\\downarrow"?o=A="\u23D0":t==="\\Downarrow"?o=A="\u2016":t==="\\updownarrow"?(o="\\uparrow",A="\u23D0",l="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",A="\u2016",l="\\Downarrow"):dn.contains(YY,t)?(A="\u2223",u="vert",d=333):dn.contains(qY,t)?(A="\u2225",u="doublevert",d=556):t==="["||t==="\\lbrack"?(o="\u23A1",A="\u23A2",l="\u23A3",p="Size4-Regular",u="lbrack",d=667):t==="]"||t==="\\rbrack"?(o="\u23A4",A="\u23A5",l="\u23A6",p="Size4-Regular",u="rbrack",d=667):t==="\\lfloor"||t==="\u230A"?(A=o="\u23A2",l="\u23A3",p="Size4-Regular",u="lfloor",d=667):t==="\\lceil"||t==="\u2308"?(o="\u23A1",A=l="\u23A2",p="Size4-Regular",u="lceil",d=667):t==="\\rfloor"||t==="\u230B"?(A=o="\u23A5",l="\u23A6",p="Size4-Regular",u="rfloor",d=667):t==="\\rceil"||t==="\u2309"?(o="\u23A4",A=l="\u23A5",p="Size4-Regular",u="rceil",d=667):t==="("||t==="\\lparen"?(o="\u239B",A="\u239C",l="\u239D",p="Size4-Regular",u="lparen",d=875):t===")"||t==="\\rparen"?(o="\u239E",A="\u239F",l="\u23A0",p="Size4-Regular",u="rparen",d=875):t==="\\{"||t==="\\lbrace"?(o="\u23A7",c="\u23A8",l="\u23A9",A="\u23AA",p="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="\u23AB",c="\u23AC",l="\u23AD",A="\u23AA",p="Size4-Regular"):t==="\\lgroup"||t==="\u27EE"?(o="\u23A7",l="\u23A9",A="\u23AA",p="Size4-Regular"):t==="\\rgroup"||t==="\u27EF"?(o="\u23AB",l="\u23AD",A="\u23AA",p="Size4-Regular"):t==="\\lmoustache"||t==="\u23B0"?(o="\u23A7",l="\u23AD",A="\u23AA",p="Size4-Regular"):(t==="\\rmoustache"||t==="\u23B1")&&(o="\u23AB",l="\u23A9",A="\u23AA",p="Size4-Regular");var h=af(o,p,a),g=h.height+h.depth,b=af(A,p,a),y=b.height+b.depth,v=af(l,p,a),_=v.height+v.depth,w=0,E=1;if(c!==null){var B=af(c,p,a);w=B.height+B.depth,E=2}var R=g+_+w,G=Math.max(0,Math.ceil((n-R)/(E*y))),C=R+G*E*y,O=r.fontMetrics().axisHeight;i&&(O*=r.sizeMultiplier);var I=C/2-O,D=[];if(u.length>0){var k=C-g-_,L=Math.round(C*1e3),T=tY(u,Math.round(k*1e3)),H=new pA(u,T),W=(d/1e3).toFixed(3)+"em",j=(L/1e3).toFixed(3)+"em",ce=new e0([H],{width:W,height:j,viewBox:"0 0 "+d+" "+L}),ue=Oe.makeSvgSpan([],[ce],r);ue.height=L/1e3,ue.style.width=W,ue.style.height=j,D.push({type:"elem",elem:ue})}else{if(D.push(_v(l,p,a)),D.push(h1),c===null){var te=C-g-_+2*w4;D.push(xv(A,te,r))}else{var re=(C-g-_-w)/2+2*w4;D.push(xv(A,re,r)),D.push(h1),D.push(_v(c,p,a)),D.push(h1),D.push(xv(A,re,r))}D.push(h1),D.push(_v(o,p,a))}var ae=r.havingBaseStyle(Zt.TEXT),fe=Oe.makeVList({positionType:"bottom",positionData:I,children:D},ae);return $x(Oe.makeSpan(["delimsizing","mult"],[fe],ae),Zt.TEXT,r,s)},Bv=80,Rv=.08,Cv=function(t,n,i,r,a){var s=Jj(t,r,i),o=new pA(t,s),c=new e0([o],{width:"400em",height:wt(n),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return Oe.makeSvgSpan(["hide-tail"],[c],a)},XY=function(t,n){var i=n.havingBaseSizing(),r=_M("\\surd",t*i.sizeMultiplier,EM,i),a=i.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,c=0,A=0,l=0,u;return r.type==="small"?(l=1e3+1e3*s+Bv,t<1?a=1:t<1.4&&(a=.7),c=(1+s+Rv)/a,A=(1+s)/a,o=Cv("sqrtMain",c,l,s,n),o.style.minWidth="0.853em",u=.833/a):r.type==="large"?(l=(1e3+Bv)*Nf[r.size],A=(Nf[r.size]+s)/a,c=(Nf[r.size]+s+Rv)/a,o=Cv("sqrtSize"+r.size,c,l,s,n),o.style.minWidth="1.02em",u=1/a):(c=t+s+Rv,A=t+s,l=Math.floor(1e3*t+s)+Bv,o=Cv("sqrtTall",c,l,s,n),o.style.minWidth="0.742em",u=1.056),o.height=A,o.style.height=wt(c),{span:o,advanceWidth:u,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*a}},vM=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],ZY=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],wM=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Nf=[0,1.2,1.8,2.4,3],JY=function(t,n,i,r,a){if(t==="<"||t==="\\lt"||t==="\u27E8"?t="\\langle":(t===">"||t==="\\gt"||t==="\u27E9")&&(t="\\rangle"),dn.contains(vM,t)||dn.contains(wM,t))return gM(t,n,!1,i,r,a);if(dn.contains(ZY,t))return bM(t,Nf[n],!1,i,r,a);throw new ft("Illegal delimiter: '"+t+"'")},eq=[{type:"small",style:Zt.SCRIPTSCRIPT},{type:"small",style:Zt.SCRIPT},{type:"small",style:Zt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],tq=[{type:"small",style:Zt.SCRIPTSCRIPT},{type:"small",style:Zt.SCRIPT},{type:"small",style:Zt.TEXT},{type:"stack"}],EM=[{type:"small",style:Zt.SCRIPTSCRIPT},{type:"small",style:Zt.SCRIPT},{type:"small",style:Zt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],nq=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},_M=function(t,n,i,r){for(var a=Math.min(2,3-r.style.size),s=a;s<i.length&&i[s].type!=="stack";s++){var o=af(t,nq(i[s]),"math"),c=o.height+o.depth;if(i[s].type==="small"){var A=r.havingBaseStyle(i[s].style);c*=A.sizeMultiplier}if(c>n)return i[s]}return i[i.length-1]},xM=function(t,n,i,r,a,s){t==="<"||t==="\\lt"||t==="\u27E8"?t="\\langle":(t===">"||t==="\\gt"||t==="\u27E9")&&(t="\\rangle");var o;dn.contains(wM,t)?o=eq:dn.contains(vM,t)?o=EM:o=tq;var c=_M(t,n,o,r);return c.type==="small"?$Y(t,c.style,i,r,a,s):c.type==="large"?gM(t,c.size,i,r,a,s):bM(t,n,i,r,a,s)},iq=function(t,n,i,r,a,s){var o=r.fontMetrics().axisHeight*r.sizeMultiplier,c=901,A=5/r.fontMetrics().ptPerEm,l=Math.max(n-o,i+o),u=Math.max(l/500*c,2*l-A);return xM(t,u,!0,r,a,s)},Yc={sqrtImage:XY,sizedDelim:JY,sizeToMaxHeight:Nf,customSizedDelim:xM,leftRightDelim:iq},hB={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},rq=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function m2(e,t){var n=f2(e);if(n&&dn.contains(rq,n.text))return n;throw n?new ft("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new ft("Invalid delimiter type '"+e.type+"'",e)}Ct({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=m2(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:hB[e.funcName].size,mclass:hB[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?Oe.makeSpan([e.mclass]):Yc.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(zs(e.delim,e.mode));var n=new dt.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var i=wt(Yc.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",i),n.setAttribute("maxsize",i),n}});function mB(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ct({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ft("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:m2(t[0],e).text,color:n}}});Ct({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=m2(t[0],e),i=e.parser;++i.leftrightDepth;var r=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=Cn(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:r,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(e,t)=>{mB(e);for(var n=wr(e.body,t,!0,["mopen","mclose"]),i=0,r=0,a=!1,s=0;s<n.length;s++)n[s].isMiddle?a=!0:(i=Math.max(n[s].height,i),r=Math.max(n[s].depth,r));i*=t.sizeMultiplier,r*=t.sizeMultiplier;var o;if(e.left==="."?o=Jf(t,["mopen"]):o=Yc.leftRightDelim(e.left,i,r,t,e.mode,["mopen"]),n.unshift(o),a)for(var c=1;c<n.length;c++){var A=n[c],l=A.isMiddle;l&&(n[c]=Yc.leftRightDelim(l.delim,i,r,l.options,e.mode,[]))}var u;if(e.right===".")u=Jf(t,["mclose"]);else{var d=e.rightColor?t.withColor(e.rightColor):t;u=Yc.leftRightDelim(e.right,i,r,d,e.mode,["mclose"])}return n.push(u),Oe.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{mB(e);var n=Da(e.body,t);if(e.left!=="."){var i=new dt.MathNode("mo",[zs(e.left,e.mode)]);i.setAttribute("fence","true"),n.unshift(i)}if(e.right!=="."){var r=new dt.MathNode("mo",[zs(e.right,e.mode)]);r.setAttribute("fence","true"),e.rightColor&&r.setAttribute("mathcolor",e.rightColor),n.push(r)}return zx(n)}});Ct({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=m2(t[0],e);if(!e.parser.leftrightDepth)throw new ft("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=Jf(t,[]);else{n=Yc.sizedDelim(e.delim,1,t,e.mode,[]);var i={delim:e.delim,options:t};n.isMiddle=i}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?zs("|","text"):zs(e.delim,e.mode),i=new dt.MathNode("mo",[n]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var jx=(e,t)=>{var n=Oe.wrapFragment(Wn(e.body,t),t),i=e.label.slice(1),r=t.sizeMultiplier,a,s=0,o=dn.isCharacterBox(e.body);if(i==="sout")a=Oe.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/r,s=-.5*t.fontMetrics().xHeight;else if(i==="phase"){var c=Hi({number:.6,unit:"pt"},t),A=Hi({number:.35,unit:"ex"},t),l=t.havingBaseSizing();r=r/l.sizeMultiplier;var u=n.height+n.depth+c+A;n.style.paddingLeft=wt(u/2+c);var d=Math.floor(1e3*u*r),p=Xj(d),h=new e0([new pA("phase",p)],{width:"400em",height:wt(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});a=Oe.makeSvgSpan(["hide-tail"],[h],t),a.style.height=wt(u),s=n.depth+c+A}else{/cancel/.test(i)?o||n.classes.push("cancel-pad"):i==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var g=0,b=0,y=0;/box/.test(i)?(y=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),g=t.fontMetrics().fboxsep+(i==="colorbox"?0:y),b=g):i==="angl"?(y=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),g=4*y,b=Math.max(0,.25-n.depth)):(g=o?.2:0,b=g),a=n0.encloseSpan(n,i,g,b,t),/fbox|boxed|fcolorbox/.test(i)?(a.style.borderStyle="solid",a.style.borderWidth=wt(y)):i==="angl"&&y!==.049&&(a.style.borderTopWidth=wt(y),a.style.borderRightWidth=wt(y)),s=n.depth+b,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}var v;if(e.backgroundColor)v=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:n,shift:0}]},t);else{var _=/cancel|phase/.test(i)?["svg-align"]:[];v=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:_}]},t)}return/cancel/.test(i)&&(v.height=n.height,v.depth=n.depth),/cancel/.test(i)&&!o?Oe.makeSpan(["mord","cancel-lap"],[v],t):Oe.makeSpan(["mord"],[v],t)},Yx=(e,t)=>{var n=0,i=new dt.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[vi(e.body,t)]);switch(e.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*n+"pt"),i.setAttribute("height","+"+2*n+"pt"),i.setAttribute("lspace",n+"pt"),i.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var r=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);i.setAttribute("style","border: "+r+"em solid "+String(e.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&i.setAttribute("mathbackground",e.backgroundColor),i};Ct({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:i,funcName:r}=e,a=Cn(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:i.mode,label:r,backgroundColor:a,body:s}},htmlBuilder:jx,mathmlBuilder:Yx});Ct({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:i,funcName:r}=e,a=Cn(t[0],"color-token").color,s=Cn(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:i.mode,label:r,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:jx,mathmlBuilder:Yx});Ct({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});Ct({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];return{type:"enclose",mode:n.mode,label:i,body:r}},htmlBuilder:jx,mathmlBuilder:Yx});Ct({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var BM={};function uc(e){for(var{type:t,names:n,props:i,handler:r,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},c=0;c<n.length;++c)BM[n[c]]=o;a&&(Kg[t]=a),s&&(Wg[t]=s)}var RM={};function J(e,t){RM[e]=t}function yB(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var y2=e=>{var t=e.parser.settings;if(!t.displayMode)throw new ft("{"+e.envName+"} can be used only in display mode.")};function qx(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function xA(e,t,n){var{hskipBeforeAndAfter:i,addJot:r,cols:a,arraystretch:s,colSeparationType:o,autoTag:c,singleRow:A,emptySingleRow:l,maxNumCols:u,leqno:d}=t;if(e.gullet.beginGroup(),A||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var p=e.gullet.expandMacroAsText("\\arraystretch");if(p==null)s=1;else if(s=parseFloat(p),!s||s<0)throw new ft("Invalid \\arraystretch: "+p)}e.gullet.beginGroup();var h=[],g=[h],b=[],y=[],v=c!=null?[]:void 0;function _(){c&&e.gullet.macros.set("\\@eqnsw","1",!0)}function w(){v&&(e.gullet.macros.get("\\df@tag")?(v.push(e.subparse([new Jo("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):v.push(Boolean(c)&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(_(),y.push(yB(e));;){var E=e.parseExpression(!1,A?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),E={type:"ordgroup",mode:e.mode,body:E},n&&(E={type:"styling",mode:e.mode,style:n,body:[E]}),h.push(E);var B=e.fetch().text;if(B==="&"){if(u&&h.length===u){if(A||o)throw new ft("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(B==="\\end"){w(),h.length===1&&E.type==="styling"&&E.body[0].body.length===0&&(g.length>1||!l)&&g.pop(),y.length<g.length+1&&y.push([]);break}else if(B==="\\\\"){e.consume();var R=void 0;e.gullet.future().text!==" "&&(R=e.parseSizeGroup(!0)),b.push(R?R.value:null),w(),y.push(yB(e)),h=[],g.push(h),_()}else throw new ft("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:r,arraystretch:s,body:g,cols:a,rowGaps:b,hskipBeforeAndAfter:i,hLinesBeforeRow:y,colSeparationType:o,tags:v,leqno:d}}function Xx(e){return e.slice(0,1)==="d"?"display":"text"}var dc=function(t,n){var i,r,a=t.body.length,s=t.hLinesBeforeRow,o=0,c=new Array(a),A=[],l=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),u=1/n.fontMetrics().ptPerEm,d=5*u;if(t.colSeparationType&&t.colSeparationType==="small"){var p=n.havingStyle(Zt.SCRIPT).sizeMultiplier;d=.2778*(p/n.sizeMultiplier)}var h=t.colSeparationType==="CD"?Hi({number:3,unit:"ex"},n):12*u,g=3*u,b=t.arraystretch*h,y=.7*b,v=.3*b,_=0;function w(Z){for(var Ce=0;Ce<Z.length;++Ce)Ce>0&&(_+=.25),A.push({pos:_,isDashed:Z[Ce]})}for(w(s[0]),i=0;i<t.body.length;++i){var E=t.body[i],B=y,R=v;o<E.length&&(o=E.length);var G=new Array(E.length);for(r=0;r<E.length;++r){var C=Wn(E[r],n);R<C.depth&&(R=C.depth),B<C.height&&(B=C.height),G[r]=C}var O=t.rowGaps[i],I=0;O&&(I=Hi(O,n),I>0&&(I+=v,R<I&&(R=I),I=0)),t.addJot&&(R+=g),G.height=B,G.depth=R,_+=B,G.pos=_,_+=R+I,c[i]=G,w(s[i+1])}var D=_/2+n.fontMetrics().axisHeight,k=t.cols||[],L=[],T,H,W=[];if(t.tags&&t.tags.some(Z=>Z))for(i=0;i<a;++i){var j=c[i],ce=j.pos-D,ue=t.tags[i],te=void 0;ue===!0?te=Oe.makeSpan(["eqn-num"],[],n):ue===!1?te=Oe.makeSpan([],[],n):te=Oe.makeSpan([],wr(ue,n,!0),n),te.depth=j.depth,te.height=j.height,W.push({type:"elem",elem:te,shift:ce})}for(r=0,H=0;r<o||H<k.length;++r,++H){for(var re=k[H]||{},ae=!0;re.type==="separator";){if(ae||(T=Oe.makeSpan(["arraycolsep"],[]),T.style.width=wt(n.fontMetrics().doubleRuleSep),L.push(T)),re.separator==="|"||re.separator===":"){var fe=re.separator==="|"?"solid":"dashed",ye=Oe.makeSpan(["vertical-separator"],[],n);ye.style.height=wt(_),ye.style.borderRightWidth=wt(l),ye.style.borderRightStyle=fe,ye.style.margin="0 "+wt(-l/2);var se=_-D;se&&(ye.style.verticalAlign=wt(-se)),L.push(ye)}else throw new ft("Invalid separator type: "+re.separator);H++,re=k[H]||{},ae=!1}if(!(r>=o)){var me=void 0;(r>0||t.hskipBeforeAndAfter)&&(me=dn.deflt(re.pregap,d),me!==0&&(T=Oe.makeSpan(["arraycolsep"],[]),T.style.width=wt(me),L.push(T)));var pe=[];for(i=0;i<a;++i){var Ee=c[i],ee=Ee[r];if(!!ee){var ie=Ee.pos-D;ee.depth=Ee.depth,ee.height=Ee.height,pe.push({type:"elem",elem:ee,shift:ie})}}pe=Oe.makeVList({positionType:"individualShift",children:pe},n),pe=Oe.makeSpan(["col-align-"+(re.align||"c")],[pe]),L.push(pe),(r<o-1||t.hskipBeforeAndAfter)&&(me=dn.deflt(re.postgap,d),me!==0&&(T=Oe.makeSpan(["arraycolsep"],[]),T.style.width=wt(me),L.push(T)))}}if(c=Oe.makeSpan(["mtable"],L),A.length>0){for(var oe=Oe.makeLineSpan("hline",n,l),he=Oe.makeLineSpan("hdashline",n,l),Re=[{type:"elem",elem:c,shift:0}];A.length>0;){var Ge=A.pop(),Le=Ge.pos-D;Ge.isDashed?Re.push({type:"elem",elem:he,shift:Le}):Re.push({type:"elem",elem:oe,shift:Le})}c=Oe.makeVList({positionType:"individualShift",children:Re},n)}if(W.length===0)return Oe.makeSpan(["mord"],[c],n);var K=Oe.makeVList({positionType:"individualShift",children:W},n);return K=Oe.makeSpan(["tag"],[K],n),Oe.makeFragment([c,K])},aq={c:"center ",l:"left ",r:"right "},pc=function(t,n){for(var i=[],r=new dt.MathNode("mtd",[],["mtr-glue"]),a=new dt.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var o=t.body[s],c=[],A=0;A<o.length;A++)c.push(new dt.MathNode("mtd",[vi(o[A],n)]));t.tags&&t.tags[s]&&(c.unshift(r),c.push(r),t.leqno?c.unshift(a):c.push(a)),i.push(new dt.MathNode("mtr",c))}var l=new dt.MathNode("mtable",i),u=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);l.setAttribute("rowspacing",wt(u));var d="",p="";if(t.cols&&t.cols.length>0){var h=t.cols,g="",b=!1,y=0,v=h.length;h[0].type==="separator"&&(d+="top ",y=1),h[h.length-1].type==="separator"&&(d+="bottom ",v-=1);for(var _=y;_<v;_++)h[_].type==="align"?(p+=aq[h[_].align],b&&(g+="none "),b=!0):h[_].type==="separator"&&b&&(g+=h[_].separator==="|"?"solid ":"dashed ",b=!1);l.setAttribute("columnalign",p.trim()),/[sd]/.test(g)&&l.setAttribute("columnlines",g.trim())}if(t.colSeparationType==="align"){for(var w=t.cols||[],E="",B=1;B<w.length;B++)E+=B%2?"0em ":"1em ";l.setAttribute("columnspacing",E.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?l.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?l.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?l.setAttribute("columnspacing","0.5em"):l.setAttribute("columnspacing","1em");var R="",G=t.hLinesBeforeRow;d+=G[0].length>0?"left ":"",d+=G[G.length-1].length>0?"right ":"";for(var C=1;C<G.length-1;C++)R+=G[C].length===0?"none ":G[C][0]?"dashed ":"solid ";return/[sd]/.test(R)&&l.setAttribute("rowlines",R.trim()),d!==""&&(l=new dt.MathNode("menclose",[l]),l.setAttribute("notation",d.trim())),t.arraystretch&&t.arraystretch<1&&(l=new dt.MathNode("mstyle",[l]),l.setAttribute("scriptlevel","1")),l},CM=function(t,n){t.envName.indexOf("ed")===-1&&y2(t);var i=[],r=t.envName.indexOf("at")>-1?"alignat":"align",a=t.envName==="split",s=xA(t.parser,{cols:i,addJot:!0,autoTag:a?void 0:qx(t.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:a?2:void 0,leqno:t.parser.settings.leqno},"display"),o,c=0,A={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var l="",u=0;u<n[0].body.length;u++){var d=Cn(n[0].body[u],"textord");l+=d.text}o=Number(l),c=o*2}var p=!c;s.body.forEach(function(y){for(var v=1;v<y.length;v+=2){var _=Cn(y[v],"styling"),w=Cn(_.body[0],"ordgroup");w.body.unshift(A)}if(p)c<y.length&&(c=y.length);else{var E=y.length/2;if(o<E)throw new ft("Too many math in a row: "+("expected "+o+", but got "+E),y[0])}});for(var h=0;h<c;++h){var g="r",b=0;h%2===1?g="l":h>0&&p&&(b=1),i[h]={type:"align",align:g,pregap:b,postgap:0}}return s.colSeparationType=p?"align":"alignat",s};uc({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=f2(t[0]),i=n?[t[0]]:Cn(t[0],"ordgroup").body,r=i.map(function(s){var o=Kx(s),c=o.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new ft("Unknown column alignment: "+c,s)}),a={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return xA(e.parser,a,Xx(e.envName))},htmlBuilder:dc,mathmlBuilder:pc});uc({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var r=e.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),n=r.fetch().text,"lcr".indexOf(n)===-1)throw new ft("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),i.cols=[{type:"align",align:n}]}}var a=xA(e.parser,i,Xx(e.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:dc,mathmlBuilder:pc});uc({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=xA(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:dc,mathmlBuilder:pc});uc({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=f2(t[0]),i=n?[t[0]]:Cn(t[0],"ordgroup").body,r=i.map(function(s){var o=Kx(s),c=o.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new ft("Unknown column alignment: "+c,s)});if(r.length>1)throw new ft("{subarray} can contain only one column");var a={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=xA(e.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new ft("{subarray} can contain only one column");return a},htmlBuilder:dc,mathmlBuilder:pc});uc({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=xA(e.parser,t,Xx(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:dc,mathmlBuilder:pc});uc({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:CM,htmlBuilder:dc,mathmlBuilder:pc});uc({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){dn.contains(["gather","gather*"],e.envName)&&y2(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:qx(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return xA(e.parser,t,"display")},htmlBuilder:dc,mathmlBuilder:pc});uc({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:CM,htmlBuilder:dc,mathmlBuilder:pc});uc({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){y2(e);var t={autoTag:qx(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return xA(e.parser,t,"display")},htmlBuilder:dc,mathmlBuilder:pc});uc({type:"array",names:["CD"],props:{numArgs:0},handler(e){return y2(e),KY(e.parser)},htmlBuilder:dc,mathmlBuilder:pc});J("\\nonumber","\\gdef\\@eqnsw{0}");J("\\notag","\\nonumber");Ct({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ft(e.funcName+" valid only within array environment")}});var gB=BM;Ct({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];if(r.type!=="ordgroup")throw new ft("Invalid environment name",r);for(var a="",s=0;s<r.body.length;++s)a+=Cn(r.body[s],"textord").text;if(i==="\\begin"){if(!gB.hasOwnProperty(a))throw new ft("No such environment: "+a,r);var o=gB[a],{args:c,optArgs:A}=n.parseArguments("\\begin{"+a+"}",o),l={mode:n.mode,envName:a,parser:n},u=o.handler(l,c,A);n.expect("\\end",!1);var d=n.nextToken,p=Cn(n.parseFunction(),"environment");if(p.name!==a)throw new ft("Mismatch: \\begin{"+a+"} matched by \\end{"+p.name+"}",d);return u}return{type:"environment",mode:n.mode,name:a,nameGroup:r}}});var NM=(e,t)=>{var n=e.font,i=t.withFont(n);return Wn(e.body,i)},SM=(e,t)=>{var n=e.font,i=t.withFont(n);return vi(e.body,i)},bB={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ct({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=$g(t[0]),a=i;return a in bB&&(a=bB[a]),{type:"font",mode:n.mode,font:a.slice(1),body:r}},htmlBuilder:NM,mathmlBuilder:SM});Ct({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,i=t[0],r=dn.isCharacterBox(i);return{type:"mclass",mode:n.mode,mclass:h2(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}],isCharacterBox:r}}});Ct({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i,breakOnTokenText:r}=e,{mode:a}=n,s=n.parseExpression(!0,r),o="math"+i.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:NM,mathmlBuilder:SM});var GM=(e,t)=>{var n=t;return e==="display"?n=n.id>=Zt.SCRIPT.id?n.text():Zt.DISPLAY:e==="text"&&n.size===Zt.DISPLAY.size?n=Zt.TEXT:e==="script"?n=Zt.SCRIPT:e==="scriptscript"&&(n=Zt.SCRIPTSCRIPT),n},Zx=(e,t)=>{var n=GM(e.size,t.style),i=n.fracNum(),r=n.fracDen(),a;a=t.havingStyle(i);var s=Wn(e.numer,a,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,c=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<c?c:s.depth}a=t.havingStyle(r);var A=Wn(e.denom,a,t),l,u,d;e.hasBarLine?(e.barSize?(u=Hi(e.barSize,t),l=Oe.makeLineSpan("frac-line",t,u)):l=Oe.makeLineSpan("frac-line",t),u=l.height,d=l.height):(l=null,u=0,d=t.fontMetrics().defaultRuleThickness);var p,h,g;n.size===Zt.DISPLAY.size||e.size==="display"?(p=t.fontMetrics().num1,u>0?h=3*d:h=7*d,g=t.fontMetrics().denom1):(u>0?(p=t.fontMetrics().num2,h=d):(p=t.fontMetrics().num3,h=3*d),g=t.fontMetrics().denom2);var b;if(l){var v=t.fontMetrics().axisHeight;p-s.depth-(v+.5*u)<h&&(p+=h-(p-s.depth-(v+.5*u))),v-.5*u-(A.height-g)<h&&(g+=h-(v-.5*u-(A.height-g)));var _=-(v-.5*u);b=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:A,shift:g},{type:"elem",elem:l,shift:_},{type:"elem",elem:s,shift:-p}]},t)}else{var y=p-s.depth-(A.height-g);y<h&&(p+=.5*(h-y),g+=.5*(h-y)),b=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:A,shift:g},{type:"elem",elem:s,shift:-p}]},t)}a=t.havingStyle(n),b.height*=a.sizeMultiplier/t.sizeMultiplier,b.depth*=a.sizeMultiplier/t.sizeMultiplier;var w;n.size===Zt.DISPLAY.size?w=t.fontMetrics().delim1:n.size===Zt.SCRIPTSCRIPT.size?w=t.havingStyle(Zt.SCRIPT).fontMetrics().delim2:w=t.fontMetrics().delim2;var E,B;return e.leftDelim==null?E=Jf(t,["mopen"]):E=Yc.customSizedDelim(e.leftDelim,w,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?B=Oe.makeSpan([]):e.rightDelim==null?B=Jf(t,["mclose"]):B=Yc.customSizedDelim(e.rightDelim,w,!0,t.havingStyle(n),e.mode,["mclose"]),Oe.makeSpan(["mord"].concat(a.sizingClasses(t)),[E,Oe.makeSpan(["mfrac"],[b]),B],t)},Jx=(e,t)=>{var n=new dt.MathNode("mfrac",[vi(e.numer,t),vi(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var i=Hi(e.barSize,t);n.setAttribute("linethickness",wt(i))}var r=GM(e.size,t.style);if(r.size!==t.style.size){n=new dt.MathNode("mstyle",[n]);var a=r.size===Zt.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var o=new dt.MathNode("mo",[new dt.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(n),e.rightDelim!=null){var c=new dt.MathNode("mo",[new dt.TextNode(e.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),s.push(c)}return zx(s)}return n};Ct({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0],a=t[1],s,o=null,c=null,A="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",c=")";break;case"\\\\bracefrac":s=!1,o="\\{",c="\\}";break;case"\\\\brackfrac":s=!1,o="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":A="display";break;case"\\tfrac":case"\\tbinom":A="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:r,denom:a,hasBarLine:s,leftDelim:o,rightDelim:c,size:A,barSize:null}},htmlBuilder:Zx,mathmlBuilder:Jx});Ct({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0],a=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:r,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ct({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:i}=e,r;switch(n){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:r,token:i}}});var vB=["display","text","script","scriptscript"],wB=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};Ct({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,i=t[4],r=t[5],a=$g(t[0]),s=a.type==="atom"&&a.family==="open"?wB(a.text):null,o=$g(t[1]),c=o.type==="atom"&&o.family==="close"?wB(o.text):null,A=Cn(t[2],"size"),l,u=null;A.isBlank?l=!0:(u=A.value,l=u.number>0);var d="auto",p=t[3];if(p.type==="ordgroup"){if(p.body.length>0){var h=Cn(p.body[0],"textord");d=vB[Number(h.text)]}}else p=Cn(p,"textord"),d=vB[Number(p.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:r,continued:!1,hasBarLine:l,barSize:u,leftDelim:s,rightDelim:c,size:d}},htmlBuilder:Zx,mathmlBuilder:Jx});Ct({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:i,token:r}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Cn(t[0],"size").value,token:r}}});Ct({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0],a=Pj(Cn(t[1],"infix").size),s=t[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:r,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Zx,mathmlBuilder:Jx});var MM=(e,t)=>{var n=t.style,i,r;e.type==="supsub"?(i=e.sup?Wn(e.sup,t.havingStyle(n.sup()),t):Wn(e.sub,t.havingStyle(n.sub()),t),r=Cn(e.base,"horizBrace")):r=Cn(e,"horizBrace");var a=Wn(r.base,t.havingBaseStyle(Zt.DISPLAY)),s=n0.svgSpan(r,t),o;if(r.isOver?(o=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Oe.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),i){var c=Oe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],t);r.isOver?o=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:i}]},t):o=Oe.makeVList({positionType:"bottom",positionData:c.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:c}]},t)}return Oe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],t)},sq=(e,t)=>{var n=n0.mathMLnode(e.label);return new dt.MathNode(e.isOver?"mover":"munder",[vi(e.base,t),n])};Ct({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:MM,mathmlBuilder:sq});Ct({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[1],r=Cn(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:n.mode,href:r,body:ir(i)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=wr(e.body,t,!1);return Oe.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=fA(e.body,t);return n instanceof Fs||(n=new Fs("mrow",[n])),n.setAttribute("href",e.href),n}});Ct({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=Cn(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:i}))return n.formatUnsupportedCmd("\\url");for(var r=[],a=0;a<i.length;a++){var s=i[a];s==="~"&&(s="\\textasciitilde"),r.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:n.mode,font:"\\texttt",body:r};return{type:"href",mode:n.mode,href:i,body:ir(o)}}});Ct({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:ir(t[0])}},htmlBuilder(e,t){var n=wr(e.body,t,!1);return Oe.makeFragment(n)},mathmlBuilder(e,t){return new dt.MathNode("mrow",Da(e.body,t))}});Ct({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i,token:r}=e,a=Cn(t[0],"raw").string,s=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,c={};switch(i){case"\\htmlClass":c.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":c.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":c.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var A=a.split(","),l=0;l<A.length;l++){var u=A[l].split("=");if(u.length!==2)throw new ft("Error parsing key-value for \\htmlData");c["data-"+u[0].trim()]=u[1].trim()}o={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:c,body:ir(s)}:n.formatUnsupportedCmd(i)},htmlBuilder:(e,t)=>{var n=wr(e.body,t,!1),i=["enclosing"];e.attributes.class&&i.push(...e.attributes.class.trim().split(/\s+/));var r=Oe.makeSpan(i,n,t);for(var a in e.attributes)a!=="class"&&e.attributes.hasOwnProperty(a)&&r.setAttribute(a,e.attributes[a]);return r},mathmlBuilder:(e,t)=>fA(e.body,t)});Ct({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:ir(t[0]),mathml:ir(t[1])}},htmlBuilder:(e,t)=>{var n=wr(e.html,t,!1);return Oe.makeFragment(n)},mathmlBuilder:(e,t)=>fA(e.mathml,t)});var Nv=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new ft("Invalid size: '"+t+"' in \\includegraphics");var i={number:+(n[1]+n[2]),unit:n[3]};if(!qG(i))throw new ft("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};Ct({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:i}=e,r={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(n[0])for(var c=Cn(n[0],"raw").string,A=c.split(","),l=0;l<A.length;l++){var u=A[l].split("=");if(u.length===2){var d=u[1].trim();switch(u[0].trim()){case"alt":o=d;break;case"width":r=Nv(d);break;case"height":a=Nv(d);break;case"totalheight":s=Nv(d);break;default:throw new ft("Invalid key: '"+u[0]+"' in \\includegraphics.")}}}var p=Cn(t[0],"url").url;return o===""&&(o=p,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:i.mode,alt:o,width:r,height:a,totalheight:s,src:p}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=Hi(e.height,t),i=0;e.totalheight.number>0&&(i=Hi(e.totalheight,t)-n);var r=0;e.width.number>0&&(r=Hi(e.width,t));var a={height:wt(n+i)};r>0&&(a.width=wt(r)),i>0&&(a.verticalAlign=wt(-i));var s=new sY(e.src,e.alt,a);return s.height=n,s.depth=i,s},mathmlBuilder:(e,t)=>{var n=new dt.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var i=Hi(e.height,t),r=0;if(e.totalheight.number>0&&(r=Hi(e.totalheight,t)-i,n.setAttribute("valign",wt(-r))),n.setAttribute("height",wt(i+r)),e.width.number>0){var a=Hi(e.width,t);n.setAttribute("width",wt(a))}return n.setAttribute("src",e.src),n}});Ct({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:i}=e,r=Cn(t[0],"size");if(n.settings.strict){var a=i[1]==="m",s=r.value.unit==="mu";a?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+r.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:r.value}},htmlBuilder(e,t){return Oe.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=Hi(e.dimension,t);return new dt.SpaceNode(n)}});Ct({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:r}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=Oe.makeSpan([],[Wn(e.body,t)]),n=Oe.makeSpan(["inner"],[n],t)):n=Oe.makeSpan(["inner"],[Wn(e.body,t)]);var i=Oe.makeSpan(["fix"],[]),r=Oe.makeSpan([e.alignment],[n,i],t),a=Oe.makeSpan(["strut"]);return a.style.height=wt(r.height+r.depth),r.depth&&(a.style.verticalAlign=wt(-r.depth)),r.children.unshift(a),r=Oe.makeSpan(["thinbox"],[r],t),Oe.makeSpan(["mord","vbox"],[r],t)},mathmlBuilder:(e,t)=>{var n=new dt.MathNode("mpadded",[vi(e.body,t)]);if(e.alignment!=="rlap"){var i=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",i+"width")}return n.setAttribute("width","0px"),n}});Ct({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:i}=e,r=i.mode;i.switchMode("math");var a=n==="\\("?"\\)":"$",s=i.parseExpression(!1,a);return i.expect(a),i.switchMode(r),{type:"styling",mode:i.mode,style:"text",body:s}}});Ct({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ft("Mismatched "+e.funcName)}});var EB=(e,t)=>{switch(t.style.size){case Zt.DISPLAY.size:return e.display;case Zt.TEXT.size:return e.text;case Zt.SCRIPT.size:return e.script;case Zt.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Ct({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:ir(t[0]),text:ir(t[1]),script:ir(t[2]),scriptscript:ir(t[3])}},htmlBuilder:(e,t)=>{var n=EB(e,t),i=wr(n,t,!1);return Oe.makeFragment(i)},mathmlBuilder:(e,t)=>{var n=EB(e,t);return fA(n,t)}});var TM=(e,t,n,i,r,a,s)=>{e=Oe.makeSpan([],[e]);var o=n&&dn.isCharacterBox(n),c,A;if(t){var l=Wn(t,i.havingStyle(r.sup()),i);A={elem:l,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-l.depth)}}if(n){var u=Wn(n,i.havingStyle(r.sub()),i);c={elem:u,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-u.height)}}var d;if(A&&c){var p=i.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+e.depth+s;d=Oe.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:wt(-a)},{type:"kern",size:c.kern},{type:"elem",elem:e},{type:"kern",size:A.kern},{type:"elem",elem:A.elem,marginLeft:wt(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(c){var h=e.height-s;d=Oe.makeVList({positionType:"top",positionData:h,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:wt(-a)},{type:"kern",size:c.kern},{type:"elem",elem:e}]},i)}else if(A){var g=e.depth+s;d=Oe.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:e},{type:"kern",size:A.kern},{type:"elem",elem:A.elem,marginLeft:wt(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return e;var b=[d];if(c&&a!==0&&!o){var y=Oe.makeSpan(["mspace"],[],i);y.style.marginRight=wt(a),b.unshift(y)}return Oe.makeSpan(["mop","op-limits"],b,i)},FM=["\\smallint"],Yd=(e,t)=>{var n,i,r=!1,a;e.type==="supsub"?(n=e.sup,i=e.sub,a=Cn(e.base,"op"),r=!0):a=Cn(e,"op");var s=t.style,o=!1;s.size===Zt.DISPLAY.size&&a.symbol&&!dn.contains(FM,a.name)&&(o=!0);var c;if(a.symbol){var A=o?"Size2-Regular":"Size1-Regular",l="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(l=a.name.slice(1),a.name=l==="oiint"?"\\iint":"\\iiint"),c=Oe.makeSymbol(a.name,A,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),l.length>0){var u=c.italic,d=Oe.staticSvg(l+"Size"+(o?"2":"1"),t);c=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:d,shift:o?.08:0}]},t),a.name="\\"+l,c.classes.unshift("mop"),c.italic=u}}else if(a.body){var p=wr(a.body,t,!0);p.length===1&&p[0]instanceof Qs?(c=p[0],c.classes[0]="mop"):c=Oe.makeSpan(["mop"],p,t)}else{for(var h=[],g=1;g<a.name.length;g++)h.push(Oe.mathsym(a.name[g],a.mode,t));c=Oe.makeSpan(["mop"],h,t)}var b=0,y=0;return(c instanceof Qs||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(b=(c.height-c.depth)/2-t.fontMetrics().axisHeight,y=c.italic),r?TM(c,n,i,t,s,y,b):(b&&(c.style.position="relative",c.style.top=wt(b)),c)},nm=(e,t)=>{var n;if(e.symbol)n=new Fs("mo",[zs(e.name,e.mode)]),dn.contains(FM,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new Fs("mo",Da(e.body,t));else{n=new Fs("mi",[new Cf(e.name.slice(1))]);var i=new Fs("mo",[zs("\u2061","text")]);e.parentIsSupSub?n=new Fs("mrow",[n,i]):n=oM([n,i])}return n},oq={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};Ct({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=i;return r.length===1&&(r=oq[r]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Yd,mathmlBuilder:nm});Ct({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ir(i)}},htmlBuilder:Yd,mathmlBuilder:nm});var cq={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};Ct({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Yd,mathmlBuilder:nm});Ct({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Yd,mathmlBuilder:nm});Ct({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,i=n;return i.length===1&&(i=cq[i]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Yd,mathmlBuilder:nm});var IM=(e,t)=>{var n,i,r=!1,a;e.type==="supsub"?(n=e.sup,i=e.sub,a=Cn(e.base,"operatorname"),r=!0):a=Cn(e,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(u=>{var d=u.text;return typeof d=="string"?{type:"textord",mode:u.mode,text:d}:u}),c=wr(o,t.withFont("mathrm"),!0),A=0;A<c.length;A++){var l=c[A];l instanceof Qs&&(l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Oe.makeSpan(["mop"],c,t)}else s=Oe.makeSpan(["mop"],[],t);return r?TM(s,n,i,t,t.style,0,0):s},Aq=(e,t)=>{for(var n=Da(e.body,t.withFont("mathrm")),i=!0,r=0;r<n.length;r++){var a=n[r];if(!(a instanceof dt.SpaceNode))if(a instanceof dt.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof dt.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var o=n.map(l=>l.toText()).join("");n=[new dt.TextNode(o)]}var c=new dt.MathNode("mi",n);c.setAttribute("mathvariant","normal");var A=new dt.MathNode("mo",[zs("\u2061","text")]);return e.parentIsSupSub?new dt.MathNode("mrow",[c,A]):dt.newDocumentFragment([c,A])};Ct({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0];return{type:"operatorname",mode:n.mode,body:ir(r),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:IM,mathmlBuilder:Aq});J("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");kl({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?Oe.makeFragment(wr(e.body,t,!1)):Oe.makeSpan(["mord"],wr(e.body,t,!0),t)},mathmlBuilder(e,t){return fA(e.body,t,!0)}});Ct({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,i=t[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder(e,t){var n=Wn(e.body,t.havingCrampedStyle()),i=Oe.makeLineSpan("overline-line",t),r=t.fontMetrics().defaultRuleThickness,a=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:i},{type:"kern",size:r}]},t);return Oe.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var n=new dt.MathNode("mo",[new dt.TextNode("\u203E")]);n.setAttribute("stretchy","true");var i=new dt.MathNode("mover",[vi(e.body,t),n]);return i.setAttribute("accent","true"),i}});Ct({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"phantom",mode:n.mode,body:ir(i)}},htmlBuilder:(e,t)=>{var n=wr(e.body,t.withPhantom(),!1);return Oe.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=Da(e.body,t);return new dt.MathNode("mphantom",n)}});Ct({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:(e,t)=>{var n=Oe.makeSpan([],[Wn(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),Oe.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=Da(ir(e.body),t),i=new dt.MathNode("mphantom",n),r=new dt.MathNode("mpadded",[i]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});Ct({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:(e,t)=>{var n=Oe.makeSpan(["inner"],[Wn(e.body,t.withPhantom())]),i=Oe.makeSpan(["fix"],[]);return Oe.makeSpan(["mord","rlap"],[n,i],t)},mathmlBuilder:(e,t)=>{var n=Da(ir(e.body),t),i=new dt.MathNode("mphantom",n),r=new dt.MathNode("mpadded",[i]);return r.setAttribute("width","0px"),r}});Ct({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,i=Cn(t[0],"size").value,r=t[1];return{type:"raisebox",mode:n.mode,dy:i,body:r}},htmlBuilder(e,t){var n=Wn(e.body,t),i=Hi(e.dy,t);return Oe.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new dt.MathNode("mpadded",[vi(e.body,t)]),i=e.dy.number+e.dy.unit;return n.setAttribute("voffset",i),n}});Ct({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Ct({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:i}=e,r=n[0],a=Cn(t[0],"size"),s=Cn(t[1],"size");return{type:"rule",mode:i.mode,shift:r&&Cn(r,"size").value,width:a.value,height:s.value}},htmlBuilder(e,t){var n=Oe.makeSpan(["mord","rule"],[],t),i=Hi(e.width,t),r=Hi(e.height,t),a=e.shift?Hi(e.shift,t):0;return n.style.borderRightWidth=wt(i),n.style.borderTopWidth=wt(r),n.style.bottom=wt(a),n.width=i,n.height=r+a,n.depth=-a,n.maxFontSize=r*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=Hi(e.width,t),i=Hi(e.height,t),r=e.shift?Hi(e.shift,t):0,a=t.color&&t.getColor()||"black",s=new dt.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",wt(n)),s.setAttribute("height",wt(i));var o=new dt.MathNode("mpadded",[s]);return r>=0?o.setAttribute("height",wt(r)):(o.setAttribute("height",wt(r)),o.setAttribute("depth",wt(-r))),o.setAttribute("voffset",wt(r)),o}});function LM(e,t,n){for(var i=wr(e,t,!1),r=t.sizeMultiplier/n.sizeMultiplier,a=0;a<i.length;a++){var s=i[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[a].classes,t.sizingClasses(n)):i[a].classes[s+1]==="reset-size"+t.size&&(i[a].classes[s+1]="reset-size"+n.size),i[a].height*=r,i[a].depth*=r}return Oe.makeFragment(i)}var _B=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],lq=(e,t)=>{var n=t.havingSize(e.size);return LM(e.body,n,t)};Ct({type:"sizing",names:_B,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:i,parser:r}=e,a=r.parseExpression(!1,n);return{type:"sizing",mode:r.mode,size:_B.indexOf(i)+1,body:a}},htmlBuilder:lq,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),i=Da(e.body,n),r=new dt.MathNode("mstyle",i);return r.setAttribute("mathsize",wt(n.sizeMultiplier)),r}});Ct({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:i}=e,r=!1,a=!1,s=n[0]&&Cn(n[0],"ordgroup");if(s)for(var o="",c=0;c<s.body.length;++c){var A=s.body[c];if(o=A.text,o==="t")r=!0;else if(o==="b")a=!0;else{r=!1,a=!1;break}}else r=!0,a=!0;var l=t[0];return{type:"smash",mode:i.mode,body:l,smashHeight:r,smashDepth:a}},htmlBuilder:(e,t)=>{var n=Oe.makeSpan([],[Wn(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].depth=0;var a=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return Oe.makeSpan(["mord"],[a],t)},mathmlBuilder:(e,t)=>{var n=new dt.MathNode("mpadded",[vi(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});Ct({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:i}=e,r=n[0],a=t[0];return{type:"sqrt",mode:i.mode,body:a,index:r}},htmlBuilder(e,t){var n=Wn(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=Oe.wrapFragment(n,t);var i=t.fontMetrics(),r=i.defaultRuleThickness,a=r;t.style.id<Zt.TEXT.id&&(a=t.fontMetrics().xHeight);var s=r+a/4,o=n.height+n.depth+s+r,{span:c,ruleWidth:A,advanceWidth:l}=Yc.sqrtImage(o,t),u=c.height-A;u>n.height+n.depth+s&&(s=(s+u-n.height-n.depth)/2);var d=c.height-n.height-s-A;n.style.paddingLeft=wt(l);var p=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+d)},{type:"elem",elem:c},{type:"kern",size:A}]},t);if(e.index){var h=t.havingStyle(Zt.SCRIPTSCRIPT),g=Wn(e.index,h,t),b=.6*(p.height-p.depth),y=Oe.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:g}]},t),v=Oe.makeSpan(["root"],[y]);return Oe.makeSpan(["mord","sqrt"],[v,p],t)}else return Oe.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder(e,t){var{body:n,index:i}=e;return i?new dt.MathNode("mroot",[vi(n,t),vi(i,t)]):new dt.MathNode("msqrt",[vi(n,t)])}});var xB={display:Zt.DISPLAY,text:Zt.TEXT,script:Zt.SCRIPT,scriptscript:Zt.SCRIPTSCRIPT};Ct({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:i,parser:r}=e,a=r.parseExpression(!0,n),s=i.slice(1,i.length-5);return{type:"styling",mode:r.mode,style:s,body:a}},htmlBuilder(e,t){var n=xB[e.style],i=t.havingStyle(n).withFont("");return LM(e.body,i,t)},mathmlBuilder(e,t){var n=xB[e.style],i=t.havingStyle(n),r=Da(e.body,i),a=new dt.MathNode("mstyle",r),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[e.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var uq=function(t,n){var i=t.base;if(i)if(i.type==="op"){var r=i.limits&&(n.style.size===Zt.DISPLAY.size||i.alwaysHandleSupSub);return r?Yd:null}else if(i.type==="operatorname"){var a=i.alwaysHandleSupSub&&(n.style.size===Zt.DISPLAY.size||i.limits);return a?IM:null}else{if(i.type==="accent")return dn.isCharacterBox(i.base)?Wx:null;if(i.type==="horizBrace"){var s=!t.sub;return s===i.isOver?MM:null}else return null}else return null};kl({type:"supsub",htmlBuilder(e,t){var n=uq(e,t);if(n)return n(e,t);var{base:i,sup:r,sub:a}=e,s=Wn(i,t),o,c,A=t.fontMetrics(),l=0,u=0,d=i&&dn.isCharacterBox(i);if(r){var p=t.havingStyle(t.style.sup());o=Wn(r,p,t),d||(l=s.height-p.fontMetrics().supDrop*p.sizeMultiplier/t.sizeMultiplier)}if(a){var h=t.havingStyle(t.style.sub());c=Wn(a,h,t),d||(u=s.depth+h.fontMetrics().subDrop*h.sizeMultiplier/t.sizeMultiplier)}var g;t.style===Zt.DISPLAY?g=A.sup1:t.style.cramped?g=A.sup3:g=A.sup2;var b=t.sizeMultiplier,y=wt(.5/A.ptPerEm/b),v=null;if(c){var _=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof Qs||_)&&(v=wt(-s.italic))}var w;if(o&&c){l=Math.max(l,g,o.depth+.25*A.xHeight),u=Math.max(u,A.sub2);var E=A.defaultRuleThickness,B=4*E;if(l-o.depth-(c.height-u)<B){u=B-(l-o.depth)+c.height;var R=.8*A.xHeight-(l-o.depth);R>0&&(l+=R,u-=R)}var G=[{type:"elem",elem:c,shift:u,marginRight:y,marginLeft:v},{type:"elem",elem:o,shift:-l,marginRight:y}];w=Oe.makeVList({positionType:"individualShift",children:G},t)}else if(c){u=Math.max(u,A.sub1,c.height-.8*A.xHeight);var C=[{type:"elem",elem:c,marginLeft:v,marginRight:y}];w=Oe.makeVList({positionType:"shift",positionData:u,children:C},t)}else if(o)l=Math.max(l,g,o.depth+.25*A.xHeight),w=Oe.makeVList({positionType:"shift",positionData:-l,children:[{type:"elem",elem:o,marginRight:y}]},t);else throw new Error("supsub must have either sup or sub.");var O=g4(s,"right")||"mord";return Oe.makeSpan([O],[s,Oe.makeSpan(["msupsub"],[w])],t)},mathmlBuilder(e,t){var n=!1,i,r;e.base&&e.base.type==="horizBrace"&&(r=!!e.sup,r===e.base.isOver&&(n=!0,i=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var a=[vi(e.base,t)];e.sub&&a.push(vi(e.sub,t)),e.sup&&a.push(vi(e.sup,t));var s;if(n)s=i?"mover":"munder";else if(e.sub)if(e.sup){var A=e.base;A&&A.type==="op"&&A.limits&&t.style===Zt.DISPLAY||A&&A.type==="operatorname"&&A.alwaysHandleSupSub&&(t.style===Zt.DISPLAY||A.limits)?s="munderover":s="msubsup"}else{var c=e.base;c&&c.type==="op"&&c.limits&&(t.style===Zt.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||t.style===Zt.DISPLAY)?s="munder":s="msub"}else{var o=e.base;o&&o.type==="op"&&o.limits&&(t.style===Zt.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===Zt.DISPLAY)?s="mover":s="msup"}return new dt.MathNode(s,a)}});kl({type:"atom",htmlBuilder(e,t){return Oe.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new dt.MathNode("mo",[zs(e.text,e.mode)]);if(e.family==="bin"){var i=Vx(e,t);i==="bold-italic"&&n.setAttribute("mathvariant",i)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var PM={mi:"italic",mn:"normal",mtext:"normal"};kl({type:"mathord",htmlBuilder(e,t){return Oe.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new dt.MathNode("mi",[zs(e.text,e.mode,t)]),i=Vx(e,t)||"italic";return i!==PM[n.type]&&n.setAttribute("mathvariant",i),n}});kl({type:"textord",htmlBuilder(e,t){return Oe.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=zs(e.text,e.mode,t),i=Vx(e,t)||"normal",r;return e.mode==="text"?r=new dt.MathNode("mtext",[n]):/[0-9]/.test(e.text)?r=new dt.MathNode("mn",[n]):e.text==="\\prime"?r=new dt.MathNode("mo",[n]):r=new dt.MathNode("mi",[n]),i!==PM[r.type]&&r.setAttribute("mathvariant",i),r}});var Sv={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Gv={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};kl({type:"spacing",htmlBuilder(e,t){if(Gv.hasOwnProperty(e.text)){var n=Gv[e.text].className||"";if(e.mode==="text"){var i=Oe.makeOrd(e,t,"textord");return i.classes.push(n),i}else return Oe.makeSpan(["mspace",n],[Oe.mathsym(e.text,e.mode,t)],t)}else{if(Sv.hasOwnProperty(e.text))return Oe.makeSpan(["mspace",Sv[e.text]],[],t);throw new ft('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(Gv.hasOwnProperty(e.text))n=new dt.MathNode("mtext",[new dt.TextNode("\xA0")]);else{if(Sv.hasOwnProperty(e.text))return new dt.MathNode("mspace");throw new ft('Unknown type of space "'+e.text+'"')}return n}});var BB=()=>{var e=new dt.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};kl({type:"tag",mathmlBuilder(e,t){var n=new dt.MathNode("mtable",[new dt.MathNode("mtr",[BB(),new dt.MathNode("mtd",[fA(e.body,t)]),BB(),new dt.MathNode("mtd",[fA(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var RB={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},CB={"\\textbf":"textbf","\\textmd":"textmd"},dq={"\\textit":"textit","\\textup":"textup"},NB=(e,t)=>{var n=e.font;return n?RB[n]?t.withTextFontFamily(RB[n]):CB[n]?t.withTextFontWeight(CB[n]):t.withTextFontShape(dq[n]):t};Ct({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];return{type:"text",mode:n.mode,body:ir(r),font:i}},htmlBuilder(e,t){var n=NB(e,t),i=wr(e.body,n,!0);return Oe.makeSpan(["mord","text"],i,n)},mathmlBuilder(e,t){var n=NB(e,t);return fA(e.body,n)}});Ct({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Wn(e.body,t),i=Oe.makeLineSpan("underline-line",t),r=t.fontMetrics().defaultRuleThickness,a=Oe.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:r},{type:"elem",elem:i},{type:"kern",size:3*r},{type:"elem",elem:n}]},t);return Oe.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var n=new dt.MathNode("mo",[new dt.TextNode("\u203E")]);n.setAttribute("stretchy","true");var i=new dt.MathNode("munder",[vi(e.body,t),n]);return i.setAttribute("accentunder","true"),i}});Ct({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Wn(e.body,t),i=t.fontMetrics().axisHeight,r=.5*(n.height-i-(n.depth+i));return Oe.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new dt.MathNode("mpadded",[vi(e.body,t)],["vcenter"])}});Ct({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new ft("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=SB(e),i=[],r=t.havingStyle(t.style.text()),a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),i.push(Oe.makeSymbol(s,"Typewriter-Regular",e.mode,r,["mord","texttt"]))}return Oe.makeSpan(["mord","text"].concat(r.sizingClasses(t)),Oe.tryCombineChars(i),r)},mathmlBuilder(e,t){var n=new dt.TextNode(SB(e)),i=new dt.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});var SB=e=>e.body.replace(/ /g,e.star?"\u2423":"\xA0"),Z0=aM,UM=`[ \r
	]`,pq="\\\\[a-zA-Z@]+",fq="\\\\[^\uD800-\uDFFF]",hq="("+pq+")"+UM+"*",mq=`\\\\(
|[ \r	]+
?)[ \r	]*`,E4="[\u0300-\u036F]",yq=new RegExp(E4+"+$"),gq="("+UM+"+)|"+(mq+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(E4+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(E4+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+hq)+("|"+fq+")");class GB{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(gq,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new Jo("EOF",new Ja(this,n,n));var i=this.tokenRegex.exec(t);if(i===null||i.index!==n)throw new ft("Unexpected character: '"+t[n]+"'",new Jo(t[n],new Ja(this,n,n+1)));var r=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[r]===14){var a=t.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Jo(r,new Ja(this,n,this.tokenRegex.lastIndex))}}class bq{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ft("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,i){if(i===void 0&&(i=!1),i){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(t)&&(a[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var vq=RM;J("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});J("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});J("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});J("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});J("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});J("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");J("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var MB={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};J("\\char",function(e){var t=e.popToken(),n,i="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")i=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ft("\\char` missing argument");i=t.text.charCodeAt(0)}else n=10;if(n){if(i=MB[t.text],i==null||i>=n)throw new ft("Invalid base-"+n+" digit "+t.text);for(var r;(r=MB[e.future().text])!=null&&r<n;)i*=n,i+=r,e.popToken()}return"\\@char{"+i+"}"});var e7=(e,t,n)=>{var i=e.consumeArg().tokens;if(i.length!==1)throw new ft("\\newcommand's first argument must be a macro name");var r=i[0].text,a=e.isDefined(r);if(a&&!t)throw new ft("\\newcommand{"+r+"} attempting to redefine "+(r+"; use \\renewcommand"));if(!a&&!n)throw new ft("\\renewcommand{"+r+"} when command "+r+" does not yet exist; use \\newcommand");var s=0;if(i=e.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var o="",c=e.expandNextToken();c.text!=="]"&&c.text!=="EOF";)o+=c.text,c=e.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new ft("Invalid number of arguments: "+o);s=parseInt(o),i=e.consumeArg().tokens}return e.macros.set(r,{tokens:i,numArgs:s}),""};J("\\newcommand",e=>e7(e,!1,!0));J("\\renewcommand",e=>e7(e,!0,!1));J("\\providecommand",e=>e7(e,!0,!0));J("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});J("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});J("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),Z0[n],Ri.math[n],Ri.text[n]),""});J("\\bgroup","{");J("\\egroup","}");J("~","\\nobreakspace");J("\\lq","`");J("\\rq","'");J("\\aa","\\r a");J("\\AA","\\r A");J("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");J("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");J("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");J("\u212C","\\mathscr{B}");J("\u2130","\\mathscr{E}");J("\u2131","\\mathscr{F}");J("\u210B","\\mathscr{H}");J("\u2110","\\mathscr{I}");J("\u2112","\\mathscr{L}");J("\u2133","\\mathscr{M}");J("\u211B","\\mathscr{R}");J("\u212D","\\mathfrak{C}");J("\u210C","\\mathfrak{H}");J("\u2128","\\mathfrak{Z}");J("\\Bbbk","\\Bbb{k}");J("\xB7","\\cdotp");J("\\llap","\\mathllap{\\textrm{#1}}");J("\\rlap","\\mathrlap{\\textrm{#1}}");J("\\clap","\\mathclap{\\textrm{#1}}");J("\\mathstrut","\\vphantom{(}");J("\\underbar","\\underline{\\text{#1}}");J("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');J("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");J("\\ne","\\neq");J("\u2260","\\neq");J("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}");J("\u2209","\\notin");J("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}");J("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");J("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");J("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}");J("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}");J("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}");J("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");J("\u27C2","\\perp");J("\u203C","\\mathclose{!\\mkern-0.8mu!}");J("\u220C","\\notni");J("\u231C","\\ulcorner");J("\u231D","\\urcorner");J("\u231E","\\llcorner");J("\u231F","\\lrcorner");J("\xA9","\\copyright");J("\xAE","\\textregistered");J("\uFE0F","\\textregistered");J("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');J("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');J("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');J("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');J("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");J("\u22EE","\\vdots");J("\\varGamma","\\mathit{\\Gamma}");J("\\varDelta","\\mathit{\\Delta}");J("\\varTheta","\\mathit{\\Theta}");J("\\varLambda","\\mathit{\\Lambda}");J("\\varXi","\\mathit{\\Xi}");J("\\varPi","\\mathit{\\Pi}");J("\\varSigma","\\mathit{\\Sigma}");J("\\varUpsilon","\\mathit{\\Upsilon}");J("\\varPhi","\\mathit{\\Phi}");J("\\varPsi","\\mathit{\\Psi}");J("\\varOmega","\\mathit{\\Omega}");J("\\substack","\\begin{subarray}{c}#1\\end{subarray}");J("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");J("\\boxed","\\fbox{$\\displaystyle{#1}$}");J("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");J("\\implies","\\DOTSB\\;\\Longrightarrow\\;");J("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var TB={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};J("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in TB?t=TB[n]:(n.slice(0,4)==="\\not"||n in Ri.math&&dn.contains(["bin","rel"],Ri.math[n].group))&&(t="\\dotsb"),t});var t7={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};J("\\dotso",function(e){var t=e.future().text;return t in t7?"\\ldots\\,":"\\ldots"});J("\\dotsc",function(e){var t=e.future().text;return t in t7&&t!==","?"\\ldots\\,":"\\ldots"});J("\\cdots",function(e){var t=e.future().text;return t in t7?"\\@cdots\\,":"\\@cdots"});J("\\dotsb","\\cdots");J("\\dotsm","\\cdots");J("\\dotsi","\\!\\cdots");J("\\dotsx","\\ldots\\,");J("\\DOTSI","\\relax");J("\\DOTSB","\\relax");J("\\DOTSX","\\relax");J("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");J("\\,","\\tmspace+{3mu}{.1667em}");J("\\thinspace","\\,");J("\\>","\\mskip{4mu}");J("\\:","\\tmspace+{4mu}{.2222em}");J("\\medspace","\\:");J("\\;","\\tmspace+{5mu}{.2777em}");J("\\thickspace","\\;");J("\\!","\\tmspace-{3mu}{.1667em}");J("\\negthinspace","\\!");J("\\negmedspace","\\tmspace-{4mu}{.2222em}");J("\\negthickspace","\\tmspace-{5mu}{.277em}");J("\\enspace","\\kern.5em ");J("\\enskip","\\hskip.5em\\relax");J("\\quad","\\hskip1em\\relax");J("\\qquad","\\hskip2em\\relax");J("\\tag","\\@ifstar\\tag@literal\\tag@paren");J("\\tag@paren","\\tag@literal{({#1})}");J("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ft("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});J("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");J("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");J("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");J("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");J("\\newline","\\\\\\relax");J("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var DM=wt(Yo["Main-Regular"]["T".charCodeAt(0)][1]-.7*Yo["Main-Regular"]["A".charCodeAt(0)][1]);J("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+DM+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");J("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+DM+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");J("\\hspace","\\@ifstar\\@hspacer\\@hspace");J("\\@hspace","\\hskip #1\\relax");J("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");J("\\ordinarycolon",":");J("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");J("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');J("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');J("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');J("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');J("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');J("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');J("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');J("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');J("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');J("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');J("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');J("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');J("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');J("\u2237","\\dblcolon");J("\u2239","\\eqcolon");J("\u2254","\\coloneqq");J("\u2255","\\eqqcolon");J("\u2A74","\\Coloneqq");J("\\ratio","\\vcentcolon");J("\\coloncolon","\\dblcolon");J("\\colonequals","\\coloneqq");J("\\coloncolonequals","\\Coloneqq");J("\\equalscolon","\\eqqcolon");J("\\equalscoloncolon","\\Eqqcolon");J("\\colonminus","\\coloneq");J("\\coloncolonminus","\\Coloneq");J("\\minuscolon","\\eqcolon");J("\\minuscoloncolon","\\Eqcolon");J("\\coloncolonapprox","\\Colonapprox");J("\\coloncolonsim","\\Colonsim");J("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");J("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");J("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");J("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");J("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");J("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");J("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");J("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");J("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");J("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");J("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");J("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");J("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");J("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");J("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");J("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");J("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");J("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");J("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");J("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");J("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");J("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");J("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");J("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");J("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");J("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");J("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");J("\\imath","\\html@mathml{\\@imath}{\u0131}");J("\\jmath","\\html@mathml{\\@jmath}{\u0237}");J("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}");J("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}");J("\u27E6","\\llbracket");J("\u27E7","\\rrbracket");J("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}");J("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}");J("\u2983","\\lBrace");J("\u2984","\\rBrace");J("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}");J("\u29B5","\\minuso");J("\\darr","\\downarrow");J("\\dArr","\\Downarrow");J("\\Darr","\\Downarrow");J("\\lang","\\langle");J("\\rang","\\rangle");J("\\uarr","\\uparrow");J("\\uArr","\\Uparrow");J("\\Uarr","\\Uparrow");J("\\N","\\mathbb{N}");J("\\R","\\mathbb{R}");J("\\Z","\\mathbb{Z}");J("\\alef","\\aleph");J("\\alefsym","\\aleph");J("\\Alpha","\\mathrm{A}");J("\\Beta","\\mathrm{B}");J("\\bull","\\bullet");J("\\Chi","\\mathrm{X}");J("\\clubs","\\clubsuit");J("\\cnums","\\mathbb{C}");J("\\Complex","\\mathbb{C}");J("\\Dagger","\\ddagger");J("\\diamonds","\\diamondsuit");J("\\empty","\\emptyset");J("\\Epsilon","\\mathrm{E}");J("\\Eta","\\mathrm{H}");J("\\exist","\\exists");J("\\harr","\\leftrightarrow");J("\\hArr","\\Leftrightarrow");J("\\Harr","\\Leftrightarrow");J("\\hearts","\\heartsuit");J("\\image","\\Im");J("\\infin","\\infty");J("\\Iota","\\mathrm{I}");J("\\isin","\\in");J("\\Kappa","\\mathrm{K}");J("\\larr","\\leftarrow");J("\\lArr","\\Leftarrow");J("\\Larr","\\Leftarrow");J("\\lrarr","\\leftrightarrow");J("\\lrArr","\\Leftrightarrow");J("\\Lrarr","\\Leftrightarrow");J("\\Mu","\\mathrm{M}");J("\\natnums","\\mathbb{N}");J("\\Nu","\\mathrm{N}");J("\\Omicron","\\mathrm{O}");J("\\plusmn","\\pm");J("\\rarr","\\rightarrow");J("\\rArr","\\Rightarrow");J("\\Rarr","\\Rightarrow");J("\\real","\\Re");J("\\reals","\\mathbb{R}");J("\\Reals","\\mathbb{R}");J("\\Rho","\\mathrm{P}");J("\\sdot","\\cdot");J("\\sect","\\S");J("\\spades","\\spadesuit");J("\\sub","\\subset");J("\\sube","\\subseteq");J("\\supe","\\supseteq");J("\\Tau","\\mathrm{T}");J("\\thetasym","\\vartheta");J("\\weierp","\\wp");J("\\Zeta","\\mathrm{Z}");J("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");J("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");J("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");J("\\bra","\\mathinner{\\langle{#1}|}");J("\\ket","\\mathinner{|{#1}\\rangle}");J("\\braket","\\mathinner{\\langle{#1}\\rangle}");J("\\Bra","\\left\\langle#1\\right|");J("\\Ket","\\left|#1\\right\\rangle");var kM=e=>t=>{var n=t.consumeArg().tokens,i=t.consumeArg().tokens,r=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var c=u=>d=>{e&&(d.macros.set("|",s),r.length&&d.macros.set("\\|",o));var p=u;if(!u&&r.length){var h=d.future();h.text==="|"&&(d.popToken(),p=!0)}return{tokens:p?r:i,numArgs:0}};t.macros.set("|",c(!1)),r.length&&t.macros.set("\\|",c(!0));var A=t.consumeArg().tokens,l=t.expandTokens([...a,...A,...n]);return t.macros.endGroup(),{tokens:l.reverse(),numArgs:0}};J("\\bra@ket",kM(!1));J("\\bra@set",kM(!0));J("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");J("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");J("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");J("\\angln","{\\angl n}");J("\\blue","\\textcolor{##6495ed}{#1}");J("\\orange","\\textcolor{##ffa500}{#1}");J("\\pink","\\textcolor{##ff00af}{#1}");J("\\red","\\textcolor{##df0030}{#1}");J("\\green","\\textcolor{##28ae7b}{#1}");J("\\gray","\\textcolor{gray}{#1}");J("\\purple","\\textcolor{##9d38bd}{#1}");J("\\blueA","\\textcolor{##ccfaff}{#1}");J("\\blueB","\\textcolor{##80f6ff}{#1}");J("\\blueC","\\textcolor{##63d9ea}{#1}");J("\\blueD","\\textcolor{##11accd}{#1}");J("\\blueE","\\textcolor{##0c7f99}{#1}");J("\\tealA","\\textcolor{##94fff5}{#1}");J("\\tealB","\\textcolor{##26edd5}{#1}");J("\\tealC","\\textcolor{##01d1c1}{#1}");J("\\tealD","\\textcolor{##01a995}{#1}");J("\\tealE","\\textcolor{##208170}{#1}");J("\\greenA","\\textcolor{##b6ffb0}{#1}");J("\\greenB","\\textcolor{##8af281}{#1}");J("\\greenC","\\textcolor{##74cf70}{#1}");J("\\greenD","\\textcolor{##1fab54}{#1}");J("\\greenE","\\textcolor{##0d923f}{#1}");J("\\goldA","\\textcolor{##ffd0a9}{#1}");J("\\goldB","\\textcolor{##ffbb71}{#1}");J("\\goldC","\\textcolor{##ff9c39}{#1}");J("\\goldD","\\textcolor{##e07d10}{#1}");J("\\goldE","\\textcolor{##a75a05}{#1}");J("\\redA","\\textcolor{##fca9a9}{#1}");J("\\redB","\\textcolor{##ff8482}{#1}");J("\\redC","\\textcolor{##f9685d}{#1}");J("\\redD","\\textcolor{##e84d39}{#1}");J("\\redE","\\textcolor{##bc2612}{#1}");J("\\maroonA","\\textcolor{##ffbde0}{#1}");J("\\maroonB","\\textcolor{##ff92c6}{#1}");J("\\maroonC","\\textcolor{##ed5fa6}{#1}");J("\\maroonD","\\textcolor{##ca337c}{#1}");J("\\maroonE","\\textcolor{##9e034e}{#1}");J("\\purpleA","\\textcolor{##ddd7ff}{#1}");J("\\purpleB","\\textcolor{##c6b9fc}{#1}");J("\\purpleC","\\textcolor{##aa87ff}{#1}");J("\\purpleD","\\textcolor{##7854ab}{#1}");J("\\purpleE","\\textcolor{##543b78}{#1}");J("\\mintA","\\textcolor{##f5f9e8}{#1}");J("\\mintB","\\textcolor{##edf2df}{#1}");J("\\mintC","\\textcolor{##e0e5cc}{#1}");J("\\grayA","\\textcolor{##f6f7f7}{#1}");J("\\grayB","\\textcolor{##f0f1f2}{#1}");J("\\grayC","\\textcolor{##e3e5e6}{#1}");J("\\grayD","\\textcolor{##d6d8da}{#1}");J("\\grayE","\\textcolor{##babec2}{#1}");J("\\grayF","\\textcolor{##888d93}{#1}");J("\\grayG","\\textcolor{##626569}{#1}");J("\\grayH","\\textcolor{##3b3e40}{#1}");J("\\grayI","\\textcolor{##21242c}{#1}");J("\\kaBlue","\\textcolor{##314453}{#1}");J("\\kaGreen","\\textcolor{##71B307}{#1}");var OM={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class wq{constructor(t,n,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new bq(vq,n.macros),this.mode=i,this.stack=[]}feed(t){this.lexer=new GB(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,i,r;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:r,end:i}=this.consumeArg(["]"])}else({tokens:r,start:n,end:i}=this.consumeArg());return this.pushToken(new Jo("EOF",i.loc)),this.pushTokens(r),n.range(i,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],i=t&&t.length>0;i||this.consumeSpaces();var r=this.future(),a,s=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new ft("Extra }",a)}else if(a.text==="EOF")throw new ft("Unexpected end of input in a macro argument, expected '"+(t&&i?t[o]:"}")+"'",a);if(t&&i)if((s===0||s===1&&t[o]==="{")&&a.text===t[o]){if(++o,o===t.length){n.splice(-o,o);break}}else o=0}while(s!==0||i);return r.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:r,end:a}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new ft("The length of delimiters doesn't match the number of args!");for(var i=n[0],r=0;r<i.length;r++){var a=this.popToken();if(i[r]!==a.text)throw new ft("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<t;o++)s.push(this.consumeArg(n&&n[o+1]).tokens);return s}expandOnce(t){var n=this.popToken(),i=n.text,r=n.noexpand?null:this._getExpansion(i);if(r==null||t&&r.unexpandable){if(t&&r==null&&i[0]==="\\"&&!this.isDefined(i))throw new ft("Undefined control sequence: "+i);return this.pushToken(n),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new ft("Too many expansions: infinite loop or need to increase maxExpand setting");var a=r.tokens,s=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var c=a[o];if(c.text==="#"){if(o===0)throw new ft("Incomplete placeholder at end of macro body",c);if(c=a[--o],c.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(c.text))a.splice(o,2,...s[+c.text-1]);else throw new ft("Not a valid argument number",c)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Jo(t)]):void 0}expandTokens(t){var n=[],i=this.stack.length;for(this.pushTokens(t);this.stack.length>i;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),n.push(r)}return n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(i=>i.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var i=this.lexer.catcodes[t];if(i!=null&&i!==13)return}var r=typeof n=="function"?n(this):n;if(typeof r=="string"){var a=0;if(r.indexOf("#")!==-1)for(var s=r.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new GB(r,this.settings),c=[],A=o.lex();A.text!=="EOF";)c.push(A),A=o.lex();c.reverse();var l={tokens:c,numArgs:a};return l}return r}isDefined(t){return this.macros.has(t)||Z0.hasOwnProperty(t)||Ri.math.hasOwnProperty(t)||Ri.text.hasOwnProperty(t)||OM.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Z0.hasOwnProperty(t)&&!Z0[t].primitive}}var FB=/^[]/,m1=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),Mv={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},IB={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"};class eh{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new wq(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new ft("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Jo("}")),this.gullet.pushTokens(t);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,i}parseExpression(t,n){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(eh.endOfExpression.indexOf(r.text)!==-1||n&&r.text===n||t&&Z0[r.text]&&Z0[r.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;i.push(a)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(t){for(var n=-1,i,r=0;r<t.length;r++)if(t[r].type==="infix"){if(n!==-1)throw new ft("only one infix operator per group",t[r].token);n=r,i=t[r].replaceWith}if(n!==-1&&i){var a,s,o=t.slice(0,n),c=t.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},c.length===1&&c[0].type==="ordgroup"?s=c[0]:s={type:"ordgroup",mode:this.mode,body:c};var A;return i==="\\\\abovefrac"?A=this.callFunction(i,[a,t[n],s],[]):A=this.callFunction(i,[a,s],[]),[A]}else return t}handleSupSubscript(t){var n=this.fetch(),i=n.text;this.consume(),this.consumeSpaces();var r=this.parseGroup(t);if(!r)throw new ft("Expected group after '"+i+"'",n);return r}formatUnsupportedCmd(t){for(var n=[],i=0;i<t.length;i++)n.push({type:"textord",mode:"text",text:t[i]});var r={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return a}parseAtom(t){var n=this.parseGroup("atom",t);if(this.mode==="text")return n;for(var i,r;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var s=a.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new ft("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(i)throw new ft("Double superscript",a);i=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(r)throw new ft("Double subscript",a);r=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(i)throw new ft("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},c=[o];for(this.consume();this.fetch().text==="'";)c.push(o),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:c}}else if(m1[a.text]){var A=m1[a.text],l=FB.test(a.text);for(this.consume();;){var u=this.fetch().text;if(!m1[u]||FB.test(u)!==l)break;this.consume(),A+=m1[u]}var d=new eh(A,this.settings).parse();l?r={type:"ordgroup",mode:"math",body:d}:i={type:"ordgroup",mode:"math",body:d}}else break}return i||r?{type:"supsub",mode:this.mode,base:n,sup:i,sub:r}:n}parseFunction(t,n){var i=this.fetch(),r=i.text,a=Z0[r];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new ft("Got function '"+r+"' with no arguments"+(n?" as "+n:""),i);if(this.mode==="text"&&!a.allowedInText)throw new ft("Can't use function '"+r+"' in text mode",i);if(this.mode==="math"&&a.allowedInMath===!1)throw new ft("Can't use function '"+r+"' in math mode",i);var{args:s,optArgs:o}=this.parseArguments(r,a);return this.callFunction(r,s,o,i,t)}callFunction(t,n,i,r,a){var s={funcName:t,parser:this,token:r,breakOnTokenText:a},o=Z0[t];if(o&&o.handler)return o.handler(s,n,i);throw new ft("No function handler for "+t)}parseArguments(t,n){var i=n.numArgs+n.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var r=[],a=[],s=0;s<i;s++){var o=n.argTypes&&n.argTypes[s],c=s<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var A=this.parseGroupOfType("argument to '"+t+"'",o,c);if(c)a.push(A);else if(A!=null)r.push(A);else throw new ft("Null argument, please report this as a bug")}return{args:r,optArgs:a}}parseGroupOfType(t,n,i){switch(n){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,n);case"hbox":{var r=this.parseArgumentGroup(i,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",i);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(i)throw new ft("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new ft("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new ft("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var i=this.gullet.scanArgument(n);if(i==null)return null;for(var r="",a;(a=this.fetch()).text!=="EOF";)r+=a.text,this.consume();return this.consume(),i.text=r,i}parseRegexGroup(t,n){for(var i=this.fetch(),r=i,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)r=s,a+=r.text,this.consume();if(a==="")throw new ft("Invalid "+n+": '"+i.text+"'",i);return i.range(r,a)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!i)throw new ft("Invalid color: '"+n.text+"'",n);var r=i[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(t){var n,i=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",i=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!r)throw new ft("Invalid size: '"+n.text+"'",n);var a={number:+(r[1]+r[2]),unit:r[3]};if(!qG(a))throw new ft("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:i}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var i=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(t,n){var i=this.gullet.scanArgument(t);if(i==null)return null;var r=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:i.loc,body:a};return n&&this.switchMode(r),s}parseGroup(t,n){var i=this.fetch(),r=i.text,a;if(r==="{"||r==="\\begingroup"){this.consume();var s=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),c=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:Ja.range(i,c),body:o,semisimple:r==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,t)||this.parseSymbol(),a==null&&r[0]==="\\"&&!OM.hasOwnProperty(r)){if(this.settings.throwOnError)throw new ft("Undefined control sequence: "+r,i);a=this.formatUnsupportedCmd(r),this.consume()}return a}formLigatures(t){for(var n=t.length-1,i=0;i<n;++i){var r=t[i],a=r.text;a==="-"&&t[i+1].text==="-"&&(i+1<n&&t[i+2].text==="-"?(t.splice(i,3,{type:"textord",mode:"text",loc:Ja.range(r,t[i+2]),text:"---"}),n-=2):(t.splice(i,2,{type:"textord",mode:"text",loc:Ja.range(r,t[i+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&t[i+1].text===a&&(t.splice(i,2,{type:"textord",mode:"text",loc:Ja.range(r,t[i+1]),text:a+a}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var i=n.slice(5),r=i.charAt(0)==="*";if(r&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new ft(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:r}}IB.hasOwnProperty(n[0])&&!Ri[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=IB[n[0]]+n.slice(1));var a=yq.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="\u0131":n==="j"&&(n="\u0237"));var s;if(Ri[this.mode][n]){this.settings.strict&&this.mode==="math"&&y4.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var o=Ri[this.mode][n].group,c=Ja.range(t),A;if(AY.hasOwnProperty(o)){var l=o;A={type:"atom",mode:this.mode,family:l,loc:c,text:n}}else A={type:o,mode:this.mode,loc:c,text:n};s=A}else if(n.charCodeAt(0)>=128)this.settings.strict&&(YG(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:Ja.range(t),text:n};else return null;if(this.consume(),a)for(var u=0;u<a[0].length;u++){var d=a[0][u];if(!Mv[d])throw new ft("Unknown accent ' "+d+"'",t);var p=Mv[d][this.mode]||Mv[d].text;if(!p)throw new ft("Accent "+d+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:Ja.range(t),label:p,isStretchy:!1,isShifty:!0,base:s}}return s}}eh.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var n7=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new eh(t,n);delete i.gullet.macros.current["\\df@tag"];var r=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ft("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:i.subparse([new Jo("\\df@tag")])}]}return r},HM=function(t,n,i){n.textContent="";var r=i7(t,i).toNode();n.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),HM=function(){throw new ft("KaTeX doesn't work in quirks mode.")});var Eq=function(t,n){var i=i7(t,n).toMarkup();return i},_q=function(t,n){var i=new Dx(n);return n7(t,i)},QM=function(t,n,i){if(i.throwOnError||!(t instanceof ft))throw t;var r=Oe.makeSpan(["katex-error"],[new Qs(n)]);return r.setAttribute("title",t.toString()),r.setAttribute("style","color:"+i.errorColor),r},i7=function(t,n){var i=new Dx(n);try{var r=n7(t,i);return TY(r,t,i)}catch(a){return QM(a,t,i)}},xq=function(t,n){var i=new Dx(n);try{var r=n7(t,i);return FY(r,t,i)}catch(a){return QM(a,t,i)}},LB={version:"0.16.8",render:HM,renderToString:Eq,ParseError:ft,SETTINGS_SCHEMA:tg,__parse:_q,__renderToDomTree:i7,__renderToHTMLTree:xq,__setFontMetrics:nY,__defineSymbol:N,__defineFunction:Ct,__defineMacro:J,__domTree:{Span:tm,Anchor:Hx,SymbolNode:Qs,SvgNode:e0,PathNode:pA,LineNode:m4}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _4=function(e,t){return _4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},_4(e,t)};function xo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_4(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var x4=function(){return x4=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},x4.apply(this,arguments)};function Aa(e,t,n,i){function r(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(l){try{A(i.next(l))}catch(u){s(u)}}function c(l){try{A(i.throw(l))}catch(u){s(u)}}function A(l){l.done?a(l.value):r(l.value).then(o,c)}A((i=i.apply(e,t||[])).next())})}function jr(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(A){return function(l){return c([A,l])}}function c(A){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(a=A[0]&2?r.return:A[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,A[1])).done)return a;switch(r=0,a&&(A=[A[0]&2,a.value]),A[0]){case 0:case 1:a=A;break;case 4:return n.label++,{value:A[1],done:!1};case 5:n.label++,r=A[1],A=[0];continue;case 7:A=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(A[0]===6||A[0]===2)){n=0;continue}if(A[0]===3&&(!a||A[1]>a[0]&&A[1]<a[3])){n.label=A[1];break}if(A[0]===6&&n.label<a[1]){n.label=a[1],a=A;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(A);break}a[2]&&n.ops.pop(),n.trys.pop();continue}A=t.call(e,n)}catch(l){A=[6,l],r=0}finally{i=a=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function y1(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,a;i<r;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||t)}var i0=function(){function e(t,n,i,r){this.left=t,this.top=n,this.width=i,this.height=r}return e.prototype.add=function(t,n,i,r){return new e(this.left+t,this.top+n,this.width+i,this.height+r)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var i=Array.from(n).find(function(r){return r.width!==0});return i?new e(i.left+t.windowBounds.left,i.top+t.windowBounds.top,i.width,i.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),g2=function(e,t){return i0.fromClientRect(e,t.getBoundingClientRect())},Bq=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var i=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),r=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new i0(0,0,i,r)},b2=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((r&1023)<<10)+(a&1023)+65536):(t.push(r),n--)}else t.push(r)}return t},nr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,a="";++r<n;){var s=e[r];s<=65535?i.push(s):(s-=65536,i.push((s>>10)+55296,s%1024+56320)),(r+1===n||i.length>16384)&&(a+=String.fromCharCode.apply(String,i),i.length=0)}return a},PB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rq=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var g1=0;g1<PB.length;g1++)Rq[PB.charCodeAt(g1)]=g1;var UB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var b1=0;b1<UB.length;b1++)sf[UB.charCodeAt(b1)]=b1;var Cq=function(e){var t=e.length*.75,n=e.length,i,r=0,a,s,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),l=Array.isArray(A)?A:new Uint8Array(A);for(i=0;i<n;i+=4)a=sf[e.charCodeAt(i)],s=sf[e.charCodeAt(i+1)],o=sf[e.charCodeAt(i+2)],c=sf[e.charCodeAt(i+3)],l[r++]=a<<2|s>>4,l[r++]=(s&15)<<4|o>>2,l[r++]=(o&3)<<6|c&63;return A},Nq=function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n},Sq=function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n},ul=5,r7=6+5,Tv=2,Gq=r7-ul,zM=65536>>ul,Mq=1<<ul,Fv=Mq-1,Tq=1024>>ul,Fq=zM+Tq,Iq=Fq,Lq=32,Pq=Iq+Lq,Uq=65536>>r7,Dq=1<<Gq,kq=Dq-1,DB=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Oq=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Hq=function(e,t){var n=Cq(e),i=Array.isArray(n)?Sq(n):new Uint32Array(n),r=Array.isArray(n)?Nq(n):new Uint16Array(n),a=24,s=DB(r,a/2,i[4]/2),o=i[5]===2?DB(r,(a+i[4])/2):Oq(i,Math.ceil((a+i[4])/4));return new Qq(i[0],i[1],i[2],i[3],s,o)},Qq=function(){function e(t,n,i,r,a,s){this.initialValue=t,this.errorValue=n,this.highStart=i,this.highValueIndex=r,this.index=a,this.data=s}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>ul],n=(n<<Tv)+(t&Fv),this.data[n];if(t<=65535)return n=this.index[zM+(t-55296>>ul)],n=(n<<Tv)+(t&Fv),this.data[n];if(t<this.highStart)return n=Pq-Uq+(t>>r7),n=this.index[n],n+=t>>ul&kq,n=this.index[n],n=(n<<Tv)+(t&Fv),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),kB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zq=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var v1=0;v1<kB.length;v1++)zq[kB.charCodeAt(v1)]=v1;var Vq="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",OB=50,Kq=1,VM=2,KM=3,Wq=4,$q=5,HB=7,WM=8,QB=9,J0=10,B4=11,zB=12,R4=13,jq=14,of=15,C4=16,w1=17,Cp=18,Yq=19,VB=20,N4=21,Np=22,Iv=23,au=24,qa=25,cf=26,Af=27,su=28,qq=29,il=30,Xq=31,E1=32,_1=33,S4=34,G4=35,M4=36,th=37,T4=38,ig=39,rg=40,Lv=41,$M=42,Zq=43,Jq=[9001,65288],jM="!",On="\xD7",x1="\xF7",F4=Hq(Vq),Sc=[il,M4],I4=[Kq,VM,KM,$q],YM=[J0,WM],KB=[Af,cf],eX=I4.concat(YM),WB=[T4,ig,rg,S4,G4],tX=[of,R4],nX=function(e,t){t===void 0&&(t="strict");var n=[],i=[],r=[];return e.forEach(function(a,s){var o=F4.get(a);if(o>OB?(r.push(!0),o-=OB):r.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return i.push(s),n.push(C4);if(o===Wq||o===B4){if(s===0)return i.push(s),n.push(il);var c=n[s-1];return eX.indexOf(c)===-1?(i.push(i[s-1]),n.push(c)):(i.push(s),n.push(il))}if(i.push(s),o===Xq)return n.push(t==="strict"?N4:th);if(o===$M||o===qq)return n.push(il);if(o===Zq)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(th):n.push(il);n.push(o)}),[i,n,r]},Pv=function(e,t,n,i){var r=i[n];if(Array.isArray(e)?e.indexOf(r)!==-1:e===r)for(var a=n;a<=i.length;){a++;var s=i[a];if(s===t)return!0;if(s!==J0)break}if(r===J0)for(var a=n;a>0;){a--;var o=i[a];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var c=n;c<=i.length;){c++;var s=i[c];if(s===t)return!0;if(s!==J0)break}if(o!==J0)break}return!1},$B=function(e,t){for(var n=e;n>=0;){var i=t[n];if(i===J0)n--;else return i}return 0},iX=function(e,t,n,i,r){if(n[i]===0)return On;var a=i-1;if(Array.isArray(r)&&r[a]===!0)return On;var s=a-1,o=a+1,c=t[a],A=s>=0?t[s]:0,l=t[o];if(c===VM&&l===KM)return On;if(I4.indexOf(c)!==-1)return jM;if(I4.indexOf(l)!==-1||YM.indexOf(l)!==-1)return On;if($B(a,t)===WM)return x1;if(F4.get(e[a])===B4||(c===E1||c===_1)&&F4.get(e[o])===B4||c===HB||l===HB||c===QB||[J0,R4,of].indexOf(c)===-1&&l===QB||[w1,Cp,Yq,au,su].indexOf(l)!==-1||$B(a,t)===Np||Pv(Iv,Np,a,t)||Pv([w1,Cp],N4,a,t)||Pv(zB,zB,a,t))return On;if(c===J0)return x1;if(c===Iv||l===Iv)return On;if(l===C4||c===C4)return x1;if([R4,of,N4].indexOf(l)!==-1||c===jq||A===M4&&tX.indexOf(c)!==-1||c===su&&l===M4||l===VB||Sc.indexOf(l)!==-1&&c===qa||Sc.indexOf(c)!==-1&&l===qa||c===Af&&[th,E1,_1].indexOf(l)!==-1||[th,E1,_1].indexOf(c)!==-1&&l===cf||Sc.indexOf(c)!==-1&&KB.indexOf(l)!==-1||KB.indexOf(c)!==-1&&Sc.indexOf(l)!==-1||[Af,cf].indexOf(c)!==-1&&(l===qa||[Np,of].indexOf(l)!==-1&&t[o+1]===qa)||[Np,of].indexOf(c)!==-1&&l===qa||c===qa&&[qa,su,au].indexOf(l)!==-1)return On;if([qa,su,au,w1,Cp].indexOf(l)!==-1)for(var u=a;u>=0;){var d=t[u];if(d===qa)return On;if([su,au].indexOf(d)!==-1)u--;else break}if([Af,cf].indexOf(l)!==-1)for(var u=[w1,Cp].indexOf(c)!==-1?s:a;u>=0;){var d=t[u];if(d===qa)return On;if([su,au].indexOf(d)!==-1)u--;else break}if(T4===c&&[T4,ig,S4,G4].indexOf(l)!==-1||[ig,S4].indexOf(c)!==-1&&[ig,rg].indexOf(l)!==-1||[rg,G4].indexOf(c)!==-1&&l===rg||WB.indexOf(c)!==-1&&[VB,cf].indexOf(l)!==-1||WB.indexOf(l)!==-1&&c===Af||Sc.indexOf(c)!==-1&&Sc.indexOf(l)!==-1||c===au&&Sc.indexOf(l)!==-1||Sc.concat(qa).indexOf(c)!==-1&&l===Np&&Jq.indexOf(e[o])===-1||Sc.concat(qa).indexOf(l)!==-1&&c===Cp)return On;if(c===Lv&&l===Lv){for(var p=n[a],h=1;p>0&&(p--,t[p]===Lv);)h++;if(h%2!==0)return On}return c===E1&&l===_1?On:x1},rX=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=nX(e,t.lineBreak),i=n[0],r=n[1],a=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(r=r.map(function(o){return[qa,il,$M].indexOf(o)!==-1?th:o}));var s=t.wordBreak==="keep-all"?a.map(function(o,c){return o&&e[c]>=19968&&e[c]<=40959}):void 0;return[i,r,s]},aX=function(){function e(t,n,i,r){this.codePoints=t,this.required=n===jM,this.start=i,this.end=r}return e.prototype.slice=function(){return nr.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),sX=function(e,t){var n=b2(e),i=rX(n,t),r=i[0],a=i[1],s=i[2],o=n.length,c=0,A=0;return{next:function(){if(A>=o)return{done:!0,value:null};for(var l=On;A<o&&(l=iX(n,a,r,++A,s))===On;);if(l!==On||A===o){var u=new aX(n,l,c,A);return c=A,{value:u,done:!1}}return{done:!0,value:null}}}},oX=1<<0,cX=1<<1,im=1<<2,jB=1<<3,jg=10,YB=47,Sf=92,AX=9,lX=32,B1=34,Sp=61,uX=35,dX=36,pX=37,R1=39,C1=40,Gp=41,fX=95,Ma=45,hX=33,mX=60,yX=62,gX=64,bX=91,vX=93,wX=61,EX=123,N1=63,_X=125,qB=124,xX=126,BX=128,XB=65533,Uv=42,sl=43,RX=44,CX=58,NX=59,nh=46,SX=0,GX=8,MX=11,TX=14,FX=31,IX=127,Mo=-1,qM=48,XM=97,ZM=101,LX=102,PX=117,UX=122,JM=65,eT=69,tT=70,DX=85,kX=90,Xr=function(e){return e>=qM&&e<=57},OX=function(e){return e>=55296&&e<=57343},ou=function(e){return Xr(e)||e>=JM&&e<=tT||e>=XM&&e<=LX},HX=function(e){return e>=XM&&e<=UX},QX=function(e){return e>=JM&&e<=kX},zX=function(e){return HX(e)||QX(e)},VX=function(e){return e>=BX},S1=function(e){return e===jg||e===AX||e===lX},Yg=function(e){return zX(e)||VX(e)||e===fX},ZB=function(e){return Yg(e)||Xr(e)||e===Ma},KX=function(e){return e>=SX&&e<=GX||e===MX||e>=TX&&e<=FX||e===IX},Y0=function(e,t){return e!==Sf?!1:t!==jg},G1=function(e,t,n){return e===Ma?Yg(t)||Y0(t,n):Yg(e)?!0:!!(e===Sf&&Y0(e,t))},Dv=function(e,t,n){return e===sl||e===Ma?Xr(t)?!0:t===nh&&Xr(n):Xr(e===nh?t:e)},WX=function(e){var t=0,n=1;(e[t]===sl||e[t]===Ma)&&(e[t]===Ma&&(n=-1),t++);for(var i=[];Xr(e[t]);)i.push(e[t++]);var r=i.length?parseInt(nr.apply(void 0,i),10):0;e[t]===nh&&t++;for(var a=[];Xr(e[t]);)a.push(e[t++]);var s=a.length,o=s?parseInt(nr.apply(void 0,a),10):0;(e[t]===eT||e[t]===ZM)&&t++;var c=1;(e[t]===sl||e[t]===Ma)&&(e[t]===Ma&&(c=-1),t++);for(var A=[];Xr(e[t]);)A.push(e[t++]);var l=A.length?parseInt(nr.apply(void 0,A),10):0;return n*(r+o*Math.pow(10,-s))*Math.pow(10,c*l)},$X={type:2},jX={type:3},YX={type:4},qX={type:13},XX={type:8},ZX={type:21},JX={type:9},eZ={type:10},tZ={type:11},nZ={type:12},iZ={type:14},M1={type:23},rZ={type:1},aZ={type:25},sZ={type:24},oZ={type:26},cZ={type:27},AZ={type:28},lZ={type:29},uZ={type:31},L4={type:32},nT=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(b2(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==L4;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case B1:return this.consumeStringToken(B1);case uX:var n=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);if(ZB(n)||Y0(i,r)){var a=G1(n,i,r)?cX:oX,s=this.consumeName();return{type:5,value:s,flags:a}}break;case dX:if(this.peekCodePoint(0)===Sp)return this.consumeCodePoint(),qX;break;case R1:return this.consumeStringToken(R1);case C1:return $X;case Gp:return jX;case Uv:if(this.peekCodePoint(0)===Sp)return this.consumeCodePoint(),iZ;break;case sl:if(Dv(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case RX:return YX;case Ma:var o=t,c=this.peekCodePoint(0),A=this.peekCodePoint(1);if(Dv(o,c,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(G1(o,c,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Ma&&A===yX)return this.consumeCodePoint(),this.consumeCodePoint(),sZ;break;case nh:if(Dv(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case YB:if(this.peekCodePoint(0)===Uv)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===Uv&&(l=this.consumeCodePoint(),l===YB))return this.consumeToken();if(l===Mo)return this.consumeToken()}break;case CX:return oZ;case NX:return cZ;case mX:if(this.peekCodePoint(0)===hX&&this.peekCodePoint(1)===Ma&&this.peekCodePoint(2)===Ma)return this.consumeCodePoint(),this.consumeCodePoint(),aZ;break;case gX:var u=this.peekCodePoint(0),d=this.peekCodePoint(1),p=this.peekCodePoint(2);if(G1(u,d,p)){var s=this.consumeName();return{type:7,value:s}}break;case bX:return AZ;case Sf:if(Y0(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case vX:return lZ;case wX:if(this.peekCodePoint(0)===Sp)return this.consumeCodePoint(),XX;break;case EX:return tZ;case _X:return nZ;case PX:case DX:var h=this.peekCodePoint(0),g=this.peekCodePoint(1);return h===sl&&(ou(g)||g===N1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case qB:if(this.peekCodePoint(0)===Sp)return this.consumeCodePoint(),JX;if(this.peekCodePoint(0)===qB)return this.consumeCodePoint(),ZX;break;case xX:if(this.peekCodePoint(0)===Sp)return this.consumeCodePoint(),eZ;break;case Mo:return L4}return S1(t)?(this.consumeWhiteSpace(),uZ):Xr(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Yg(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:nr(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();ou(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var i=!1;n===N1&&t.length<6;)t.push(n),n=this.consumeCodePoint(),i=!0;if(i){var r=parseInt(nr.apply(void 0,t.map(function(c){return c===N1?qM:c})),16),a=parseInt(nr.apply(void 0,t.map(function(c){return c===N1?tT:c})),16);return{type:30,start:r,end:a}}var s=parseInt(nr.apply(void 0,t),16);if(this.peekCodePoint(0)===Ma&&ou(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];ou(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var a=parseInt(nr.apply(void 0,o),16);return{type:30,start:s,end:a}}else return{type:30,start:s,end:s}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===C1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===C1?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Mo)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===R1||n===B1){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Mo||this.peekCodePoint(0)===Gp)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),M1)}for(;;){var r=this.consumeCodePoint();if(r===Mo||r===Gp)return{type:22,value:nr.apply(void 0,t)};if(S1(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Mo||this.peekCodePoint(0)===Gp?(this.consumeCodePoint(),{type:22,value:nr.apply(void 0,t)}):(this.consumeBadUrlRemnants(),M1);if(r===B1||r===R1||r===C1||KX(r))return this.consumeBadUrlRemnants(),M1;if(r===Sf)if(Y0(r,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),M1;else t.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;S1(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Gp||t===Mo)return;Y0(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,i="";t>0;){var r=Math.min(n,t);i+=nr.apply(void 0,this._value.splice(0,r)),t-=r}return this._value.shift(),i},e.prototype.consumeStringToken=function(t){var n="",i=0;do{var r=this._value[i];if(r===Mo||r===void 0||r===t)return n+=this.consumeStringSlice(i),{type:0,value:n};if(r===jg)return this._value.splice(0,i),rZ;if(r===Sf){var a=this._value[i+1];a!==Mo&&a!==void 0&&(a===jg?(n+=this.consumeStringSlice(i),i=-1,this._value.shift()):Y0(r,a)&&(n+=this.consumeStringSlice(i),n+=nr(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=im,i=this.peekCodePoint(0);for((i===sl||i===Ma)&&t.push(this.consumeCodePoint());Xr(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(i===nh&&Xr(r))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=jB;Xr(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0),r=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((i===eT||i===ZM)&&((r===sl||r===Ma)&&Xr(a)||Xr(r)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=jB;Xr(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[WX(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],i=t[1],r=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(G1(r,a,s)){var o=this.consumeName();return{type:15,number:n,flags:i,unit:o}}return r===pX?(this.consumeCodePoint(),{type:16,number:n,flags:i}):{type:17,number:n,flags:i}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(ou(t)){for(var n=nr(t);ou(this.peekCodePoint(0))&&n.length<6;)n+=nr(this.consumeCodePoint());S1(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(n,16);return i===0||OX(i)||i>1114111?XB:i}return t===Mo?XB:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(ZB(n))t+=nr(n);else if(Y0(n,this.peekCodePoint(0)))t+=nr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),iT=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new nT;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},i=this.consumeToken();;){if(i.type===32||pZ(i,t))return n;this.reconsumeToken(i),n.values.push(this.consumeComponentValue()),i=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return n;this.reconsumeToken(i),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?L4:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),rm=function(e){return e.type===15},qd=function(e){return e.type===17},mi=function(e){return e.type===20},dZ=function(e){return e.type===0},P4=function(e,t){return mi(e)&&e.value===t},rT=function(e){return e.type!==31},_d=function(e){return e.type!==31&&e.type!==4},fc=function(e){var t=[],n=[];return e.forEach(function(i){if(i.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}i.type!==31&&n.push(i)}),n.length&&t.push(n),t},pZ=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},hA=function(e){return e.type===17||e.type===15},cr=function(e){return e.type===16||hA(e)},aT=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Dr={type:17,number:0,flags:im},a7={type:16,number:50,flags:im},eA={type:16,number:100,flags:im},lf=function(e,t,n){var i=e[0],r=e[1];return[Bi(i,t),Bi(typeof r<"u"?r:i,n)]},Bi=function(e,t){if(e.type===16)return e.number/100*t;if(rm(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},sT="deg",oT="grad",cT="rad",AT="turn",v2={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case sT:return Math.PI*t.number/180;case oT:return Math.PI/200*t.number;case cT:return t.number;case AT:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},lT=function(e){return e.type===15&&(e.unit===sT||e.unit===oT||e.unit===cT||e.unit===AT)},uT=function(e){var t=e.filter(mi).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Dr,Dr];case"to top":case"bottom":return Ls(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Dr,eA];case"to right":case"left":return Ls(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[eA,eA];case"to bottom":case"top":return Ls(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[eA,Dr];case"to left":case"right":return Ls(270)}return 0},Ls=function(e){return Math.PI*e/180},iA={name:"color",parse:function(e,t){if(t.type===18){var n=fZ[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var i=t.value.substring(0,1),r=t.value.substring(1,2),a=t.value.substring(2,3);return tA(parseInt(i+i,16),parseInt(r+r,16),parseInt(a+a,16),1)}if(t.value.length===4){var i=t.value.substring(0,1),r=t.value.substring(1,2),a=t.value.substring(2,3),s=t.value.substring(3,4);return tA(parseInt(i+i,16),parseInt(r+r,16),parseInt(a+a,16),parseInt(s+s,16)/255)}if(t.value.length===6){var i=t.value.substring(0,2),r=t.value.substring(2,4),a=t.value.substring(4,6);return tA(parseInt(i,16),parseInt(r,16),parseInt(a,16),1)}if(t.value.length===8){var i=t.value.substring(0,2),r=t.value.substring(2,4),a=t.value.substring(4,6),s=t.value.substring(6,8);return tA(parseInt(i,16),parseInt(r,16),parseInt(a,16),parseInt(s,16)/255)}}if(t.type===20){var o=qc[t.value.toUpperCase()];if(typeof o<"u")return o}return qc.TRANSPARENT}},rA=function(e){return(255&e)===0},Br=function(e){var t=255&e,n=255&e>>8,i=255&e>>16,r=255&e>>24;return t<255?"rgba("+r+","+i+","+n+","+t/255+")":"rgb("+r+","+i+","+n+")"},tA=function(e,t,n,i){return(e<<24|t<<16|n<<8|Math.round(i*255)<<0)>>>0},JB=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},e6=function(e,t){var n=t.filter(_d);if(n.length===3){var i=n.map(JB),r=i[0],a=i[1],s=i[2];return tA(r,a,s,1)}if(n.length===4){var o=n.map(JB),r=o[0],a=o[1],s=o[2],c=o[3];return tA(r,a,s,c)}return 0};function kv(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var t6=function(e,t){var n=t.filter(_d),i=n[0],r=n[1],a=n[2],s=n[3],o=(i.type===17?Ls(i.number):v2.parse(e,i))/(Math.PI*2),c=cr(r)?r.number/100:0,A=cr(a)?a.number/100:0,l=typeof s<"u"&&cr(s)?Bi(s,1):1;if(c===0)return tA(A*255,A*255,A*255,1);var u=A<=.5?A*(c+1):A+c-A*c,d=A*2-u,p=kv(d,u,o+1/3),h=kv(d,u,o),g=kv(d,u,o-1/3);return tA(p*255,h*255,g*255,l)},fZ={hsl:t6,hsla:t6,rgb:e6,rgba:e6},Gf=function(e,t){return iA.parse(e,iT.create(t).parseComponentValue())},qc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hZ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(mi(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},mZ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},w2=function(e,t){var n=iA.parse(e,t[0]),i=t[1];return i&&cr(i)?{color:n,stop:i}:{color:n,stop:null}},n6=function(e,t){var n=e[0],i=e[e.length-1];n.stop===null&&(n.stop=Dr),i.stop===null&&(i.stop=eA);for(var r=[],a=0,s=0;s<e.length;s++){var o=e[s].stop;if(o!==null){var c=Bi(o,t);c>a?r.push(c):r.push(a),a=c}else r.push(null)}for(var A=null,s=0;s<r.length;s++){var l=r[s];if(l===null)A===null&&(A=s);else if(A!==null){for(var u=s-A,d=r[A-1],p=(l-d)/(u+1),h=1;h<=u;h++)r[A+h-1]=p*h;A=null}}return e.map(function(g,b){var y=g.color;return{color:y,stop:Math.max(Math.min(1,r[b]/t),0)}})},yZ=function(e,t,n){var i=t/2,r=n/2,a=Bi(e[0],t)-i,s=r-Bi(e[1],n);return(Math.atan2(s,a)+Math.PI*2)%(Math.PI*2)},gZ=function(e,t,n){var i=typeof e=="number"?e:yZ(e,t,n),r=Math.abs(t*Math.sin(i))+Math.abs(n*Math.cos(i)),a=t/2,s=n/2,o=r/2,c=Math.sin(i-Math.PI/2)*o,A=Math.cos(i-Math.PI/2)*o;return[r,a-A,a+A,s-c,s+c]},co=function(e,t){return Math.sqrt(e*e+t*t)},i6=function(e,t,n,i,r){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(s,o){var c=o[0],A=o[1],l=co(n-c,i-A);return(r?l<s.optimumDistance:l>s.optimumDistance)?{optimumCorner:o,optimumDistance:l}:s},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},bZ=function(e,t,n,i,r){var a=0,s=0;switch(e.size){case 0:e.shape===0?a=s=Math.min(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-i)),s=Math.min(Math.abs(n),Math.abs(n-r)));break;case 2:if(e.shape===0)a=s=Math.min(co(t,n),co(t,n-r),co(t-i,n),co(t-i,n-r));else if(e.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(t),Math.abs(t-i)),c=i6(i,r,t,n,!0),A=c[0],l=c[1];a=co(A-t,(l-n)/o),s=o*a}break;case 1:e.shape===0?a=s=Math.max(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-i)),s=Math.max(Math.abs(n),Math.abs(n-r)));break;case 3:if(e.shape===0)a=s=Math.max(co(t,n),co(t,n-r),co(t-i,n),co(t-i,n-r));else if(e.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(t),Math.abs(t-i)),u=i6(i,r,t,n,!1),A=u[0],l=u[1];a=co(A-t,(l-n)/o),s=o*a}break}return Array.isArray(e.size)&&(a=Bi(e.size[0],i),s=e.size.length===2?Bi(e.size[1],r):a),[a,s]},vZ=function(e,t){var n=Ls(180),i=[];return fc(t).forEach(function(r,a){if(a===0){var s=r[0];if(s.type===20&&s.value==="to"){n=uT(r);return}else if(lT(s)){n=v2.parse(e,s);return}}var o=w2(e,r);i.push(o)}),{angle:n,stops:i,type:1}},T1=function(e,t){var n=Ls(180),i=[];return fc(t).forEach(function(r,a){if(a===0){var s=r[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){n=uT(r);return}else if(lT(s)){n=(v2.parse(e,s)+Ls(270))%Ls(360);return}}var o=w2(e,r);i.push(o)}),{angle:n,stops:i,type:1}},wZ=function(e,t){var n=Ls(180),i=[],r=1,a=0,s=3,o=[];return fc(t).forEach(function(c,A){var l=c[0];if(A===0){if(mi(l)&&l.value==="linear"){r=1;return}else if(mi(l)&&l.value==="radial"){r=2;return}}if(l.type===18){if(l.name==="from"){var u=iA.parse(e,l.values[0]);i.push({stop:Dr,color:u})}else if(l.name==="to"){var u=iA.parse(e,l.values[0]);i.push({stop:eA,color:u})}else if(l.name==="color-stop"){var d=l.values.filter(_d);if(d.length===2){var u=iA.parse(e,d[1]),p=d[0];qd(p)&&i.push({stop:{type:16,number:p.number*100,flags:p.flags},color:u})}}}}),r===1?{angle:(n+Ls(180))%Ls(360),stops:i,type:r}:{size:s,shape:a,stops:i,position:o,type:r}},dT="closest-side",pT="farthest-side",fT="closest-corner",hT="farthest-corner",mT="circle",yT="ellipse",gT="cover",bT="contain",EZ=function(e,t){var n=0,i=3,r=[],a=[];return fc(t).forEach(function(s,o){var c=!0;if(o===0){var A=!1;c=s.reduce(function(u,d){if(A)if(mi(d))switch(d.value){case"center":return a.push(a7),u;case"top":case"left":return a.push(Dr),u;case"right":case"bottom":return a.push(eA),u}else(cr(d)||hA(d))&&a.push(d);else if(mi(d))switch(d.value){case mT:return n=0,!1;case yT:return n=1,!1;case"at":return A=!0,!1;case dT:return i=0,!1;case gT:case pT:return i=1,!1;case bT:case fT:return i=2,!1;case hT:return i=3,!1}else if(hA(d)||cr(d))return Array.isArray(i)||(i=[]),i.push(d),!1;return u},c)}if(c){var l=w2(e,s);r.push(l)}}),{size:i,shape:n,stops:r,position:a,type:2}},F1=function(e,t){var n=0,i=3,r=[],a=[];return fc(t).forEach(function(s,o){var c=!0;if(o===0?c=s.reduce(function(l,u){if(mi(u))switch(u.value){case"center":return a.push(a7),!1;case"top":case"left":return a.push(Dr),!1;case"right":case"bottom":return a.push(eA),!1}else if(cr(u)||hA(u))return a.push(u),!1;return l},c):o===1&&(c=s.reduce(function(l,u){if(mi(u))switch(u.value){case mT:return n=0,!1;case yT:return n=1,!1;case bT:case dT:return i=0,!1;case pT:return i=1,!1;case fT:return i=2,!1;case gT:case hT:return i=3,!1}else if(hA(u)||cr(u))return Array.isArray(i)||(i=[]),i.push(u),!1;return l},c)),c){var A=w2(e,s);r.push(A)}}),{size:i,shape:n,stops:r,position:a,type:2}},_Z=function(e){return e.type===1},xZ=function(e){return e.type===2},s7={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var i=vT[t.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return i(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function BZ(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!vT[e.name])}var vT={"linear-gradient":vZ,"-moz-linear-gradient":T1,"-ms-linear-gradient":T1,"-o-linear-gradient":T1,"-webkit-linear-gradient":T1,"radial-gradient":EZ,"-moz-radial-gradient":F1,"-ms-radial-gradient":F1,"-o-radial-gradient":F1,"-webkit-radial-gradient":F1,"-webkit-gradient":wZ},RZ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(i){return _d(i)&&BZ(i)}).map(function(i){return s7.parse(e,i)})}},CZ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(mi(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},NZ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return fc(t).map(function(n){return n.filter(cr)}).map(aT)}},SZ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return fc(t).map(function(n){return n.filter(mi).map(function(i){return i.value}).join(" ")}).map(GZ)}},GZ=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},cd;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(cd||(cd={}));var MZ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return fc(t).map(function(n){return n.filter(TZ)})}},TZ=function(e){return mi(e)||cr(e)},E2=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},FZ=E2("top"),IZ=E2("right"),LZ=E2("bottom"),PZ=E2("left"),_2=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return aT(n.filter(cr))}}},UZ=_2("top-left"),DZ=_2("top-right"),kZ=_2("bottom-right"),OZ=_2("bottom-left"),x2=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},HZ=x2("top"),QZ=x2("right"),zZ=x2("bottom"),VZ=x2("left"),B2=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return rm(n)?n.number:0}}},KZ=B2("top"),WZ=B2("right"),$Z=B2("bottom"),jZ=B2("left"),YZ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qZ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},XZ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(mi).reduce(function(n,i){return n|ZZ(i.value)},0)}},ZZ=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},JZ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},eJ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},qg;(function(e){e.NORMAL="normal",e.STRICT="strict"})(qg||(qg={}));var tJ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return qg.STRICT;case"normal":default:return qg.NORMAL}}},nJ={name:"line-height",initialValue:"normal",prefix:!1,type:4},r6=function(e,t){return mi(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:cr(e)?Bi(e,t):t},iJ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:s7.parse(e,t)}},rJ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},U4={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},R2=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},aJ=R2("top"),sJ=R2("right"),oJ=R2("bottom"),cJ=R2("left"),AJ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(mi).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},lJ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},C2=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},uJ=C2("top"),dJ=C2("right"),pJ=C2("bottom"),fJ=C2("left"),hJ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},mJ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},yJ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&P4(t[0],"none")?[]:fc(t).map(function(n){for(var i={color:qc.TRANSPARENT,offsetX:Dr,offsetY:Dr,blur:Dr},r=0,a=0;a<n.length;a++){var s=n[a];hA(s)?(r===0?i.offsetX=s:r===1?i.offsetY=s:i.blur=s,r++):i.color=iA.parse(e,s)}return i})}},gJ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},bJ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=EJ[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},vJ=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},wJ=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),n=t[0],i=t[1];t[2],t[3];var r=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var s=t[12],o=t[13];return t[14],t[15],t.length===16?[n,i,r,a,s,o]:null},EJ={matrix:vJ,matrix3d:wJ},a6={type:16,number:50,flags:im},_J=[a6,a6],xJ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(cr);return n.length!==2?_J:[n[0],n[1]]}},BJ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Mf;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Mf||(Mf={}));var RJ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Mf.BREAK_ALL;case"keep-all":return Mf.KEEP_ALL;case"normal":default:return Mf.NORMAL}}},CJ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(qd(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},wT={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},NJ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return qd(t)?t.number:1}},SJ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},GJ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(mi).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},MJ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],i=[];return t.forEach(function(r){switch(r.type){case 20:case 0:n.push(r.value);break;case 17:n.push(r.number.toString());break;case 4:i.push(n.join(" ")),n.length=0;break}}),n.length&&i.push(n.join(" ")),i.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},TJ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},FJ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(qd(t))return t.number;if(mi(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},IJ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(mi).map(function(n){return n.value})}},LJ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},gr=function(e,t){return(e&t)!==0},PJ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},UJ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var i=[],r=t.filter(rT),a=0;a<r.length;a++){var s=r[a],o=r[a+1];if(s.type===20){var c=o&&qd(o)?o.number:1;i.push({counter:s.value,increment:c})}}return i}},DJ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],i=t.filter(rT),r=0;r<i.length;r++){var a=i[r],s=i[r+1];if(mi(a)&&a.value!=="none"){var o=s&&qd(s)?s.number:0;n.push({counter:a.value,reset:o})}}return n}},kJ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(rm).map(function(n){return wT.parse(e,n)})}},OJ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var i=[],r=t.filter(dZ);if(r.length%2!==0)return null;for(var a=0;a<r.length;a+=2){var s=r[a].value,o=r[a+1].value;i.push({open:s,close:o})}return i}},s6=function(e,t,n){if(!e)return"";var i=e[Math.min(t,e.length-1)];return i?n?i.open:i.close:""},HJ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&P4(t[0],"none")?[]:fc(t).map(function(n){for(var i={color:255,offsetX:Dr,offsetY:Dr,blur:Dr,spread:Dr,inset:!1},r=0,a=0;a<n.length;a++){var s=n[a];P4(s,"inset")?i.inset=!0:hA(s)?(r===0?i.offsetX=s:r===1?i.offsetY=s:r===2?i.blur=s:i.spread=s,r++):i.color=iA.parse(e,s)}return i})}},QJ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],i=[];return t.filter(mi).forEach(function(r){switch(r.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),n.forEach(function(r){i.indexOf(r)===-1&&i.push(r)}),i}},zJ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},VJ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return rm(t)?t.number:0}},KJ=function(){function e(t,n){var i,r;this.animationDuration=Ft(t,kJ,n.animationDuration),this.backgroundClip=Ft(t,hZ,n.backgroundClip),this.backgroundColor=Ft(t,mZ,n.backgroundColor),this.backgroundImage=Ft(t,RZ,n.backgroundImage),this.backgroundOrigin=Ft(t,CZ,n.backgroundOrigin),this.backgroundPosition=Ft(t,NZ,n.backgroundPosition),this.backgroundRepeat=Ft(t,SZ,n.backgroundRepeat),this.backgroundSize=Ft(t,MZ,n.backgroundSize),this.borderTopColor=Ft(t,FZ,n.borderTopColor),this.borderRightColor=Ft(t,IZ,n.borderRightColor),this.borderBottomColor=Ft(t,LZ,n.borderBottomColor),this.borderLeftColor=Ft(t,PZ,n.borderLeftColor),this.borderTopLeftRadius=Ft(t,UZ,n.borderTopLeftRadius),this.borderTopRightRadius=Ft(t,DZ,n.borderTopRightRadius),this.borderBottomRightRadius=Ft(t,kZ,n.borderBottomRightRadius),this.borderBottomLeftRadius=Ft(t,OZ,n.borderBottomLeftRadius),this.borderTopStyle=Ft(t,HZ,n.borderTopStyle),this.borderRightStyle=Ft(t,QZ,n.borderRightStyle),this.borderBottomStyle=Ft(t,zZ,n.borderBottomStyle),this.borderLeftStyle=Ft(t,VZ,n.borderLeftStyle),this.borderTopWidth=Ft(t,KZ,n.borderTopWidth),this.borderRightWidth=Ft(t,WZ,n.borderRightWidth),this.borderBottomWidth=Ft(t,$Z,n.borderBottomWidth),this.borderLeftWidth=Ft(t,jZ,n.borderLeftWidth),this.boxShadow=Ft(t,HJ,n.boxShadow),this.color=Ft(t,YZ,n.color),this.direction=Ft(t,qZ,n.direction),this.display=Ft(t,XZ,n.display),this.float=Ft(t,JZ,n.cssFloat),this.fontFamily=Ft(t,MJ,n.fontFamily),this.fontSize=Ft(t,TJ,n.fontSize),this.fontStyle=Ft(t,LJ,n.fontStyle),this.fontVariant=Ft(t,IJ,n.fontVariant),this.fontWeight=Ft(t,FJ,n.fontWeight),this.letterSpacing=Ft(t,eJ,n.letterSpacing),this.lineBreak=Ft(t,tJ,n.lineBreak),this.lineHeight=Ft(t,nJ,n.lineHeight),this.listStyleImage=Ft(t,iJ,n.listStyleImage),this.listStylePosition=Ft(t,rJ,n.listStylePosition),this.listStyleType=Ft(t,U4,n.listStyleType),this.marginTop=Ft(t,aJ,n.marginTop),this.marginRight=Ft(t,sJ,n.marginRight),this.marginBottom=Ft(t,oJ,n.marginBottom),this.marginLeft=Ft(t,cJ,n.marginLeft),this.opacity=Ft(t,NJ,n.opacity);var a=Ft(t,AJ,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Ft(t,lJ,n.overflowWrap),this.paddingTop=Ft(t,uJ,n.paddingTop),this.paddingRight=Ft(t,dJ,n.paddingRight),this.paddingBottom=Ft(t,pJ,n.paddingBottom),this.paddingLeft=Ft(t,fJ,n.paddingLeft),this.paintOrder=Ft(t,QJ,n.paintOrder),this.position=Ft(t,mJ,n.position),this.textAlign=Ft(t,hJ,n.textAlign),this.textDecorationColor=Ft(t,SJ,(i=n.textDecorationColor)!==null&&i!==void 0?i:n.color),this.textDecorationLine=Ft(t,GJ,(r=n.textDecorationLine)!==null&&r!==void 0?r:n.textDecoration),this.textShadow=Ft(t,yJ,n.textShadow),this.textTransform=Ft(t,gJ,n.textTransform),this.transform=Ft(t,bJ,n.transform),this.transformOrigin=Ft(t,xJ,n.transformOrigin),this.visibility=Ft(t,BJ,n.visibility),this.webkitTextStrokeColor=Ft(t,zJ,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ft(t,VJ,n.webkitTextStrokeWidth),this.wordBreak=Ft(t,RJ,n.wordBreak),this.zIndex=Ft(t,CJ,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return rA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return gr(this.display,4)||gr(this.display,33554432)||gr(this.display,268435456)||gr(this.display,536870912)||gr(this.display,67108864)||gr(this.display,134217728)},e}(),WJ=function(){function e(t,n){this.content=Ft(t,PJ,n.content),this.quotes=Ft(t,OJ,n.quotes)}return e}(),o6=function(){function e(t,n){this.counterIncrement=Ft(t,UJ,n.counterIncrement),this.counterReset=Ft(t,DJ,n.counterReset)}return e}(),Ft=function(e,t,n){var i=new nT,r=n!==null&&typeof n<"u"?n.toString():t.initialValue;i.write(r);var a=new iT(i.read());switch(t.type){case 2:var s=a.parseComponentValue();return t.parse(e,mi(s)?s.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return v2.parse(e,a.parseComponentValue());case"color":return iA.parse(e,a.parseComponentValue());case"image":return s7.parse(e,a.parseComponentValue());case"length":var o=a.parseComponentValue();return hA(o)?o:Dr;case"length-percentage":var c=a.parseComponentValue();return cr(c)?c:Dr;case"time":return wT.parse(e,a.parseComponentValue())}break}},$J="data-html2canvas-debug",jJ=function(e){var t=e.getAttribute($J);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},D4=function(e,t){var n=jJ(e);return n===1||t===n},hc=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,D4(n,3))debugger;this.styles=new KJ(t,window.getComputedStyle(n,null)),H4(n)&&(this.styles.animationDuration.some(function(i){return i>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=g2(this.context,n),D4(n,4)&&(this.flags|=16)}return e}(),YJ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",c6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var I1=0;I1<c6.length;I1++)uf[c6.charCodeAt(I1)]=I1;var qJ=function(e){var t=e.length*.75,n=e.length,i,r=0,a,s,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),l=Array.isArray(A)?A:new Uint8Array(A);for(i=0;i<n;i+=4)a=uf[e.charCodeAt(i)],s=uf[e.charCodeAt(i+1)],o=uf[e.charCodeAt(i+2)],c=uf[e.charCodeAt(i+3)],l[r++]=a<<2|s>>4,l[r++]=(s&15)<<4|o>>2,l[r++]=(o&3)<<6|c&63;return A},XJ=function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n},ZJ=function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n},dl=5,o7=6+5,Ov=2,JJ=o7-dl,ET=65536>>dl,eee=1<<dl,Hv=eee-1,tee=1024>>dl,nee=ET+tee,iee=nee,ree=32,aee=iee+ree,see=65536>>o7,oee=1<<JJ,cee=oee-1,A6=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Aee=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},lee=function(e,t){var n=qJ(e),i=Array.isArray(n)?ZJ(n):new Uint32Array(n),r=Array.isArray(n)?XJ(n):new Uint16Array(n),a=24,s=A6(r,a/2,i[4]/2),o=i[5]===2?A6(r,(a+i[4])/2):Aee(i,Math.ceil((a+i[4])/4));return new uee(i[0],i[1],i[2],i[3],s,o)},uee=function(){function e(t,n,i,r,a,s){this.initialValue=t,this.errorValue=n,this.highStart=i,this.highValueIndex=r,this.index=a,this.data=s}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>dl],n=(n<<Ov)+(t&Hv),this.data[n];if(t<=65535)return n=this.index[ET+(t-55296>>dl)],n=(n<<Ov)+(t&Hv),this.data[n];if(t<this.highStart)return n=aee-see+(t>>o7),n=this.index[n],n+=t>>dl&cee,n=this.index[n],n=(n<<Ov)+(t&Hv),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),l6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var L1=0;L1<l6.length;L1++)dee[l6.charCodeAt(L1)]=L1;var pee=1,Qv=2,zv=3,u6=4,d6=5,fee=7,p6=8,Vv=9,Kv=10,f6=11,h6=12,m6=13,y6=14,Wv=15,hee=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((r&1023)<<10)+(a&1023)+65536):(t.push(r),n--)}else t.push(r)}return t},mee=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,a="";++r<n;){var s=e[r];s<=65535?i.push(s):(s-=65536,i.push((s>>10)+55296,s%1024+56320)),(r+1===n||i.length>16384)&&(a+=String.fromCharCode.apply(String,i),i.length=0)}return a},yee=lee(YJ),Ss="\xD7",$v="\xF7",gee=function(e){return yee.get(e)},bee=function(e,t,n){var i=n-2,r=t[i],a=t[n-1],s=t[n];if(a===Qv&&s===zv)return Ss;if(a===Qv||a===zv||a===u6||s===Qv||s===zv||s===u6)return $v;if(a===p6&&[p6,Vv,f6,h6].indexOf(s)!==-1||(a===f6||a===Vv)&&(s===Vv||s===Kv)||(a===h6||a===Kv)&&s===Kv||s===m6||s===d6||s===fee||a===pee)return Ss;if(a===m6&&s===y6){for(;r===d6;)r=t[--i];if(r===y6)return Ss}if(a===Wv&&s===Wv){for(var o=0;r===Wv;)o++,r=t[--i];if(o%2===0)return Ss}return $v},vee=function(e){var t=hee(e),n=t.length,i=0,r=0,a=t.map(gee);return{next:function(){if(i>=n)return{done:!0,value:null};for(var s=Ss;i<n&&(s=bee(t,a,++i))===Ss;);if(s!==Ss||i===n){var o=mee.apply(null,t.slice(r,i));return r=i,{value:o,done:!1}}return{done:!0,value:null}}}},wee=function(e){for(var t=vee(e),n=[],i;!(i=t.next()).done;)i.value&&n.push(i.value.slice());return n},Eee=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var i=e.createElement("boundtest");i.style.height=t+"px",i.style.display="block",e.body.appendChild(i),n.selectNode(i);var r=n.getBoundingClientRect(),a=Math.round(r.height);if(e.body.removeChild(i),a===t)return!0}}return!1},_ee=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=t.firstChild,r=b2(i.data).map(function(c){return nr(c)}),a=0,s={},o=r.every(function(c,A){n.setStart(i,a),n.setEnd(i,a+c.length);var l=n.getBoundingClientRect();a+=c.length;var u=l.x>s.x||l.y>s.y;return s=l,A===0?!0:u});return e.body.removeChild(t),o},xee=function(){return typeof new Image().crossOrigin<"u"},Bee=function(){return typeof new XMLHttpRequest().responseType=="string"},Ree=function(e){var t=new Image,n=e.createElement("canvas"),i=n.getContext("2d");if(!i)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},g6=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},Cee=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var i=t.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,n,n);var r=new Image,a=t.toDataURL();r.src=a;var s=k4(n,n,0,0,r);return i.fillStyle="red",i.fillRect(0,0,n,n),b6(s).then(function(o){i.drawImage(o,0,0);var c=i.getImageData(0,0,n,n).data;i.fillStyle="red",i.fillRect(0,0,n,n);var A=e.createElement("div");return A.style.backgroundImage="url("+a+")",A.style.height=n+"px",g6(c)?b6(k4(n,n,0,0,A)):Promise.reject(!1)}).then(function(o){return i.drawImage(o,0,0),g6(i.getImageData(0,0,n,n).data)}).catch(function(){return!1})},k4=function(e,t,n,i,r){var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(r),s},b6=function(e){return new Promise(function(t,n){var i=new Image;i.onload=function(){return t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Lr={get SUPPORT_RANGE_BOUNDS(){var e=Eee(document);return Object.defineProperty(Lr,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Lr.SUPPORT_RANGE_BOUNDS&&_ee(document);return Object.defineProperty(Lr,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Ree(document);return Object.defineProperty(Lr,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?Cee(document):Promise.resolve(!1);return Object.defineProperty(Lr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=xee();return Object.defineProperty(Lr,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Bee();return Object.defineProperty(Lr,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Lr,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Lr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Tf=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),Nee=function(e,t,n,i){var r=Mee(t,n),a=[],s=0;return r.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(Lr.SUPPORT_RANGE_BOUNDS){var c=v6(i,s,o.length).getClientRects();if(c.length>1){var A=c7(o),l=0;A.forEach(function(d){a.push(new Tf(d,i0.fromDOMRectList(e,v6(i,l+s,d.length).getClientRects()))),l+=d.length})}else a.push(new Tf(o,i0.fromDOMRectList(e,c)))}else{var u=i.splitText(o.length);a.push(new Tf(o,See(e,i))),i=u}else Lr.SUPPORT_RANGE_BOUNDS||(i=i.splitText(o.length));s+=o.length}),a},See=function(e,t){var n=t.ownerDocument;if(n){var i=n.createElement("html2canvaswrapper");i.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(i,t);var a=g2(e,i);return i.firstChild&&r.replaceChild(i.firstChild,i),a}}return i0.EMPTY},v6=function(e,t,n){var i=e.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(e,t),r.setEnd(e,t+n),r},c7=function(e){if(Lr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return wee(e)},Gee=function(e,t){if(Lr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(i){return i.segment})}return Fee(e,t)},Mee=function(e,t){return t.letterSpacing!==0?c7(e):Gee(e,t)},Tee=[32,160,4961,65792,65793,4153,4241],Fee=function(e,t){for(var n=sX(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),i=[],r,a=function(){if(r.value){var s=r.value.slice(),o=b2(s),c="";o.forEach(function(A){Tee.indexOf(A)===-1?c+=nr(A):(c.length&&i.push(c),i.push(nr(A)),c="")}),c.length&&i.push(c)}};!(r=n.next()).done;)a();return i},Iee=function(){function e(t,n,i){this.text=Lee(n.data,i.textTransform),this.textBounds=Nee(t,this.text,i,n)}return e}(),Lee=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Pee,Uee);case 2:return e.toUpperCase();default:return e}},Pee=/(^|\s|:|-|\(|\))([a-z])/g,Uee=function(e,t,n){return e.length>0?t+n.toUpperCase():e},_T=function(e){xo(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.src=i.currentSrc||i.src,r.intrinsicWidth=i.naturalWidth,r.intrinsicHeight=i.naturalHeight,r.context.cache.addImage(r.src),r}return t}(hc),xT=function(e){xo(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.canvas=i,r.intrinsicWidth=i.width,r.intrinsicHeight=i.height,r}return t}(hc),BT=function(e){xo(t,e);function t(n,i){var r=e.call(this,n,i)||this,a=new XMLSerializer,s=g2(n,i);return i.setAttribute("width",s.width+"px"),i.setAttribute("height",s.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(i)),r.intrinsicWidth=i.width.baseVal.value,r.intrinsicHeight=i.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t}(hc),RT=function(e){xo(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.value=i.value,r}return t}(hc),O4=function(e){xo(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.start=i.start,r.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,r}return t}(hc),Dee=[{type:15,flags:0,unit:"px",number:3}],kee=[{type:16,flags:0,number:50}],Oee=function(e){return e.width>e.height?new i0(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new i0(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Hee=function(e){var t=e.type===Qee?new Array(e.value.length+1).join("\u2022"):e.value;return t.length===0?e.placeholder||"":t},Xg="checkbox",Zg="radio",Qee="password",w6=707406591,A7=function(e){xo(t,e);function t(n,i){var r=e.call(this,n,i)||this;switch(r.type=i.type.toLowerCase(),r.checked=i.checked,r.value=Hee(i),(r.type===Xg||r.type===Zg)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Oee(r.bounds)),r.type){case Xg:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Dee;break;case Zg:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=kee;break}return r}return t}(hc),CT=function(e){xo(t,e);function t(n,i){var r=e.call(this,n,i)||this,a=i.options[i.selectedIndex||0];return r.value=a&&a.text||"",r}return t}(hc),NT=function(e){xo(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.value=i.value,r}return t}(hc),ST=function(e){xo(t,e);function t(n,i){var r=e.call(this,n,i)||this;r.src=i.src,r.width=parseInt(i.width,10)||0,r.height=parseInt(i.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){r.tree=MT(n,i.contentWindow.document.documentElement);var a=i.contentWindow.document.documentElement?Gf(n,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):qc.TRANSPARENT,s=i.contentWindow.document.body?Gf(n,getComputedStyle(i.contentWindow.document.body).backgroundColor):qc.TRANSPARENT;r.backgroundColor=rA(a)?rA(s)?r.styles.backgroundColor:s:a}}catch{}return r}return t}(hc),zee=["OL","UL","MENU"],ag=function(e,t,n,i){for(var r=t.firstChild,a=void 0;r;r=a)if(a=r.nextSibling,TT(r)&&r.data.trim().length>0)n.textNodes.push(new Iee(e,r,n.styles));else if(qu(r))if(PT(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return ag(e,o,n,i)});else{var s=GT(e,r);s.styles.isVisible()&&(Vee(r,s,i)?s.flags|=4:Kee(s.styles)&&(s.flags|=2),zee.indexOf(r.tagName)!==-1&&(s.flags|=8),n.elements.push(s),r.slot,r.shadowRoot?ag(e,r.shadowRoot,s,i):!Jg(r)&&!FT(r)&&!e3(r)&&ag(e,r,s,i))}},GT=function(e,t){return Q4(t)?new _T(e,t):IT(t)?new xT(e,t):FT(t)?new BT(e,t):Wee(t)?new RT(e,t):$ee(t)?new O4(e,t):jee(t)?new A7(e,t):e3(t)?new CT(e,t):Jg(t)?new NT(e,t):LT(t)?new ST(e,t):new hc(e,t)},MT=function(e,t){var n=GT(e,t);return n.flags|=4,ag(e,t,n,n),n},Vee=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||l7(e)&&n.styles.isTransparent()},Kee=function(e){return e.isPositioned()||e.isFloating()},TT=function(e){return e.nodeType===Node.TEXT_NODE},qu=function(e){return e.nodeType===Node.ELEMENT_NODE},H4=function(e){return qu(e)&&typeof e.style<"u"&&!sg(e)},sg=function(e){return typeof e.className=="object"},Wee=function(e){return e.tagName==="LI"},$ee=function(e){return e.tagName==="OL"},jee=function(e){return e.tagName==="INPUT"},Yee=function(e){return e.tagName==="HTML"},FT=function(e){return e.tagName==="svg"},l7=function(e){return e.tagName==="BODY"},IT=function(e){return e.tagName==="CANVAS"},E6=function(e){return e.tagName==="VIDEO"},Q4=function(e){return e.tagName==="IMG"},LT=function(e){return e.tagName==="IFRAME"},_6=function(e){return e.tagName==="STYLE"},qee=function(e){return e.tagName==="SCRIPT"},Jg=function(e){return e.tagName==="TEXTAREA"},e3=function(e){return e.tagName==="SELECT"},PT=function(e){return e.tagName==="SLOT"},x6=function(e){return e.tagName.indexOf("-")>0},Xee=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(i){return n.counters[i].pop()})},e.prototype.parse=function(t){var n=this,i=t.counterIncrement,r=t.counterReset,a=!0;i!==null&&i.forEach(function(o){var c=n.counters[o.counter];c&&o.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=o.increment)});var s=[];return a&&r.forEach(function(o){var c=n.counters[o.counter];s.push(o.counter),c||(c=n.counters[o.counter]=[]),c.push(o.reset)}),s},e}(),B6={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},R6={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Zee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},Jee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},cu=function(e,t,n,i,r,a){return e<t||e>n?ih(e,r,a.length>0):i.integers.reduce(function(s,o,c){for(;e>=o;)e-=o,s+=i.values[c];return s},"")+a},UT=function(e,t,n,i){var r="";do n||e--,r=i(e)+r,e/=t;while(e*t>=t);return r},Xi=function(e,t,n,i,r){var a=n-t+1;return(e<0?"-":"")+(UT(Math.abs(e),a,i,function(s){return nr(Math.floor(s%a)+t)})+r)},HA=function(e,t,n){n===void 0&&(n=". ");var i=t.length;return UT(Math.abs(e),i,!1,function(r){return t[Math.floor(r%i)]})+n},Pu=1<<0,V0=1<<1,K0=1<<2,df=1<<3,Gc=function(e,t,n,i,r,a){if(e<-9999||e>9999)return ih(e,4,r.length>0);var s=Math.abs(e),o=r;if(s===0)return t[0]+o;for(var c=0;s>0&&c<=4;c++){var A=s%10;A===0&&gr(a,Pu)&&o!==""?o=t[A]+o:A>1||A===1&&c===0||A===1&&c===1&&gr(a,V0)||A===1&&c===1&&gr(a,K0)&&e>100||A===1&&c>1&&gr(a,df)?o=t[A]+(c>0?n[c-1]:"")+o:A===1&&c>0&&(o=n[c-1]+o),s=Math.floor(s/10)}return(e<0?i:"")+o},C6="\u5341\u767E\u5343\u842C",N6="\u62FE\u4F70\u4EDF\u842C",S6="\u30DE\u30A4\u30CA\u30B9",jv="\uB9C8\uC774\uB108\uC2A4",ih=function(e,t,n){var i=n?". ":"",r=n?"\u3001":"",a=n?", ":"",s=n?" ":"";switch(t){case 0:return"\u2022"+s;case 1:return"\u25E6"+s;case 2:return"\u25FE"+s;case 5:var o=Xi(e,48,57,!0,i);return o.length<4?"0"+o:o;case 4:return HA(e,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",r);case 6:return cu(e,1,3999,B6,3,i).toLowerCase();case 7:return cu(e,1,3999,B6,3,i);case 8:return Xi(e,945,969,!1,i);case 9:return Xi(e,97,122,!1,i);case 10:return Xi(e,65,90,!1,i);case 11:return Xi(e,1632,1641,!0,i);case 12:case 49:return cu(e,1,9999,R6,3,i);case 35:return cu(e,1,9999,R6,3,i).toLowerCase();case 13:return Xi(e,2534,2543,!0,i);case 14:case 30:return Xi(e,6112,6121,!0,i);case 15:return HA(e,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",r);case 16:return HA(e,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",r);case 17:case 48:return Gc(e,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",C6,"\u8CA0",r,V0|K0|df);case 47:return Gc(e,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",N6,"\u8CA0",r,Pu|V0|K0|df);case 42:return Gc(e,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",C6,"\u8D1F",r,V0|K0|df);case 41:return Gc(e,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",N6,"\u8D1F",r,Pu|V0|K0|df);case 26:return Gc(e,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",S6,r,0);case 25:return Gc(e,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",S6,r,Pu|V0|K0);case 31:return Gc(e,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",jv,a,Pu|V0|K0);case 33:return Gc(e,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",jv,a,0);case 32:return Gc(e,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",jv,a,Pu|V0|K0);case 18:return Xi(e,2406,2415,!0,i);case 20:return cu(e,1,19999,Jee,3,i);case 21:return Xi(e,2790,2799,!0,i);case 22:return Xi(e,2662,2671,!0,i);case 22:return cu(e,1,10999,Zee,3,i);case 23:return HA(e,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return HA(e,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return Xi(e,3302,3311,!0,i);case 28:return HA(e,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",r);case 29:return HA(e,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",r);case 34:return Xi(e,3792,3801,!0,i);case 37:return Xi(e,6160,6169,!0,i);case 38:return Xi(e,4160,4169,!0,i);case 39:return Xi(e,2918,2927,!0,i);case 40:return Xi(e,1776,1785,!0,i);case 43:return Xi(e,3046,3055,!0,i);case 44:return Xi(e,3174,3183,!0,i);case 45:return Xi(e,3664,3673,!0,i);case 46:return Xi(e,3872,3881,!0,i);case 3:default:return Xi(e,48,57,!0,i)}},DT="data-html2canvas-ignore",G6=function(){function e(t,n,i){if(this.context=t,this.options=i,this.scrolledElements=[],this.referenceElement=n,this.counters=new Xee,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var i=this,r=ete(t,n);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,s=t.defaultView.pageYOffset,o=r.contentWindow,c=o.document,A=ite(r).then(function(){return Aa(i,void 0,void 0,function(){var l,u;return jr(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(ote),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),l=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,nte(c)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(c,u)}).then(function(){return r})]:[2,r]}})})});return c.open(),c.write(ate(document.doctype)+"<html></html>"),ste(this.referenceElement.ownerDocument,a,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},e.prototype.createElementClone=function(t){if(D4(t,2))debugger;if(IT(t))return this.createCanvasClone(t);if(E6(t))return this.createVideoClone(t);if(_6(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return Q4(n)&&(Q4(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),x6(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return Yv(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var i=[].slice.call(n.cssRules,0).reduce(function(a,s){return s&&typeof s.cssText=="string"?a+s.cssText:a},""),r=t.cloneNode(!1);return r.textContent=i,r}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var i=t.ownerDocument.createElement("img");try{return i.src=t.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var r=t.cloneNode(!1);try{r.width=t.width,r.height=t.height;var a=t.getContext("2d"),s=r.getContext("2d");if(s)if(!this.options.allowTaint&&a)s.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var o=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(o){var c=o.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}s.drawImage(t,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return r},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var i=n.getContext("2d");try{return i&&(i.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||i.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var r=t.ownerDocument.createElement("canvas");return r.width=t.offsetWidth,r.height=t.offsetHeight,r},e.prototype.appendChildNode=function(t,n,i){(!qu(n)||!qee(n)&&!n.hasAttribute(DT)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!qu(n)||!_6(n))&&t.appendChild(this.cloneNode(n,i))},e.prototype.cloneChildNodes=function(t,n,i){for(var r=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(qu(a)&&PT(a)&&typeof a.assignedNodes=="function"){var s=a.assignedNodes();s.length&&s.forEach(function(o){return r.appendChildNode(n,o,i)})}else this.appendChildNode(n,a,i)},e.prototype.cloneNode=function(t,n){if(TT(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var i=t.ownerDocument.defaultView;if(i&&qu(t)&&(H4(t)||sg(t))){var r=this.createElementClone(t);r.style.transitionProperty="none";var a=i.getComputedStyle(t),s=i.getComputedStyle(t,":before"),o=i.getComputedStyle(t,":after");this.referenceElement===t&&H4(r)&&(this.clonedReferenceElement=r),l7(r)&&lte(r);var c=this.counters.parse(new o6(this.context,a)),A=this.resolvePseudoContent(t,r,s,Ff.BEFORE);x6(t)&&(n=!0),E6(t)||this.cloneChildNodes(t,r,n),A&&r.insertBefore(A,r.firstChild);var l=this.resolvePseudoContent(t,r,o,Ff.AFTER);return l&&r.appendChild(l),this.counters.pop(c),(a&&(this.options.copyStyles||sg(t))&&!LT(t)||n)&&Yv(a,r),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([r,t.scrollLeft,t.scrollTop]),(Jg(t)||e3(t))&&(Jg(r)||e3(r))&&(r.value=t.value),r}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,i,r){var a=this;if(!!i){var s=i.content,o=n.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||i.display==="none")){this.counters.parse(new o6(this.context,i));var c=new WJ(this.context,i),A=o.createElement("html2canvaspseudoelement");Yv(i,A),c.content.forEach(function(u){if(u.type===0)A.appendChild(o.createTextNode(u.value));else if(u.type===22){var d=o.createElement("img");d.src=u.value,d.style.opacity="1",A.appendChild(d)}else if(u.type===18){if(u.name==="attr"){var p=u.values.filter(mi);p.length&&A.appendChild(o.createTextNode(t.getAttribute(p[0].value)||""))}else if(u.name==="counter"){var h=u.values.filter(_d),g=h[0],b=h[1];if(g&&mi(g)){var y=a.counters.getCounterValue(g.value),v=b&&mi(b)?U4.parse(a.context,b.value):3;A.appendChild(o.createTextNode(ih(y,v,!1)))}}else if(u.name==="counters"){var _=u.values.filter(_d),g=_[0],w=_[1],b=_[2];if(g&&mi(g)){var E=a.counters.getCounterValues(g.value),B=b&&mi(b)?U4.parse(a.context,b.value):3,R=w&&w.type===0?w.value:"",G=E.map(function(I){return ih(I,B,!1)}).join(R);A.appendChild(o.createTextNode(G))}}}else if(u.type===20)switch(u.value){case"open-quote":A.appendChild(o.createTextNode(s6(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":A.appendChild(o.createTextNode(s6(c.quotes,--a.quoteDepth,!1)));break;default:A.appendChild(o.createTextNode(u.value))}}),A.className=z4+" "+V4;var l=r===Ff.BEFORE?" "+z4:" "+V4;return sg(n)?n.className.baseValue+=l:n.className+=l,A}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Ff;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Ff||(Ff={}));var ete=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(DT,"true"),e.body.appendChild(n),n},tte=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},nte=function(e){return Promise.all([].slice.call(e.images,0).map(tte))},ite=function(e){return new Promise(function(t,n){var i=e.contentWindow;if(!i)return n("No window assigned for iframe");var r=i.document;i.onload=e.onload=function(){i.onload=e.onload=null;var a=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},rte=["all","d","content"],Yv=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e.item(n);rte.indexOf(i)===-1&&t.style.setProperty(i,e.getPropertyValue(i))}return t},ate=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},ste=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},ote=function(e){var t=e[0],n=e[1],i=e[2];t.scrollLeft=n,t.scrollTop=i},cte=":before",Ate=":after",z4="___html2canvas___pseudoelement_before",V4="___html2canvas___pseudoelement_after",M6=`{
    content: "" !important;
    display: none !important;
}`,lte=function(e){ute(e,"."+z4+cte+M6+`
         .`+V4+Ate+M6)},ute=function(e,t){var n=e.ownerDocument;if(n){var i=n.createElement("style");i.textContent=t,e.appendChild(i)}},kT=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),dte=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(Xv(t)||mte(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Aa(this,void 0,void 0,function(){var n,i,r,a,s=this;return jr(this,function(o){switch(o.label){case 0:return n=kT.isSameOrigin(t),i=!qv(t)&&this._options.useCORS===!0&&Lr.SUPPORT_CORS_IMAGES&&!n,r=!qv(t)&&!n&&!Xv(t)&&typeof this._options.proxy=="string"&&Lr.SUPPORT_CORS_XHR&&!i,!n&&this._options.allowTaint===!1&&!qv(t)&&!Xv(t)&&!r&&!i?[2]:(a=t,r?[4,this.proxy(a)]:[3,2]);case 1:a=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,A){var l=new Image;l.onload=function(){return c(l)},l.onerror=A,(yte(a)||i)&&(l.crossOrigin="anonymous"),l.src=a,l.complete===!0&&setTimeout(function(){return c(l)},500),s._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var r=t.substring(0,256);return new Promise(function(a,s){var o=Lr.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(o==="text")a(c.response);else{var u=new FileReader;u.addEventListener("load",function(){return a(u.result)},!1),u.addEventListener("error",function(d){return s(d)},!1),u.readAsDataURL(c.response)}else s("Failed to proxy resource "+r+" with status code "+c.status)},c.onerror=s;var A=i.indexOf("?")>-1?"&":"?";if(c.open("GET",""+i+A+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=o),n._options.imageTimeout){var l=n._options.imageTimeout;c.timeout=l,c.ontimeout=function(){return s("Timed out ("+l+"ms) proxying "+r)}}c.send()})},e}(),pte=/^data:image\/svg\+xml/i,fte=/^data:image\/.*;base64,/i,hte=/^data:image\/.*/i,mte=function(e){return Lr.SUPPORT_SVG_DRAWING||!gte(e)},qv=function(e){return hte.test(e)},yte=function(e){return fte.test(e)},Xv=function(e){return e.substr(0,4)==="blob"},gte=function(e){return e.substr(-3).toLowerCase()==="svg"||pte.test(e)},Nt=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Au=function(e,t,n){return new Nt(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},P1=function(){function e(t,n,i,r){this.type=1,this.start=t,this.startControl=n,this.endControl=i,this.end=r}return e.prototype.subdivide=function(t,n){var i=Au(this.start,this.startControl,t),r=Au(this.startControl,this.endControl,t),a=Au(this.endControl,this.end,t),s=Au(i,r,t),o=Au(r,a,t),c=Au(s,o,t);return n?new e(this.start,i,s,c):new e(c,o,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Ts=function(e){return e.type===1},bte=function(){function e(t){var n=t.styles,i=t.bounds,r=lf(n.borderTopLeftRadius,i.width,i.height),a=r[0],s=r[1],o=lf(n.borderTopRightRadius,i.width,i.height),c=o[0],A=o[1],l=lf(n.borderBottomRightRadius,i.width,i.height),u=l[0],d=l[1],p=lf(n.borderBottomLeftRadius,i.width,i.height),h=p[0],g=p[1],b=[];b.push((a+c)/i.width),b.push((h+u)/i.width),b.push((s+g)/i.height),b.push((A+d)/i.height);var y=Math.max.apply(Math,b);y>1&&(a/=y,s/=y,c/=y,A/=y,u/=y,d/=y,h/=y,g/=y);var v=i.width-c,_=i.height-d,w=i.width-u,E=i.height-g,B=n.borderTopWidth,R=n.borderRightWidth,G=n.borderBottomWidth,C=n.borderLeftWidth,O=Bi(n.paddingTop,t.bounds.width),I=Bi(n.paddingRight,t.bounds.width),D=Bi(n.paddingBottom,t.bounds.width),k=Bi(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?Ti(i.left+C/3,i.top+B/3,a-C/3,s-B/3,ri.TOP_LEFT):new Nt(i.left+C/3,i.top+B/3),this.topRightBorderDoubleOuterBox=a>0||s>0?Ti(i.left+v,i.top+B/3,c-R/3,A-B/3,ri.TOP_RIGHT):new Nt(i.left+i.width-R/3,i.top+B/3),this.bottomRightBorderDoubleOuterBox=u>0||d>0?Ti(i.left+w,i.top+_,u-R/3,d-G/3,ri.BOTTOM_RIGHT):new Nt(i.left+i.width-R/3,i.top+i.height-G/3),this.bottomLeftBorderDoubleOuterBox=h>0||g>0?Ti(i.left+C/3,i.top+E,h-C/3,g-G/3,ri.BOTTOM_LEFT):new Nt(i.left+C/3,i.top+i.height-G/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?Ti(i.left+C*2/3,i.top+B*2/3,a-C*2/3,s-B*2/3,ri.TOP_LEFT):new Nt(i.left+C*2/3,i.top+B*2/3),this.topRightBorderDoubleInnerBox=a>0||s>0?Ti(i.left+v,i.top+B*2/3,c-R*2/3,A-B*2/3,ri.TOP_RIGHT):new Nt(i.left+i.width-R*2/3,i.top+B*2/3),this.bottomRightBorderDoubleInnerBox=u>0||d>0?Ti(i.left+w,i.top+_,u-R*2/3,d-G*2/3,ri.BOTTOM_RIGHT):new Nt(i.left+i.width-R*2/3,i.top+i.height-G*2/3),this.bottomLeftBorderDoubleInnerBox=h>0||g>0?Ti(i.left+C*2/3,i.top+E,h-C*2/3,g-G*2/3,ri.BOTTOM_LEFT):new Nt(i.left+C*2/3,i.top+i.height-G*2/3),this.topLeftBorderStroke=a>0||s>0?Ti(i.left+C/2,i.top+B/2,a-C/2,s-B/2,ri.TOP_LEFT):new Nt(i.left+C/2,i.top+B/2),this.topRightBorderStroke=a>0||s>0?Ti(i.left+v,i.top+B/2,c-R/2,A-B/2,ri.TOP_RIGHT):new Nt(i.left+i.width-R/2,i.top+B/2),this.bottomRightBorderStroke=u>0||d>0?Ti(i.left+w,i.top+_,u-R/2,d-G/2,ri.BOTTOM_RIGHT):new Nt(i.left+i.width-R/2,i.top+i.height-G/2),this.bottomLeftBorderStroke=h>0||g>0?Ti(i.left+C/2,i.top+E,h-C/2,g-G/2,ri.BOTTOM_LEFT):new Nt(i.left+C/2,i.top+i.height-G/2),this.topLeftBorderBox=a>0||s>0?Ti(i.left,i.top,a,s,ri.TOP_LEFT):new Nt(i.left,i.top),this.topRightBorderBox=c>0||A>0?Ti(i.left+v,i.top,c,A,ri.TOP_RIGHT):new Nt(i.left+i.width,i.top),this.bottomRightBorderBox=u>0||d>0?Ti(i.left+w,i.top+_,u,d,ri.BOTTOM_RIGHT):new Nt(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=h>0||g>0?Ti(i.left,i.top+E,h,g,ri.BOTTOM_LEFT):new Nt(i.left,i.top+i.height),this.topLeftPaddingBox=a>0||s>0?Ti(i.left+C,i.top+B,Math.max(0,a-C),Math.max(0,s-B),ri.TOP_LEFT):new Nt(i.left+C,i.top+B),this.topRightPaddingBox=c>0||A>0?Ti(i.left+Math.min(v,i.width-R),i.top+B,v>i.width+R?0:Math.max(0,c-R),Math.max(0,A-B),ri.TOP_RIGHT):new Nt(i.left+i.width-R,i.top+B),this.bottomRightPaddingBox=u>0||d>0?Ti(i.left+Math.min(w,i.width-C),i.top+Math.min(_,i.height-G),Math.max(0,u-R),Math.max(0,d-G),ri.BOTTOM_RIGHT):new Nt(i.left+i.width-R,i.top+i.height-G),this.bottomLeftPaddingBox=h>0||g>0?Ti(i.left+C,i.top+Math.min(E,i.height-G),Math.max(0,h-C),Math.max(0,g-G),ri.BOTTOM_LEFT):new Nt(i.left+C,i.top+i.height-G),this.topLeftContentBox=a>0||s>0?Ti(i.left+C+k,i.top+B+O,Math.max(0,a-(C+k)),Math.max(0,s-(B+O)),ri.TOP_LEFT):new Nt(i.left+C+k,i.top+B+O),this.topRightContentBox=c>0||A>0?Ti(i.left+Math.min(v,i.width+C+k),i.top+B+O,v>i.width+C+k?0:c-C+k,A-(B+O),ri.TOP_RIGHT):new Nt(i.left+i.width-(R+I),i.top+B+O),this.bottomRightContentBox=u>0||d>0?Ti(i.left+Math.min(w,i.width-(C+k)),i.top+Math.min(_,i.height+B+O),Math.max(0,u-(R+I)),d-(G+D),ri.BOTTOM_RIGHT):new Nt(i.left+i.width-(R+I),i.top+i.height-(G+D)),this.bottomLeftContentBox=h>0||g>0?Ti(i.left+C+k,i.top+E,Math.max(0,h-(C+k)),g-(G+D),ri.BOTTOM_LEFT):new Nt(i.left+C+k,i.top+i.height-(G+D))}return e}(),ri;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ri||(ri={}));var Ti=function(e,t,n,i,r){var a=4*((Math.sqrt(2)-1)/3),s=n*a,o=i*a,c=e+n,A=t+i;switch(r){case ri.TOP_LEFT:return new P1(new Nt(e,A),new Nt(e,A-o),new Nt(c-s,t),new Nt(c,t));case ri.TOP_RIGHT:return new P1(new Nt(e,t),new Nt(e+s,t),new Nt(c,A-o),new Nt(c,A));case ri.BOTTOM_RIGHT:return new P1(new Nt(c,t),new Nt(c,t+o),new Nt(e+s,A),new Nt(e,A));case ri.BOTTOM_LEFT:default:return new P1(new Nt(c,A),new Nt(c-s,A),new Nt(e,t+o),new Nt(e,t))}},t3=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},vte=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},n3=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},wte=function(){function e(t,n,i){this.offsetX=t,this.offsetY=n,this.matrix=i,this.type=0,this.target=6}return e}(),U1=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),Ete=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),_te=function(e){return e.type===0},OT=function(e){return e.type===1},xte=function(e){return e.type===2},T6=function(e,t){return e.length===t.length?e.some(function(n,i){return n===t[i]}):!1},Bte=function(e,t,n,i,r){return e.map(function(a,s){switch(s){case 0:return a.add(t,n);case 1:return a.add(t+i,n);case 2:return a.add(t+i,n+r);case 3:return a.add(t,n+r)}return a})},HT=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),QT=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new bte(this.container),this.container.styles.opacity<1&&this.effects.push(new Ete(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new wte(i,r,a))}if(this.container.styles.overflowX!==0){var s=t3(this.curves),o=n3(this.curves);T6(s,o)?this.effects.push(new U1(s,6)):(this.effects.push(new U1(s,2)),this.effects.push(new U1(o,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,r=this.effects.slice(0);i;){var a=i.effects.filter(function(c){return!OT(c)});if(n||i.container.styles.position!==0||!i.parent){if(r.unshift.apply(r,a),n=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var s=t3(i.curves),o=n3(i.curves);T6(s,o)||r.unshift(new U1(o,6))}}else r.unshift.apply(r,a);i=i.parent}return r.filter(function(c){return gr(c.target,t)})},e}(),K4=function(e,t,n,i){e.container.elements.forEach(function(r){var a=gr(r.flags,4),s=gr(r.flags,2),o=new QT(r,e);gr(r.styles.display,2048)&&i.push(o);var c=gr(r.flags,8)?[]:i;if(a||s){var A=a||r.styles.isPositioned()?n:t,l=new HT(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var u=r.styles.zIndex.order;if(u<0){var d=0;A.negativeZIndex.some(function(h,g){return u>h.element.container.styles.zIndex.order?(d=g,!1):d>0}),A.negativeZIndex.splice(d,0,l)}else if(u>0){var p=0;A.positiveZIndex.some(function(h,g){return u>=h.element.container.styles.zIndex.order?(p=g+1,!1):p>0}),A.positiveZIndex.splice(p,0,l)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else r.styles.isFloating()?A.nonPositionedFloats.push(l):A.nonPositionedInlineLevel.push(l);K4(o,l,a?l:n,c)}else r.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),K4(o,t,n,c);gr(r.flags,8)&&zT(r,c)})},zT=function(e,t){for(var n=e instanceof O4?e.start:1,i=e instanceof O4?e.reversed:!1,r=0;r<t.length;r++){var a=t[r];a.container instanceof RT&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=ih(n,a.container.styles.listStyleType,!0),n+=i?-1:1}},Rte=function(e){var t=new QT(e,null),n=new HT(t),i=[];return K4(t,n,n,i),zT(t.container,i),n},F6=function(e,t){switch(t){case 0:return Ps(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ps(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ps(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ps(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Cte=function(e,t){switch(t){case 0:return Ps(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ps(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ps(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Ps(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Nte=function(e,t){switch(t){case 0:return Ps(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ps(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ps(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Ps(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Ste=function(e,t){switch(t){case 0:return D1(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return D1(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return D1(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return D1(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},D1=function(e,t){var n=[];return Ts(e)?n.push(e.subdivide(.5,!1)):n.push(e),Ts(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Ps=function(e,t,n,i){var r=[];return Ts(e)?r.push(e.subdivide(.5,!1)):r.push(e),Ts(n)?r.push(n.subdivide(.5,!0)):r.push(n),Ts(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),Ts(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},VT=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},i3=function(e){var t=e.styles,n=e.bounds,i=Bi(t.paddingLeft,n.width),r=Bi(t.paddingRight,n.width),a=Bi(t.paddingTop,n.width),s=Bi(t.paddingBottom,n.width);return n.add(i+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+i+r),-(t.borderTopWidth+t.borderBottomWidth+a+s))},Gte=function(e,t){return e===0?t.bounds:e===2?i3(t):VT(t)},Mte=function(e,t){return e===0?t.bounds:e===2?i3(t):VT(t)},Zv=function(e,t,n){var i=Gte(Uu(e.styles.backgroundOrigin,t),e),r=Mte(Uu(e.styles.backgroundClip,t),e),a=Tte(Uu(e.styles.backgroundSize,t),n,i),s=a[0],o=a[1],c=lf(Uu(e.styles.backgroundPosition,t),i.width-s,i.height-o),A=Fte(Uu(e.styles.backgroundRepeat,t),c,a,i,r),l=Math.round(i.left+c[0]),u=Math.round(i.top+c[1]);return[A,l,u,s,o]},lu=function(e){return mi(e)&&e.value===cd.AUTO},k1=function(e){return typeof e=="number"},Tte=function(e,t,n){var i=t[0],r=t[1],a=t[2],s=e[0],o=e[1];if(!s)return[0,0];if(cr(s)&&o&&cr(o))return[Bi(s,n.width),Bi(o,n.height)];var c=k1(a);if(mi(s)&&(s.value===cd.CONTAIN||s.value===cd.COVER)){if(k1(a)){var A=n.width/n.height;return A<a!=(s.value===cd.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var l=k1(i),u=k1(r),d=l||u;if(lu(s)&&(!o||lu(o))){if(l&&u)return[i,r];if(!c&&!d)return[n.width,n.height];if(d&&c){var p=l?i:r*a,h=u?r:i/a;return[p,h]}var g=l?i:n.width,b=u?r:n.height;return[g,b]}if(c){var y=0,v=0;return cr(s)?y=Bi(s,n.width):cr(o)&&(v=Bi(o,n.height)),lu(s)?y=v*a:(!o||lu(o))&&(v=y/a),[y,v]}var _=null,w=null;if(cr(s)?_=Bi(s,n.width):o&&cr(o)&&(w=Bi(o,n.height)),_!==null&&(!o||lu(o))&&(w=l&&u?_/i*r:n.height),w!==null&&lu(s)&&(_=l&&u?w/r*i:n.width),_!==null&&w!==null)return[_,w];throw new Error("Unable to calculate background-size for element")},Uu=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},Fte=function(e,t,n,i,r){var a=t[0],s=t[1],o=n[0],c=n[1];switch(e){case 2:return[new Nt(Math.round(i.left),Math.round(i.top+s)),new Nt(Math.round(i.left+i.width),Math.round(i.top+s)),new Nt(Math.round(i.left+i.width),Math.round(c+i.top+s)),new Nt(Math.round(i.left),Math.round(c+i.top+s))];case 3:return[new Nt(Math.round(i.left+a),Math.round(i.top)),new Nt(Math.round(i.left+a+o),Math.round(i.top)),new Nt(Math.round(i.left+a+o),Math.round(i.height+i.top)),new Nt(Math.round(i.left+a),Math.round(i.height+i.top))];case 1:return[new Nt(Math.round(i.left+a),Math.round(i.top+s)),new Nt(Math.round(i.left+a+o),Math.round(i.top+s)),new Nt(Math.round(i.left+a+o),Math.round(i.top+s+c)),new Nt(Math.round(i.left+a),Math.round(i.top+s+c))];default:return[new Nt(Math.round(r.left),Math.round(r.top)),new Nt(Math.round(r.left+r.width),Math.round(r.top)),new Nt(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Nt(Math.round(r.left),Math.round(r.height+r.top))]}},Ite="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",I6="Hidden Text",Lte=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var i=this._document.createElement("div"),r=this._document.createElement("img"),a=this._document.createElement("span"),s=this._document.body;i.style.visibility="hidden",i.style.fontFamily=t,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",s.appendChild(i),r.src=Ite,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(I6)),i.appendChild(a),i.appendChild(r);var o=r.offsetTop-a.offsetTop+2;i.removeChild(a),i.appendChild(this._document.createTextNode(I6)),i.style.lineHeight="normal",r.style.verticalAlign="super";var c=r.offsetTop-i.offsetTop+2;return s.removeChild(i),{baseline:o,middle:c}},e.prototype.getMetrics=function(t,n){var i=t+" "+n;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(t,n)),this._data[i]},e}(),KT=function(){function e(t,n){this.context=t,this.options=n}return e}(),Pte=1e4,Ute=function(e){xo(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r._activeEffects=[],r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),i.canvas||(r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px"),r.fontMetrics=new Lte(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),r}return t.prototype.applyEffects=function(n){for(var i=this;this._activeEffects.length;)this.popEffect();n.forEach(function(r){return i.applyEffect(r)})},t.prototype.applyEffect=function(n){this.ctx.save(),xte(n)&&(this.ctx.globalAlpha=n.opacity),_te(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),OT(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return Aa(this,void 0,void 0,function(){var i;return jr(this,function(r){switch(r.label){case 0:return i=n.element.container.styles,i.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return Aa(this,void 0,void 0,function(){return jr(this,function(i){switch(i.label){case 0:if(gr(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(n)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,i,r){var a=this;if(i===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+r);else{var s=c7(n.text);s.reduce(function(o,c){return a.ctx.fillText(c,o,n.bounds.top+r),o+a.ctx.measureText(c).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var i=n.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),r=Qte(n.fontFamily).join(", "),a=rm(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,i,n.fontWeight,a,r].join(" "),r,a]},t.prototype.renderTextNode=function(n,i){return Aa(this,void 0,void 0,function(){var r,a,s,o,c,A,l,u,d=this;return jr(this,function(p){return r=this.createFontStyle(i),a=r[0],s=r[1],o=r[2],this.ctx.font=a,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(s,o),A=c.baseline,l=c.middle,u=i.paintOrder,n.textBounds.forEach(function(h){u.forEach(function(g){switch(g){case 0:d.ctx.fillStyle=Br(i.color),d.renderTextWithLetterSpacing(h,i.letterSpacing,A);var b=i.textShadow;b.length&&h.text.trim().length&&(b.slice(0).reverse().forEach(function(y){d.ctx.shadowColor=Br(y.color),d.ctx.shadowOffsetX=y.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=y.offsetY.number*d.options.scale,d.ctx.shadowBlur=y.blur.number,d.renderTextWithLetterSpacing(h,i.letterSpacing,A)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),i.textDecorationLine.length&&(d.ctx.fillStyle=Br(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(y){switch(y){case 1:d.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top+A),h.bounds.width,1);break;case 2:d.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top),h.bounds.width,1);break;case 3:d.ctx.fillRect(h.bounds.left,Math.ceil(h.bounds.top+l),h.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&h.text.trim().length&&(d.ctx.strokeStyle=Br(i.webkitTextStrokeColor),d.ctx.lineWidth=i.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(h.text,h.bounds.left,h.bounds.top+A)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,i,r){if(r&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=i3(n),s=n3(i);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return Aa(this,void 0,void 0,function(){var i,r,a,s,o,c,v,v,A,l,u,d,w,p,h,E,g,b,y,v,_,w,E;return jr(this,function(B){switch(B.label){case 0:this.applyEffects(n.getEffects(4)),i=n.container,r=n.curves,a=i.styles,s=0,o=i.textNodes,B.label=1;case 1:return s<o.length?(c=o[s],[4,this.renderTextNode(c,a)]):[3,4];case 2:B.sent(),B.label=3;case 3:return s++,[3,1];case 4:if(!(i instanceof _T))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return v=B.sent(),this.renderReplacedElement(i,r,v),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof xT&&this.renderReplacedElement(i,r,i.canvas),!(i instanceof BT))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return v=B.sent(),this.renderReplacedElement(i,r,v),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof ST&&i.tree?(A=new t(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,A.render(i.tree)]):[3,14];case 13:l=B.sent(),i.width&&i.height&&this.ctx.drawImage(l,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),B.label=14;case 14:if(i instanceof A7&&(u=Math.min(i.bounds.width,i.bounds.height),i.type===Xg?i.checked&&(this.ctx.save(),this.path([new Nt(i.bounds.left+u*.39363,i.bounds.top+u*.79),new Nt(i.bounds.left+u*.16,i.bounds.top+u*.5549),new Nt(i.bounds.left+u*.27347,i.bounds.top+u*.44071),new Nt(i.bounds.left+u*.39694,i.bounds.top+u*.5649),new Nt(i.bounds.left+u*.72983,i.bounds.top+u*.23),new Nt(i.bounds.left+u*.84,i.bounds.top+u*.34085),new Nt(i.bounds.left+u*.39363,i.bounds.top+u*.79)]),this.ctx.fillStyle=Br(w6),this.ctx.fill(),this.ctx.restore()):i.type===Zg&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+u/2,i.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Br(w6),this.ctx.fill(),this.ctx.restore())),Dte(i)&&i.value.length){switch(d=this.createFontStyle(a),w=d[0],p=d[1],h=this.fontMetrics.getMetrics(w,p).baseline,this.ctx.font=w,this.ctx.fillStyle=Br(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ote(i.styles.textAlign),E=i3(i),g=0,i.styles.textAlign){case 1:g+=E.width/2;break;case 2:g+=E.width;break}b=E.add(g,0,0,-E.height/2+1),this.ctx.save(),this.path([new Nt(E.left,E.top),new Nt(E.left+E.width,E.top),new Nt(E.left+E.width,E.top+E.height),new Nt(E.left,E.top+E.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Tf(i.value,b),a.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!gr(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(y=i.styles.listStyleImage,y.type!==0)return[3,18];v=void 0,_=y.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(_)];case 16:return v=B.sent(),this.ctx.drawImage(v,i.bounds.left-(v.width+10),i.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+_),[3,18];case 18:return[3,20];case 19:n.listValue&&i.styles.listStyleType!==-1&&(w=this.createFontStyle(a)[0],this.ctx.font=w,this.ctx.fillStyle=Br(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",E=new i0(i.bounds.left,i.bounds.top+Bi(i.styles.paddingTop,i.bounds.width),i.bounds.width,r6(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Tf(n.listValue,E),a.letterSpacing,r6(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return Aa(this,void 0,void 0,function(){var i,r,y,a,s,y,o,c,y,A,l,y,u,d,y,p,h,y,g,b,y;return jr(this,function(v){switch(v.label){case 0:if(gr(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:v.sent(),i=0,r=n.negativeZIndex,v.label=2;case 2:return i<r.length?(y=r[i],[4,this.renderStack(y)]):[3,5];case 3:v.sent(),v.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:v.sent(),a=0,s=n.nonInlineLevel,v.label=7;case 7:return a<s.length?(y=s[a],[4,this.renderNode(y)]):[3,10];case 8:v.sent(),v.label=9;case 9:return a++,[3,7];case 10:o=0,c=n.nonPositionedFloats,v.label=11;case 11:return o<c.length?(y=c[o],[4,this.renderStack(y)]):[3,14];case 12:v.sent(),v.label=13;case 13:return o++,[3,11];case 14:A=0,l=n.nonPositionedInlineLevel,v.label=15;case 15:return A<l.length?(y=l[A],[4,this.renderStack(y)]):[3,18];case 16:v.sent(),v.label=17;case 17:return A++,[3,15];case 18:u=0,d=n.inlineLevel,v.label=19;case 19:return u<d.length?(y=d[u],[4,this.renderNode(y)]):[3,22];case 20:v.sent(),v.label=21;case 21:return u++,[3,19];case 22:p=0,h=n.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return p<h.length?(y=h[p],[4,this.renderStack(y)]):[3,26];case 24:v.sent(),v.label=25;case 25:return p++,[3,23];case 26:g=0,b=n.positiveZIndex,v.label=27;case 27:return g<b.length?(y=b[g],[4,this.renderStack(y)]):[3,30];case 28:v.sent(),v.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var i=this;n.forEach(function(r,a){var s=Ts(r)?r.start:r;a===0?i.ctx.moveTo(s.x,s.y):i.ctx.lineTo(s.x,s.y),Ts(r)&&i.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},t.prototype.renderRepeat=function(n,i,r,a){this.path(n),this.ctx.fillStyle=i,this.ctx.translate(r,a),this.ctx.fill(),this.ctx.translate(-r,-a)},t.prototype.resizeImage=function(n,i,r){var a;if(n.width===i&&n.height===r)return n;var s=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,o=s.createElement("canvas");o.width=Math.max(1,i),o.height=Math.max(1,r);var c=o.getContext("2d");return c.drawImage(n,0,0,n.width,n.height,0,0,i,r),o},t.prototype.renderBackgroundImage=function(n){return Aa(this,void 0,void 0,function(){var i,r,a,s,o,c;return jr(this,function(A){switch(A.label){case 0:i=n.styles.backgroundImage.length-1,r=function(l){var u,d,p,O,H,W,k,L,G,h,O,H,W,k,L,g,b,y,v,_,w,E,B,R,G,C,O,I,D,k,L,T,H,W,j,ce,ue,te,re,ae,fe,ye;return jr(this,function(se){switch(se.label){case 0:if(l.type!==0)return[3,5];u=void 0,d=l.url,se.label=1;case 1:return se.trys.push([1,3,,4]),[4,a.context.cache.match(d)];case 2:return u=se.sent(),[3,4];case 3:return se.sent(),a.context.logger.error("Error loading background-image "+d),[3,4];case 4:return u&&(p=Zv(n,i,[u.width,u.height,u.width/u.height]),O=p[0],H=p[1],W=p[2],k=p[3],L=p[4],G=a.ctx.createPattern(a.resizeImage(u,k,L),"repeat"),a.renderRepeat(O,G,H,W)),[3,6];case 5:_Z(l)?(h=Zv(n,i,[null,null,null]),O=h[0],H=h[1],W=h[2],k=h[3],L=h[4],g=gZ(l.angle,k,L),b=g[0],y=g[1],v=g[2],_=g[3],w=g[4],E=document.createElement("canvas"),E.width=k,E.height=L,B=E.getContext("2d"),R=B.createLinearGradient(y,_,v,w),n6(l.stops,b).forEach(function(me){return R.addColorStop(me.stop,Br(me.color))}),B.fillStyle=R,B.fillRect(0,0,k,L),k>0&&L>0&&(G=a.ctx.createPattern(E,"repeat"),a.renderRepeat(O,G,H,W))):xZ(l)&&(C=Zv(n,i,[null,null,null]),O=C[0],I=C[1],D=C[2],k=C[3],L=C[4],T=l.position.length===0?[a7]:l.position,H=Bi(T[0],k),W=Bi(T[T.length-1],L),j=bZ(l,H,W,k,L),ce=j[0],ue=j[1],ce>0&&ue>0&&(te=a.ctx.createRadialGradient(I+H,D+W,0,I+H,D+W,ce),n6(l.stops,ce*2).forEach(function(me){return te.addColorStop(me.stop,Br(me.color))}),a.path(O),a.ctx.fillStyle=te,ce!==ue?(re=n.bounds.left+.5*n.bounds.width,ae=n.bounds.top+.5*n.bounds.height,fe=ue/ce,ye=1/fe,a.ctx.save(),a.ctx.translate(re,ae),a.ctx.transform(1,0,0,fe,0,0),a.ctx.translate(-re,-ae),a.ctx.fillRect(I,ye*(D-ae)+ae,k,L*ye),a.ctx.restore()):a.ctx.fill())),se.label=6;case 6:return i--,[2]}})},a=this,s=0,o=n.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return s<o.length?(c=o[s],[5,r(c)]):[3,4];case 2:A.sent(),A.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,i,r){return Aa(this,void 0,void 0,function(){return jr(this,function(a){return this.path(F6(r,i)),this.ctx.fillStyle=Br(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,i,r,a){return Aa(this,void 0,void 0,function(){var s,o;return jr(this,function(c){switch(c.label){case 0:return i<3?[4,this.renderSolidBorder(n,r,a)]:[3,2];case 1:return c.sent(),[2];case 2:return s=Cte(a,r),this.path(s),this.ctx.fillStyle=Br(n),this.ctx.fill(),o=Nte(a,r),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return Aa(this,void 0,void 0,function(){var i,r,a,s,o,c,A,l,u=this;return jr(this,function(d){switch(d.label){case 0:return this.applyEffects(n.getEffects(2)),i=n.container.styles,r=!rA(i.backgroundColor)||i.backgroundImage.length,a=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],s=kte(Uu(i.backgroundClip,0),n.curves),r||i.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),rA(i.backgroundColor)||(this.ctx.fillStyle=Br(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(p){u.ctx.save();var h=t3(n.curves),g=p.inset?0:Pte,b=Bte(h,-g+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(u.path(h),u.ctx.clip(),u.mask(b)):(u.mask(h),u.ctx.clip(),u.path(b)),u.ctx.shadowOffsetX=p.offsetX.number+g,u.ctx.shadowOffsetY=p.offsetY.number,u.ctx.shadowColor=Br(p.color),u.ctx.shadowBlur=p.blur.number,u.ctx.fillStyle=p.inset?Br(p.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),d.label=2;case 2:o=0,c=0,A=a,d.label=3;case 3:return c<A.length?(l=A[c],l.style!==0&&!rA(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,o,n.curves,3)];case 6:return d.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,o,n.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,o,n.curves)];case 10:d.sent(),d.label=11;case 11:o++,d.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,i,r,a,s){return Aa(this,void 0,void 0,function(){var o,c,A,l,u,d,p,h,g,b,y,v,_,w,E,B,E,B;return jr(this,function(R){return this.ctx.save(),o=Ste(a,r),c=F6(a,r),s===2&&(this.path(c),this.ctx.clip()),Ts(c[0])?(A=c[0].start.x,l=c[0].start.y):(A=c[0].x,l=c[0].y),Ts(c[1])?(u=c[1].end.x,d=c[1].end.y):(u=c[1].x,d=c[1].y),r===0||r===2?p=Math.abs(A-u):p=Math.abs(l-d),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(c.slice(0,2)),h=i<3?i*3:i*2,g=i<3?i*2:i,s===3&&(h=i,g=i),b=!0,p<=h*2?b=!1:p<=h*2+g?(y=p/(2*h+g),h*=y,g*=y):(v=Math.floor((p+g)/(h+g)),_=(p-v*h)/(v-1),w=(p-(v+1)*h)/v,g=w<=0||Math.abs(g-_)<Math.abs(g-w)?_:w),b&&(s===3?this.ctx.setLineDash([0,h+g]):this.ctx.setLineDash([h,g])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=Br(n),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(Ts(c[0])&&(E=c[3],B=c[0],this.ctx.beginPath(),this.formatPath([new Nt(E.end.x,E.end.y),new Nt(B.start.x,B.start.y)]),this.ctx.stroke()),Ts(c[1])&&(E=c[1],B=c[2],this.ctx.beginPath(),this.formatPath([new Nt(E.end.x,E.end.y),new Nt(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return Aa(this,void 0,void 0,function(){var i;return jr(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Br(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=Rte(n),[4,this.renderStack(i)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(KT),Dte=function(e){return e instanceof NT||e instanceof CT?!0:e instanceof A7&&e.type!==Zg&&e.type!==Xg},kte=function(e,t){switch(e){case 0:return t3(t);case 2:return vte(t);case 1:default:return n3(t)}},Ote=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Hte=["-apple-system","system-ui"],Qte=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Hte.indexOf(t)===-1}):e},zte=function(e){xo(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=i,r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),r}return t.prototype.render=function(n){return Aa(this,void 0,void 0,function(){var i,r;return jr(this,function(a){switch(a.label){case 0:return i=k4(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Vte(i)];case 1:return r=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Br(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(KT),Vte=function(e){return new Promise(function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Kte=function(){function e(t){var n=t.id,i=t.enabled;this.id=n,this.enabled=i,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,y1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,y1([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,y1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,y1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),Wte=function(){function e(t,n){var i;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new Kte({id:this.instanceName,enabled:t.logging}),this.cache=(i=t.cache)!==null&&i!==void 0?i:new dte(this,t)}return e.instanceCount=1,e}(),$te=function(e,t){return t===void 0&&(t={}),jte(e,t)};typeof window<"u"&&kT.setContext(window);var jte=function(e,t){return Aa(void 0,void 0,void 0,function(){var n,i,r,a,s,o,c,A,l,u,d,p,h,g,b,y,v,_,w,E,R,B,R,G,C,O,I,D,k,L,T,H,W,j,ce,ue,te,re,ae,fe;return jr(this,function(ye){switch(ye.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(i=n.defaultView,!i)throw new Error("Document is not attached to a Window");return r={allowTaint:(G=t.allowTaint)!==null&&G!==void 0?G:!1,imageTimeout:(C=t.imageTimeout)!==null&&C!==void 0?C:15e3,proxy:t.proxy,useCORS:(O=t.useCORS)!==null&&O!==void 0?O:!1},a=x4({logging:(I=t.logging)!==null&&I!==void 0?I:!0,cache:t.cache},r),s={windowWidth:(D=t.windowWidth)!==null&&D!==void 0?D:i.innerWidth,windowHeight:(k=t.windowHeight)!==null&&k!==void 0?k:i.innerHeight,scrollX:(L=t.scrollX)!==null&&L!==void 0?L:i.pageXOffset,scrollY:(T=t.scrollY)!==null&&T!==void 0?T:i.pageYOffset},o=new i0(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),c=new Wte(a,o),A=(H=t.foreignObjectRendering)!==null&&H!==void 0?H:!1,l={allowTaint:(W=t.allowTaint)!==null&&W!==void 0?W:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:A,copyStyles:A},c.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),u=new G6(c,e,l),d=u.clonedReferenceElement,d?[4,u.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=ye.sent(),h=l7(d)||Yee(d)?Bq(d.ownerDocument):g2(c,d),g=h.width,b=h.height,y=h.left,v=h.top,_=Yte(c,d,t.backgroundColor),w={canvas:t.canvas,backgroundColor:_,scale:(ce=(j=t.scale)!==null&&j!==void 0?j:i.devicePixelRatio)!==null&&ce!==void 0?ce:1,x:((ue=t.x)!==null&&ue!==void 0?ue:0)+y,y:((te=t.y)!==null&&te!==void 0?te:0)+v,width:(re=t.width)!==null&&re!==void 0?re:Math.ceil(g),height:(ae=t.height)!==null&&ae!==void 0?ae:Math.ceil(b)},A?(c.logger.debug("Document cloned, using foreign object rendering"),R=new zte(c,w),[4,R.render(d)]):[3,3];case 2:return E=ye.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+y+","+v+" with size "+g+"x"+b+" using computed rendering"),c.logger.debug("Starting DOM parsing"),B=MT(c,d),_===B.styles.backgroundColor&&(B.styles.backgroundColor=qc.TRANSPARENT),c.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),R=new Ute(c,w),[4,R.render(B)];case 4:E=ye.sent(),ye.label=5;case 5:return(!((fe=t.removeContainer)!==null&&fe!==void 0)||fe)&&(G6.destroy(p)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,E]}})})},Yte=function(e,t,n){var i=t.ownerDocument,r=i.documentElement?Gf(e,getComputedStyle(i.documentElement).backgroundColor):qc.TRANSPARENT,a=i.body?Gf(e,getComputedStyle(i.body).backgroundColor):qc.TRANSPARENT,s=typeof n=="string"?Gf(e,n):n===null?qc.TRANSPARENT:4294967295;return t===i.documentElement?rA(r)?rA(a)?s:a:r:s};class qte{constructor(t,n){this.config=t,this.config={dataset:t.dataset,chartConditions:t.chartConditions,summary:t.summary,floor:t.floor,mutations:t.mutations,metric:t.metric,tooltips:t.tooltips,filters:t.filters,parentElement:t.parentElement,excludedAminoAcids:t.excludedAminoAcids,width:1100,height:300,scaling:{top:.08,left:.1,bottom:.15,right:.06,innerTop:.05,innerRight:.08,focusContextRatio:.15,focusHeatmapRatio:.03}},this.data=JSON.parse(JSON.stringify(n)),this.dispatch=c2("updateSites"),this.selection=[],this.initVis()}initVis(){let t=this;document.querySelector(this.config.parentElement).innerHTML="",Cx(".tooltip").remove(),t.margin={top:t.config.height*t.config.scaling.top,left:t.config.width*t.config.scaling.left,bottom:t.config.height*t.config.scaling.bottom,right:t.config.width*t.config.scaling.right,innerTop:t.config.height*t.config.scaling.innerTop,innerRight:t.config.width*t.config.scaling.innerRight};const n=t.config.height-t.margin.top-t.margin.bottom-t.margin.innerTop,i=t.config.width-t.margin.left-t.margin.right-t.margin.innerRight;t.bounds={context:{height:n*t.config.scaling.focusContextRatio,width:i*(1-t.config.scaling.focusHeatmapRatio)},focus:{height:n*(1-t.config.scaling.focusContextRatio),width:i*(1-t.config.scaling.focusHeatmapRatio)},heatmap:{height:t.config.height-t.margin.top-t.margin.bottom,width:i*t.config.scaling.focusHeatmapRatio}},t.aspect=t.config.width/t.config.height,t.svg=kt(t.config.parentElement).append("svg").attr("width",t.config.width).attr("height",t.config.height).attr("class","wrapper"),t.svg.attr("viewBox",`0 0 ${t.config.width} ${t.config.height}`).attr("preserveAspectRatio","xMidYMid").call(function(){t.resize()}),t.boundedArea=t.svg.append("g").style("transform",`translate(${t.margin.left}px, ${t.margin.top}px)`);const r=i/2,a=-8;t.title=t.boundedArea.append("text").attr("class","chart-title").attr("x",r).attr("y",a).attr("text-anchor","middle").attr("font-size","16px").attr("font-weight","bold"),t.contextPlot=t.boundedArea.append("g").attr("class","context"),t.contextPlot.append("clipPath").attr("id","contextClipPath").append("rect").attr("width",t.bounds.context.width).attr("height",t.bounds.context.height),t.contextAreaG=t.contextPlot.append("g").attr("class","context-area-group"),t.focusPlot=t.boundedArea.append("g").style("transform",`translateY(${t.margin.innerTop+t.bounds.context.height}px)`).attr("class","focus").on("dblclick",function(){t.deselectSites()}),t.focusPlot.append("clipPath").attr("id","focusClipPath").append("rect").attr("transform","translate(0,"+-5+")").attr("width",t.bounds.focus.width).attr("height",t.bounds.focus.height+5),t.focusLineG=t.focusPlot.append("g").attr("class","focus-line-group"),t.focusCircleG=t.focusPlot.append("g").attr("class","focus-circle-group"),t.focusLegend=t.focusPlot.append("g").attr("class","legend").attr("transform",`translate(0,${t.bounds.focus.height+t.margin.bottom})`),t.heatmapPlot=t.boundedArea.append("g").style("transform",`translateX(${t.margin.innerRight+t.bounds.context.width}px)`).attr("class","heatmap"),t.heatmapPlot.append("rect").attr("width",t.bounds.heatmap.width).attr("height",t.bounds.heatmap.height).style("fill","none").style("stroke","black"),t.heatmapPlotG=t.heatmapPlot.append("g").attr("class","heatmap-group"),t.mutantRectG=t.heatmapPlotG.append("g").attr("class","rect-container"),t.wildtypetTextG=t.heatmapPlotG.append("g").attr("class","text-container"),t.heatmapLegend=t.heatmapPlot.append("g").attr("class","legend").attr("transform",`translate(${t.bounds.heatmap.width+10})`),t.legendLinearGradient=t.heatmapLegend.append("defs").append("linearGradient").attr("id","linear-gradient").attr("x1","0%").attr("y1","100%").attr("x2","0%").attr("y2","0%"),t.legendColorRamp=t.heatmapLegend.append("rect").attr("width",`${t.bounds.heatmap.width/2}px`).attr("height",`${t.bounds.heatmap.height/2}px`).style("fill","url(#linear-gradient)"),t.focusTooltip=kt("body").append("div").attr("class","focus-tooltip").style("position","absolute").style("opacity",0),t.heatmapTooltip=kt("body").append("div").attr("class","heatmap-tooltip").style("position","absolute").style("opacity",0),t.yScaleContext=Kc().range([t.bounds.context.height,0]),t.xScaleContext=Kc().range([0,t.bounds.context.width]).nice(),t.xScaleFocus=Kc().range([0,t.bounds.focus.width]).nice(),t.yScaleFocus=Kc().range([t.bounds.focus.height,0]),t.xScaleHeatmap=A4().range([0,t.bounds.heatmap.width]).padding(.1),t.yScaleHeatmap=A4().range([0,t.bounds.heatmap.height]).padding(.1),t.colorScaleHeatmap=Kc(),t.legendScaleHeatmap=t.colorScaleHeatmap.copy(),t.xAxisContext=Av(t.xScaleContext).tickSizeOuter(0),t.xAxisContextG=t.contextPlot.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${t.bounds.context.height})`),t.yAxisContext=lv(t.yScaleContext).ticks(2).tickSizeOuter(0),t.yAxisContextG=t.contextPlot.append("g").attr("class","axis y-axis"),t.xAxisFocus=Av(t.xScaleFocus).tickSizeOuter(0),t.xAxisFocusG=t.focusPlot.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${t.bounds.focus.height})`),t.xAxisFocusG.append("text").attr("class","axis-label").attr("x",t.bounds.focus.width/2).attr("y",40).attr("fill","black").attr("font-size","16px").attr("text-anchor","middle").text("Site"),t.yAxisFocus=lv(t.yScaleFocus).tickSizeOuter(0).ticks(6).tickFormat(s=>{var o=Math.abs(s),c=s.toString().split(".")[1]?s.toString().split(".")[1].length:0;return(o>1e3||o<.001)&&o!==0?ll(".2e")(s):c>3?ll(".3f")(s):ll("")(s)}),t.yAxisFocusG=t.focusPlot.append("g").attr("class","axis y-axis"),t.yAxisFocusG.append("text").attr("class","axis-label").text(`${t.config.summary.charAt(0).toUpperCase()+t.config.summary.slice(1)} of ${t.config.metric}`).attr("transform","rotate(-90)").attr("x",-(t.bounds.focus.height/2)).attr("y",-60).attr("fill","black").attr("font-size","16px").attr("text-anchor","middle"),t.xAxisHeatmap=Av(t.xScaleHeatmap).tickSizeOuter(0),t.xAxisHeatmapG=t.heatmapPlot.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${t.bounds.heatmap.height})`),t.yAxisHeatmap=lv(t.yScaleHeatmap).tickSizeOuter(0),t.yAxisHeatmapG=t.heatmapPlot.append("g").attr("class","axis y-axis"),t.yAxisHeatmapLegend=oV(t.legendScaleHeatmap).ticks(6).tickSize(0),t.yAxisHeatmapLegendG=t.heatmapLegend.append("g").attr("transform",`translate(${t.bounds.heatmap.width/2})`).attr("class","axis legend-axis"),t.brushG=t.contextPlot.append("g").attr("class","brush context-brush"),t.brush=k$().extent([[0,0],[t.bounds.context.width,t.bounds.context.height]]).on("brush",function(s){s.selection&&t.brushed(s.selection)}).on("end",function(s){s.selection||t.brushed(null)}),t.focusBrushG=t.focusCircleG.append("g").attr("class","brush focus-brush"),t.focusBrush=O$().extent([[0,0],[t.bounds.focus.width,t.bounds.focus.height+5]]).on("end",function(s){s.selection&&(s.sourceEvent.altKey?t.deselectSites(s.selection):t.brushedPoints(s.selection))}).keyModifiers(!1),t.updateVis()}updateVis(){let t=this;t.originalMutMetric=t.data[t.config.dataset].mut_metric_df,t.mutMetric=t.originalMutMetric.map(l=>{let u={...l};for(let d in t.config.filters){let p=t.config.filters[d];if(u[d]<p){u.metric=null;break}}return u}),t.excludedAminoAcids=t.data[t.config.dataset].excludedAminoAcids,t.mutMetricSummary=QG(t.mutMetric,t.excludedAminoAcids).filter(l=>t.config.chartConditions.includes(l.condition)),t.mutMetricSummaryPerCondition=Array.from(Kz(t.mutMetricSummary.map(l=>({condition:l.condition,site:l.site,[t.config.summary]:l[t.config.summary],count:l.count})),l=>l.condition),([l,u])=>({condition:l,data:u}));const[n,i]=ZA(t.mutMetricSummary,l=>l.site);if(t.mutMetricSummaryPerCondition.forEach(l=>{let u=l.data;const d=l.condition;let p=new Map(u.map(h=>[h.site,h]));for(let h=n;h<=i;h++)p.has(h)||u.push({condition:d,site:h,[t.config.summary]:null,count:null});u.sort((h,g)=>h.site-g.site)}),t.filteredMutMetricSummary=t.mutMetricSummary.filter(l=>l[t.config.summary]!==null),t.filteredMutMetricSummary.length===0){t.renderEmpty();return}t.initSiteSelection=t.mutMetricSummary.filter(l=>l[t.config.summary]===Ms(t.mutMetricSummary,u=>u[t.config.summary]))[0].site,t.initConditionSelection=t.mutMetricSummary.filter(l=>l[t.config.summary]===Ms(t.mutMetricSummary,u=>u[t.config.summary]))[0].condition,t.mutMetricHeatmap=t.mutMetric.filter(l=>l.site===t.initSiteSelection&&l.condition===t.initConditionSelection),t.positiveColor=t.data[t.config.dataset].condition_colors[t.initConditionSelection],t.data[t.config.dataset].negative_condition_colors?t.negativeColor=t.data[t.config.dataset].negative_condition_colors[t.initConditionSelection]:t.negativeColor=u4(t.positiveColor),t.alphabet=t.data[t.config.dataset].alphabet,t.wildtype=t.mutMetricHeatmap.map(l=>l.wildtype)[0],t.siteMap=new Map,Object.entries(t.data[t.config.dataset].sitemap).forEach(l=>{const[u,d]=l;t.siteMap.set(d.sequential_site,u)}),t.xAccessorContext=l=>l.site,t.yAccessorContext=l=>t.config.mutations?l.count:t.config.floor&&l[t.config.summary]<0?0:l[t.config.summary],t.xAccessorFocus=l=>l.site,t.yAccessorFocus=l=>t.config.floor&&l[t.config.summary]<0?0:l[t.config.summary],t.xAccessorHeatmap=l=>l.site,t.yAccessorHeatmap=l=>l.mutant,t.colorAccessorHeatmap=l=>t.config.floor&&l.metric<0?0:l.metric;const r=ZA(t.mutMetricSummary,t.xAccessorFocus),a=r[1]-r[0],s=ZA(t.mutMetricSummary,t.yAccessorFocus),o=s[1]-s[0],c=ZA(t.mutMetricSummary,t.yAccessorContext),A=c[1]-c[0];t.yScaleContext.domain([c[0],c[1]+A*.05]),t.xScaleContext.domain([r[0],r[1]+a*.05]),t.xScaleFocus.domain([r[0],r[1]+a*.05]),t.yScaleFocus.domain([s[0],s[1]+o*.05]),t.xScaleHeatmap.domain([Ms(t.mutMetricHeatmap,t.xAccessorHeatmap)]),t.yScaleHeatmap.domain(t.alphabet),t.config.floor?t.colorScaleHeatmap.domain([0,Ms(t.originalMutMetric,t.colorAccessorHeatmap)]).range(["white",t.positiveColor]):t.colorScaleHeatmap.domain([-Ms(ZA(t.originalMutMetric,t.colorAccessorHeatmap).map(Math.abs)),0,Ms(ZA(t.originalMutMetric,t.colorAccessorHeatmap).map(Math.abs))]).range([t.negativeColor,"white",t.positiveColor]),t.legendScaleHeatmap.domain(t.colorScaleHeatmap.domain()).rangeRound(gW(Jh(t.bounds.heatmap.height/2,0),t.colorScaleHeatmap.range().length)),t.tooltipContent=l=>{const u=`<strong>${t.config.metric}:</strong> ${l.metric!==null?l.metric.toFixed(2):"Filtered"}</br>`;if(t.config.tooltips){const d=Object.entries(t.config.tooltips).map(([p,h])=>`<strong>${h}:</strong> ${typeof l[p]=="number"?l[p].toFixed(2):l[p]}</br>`);return u+d.join("")}else return u},t.contextArea=uj().curve(kg).x(l=>t.xScaleContext(t.xAccessorContext(l))).y0(t.yScaleContext(0)).y1(l=>t.yScaleContext(t.yAccessorContext(l)||0)),t.focusLine=HG().curve(kg).x(l=>t.xScaleFocus(t.xAccessorFocus(l))).y(l=>t.yScaleFocus(t.yAccessorFocus(l)||0)),t.renderVis()}renderVis(){let t=this;t.focusPlot.select(".empty-message").remove(),t.contextAreaG.selectAll(".context-area").data(t.mutMetricSummaryPerCondition,i=>`${i.condition}-${i.site}`).join("path").attr("class","context-area").attr("clip-path","url(#contextClipPath)").attr("d",i=>t.contextArea(i.data)).attr("fill",i=>t.config.mutations?"#8a8a8a":t.data[t.config.dataset].condition_colors[i.condition]),t.focusLineG.selectAll(".focus-line").data(t.mutMetricSummaryPerCondition,i=>`${i.condition}-${i.site}`).join("path").attr("class","focus-line").attr("clip-path","url(#focusClipPath)").attr("fill","none").attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-opacity",1).attr("d",i=>t.focusLine(i.data)).attr("stroke",i=>t.data[t.config.dataset].condition_colors[i.condition]),t.focusCircleG.selectAll("circle").data(t.filteredMutMetricSummary,i=>`${i.condition}-${i.site}`).join(i=>i.append("circle").attr("cy",r=>t.yScaleFocus(t.yAccessorFocus(r))),i=>i.call(r=>r.attr("cy",a=>t.yScaleFocus(t.yAccessorFocus(a)))),i=>i.remove()).attr("cx",i=>t.xScaleFocus(t.xAccessorFocus(i))).attr("r",5).attr("clip-path","url(#focusClipPath)").attr("fill","white").attr("stroke",i=>t.data[t.config.dataset].condition_colors[i.condition]).attr("stroke-width",2).on("mouseover",(i,r)=>{t.focusTooltip.style("opacity",1).html(`<strong>Site:</strong> ${r.site_reference}<br><strong>${t.config.metric} ${t.config.summary}:</strong> ${r[t.config.summary].toFixed(2)}<br><strong>Wildtype:</strong> ${r.wildtype}<br><strong>Mutations:</strong> ${r.count}`).style("border-color",t.data[t.config.dataset].condition_colors[r.condition])}).on("mousemove",i=>{t.focusTooltip.style("top",i.pageY-10+"px").style("left",i.pageX+10+"px")}).on("mouseout",()=>{t.focusTooltip.style("opacity",0)}).on("click",function(i,r){t.updateHeatmap(r)}),t.focusPlot.selectAll("circle").filter(i=>t.selection.map(r=>r.site).includes(i.site)).attr("fill",i=>t.data[t.config.dataset].condition_colors[i.condition]).classed("selected",!0),t.focusPlot.selectAll("circle").filter(i=>i.site===t.initSiteSelection&&i.condition===t.initConditionSelection).classed("heatmap-site",!0).attr("r",8).attr("stroke","black").attr("stroke-width",4),t.mutantRectG.selectAll(".mutant-rect").data(t.mutMetricHeatmap,i=>i.mutation).join(i=>i.append("rect").attr("class","mutant-rect").style("fill",r=>t.colorAccessorHeatmap(r)!==null?t.colorScaleHeatmap(t.colorAccessorHeatmap(r)):"grey").style("stroke","black"),i=>i.call(r=>r.style("fill",a=>t.colorAccessorHeatmap(a)!==null?t.colorScaleHeatmap(t.colorAccessorHeatmap(a)):"grey")),i=>i.remove()).attr("x",i=>t.xScaleHeatmap(t.xAccessorHeatmap(i))).attr("y",i=>t.yScaleHeatmap(t.yAccessorHeatmap(i))).attr("width",t.xScaleHeatmap.bandwidth()).attr("height",t.yScaleHeatmap.bandwidth()).on("mouseover",(i,r)=>{t.heatmapTooltip.style("opacity",1).html(t.tooltipContent(r)).style("border-color",t.positiveColor).style("font-size","1em")}).on("mousemove",i=>{t.heatmapTooltip.style("top",i.pageY-10+"px").style("left",i.pageX+10+"px")}).on("mouseout",()=>{t.heatmapTooltip.style("opacity",0)}),t.wildtypetTextG.selectAll(".wildtype-text").data([t.wildtype],i=>i).join("text").attr("class","wildtype-text").attr("transform",`translate(${t.bounds.heatmap.width/2}, ${t.yScaleHeatmap.bandwidth()/2})`).attr("y",i=>t.yScaleHeatmap(i)).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("font-size","1em").attr("font-weight","bold").text("x"),t.xAxisContextG.call(t.xAxisContext).call(i=>i.select(".domain").style("stroke-width",".5")).call(i=>i.selectAll(".tick").remove()),t.yAxisContextG.call(t.yAxisContext),t.xAxisFocusG.call(t.xAxisFocus.tickFormat(function(i){return t.siteMap.get(i)})),t.yAxisFocusG.call(t.yAxisFocus),t.yAxisFocusG.select(".axis-label").text(`${t.config.summary.charAt(0).toUpperCase()+t.config.summary.slice(1)} of ${t.config.metric}`),t.xAxisHeatmapG.call(t.xAxisHeatmap.tickFormat(function(i){return t.siteMap.get(i)})),t.yAxisHeatmapG.call(t.yAxisHeatmap),t.legendLinearGradient.selectAll("stop").data(t.colorScaleHeatmap.range()).join("stop").attr("offset",(i,r)=>r/(t.colorScaleHeatmap.range().length-1)).attr("stop-color",i=>i),t.yAxisHeatmapLegendG.call(t.yAxisHeatmapLegend).call(i=>i.select(".domain").remove()),t.brushSelection=t.brushSelection||null,t.brushG.call(t.brush).call(t.brush.move,t.brushSelection),t.focusBrushG.call(t.focusBrush);const n=t.data[t.config.dataset].title;n?t.title.text(n):t.title.text("")}brushed(t){let n=this;if(t){const i=t.map(n.xScaleContext.invert,n.xScaleContext);n.xScaleFocus.domain(i)}else n.xScaleFocus.domain(n.xScaleContext.domain());n.brushSelection=t,n.focusPlot.selectAll(".focus-line").attr("d",i=>n.focusLine(i.data)),n.focusPlot.selectAll("circle").attr("cx",i=>n.xScaleFocus(n.xAccessorFocus(i))),n.xAxisFocusG.call(n.xAxisFocus)}renderEmpty(){let t=this;t.focusPlot.select(".empty-message").remove(),t.contextAreaG.selectAll(".context-area").remove(),t.focusLineG.selectAll(".focus-line").remove(),t.focusCircleG.selectAll("circle").remove(),t.heatmapPlotG.selectAll(".mutant-rect").remove(),t.heatmapPlotG.selectAll(".wildtype-text").remove(),t.yAxisFocusG.selectAll(".tick").remove(),t.yAxisContextG.selectAll(".tick").remove(),t.xAxisHeatmapG.selectAll(".tick").remove(),t.focusPlot.append("text").attr("class","empty-message").attr("x",t.bounds.focus.width/2).attr("y",t.bounds.focus.height/2).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-size","1.5em").attr("fill","darkred").text("All sites filtered out")}brushedPoints(t){let n=this;if(n.focusPlot.select(".focus-brush").call(n.focusBrush.move,null),t){const[[i,r],[a,s]]=t;let o=n.focusPlot.selectAll("circle").filter(c=>i<=n.xScaleFocus(n.xAccessorFocus(c))&&n.xScaleFocus(n.xAccessorFocus(c))<a&&r<=n.yScaleFocus(n.yAccessorFocus(c))&&n.yScaleFocus(n.yAccessorFocus(c))<s);n.focusPlot.selectAll("circle").filter(c=>o.data().map(A=>A.site).includes(c.site)).classed("selected",!0).attr("fill",c=>n.data[n.config.dataset].condition_colors[c.condition]),n.selection.push(...o.data()),this.dispatch.call("updateSites",this,n.selection)}}deselectSites(t=null){let n=this;if(t){n.focusPlot.select(".focus-brush").call(n.focusBrush.move,null);const[[i,r],[a,s]]=t;let o=n.focusPlot.selectAll("circle").filter(c=>i<=n.xScaleFocus(n.xAccessorFocus(c))&&n.xScaleFocus(n.xAccessorFocus(c))<a&&r<=n.yScaleFocus(n.yAccessorFocus(c))&&n.yScaleFocus(n.yAccessorFocus(c))<s);n.focusPlot.selectAll("circle").filter(c=>o.data().map(A=>A.site).includes(c.site)).classed("selected",!1).attr("fill","white"),n.selection=n.selection.filter(c=>!o.data().map(l=>l.site).includes(c.site)),this.dispatch.call("updateSites",this,n.selection)}else n.focusPlot.selectAll(".selected").classed("selected",!1).attr("fill","white"),n.selection=[],this.dispatch.call("updateSites",this,n.selection)}updateHeatmap(t){let n=this;const i=t.site,r=t.condition;n.positiveColor=n.data[n.config.dataset].condition_colors[r],n.data[n.config.dataset].negative_condition_colors?n.negativeColor=n.data[n.config.dataset].negative_condition_colors[r]:n.negativeColor=u4(n.positiveColor),n.wildtype=t.wildtype,n.focusPlot.selectAll(".heatmap-site").attr("r",5).attr("stroke-width",2).attr("stroke",a=>n.data[n.config.dataset].condition_colors[a.condition]).classed("heatmap-site",!1),n.focusPlot.selectAll("circle").filter(a=>a.site===i&&a.condition===r).classed("heatmap-site",!0).attr("r",8).attr("stroke","black").attr("stroke-width",4),n.mutMetricHeatmap=n.mutMetric.filter(a=>a.site===i&&a.condition===r),n.xScaleHeatmap.domain([i]),n.config.floor?n.colorScaleHeatmap.range(["white",n.positiveColor]):n.colorScaleHeatmap.range([n.negativeColor,"white",n.positiveColor]),n.legendLinearGradient.selectAll("stop").data(n.colorScaleHeatmap.range()).join(a=>a.append("stop").attr("offset",(s,o)=>o/(n.colorScaleHeatmap.range().length-1)).attr("stop-color",s=>s),a=>a.attr("offset",(s,o)=>o/(n.colorScaleHeatmap.range().length-1)).attr("stop-color",s=>s),a=>a.remove()),n.xAxisHeatmapG.call(n.xAxisHeatmap),n.mutantRectG.selectAll(".mutant-rect").data(n.mutMetricHeatmap,a=>a.mutation).join(a=>a.append("rect").attr("class","mutant-rect").style("fill",s=>n.colorAccessorHeatmap(s)!==null?n.colorScaleHeatmap(n.colorAccessorHeatmap(s)):"grey").style("stroke","black"),a=>a.call(s=>s.style("fill",o=>n.colorAccessorHeatmap(o)!==null?n.colorScaleHeatmap(n.colorAccessorHeatmap(o)):"grey")),a=>a.remove()).attr("x",a=>n.xScaleHeatmap(n.xAccessorHeatmap(a))).attr("y",a=>n.yScaleHeatmap(n.yAccessorHeatmap(a))).attr("width",n.xScaleHeatmap.bandwidth()).attr("height",n.yScaleHeatmap.bandwidth()).on("mouseover",(a,s)=>{n.heatmapTooltip.style("opacity",1).html(n.tooltipContent(s)).style("border-color",n.positiveColor).style("font-size","1em")}).on("mousemove",a=>{n.heatmapTooltip.style("top",a.pageY-10+"px").style("left",a.pageX+10+"px")}).on("mouseout",()=>{n.heatmapTooltip.style("opacity",0)}),n.wildtypetTextG.selectAll(".wildtype-text").data([n.wildtype],a=>a).join("text").attr("class","wildtype-text").attr("transform",`translate(${n.bounds.heatmap.width/2}, ${n.yScaleHeatmap.bandwidth()/2})`).attr("y",a=>n.yScaleHeatmap(a)).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("font-size","1em").attr("font-weight","bold").text("x")}resize(){let t=this;const n=kt(t.config.parentElement).node();return t.config.width=n.offsetWidth,t.config.height=n.offsetHeight,t.svg.attr("width",t.config.width).attr("height",t.config.width/t.aspect),t.config.width/t.aspect}async saveImage(){let t=this;const i=kt(t.config.parentElement).node().cloneNode(!0),a=300/96;i.style.transform=`scale(${a})`,i.style.transformOrigin="top left",i.style.position="fixed",i.style.top="-10000px",document.body.appendChild(i);const s=await $te(i,{scale:a,useCORS:!0,logging:!1});document.body.removeChild(i);const o=await new Promise(A=>s.toBlob(A,"image/png")),c=document.createElement("a");c.href=URL.createObjectURL(o),c.download=`${t.config.dataset}_${t.config.metric}_${t.config.summary}.png`,c.click(),c.remove()}}function Xte(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}function Zte(e){var t=this;return new t(function(n,i){if(!(e&&typeof e.length<"u"))return i(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(r.length===0)return n([]);var a=r.length;function s(c,A){if(A&&(typeof A=="object"||typeof A=="function")){var l=A.then;if(typeof l=="function"){l.call(A,function(u){s(c,u)},function(u){r[c]={status:"rejected",reason:u},--a===0&&n(r)});return}}r[c]={status:"fulfilled",value:A},--a===0&&n(r)}for(var o=0;o<r.length;o++)s(o,r[o])})}function WT(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}WT.prototype=Error.prototype;function Jte(e){var t=this;return new t(function(n,i){if(!(e&&typeof e.length<"u"))return i(new TypeError("Promise.any accepts an array"));var r=Array.prototype.slice.call(e);if(r.length===0)return i();for(var a=[],s=0;s<r.length;s++)try{t.resolve(r[s]).then(n).catch(function(o){a.push(o),a.length===r.length&&i(new WT(a,"All promises were rejected"))})}catch(o){i(o)}})}var ene=setTimeout;function $T(e){return Boolean(e&&typeof e.length<"u")}function tne(){}function nne(e,t){return function(){e.apply(t,arguments)}}function zi(e){if(!(this instanceof zi))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],YT(e,this)}function jT(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,zi._immediateFn(function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?W4:rh)(t.promise,e._value);return}var i;try{i=n(e._value)}catch(r){rh(t.promise,r);return}W4(t.promise,i)})}function W4(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var n=t.then;if(t instanceof zi){e._state=3,e._value=t,$4(e);return}else if(typeof n=="function"){YT(nne(n,t),e);return}}e._state=1,e._value=t,$4(e)}catch(i){rh(e,i)}}function rh(e,t){e._state=2,e._value=t,$4(e)}function $4(e){e._state===2&&e._deferreds.length===0&&zi._immediateFn(function(){e._handled||zi._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)jT(e,e._deferreds[t]);e._deferreds=null}function ine(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function YT(e,t){var n=!1;try{e(function(i){n||(n=!0,W4(t,i))},function(i){n||(n=!0,rh(t,i))})}catch(i){if(n)return;n=!0,rh(t,i)}}zi.prototype.catch=function(e){return this.then(null,e)};zi.prototype.then=function(e,t){var n=new this.constructor(tne);return jT(this,new ine(e,t,n)),n};zi.prototype.finally=Xte;zi.all=function(e){return new zi(function(t,n){if(!$T(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(i.length===0)return t([]);var r=i.length;function a(o,c){try{if(c&&(typeof c=="object"||typeof c=="function")){var A=c.then;if(typeof A=="function"){A.call(c,function(l){a(o,l)},n);return}}i[o]=c,--r===0&&t(i)}catch(l){n(l)}}for(var s=0;s<i.length;s++)a(s,i[s])})};zi.any=Jte;zi.allSettled=Zte;zi.resolve=function(e){return e&&typeof e=="object"&&e.constructor===zi?e:new zi(function(t){t(e)})};zi.reject=function(e){return new zi(function(t,n){n(e)})};zi.race=function(e){return new zi(function(t,n){if(!$T(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=e.length;i<r;i++)zi.resolve(e[i]).then(t,n)})};zi._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){ene(e,0)};zi._unhandledRejectionFn=function(t){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52));Number.isInteger===void 0&&(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});Math.sign===void 0&&(Math.sign=function(e){return e<0?-1:e>0?1:+e});"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});Object.assign===void 0&&(Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let n=1;n<arguments.length;n++){const i=arguments[n];if(i!=null)for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t});const rne="118",ane=0,L6=1,sne=2,qT=1,one=2,pf=3,Xd=0,yr=1,am=2,XT=1,Xc=0,aA=1,j4=2,P6=3,U6=4,cne=5,Du=100,Ane=101,lne=102,D6=103,k6=104,une=200,dne=201,pne=202,fne=203,ZT=204,JT=205,hne=206,mne=207,yne=208,gne=209,bne=210,vne=0,wne=1,Ene=2,Y4=3,_ne=4,xne=5,Bne=6,Rne=7,N2=0,Cne=1,Nne=2,Ad=0,Sne=1,Gne=2,Mne=3,Tne=4,Fne=5,u7=300,d7=301,p7=302,eF=303,f7=304,sm=306,h7=307,r3=1e3,Ta=1001,a3=1002,hi=1003,q4=1004,X4=1005,ur=1006,tF=1007,S2=1008,_l=1009,Ine=1010,Lne=1011,s3=1012,Pne=1013,og=1014,Wc=1015,o3=1016,Une=1017,Dne=1018,kne=1019,If=1020,One=1021,pl=1022,Pa=1023,Hne=1024,Qne=1025,zne=Pa,ld=1026,ah=1027,Vne=1028,Kne=1029,Wne=1030,$ne=1031,jne=1032,Yne=1033,O6=33776,H6=33777,Q6=33778,z6=33779,V6=35840,K6=35841,W6=35842,$6=35843,qne=36196,j6=37492,Y6=37496,Xne=37808,Zne=37809,Jne=37810,eie=37811,tie=37812,nie=37813,iie=37814,rie=37815,aie=37816,sie=37817,oie=37818,cie=37819,Aie=37820,lie=37821,uie=36492,die=37840,pie=37841,fie=37842,hie=37843,mie=37844,yie=37845,gie=37846,bie=37847,vie=37848,wie=37849,Eie=37850,_ie=37851,xie=37852,Bie=37853,Rie=2200,Cie=2201,Nie=2202,c3=2300,cg=2301,Jv=2302,xd=2400,Xu=2401,A3=2402,m7=2500,nF=2501,Sie=0,ea=3e3,om=3001,y7=3007,g7=3002,Gie=3003,iF=3004,rF=3005,aF=3006,Mie=3200,Tie=3201,Zd=0,Fie=1,ew=7680,Iie=519,G2=35044,sh=35048;function h0(){}Object.assign(h0.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}},dispatchEvent:function(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let r=0,a=i.length;r<a;r++)i[r].call(this,e)}}});const Mr=[];for(let e=0;e<256;e++)Mr[e]=(e<16?"0":"")+e.toString(16);const _n={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Mr[e&255]+Mr[e>>8&255]+Mr[e>>16&255]+Mr[e>>24&255]+"-"+Mr[t&255]+Mr[t>>8&255]+"-"+Mr[t>>16&15|64]+Mr[t>>24&255]+"-"+Mr[n&63|128]+Mr[n>>8&255]+"-"+Mr[n>>16&255]+Mr[n>>24&255]+Mr[i&255]+Mr[i>>8&255]+Mr[i>>16&255]+Mr[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*_n.DEG2RAD},radToDeg:function(e){return e*_n.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const a=Math.cos,s=Math.sin,o=a(n/2),c=s(n/2),A=a((t+i)/2),l=s((t+i)/2),u=a((t-i)/2),d=s((t-i)/2),p=a((i-t)/2),h=s((i-t)/2);switch(r){case"XYX":e.set(o*l,c*u,c*d,o*A);break;case"YZY":e.set(c*d,o*l,c*u,o*A);break;case"ZXZ":e.set(c*u,c*d,o*l,o*A);break;case"XZX":e.set(o*l,c*h,c*p,o*A);break;case"YXY":e.set(c*p,o*l,c*h,o*A);break;case"ZYZ":e.set(c*h,c*p,o*l,o*A);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};function et(e=0,t=0){this.x=e,this.y=t}Object.defineProperties(et.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}});Object.assign(et.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*n-a*i+e.x,this.y=r*i+a*n+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}});function kr(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(kr.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,a,s,o,c){const A=this.elements;return A[0]=e,A[1]=i,A[2]=s,A[3]=t,A[4]=r,A[5]=o,A[6]=n,A[7]=a,A[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},extractBasis:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const n=e.elements,i=t.elements,r=this.elements,a=n[0],s=n[3],o=n[6],c=n[1],A=n[4],l=n[7],u=n[2],d=n[5],p=n[8],h=i[0],g=i[3],b=i[6],y=i[1],v=i[4],_=i[7],w=i[2],E=i[5],B=i[8];return r[0]=a*h+s*y+o*w,r[3]=a*g+s*v+o*E,r[6]=a*b+s*_+o*B,r[1]=c*h+A*y+l*w,r[4]=c*g+A*v+l*E,r[7]=c*b+A*_+l*B,r[2]=u*h+d*y+p*w,r[5]=u*g+d*v+p*E,r[8]=u*b+d*_+p*B,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],s=e[5],o=e[6],c=e[7],A=e[8];return t*a*A-t*s*c-n*r*A+n*s*o+i*r*c-i*a*o},getInverse:function(e,t){t!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const n=e.elements,i=this.elements,r=n[0],a=n[1],s=n[2],o=n[3],c=n[4],A=n[5],l=n[6],u=n[7],d=n[8],p=d*c-A*u,h=A*l-d*o,g=u*o-c*l,b=r*p+a*h+s*g;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/b;return i[0]=p*y,i[1]=(s*u-d*a)*y,i[2]=(A*a-s*c)*y,i[3]=h*y,i[4]=(d*r-s*l)*y,i[5]=(s*o-A*r)*y,i[6]=g*y,i[7]=(a*l-u*r)*y,i[8]=(c*r-a*o)*y,this},transpose:function(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,a,s){const o=Math.cos(r),c=Math.sin(r);this.set(n*o,n*c,-n*(o*a+c*s)+a+e,-i*c,i*o,-i*(-c*a+o*s)+s+t,0,0,1)},scale:function(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){const t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],a=i[3],s=i[6],o=i[1],c=i[4],A=i[7];return i[0]=t*r+n*o,i[3]=t*a+n*c,i[6]=t*s+n*A,i[1]=-n*r+t*o,i[4]=-n*a+t*c,i[7]=-n*s+t*A,this},translate:function(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});let uu;const xl={getDataURL:function(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{uu===void 0&&(uu=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),uu.width=e.width,uu.height=e.height;const n=uu.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=uu}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let Lie=0;function Ei(e,t,n,i,r,a,s,o,c,A){Object.defineProperty(this,"id",{value:Lie++}),this.uuid=_n.generateUUID(),this.name="",this.image=e!==void 0?e:Ei.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:Ei.DEFAULT_MAPPING,this.wrapS=n!==void 0?n:Ta,this.wrapT=i!==void 0?i:Ta,this.magFilter=r!==void 0?r:ur,this.minFilter=a!==void 0?a:S2,this.anisotropy=c!==void 0?c:1,this.format=s!==void 0?s:Pa,this.internalFormat=null,this.type=o!==void 0?o:_l,this.offset=new et(0,0),this.repeat=new et(1,1),this.center=new et(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=A!==void 0?A:ea,this.version=0,this.onUpdate=null}Ei.DEFAULT_IMAGE=void 0;Ei.DEFAULT_MAPPING=u7;Ei.prototype=Object.assign(Object.create(h0.prototype),{constructor:Ei,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=_n.generateUUID()),!t&&e.images[i.uuid]===void 0){let r;if(Array.isArray(i)){r=[];for(let a=0,s=i.length;a<s;a++)r.push(xl.getDataURL(i[a]))}else r=xl.getDataURL(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==u7)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case r3:e.x=e.x-Math.floor(e.x);break;case Ta:e.x=e.x<0?0:1;break;case a3:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case r3:e.y=e.y-Math.floor(e.y);break;case Ta:e.y=e.y<0?0:1;break;case a3:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(Ei.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function pi(e=0,t=0,n=0,i=1){this.x=e,this.y=t,this.z=n,this.w=i}Object.defineProperties(pi.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}});Object.assign(pi.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){const t=this.x,n=this.y,i=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){let t,n,i,r;const o=e.elements,c=o[0],A=o[4],l=o[8],u=o[1],d=o[5],p=o[9],h=o[2],g=o[6],b=o[10];if(Math.abs(A-u)<.01&&Math.abs(l-h)<.01&&Math.abs(p-g)<.01){if(Math.abs(A+u)<.1&&Math.abs(l+h)<.1&&Math.abs(p+g)<.1&&Math.abs(c+d+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const v=(c+1)/2,_=(d+1)/2,w=(b+1)/2,E=(A+u)/4,B=(l+h)/4,R=(p+g)/4;return v>_&&v>w?v<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(v),i=E/n,r=B/n):_>w?_<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(_),n=E/i,r=R/i):w<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(w),n=B/r,i=R/r),this.set(n,i,r,t),this}let y=Math.sqrt((g-p)*(g-p)+(l-h)*(l-h)+(u-A)*(u-A));return Math.abs(y)<.001&&(y=1),this.x=(g-p)/y,this.y=(l-h)/y,this.z=(u-A)/y,this.w=Math.acos((c+d+b-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}});function fa(e,t,n){this.width=e,this.height=t,this.scissor=new pi(0,0,e,t),this.scissorTest=!1,this.viewport=new pi(0,0,e,t),n=n||{},this.texture=new Ei(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ur,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!0,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}fa.prototype=Object.assign(Object.create(h0.prototype),{constructor:fa,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function q6(e,t,n){fa.call(this,e,t,n),this.samples=4}q6.prototype=Object.assign(Object.create(fa.prototype),{constructor:q6,isWebGLMultisampleRenderTarget:!0,copy:function(e){return fa.prototype.copy.call(this,e),this.samples=e.samples,this}});function yi(e=0,t=0,n=0,i=1){this._x=e,this._y=t,this._z=n,this._w=i}Object.assign(yi,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,a,s){let o=n[i+0],c=n[i+1],A=n[i+2],l=n[i+3];const u=r[a+0],d=r[a+1],p=r[a+2],h=r[a+3];if(l!==h||o!==u||c!==d||A!==p){let g=1-s,b=o*u+c*d+A*p+l*h,y=b>=0?1:-1,v=1-b*b;if(v>Number.EPSILON){const w=Math.sqrt(v),E=Math.atan2(w,b*y);g=Math.sin(g*E)/w,s=Math.sin(s*E)/w}const _=s*y;if(o=o*g+u*_,c=c*g+d*_,A=A*g+p*_,l=l*g+h*_,g===1-s){const w=1/Math.sqrt(o*o+c*c+A*A+l*l);o*=w,c*=w,A*=w,l*=w}}e[t]=o,e[t+1]=c,e[t+2]=A,e[t+3]=l},multiplyQuaternionsFlat:function(e,t,n,i,r,a){const s=n[i],o=n[i+1],c=n[i+2],A=n[i+3],l=r[a],u=r[a+1],d=r[a+2],p=r[a+3];return e[t]=s*p+A*l+o*d-c*u,e[t+1]=o*p+A*u+c*l-s*d,e[t+2]=c*p+A*d+s*u-o*l,e[t+3]=A*p-s*l-o*u-c*d,e}});Object.defineProperties(yi.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}});Object.assign(yi.prototype,{isQuaternion:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,i=e._y,r=e._z,a=e.order,s=Math.cos,o=Math.sin,c=s(n/2),A=s(i/2),l=s(r/2),u=o(n/2),d=o(i/2),p=o(r/2);switch(a){case"XYZ":this._x=u*A*l+c*d*p,this._y=c*d*l-u*A*p,this._z=c*A*p+u*d*l,this._w=c*A*l-u*d*p;break;case"YXZ":this._x=u*A*l+c*d*p,this._y=c*d*l-u*A*p,this._z=c*A*p-u*d*l,this._w=c*A*l+u*d*p;break;case"ZXY":this._x=u*A*l-c*d*p,this._y=c*d*l+u*A*p,this._z=c*A*p+u*d*l,this._w=c*A*l-u*d*p;break;case"ZYX":this._x=u*A*l-c*d*p,this._y=c*d*l+u*A*p,this._z=c*A*p-u*d*l,this._w=c*A*l+u*d*p;break;case"YZX":this._x=u*A*l+c*d*p,this._y=c*d*l+u*A*p,this._z=c*A*p-u*d*l,this._w=c*A*l-u*d*p;break;case"XZY":this._x=u*A*l-c*d*p,this._y=c*d*l-u*A*p,this._z=c*A*p+u*d*l,this._w=c*A*l+u*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){const t=e.elements,n=t[0],i=t[4],r=t[8],a=t[1],s=t[5],o=t[9],c=t[2],A=t[6],l=t[10],u=n+s+l;if(u>0){const d=.5/Math.sqrt(u+1);this._w=.25/d,this._x=(A-o)*d,this._y=(r-c)*d,this._z=(a-i)*d}else if(n>s&&n>l){const d=2*Math.sqrt(1+n-s-l);this._w=(A-o)/d,this._x=.25*d,this._y=(i+a)/d,this._z=(r+c)/d}else if(s>l){const d=2*Math.sqrt(1+s-n-l);this._w=(r-c)/d,this._x=(i+a)/d,this._y=.25*d,this._z=(o+A)/d}else{const d=2*Math.sqrt(1+l-n-s);this._w=(a-i)/d,this._x=(r+c)/d,this._y=(o+A)/d,this._z=.25*d}return this._onChangeCallback(),this},setFromUnitVectors:function(e,t){let i=e.dot(t)+1;return i<1e-6?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(_n.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){const n=e._x,i=e._y,r=e._z,a=e._w,s=t._x,o=t._y,c=t._z,A=t._w;return this._x=n*A+a*s+i*c-r*o,this._y=i*A+a*o+r*s-n*c,this._z=r*A+a*c+n*o-i*s,this._w=a*A-n*s-i*o-r*c,this._onChangeCallback(),this},slerp:function(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,r=this._z,a=this._w;let s=a*e._w+n*e._x+i*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;const o=1-s*s;if(o<=Number.EPSILON){const d=1-t;return this._w=d*a+t*this._w,this._x=d*n+t*this._x,this._y=d*i+t*this._y,this._z=d*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(o),A=Math.atan2(c,s),l=Math.sin((1-t)*A)/c,u=Math.sin(t*A)/c;return this._w=a*l+this._w*u,this._x=n*l+this._x*u,this._y=i*l+this._y*u,this._z=r*l+this._z*u,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return t===void 0&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});const tw=new P,X6=new yi;function P(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}Object.assign(P.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(X6.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(X6.setFromAxisAngle(e,t))},applyMatrix3:function(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){const t=this.x,n=this.y,i=this.z,r=e.elements,a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a,this},applyQuaternion:function(e){const t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,s=e.z,o=e.w,c=o*t+a*i-s*n,A=o*n+s*t-r*i,l=o*i+r*n-a*t,u=-r*t-a*n-s*i;return this.x=c*o+u*-r+A*-s-l*-a,this.y=A*o+u*-a+l*-r-c*-s,this.z=l*o+u*-s+c*-a-A*-r,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this},cross:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){const n=e.x,i=e.y,r=e.z,a=t.x,s=t.y,o=t.z;return this.x=i*o-r*s,this.y=r*a-n*o,this.z=n*s-i*a,this},projectOnVector:function(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},projectOnPlane:function(e){return tw.copy(this).projectOnVector(e),this.sub(tw)},reflect:function(e){return this.sub(tw.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(_n.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,t*4)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,t*3)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});const du=new P,no=new st,Pie=new P(0,0,0),Uie=new P(1,1,1),F0=new P,O1=new P,ja=new P;function st(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(st.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,a,s,o,c,A,l,u,d,p,h,g){const b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=i,b[1]=r,b[5]=a,b[9]=s,b[13]=o,b[2]=c,b[6]=A,b[10]=l,b[14]=u,b[3]=d,b[7]=p,b[11]=h,b[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new st().fromArray(this.elements)},copy:function(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){const t=this.elements,n=e.elements,i=1/du.setFromMatrixColumn(e,0).length(),r=1/du.setFromMatrixColumn(e,1).length(),a=1/du.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,i=e.y,r=e.z,a=Math.cos(n),s=Math.sin(n),o=Math.cos(i),c=Math.sin(i),A=Math.cos(r),l=Math.sin(r);if(e.order==="XYZ"){const u=a*A,d=a*l,p=s*A,h=s*l;t[0]=o*A,t[4]=-o*l,t[8]=c,t[1]=d+p*c,t[5]=u-h*c,t[9]=-s*o,t[2]=h-u*c,t[6]=p+d*c,t[10]=a*o}else if(e.order==="YXZ"){const u=o*A,d=o*l,p=c*A,h=c*l;t[0]=u+h*s,t[4]=p*s-d,t[8]=a*c,t[1]=a*l,t[5]=a*A,t[9]=-s,t[2]=d*s-p,t[6]=h+u*s,t[10]=a*o}else if(e.order==="ZXY"){const u=o*A,d=o*l,p=c*A,h=c*l;t[0]=u-h*s,t[4]=-a*l,t[8]=p+d*s,t[1]=d+p*s,t[5]=a*A,t[9]=h-u*s,t[2]=-a*c,t[6]=s,t[10]=a*o}else if(e.order==="ZYX"){const u=a*A,d=a*l,p=s*A,h=s*l;t[0]=o*A,t[4]=p*c-d,t[8]=u*c+h,t[1]=o*l,t[5]=h*c+u,t[9]=d*c-p,t[2]=-c,t[6]=s*o,t[10]=a*o}else if(e.order==="YZX"){const u=a*o,d=a*c,p=s*o,h=s*c;t[0]=o*A,t[4]=h-u*l,t[8]=p*l+d,t[1]=l,t[5]=a*A,t[9]=-s*A,t[2]=-c*A,t[6]=d*l+p,t[10]=u-h*l}else if(e.order==="XZY"){const u=a*o,d=a*c,p=s*o,h=s*c;t[0]=o*A,t[4]=-l,t[8]=c*A,t[1]=u*l+h,t[5]=a*A,t[9]=d*l-p,t[2]=p*l-d,t[6]=s*A,t[10]=h*l+u}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(Pie,e,Uie)},lookAt:function(e,t,n){const i=this.elements;return ja.subVectors(e,t),ja.lengthSq()===0&&(ja.z=1),ja.normalize(),F0.crossVectors(n,ja),F0.lengthSq()===0&&(Math.abs(n.z)===1?ja.x+=1e-4:ja.z+=1e-4,ja.normalize(),F0.crossVectors(n,ja)),F0.normalize(),O1.crossVectors(ja,F0),i[0]=F0.x,i[4]=O1.x,i[8]=ja.x,i[1]=F0.y,i[5]=O1.y,i[9]=ja.y,i[2]=F0.z,i[6]=O1.z,i[10]=ja.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const n=e.elements,i=t.elements,r=this.elements,a=n[0],s=n[4],o=n[8],c=n[12],A=n[1],l=n[5],u=n[9],d=n[13],p=n[2],h=n[6],g=n[10],b=n[14],y=n[3],v=n[7],_=n[11],w=n[15],E=i[0],B=i[4],R=i[8],G=i[12],C=i[1],O=i[5],I=i[9],D=i[13],k=i[2],L=i[6],T=i[10],H=i[14],W=i[3],j=i[7],ce=i[11],ue=i[15];return r[0]=a*E+s*C+o*k+c*W,r[4]=a*B+s*O+o*L+c*j,r[8]=a*R+s*I+o*T+c*ce,r[12]=a*G+s*D+o*H+c*ue,r[1]=A*E+l*C+u*k+d*W,r[5]=A*B+l*O+u*L+d*j,r[9]=A*R+l*I+u*T+d*ce,r[13]=A*G+l*D+u*H+d*ue,r[2]=p*E+h*C+g*k+b*W,r[6]=p*B+h*O+g*L+b*j,r[10]=p*R+h*I+g*T+b*ce,r[14]=p*G+h*D+g*H+b*ue,r[3]=y*E+v*C+_*k+w*W,r[7]=y*B+v*O+_*L+w*j,r[11]=y*R+v*I+_*T+w*ce,r[15]=y*G+v*D+_*H+w*ue,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],s=e[5],o=e[9],c=e[13],A=e[2],l=e[6],u=e[10],d=e[14],p=e[3],h=e[7],g=e[11],b=e[15];return p*(+r*o*l-i*c*l-r*s*u+n*c*u+i*s*d-n*o*d)+h*(+t*o*d-t*c*u+r*a*u-i*a*d+i*c*A-r*o*A)+g*(+t*c*l-t*s*d-r*a*l+n*a*d+r*s*A-n*c*A)+b*(-i*s*A-t*o*l+t*s*u+i*a*l-n*a*u+n*o*A)},transpose:function(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this},getInverse:function(e,t){t!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const n=this.elements,i=e.elements,r=i[0],a=i[1],s=i[2],o=i[3],c=i[4],A=i[5],l=i[6],u=i[7],d=i[8],p=i[9],h=i[10],g=i[11],b=i[12],y=i[13],v=i[14],_=i[15],w=p*v*u-y*h*u+y*l*g-A*v*g-p*l*_+A*h*_,E=b*h*u-d*v*u-b*l*g+c*v*g+d*l*_-c*h*_,B=d*y*u-b*p*u+b*A*g-c*y*g-d*A*_+c*p*_,R=b*p*l-d*y*l-b*A*h+c*y*h+d*A*v-c*p*v,G=r*w+a*E+s*B+o*R;if(G===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/G;return n[0]=w*C,n[1]=(y*h*o-p*v*o-y*s*g+a*v*g+p*s*_-a*h*_)*C,n[2]=(A*v*o-y*l*o+y*s*u-a*v*u-A*s*_+a*l*_)*C,n[3]=(p*l*o-A*h*o-p*s*u+a*h*u+A*s*g-a*l*g)*C,n[4]=E*C,n[5]=(d*v*o-b*h*o+b*s*g-r*v*g-d*s*_+r*h*_)*C,n[6]=(b*l*o-c*v*o-b*s*u+r*v*u+c*s*_-r*l*_)*C,n[7]=(c*h*o-d*l*o+d*s*u-r*h*u-c*s*g+r*l*g)*C,n[8]=B*C,n[9]=(b*p*o-d*y*o-b*a*g+r*y*g+d*a*_-r*p*_)*C,n[10]=(c*y*o-b*A*o+b*a*u-r*y*u-c*a*_+r*A*_)*C,n[11]=(d*A*o-c*p*o-d*a*u+r*p*u+c*a*g-r*A*g)*C,n[12]=R*C,n[13]=(d*y*s-b*p*s+b*a*h-r*y*h-d*a*v+r*p*v)*C,n[14]=(b*A*s-c*y*s-b*a*l+r*y*l+c*a*v-r*A*v)*C,n[15]=(c*p*s-d*A*s+d*a*l-r*p*l-c*a*h+r*A*h)*C,this},scale:function(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,a=e.x,s=e.y,o=e.z,c=r*a,A=r*s;return this.set(c*a+n,c*s-i*o,c*o+i*s,0,c*s+i*o,A*s+n,A*o-i*a,0,c*o-i*s,A*o+i*a,r*o*o+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){const i=this.elements,r=t._x,a=t._y,s=t._z,o=t._w,c=r+r,A=a+a,l=s+s,u=r*c,d=r*A,p=r*l,h=a*A,g=a*l,b=s*l,y=o*c,v=o*A,_=o*l,w=n.x,E=n.y,B=n.z;return i[0]=(1-(h+b))*w,i[1]=(d+_)*w,i[2]=(p-v)*w,i[3]=0,i[4]=(d-_)*E,i[5]=(1-(u+b))*E,i[6]=(g+y)*E,i[7]=0,i[8]=(p+v)*B,i[9]=(g-y)*B,i[10]=(1-(u+h))*B,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},decompose:function(e,t,n){const i=this.elements;let r=du.set(i[0],i[1],i[2]).length(),a=du.set(i[4],i[5],i[6]).length(),s=du.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],no.copy(this);const c=1/r,A=1/a,l=1/s;return no.elements[0]*=c,no.elements[1]*=c,no.elements[2]*=c,no.elements[4]*=A,no.elements[5]*=A,no.elements[6]*=A,no.elements[8]*=l,no.elements[9]*=l,no.elements[10]*=l,t.setFromRotationMatrix(no),n.x=r,n.y=a,n.z=s,this},makePerspective:function(e,t,n,i,r,a){a===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const s=this.elements,o=2*r/(t-e),c=2*r/(n-i),A=(t+e)/(t-e),l=(n+i)/(n-i),u=-(a+r)/(a-r),d=-2*a*r/(a-r);return s[0]=o,s[4]=0,s[8]=A,s[12]=0,s[1]=0,s[5]=c,s[9]=l,s[13]=0,s[2]=0,s[6]=0,s[10]=u,s[14]=d,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makeOrthographic:function(e,t,n,i,r,a){const s=this.elements,o=1/(t-e),c=1/(n-i),A=1/(a-r),l=(t+e)*o,u=(n+i)*c,d=(a+r)*A;return s[0]=2*o,s[4]=0,s[8]=0,s[12]=-l,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-u,s[2]=0,s[6]=0,s[10]=-2*A,s[14]=-d,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});const Z6=new st,J6=new yi;function mA(e=0,t=0,n=0,i=mA.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=i}mA.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];mA.DefaultOrder="XYZ";Object.defineProperties(mA.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}});Object.assign(mA.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){const i=_n.clamp,r=e.elements,a=r[0],s=r[4],o=r[8],c=r[1],A=r[5],l=r[9],u=r[2],d=r[6],p=r[10];switch(t=t||this._order,t){case"XYZ":this._y=Math.asin(i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,p),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(d,A),this._z=0);break;case"YXZ":this._x=Math.asin(-i(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,p),this._z=Math.atan2(c,A)):(this._y=Math.atan2(-u,a),this._z=0);break;case"ZXY":this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-s,A)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,A));break;case"YZX":this._z=Math.asin(i(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-l,A),this._y=Math.atan2(-u,a)):(this._x=0,this._y=Math.atan2(o,p));break;case"XZY":this._z=Math.asin(-i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,A),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-l,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return Z6.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Z6,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return J6.setFromEuler(this),this.setFromQuaternion(J6,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new P(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});function b7(){this.mask=1}Object.assign(b7.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return(this.mask&e.mask)!==0}});let Die=0;const eR=new P,pu=new yi,Mc=new st,H1=new P,Mp=new P,kie=new P,Oie=new yi,tR=new P(1,0,0),nR=new P(0,1,0),iR=new P(0,0,1),Hie={type:"added"},Qie={type:"removed"};function Bt(){Object.defineProperty(this,"id",{value:Die++}),this.uuid=_n.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bt.DefaultUp.clone();const e=new P,t=new mA,n=new yi,i=new P(1,1,1);function r(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new st},normalMatrix:{value:new kr}}),this.matrix=new st,this.matrixWorld=new st,this.matrixAutoUpdate=Bt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new b7,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Bt.DefaultUp=new P(0,1,0);Bt.DefaultMatrixAutoUpdate=!0;Bt.prototype=Object.assign(Object.create(h0.prototype),{constructor:Bt,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return pu.setFromAxisAngle(e,t),this.quaternion.multiply(pu),this},rotateOnWorldAxis:function(e,t){return pu.setFromAxisAngle(e,t),this.quaternion.premultiply(pu),this},rotateX:function(e){return this.rotateOnAxis(tR,e)},rotateY:function(e){return this.rotateOnAxis(nR,e)},rotateZ:function(e){return this.rotateOnAxis(iR,e)},translateOnAxis:function(e,t){return eR.copy(e).applyQuaternion(this.quaternion),this.position.add(eR.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(tR,e)},translateY:function(e){return this.translateOnAxis(nR,e)},translateZ:function(e){return this.translateOnAxis(iR,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Mc.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?H1.copy(e):H1.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Mp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Mc.lookAt(Mp,H1,this.up):Mc.lookAt(H1,Mp,this.up),this.quaternion.setFromRotationMatrix(Mc),i&&(Mc.extractRotation(i.matrixWorld),pu.setFromRotationMatrix(Mc),this.quaternion.premultiply(pu.inverse()))},add:function(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Hie)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Qie)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),Mc.getInverse(this.matrixWorld),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Mc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Mc),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new P),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new yi),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Mp,e,kie),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new P),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Mp,Oie,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new P),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let r=0,a=i.length;r<a;r++)i[r].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON());function r(s,o){return s[o.uuid]===void 0&&(s[o.uuid]=o.toJSON(e)),o.uuid}if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const o=s.shapes;if(Array.isArray(o))for(let c=0,A=o.length;c<A;c++){const l=o[c];r(e.shapes,l)}else r(e.shapes,o)}}if(this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let o=0,c=this.material.length;o<c;o++)s.push(r(e.materials,this.material[o]));i.material=s}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(t){const s=a(e.geometries),o=a(e.materials),c=a(e.textures),A=a(e.images),l=a(e.shapes);s.length>0&&(n.geometries=s),o.length>0&&(n.materials=o),c.length>0&&(n.textures=c),A.length>0&&(n.images=A),l.length>0&&(n.shapes=l)}return n.object=i,n;function a(s){const o=[];for(const c in s){const A=s[c];delete A.metadata,o.push(A)}return o}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(t===void 0&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}});function Bd(){Bt.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Bd.prototype=Object.assign(Object.create(Bt.prototype),{constructor:Bd,isScene:!0,copy:function(e,t){return Bt.prototype.copy.call(this,e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){const t=Bt.prototype.toJSON.call(this,e);return this.background!==null&&(t.object.background=this.background.toJSON(e)),this.environment!==null&&(t.object.environment=this.environment.toJSON(e)),this.fog!==null&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Tc=[new P,new P,new P,new P,new P,new P,new P,new P],Tp=new P,nw=new gi,fu=new P,hu=new P,mu=new P,I0=new P,L0=new P,QA=new P,Fp=new P,Q1=new P,z1=new P,zA=new P;function gi(e,t){this.min=e!==void 0?e:new P(1/0,1/0,1/0),this.max=t!==void 0?t:new P(-1/0,-1/0,-1/0)}Object.assign(gi.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){let t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,s=-1/0;for(let o=0,c=e.length;o<c;o+=3){const A=e[o],l=e[o+1],u=e[o+2];A<t&&(t=A),l<n&&(n=l),u<i&&(i=u),A>r&&(r=A),l>a&&(a=l),u>s&&(s=u)}return this.min.set(t,n,i),this.max.set(r,a,s),this},setFromBufferAttribute:function(e){let t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,s=-1/0;for(let o=0,c=e.count;o<c;o++){const A=e.getX(o),l=e.getY(o),u=e.getZ(o);A<t&&(t=A),l<n&&(n=l),u<i&&(i=u),A>r&&(r=A),l>a&&(a=l),u>s&&(s=u)}return this.min.set(t,n,i),this.max.set(r,a,s),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const n=Tp.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new P),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new P),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),nw.copy(t.boundingBox),nw.applyMatrix4(e.matrixWorld),this.union(nw));const n=e.children;for(let i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new P),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Tp),Tp.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(Fp),Q1.subVectors(this.max,Fp),fu.subVectors(e.a,Fp),hu.subVectors(e.b,Fp),mu.subVectors(e.c,Fp),I0.subVectors(hu,fu),L0.subVectors(mu,hu),QA.subVectors(fu,mu);let t=[0,-I0.z,I0.y,0,-L0.z,L0.y,0,-QA.z,QA.y,I0.z,0,-I0.x,L0.z,0,-L0.x,QA.z,0,-QA.x,-I0.y,I0.x,0,-L0.y,L0.x,0,-QA.y,QA.x,0];return!iw(t,fu,hu,mu,Q1)||(t=[1,0,0,0,1,0,0,0,1],!iw(t,fu,hu,mu,Q1))?!1:(z1.crossVectors(I0,L0),t=[z1.x,z1.y,z1.z],iw(t,fu,hu,mu,Q1))},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new P),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Tp.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=this.getSize(Tp).length()*.5,e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(Tc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Tc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Tc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Tc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Tc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Tc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Tc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Tc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Tc),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function iw(e,t,n,i,r){for(let a=0,s=e.length-3;a<=s;a+=3){zA.fromArray(e,a);const o=r.x*Math.abs(zA.x)+r.y*Math.abs(zA.y)+r.z*Math.abs(zA.z),c=t.dot(zA),A=n.dot(zA),l=i.dot(zA);if(Math.max(-Math.max(c,A,l),Math.min(c,A,l))>o)return!1}return!0}const zie=new gi;function m0(e,t){this.center=e!==void 0?e:new P,this.radius=t!==void 0?t:-1}Object.assign(m0.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){const n=this.center;t!==void 0?n.copy(t):zie.setFromPoints(e).getCenter(n);let i=0;for(let r=0,a=e.length;r<a;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){const n=this.center.distanceToSquared(e);return t===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new P),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new gi),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});const Fc=new P,rw=new P,V1=new P,P0=new P,aw=new P,K1=new P,sw=new P;function Jd(e,t){this.origin=e!==void 0?e:new P,this.direction=t!==void 0?t:new P(0,0,-1)}Object.assign(Jd.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return t===void 0&&(console.warn("THREE.Ray: .at() target is now required"),t=new P),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Fc)),this},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new P),t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){const t=Fc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Fc.copy(this.direction).multiplyScalar(t).add(this.origin),Fc.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,i){rw.copy(e).add(t).multiplyScalar(.5),V1.copy(t).sub(e).normalize(),P0.copy(this.origin).sub(rw);const r=e.distanceTo(t)*.5,a=-this.direction.dot(V1),s=P0.dot(this.direction),o=-P0.dot(V1),c=P0.lengthSq(),A=Math.abs(1-a*a);let l,u,d,p;if(A>0)if(l=a*o-s,u=a*s-o,p=r*A,l>=0)if(u>=-p)if(u<=p){const h=1/A;l*=h,u*=h,d=l*(l+a*u+2*s)+u*(a*l+u+2*o)+c}else u=r,l=Math.max(0,-(a*u+s)),d=-l*l+u*(u+2*o)+c;else u=-r,l=Math.max(0,-(a*u+s)),d=-l*l+u*(u+2*o)+c;else u<=-p?(l=Math.max(0,-(-a*r+s)),u=l>0?-r:Math.min(Math.max(-r,-o),r),d=-l*l+u*(u+2*o)+c):u<=p?(l=0,u=Math.min(Math.max(-r,-o),r),d=u*(u+2*o)+c):(l=Math.max(0,-(a*r+s)),u=l>0?r:Math.min(Math.max(-r,-o),r),d=-l*l+u*(u+2*o)+c);else u=a>0?-r:r,l=Math.max(0,-(a*u+s)),d=-l*l+u*(u+2*o)+c;return n&&n.copy(this.direction).multiplyScalar(l).add(this.origin),i&&i.copy(V1).multiplyScalar(u).add(rw),d},intersectSphere:function(e,t){Fc.subVectors(e.center,this.origin);const n=Fc.dot(this.direction),i=Fc.dot(Fc)-n*n,r=e.radius*e.radius;if(i>r)return null;const a=Math.sqrt(r-i),s=n-a,o=n+a;return s<0&&o<0?null:s<0?this.at(o,t):this.at(s,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)},intersectsPlane:function(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){let n,i,r,a,s,o;const c=1/this.direction.x,A=1/this.direction.y,l=1/this.direction.z,u=this.origin;return c>=0?(n=(e.min.x-u.x)*c,i=(e.max.x-u.x)*c):(n=(e.max.x-u.x)*c,i=(e.min.x-u.x)*c),A>=0?(r=(e.min.y-u.y)*A,a=(e.max.y-u.y)*A):(r=(e.max.y-u.y)*A,a=(e.min.y-u.y)*A),n>a||r>i||((r>n||n!==n)&&(n=r),(a<i||i!==i)&&(i=a),l>=0?(s=(e.min.z-u.z)*l,o=(e.max.z-u.z)*l):(s=(e.max.z-u.z)*l,o=(e.min.z-u.z)*l),n>o||s>i)||((s>n||n!==n)&&(n=s),(o<i||i!==i)&&(i=o),i<0)?null:this.at(n>=0?n:i,t)},intersectsBox:function(e){return this.intersectBox(e,Fc)!==null},intersectTriangle:function(e,t,n,i,r){aw.subVectors(t,e),K1.subVectors(n,e),sw.crossVectors(aw,K1);let a=this.direction.dot(sw),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;P0.subVectors(this.origin,e);const o=s*this.direction.dot(K1.crossVectors(P0,K1));if(o<0)return null;const c=s*this.direction.dot(aw.cross(P0));if(c<0||o+c>a)return null;const A=-s*P0.dot(sw);return A<0?null:this.at(A/a,r)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});const ow=new P,Vie=new P,Kie=new kr;function Ko(e,t){this.normal=e!==void 0?e:new P(1,0,0),this.constant=t!==void 0?t:0}Object.assign(Ko.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){const i=ow.subVectors(n,t).cross(Vie.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return t===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new P),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){t===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new P);const n=e.delta(ow),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):void 0;const r=-(e.start.dot(this.normal)+this.constant)/i;if(!(r<0||r>1))return t.copy(n).multiplyScalar(r).add(e.start)},intersectsLine:function(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new P),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){const n=t||Kie.getNormalMatrix(e),i=this.coplanarPoint(ow).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});const Ao=new P,Hc=new P,cw=new P,Ic=new P,yu=new P,gu=new P,rR=new P,Aw=new P,lw=new P,uw=new P;function Ur(e,t,n){this.a=e!==void 0?e:new P,this.b=t!==void 0?t:new P,this.c=n!==void 0?n:new P}Object.assign(Ur,{getNormal:function(e,t,n,i){i===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new P),i.subVectors(n,t),Ao.subVectors(e,t),i.cross(Ao);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)},getBarycoord:function(e,t,n,i,r){Ao.subVectors(i,t),Hc.subVectors(n,t),cw.subVectors(e,t);const a=Ao.dot(Ao),s=Ao.dot(Hc),o=Ao.dot(cw),c=Hc.dot(Hc),A=Hc.dot(cw),l=a*c-s*s;if(r===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new P),l===0)return r.set(-2,-1,-1);const u=1/l,d=(c*o-s*A)*u,p=(a*A-s*o)*u;return r.set(1-d-p,p,d)},containsPoint:function(e,t,n,i){return Ur.getBarycoord(e,t,n,i,Ic),Ic.x>=0&&Ic.y>=0&&Ic.x+Ic.y<=1},getUV:function(e,t,n,i,r,a,s,o){return this.getBarycoord(e,t,n,i,Ic),o.set(0,0),o.addScaledVector(r,Ic.x),o.addScaledVector(a,Ic.y),o.addScaledVector(s,Ic.z),o},isFrontFacing:function(e,t,n,i){return Ao.subVectors(n,t),Hc.subVectors(e,t),Ao.cross(Hc).dot(i)<0}});Object.assign(Ur.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return Ao.subVectors(this.c,this.b),Hc.subVectors(this.a,this.b),Ao.cross(Hc).length()*.5},getMidpoint:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new P),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Ur.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Ko),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Ur.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,i,r){return Ur.getUV(e,this.a,this.b,this.c,t,n,i,r)},containsPoint:function(e){return Ur.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Ur.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new P);const n=this.a,i=this.b,r=this.c;let a,s;yu.subVectors(i,n),gu.subVectors(r,n),Aw.subVectors(e,n);const o=yu.dot(Aw),c=gu.dot(Aw);if(o<=0&&c<=0)return t.copy(n);lw.subVectors(e,i);const A=yu.dot(lw),l=gu.dot(lw);if(A>=0&&l<=A)return t.copy(i);const u=o*l-A*c;if(u<=0&&o>=0&&A<=0)return a=o/(o-A),t.copy(n).addScaledVector(yu,a);uw.subVectors(e,r);const d=yu.dot(uw),p=gu.dot(uw);if(p>=0&&d<=p)return t.copy(r);const h=d*c-o*p;if(h<=0&&c>=0&&p<=0)return s=c/(c-p),t.copy(n).addScaledVector(gu,s);const g=A*p-d*l;if(g<=0&&l-A>=0&&d-p>=0)return rR.subVectors(r,i),s=(l-A)/(l-A+(d-p)),t.copy(i).addScaledVector(rR,s);const b=1/(g+h+u);return a=h*b,s=u*b,t.copy(n).addScaledVector(yu,a).addScaledVector(gu,s)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});const sF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},io={h:0,s:0,l:0},W1={h:0,s:0,l:0};function pt(e,t,n){return t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}function dw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function pw(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function fw(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}Object.assign(pt.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=_n.euclideanModulo(e,1),t=_n.clamp(t,0,1),n=_n.clamp(n,0,1),t===0)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=dw(r,i,e+1/3),this.g=dw(r,i,e),this.b=dw(r,i,e-1/3)}return this},setStyle:function(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let i;const r=n[1],a=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){const s=parseFloat(i[1])/360,o=parseInt(i[2],10)/100,c=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(s,o,c)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){const i=n[1],r=i.length;if(r===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(r===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){const t=sF[e];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return t===void 0&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){t===void 0&&(t=2);const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=pw(e.r),this.g=pw(e.g),this.b=pw(e.b),this},copyLinearToSRGB:function(e){return this.r=fw(e.r),this.g=fw(e.g),this.b=fw(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,n=this.g,i=this.b,r=Math.max(t,n,i),a=Math.min(t,n,i);let s,o;const c=(a+r)/2;if(a===r)s=0,o=0;else{const A=r-a;switch(o=c<=.5?A/(r+a):A/(2-r-a),r){case t:s=(n-i)/A+(n<i?6:0);break;case n:s=(i-t)/A+2;break;case i:s=(t-n)/A+4;break}s/=6}return e.h=s,e.s=o,e.l=c,e},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(io),io.h+=e,io.s+=t,io.l+=n,this.setHSL(io.h,io.s,io.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(io),e.getHSL(W1);const n=_n.lerp(io.h,W1.h,t),i=_n.lerp(io.s,W1.s,t),r=_n.lerp(io.l,W1.l,t);return this.setHSL(n,i,r),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return t===void 0&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},fromBufferAttribute:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON:function(){return this.getHex()}});pt.NAMES=sF;function fl(e,t,n,i,r,a){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new P,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new pt,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=a!==void 0?a:0}Object.assign(fl.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});let Wie=0;function pn(){Object.defineProperty(this,"id",{value:Wie++}),this.uuid=_n.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=aA,this.side=Xd,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=ZT,this.blendDst=JT,this.blendEquation=Du,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Y4,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Iie,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ew,this.stencilZFail=ew,this.stencilZPass=ew,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}pn.prototype=Object.assign(Object.create(h0.prototype),{constructor:pn,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===XT;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}},toJSON:function(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==aA&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==Xd&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(r){const a=[];for(const s in r){const o=r[s];delete o.metadata,a.push(o)}return a}if(t){const r=i(e.textures),a=i(e.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(pn.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function Eo(e){pn.call(this),this.type="MeshBasicMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=N2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Eo.prototype=Object.create(pn.prototype);Eo.prototype.constructor=Eo;Eo.prototype.isMeshBasicMaterial=!0;Eo.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const xi=new P,$1=new et;function Vt(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=G2,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Vt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Vt.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new pt),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new et),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new P),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new pi),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},applyMatrix3:function(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)$1.fromBufferAttribute(this,t),$1.applyMatrix3(e),this.setXY(t,$1.x,$1.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)xi.fromBufferAttribute(this,t),xi.applyMatrix3(e),this.setXYZ(t,xi.x,xi.y,xi.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)xi.x=this.getX(t),xi.y=this.getY(t),xi.z=this.getZ(t),xi.applyMatrix4(e),this.setXYZ(t,xi.x,xi.y,xi.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)xi.x=this.getX(t),xi.y=this.getY(t),xi.z=this.getZ(t),xi.applyNormalMatrix(e),this.setXYZ(t,xi.x,xi.y,xi.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)xi.x=this.getX(t),xi.y=this.getY(t),xi.z=this.getZ(t),xi.transformDirection(e),this.setXYZ(t,xi.x,xi.y,xi.z);return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function Z4(e,t,n){Vt.call(this,new Int8Array(e),t,n)}Z4.prototype=Object.create(Vt.prototype);Z4.prototype.constructor=Z4;function J4(e,t,n){Vt.call(this,new Uint8Array(e),t,n)}J4.prototype=Object.create(Vt.prototype);J4.prototype.constructor=J4;function e_(e,t,n){Vt.call(this,new Uint8ClampedArray(e),t,n)}e_.prototype=Object.create(Vt.prototype);e_.prototype.constructor=e_;function t_(e,t,n){Vt.call(this,new Int16Array(e),t,n)}t_.prototype=Object.create(Vt.prototype);t_.prototype.constructor=t_;function oh(e,t,n){Vt.call(this,new Uint16Array(e),t,n)}oh.prototype=Object.create(Vt.prototype);oh.prototype.constructor=oh;function n_(e,t,n){Vt.call(this,new Int32Array(e),t,n)}n_.prototype=Object.create(Vt.prototype);n_.prototype.constructor=n_;function ch(e,t,n){Vt.call(this,new Uint32Array(e),t,n)}ch.prototype=Object.create(Vt.prototype);ch.prototype.constructor=ch;function Gt(e,t,n){Vt.call(this,new Float32Array(e),t,n)}Gt.prototype=Object.create(Vt.prototype);Gt.prototype.constructor=Gt;function i_(e,t,n){Vt.call(this,new Float64Array(e),t,n)}i_.prototype=Object.create(Vt.prototype);i_.prototype.constructor=i_;function oF(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(oF.prototype,{computeGroups:function(e){const t=[];let n,i,r;const a=e.faces;for(i=0;i<a.length;i++){const s=a[i];s.materialIndex!==r&&(r=s.materialIndex,n!==void 0&&(n.count=i*3-n.start,t.push(n)),n={start:i*3,materialIndex:r})}n!==void 0&&(n.count=i*3-n.start,t.push(n)),this.groups=t},fromGeometry:function(e){const t=e.faces,n=e.vertices,i=e.faceVertexUvs,r=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,o=s.length;let c;if(o>0){c=[];for(let b=0;b<o;b++)c[b]={name:s[b].name,data:[]};this.morphTargets.position=c}const A=e.morphNormals,l=A.length;let u;if(l>0){u=[];for(let b=0;b<l;b++)u[b]={name:A[b].name,data:[]};this.morphTargets.normal=u}const d=e.skinIndices,p=e.skinWeights,h=d.length===n.length,g=p.length===n.length;n.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let b=0;b<t.length;b++){const y=t[b];this.vertices.push(n[y.a],n[y.b],n[y.c]);const v=y.vertexNormals;if(v.length===3)this.normals.push(v[0],v[1],v[2]);else{const w=y.normal;this.normals.push(w,w,w)}const _=y.vertexColors;if(_.length===3)this.colors.push(_[0],_[1],_[2]);else{const w=y.color;this.colors.push(w,w,w)}if(r===!0){const w=i[0][b];w!==void 0?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",b),this.uvs.push(new et,new et,new et))}if(a===!0){const w=i[1][b];w!==void 0?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",b),this.uvs2.push(new et,new et,new et))}for(let w=0;w<o;w++){const E=s[w].vertices;c[w].data.push(E[y.a],E[y.b],E[y.c])}for(let w=0;w<l;w++){const E=A[w].vertexNormals[b];u[w].data.push(E.a,E.b,E.c)}h&&this.skinIndices.push(d[y.a],d[y.b],d[y.c]),g&&this.skinWeights.push(p[y.a],p[y.b],p[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}});function cF(e){if(e.length===0)return-1/0;let t=e[0];for(let n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}let $ie=1;const To=new st,hw=new Bt,bu=new P,Ya=new gi,Ip=new gi,_r=new P;function Rt(){Object.defineProperty(this,"id",{value:$ie+=2}),this.uuid=_n.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Rt.prototype=Object.assign(Object.create(h0.prototype),{constructor:Rt,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(cF(e)>65535?ch:oh)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n!==void 0?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const r=new kr().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return To.makeRotationX(e),this.applyMatrix4(To),this},rotateY:function(e){return To.makeRotationY(e),this.applyMatrix4(To),this},rotateZ:function(e){return To.makeRotationZ(e),this.applyMatrix4(To),this},translate:function(e,t,n){return To.makeTranslation(e,t,n),this.applyMatrix4(To),this},scale:function(e,t,n){return To.makeScale(e,t,n),this.applyMatrix4(To),this},lookAt:function(e){return hw.lookAt(e),hw.updateMatrix(),this.applyMatrix4(hw.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(bu).negate(),this.translate(bu.x,bu.y,bu.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const n=new Gt(t.vertices.length*3,3),i=new Gt(t.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const r=new Gt(t.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Gt(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(t.verticesNeedUpdate===!0){const n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){const n=this.attributes.normal;n!==void 0&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){const n=this.attributes.color;n!==void 0&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const n=this.attributes.uv;n!==void 0&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const n=this.attributes.lineDistance;n!==void 0&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new oF().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(e.vertices.length*3);if(this.setAttribute("position",new Vt(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const n=new Float32Array(e.normals.length*3);this.setAttribute("normal",new Vt(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const n=new Float32Array(e.colors.length*3);this.setAttribute("color",new Vt(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const n=new Float32Array(e.uvs.length*2);this.setAttribute("uv",new Vt(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const n=new Float32Array(e.uvs2.length*2);this.setAttribute("uv2",new Vt(n,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const n in e.morphTargets){const i=[],r=e.morphTargets[n];for(let a=0,s=r.length;a<s;a++){const o=r[a],c=new Gt(o.data.length*3,3);c.name=o.name,i.push(c.copyVector3sArray(o.data))}this.morphAttributes[n]=i}if(e.skinIndices.length>0){const n=new Gt(e.skinIndices.length*4,4);this.setAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const n=new Gt(e.skinWeights.length*4,4);this.setAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new gi);const e=this.attributes.position,t=this.morphAttributes.position;if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const r=t[n];Ya.setFromBufferAttribute(r),this.morphTargetsRelative?(_r.addVectors(this.boundingBox.min,Ya.min),this.boundingBox.expandByPoint(_r),_r.addVectors(this.boundingBox.max,Ya.max),this.boundingBox.expandByPoint(_r)):(this.boundingBox.expandByPoint(Ya.min),this.boundingBox.expandByPoint(Ya.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new m0);const e=this.attributes.position,t=this.morphAttributes.position;if(e){const n=this.boundingSphere.center;if(Ya.setFromBufferAttribute(e),t)for(let r=0,a=t.length;r<a;r++){const s=t[r];Ip.setFromBufferAttribute(s),this.morphTargetsRelative?(_r.addVectors(Ya.min,Ip.min),Ya.expandByPoint(_r),_r.addVectors(Ya.max,Ip.max),Ya.expandByPoint(_r)):(Ya.expandByPoint(Ip.min),Ya.expandByPoint(Ip.max))}Ya.getCenter(n);let i=0;for(let r=0,a=e.count;r<a;r++)_r.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(_r));if(t)for(let r=0,a=t.length;r<a;r++){const s=t[r],o=this.morphTargetsRelative;for(let c=0,A=s.count;c<A;c++)_r.fromBufferAttribute(s,c),o&&(bu.fromBufferAttribute(e,c),_r.add(bu)),i=Math.max(i,n.distanceToSquared(_r))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Vt(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let u=0,d=n.count;u<d;u++)n.setXYZ(u,0,0,0);const i=new P,r=new P,a=new P,s=new P,o=new P,c=new P,A=new P,l=new P;if(e)for(let u=0,d=e.count;u<d;u+=3){const p=e.getX(u+0),h=e.getX(u+1),g=e.getX(u+2);i.fromBufferAttribute(t,p),r.fromBufferAttribute(t,h),a.fromBufferAttribute(t,g),A.subVectors(a,r),l.subVectors(i,r),A.cross(l),s.fromBufferAttribute(n,p),o.fromBufferAttribute(n,h),c.fromBufferAttribute(n,g),s.add(A),o.add(A),c.add(A),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(h,o.x,o.y,o.z),n.setXYZ(g,c.x,c.y,c.z)}else for(let u=0,d=t.count;u<d;u+=3)i.fromBufferAttribute(t,u+0),r.fromBufferAttribute(t,u+1),a.fromBufferAttribute(t,u+2),A.subVectors(a,r),l.subVectors(i,r),A.cross(l),n.setXYZ(u+0,A.x,A.y,A.z),n.setXYZ(u+1,A.x,A.y,A.z),n.setXYZ(u+2,A.x,A.y,A.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(e.attributes[i]===void 0)continue;const a=n[i].array,s=e.attributes[i],o=s.array,c=s.itemSize*t,A=Math.min(o.length,a.length-c);for(let l=0,u=c;l<A;l++,u++)a[u]=o[l]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)_r.fromBufferAttribute(e,t),_r.normalize(),e.setXYZ(t,_r.x,_r.y,_r.z)},toNonIndexed:function(){function e(s,o){const c=s.array,A=s.itemSize,l=s.normalized,u=new c.constructor(o.length*A);let d=0,p=0;for(let h=0,g=o.length;h<g;h++){d=o[h]*A;for(let b=0;b<A;b++)u[p++]=c[d++]}return new Vt(u,A,l)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new Rt,n=this.index.array,i=this.attributes;for(const s in i){const o=i[s],c=e(o,n);t.setAttribute(s,c)}const r=this.morphAttributes;for(const s in r){const o=[],c=r[s];for(let A=0,l=c.length;A<l;A++){const u=c[A],d=e(u,n);o.push(d)}t.morphAttributes[s]=o}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,o=a.length;s<o;s++){const c=a[s];t.addGroup(c.start,c.count,c.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const o=this.parameters;for(const c in o)o[c]!==void 0&&(e[c]=o[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const o in n){const c=n[o],A=c.toJSON(e.data);c.name!==""&&(A.name=c.name),e.data.attributes[o]=A}const i={};let r=!1;for(const o in this.morphAttributes){const c=this.morphAttributes[o],A=[];for(let l=0,u=c.length;l<u;l++){const d=c[l],p=d.toJSON(e.data);d.name!==""&&(p.name=d.name),A.push(p)}A.length>0&&(i[o]=A,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e},clone:function(){return new Rt().copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const c in i){const A=i[c];this.setAttribute(c,A.clone(t))}const r=e.morphAttributes;for(const c in r){const A=[],l=r[c];for(let u=0,d=l.length;u<d;u++)A.push(l[u].clone(t));this.morphAttributes[c]=A}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,A=a.length;c<A;c++){const l=a[c];this.addGroup(l.start,l.count,l.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const o=e.boundingSphere;return o!==null&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const aR=new st,VA=new Jd,mw=new m0,U0=new P,D0=new P,k0=new P,yw=new P,gw=new P,bw=new P,j1=new P,Y1=new P,q1=new P,Zu=new et,Ju=new et,ed=new et,Lf=new P,X1=new P;function wi(e,t){Bt.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new Rt,this.material=t!==void 0?t:new Eo,this.updateMorphTargets()}wi.prototype=Object.assign(Object.create(Bt.prototype),{constructor:wi,isMesh:!0,copy:function(e){return Bt.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=i.length;r<a;r++){const s=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),mw.copy(n.boundingSphere),mw.applyMatrix4(r),e.ray.intersectsSphere(mw)===!1)||(aR.getInverse(r),VA.copy(e.ray).applyMatrix4(aR),n.boundingBox!==null&&VA.intersectsBox(n.boundingBox)===!1))return;let a;if(n.isBufferGeometry){const s=n.index,o=n.attributes.position,c=n.morphAttributes.position,A=n.morphTargetsRelative,l=n.attributes.uv,u=n.attributes.uv2,d=n.groups,p=n.drawRange;if(s!==null)if(Array.isArray(i))for(let h=0,g=d.length;h<g;h++){const b=d[h],y=i[b.materialIndex],v=Math.max(b.start,p.start),_=Math.min(b.start+b.count,p.start+p.count);for(let w=v,E=_;w<E;w+=3){const B=s.getX(w),R=s.getX(w+1),G=s.getX(w+2);a=Z1(this,y,e,VA,o,c,A,l,u,B,R,G),a&&(a.faceIndex=Math.floor(w/3),a.face.materialIndex=b.materialIndex,t.push(a))}}else{const h=Math.max(0,p.start),g=Math.min(s.count,p.start+p.count);for(let b=h,y=g;b<y;b+=3){const v=s.getX(b),_=s.getX(b+1),w=s.getX(b+2);a=Z1(this,i,e,VA,o,c,A,l,u,v,_,w),a&&(a.faceIndex=Math.floor(b/3),t.push(a))}}else if(o!==void 0)if(Array.isArray(i))for(let h=0,g=d.length;h<g;h++){const b=d[h],y=i[b.materialIndex],v=Math.max(b.start,p.start),_=Math.min(b.start+b.count,p.start+p.count);for(let w=v,E=_;w<E;w+=3){const B=w,R=w+1,G=w+2;a=Z1(this,y,e,VA,o,c,A,l,u,B,R,G),a&&(a.faceIndex=Math.floor(w/3),a.face.materialIndex=b.materialIndex,t.push(a))}}else{const h=Math.max(0,p.start),g=Math.min(o.count,p.start+p.count);for(let b=h,y=g;b<y;b+=3){const v=b,_=b+1,w=b+2;a=Z1(this,i,e,VA,o,c,A,l,u,v,_,w),a&&(a.faceIndex=Math.floor(b/3),t.push(a))}}}else if(n.isGeometry){const s=Array.isArray(i),o=n.vertices,c=n.faces;let A;const l=n.faceVertexUvs[0];l.length>0&&(A=l);for(let u=0,d=c.length;u<d;u++){const p=c[u],h=s?i[p.materialIndex]:i;if(h===void 0)continue;const g=o[p.a],b=o[p.b],y=o[p.c];if(a=AF(this,h,e,VA,g,b,y,Lf),a){if(A&&A[u]){const v=A[u];Zu.copy(v[0]),Ju.copy(v[1]),ed.copy(v[2]),a.uv=Ur.getUV(Lf,g,b,y,Zu,Ju,ed,new et)}a.face=p,a.faceIndex=u,t.push(a)}}}}});function AF(e,t,n,i,r,a,s,o){let c;if(t.side===yr?c=i.intersectTriangle(s,a,r,!0,o):c=i.intersectTriangle(r,a,s,t.side!==am,o),c===null)return null;X1.copy(o),X1.applyMatrix4(e.matrixWorld);const A=n.ray.origin.distanceTo(X1);return A<n.near||A>n.far?null:{distance:A,point:X1.clone(),object:e}}function Z1(e,t,n,i,r,a,s,o,c,A,l,u){U0.fromBufferAttribute(r,A),D0.fromBufferAttribute(r,l),k0.fromBufferAttribute(r,u);const d=e.morphTargetInfluences;if(t.morphTargets&&a&&d){j1.set(0,0,0),Y1.set(0,0,0),q1.set(0,0,0);for(let h=0,g=a.length;h<g;h++){const b=d[h],y=a[h];b!==0&&(yw.fromBufferAttribute(y,A),gw.fromBufferAttribute(y,l),bw.fromBufferAttribute(y,u),s?(j1.addScaledVector(yw,b),Y1.addScaledVector(gw,b),q1.addScaledVector(bw,b)):(j1.addScaledVector(yw.sub(U0),b),Y1.addScaledVector(gw.sub(D0),b),q1.addScaledVector(bw.sub(k0),b)))}U0.add(j1),D0.add(Y1),k0.add(q1)}e.isSkinnedMesh&&(e.boneTransform(A,U0),e.boneTransform(l,D0),e.boneTransform(u,k0));const p=AF(e,t,n,i,U0,D0,k0,Lf);if(p){o&&(Zu.fromBufferAttribute(o,A),Ju.fromBufferAttribute(o,l),ed.fromBufferAttribute(o,u),p.uv=Ur.getUV(Lf,U0,D0,k0,Zu,Ju,ed,new et)),c&&(Zu.fromBufferAttribute(c,A),Ju.fromBufferAttribute(c,l),ed.fromBufferAttribute(c,u),p.uv2=Ur.getUV(Lf,U0,D0,k0,Zu,Ju,ed,new et));const h=new fl(A,l,u);Ur.getNormal(U0,D0,k0,h.normal),p.face=h}return p}let jie=0;const Fo=new st,vw=new Bt,J1=new P;function an(){Object.defineProperty(this,"id",{value:jie+=2}),this.uuid=_n.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}an.prototype=Object.assign(Object.create(h0.prototype),{constructor:an,isGeometry:!0,applyMatrix4:function(e){const t=new kr().getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(let a=0,s=r.vertexNormals.length;a<s;a++)r.vertexNormals[a].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Fo.makeRotationX(e),this.applyMatrix4(Fo),this},rotateY:function(e){return Fo.makeRotationY(e),this.applyMatrix4(Fo),this},rotateZ:function(e){return Fo.makeRotationZ(e),this.applyMatrix4(Fo),this},translate:function(e,t,n){return Fo.makeTranslation(e,t,n),this.applyMatrix4(Fo),this},scale:function(e,t,n){return Fo.makeScale(e,t,n),this.applyMatrix4(Fo),this},lookAt:function(e){return vw.lookAt(e),vw.updateMatrix(),this.applyMatrix4(vw.matrix),this},fromBufferGeometry:function(e){const t=this,n=e.index!==null?e.index:void 0,i=e.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const r=i.position,a=i.normal,s=i.color,o=i.uv,c=i.uv2;c!==void 0&&(this.faceVertexUvs[1]=[]);for(let u=0;u<r.count;u++)t.vertices.push(new P().fromBufferAttribute(r,u)),s!==void 0&&t.colors.push(new pt().fromBufferAttribute(s,u));function A(u,d,p,h){const g=s===void 0?[]:[t.colors[u].clone(),t.colors[d].clone(),t.colors[p].clone()],b=a===void 0?[]:[new P().fromBufferAttribute(a,u),new P().fromBufferAttribute(a,d),new P().fromBufferAttribute(a,p)],y=new fl(u,d,p,b,g,h);t.faces.push(y),o!==void 0&&t.faceVertexUvs[0].push([new et().fromBufferAttribute(o,u),new et().fromBufferAttribute(o,d),new et().fromBufferAttribute(o,p)]),c!==void 0&&t.faceVertexUvs[1].push([new et().fromBufferAttribute(c,u),new et().fromBufferAttribute(c,d),new et().fromBufferAttribute(c,p)])}const l=e.groups;if(l.length>0)for(let u=0;u<l.length;u++){const d=l[u],p=d.start,h=d.count;for(let g=p,b=p+h;g<b;g+=3)n!==void 0?A(n.getX(g),n.getX(g+1),n.getX(g+2),d.materialIndex):A(g,g+1,g+2,d.materialIndex)}else if(n!==void 0)for(let u=0;u<n.count;u+=3)A(n.getX(u),n.getX(u+1),n.getX(u+2));else for(let u=0;u<r.count;u+=3)A(u,u+1,u+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(J1).negate(),this.translate(J1.x,J1.y,J1.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,i=new st;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const e=new P,t=new P;for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],a=this.vertices[r.a],s=this.vertices[r.b],o=this.vertices[r.c];e.subVectors(o,s),t.subVectors(a,s),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);const t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new P;if(e){const n=new P,i=new P;for(let r=0,a=this.faces.length;r<a;r++){const s=this.faces[r],o=this.vertices[s.a],c=this.vertices[s.b],A=this.vertices[s.c];n.subVectors(A,c),i.subVectors(o,c),n.cross(i),t[s.a].add(n),t[s.b].add(n),t[s.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],a=r.vertexNormals;a.length===3?(a[0].copy(t[r.a]),a[1].copy(t[r.b]),a[2].copy(t[r.c])):(a[0]=t[r.a].clone(),a[1]=t[r.b].clone(),a[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const n=this.faces[e],i=n.vertexNormals;i.length===3?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let r=0,a=i.vertexNormals.length;r<a;r++)i.__originalVertexNormals[r]?i.__originalVertexNormals[r].copy(i.vertexNormals[r]):i.__originalVertexNormals[r]=i.vertexNormals[r].clone()}const e=new an;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const r=this.morphNormals[t].faceNormals,a=this.morphNormals[t].vertexNormals;for(let s=0,o=this.faces.length;s<o;s++){const c=new P,A={a:new P,b:new P,c:new P};r.push(c),a.push(A)}}const i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let r=0,a=this.faces.length;r<a;r++){const s=this.faces[r],o=i.faceNormals[r],c=i.vertexNormals[r];o.copy(s.normal),c.a.copy(s.vertexNormals[0]),c.b.copy(s.vertexNormals[1]),c.c.copy(s.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new gi),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new m0),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let i,r=this.vertices.length,a=this.vertices,s=e.vertices,o=this.faces,c=e.faces,A=this.colors,l=e.colors;n===void 0&&(n=0),t!==void 0&&(i=new kr().getNormalMatrix(t));for(let u=0,d=s.length;u<d;u++){const h=s[u].clone();t!==void 0&&h.applyMatrix4(t),a.push(h)}for(let u=0,d=l.length;u<d;u++)A.push(l[u].clone());for(let u=0,d=c.length;u<d;u++){let p=c[u],h,g,b,y=p.vertexNormals,v=p.vertexColors;h=new fl(p.a+r,p.b+r,p.c+r),h.normal.copy(p.normal),i!==void 0&&h.normal.applyMatrix3(i).normalize();for(let _=0,w=y.length;_<w;_++)g=y[_].clone(),i!==void 0&&g.applyMatrix3(i).normalize(),h.vertexNormals.push(g);h.color.copy(p.color);for(let _=0,w=v.length;_<w;_++)b=v[_],h.vertexColors.push(b.clone());h.materialIndex=p.materialIndex+n,o.push(h)}for(let u=0,d=e.faceVertexUvs.length;u<d;u++){const p=e.faceVertexUvs[u];this.faceVertexUvs[u]===void 0&&(this.faceVertexUvs[u]=[]);for(let h=0,g=p.length;h<g;h++){const b=p[h],y=[];for(let v=0,_=b.length;v<_;v++)y.push(b[v].clone());this.faceVertexUvs[u].push(y)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){const e={},t=[],n=[],r=Math.pow(10,4);for(let o=0,c=this.vertices.length;o<c;o++){const A=this.vertices[o],l=Math.round(A.x*r)+"_"+Math.round(A.y*r)+"_"+Math.round(A.z*r);e[l]===void 0?(e[l]=o,t.push(this.vertices[o]),n[o]=t.length-1):n[o]=n[e[l]]}const a=[];for(let o=0,c=this.faces.length;o<c;o++){const A=this.faces[o];A.a=n[A.a],A.b=n[A.b],A.c=n[A.c];const l=[A.a,A.b,A.c];for(let u=0;u<3;u++)if(l[u]===l[(u+1)%3]){a.push(o);break}}for(let o=a.length-1;o>=0;o--){const c=a[o];this.faces.splice(c,1);for(let A=0,l=this.faceVertexUvs.length;A<l;A++)this.faceVertexUvs[A].splice(c,1)}const s=this.vertices.length-t.length;return this.vertices=t,s},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const i=e[t];this.vertices.push(new P(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let o=0;o<t;o++)e[o]._id=o;function n(o,c){return o.materialIndex-c.materialIndex}e.sort(n);const i=this.faceVertexUvs[0],r=this.faceVertexUvs[1];let a,s;i&&i.length===t&&(a=[]),r&&r.length===t&&(s=[]);for(let o=0;o<t;o++){const c=e[o]._id;a&&a.push(i[c]),s&&s.push(r[c])}a&&(this.faceVertexUvs[0]=a),s&&(this.faceVertexUvs[1]=s)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){const p=this.parameters;for(const h in p)p[h]!==void 0&&(e[h]=p[h]);return e}const t=[];for(let p=0;p<this.vertices.length;p++){const h=this.vertices[p];t.push(h.x,h.y,h.z)}const n=[],i=[],r={},a=[],s={},o=[],c={};for(let p=0;p<this.faces.length;p++){const h=this.faces[p],g=!0,b=!1,y=this.faceVertexUvs[0][p]!==void 0,v=h.normal.length()>0,_=h.vertexNormals.length>0,w=h.color.r!==1||h.color.g!==1||h.color.b!==1,E=h.vertexColors.length>0;let B=0;if(B=A(B,0,0),B=A(B,1,g),B=A(B,2,b),B=A(B,3,y),B=A(B,4,v),B=A(B,5,_),B=A(B,6,w),B=A(B,7,E),n.push(B),n.push(h.a,h.b,h.c),n.push(h.materialIndex),y){const R=this.faceVertexUvs[0][p];n.push(d(R[0]),d(R[1]),d(R[2]))}if(v&&n.push(l(h.normal)),_){const R=h.vertexNormals;n.push(l(R[0]),l(R[1]),l(R[2]))}if(w&&n.push(u(h.color)),E){const R=h.vertexColors;n.push(u(R[0]),u(R[1]),u(R[2]))}}function A(p,h,g){return g?p|1<<h:p&~(1<<h)}function l(p){const h=p.x.toString()+p.y.toString()+p.z.toString();return r[h]!==void 0||(r[h]=i.length/3,i.push(p.x,p.y,p.z)),r[h]}function u(p){const h=p.r.toString()+p.g.toString()+p.b.toString();return s[h]!==void 0||(s[h]=a.length,a.push(p.getHex())),s[h]}function d(p){const h=p.x.toString()+p.y.toString();return c[h]!==void 0||(c[h]=o.length/2,o.push(p.x,p.y)),c[h]}return e.data={},e.data.vertices=t,e.data.normals=i,a.length>0&&(e.data.colors=a),o.length>0&&(e.data.uvs=[o]),e.data.faces=n,e},clone:function(){return new an().copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let u=0,d=t.length;u<d;u++)this.vertices.push(t[u].clone());const n=e.colors;for(let u=0,d=n.length;u<d;u++)this.colors.push(n[u].clone());const i=e.faces;for(let u=0,d=i.length;u<d;u++)this.faces.push(i[u].clone());for(let u=0,d=e.faceVertexUvs.length;u<d;u++){const p=e.faceVertexUvs[u];this.faceVertexUvs[u]===void 0&&(this.faceVertexUvs[u]=[]);for(let h=0,g=p.length;h<g;h++){const b=p[h],y=[];for(let v=0,_=b.length;v<_;v++){const w=b[v];y.push(w.clone())}this.faceVertexUvs[u].push(y)}}const r=e.morphTargets;for(let u=0,d=r.length;u<d;u++){const p={};if(p.name=r[u].name,r[u].vertices!==void 0){p.vertices=[];for(let h=0,g=r[u].vertices.length;h<g;h++)p.vertices.push(r[u].vertices[h].clone())}if(r[u].normals!==void 0){p.normals=[];for(let h=0,g=r[u].normals.length;h<g;h++)p.normals.push(r[u].normals[h].clone())}this.morphTargets.push(p)}const a=e.morphNormals;for(let u=0,d=a.length;u<d;u++){const p={};if(a[u].vertexNormals!==void 0){p.vertexNormals=[];for(let h=0,g=a[u].vertexNormals.length;h<g;h++){const b=a[u].vertexNormals[h],y={};y.a=b.a.clone(),y.b=b.b.clone(),y.c=b.c.clone(),p.vertexNormals.push(y)}}if(a[u].faceNormals!==void 0){p.faceNormals=[];for(let h=0,g=a[u].faceNormals.length;h<g;h++)p.faceNormals.push(a[u].faceNormals[h].clone())}this.morphNormals.push(p)}const s=e.skinWeights;for(let u=0,d=s.length;u<d;u++)this.skinWeights.push(s[u].clone());const o=e.skinIndices;for(let u=0,d=o.length;u<d;u++)this.skinIndices.push(o[u].clone());const c=e.lineDistances;for(let u=0,d=c.length;u<d;u++)this.lineDistances.push(c[u]);const A=e.boundingBox;A!==null&&(this.boundingBox=A.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Yie extends an{constructor(t,n,i,r,a,s){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:s},this.fromBufferGeometry(new cm(t,n,i,r,a,s)),this.mergeVertices()}}class cm extends Rt{constructor(t,n,i,r,a,s){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const o=this;t=t||1,n=n||1,i=i||1,r=Math.floor(r)||1,a=Math.floor(a)||1,s=Math.floor(s)||1;const c=[],A=[],l=[],u=[];let d=0,p=0;h("z","y","x",-1,-1,i,n,t,s,a,0),h("z","y","x",1,-1,i,n,-t,s,a,1),h("x","z","y",1,1,t,i,n,r,s,2),h("x","z","y",1,-1,t,i,-n,r,s,3),h("x","y","z",1,-1,t,n,i,r,a,4),h("x","y","z",-1,-1,t,n,-i,r,a,5),this.setIndex(c),this.setAttribute("position",new Gt(A,3)),this.setAttribute("normal",new Gt(l,3)),this.setAttribute("uv",new Gt(u,2));function h(g,b,y,v,_,w,E,B,R,G,C){const O=w/R,I=E/G,D=w/2,k=E/2,L=B/2,T=R+1,H=G+1;let W=0,j=0;const ce=new P;for(let ue=0;ue<H;ue++){const te=ue*I-k;for(let re=0;re<T;re++){const ae=re*O-D;ce[g]=ae*v,ce[b]=te*_,ce[y]=L,A.push(ce.x,ce.y,ce.z),ce[g]=0,ce[b]=0,ce[y]=B>0?1:-1,l.push(ce.x,ce.y,ce.z),u.push(re/R),u.push(1-ue/G),W+=1}}for(let ue=0;ue<G;ue++)for(let te=0;te<R;te++){const re=d+te+T*ue,ae=d+te+T*(ue+1),fe=d+(te+1)+T*(ue+1),ye=d+(te+1)+T*ue;c.push(re,ae,ye),c.push(ae,fe,ye),j+=6}o.addGroup(p,j,C),p+=j,d+=W}}}function Rd(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function $r(e){const t={};for(let n=0;n<e.length;n++){const i=Rd(e[n]);for(const r in i)t[r]=i[r]}return t}const l3={clone:Rd,merge:$r};var qie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Xie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function vr(e){pn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=qie,this.fragmentShader=Xie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}vr.prototype=Object.create(pn.prototype);vr.prototype.constructor=vr;vr.prototype.isShaderMaterial=!0;vr.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Rd(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this};vr.prototype.toJSON=function(e){const t=pn.prototype.toJSON.call(this,e);t.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?t.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[i]={type:"m4",value:a.toArray()}:t.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t};function r0(){Bt.call(this),this.type="Camera",this.matrixWorldInverse=new st,this.projectionMatrix=new st,this.projectionMatrixInverse=new st}r0.prototype=Object.assign(Object.create(Bt.prototype),{constructor:r0,isCamera:!0,copy:function(e,t){return Bt.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new P),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Bt.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){Bt.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function Ar(e,t,n,i){r0.call(this),this.type="PerspectiveCamera",this.fov=e!==void 0?e:50,this.zoom=1,this.near=n!==void 0?n:.1,this.far=i!==void 0?i:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Ar.prototype=Object.assign(Object.create(r0.prototype),{constructor:Ar,isPerspectiveCamera:!0,copy:function(e,t){return r0.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=_n.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(_n.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return _n.RAD2DEG*2*Math.atan(Math.tan(_n.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){let e=this.near,t=e*Math.tan(_n.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,a=this.view;if(this.view!==null&&this.view.enabled){const o=a.fullWidth,c=a.fullHeight;r+=a.offsetX*i/o,t-=a.offsetY*n/c,i*=a.width/o,n*=a.height/c}const s=this.filmOffset;s!==0&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=Bt.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const vu=90,wu=1;function Ah(e,t,n){if(Bt.call(this),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new Ar(vu,wu,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new P(1,0,0)),this.add(i);const r=new Ar(vu,wu,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new P(-1,0,0)),this.add(r);const a=new Ar(vu,wu,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new P(0,1,0)),this.add(a);const s=new Ar(vu,wu,e,t);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new P(0,-1,0)),this.add(s);const o=new Ar(vu,wu,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new P(0,0,1)),this.add(o);const c=new Ar(vu,wu,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new P(0,0,-1)),this.add(c),this.update=function(A,l){this.parent===null&&this.updateMatrixWorld();const u=A.xr.enabled,d=A.getRenderTarget();A.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,A.setRenderTarget(n,0),A.render(l,i),A.setRenderTarget(n,1),A.render(l,r),A.setRenderTarget(n,2),A.render(l,a),A.setRenderTarget(n,3),A.render(l,s),A.setRenderTarget(n,4),A.render(l,o),n.texture.generateMipmaps=p,A.setRenderTarget(n,5),A.render(l,c),A.setRenderTarget(d),A.xr.enabled=u},this.clear=function(A,l,u,d){const p=A.getRenderTarget();for(let h=0;h<6;h++)A.setRenderTarget(n,h),A.clear(l,u,d);A.setRenderTarget(p)}}Ah.prototype=Object.create(Bt.prototype);Ah.prototype.constructor=Ah;function lh(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),fa.call(this,e,e,t)}lh.prototype=Object.create(fa.prototype);lh.prototype.constructor=lh;lh.prototype.isWebGLCubeRenderTarget=!0;lh.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;const n=new Bd,i={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","	vWorldDirection = transformDirection( position, modelMatrix );","	#include <begin_vertex>","	#include <project_vertex>","}"].join(`
`),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#include <common>","void main() {","	vec3 direction = normalize( vWorldDirection );","	vec2 sampleUV = equirectUv( direction );","	gl_FragColor = texture2D( tEquirect, sampleUV );","}"].join(`
`)},r=new vr({name:"CubemapFromEquirect",uniforms:Rd(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:yr,blending:Xc});r.uniforms.tEquirect.value=t;const a=new wi(new cm(5,5,5),r);return n.add(a),new Ah(1,10,this).update(e,n),a.geometry.dispose(),a.material.dispose(),this};function a0(e,t,n,i,r,a,s,o,c,A,l,u){Ei.call(this,null,a,s,o,c,A,i,r,l,u),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=c!==void 0?c:hi,this.minFilter=A!==void 0?A:hi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}a0.prototype=Object.create(Ei.prototype);a0.prototype.constructor=a0;a0.prototype.isDataTexture=!0;const Eu=new m0,ey=new P;function Am(e,t,n,i,r,a){this.planes=[e!==void 0?e:new Ko,t!==void 0?t:new Ko,n!==void 0?n:new Ko,i!==void 0?i:new Ko,r!==void 0?r:new Ko,a!==void 0?a:new Ko]}Object.assign(Am.prototype,{set:function(e,t,n,i,r,a){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(a),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromProjectionMatrix:function(e){const t=this.planes,n=e.elements,i=n[0],r=n[1],a=n[2],s=n[3],o=n[4],c=n[5],A=n[6],l=n[7],u=n[8],d=n[9],p=n[10],h=n[11],g=n[12],b=n[13],y=n[14],v=n[15];return t[0].setComponents(s-i,l-o,h-u,v-g).normalize(),t[1].setComponents(s+i,l+o,h+u,v+g).normalize(),t[2].setComponents(s+r,l+c,h+d,v+b).normalize(),t[3].setComponents(s-r,l-c,h-d,v-b).normalize(),t[4].setComponents(s-a,l-A,h-p,v-y).normalize(),t[5].setComponents(s+a,l+A,h+p,v+y).normalize(),this},intersectsObject:function(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Eu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Eu)},intersectsSprite:function(e){return Eu.center.set(0,0,0),Eu.radius=.7071067811865476,Eu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Eu)},intersectsSphere:function(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0},intersectsBox:function(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(ey.x=i.normal.x>0?e.max.x:e.min.x,ey.y=i.normal.y>0?e.max.y:e.min.y,ey.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(ey)<0)return!1}return!0},containsPoint:function(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});const xt={common:{diffuse:{value:new pt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new kr},uv2Transform:{value:new kr},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new et(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new pt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new kr}},sprite:{diffuse:{value:new pt(15658734)},opacity:{value:1},center:{value:new et(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new kr}}};function lF(){let e=null,t=!1,n=null,i=null;function r(a,s){n(a,s),i=e.requestAnimationFrame(r)}return{start:function(){t!==!0&&n!==null&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(a){n=a},setContext:function(a){e=a}}}function Zie(e,t){const n=t.isWebGL2,i=new WeakMap;function r(A,l){const u=A.array,d=A.usage,p=e.createBuffer();e.bindBuffer(l,p),e.bufferData(l,u,d),A.onUploadCallback();let h=5126;return u instanceof Float32Array?h=5126:u instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):u instanceof Uint16Array?h=5123:u instanceof Int16Array?h=5122:u instanceof Uint32Array?h=5125:u instanceof Int32Array?h=5124:u instanceof Int8Array?h=5120:u instanceof Uint8Array&&(h=5121),{buffer:p,type:h,bytesPerElement:u.BYTES_PER_ELEMENT,version:A.version}}function a(A,l,u){const d=l.array,p=l.updateRange;e.bindBuffer(u,A),p.count===-1?e.bufferSubData(u,0,d):(n?e.bufferSubData(u,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):e.bufferSubData(u,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1)}function s(A){return A.isInterleavedBufferAttribute&&(A=A.data),i.get(A)}function o(A){A.isInterleavedBufferAttribute&&(A=A.data);const l=i.get(A);l&&(e.deleteBuffer(l.buffer),i.delete(A))}function c(A,l){A.isInterleavedBufferAttribute&&(A=A.data);const u=i.get(A);u===void 0?i.set(A,r(A,l)):u.version<A.version&&(a(u.buffer,A,l),u.version=A.version)}return{get:s,remove:o,update:c}}function uh(e,t,n,i){an.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Cd(e,t,n,i)),this.mergeVertices()}uh.prototype=Object.create(an.prototype);uh.prototype.constructor=uh;function Cd(e,t,n,i){Rt.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},e=e||1,t=t||1;const r=e/2,a=t/2,s=Math.floor(n)||1,o=Math.floor(i)||1,c=s+1,A=o+1,l=e/s,u=t/o,d=[],p=[],h=[],g=[];for(let b=0;b<A;b++){const y=b*u-a;for(let v=0;v<c;v++){const _=v*l-r;p.push(_,-y,0),h.push(0,0,1),g.push(v/s),g.push(1-b/o)}}for(let b=0;b<o;b++)for(let y=0;y<s;y++){const v=y+c*b,_=y+c*(b+1),w=y+1+c*(b+1),E=y+1+c*b;d.push(v,_,E),d.push(_,w,E)}this.setIndex(d),this.setAttribute("position",new Gt(p,3)),this.setAttribute("normal",new Gt(h,3)),this.setAttribute("uv",new Gt(g,2))}Cd.prototype=Object.create(Rt.prototype);Cd.prototype.constructor=Cd;var Jie=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,ere=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tre=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,nre=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,ire=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,rre="vec3 transformed = vec3( position );",are=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,sre=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,ore=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,cre=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Are=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,lre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ure=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,dre=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,pre=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,fre=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,hre=`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,mre=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,yre=`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {
      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {
      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {
      uv = vec2(direction.x, direction.y) / abs(direction.z);    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,gre=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,bre=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,vre=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,wre=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Ere=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,_re="gl_FragColor = linearToOutputTexel( gl_FragColor );",xre=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,Bre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		reflectVec = normalize( reflectVec );
		vec2 sampleUV = equirectUv( reflectVec );
		vec4 envColor = texture2D( envMap, sampleUV );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Rre=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Cre=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Nre=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Sre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Gre=`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,Mre=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,Tre=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Fre=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Ire=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,Lre=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,Pre=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Ure=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Dre=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,kre=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV = equirectUv( reflectVec );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,Ore=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Hre=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Qre=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,zre=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Vre=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,Kre=`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Wre=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$re=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,jre=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Yre=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,qre=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Xre=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Zre=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Jre=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,eae=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,tae=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,nae=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,iae=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,rae=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,aae=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,sae=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,oae=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,cae=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Aae=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,lae=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,uae=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,dae=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,pae=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,fae=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,hae=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,mae=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yae=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,gae=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,bae=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,vae=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,wae=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Eae=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,_ae=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,xae=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Bae=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Rae=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,Cae=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Nae=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Sae=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Gae=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Mae=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Tae=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Fae=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Iae=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Lae=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Pae=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Uae=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Dae=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,kae=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,Oae=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Hae=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Qae=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,zae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Vae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Kae=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Wae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,$ae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,jae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Yae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,qae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Xae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Zae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jae=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ese=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tse=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nse=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ise=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,rse=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ase=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sse=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ose=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cse=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ase=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lse=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,use=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,dse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pse=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fse=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,hse=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yse=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const Tn={alphamap_fragment:Jie,alphamap_pars_fragment:ere,alphatest_fragment:tre,aomap_fragment:nre,aomap_pars_fragment:ire,begin_vertex:rre,beginnormal_vertex:are,bsdfs:sre,bumpmap_pars_fragment:ore,clipping_planes_fragment:cre,clipping_planes_pars_fragment:Are,clipping_planes_pars_vertex:lre,clipping_planes_vertex:ure,color_fragment:dre,color_pars_fragment:pre,color_pars_vertex:fre,color_vertex:hre,common:mre,cube_uv_reflection_fragment:yre,defaultnormal_vertex:gre,displacementmap_pars_vertex:bre,displacementmap_vertex:vre,emissivemap_fragment:wre,emissivemap_pars_fragment:Ere,encodings_fragment:_re,encodings_pars_fragment:xre,envmap_fragment:Bre,envmap_common_pars_fragment:Rre,envmap_pars_fragment:Cre,envmap_pars_vertex:Nre,envmap_physical_pars_fragment:kre,envmap_vertex:Sre,fog_vertex:Gre,fog_pars_vertex:Mre,fog_fragment:Tre,fog_pars_fragment:Fre,gradientmap_pars_fragment:Ire,lightmap_fragment:Lre,lightmap_pars_fragment:Pre,lights_lambert_vertex:Ure,lights_pars_begin:Dre,lights_toon_fragment:Ore,lights_toon_pars_fragment:Hre,lights_phong_fragment:Qre,lights_phong_pars_fragment:zre,lights_physical_fragment:Vre,lights_physical_pars_fragment:Kre,lights_fragment_begin:Wre,lights_fragment_maps:$re,lights_fragment_end:jre,logdepthbuf_fragment:Yre,logdepthbuf_pars_fragment:qre,logdepthbuf_pars_vertex:Xre,logdepthbuf_vertex:Zre,map_fragment:Jre,map_pars_fragment:eae,map_particle_fragment:tae,map_particle_pars_fragment:nae,metalnessmap_fragment:iae,metalnessmap_pars_fragment:rae,morphnormal_vertex:aae,morphtarget_pars_vertex:sae,morphtarget_vertex:oae,normal_fragment_begin:cae,normal_fragment_maps:Aae,normalmap_pars_fragment:lae,clearcoat_normal_fragment_begin:uae,clearcoat_normal_fragment_maps:dae,clearcoat_pars_fragment:pae,packing:fae,premultiplied_alpha_fragment:hae,project_vertex:mae,dithering_fragment:yae,dithering_pars_fragment:gae,roughnessmap_fragment:bae,roughnessmap_pars_fragment:vae,shadowmap_pars_fragment:wae,shadowmap_pars_vertex:Eae,shadowmap_vertex:_ae,shadowmask_pars_fragment:xae,skinbase_vertex:Bae,skinning_pars_vertex:Rae,skinning_vertex:Cae,skinnormal_vertex:Nae,specularmap_fragment:Sae,specularmap_pars_fragment:Gae,tonemapping_fragment:Mae,tonemapping_pars_fragment:Tae,uv_pars_fragment:Fae,uv_pars_vertex:Iae,uv_vertex:Lae,uv2_pars_fragment:Pae,uv2_pars_vertex:Uae,uv2_vertex:Dae,worldpos_vertex:kae,background_frag:Oae,background_vert:Hae,cube_frag:Qae,cube_vert:zae,depth_frag:Vae,depth_vert:Kae,distanceRGBA_frag:Wae,distanceRGBA_vert:$ae,equirect_frag:jae,equirect_vert:Yae,linedashed_frag:qae,linedashed_vert:Xae,meshbasic_frag:Zae,meshbasic_vert:Jae,meshlambert_frag:ese,meshlambert_vert:tse,meshmatcap_frag:nse,meshmatcap_vert:ise,meshtoon_frag:rse,meshtoon_vert:ase,meshphong_frag:sse,meshphong_vert:ose,meshphysical_frag:cse,meshphysical_vert:Ase,normal_frag:lse,normal_vert:use,points_frag:dse,points_vert:pse,shadow_frag:fse,shadow_vert:hse,sprite_frag:mse,sprite_vert:yse},zc={basic:{uniforms:$r([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.fog]),vertexShader:Tn.meshbasic_vert,fragmentShader:Tn.meshbasic_frag},lambert:{uniforms:$r([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.fog,xt.lights,{emissive:{value:new pt(0)}}]),vertexShader:Tn.meshlambert_vert,fragmentShader:Tn.meshlambert_frag},phong:{uniforms:$r([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,xt.lights,{emissive:{value:new pt(0)},specular:{value:new pt(1118481)},shininess:{value:30}}]),vertexShader:Tn.meshphong_vert,fragmentShader:Tn.meshphong_frag},standard:{uniforms:$r([xt.common,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.roughnessmap,xt.metalnessmap,xt.fog,xt.lights,{emissive:{value:new pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Tn.meshphysical_vert,fragmentShader:Tn.meshphysical_frag},toon:{uniforms:$r([xt.common,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.gradientmap,xt.fog,xt.lights,{emissive:{value:new pt(0)}}]),vertexShader:Tn.meshtoon_vert,fragmentShader:Tn.meshtoon_frag},matcap:{uniforms:$r([xt.common,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,{matcap:{value:null}}]),vertexShader:Tn.meshmatcap_vert,fragmentShader:Tn.meshmatcap_frag},points:{uniforms:$r([xt.points,xt.fog]),vertexShader:Tn.points_vert,fragmentShader:Tn.points_frag},dashed:{uniforms:$r([xt.common,xt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Tn.linedashed_vert,fragmentShader:Tn.linedashed_frag},depth:{uniforms:$r([xt.common,xt.displacementmap]),vertexShader:Tn.depth_vert,fragmentShader:Tn.depth_frag},normal:{uniforms:$r([xt.common,xt.bumpmap,xt.normalmap,xt.displacementmap,{opacity:{value:1}}]),vertexShader:Tn.normal_vert,fragmentShader:Tn.normal_frag},sprite:{uniforms:$r([xt.sprite,xt.fog]),vertexShader:Tn.sprite_vert,fragmentShader:Tn.sprite_frag},background:{uniforms:{uvTransform:{value:new kr},t2D:{value:null}},vertexShader:Tn.background_vert,fragmentShader:Tn.background_frag},cube:{uniforms:$r([xt.envmap,{opacity:{value:1}}]),vertexShader:Tn.cube_vert,fragmentShader:Tn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Tn.equirect_vert,fragmentShader:Tn.equirect_frag},distanceRGBA:{uniforms:$r([xt.common,xt.displacementmap,{referencePosition:{value:new P},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Tn.distanceRGBA_vert,fragmentShader:Tn.distanceRGBA_frag},shadow:{uniforms:$r([xt.lights,xt.fog,{color:{value:new pt(0)},opacity:{value:1}}]),vertexShader:Tn.shadow_vert,fragmentShader:Tn.shadow_frag}};zc.physical={uniforms:$r([zc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new et(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new pt(0)},transparency:{value:0}}]),vertexShader:Tn.meshphysical_vert,fragmentShader:Tn.meshphysical_frag};function gse(e,t,n,i){const r=new pt(0);let a=0,s,o,c=null,A=0,l=null;function u(p,h,g,b){let y=h.isScene===!0?h.background:null;const v=e.xr,_=v.getSession&&v.getSession();if(_&&_.environmentBlendMode==="additive"&&(y=null),y===null?d(r,a):y&&y.isColor&&(d(y,1),b=!0),(e.autoClear||b)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),y&&(y.isCubeTexture||y.isWebGLCubeRenderTarget||y.mapping===sm)){o===void 0&&(o=new wi(new cm(1,1,1),new vr({name:"BackgroundCubeMaterial",uniforms:Rd(zc.cube.uniforms),vertexShader:zc.cube.vertexShader,fragmentShader:zc.cube.fragmentShader,side:yr,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(E,B,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(o));const w=y.isWebGLCubeRenderTarget?y.texture:y;o.material.uniforms.envMap.value=w,o.material.uniforms.flipEnvMap.value=w.isCubeTexture?-1:1,(c!==y||A!==w.version||l!==e.toneMapping)&&(o.material.needsUpdate=!0,c=y,A=w.version,l=e.toneMapping),p.unshift(o,o.geometry,o.material,0,0,null)}else y&&y.isTexture&&(s===void 0&&(s=new wi(new Cd(2,2),new vr({name:"BackgroundMaterial",uniforms:Rd(zc.background.uniforms),vertexShader:zc.background.vertexShader,fragmentShader:zc.background.fragmentShader,side:Xd,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(s)),s.material.uniforms.t2D.value=y,y.matrixAutoUpdate===!0&&y.updateMatrix(),s.material.uniforms.uvTransform.value.copy(y.matrix),(c!==y||A!==y.version||l!==e.toneMapping)&&(s.material.needsUpdate=!0,c=y,A=y.version,l=e.toneMapping),p.unshift(s,s.geometry,s.material,0,0,null))}function d(p,h){t.buffers.color.setClear(p.r,p.g,p.b,h,i)}return{getClearColor:function(){return r},setClearColor:function(p,h){r.set(p),a=h!==void 0?h:1,d(r,a)},getClearAlpha:function(){return a},setClearAlpha:function(p){a=p,d(r,a)},render:u}}function bse(e,t,n,i){const r=e.getParameter(34921),a=i.isWebGL2?null:t.get("OES_vertex_array_object"),s=i.isWebGL2||a!==null,o={},c=g(null);let A=c;function l(k,L,T,H,W){let j=!1;if(s){const ce=h(H,T,L);A!==ce&&(A=ce,d(A.object)),j=b(H),j&&y(H)}else{const ce=L.wireframe===!0;(A.geometry!==H.id||A.program!==T.id||A.wireframe!==ce)&&(A.geometry=H.id,A.program=T.id,A.wireframe=ce,j=!0)}k.isInstancedMesh===!0&&(j=!0),W!==null&&n.update(W,34963),j&&(R(k,L,T,H),W!==null&&e.bindBuffer(34963,n.get(W).buffer))}function u(){return i.isWebGL2?e.createVertexArray():a.createVertexArrayOES()}function d(k){return i.isWebGL2?e.bindVertexArray(k):a.bindVertexArrayOES(k)}function p(k){return i.isWebGL2?e.deleteVertexArray(k):a.deleteVertexArrayOES(k)}function h(k,L,T){const H=T.wireframe===!0;let W=o[k.id];W===void 0&&(W={},o[k.id]=W);let j=W[L.id];j===void 0&&(j={},W[L.id]=j);let ce=j[H];return ce===void 0&&(ce=g(u()),j[H]=ce),ce}function g(k){const L=[],T=[],H=[];for(let W=0;W<r;W++)L[W]=0,T[W]=0,H[W]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:L,enabledAttributes:T,attributeDivisors:H,object:k,attributes:{}}}function b(k){const L=A.attributes,T=k.attributes;if(Object.keys(L).length!==Object.keys(T).length)return!0;for(const H in T){const W=L[H],j=T[H];if(W.attribute!==j||W.data!==j.data)return!0}return!1}function y(k){const L={},T=k.attributes;for(const H in T){const W=T[H],j={};j.attribute=W,W.data&&(j.data=W.data),L[H]=j}A.attributes=L}function v(){const k=A.newAttributes;for(let L=0,T=k.length;L<T;L++)k[L]=0}function _(k){w(k,0)}function w(k,L){const T=A.newAttributes,H=A.enabledAttributes,W=A.attributeDivisors;T[k]=1,H[k]===0&&(e.enableVertexAttribArray(k),H[k]=1),W[k]!==L&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,L),W[k]=L)}function E(){const k=A.newAttributes,L=A.enabledAttributes;for(let T=0,H=L.length;T<H;T++)L[T]!==k[T]&&(e.disableVertexAttribArray(T),L[T]=0)}function B(k,L,T,H,W,j){i.isWebGL2===!0&&(T===5124||T===5125)?e.vertexAttribIPointer(k,L,T,H,W,j):e.vertexAttribPointer(k,L,T,H,W,j)}function R(k,L,T,H){if(i.isWebGL2===!1&&(k.isInstancedMesh||H.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;v();const W=H.attributes,j=T.getAttributes(),ce=L.defaultAttributeValues;for(const ue in j){const te=j[ue];if(te>=0){const re=W[ue];if(re!==void 0){const ae=re.normalized,fe=re.itemSize,ye=n.get(re);if(ye===void 0)continue;const se=ye.buffer,me=ye.type,pe=ye.bytesPerElement;if(re.isInterleavedBufferAttribute){const Ee=re.data,ee=Ee.stride,ie=re.offset;Ee&&Ee.isInstancedInterleavedBuffer?(w(te,Ee.meshPerAttribute),H._maxInstanceCount===void 0&&(H._maxInstanceCount=Ee.meshPerAttribute*Ee.count)):_(te),e.bindBuffer(34962,se),B(te,fe,me,ae,ee*pe,ie*pe)}else re.isInstancedBufferAttribute?(w(te,re.meshPerAttribute),H._maxInstanceCount===void 0&&(H._maxInstanceCount=re.meshPerAttribute*re.count)):_(te),e.bindBuffer(34962,se),B(te,fe,me,ae,0,0)}else if(ue==="instanceMatrix"){const ae=n.get(k.instanceMatrix);if(ae===void 0)continue;const fe=ae.buffer,ye=ae.type;w(te+0,1),w(te+1,1),w(te+2,1),w(te+3,1),e.bindBuffer(34962,fe),e.vertexAttribPointer(te+0,4,ye,!1,64,0),e.vertexAttribPointer(te+1,4,ye,!1,64,16),e.vertexAttribPointer(te+2,4,ye,!1,64,32),e.vertexAttribPointer(te+3,4,ye,!1,64,48)}else if(ce!==void 0){const ae=ce[ue];if(ae!==void 0)switch(ae.length){case 2:e.vertexAttrib2fv(te,ae);break;case 3:e.vertexAttrib3fv(te,ae);break;case 4:e.vertexAttrib4fv(te,ae);break;default:e.vertexAttrib1fv(te,ae)}}}}E()}function G(){I();for(const k in o){const L=o[k];for(const T in L){const H=L[T];for(const W in H)p(H[W].object),delete H[W];delete L[T]}delete o[k]}}function C(k){if(o[k.id]===void 0)return;const L=o[k.id];for(const T in L){const H=L[T];for(const W in H)p(H[W].object),delete H[W];delete L[T]}delete o[k.id]}function O(k){for(const L in o){const T=o[L];if(T[k.id]===void 0)continue;const H=T[k.id];for(const W in H)p(H[W].object),delete H[W];delete T[k.id]}}function I(){D(),A!==c&&(A=c,d(A.object))}function D(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:l,reset:I,resetDefaultState:D,dispose:G,releaseStatesOfGeometry:C,releaseStatesOfProgram:O,initAttributes:v,enableAttribute:_,disableUnusedAttributes:E}}function vse(e,t,n,i){const r=i.isWebGL2;let a;function s(A){a=A}function o(A,l){e.drawArrays(a,A,l),n.update(l,a)}function c(A,l,u,d){if(d===0)return;let p,h;if(r)p=e,h="drawArraysInstanced";else if(p=t.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[h](a,l,u,d),n.update(u,a,d)}this.setMode=s,this.render=o,this.renderInstances=c}function wse(e,t,n){let i;function r(){if(i!==void 0)return i;const B=t.get("EXT_texture_filter_anisotropic");return B!==null?i=e.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT):i=0,i}function a(B){if(B==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";B="mediump"}return B==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext;let o=n.precision!==void 0?n.precision:"highp";const c=a(o);c!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",c,"instead."),o=c);const A=n.logarithmicDepthBuffer===!0,l=e.getParameter(34930),u=e.getParameter(35660),d=e.getParameter(3379),p=e.getParameter(34076),h=e.getParameter(34921),g=e.getParameter(36347),b=e.getParameter(36348),y=e.getParameter(36349),v=u>0,_=s||!!t.get("OES_texture_float"),w=v&&_,E=s?e.getParameter(36183):0;return{isWebGL2:s,getMaxAnisotropy:r,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:A,maxTextures:l,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:p,maxAttributes:h,maxVertexUniforms:g,maxVaryings:b,maxFragmentUniforms:y,vertexTextures:v,floatFragmentTextures:_,floatVertexTextures:w,maxSamples:E}}function Ese(){const e=this;let t=null,n=0,i=!1,r=!1;const a=new Ko,s=new kr,o={value:null,needsUpdate:!1};this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(l,u,d){const p=l.length!==0||u||n!==0||i;return i=u,t=A(l,d,0),n=l.length,p},this.beginShadows=function(){r=!0,A(null)},this.endShadows=function(){r=!1,c()},this.setState=function(l,u,d,p,h,g){if(!i||l===null||l.length===0||r&&!d)r?A(null):c();else{const b=r?0:n,y=b*4;let v=h.clippingState||null;o.value=v,v=A(l,p,y,g);for(let _=0;_!==y;++_)v[_]=t[_];h.clippingState=v,this.numIntersection=u?this.numPlanes:0,this.numPlanes+=b}};function c(){o.value!==t&&(o.value=t,o.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function A(l,u,d,p){let h=l!==null?l.length:0,g=null;if(h!==0){if(g=o.value,p!==!0||g===null){const b=d+h*4,y=u.matrixWorldInverse;s.getNormalMatrix(y),(g===null||g.length<b)&&(g=new Float32Array(b));for(let v=0,_=d;v!==h;++v,_+=4)a.copy(l[v]).applyMatrix4(y,s),a.normal.toArray(g,_),g[_+3]=a.constant}o.value=g,o.needsUpdate=!0}return e.numPlanes=h,e.numIntersection=0,g}}function _se(e){const t={};return{get:function(n){if(t[n]!==void 0)return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=i,i}}}function xse(e,t,n,i){const r=new WeakMap,a=new WeakMap;function s(u){const d=u.target,p=r.get(d);p.index!==null&&t.remove(p.index);for(const g in p.attributes)t.remove(p.attributes[g]);d.removeEventListener("dispose",s),r.delete(d);const h=a.get(p);h&&(t.remove(h),a.delete(p)),i.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function o(u,d){let p=r.get(d);return p||(d.addEventListener("dispose",s),d.isBufferGeometry?p=d:d.isGeometry&&(d._bufferGeometry===void 0&&(d._bufferGeometry=new Rt().setFromObject(u)),p=d._bufferGeometry),r.set(d,p),n.memory.geometries++,p)}function c(u){const d=u.attributes;for(const h in d)t.update(d[h],34962);const p=u.morphAttributes;for(const h in p){const g=p[h];for(let b=0,y=g.length;b<y;b++)t.update(g[b],34962)}}function A(u){const d=[],p=u.index,h=u.attributes.position;let g=0;if(p!==null){const v=p.array;g=p.version;for(let _=0,w=v.length;_<w;_+=3){const E=v[_+0],B=v[_+1],R=v[_+2];d.push(E,B,B,R,R,E)}}else{const v=h.array;g=h.version;for(let _=0,w=v.length/3-1;_<w;_+=3){const E=_+0,B=_+1,R=_+2;d.push(E,B,B,R,R,E)}}const b=new(cF(d)>65535?ch:oh)(d,1);b.version=g;const y=a.get(u);y&&t.remove(y),a.set(u,b)}function l(u){const d=a.get(u);if(d){const p=u.index;p!==null&&d.version<p.version&&A(u)}else A(u);return a.get(u)}return{get:o,update:c,getWireframeAttribute:l}}function Bse(e,t,n,i){const r=i.isWebGL2;let a;function s(d){a=d}let o,c;function A(d){o=d.type,c=d.bytesPerElement}function l(d,p){e.drawElements(a,p,o,d*c),n.update(p,a)}function u(d,p,h,g){if(g===0)return;let b,y;if(r)b=e,y="drawElementsInstanced";else if(b=t.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",b===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}b[y](a,h,o,p*c,g),n.update(h,a,g)}this.setMode=s,this.setIndex=A,this.render=l,this.renderInstances=u}function Rse(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,o){switch(o=o||1,n.calls++,s){case 4:n.triangles+=o*(a/3);break;case 1:n.lines+=o*(a/2);break;case 3:n.lines+=o*(a-1);break;case 2:n.lines+=o*a;break;case 0:n.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:r,update:i}}function Cse(e,t){return e[0]-t[0]}function Nse(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Sse(e){const t={},n=new Float32Array(8),i=[];for(let a=0;a<8;a++)i[a]=[a,0];function r(a,s,o,c){const A=a.morphTargetInfluences,l=A===void 0?0:A.length;let u=t[s.id];if(u===void 0){u=[];for(let b=0;b<l;b++)u[b]=[b,0];t[s.id]=u}for(let b=0;b<l;b++){const y=u[b];y[0]=b,y[1]=A[b]}u.sort(Nse);for(let b=0;b<8;b++)b<l&&u[b][1]?(i[b][0]=u[b][0],i[b][1]=u[b][1]):(i[b][0]=Number.MAX_SAFE_INTEGER,i[b][1]=0);i.sort(Cse);const d=o.morphTargets&&s.morphAttributes.position,p=o.morphNormals&&s.morphAttributes.normal;let h=0;for(let b=0;b<8;b++){const y=i[b],v=y[0],_=y[1];v!==Number.MAX_SAFE_INTEGER&&_?(d&&s.getAttribute("morphTarget"+b)!==d[v]&&s.setAttribute("morphTarget"+b,d[v]),p&&s.getAttribute("morphNormal"+b)!==p[v]&&s.setAttribute("morphNormal"+b,p[v]),n[b]=_,h+=_):(d&&s.getAttribute("morphTarget"+b)!==void 0&&s.deleteAttribute("morphTarget"+b),p&&s.getAttribute("morphNormal"+b)!==void 0&&s.deleteAttribute("morphNormal"+b),n[b]=0)}const g=s.morphTargetsRelative?1:1-h;c.getUniforms().setValue(e,"morphTargetBaseInfluence",g),c.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:r}}function Gse(e,t,n,i){let r=new WeakMap;function a(o){const c=i.render.frame,A=o.geometry,l=t.get(o,A);return r.get(l)!==c&&(A.isGeometry&&l.updateFromObject(o),t.update(l),r.set(l,c)),o.isInstancedMesh&&n.update(o.instanceMatrix,34962),l}function s(){r=new WeakMap}return{update:a,dispose:s}}function yA(e,t,n,i,r,a,s,o,c,A){e=e!==void 0?e:[],t=t!==void 0?t:d7,s=s!==void 0?s:pl,Ei.call(this,e,t,n,i,r,a,s,o,c,A),this.flipY=!1}yA.prototype=Object.create(Ei.prototype);yA.prototype.constructor=yA;yA.prototype.isCubeTexture=!0;Object.defineProperty(yA.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function dh(e,t,n,i){Ei.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=hi,this.minFilter=hi,this.wrapR=Ta,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}dh.prototype=Object.create(Ei.prototype);dh.prototype.constructor=dh;dh.prototype.isDataTexture2DArray=!0;function ph(e,t,n,i){Ei.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=hi,this.minFilter=hi,this.wrapR=Ta,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}ph.prototype=Object.create(Ei.prototype);ph.prototype.constructor=ph;ph.prototype.isDataTexture3D=!0;const uF=new Ei,Mse=new dh,Tse=new ph,dF=new yA,sR=[],oR=[],cR=new Float32Array(16),AR=new Float32Array(9),lR=new Float32Array(4);function ep(e,t,n){const i=e[0];if(i<=0||i>0)return e;let r=t*n,a=sR[r];if(a===void 0&&(a=new Float32Array(r),sR[r]=a),t!==0){i.toArray(a,0);for(let s=1,o=0;s!==t;++s)o+=n,e[s].toArray(a,o)}return a}function Vs(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function is(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function pF(e,t){let n=oR[t];n===void 0&&(n=new Int32Array(t),oR[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function Fse(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Ise(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Vs(n,t))return;e.uniform2fv(this.addr,t),is(n,t)}}function Lse(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Vs(n,t))return;e.uniform3fv(this.addr,t),is(n,t)}}function Pse(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Vs(n,t))return;e.uniform4fv(this.addr,t),is(n,t)}}function Use(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Vs(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),is(n,t)}else{if(Vs(n,i))return;lR.set(i),e.uniformMatrix2fv(this.addr,!1,lR),is(n,i)}}function Dse(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Vs(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),is(n,t)}else{if(Vs(n,i))return;AR.set(i),e.uniformMatrix3fv(this.addr,!1,AR),is(n,i)}}function kse(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Vs(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),is(n,t)}else{if(Vs(n,i))return;cR.set(i),e.uniformMatrix4fv(this.addr,!1,cR),is(n,i)}}function Ose(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||uF,r)}function Hse(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||Mse,r)}function Qse(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||Tse,r)}function zse(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||dF,r)}function Vse(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Kse(e,t){const n=this.cache;Vs(n,t)||(e.uniform2iv(this.addr,t),is(n,t))}function Wse(e,t){const n=this.cache;Vs(n,t)||(e.uniform3iv(this.addr,t),is(n,t))}function $se(e,t){const n=this.cache;Vs(n,t)||(e.uniform4iv(this.addr,t),is(n,t))}function jse(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Yse(e){switch(e){case 5126:return Fse;case 35664:return Ise;case 35665:return Lse;case 35666:return Pse;case 35674:return Use;case 35675:return Dse;case 35676:return kse;case 5124:case 35670:return Vse;case 35667:case 35671:return Kse;case 35668:case 35672:return Wse;case 35669:case 35673:return $se;case 5125:return jse;case 35678:case 36198:case 36298:case 36306:case 35682:return Ose;case 35679:case 36299:case 36307:return Qse;case 35680:case 36300:case 36308:case 36293:return zse;case 36289:case 36303:case 36311:case 36292:return Hse}}function qse(e,t){e.uniform1fv(this.addr,t)}function Xse(e,t){e.uniform1iv(this.addr,t)}function Zse(e,t){e.uniform2iv(this.addr,t)}function Jse(e,t){e.uniform3iv(this.addr,t)}function eoe(e,t){e.uniform4iv(this.addr,t)}function toe(e,t){const n=ep(t,this.size,2);e.uniform2fv(this.addr,n)}function noe(e,t){const n=ep(t,this.size,3);e.uniform3fv(this.addr,n)}function ioe(e,t){const n=ep(t,this.size,4);e.uniform4fv(this.addr,n)}function roe(e,t){const n=ep(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function aoe(e,t){const n=ep(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function soe(e,t){const n=ep(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function ooe(e,t,n){const i=t.length,r=pF(n,i);e.uniform1iv(this.addr,r);for(let a=0;a!==i;++a)n.safeSetTexture2D(t[a]||uF,r[a])}function coe(e,t,n){const i=t.length,r=pF(n,i);e.uniform1iv(this.addr,r);for(let a=0;a!==i;++a)n.safeSetTextureCube(t[a]||dF,r[a])}function Aoe(e){switch(e){case 5126:return qse;case 35664:return toe;case 35665:return noe;case 35666:return ioe;case 35674:return roe;case 35675:return aoe;case 35676:return soe;case 5124:case 35670:return Xse;case 35667:case 35671:return Zse;case 35668:case 35672:return Jse;case 35669:case 35673:return eoe;case 35678:case 36198:case 36298:case 36306:case 35682:return ooe;case 35680:case 36300:case 36308:case 36293:return coe}}function loe(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Yse(t.type)}function fF(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=Aoe(t.type)}fF.prototype.updateCache=function(e){let t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),is(t,e)};function hF(e){this.id=e,this.seq=[],this.map={}}hF.prototype.setValue=function(e,t,n){const i=this.seq;for(let r=0,a=i.length;r!==a;++r){const s=i[r];s.setValue(e,t[s.id],n)}};const ww=/([\w\d_]+)(\])?(\[|\.)?/g;function uR(e,t){e.seq.push(t),e.map[t.id]=t}function uoe(e,t,n){const i=e.name,r=i.length;for(ww.lastIndex=0;;){const a=ww.exec(i),s=ww.lastIndex;let o=a[1],c=a[2]==="]",A=a[3];if(c&&(o=o|0),A===void 0||A==="["&&s+2===r){uR(n,A===void 0?new loe(o,e,t):new fF(o,e,t));break}else{let u=n.map[o];u===void 0&&(u=new hF(o),uR(n,u)),n=u}}}function sA(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const r=e.getActiveUniform(t,i),a=e.getUniformLocation(t,r.name);uoe(r,a,this)}}sA.prototype.setValue=function(e,t,n,i){const r=this.map[t];r!==void 0&&r.setValue(e,n,i)};sA.prototype.setOptional=function(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)};sA.upload=function(e,t,n,i){for(let r=0,a=t.length;r!==a;++r){const s=t[r],o=n[s.id];o.needsUpdate!==!1&&s.setValue(e,o.value,i)}};sA.seqWithValue=function(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const a=e[i];a.id in t&&n.push(a)}return n};function dR(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let doe=0;function poe(e){const t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function mF(e){switch(e){case ea:return["Linear","( value )"];case om:return["sRGB","( value )"];case g7:return["RGBE","( value )"];case iF:return["RGBM","( value, 7.0 )"];case rF:return["RGBM","( value, 16.0 )"];case aF:return["RGBD","( value, 256.0 )"];case y7:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case Gie:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function pR(e,t,n){const i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&r==="")return"";const a=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+r+poe(a)}function Lp(e,t){const n=mF(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function foe(e,t){const n=mF(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function hoe(e,t){let n;switch(t){case Sne:n="Linear";break;case Gne:n="Reinhard";break;case Mne:n="OptimizedCineon";break;case Tne:n="ACESFilmic";break;case Fne:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function moe(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ff).join(`
`)}function yoe(e){const t=[];for(const n in e){const i=e[n];i!==!1&&t.push("#define "+n+" "+i)}return t.join(`
`)}function goe(e,t){const n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){const s=e.getActiveAttrib(t,r).name;n[s]=e.getAttribLocation(t,s)}return n}function ff(e){return e!==""}function fR(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function hR(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const boe=/^[ \t]*#include +<([\w\d./]+)>/gm;function r_(e){return e.replace(boe,voe)}function voe(e,t){const n=Tn[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return r_(n)}const woe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Eoe=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function mR(e){return e.replace(Eoe,yF).replace(woe,_oe)}function _oe(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),yF(e,t,n,i)}function yF(e,t,n,i){let r="";for(let a=parseInt(t);a<parseInt(n);a++)r+=i.replace(/\[ i \]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function yR(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function xoe(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===qT?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===one?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===pf&&(t="SHADOWMAP_TYPE_VSM"),t}function Boe(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case d7:case p7:t="ENVMAP_TYPE_CUBE";break;case sm:case h7:t="ENVMAP_TYPE_CUBE_UV";break;case eF:case f7:t="ENVMAP_TYPE_EQUIREC";break}return t}function Roe(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case p7:case f7:t="ENVMAP_MODE_REFRACTION";break}return t}function Coe(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case N2:t="ENVMAP_BLENDING_MULTIPLY";break;case Cne:t="ENVMAP_BLENDING_MIX";break;case Nne:t="ENVMAP_BLENDING_ADD";break}return t}function Noe(e,t,n,i){const r=e.getContext(),a=n.defines;let s=n.vertexShader,o=n.fragmentShader;const c=xoe(n),A=Boe(n),l=Roe(n),u=Coe(n),d=e.gammaFactor>0?e.gammaFactor:1,p=n.isWebGL2?"":moe(n),h=yoe(a),g=r.createProgram();let b,y;if(n.isRawShaderMaterial?(b=[h].filter(ff).join(`
`),b.length>0&&(b+=`
`),y=[p,h].filter(ff).join(`
`),y.length>0&&(y+=`
`)):(b=[yR(n),"#define SHADER_NAME "+n.shaderName,h,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+l:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ff).join(`
`),y=[p,yR(n),"#define SHADER_NAME "+n.shaderName,h,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+A:"",n.envMap?"#define "+l:"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ad?"#define TONE_MAPPING":"",n.toneMapping!==Ad?Tn.tonemapping_pars_fragment:"",n.toneMapping!==Ad?hoe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Tn.encodings_pars_fragment,n.map?Lp("mapTexelToLinear",n.mapEncoding):"",n.matcap?Lp("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Lp("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Lp("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Lp("lightMapTexelToLinear",n.lightMapEncoding):"",foe("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(ff).join(`
`)),s=r_(s),s=fR(s,n),s=hR(s,n),o=r_(o),o=fR(o,n),o=hR(o,n),s=mR(s),o=mR(o),n.isWebGL2&&!n.isRawShaderMaterial){let G=!1;const C=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&s.match(C)!==null&&o.match(C)!==null&&(G=!0,s=s.replace(C,""),o=o.replace(C,"")),b=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,y=[`#version 300 es
`,"#define varying in",G?"":"out highp vec4 pc_fragColor;",G?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y}const v=b+s,_=y+o,w=dR(r,35633,v),E=dR(r,35632,_);if(r.attachShader(g,w),r.attachShader(g,E),n.index0AttributeName!==void 0?r.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),e.debug.checkShaderErrors){const G=r.getProgramInfoLog(g).trim(),C=r.getShaderInfoLog(w).trim(),O=r.getShaderInfoLog(E).trim();let I=!0,D=!0;if(r.getProgramParameter(g,35714)===!1){I=!1;const k=pR(r,w,"vertex"),L=pR(r,E,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(g,35715),"gl.getProgramInfoLog",G,k,L)}else G!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",G):(C===""||O==="")&&(D=!1);D&&(this.diagnostics={runnable:I,programLog:G,vertexShader:{log:C,prefix:b},fragmentShader:{log:O,prefix:y}})}r.deleteShader(w),r.deleteShader(E);let B;this.getUniforms=function(){return B===void 0&&(B=new sA(r,g)),B};let R;return this.getAttributes=function(){return R===void 0&&(R=goe(r,g)),R},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=doe++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=w,this.fragmentShader=E,this}function Soe(e,t,n,i){const r=[],a=n.isWebGL2,s=n.logarithmicDepthBuffer,o=n.floatVertexTextures,c=n.maxVertexUniforms,A=n.vertexTextures;let l=n.precision;const u={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},d=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function p(w,E){let B;if(E){const R=zc[E];B={name:w.name||w.type,uniforms:l3.clone(R.uniforms),vertexShader:R.vertexShader,fragmentShader:R.fragmentShader}}else B={name:w.name||w.type,uniforms:w.uniforms,vertexShader:w.vertexShader,fragmentShader:w.fragmentShader};return B}function h(w){const B=w.skeleton.bones;if(o)return 1024;{const G=Math.floor((c-20)/4),C=Math.min(G,B.length);return C<B.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+B.length+" bones. This GPU supports "+C+"."),0):C}}function g(w){let E;return w?w.isTexture?E=w.encoding:w.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),E=w.texture.encoding):E=ea,E}function b(w,E,B,R,G,C,O){const I=R.fog,D=w.isMeshStandardMaterial?R.environment:null,k=w.envMap||D,L=u[w.type],T=O.isSkinnedMesh?h(O):0;w.precision!==null&&(l=n.getMaxPrecision(w.precision),l!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",l,"instead."));const H=p(w,L);w.onBeforeCompile(H,e);const W=e.getRenderTarget();return{isWebGL2:a,shaderID:L,shaderName:H.name,uniforms:H.uniforms,vertexShader:H.vertexShader,fragmentShader:H.fragmentShader,defines:w.defines,isRawShaderMaterial:w.isRawShaderMaterial,isShaderMaterial:w.isShaderMaterial,precision:l,instancing:O.isInstancedMesh===!0,supportsVertexTextures:A,outputEncoding:W!==null?g(W.texture):e.outputEncoding,map:!!w.map,mapEncoding:g(w.map),matcap:!!w.matcap,matcapEncoding:g(w.matcap),envMap:!!k,envMapMode:k&&k.mapping,envMapEncoding:g(k),envMapCubeUV:!!k&&(k.mapping===sm||k.mapping===h7),lightMap:!!w.lightMap,lightMapEncoding:g(w.lightMap),aoMap:!!w.aoMap,emissiveMap:!!w.emissiveMap,emissiveMapEncoding:g(w.emissiveMap),bumpMap:!!w.bumpMap,normalMap:!!w.normalMap,objectSpaceNormalMap:w.normalMapType===Fie,tangentSpaceNormalMap:w.normalMapType===Zd,clearcoatMap:!!w.clearcoatMap,clearcoatRoughnessMap:!!w.clearcoatRoughnessMap,clearcoatNormalMap:!!w.clearcoatNormalMap,displacementMap:!!w.displacementMap,roughnessMap:!!w.roughnessMap,metalnessMap:!!w.metalnessMap,specularMap:!!w.specularMap,alphaMap:!!w.alphaMap,gradientMap:!!w.gradientMap,sheen:!!w.sheen,combine:w.combine,vertexTangents:w.normalMap&&w.vertexTangents,vertexColors:w.vertexColors,vertexUvs:!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatMap||!!w.clearcoatRoughnessMap||!!w.clearcoatNormalMap||!!w.displacementMap,uvsVertexOnly:!(!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatNormalMap)&&!!w.displacementMap,fog:!!I,useFog:w.fog,fogExp2:I&&I.isFogExp2,flatShading:w.flatShading,sizeAttenuation:w.sizeAttenuation,logarithmicDepthBuffer:s,skinning:w.skinning&&T>0,maxBones:T,useVertexTexture:o,morphTargets:w.morphTargets,morphNormals:w.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numClippingPlanes:G,numClipIntersection:C,dithering:w.dithering,shadowMapEnabled:e.shadowMap.enabled&&B.length>0,shadowMapType:e.shadowMap.type,toneMapping:w.toneMapped?e.toneMapping:Ad,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:w.premultipliedAlpha,alphaTest:w.alphaTest,doubleSided:w.side===am,flipSided:w.side===yr,depthPacking:w.depthPacking!==void 0?w.depthPacking:!1,index0AttributeName:w.index0AttributeName,extensionDerivatives:w.extensions&&w.extensions.derivatives,extensionFragDepth:w.extensions&&w.extensions.fragDepth,extensionDrawBuffers:w.extensions&&w.extensions.drawBuffers,extensionShaderTextureLOD:w.extensions&&w.extensions.shaderTextureLOD,rendererExtensionFragDepth:a||t.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:a||t.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:a||t.get("EXT_shader_texture_lod")!==null,customProgramCacheKey:w.customProgramCacheKey()}}function y(w){const E=[];if(w.shaderID?E.push(w.shaderID):(E.push(w.fragmentShader),E.push(w.vertexShader)),w.defines!==void 0)for(const B in w.defines)E.push(B),E.push(w.defines[B]);if(w.isRawShaderMaterial===void 0){for(let B=0;B<d.length;B++)E.push(w[d[B]]);E.push(e.outputEncoding),E.push(e.gammaFactor)}return E.push(w.customProgramCacheKey),E.join()}function v(w,E){let B;for(let R=0,G=r.length;R<G;R++){const C=r[R];if(C.cacheKey===E){B=C,++B.usedTimes;break}}return B===void 0&&(B=new Noe(e,E,w,i),r.push(B)),B}function _(w){if(--w.usedTimes===0){const E=r.indexOf(w);r[E]=r[r.length-1],r.pop(),w.destroy()}}return{getParameters:b,getProgramCacheKey:y,acquireProgram:v,releaseProgram:_,programs:r}}function Goe(){let e=new WeakMap;function t(a){let s=e.get(a);return s===void 0&&(s={},e.set(a,s)),s}function n(a){e.delete(a)}function i(a,s,o){e.get(a)[s]=o}function r(){e=new WeakMap}return{get:t,remove:n,update:i,dispose:r}}function Moe(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Toe(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function gR(){const e=[];let t=0;const n=[],i=[],r={id:-1};function a(){t=0,n.length=0,i.length=0}function s(u,d,p,h,g,b){let y=e[t];return y===void 0?(y={id:u.id,object:u,geometry:d,material:p,program:p.program||r,groupOrder:h,renderOrder:u.renderOrder,z:g,group:b},e[t]=y):(y.id=u.id,y.object=u,y.geometry=d,y.material=p,y.program=p.program||r,y.groupOrder=h,y.renderOrder=u.renderOrder,y.z=g,y.group=b),t++,y}function o(u,d,p,h,g,b){const y=s(u,d,p,h,g,b);(p.transparent===!0?i:n).push(y)}function c(u,d,p,h,g,b){const y=s(u,d,p,h,g,b);(p.transparent===!0?i:n).unshift(y)}function A(u,d){n.length>1&&n.sort(u||Moe),i.length>1&&i.sort(d||Toe)}function l(){for(let u=t,d=e.length;u<d;u++){const p=e[u];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.program=null,p.group=null}}return{opaque:n,transparent:i,init:a,push:o,unshift:c,finish:l,sort:A}}function Foe(){let e=new WeakMap;function t(r){const a=r.target;a.removeEventListener("dispose",t),e.delete(a)}function n(r,a){const s=e.get(r);let o;return s===void 0?(o=new gR,e.set(r,new WeakMap),e.get(r).set(a,o),r.addEventListener("dispose",t)):(o=s.get(a),o===void 0&&(o=new gR,s.set(a,o))),o}function i(){e=new WeakMap}return{get:n,dispose:i}}function Ioe(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new P,color:new pt};break;case"SpotLight":n={position:new P,direction:new P,color:new pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new P,color:new pt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new P,skyColor:new pt,groundColor:new pt};break;case"RectAreaLight":n={color:new pt,position:new P,halfWidth:new P,halfHeight:new P};break}return e[t.id]=n,n}}}function Loe(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let Poe=0;function Uoe(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Doe(){const e=new Ioe,t=Loe(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let o=0;o<9;o++)n.probe.push(new P);const i=new P,r=new st,a=new st;function s(o,c,A){let l=0,u=0,d=0;for(let R=0;R<9;R++)n.probe[R].set(0,0,0);let p=0,h=0,g=0,b=0,y=0,v=0,_=0,w=0;const E=A.matrixWorldInverse;o.sort(Uoe);for(let R=0,G=o.length;R<G;R++){const C=o[R],O=C.color,I=C.intensity,D=C.distance,k=C.shadow&&C.shadow.map?C.shadow.map.texture:null;if(C.isAmbientLight)l+=O.r*I,u+=O.g*I,d+=O.b*I;else if(C.isLightProbe)for(let L=0;L<9;L++)n.probe[L].addScaledVector(C.sh.coefficients[L],I);else if(C.isDirectionalLight){const L=e.get(C);if(L.color.copy(C.color).multiplyScalar(C.intensity),L.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),L.direction.sub(i),L.direction.transformDirection(E),C.castShadow){const T=C.shadow,H=t.get(C);H.shadowBias=T.bias,H.shadowNormalBias=T.normalBias,H.shadowRadius=T.radius,H.shadowMapSize=T.mapSize,n.directionalShadow[p]=H,n.directionalShadowMap[p]=k,n.directionalShadowMatrix[p]=C.shadow.matrix,v++}n.directional[p]=L,p++}else if(C.isSpotLight){const L=e.get(C);if(L.position.setFromMatrixPosition(C.matrixWorld),L.position.applyMatrix4(E),L.color.copy(O).multiplyScalar(I),L.distance=D,L.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),L.direction.sub(i),L.direction.transformDirection(E),L.coneCos=Math.cos(C.angle),L.penumbraCos=Math.cos(C.angle*(1-C.penumbra)),L.decay=C.decay,C.castShadow){const T=C.shadow,H=t.get(C);H.shadowBias=T.bias,H.shadowNormalBias=T.normalBias,H.shadowRadius=T.radius,H.shadowMapSize=T.mapSize,n.spotShadow[g]=H,n.spotShadowMap[g]=k,n.spotShadowMatrix[g]=C.shadow.matrix,w++}n.spot[g]=L,g++}else if(C.isRectAreaLight){const L=e.get(C);L.color.copy(O).multiplyScalar(I),L.position.setFromMatrixPosition(C.matrixWorld),L.position.applyMatrix4(E),a.identity(),r.copy(C.matrixWorld),r.premultiply(E),a.extractRotation(r),L.halfWidth.set(C.width*.5,0,0),L.halfHeight.set(0,C.height*.5,0),L.halfWidth.applyMatrix4(a),L.halfHeight.applyMatrix4(a),n.rectArea[b]=L,b++}else if(C.isPointLight){const L=e.get(C);if(L.position.setFromMatrixPosition(C.matrixWorld),L.position.applyMatrix4(E),L.color.copy(C.color).multiplyScalar(C.intensity),L.distance=C.distance,L.decay=C.decay,C.castShadow){const T=C.shadow,H=t.get(C);H.shadowBias=T.bias,H.shadowNormalBias=T.normalBias,H.shadowRadius=T.radius,H.shadowMapSize=T.mapSize,H.shadowCameraNear=T.camera.near,H.shadowCameraFar=T.camera.far,n.pointShadow[h]=H,n.pointShadowMap[h]=k,n.pointShadowMatrix[h]=C.shadow.matrix,_++}n.point[h]=L,h++}else if(C.isHemisphereLight){const L=e.get(C);L.direction.setFromMatrixPosition(C.matrixWorld),L.direction.transformDirection(E),L.direction.normalize(),L.skyColor.copy(C.color).multiplyScalar(I),L.groundColor.copy(C.groundColor).multiplyScalar(I),n.hemi[y]=L,y++}}n.ambient[0]=l,n.ambient[1]=u,n.ambient[2]=d;const B=n.hash;(B.directionalLength!==p||B.pointLength!==h||B.spotLength!==g||B.rectAreaLength!==b||B.hemiLength!==y||B.numDirectionalShadows!==v||B.numPointShadows!==_||B.numSpotShadows!==w)&&(n.directional.length=p,n.spot.length=g,n.rectArea.length=b,n.point.length=h,n.hemi.length=y,n.directionalShadow.length=v,n.directionalShadowMap.length=v,n.pointShadow.length=_,n.pointShadowMap.length=_,n.spotShadow.length=w,n.spotShadowMap.length=w,n.directionalShadowMatrix.length=v,n.pointShadowMatrix.length=_,n.spotShadowMatrix.length=w,B.directionalLength=p,B.pointLength=h,B.spotLength=g,B.rectAreaLength=b,B.hemiLength=y,B.numDirectionalShadows=v,B.numPointShadows=_,B.numSpotShadows=w,n.version=Poe++)}return{setup:s,state:n}}function bR(){const e=new Doe,t=[],n=[];function i(){t.length=0,n.length=0}function r(c){t.push(c)}function a(c){n.push(c)}function s(c){e.setup(t,n,c)}return{init:i,state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:s,pushLight:r,pushShadow:a}}function koe(){let e=new WeakMap;function t(r){const a=r.target;a.removeEventListener("dispose",t),e.delete(a)}function n(r,a){let s;return e.has(r)===!1?(s=new bR,e.set(r,new WeakMap),e.get(r).set(a,s),r.addEventListener("dispose",t)):e.get(r).has(a)===!1?(s=new bR,e.get(r).set(a,s)):s=e.get(r).get(a),s}function i(){e=new WeakMap}return{get:n,dispose:i}}function Bl(e){pn.call(this),this.type="MeshDepthMaterial",this.depthPacking=Mie,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}Bl.prototype=Object.create(pn.prototype);Bl.prototype.constructor=Bl;Bl.prototype.isMeshDepthMaterial=!0;Bl.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function Rl(e){pn.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new P,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Rl.prototype=Object.create(pn.prototype);Rl.prototype.constructor=Rl;Rl.prototype.isMeshDistanceMaterial=!0;Rl.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Ooe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,Hoe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function gF(e,t,n){let i=new Am;const r=new et,a=new et,s=new pi,o=[],c=[],A={},l={0:yr,1:Xd,2:am},u=new vr({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new et},radius:{value:4}},vertexShader:Hoe,fragmentShader:Ooe}),d=u.clone();d.defines.HORIZONAL_PASS=1;const p=new Rt;p.setAttribute("position",new Vt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const h=new wi(p,u),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=qT,this.render=function(E,B,R){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||E.length===0)return;const G=e.getRenderTarget(),C=e.getActiveCubeFace(),O=e.getActiveMipmapLevel(),I=e.state;I.setBlending(Xc),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let D=0,k=E.length;D<k;D++){const L=E[D],T=L.shadow;if(T.autoUpdate===!1&&T.needsUpdate===!1)continue;if(T===void 0){console.warn("THREE.WebGLShadowMap:",L,"has no shadow.");continue}r.copy(T.mapSize);const H=T.getFrameExtents();if(r.multiply(H),a.copy(T.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(a.x=Math.floor(n/H.x),r.x=a.x*H.x,T.mapSize.x=a.x),r.y>n&&(a.y=Math.floor(n/H.y),r.y=a.y*H.y,T.mapSize.y=a.y)),T.map===null&&!T.isPointLightShadow&&this.type===pf){const j={minFilter:ur,magFilter:ur,format:Pa};T.map=new fa(r.x,r.y,j),T.map.texture.name=L.name+".shadowMap",T.mapPass=new fa(r.x,r.y,j),T.camera.updateProjectionMatrix()}if(T.map===null){const j={minFilter:hi,magFilter:hi,format:Pa};T.map=new fa(r.x,r.y,j),T.map.texture.name=L.name+".shadowMap",T.camera.updateProjectionMatrix()}e.setRenderTarget(T.map),e.clear();const W=T.getViewportCount();for(let j=0;j<W;j++){const ce=T.getViewport(j);s.set(a.x*ce.x,a.y*ce.y,a.x*ce.z,a.y*ce.w),I.viewport(s),T.updateMatrices(L,j),i=T.getFrustum(),w(B,R,T.camera,L,this.type)}!T.isPointLightShadow&&this.type===pf&&b(T,R),T.needsUpdate=!1}g.needsUpdate=!1,e.setRenderTarget(G,C,O)};function b(E,B){const R=t.update(h);u.uniforms.shadow_pass.value=E.map.texture,u.uniforms.resolution.value=E.mapSize,u.uniforms.radius.value=E.radius,e.setRenderTarget(E.mapPass),e.clear(),e.renderBufferDirect(B,null,R,u,h,null),d.uniforms.shadow_pass.value=E.mapPass.texture,d.uniforms.resolution.value=E.mapSize,d.uniforms.radius.value=E.radius,e.setRenderTarget(E.map),e.clear(),e.renderBufferDirect(B,null,R,d,h,null)}function y(E,B,R){const G=E<<0|B<<1|R<<2;let C=o[G];return C===void 0&&(C=new Bl({depthPacking:Tie,morphTargets:E,skinning:B}),o[G]=C),C}function v(E,B,R){const G=E<<0|B<<1|R<<2;let C=c[G];return C===void 0&&(C=new Rl({morphTargets:E,skinning:B}),c[G]=C),C}function _(E,B,R,G,C,O,I){let D=null,k=y,L=E.customDepthMaterial;if(G.isPointLight===!0&&(k=v,L=E.customDistanceMaterial),L===void 0){let T=!1;R.morphTargets===!0&&(T=B.morphAttributes&&B.morphAttributes.position&&B.morphAttributes.position.length>0);let H=!1;E.isSkinnedMesh===!0&&(R.skinning===!0?H=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",E));const W=E.isInstancedMesh===!0;D=k(T,H,W)}else D=L;if(e.localClippingEnabled&&R.clipShadows===!0&&R.clippingPlanes.length!==0){const T=D.uuid,H=R.uuid;let W=A[T];W===void 0&&(W={},A[T]=W);let j=W[H];j===void 0&&(j=D.clone(),W[H]=j),D=j}return D.visible=R.visible,D.wireframe=R.wireframe,I===pf?D.side=R.shadowSide!==null?R.shadowSide:R.side:D.side=R.shadowSide!==null?R.shadowSide:l[R.side],D.clipShadows=R.clipShadows,D.clippingPlanes=R.clippingPlanes,D.clipIntersection=R.clipIntersection,D.wireframeLinewidth=R.wireframeLinewidth,D.linewidth=R.linewidth,G.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(G.matrixWorld),D.nearDistance=C,D.farDistance=O),D}function w(E,B,R,G,C){if(E.visible===!1)return;if(E.layers.test(B.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&C===pf)&&(!E.frustumCulled||i.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,E.matrixWorld);const D=t.update(E),k=E.material;if(Array.isArray(k)){const L=D.groups;for(let T=0,H=L.length;T<H;T++){const W=L[T],j=k[W.materialIndex];if(j&&j.visible){const ce=_(E,D,j,G,R.near,R.far,C);e.renderBufferDirect(R,null,D,ce,E,W)}}}else if(k.visible){const L=_(E,D,k,G,R.near,R.far,C);e.renderBufferDirect(R,null,D,L,E,null)}}const I=E.children;for(let D=0,k=I.length;D<k;D++)w(I[D],B,R,G,C)}}function Qoe(e,t,n){const i=n.isWebGL2;function r(){let de=!1;const be=new pi;let Pe=null;const Ve=new pi(0,0,0,0);return{setMask:function(Fe){Pe!==Fe&&!de&&(e.colorMask(Fe,Fe,Fe,Fe),Pe=Fe)},setLocked:function(Fe){de=Fe},setClear:function(Fe,He,ke,qe,Ye){Ye===!0&&(Fe*=qe,He*=qe,ke*=qe),be.set(Fe,He,ke,qe),Ve.equals(be)===!1&&(e.clearColor(Fe,He,ke,qe),Ve.copy(be))},reset:function(){de=!1,Pe=null,Ve.set(-1,0,0,0)}}}function a(){let de=!1,be=null,Pe=null,Ve=null;return{setTest:function(Fe){Fe?ue(2929):te(2929)},setMask:function(Fe){be!==Fe&&!de&&(e.depthMask(Fe),be=Fe)},setFunc:function(Fe){if(Pe!==Fe){if(Fe)switch(Fe){case vne:e.depthFunc(512);break;case wne:e.depthFunc(519);break;case Ene:e.depthFunc(513);break;case Y4:e.depthFunc(515);break;case _ne:e.depthFunc(514);break;case xne:e.depthFunc(518);break;case Bne:e.depthFunc(516);break;case Rne:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);Pe=Fe}},setLocked:function(Fe){de=Fe},setClear:function(Fe){Ve!==Fe&&(e.clearDepth(Fe),Ve=Fe)},reset:function(){de=!1,be=null,Pe=null,Ve=null}}}function s(){let de=!1,be=null,Pe=null,Ve=null,Fe=null,He=null,ke=null,qe=null,Ye=null;return{setTest:function(We){de||(We?ue(2960):te(2960))},setMask:function(We){be!==We&&!de&&(e.stencilMask(We),be=We)},setFunc:function(We,mt,Qt){(Pe!==We||Ve!==mt||Fe!==Qt)&&(e.stencilFunc(We,mt,Qt),Pe=We,Ve=mt,Fe=Qt)},setOp:function(We,mt,Qt){(He!==We||ke!==mt||qe!==Qt)&&(e.stencilOp(We,mt,Qt),He=We,ke=mt,qe=Qt)},setLocked:function(We){de=We},setClear:function(We){Ye!==We&&(e.clearStencil(We),Ye=We)},reset:function(){de=!1,be=null,Pe=null,Ve=null,Fe=null,He=null,ke=null,qe=null,Ye=null}}}const o=new r,c=new a,A=new s;let l={},u=null,d=null,p=null,h=null,g=null,b=null,y=null,v=null,_=null,w=!1,E=null,B=null,R=null,G=null,C=null;const O=e.getParameter(35661);let I=!1,D=0;const k=e.getParameter(7938);k.indexOf("WebGL")!==-1?(D=parseFloat(/^WebGL\ ([0-9])/.exec(k)[1]),I=D>=1):k.indexOf("OpenGL ES")!==-1&&(D=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(k)[1]),I=D>=2);let L=null,T={};const H=new pi,W=new pi;function j(de,be,Pe){const Ve=new Uint8Array(4),Fe=e.createTexture();e.bindTexture(de,Fe),e.texParameteri(de,10241,9728),e.texParameteri(de,10240,9728);for(let He=0;He<Pe;He++)e.texImage2D(be+He,0,6408,1,1,0,6408,5121,Ve);return Fe}const ce={};ce[3553]=j(3553,3553,1),ce[34067]=j(34067,34069,6),o.setClear(0,0,0,1),c.setClear(1),A.setClear(0),ue(2929),c.setFunc(Y4),me(!1),pe(L6),ue(2884),ye(Xc);function ue(de){l[de]!==!0&&(e.enable(de),l[de]=!0)}function te(de){l[de]!==!1&&(e.disable(de),l[de]=!1)}function re(de){return u!==de?(e.useProgram(de),u=de,!0):!1}const ae={[Du]:32774,[Ane]:32778,[lne]:32779};if(i)ae[D6]=32775,ae[k6]=32776;else{const de=t.get("EXT_blend_minmax");de!==null&&(ae[D6]=de.MIN_EXT,ae[k6]=de.MAX_EXT)}const fe={[une]:0,[dne]:1,[pne]:768,[ZT]:770,[bne]:776,[yne]:774,[hne]:772,[fne]:769,[JT]:771,[gne]:775,[mne]:773};function ye(de,be,Pe,Ve,Fe,He,ke,qe){if(de===Xc){d&&(te(3042),d=!1);return}if(d||(ue(3042),d=!0),de!==cne){if(de!==p||qe!==w){if((h!==Du||y!==Du)&&(e.blendEquation(32774),h=Du,y=Du),qe)switch(de){case aA:e.blendFuncSeparate(1,771,1,771);break;case j4:e.blendFunc(1,1);break;case P6:e.blendFuncSeparate(0,0,769,771);break;case U6:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}else switch(de){case aA:e.blendFuncSeparate(770,771,1,771);break;case j4:e.blendFunc(770,1);break;case P6:e.blendFunc(0,769);break;case U6:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}g=null,b=null,v=null,_=null,p=de,w=qe}return}Fe=Fe||be,He=He||Pe,ke=ke||Ve,(be!==h||Fe!==y)&&(e.blendEquationSeparate(ae[be],ae[Fe]),h=be,y=Fe),(Pe!==g||Ve!==b||He!==v||ke!==_)&&(e.blendFuncSeparate(fe[Pe],fe[Ve],fe[He],fe[ke]),g=Pe,b=Ve,v=He,_=ke),p=de,w=null}function se(de,be){de.side===am?te(2884):ue(2884);let Pe=de.side===yr;be&&(Pe=!Pe),me(Pe),de.blending===aA&&de.transparent===!1?ye(Xc):ye(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.premultipliedAlpha),c.setFunc(de.depthFunc),c.setTest(de.depthTest),c.setMask(de.depthWrite),o.setMask(de.colorWrite);const Ve=de.stencilWrite;A.setTest(Ve),Ve&&(A.setMask(de.stencilWriteMask),A.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),A.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),ee(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits)}function me(de){E!==de&&(de?e.frontFace(2304):e.frontFace(2305),E=de)}function pe(de){de!==ane?(ue(2884),de!==B&&(de===L6?e.cullFace(1029):de===sne?e.cullFace(1028):e.cullFace(1032))):te(2884),B=de}function Ee(de){de!==R&&(I&&e.lineWidth(de),R=de)}function ee(de,be,Pe){de?(ue(32823),(G!==be||C!==Pe)&&(e.polygonOffset(be,Pe),G=be,C=Pe)):te(32823)}function ie(de){de?ue(3089):te(3089)}function oe(de){de===void 0&&(de=33984+O-1),L!==de&&(e.activeTexture(de),L=de)}function he(de,be){L===null&&oe();let Pe=T[L];Pe===void 0&&(Pe={type:void 0,texture:void 0},T[L]=Pe),(Pe.type!==de||Pe.texture!==be)&&(e.bindTexture(de,be||ce[de]),Pe.type=de,Pe.texture=be)}function Re(){const de=T[L];de!==void 0&&de.type!==void 0&&(e.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)}function Ge(){try{e.compressedTexImage2D.apply(e,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Le(){try{e.texImage2D.apply(e,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function K(){try{e.texImage3D.apply(e,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Z(de){H.equals(de)===!1&&(e.scissor(de.x,de.y,de.z,de.w),H.copy(de))}function Ce(de){W.equals(de)===!1&&(e.viewport(de.x,de.y,de.z,de.w),W.copy(de))}function ve(){l={},L=null,T={},u=null,p=null,E=null,B=null,o.reset(),c.reset(),A.reset()}return{buffers:{color:o,depth:c,stencil:A},enable:ue,disable:te,useProgram:re,setBlending:ye,setMaterial:se,setFlipSided:me,setCullFace:pe,setLineWidth:Ee,setPolygonOffset:ee,setScissorTest:ie,activeTexture:oe,bindTexture:he,unbindTexture:Re,compressedTexImage2D:Ge,texImage2D:Le,texImage3D:K,scissor:Z,viewport:Ce,reset:ve}}function zoe(e,t,n,i,r,a,s){const o=r.isWebGL2,c=r.maxTextures,A=r.maxCubemapSize,l=r.maxTextureSize,u=r.maxSamples,d=new WeakMap;let p,h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(K,Z){return h?new OffscreenCanvas(K,Z):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function b(K,Z,Ce,ve){let de=1;if((K.width>ve||K.height>ve)&&(de=ve/Math.max(K.width,K.height)),de<1||Z===!0)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap){const be=Z?_n.floorPowerOfTwo:Math.floor,Pe=be(de*K.width),Ve=be(de*K.height);p===void 0&&(p=g(Pe,Ve));const Fe=Ce?g(Pe,Ve):p;return Fe.width=Pe,Fe.height=Ve,Fe.getContext("2d").drawImage(K,0,0,Pe,Ve),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+K.width+"x"+K.height+") to ("+Pe+"x"+Ve+")."),Fe}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+K.width+"x"+K.height+")."),K;return K}function y(K){return _n.isPowerOfTwo(K.width)&&_n.isPowerOfTwo(K.height)}function v(K){return o?!1:K.wrapS!==Ta||K.wrapT!==Ta||K.minFilter!==hi&&K.minFilter!==ur}function _(K,Z){return K.generateMipmaps&&Z&&K.minFilter!==hi&&K.minFilter!==ur}function w(K,Z,Ce,ve){e.generateMipmap(K);const de=i.get(Z);de.__maxMipLevel=Math.log(Math.max(Ce,ve))*Math.LOG2E}function E(K,Z,Ce){if(o===!1)return Z;if(K!==null){if(e[K]!==void 0)return e[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let ve=Z;return Z===6403&&(Ce===5126&&(ve=33326),Ce===5131&&(ve=33325),Ce===5121&&(ve=33321)),Z===6407&&(Ce===5126&&(ve=34837),Ce===5131&&(ve=34843),Ce===5121&&(ve=32849)),Z===6408&&(Ce===5126&&(ve=34836),Ce===5131&&(ve=34842),Ce===5121&&(ve=32856)),(ve===33325||ve===33326||ve===34842||ve===34836)&&t.get("EXT_color_buffer_float"),ve}function B(K){return K===hi||K===q4||K===X4?9728:9729}function R(K){const Z=K.target;Z.removeEventListener("dispose",R),C(Z),Z.isVideoTexture&&d.delete(Z),s.memory.textures--}function G(K){const Z=K.target;Z.removeEventListener("dispose",G),O(Z),s.memory.textures--}function C(K){const Z=i.get(K);Z.__webglInit!==void 0&&(e.deleteTexture(Z.__webglTexture),i.remove(K))}function O(K){const Z=i.get(K),Ce=i.get(K.texture);if(!!K){if(Ce.__webglTexture!==void 0&&e.deleteTexture(Ce.__webglTexture),K.depthTexture&&K.depthTexture.dispose(),K.isWebGLCubeRenderTarget)for(let ve=0;ve<6;ve++)e.deleteFramebuffer(Z.__webglFramebuffer[ve]),Z.__webglDepthbuffer&&e.deleteRenderbuffer(Z.__webglDepthbuffer[ve]);else e.deleteFramebuffer(Z.__webglFramebuffer),Z.__webglDepthbuffer&&e.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&e.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer&&e.deleteRenderbuffer(Z.__webglColorRenderbuffer),Z.__webglDepthRenderbuffer&&e.deleteRenderbuffer(Z.__webglDepthRenderbuffer);i.remove(K.texture),i.remove(K)}}let I=0;function D(){I=0}function k(){const K=I;return K>=c&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+c),I+=1,K}function L(K,Z){const Ce=i.get(K);if(K.isVideoTexture&&oe(K),K.version>0&&Ce.__version!==K.version){const ve=K.image;if(ve===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(ve.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ae(Ce,K,Z);return}}n.activeTexture(33984+Z),n.bindTexture(3553,Ce.__webglTexture)}function T(K,Z){const Ce=i.get(K);if(K.version>0&&Ce.__version!==K.version){ae(Ce,K,Z);return}n.activeTexture(33984+Z),n.bindTexture(35866,Ce.__webglTexture)}function H(K,Z){const Ce=i.get(K);if(K.version>0&&Ce.__version!==K.version){ae(Ce,K,Z);return}n.activeTexture(33984+Z),n.bindTexture(32879,Ce.__webglTexture)}function W(K,Z){if(K.image.length!==6)return;const Ce=i.get(K);if(K.version>0&&Ce.__version!==K.version){re(Ce,K),n.activeTexture(33984+Z),n.bindTexture(34067,Ce.__webglTexture),e.pixelStorei(37440,K.flipY);const ve=K&&(K.isCompressedTexture||K.image[0].isCompressedTexture),de=K.image[0]&&K.image[0].isDataTexture,be=[];for(let Ye=0;Ye<6;Ye++)!ve&&!de?be[Ye]=b(K.image[Ye],!1,!0,A):be[Ye]=de?K.image[Ye].image:K.image[Ye];const Pe=be[0],Ve=y(Pe)||o,Fe=a.convert(K.format),He=a.convert(K.type),ke=E(K.internalFormat,Fe,He);te(34067,K,Ve);let qe;if(ve){for(let Ye=0;Ye<6;Ye++){qe=be[Ye].mipmaps;for(let We=0;We<qe.length;We++){const mt=qe[We];K.format!==Pa&&K.format!==pl?Fe!==null?n.compressedTexImage2D(34069+Ye,We,ke,mt.width,mt.height,0,mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+Ye,We,ke,mt.width,mt.height,0,Fe,He,mt.data)}}Ce.__maxMipLevel=qe.length-1}else{qe=K.mipmaps;for(let Ye=0;Ye<6;Ye++)if(de){n.texImage2D(34069+Ye,0,ke,be[Ye].width,be[Ye].height,0,Fe,He,be[Ye].data);for(let We=0;We<qe.length;We++){const Qt=qe[We].image[Ye].image;n.texImage2D(34069+Ye,We+1,ke,Qt.width,Qt.height,0,Fe,He,Qt.data)}}else{n.texImage2D(34069+Ye,0,ke,Fe,He,be[Ye]);for(let We=0;We<qe.length;We++){const mt=qe[We];n.texImage2D(34069+Ye,We+1,ke,Fe,He,mt.image[Ye])}}Ce.__maxMipLevel=qe.length}_(K,Ve)&&w(34067,K,Pe.width,Pe.height),Ce.__version=K.version,K.onUpdate&&K.onUpdate(K)}else n.activeTexture(33984+Z),n.bindTexture(34067,Ce.__webglTexture)}function j(K,Z){n.activeTexture(33984+Z),n.bindTexture(34067,i.get(K).__webglTexture)}const ce={[r3]:10497,[Ta]:33071,[a3]:33648},ue={[hi]:9728,[q4]:9984,[X4]:9986,[ur]:9729,[tF]:9985,[S2]:9987};function te(K,Z,Ce){Ce?(e.texParameteri(K,10242,ce[Z.wrapS]),e.texParameteri(K,10243,ce[Z.wrapT]),(K===32879||K===35866)&&e.texParameteri(K,32882,ce[Z.wrapR]),e.texParameteri(K,10240,ue[Z.magFilter]),e.texParameteri(K,10241,ue[Z.minFilter])):(e.texParameteri(K,10242,33071),e.texParameteri(K,10243,33071),(K===32879||K===35866)&&e.texParameteri(K,32882,33071),(Z.wrapS!==Ta||Z.wrapT!==Ta)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(K,10240,B(Z.magFilter)),e.texParameteri(K,10241,B(Z.minFilter)),Z.minFilter!==hi&&Z.minFilter!==ur&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const ve=t.get("EXT_texture_filter_anisotropic");if(ve){if(Z.type===Wc&&t.get("OES_texture_float_linear")===null||Z.type===o3&&(o||t.get("OES_texture_half_float_linear"))===null)return;(Z.anisotropy>1||i.get(Z).__currentAnisotropy)&&(e.texParameterf(K,ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,r.getMaxAnisotropy())),i.get(Z).__currentAnisotropy=Z.anisotropy)}}function re(K,Z){K.__webglInit===void 0&&(K.__webglInit=!0,Z.addEventListener("dispose",R),K.__webglTexture=e.createTexture(),s.memory.textures++)}function ae(K,Z,Ce){let ve=3553;Z.isDataTexture2DArray&&(ve=35866),Z.isDataTexture3D&&(ve=32879),re(K,Z),n.activeTexture(33984+Ce),n.bindTexture(ve,K.__webglTexture),e.pixelStorei(37440,Z.flipY),e.pixelStorei(37441,Z.premultiplyAlpha),e.pixelStorei(3317,Z.unpackAlignment);const de=v(Z)&&y(Z.image)===!1,be=b(Z.image,de,!1,l),Pe=y(be)||o,Ve=a.convert(Z.format);let Fe=a.convert(Z.type),He=E(Z.internalFormat,Ve,Fe);te(ve,Z,Pe);let ke;const qe=Z.mipmaps;if(Z.isDepthTexture)He=6402,o?Z.type===Wc?He=36012:Z.type===og?He=33190:Z.type===If?He=35056:He=33189:Z.type===Wc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Z.format===ld&&He===6402&&Z.type!==s3&&Z.type!==og&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Z.type=s3,Fe=a.convert(Z.type)),Z.format===ah&&He===6402&&(He=34041,Z.type!==If&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Z.type=If,Fe=a.convert(Z.type))),n.texImage2D(3553,0,He,be.width,be.height,0,Ve,Fe,null);else if(Z.isDataTexture)if(qe.length>0&&Pe){for(let Ye=0,We=qe.length;Ye<We;Ye++)ke=qe[Ye],n.texImage2D(3553,Ye,He,ke.width,ke.height,0,Ve,Fe,ke.data);Z.generateMipmaps=!1,K.__maxMipLevel=qe.length-1}else n.texImage2D(3553,0,He,be.width,be.height,0,Ve,Fe,be.data),K.__maxMipLevel=0;else if(Z.isCompressedTexture){for(let Ye=0,We=qe.length;Ye<We;Ye++)ke=qe[Ye],Z.format!==Pa&&Z.format!==pl?Ve!==null?n.compressedTexImage2D(3553,Ye,He,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,Ye,He,ke.width,ke.height,0,Ve,Fe,ke.data);K.__maxMipLevel=qe.length-1}else if(Z.isDataTexture2DArray)n.texImage3D(35866,0,He,be.width,be.height,be.depth,0,Ve,Fe,be.data),K.__maxMipLevel=0;else if(Z.isDataTexture3D)n.texImage3D(32879,0,He,be.width,be.height,be.depth,0,Ve,Fe,be.data),K.__maxMipLevel=0;else if(qe.length>0&&Pe){for(let Ye=0,We=qe.length;Ye<We;Ye++)ke=qe[Ye],n.texImage2D(3553,Ye,He,Ve,Fe,ke);Z.generateMipmaps=!1,K.__maxMipLevel=qe.length-1}else n.texImage2D(3553,0,He,Ve,Fe,be),K.__maxMipLevel=0;_(Z,Pe)&&w(ve,Z,be.width,be.height),K.__version=Z.version,Z.onUpdate&&Z.onUpdate(Z)}function fe(K,Z,Ce,ve){const de=a.convert(Z.texture.format),be=a.convert(Z.texture.type),Pe=E(Z.texture.internalFormat,de,be);n.texImage2D(ve,0,Pe,Z.width,Z.height,0,de,be,null),e.bindFramebuffer(36160,K),e.framebufferTexture2D(36160,Ce,ve,i.get(Z.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function ye(K,Z,Ce){if(e.bindRenderbuffer(36161,K),Z.depthBuffer&&!Z.stencilBuffer){let ve=33189;if(Ce){const de=Z.depthTexture;de&&de.isDepthTexture&&(de.type===Wc?ve=36012:de.type===og&&(ve=33190));const be=ie(Z);e.renderbufferStorageMultisample(36161,be,ve,Z.width,Z.height)}else e.renderbufferStorage(36161,ve,Z.width,Z.height);e.framebufferRenderbuffer(36160,36096,36161,K)}else if(Z.depthBuffer&&Z.stencilBuffer){if(Ce){const ve=ie(Z);e.renderbufferStorageMultisample(36161,ve,35056,Z.width,Z.height)}else e.renderbufferStorage(36161,34041,Z.width,Z.height);e.framebufferRenderbuffer(36160,33306,36161,K)}else{const ve=a.convert(Z.texture.format),de=a.convert(Z.texture.type),be=E(Z.texture.internalFormat,ve,de);if(Ce){const Pe=ie(Z);e.renderbufferStorageMultisample(36161,Pe,be,Z.width,Z.height)}else e.renderbufferStorage(36161,be,Z.width,Z.height)}e.bindRenderbuffer(36161,null)}function se(K,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,K),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(Z.depthTexture).__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),L(Z.depthTexture,0);const ve=i.get(Z.depthTexture).__webglTexture;if(Z.depthTexture.format===ld)e.framebufferTexture2D(36160,36096,3553,ve,0);else if(Z.depthTexture.format===ah)e.framebufferTexture2D(36160,33306,3553,ve,0);else throw new Error("Unknown depthTexture format")}function me(K){const Z=i.get(K),Ce=K.isWebGLCubeRenderTarget===!0;if(K.depthTexture){if(Ce)throw new Error("target.depthTexture not supported in Cube render targets");se(Z.__webglFramebuffer,K)}else if(Ce){Z.__webglDepthbuffer=[];for(let ve=0;ve<6;ve++)e.bindFramebuffer(36160,Z.__webglFramebuffer[ve]),Z.__webglDepthbuffer[ve]=e.createRenderbuffer(),ye(Z.__webglDepthbuffer[ve],K,!1)}else e.bindFramebuffer(36160,Z.__webglFramebuffer),Z.__webglDepthbuffer=e.createRenderbuffer(),ye(Z.__webglDepthbuffer,K,!1);e.bindFramebuffer(36160,null)}function pe(K){const Z=i.get(K),Ce=i.get(K.texture);K.addEventListener("dispose",G),Ce.__webglTexture=e.createTexture(),s.memory.textures++;const ve=K.isWebGLCubeRenderTarget===!0,de=K.isWebGLMultisampleRenderTarget===!0,be=y(K)||o;if(o&&K.texture.format===pl&&(K.texture.type===Wc||K.texture.type===o3)&&(K.texture.format=Pa,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),ve){Z.__webglFramebuffer=[];for(let Pe=0;Pe<6;Pe++)Z.__webglFramebuffer[Pe]=e.createFramebuffer()}else if(Z.__webglFramebuffer=e.createFramebuffer(),de)if(o){Z.__webglMultisampledFramebuffer=e.createFramebuffer(),Z.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,Z.__webglColorRenderbuffer);const Pe=a.convert(K.texture.format),Ve=a.convert(K.texture.type),Fe=E(K.texture.internalFormat,Pe,Ve),He=ie(K);e.renderbufferStorageMultisample(36161,He,Fe,K.width,K.height),e.bindFramebuffer(36160,Z.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,Z.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),K.depthBuffer&&(Z.__webglDepthRenderbuffer=e.createRenderbuffer(),ye(Z.__webglDepthRenderbuffer,K,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ve){n.bindTexture(34067,Ce.__webglTexture),te(34067,K.texture,be);for(let Pe=0;Pe<6;Pe++)fe(Z.__webglFramebuffer[Pe],K,36064,34069+Pe);_(K.texture,be)&&w(34067,K.texture,K.width,K.height),n.bindTexture(34067,null)}else n.bindTexture(3553,Ce.__webglTexture),te(3553,K.texture,be),fe(Z.__webglFramebuffer,K,36064,3553),_(K.texture,be)&&w(3553,K.texture,K.width,K.height),n.bindTexture(3553,null);K.depthBuffer&&me(K)}function Ee(K){const Z=K.texture,Ce=y(K)||o;if(_(Z,Ce)){const ve=K.isWebGLCubeRenderTarget?34067:3553,de=i.get(Z).__webglTexture;n.bindTexture(ve,de),w(ve,Z,K.width,K.height),n.bindTexture(ve,null)}}function ee(K){if(K.isWebGLMultisampleRenderTarget)if(o){const Z=i.get(K);e.bindFramebuffer(36008,Z.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,Z.__webglFramebuffer);const Ce=K.width,ve=K.height;let de=16384;K.depthBuffer&&(de|=256),K.stencilBuffer&&(de|=1024),e.blitFramebuffer(0,0,Ce,ve,0,0,Ce,ve,de,9728),e.bindFramebuffer(36160,Z.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function ie(K){return o&&K.isWebGLMultisampleRenderTarget?Math.min(u,K.samples):0}function oe(K){const Z=s.render.frame;d.get(K)!==Z&&(d.set(K,Z),K.update())}let he=!1,Re=!1;function Ge(K,Z){K&&K.isWebGLRenderTarget&&(he===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),he=!0),K=K.texture),L(K,Z)}function Le(K,Z){K&&K.isWebGLCubeRenderTarget&&(Re===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Re=!0),K=K.texture),K&&K.isCubeTexture||Array.isArray(K.image)&&K.image.length===6?W(K,Z):j(K,Z)}this.allocateTextureUnit=k,this.resetTextureUnits=D,this.setTexture2D=L,this.setTexture2DArray=T,this.setTexture3D=H,this.setTextureCube=W,this.setTextureCubeDynamic=j,this.setupRenderTarget=pe,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=ee,this.safeSetTexture2D=Ge,this.safeSetTextureCube=Le}function Voe(e,t,n){const i=n.isWebGL2;function r(a){let s;if(a===_l)return 5121;if(a===Une)return 32819;if(a===Dne)return 32820;if(a===kne)return 33635;if(a===Ine)return 5120;if(a===Lne)return 5122;if(a===s3)return 5123;if(a===Pne)return 5124;if(a===og)return 5125;if(a===Wc)return 5126;if(a===o3)return i?5131:(s=t.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(a===One)return 6406;if(a===pl)return 6407;if(a===Pa)return 6408;if(a===Hne)return 6409;if(a===Qne)return 6410;if(a===ld)return 6402;if(a===ah)return 34041;if(a===Vne)return 6403;if(a===Kne)return 36244;if(a===Wne)return 33319;if(a===$ne)return 33320;if(a===jne)return 36248;if(a===Yne)return 36249;if(a===O6||a===H6||a===Q6||a===z6)if(s=t.get("WEBGL_compressed_texture_s3tc"),s!==null){if(a===O6)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===H6)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===Q6)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===z6)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===V6||a===K6||a===W6||a===$6)if(s=t.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(a===V6)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===K6)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===W6)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===$6)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===qne)return s=t.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if((a===j6||a===Y6)&&(s=t.get("WEBGL_compressed_texture_etc"),s!==null)){if(a===j6)return s.COMPRESSED_RGB8_ETC2;if(a===Y6)return s.COMPRESSED_RGBA8_ETC2_EAC}if(a===Xne||a===Zne||a===Jne||a===eie||a===tie||a===nie||a===iie||a===rie||a===aie||a===sie||a===oie||a===cie||a===Aie||a===lie||a===die||a===pie||a===fie||a===hie||a===mie||a===yie||a===gie||a===bie||a===vie||a===wie||a===Eie||a===_ie||a===xie||a===Bie)return s=t.get("WEBGL_compressed_texture_astc"),s!==null?a:null;if(a===uie)return s=t.get("EXT_texture_compression_bptc"),s!==null?a:null;if(a===If)return i?34042:(s=t.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}function a_(e){Ar.call(this),this.cameras=e||[]}a_.prototype=Object.assign(Object.create(Ar.prototype),{constructor:a_,isArrayCamera:!0});function ui(){Bt.call(this),this.type="Group"}ui.prototype=Object.assign(Object.create(Bt.prototype),{constructor:ui,isGroup:!0});function u3(){this._targetRay=null,this._grip=null}Object.assign(u3.prototype,{constructor:u3,getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new ui,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new ui,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this},update:function(e,t,n){let i=null,r=null;const a=this._targetRay,s=this._grip;return e&&(a!==null&&(i=t.getPose(e.targetRaySpace,n),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale))),s!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)))),a!==null&&(a.visible=i!==null),s!==null&&(s.visible=r!==null),this}});function bF(e,t){const n=this;let i=null,r=1,a=null,s="local-floor",o=null;const c=[],A=new Map,l=new Ar;l.layers.enable(1),l.viewport=new pi;const u=new Ar;u.layers.enable(2),u.viewport=new pi;const d=[l,u],p=new a_;p.layers.enable(1),p.layers.enable(2);let h=null,g=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(I){let D=c[I];return D===void 0&&(D=new u3,c[I]=D),D.getTargetRaySpace()},this.getControllerGrip=function(I){let D=c[I];return D===void 0&&(D=new u3,c[I]=D),D.getGripSpace()};function b(I){const D=A.get(I.inputSource);D&&D.dispatchEvent({type:I.type})}function y(){A.forEach(function(I,D){I.disconnect(D)}),A.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),O.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function v(I){a=I,O.setContext(i),O.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(I){r=I,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(I){s=I,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return i},this.setSession=function(I){if(i=I,i!==null){i.addEventListener("select",b),i.addEventListener("selectstart",b),i.addEventListener("selectend",b),i.addEventListener("squeeze",b),i.addEventListener("squeezestart",b),i.addEventListener("squeezeend",b),i.addEventListener("end",y);const D=t.getContextAttributes();D.xrCompatible!==!0&&t.makeXRCompatible();const k={antialias:D.antialias,alpha:D.alpha,depth:D.depth,stencil:D.stencil,framebufferScaleFactor:r},L=new XRWebGLLayer(i,t,k);i.updateRenderState({baseLayer:L}),i.requestReferenceSpace(s).then(v),i.addEventListener("inputsourceschange",_)}};function _(I){const D=i.inputSources;for(let k=0;k<c.length;k++)A.set(D[k],c[k]);for(let k=0;k<I.removed.length;k++){const L=I.removed[k],T=A.get(L);T&&(T.dispatchEvent({type:"disconnected",data:L}),A.delete(L))}for(let k=0;k<I.added.length;k++){const L=I.added[k],T=A.get(L);T&&T.dispatchEvent({type:"connected",data:L})}}const w=new P,E=new P;function B(I,D,k){w.setFromMatrixPosition(D.matrixWorld),E.setFromMatrixPosition(k.matrixWorld);const L=w.distanceTo(E),T=D.projectionMatrix.elements,H=k.projectionMatrix.elements,W=T[14]/(T[10]-1),j=T[14]/(T[10]+1),ce=(T[9]+1)/T[5],ue=(T[9]-1)/T[5],te=(T[8]-1)/T[0],re=(H[8]+1)/H[0],ae=W*te,fe=W*re,ye=L/(-te+re),se=ye*-te;D.matrixWorld.decompose(I.position,I.quaternion,I.scale),I.translateX(se),I.translateZ(ye),I.matrixWorld.compose(I.position,I.quaternion,I.scale),I.matrixWorldInverse.getInverse(I.matrixWorld);const me=W+ye,pe=j+ye,Ee=ae-se,ee=fe+(L-se),ie=ce*j/pe*me,oe=ue*j/pe*me;I.projectionMatrix.makePerspective(Ee,ee,ie,oe,me,pe)}function R(I,D){D===null?I.matrixWorld.copy(I.matrix):I.matrixWorld.multiplyMatrices(D.matrixWorld,I.matrix),I.matrixWorldInverse.getInverse(I.matrixWorld)}this.getCamera=function(I){p.near=u.near=l.near=I.near,p.far=u.far=l.far=I.far,(h!==p.near||g!==p.far)&&(i.updateRenderState({depthNear:p.near,depthFar:p.far}),h=p.near,g=p.far);const D=I.parent,k=p.cameras;R(p,D);for(let T=0;T<k.length;T++)R(k[T],D);I.matrixWorld.copy(p.matrixWorld);const L=I.children;for(let T=0,H=L.length;T<H;T++)L[T].updateMatrixWorld(!0);return k.length===2?B(p,l,u):p.projectionMatrix.copy(l.projectionMatrix),p};let G=null;function C(I,D){if(o=D.getViewerPose(a),o!==null){const L=o.views,T=i.renderState.baseLayer;e.setFramebuffer(T.framebuffer);let H=!1;L.length!==p.cameras.length&&(p.cameras.length=0,H=!0);for(let W=0;W<L.length;W++){const j=L[W],ce=T.getViewport(j),ue=d[W];ue.matrix.fromArray(j.transform.matrix),ue.projectionMatrix.fromArray(j.projectionMatrix),ue.viewport.set(ce.x,ce.y,ce.width,ce.height),W===0&&p.matrix.copy(ue.matrix),H===!0&&p.cameras.push(ue)}}const k=i.inputSources;for(let L=0;L<c.length;L++){const T=c[L],H=k[L];T.update(H,D,a)}G&&G(I,D)}const O=new lF;O.setAnimationLoop(C),this.setAnimationLoop=function(I){G=I},this.dispose=function(){}}Object.assign(bF.prototype,h0.prototype);function Koe(e){function t(y,v){y.fogColor.value.copy(v.color),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function n(y,v,_,w,E){v.isMeshBasicMaterial?i(y,v):v.isMeshLambertMaterial?(i(y,v),c(y,v)):v.isMeshToonMaterial?(i(y,v),l(y,v)):v.isMeshPhongMaterial?(i(y,v),A(y,v)):v.isMeshStandardMaterial?(i(y,v,_),v.isMeshPhysicalMaterial?d(y,v,_):u(y,v,_)):v.isMeshMatcapMaterial?(i(y,v),p(y,v)):v.isMeshDepthMaterial?(i(y,v),h(y,v)):v.isMeshDistanceMaterial?(i(y,v),g(y,v)):v.isMeshNormalMaterial?(i(y,v),b(y,v)):v.isLineBasicMaterial?(r(y,v),v.isLineDashedMaterial&&a(y,v)):v.isPointsMaterial?s(y,v,w,E):v.isSpriteMaterial?o(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function i(y,v,_){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map),v.alphaMap&&(y.alphaMap.value=v.alphaMap),v.specularMap&&(y.specularMap.value=v.specularMap);const w=v.envMap||_;w&&(y.envMap.value=w,y.flipEnvMap.value=w.isCubeTexture?-1:1,y.reflectivity.value=v.reflectivity,y.refractionRatio.value=v.refractionRatio,y.maxMipLevel.value=e.get(w).__maxMipLevel),v.lightMap&&(y.lightMap.value=v.lightMap,y.lightMapIntensity.value=v.lightMapIntensity),v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity);let E;v.map?E=v.map:v.specularMap?E=v.specularMap:v.displacementMap?E=v.displacementMap:v.normalMap?E=v.normalMap:v.bumpMap?E=v.bumpMap:v.roughnessMap?E=v.roughnessMap:v.metalnessMap?E=v.metalnessMap:v.alphaMap?E=v.alphaMap:v.emissiveMap&&(E=v.emissiveMap),E!==void 0&&(E.isWebGLRenderTarget&&(E=E.texture),E.matrixAutoUpdate===!0&&E.updateMatrix(),y.uvTransform.value.copy(E.matrix));let B;v.aoMap?B=v.aoMap:v.lightMap&&(B=v.lightMap),B!==void 0&&(B.isWebGLRenderTarget&&(B=B.texture),B.matrixAutoUpdate===!0&&B.updateMatrix(),y.uv2Transform.value.copy(B.matrix))}function r(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity}function a(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function s(y,v,_,w){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*_,y.scale.value=w*.5,v.map&&(y.map.value=v.map),v.alphaMap&&(y.alphaMap.value=v.alphaMap);let E;v.map?E=v.map:v.alphaMap&&(E=v.alphaMap),E!==void 0&&(E.matrixAutoUpdate===!0&&E.updateMatrix(),y.uvTransform.value.copy(E.matrix))}function o(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map),v.alphaMap&&(y.alphaMap.value=v.alphaMap);let _;v.map?_=v.map:v.alphaMap&&(_=v.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),y.uvTransform.value.copy(_.matrix))}function c(y,v){v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap)}function A(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap),v.bumpMap&&(y.bumpMap.value=v.bumpMap,y.bumpScale.value=v.bumpScale,v.side===yr&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,y.normalScale.value.copy(v.normalScale),v.side===yr&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias)}function l(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap),v.bumpMap&&(y.bumpMap.value=v.bumpMap,y.bumpScale.value=v.bumpScale,v.side===yr&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,y.normalScale.value.copy(v.normalScale),v.side===yr&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias)}function u(y,v,_){y.roughness.value=v.roughness,y.metalness.value=v.metalness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap),v.bumpMap&&(y.bumpMap.value=v.bumpMap,y.bumpScale.value=v.bumpScale,v.side===yr&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,y.normalScale.value.copy(v.normalScale),v.side===yr&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),(v.envMap||_)&&(y.envMapIntensity.value=v.envMapIntensity)}function d(y,v,_){u(y,v,_),y.reflectivity.value=v.reflectivity,y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.sheen&&y.sheen.value.copy(v.sheen),v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),y.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===yr&&y.clearcoatNormalScale.value.negate()),y.transparency.value=v.transparency}function p(y,v){v.matcap&&(y.matcap.value=v.matcap),v.bumpMap&&(y.bumpMap.value=v.bumpMap,y.bumpScale.value=v.bumpScale,v.side===yr&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,y.normalScale.value.copy(v.normalScale),v.side===yr&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias)}function h(y,v){v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias)}function g(y,v){v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),y.referencePosition.value.copy(v.referencePosition),y.nearDistance.value=v.nearDistance,y.farDistance.value=v.farDistance}function b(y,v){v.bumpMap&&(y.bumpMap.value=v.bumpMap,y.bumpScale.value=v.bumpScale,v.side===yr&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,y.normalScale.value.copy(v.normalScale),v.side===yr&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function lm(e){e=e||{};const t=e.canvas!==void 0?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=e.context!==void 0?e.context:null,i=e.alpha!==void 0?e.alpha:!1,r=e.depth!==void 0?e.depth:!0,a=e.stencil!==void 0?e.stencil:!0,s=e.antialias!==void 0?e.antialias:!1,o=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,c=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,A=e.powerPreference!==void 0?e.powerPreference:"default",l=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let u=null,d=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=ea,this.physicallyCorrectLights=!1,this.toneMapping=Ad,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const p=this;let h=!1,g=null,b=0,y=0,v=null,_=null,w=-1,E=null,B=null;const R=new pi,G=new pi;let C=null,O=t.width,I=t.height,D=1,k=null,L=null;const T=new pi(0,0,O,I),H=new pi(0,0,O,I);let W=!1;const j=new Am,ce=new Ese;let ue=!1,te=!1;const re=new st,ae=new P,fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ye(){return v===null?D:1}let se=n;function me(Ae,ze){for(let Ue=0;Ue<Ae.length;Ue++){const S=Ae[Ue],U=t.getContext(S,ze);if(U!==null)return U}return null}try{const Ae={alpha:i,depth:r,stencil:a,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:c,powerPreference:A,failIfMajorPerformanceCaveat:l};if(t.addEventListener("webglcontextlost",We,!1),t.addEventListener("webglcontextrestored",mt,!1),se===null){const ze=["webgl2","webgl","experimental-webgl"];if(p.isWebGL1Renderer===!0&&ze.shift(),se=me(ze,Ae),se===null)throw me(ze)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}se.getShaderPrecisionFormat===void 0&&(se.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ae){throw console.error("THREE.WebGLRenderer: "+Ae.message),Ae}let pe,Ee,ee,ie,oe,he,Re,Ge,Le,K,Z,Ce,ve,de,be,Pe,Ve,Fe,He;function ke(){pe=new _se(se),Ee=new wse(se,pe,e),Ee.isWebGL2===!1&&(pe.get("WEBGL_depth_texture"),pe.get("OES_texture_float"),pe.get("OES_texture_half_float"),pe.get("OES_texture_half_float_linear"),pe.get("OES_standard_derivatives"),pe.get("OES_element_index_uint"),pe.get("OES_vertex_array_object"),pe.get("ANGLE_instanced_arrays")),pe.get("OES_texture_float_linear"),Fe=new Voe(se,pe,Ee),ee=new Qoe(se,pe,Ee),ee.scissor(G.copy(H).multiplyScalar(D).floor()),ee.viewport(R.copy(T).multiplyScalar(D).floor()),ie=new Rse,oe=new Goe,he=new zoe(se,pe,ee,oe,Ee,Fe,ie),Re=new Zie(se,Ee),He=new bse(se,pe,Re,Ee),Ge=new xse(se,Re,ie,He),Le=new Gse(se,Ge,Re,ie),be=new Sse(se),K=new Soe(p,pe,Ee,He),Z=new Koe(oe),Ce=new Foe,ve=new koe,de=new gse(p,ee,Le,o),Pe=new vse(se,pe,ie,Ee),Ve=new Bse(se,pe,ie,Ee),ie.programs=K.programs,p.capabilities=Ee,p.extensions=pe,p.properties=oe,p.renderLists=Ce,p.state=ee,p.info=ie}ke();const qe=new bF(p,se);this.xr=qe;const Ye=new gF(p,Le,Ee.maxTextureSize);this.shadowMap=Ye,this.getContext=function(){return se},this.getContextAttributes=function(){return se.getContextAttributes()},this.forceContextLoss=function(){const Ae=pe.get("WEBGL_lose_context");Ae&&Ae.loseContext()},this.forceContextRestore=function(){const Ae=pe.get("WEBGL_lose_context");Ae&&Ae.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(Ae){Ae!==void 0&&(D=Ae,this.setSize(O,I,!1))},this.getSize=function(Ae){return Ae===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),Ae=new et),Ae.set(O,I)},this.setSize=function(Ae,ze,Ue){if(qe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=Ae,I=ze,t.width=Math.floor(Ae*D),t.height=Math.floor(ze*D),Ue!==!1&&(t.style.width=Ae+"px",t.style.height=ze+"px"),this.setViewport(0,0,Ae,ze)},this.getDrawingBufferSize=function(Ae){return Ae===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),Ae=new et),Ae.set(O*D,I*D).floor()},this.setDrawingBufferSize=function(Ae,ze,Ue){O=Ae,I=ze,D=Ue,t.width=Math.floor(Ae*Ue),t.height=Math.floor(ze*Ue),this.setViewport(0,0,Ae,ze)},this.getCurrentViewport=function(Ae){return Ae===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),Ae=new pi),Ae.copy(R)},this.getViewport=function(Ae){return Ae.copy(T)},this.setViewport=function(Ae,ze,Ue,S){Ae.isVector4?T.set(Ae.x,Ae.y,Ae.z,Ae.w):T.set(Ae,ze,Ue,S),ee.viewport(R.copy(T).multiplyScalar(D).floor())},this.getScissor=function(Ae){return Ae.copy(H)},this.setScissor=function(Ae,ze,Ue,S){Ae.isVector4?H.set(Ae.x,Ae.y,Ae.z,Ae.w):H.set(Ae,ze,Ue,S),ee.scissor(G.copy(H).multiplyScalar(D).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(Ae){ee.setScissorTest(W=Ae)},this.setOpaqueSort=function(Ae){k=Ae},this.setTransparentSort=function(Ae){L=Ae},this.getClearColor=function(){return de.getClearColor()},this.setClearColor=function(){de.setClearColor.apply(de,arguments)},this.getClearAlpha=function(){return de.getClearAlpha()},this.setClearAlpha=function(){de.setClearAlpha.apply(de,arguments)},this.clear=function(Ae,ze,Ue){let S=0;(Ae===void 0||Ae)&&(S|=16384),(ze===void 0||ze)&&(S|=256),(Ue===void 0||Ue)&&(S|=1024),se.clear(S)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",We,!1),t.removeEventListener("webglcontextrestored",mt,!1),Ce.dispose(),ve.dispose(),oe.dispose(),Le.dispose(),He.dispose(),qe.dispose(),ot.stop()};function We(Ae){Ae.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),h=!0}function mt(){console.log("THREE.WebGLRenderer: Context Restored."),h=!1,ke()}function Qt(Ae){const ze=Ae.target;ze.removeEventListener("dispose",Qt),Dt(ze)}function Dt(Ae){Me(Ae),oe.remove(Ae)}function Me(Ae){const ze=oe.get(Ae).program;Ae.program=void 0,ze!==void 0&&K.releaseProgram(ze)}function it(Ae,ze){Ae.render(function(Ue){p.renderBufferImmediate(Ue,ze)})}this.renderBufferImmediate=function(Ae,ze){He.initAttributes();const Ue=oe.get(Ae);Ae.hasPositions&&!Ue.position&&(Ue.position=se.createBuffer()),Ae.hasNormals&&!Ue.normal&&(Ue.normal=se.createBuffer()),Ae.hasUvs&&!Ue.uv&&(Ue.uv=se.createBuffer()),Ae.hasColors&&!Ue.color&&(Ue.color=se.createBuffer());const S=ze.getAttributes();Ae.hasPositions&&(se.bindBuffer(34962,Ue.position),se.bufferData(34962,Ae.positionArray,35048),He.enableAttribute(S.position),se.vertexAttribPointer(S.position,3,5126,!1,0,0)),Ae.hasNormals&&(se.bindBuffer(34962,Ue.normal),se.bufferData(34962,Ae.normalArray,35048),He.enableAttribute(S.normal),se.vertexAttribPointer(S.normal,3,5126,!1,0,0)),Ae.hasUvs&&(se.bindBuffer(34962,Ue.uv),se.bufferData(34962,Ae.uvArray,35048),He.enableAttribute(S.uv),se.vertexAttribPointer(S.uv,2,5126,!1,0,0)),Ae.hasColors&&(se.bindBuffer(34962,Ue.color),se.bufferData(34962,Ae.colorArray,35048),He.enableAttribute(S.color),se.vertexAttribPointer(S.color,3,5126,!1,0,0)),He.disableUnusedAttributes(),se.drawArrays(4,0,Ae.count),Ae.count=0},this.renderBufferDirect=function(Ae,ze,Ue,S,U,Q){ze===null&&(ze=fe);const Y=U.isMesh&&U.matrixWorld.determinant()<0,q=ct(Ae,ze,S,U);ee.setMaterial(S,Y);let le=Ue.index;const ge=Ue.attributes.position;if(le===null){if(ge===void 0||ge.count===0)return}else if(le.count===0)return;let Be=1;S.wireframe===!0&&(le=Ge.getWireframeAttribute(Ue),Be=2),(S.morphTargets||S.morphNormals)&&be.update(U,Ue,S,q),He.setup(U,S,q,Ue,le);let Ke,Qe=Pe;le!==null&&(Ke=Re.get(le),Qe=Ve,Qe.setIndex(Ke));const Ze=le!==null?le.count:ge.count,gt=Ue.drawRange.start*Be,tt=Ue.drawRange.count*Be,nt=Q!==null?Q.start*Be:0,ht=Q!==null?Q.count*Be:1/0,Lt=Math.max(gt,nt),Ot=Math.min(Ze,gt+tt,nt+ht)-1,Pt=Math.max(0,Ot-Lt+1);if(Pt!==0){if(U.isMesh)S.wireframe===!0?(ee.setLineWidth(S.wireframeLinewidth*ye()),Qe.setMode(1)):Qe.setMode(4);else if(U.isLine){let ei=S.linewidth;ei===void 0&&(ei=1),ee.setLineWidth(ei*ye()),U.isLineSegments?Qe.setMode(1):U.isLineLoop?Qe.setMode(2):Qe.setMode(3)}else U.isPoints?Qe.setMode(0):U.isSprite&&Qe.setMode(4);if(U.isInstancedMesh)Qe.renderInstances(Ue,Lt,Pt,U.count);else if(Ue.isInstancedBufferGeometry){const ei=Math.min(Ue.instanceCount,Ue._maxInstanceCount);Qe.renderInstances(Ue,Lt,Pt,ei)}else Qe.render(Lt,Pt)}},this.compile=function(Ae,ze){d=ve.get(Ae,ze),d.init(),Ae.traverse(function(S){S.isLight&&(d.pushLight(S),S.castShadow&&d.pushShadow(S))}),d.setupLights(ze);const Ue=new WeakMap;Ae.traverse(function(S){let U=S.material;if(U)if(Array.isArray(U))for(let Q=0;Q<U.length;Q++){let Y=U[Q];Ue.has(Y)===!1&&(en(Y,Ae,S),Ue.set(Y))}else Ue.has(U)===!1&&(en(U,Ae,S),Ue.set(U))})};let ut=null;function vt(Ae){qe.isPresenting||ut&&ut(Ae)}const ot=new lF;ot.setAnimationLoop(vt),typeof window<"u"&&ot.setContext(window),this.setAnimationLoop=function(Ae){ut=Ae,qe.setAnimationLoop(Ae),Ae===null?ot.stop():ot.start()},this.render=function(Ae,ze){let Ue,S;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Ue=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),S=arguments[3]),ze!==void 0&&ze.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(h===!0)return;He.resetDefaultState(),w=-1,E=null,Ae.autoUpdate===!0&&Ae.updateMatrixWorld(),ze.parent===null&&ze.updateMatrixWorld(),qe.enabled===!0&&qe.isPresenting===!0&&(ze=qe.getCamera(ze)),Ae.isScene===!0&&Ae.onBeforeRender(p,Ae,ze,Ue||v),d=ve.get(Ae,ze),d.init(),re.multiplyMatrices(ze.projectionMatrix,ze.matrixWorldInverse),j.setFromProjectionMatrix(re),te=this.localClippingEnabled,ue=ce.init(this.clippingPlanes,te,ze),u=Ce.get(Ae,ze),u.init(),Ht(Ae,ze,0,p.sortObjects),u.finish(),p.sortObjects===!0&&u.sort(k,L),ue===!0&&ce.beginShadows();const U=d.state.shadowsArray;Ye.render(U,Ae,ze),d.setupLights(ze),ue===!0&&ce.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ue!==void 0&&this.setRenderTarget(Ue),de.render(u,Ae,ze,S);const Q=u.opaque,Y=u.transparent;Q.length>0&&Et(Q,Ae,ze),Y.length>0&&Et(Y,Ae,ze),Ae.isScene===!0&&Ae.onAfterRender(p,Ae,ze),v!==null&&(he.updateRenderTargetMipmap(v),he.updateMultisampleRenderTarget(v)),ee.buffers.depth.setTest(!0),ee.buffers.depth.setMask(!0),ee.buffers.color.setMask(!0),ee.setPolygonOffset(!1),u=null,d=null};function Ht(Ae,ze,Ue,S){if(Ae.visible===!1)return;if(Ae.layers.test(ze.layers)){if(Ae.isGroup)Ue=Ae.renderOrder;else if(Ae.isLOD)Ae.autoUpdate===!0&&Ae.update(ze);else if(Ae.isLight)d.pushLight(Ae),Ae.castShadow&&d.pushShadow(Ae);else if(Ae.isSprite){if(!Ae.frustumCulled||j.intersectsSprite(Ae)){S&&ae.setFromMatrixPosition(Ae.matrixWorld).applyMatrix4(re);const Y=Le.update(Ae),q=Ae.material;q.visible&&u.push(Ae,Y,q,Ue,ae.z,null)}}else if(Ae.isImmediateRenderObject)S&&ae.setFromMatrixPosition(Ae.matrixWorld).applyMatrix4(re),u.push(Ae,null,Ae.material,Ue,ae.z,null);else if((Ae.isMesh||Ae.isLine||Ae.isPoints)&&(Ae.isSkinnedMesh&&Ae.skeleton.frame!==ie.render.frame&&(Ae.skeleton.update(),Ae.skeleton.frame=ie.render.frame),!Ae.frustumCulled||j.intersectsObject(Ae))){S&&ae.setFromMatrixPosition(Ae.matrixWorld).applyMatrix4(re);const Y=Le.update(Ae),q=Ae.material;if(Array.isArray(q)){const le=Y.groups;for(let ge=0,Be=le.length;ge<Be;ge++){const Ke=le[ge],Qe=q[Ke.materialIndex];Qe&&Qe.visible&&u.push(Ae,Y,Qe,Ue,ae.z,Ke)}}else q.visible&&u.push(Ae,Y,q,Ue,ae.z,null)}}const Q=Ae.children;for(let Y=0,q=Q.length;Y<q;Y++)Ht(Q[Y],ze,Ue,S)}function Et(Ae,ze,Ue){const S=ze.isScene===!0?ze.overrideMaterial:null;for(let U=0,Q=Ae.length;U<Q;U++){const Y=Ae[U],q=Y.object,le=Y.geometry,ge=S===null?Y.material:S,Be=Y.group;if(Ue.isArrayCamera){B=Ue;const Ke=Ue.cameras;for(let Qe=0,Ze=Ke.length;Qe<Ze;Qe++){const gt=Ke[Qe];q.layers.test(gt.layers)&&(ee.viewport(R.copy(gt.viewport)),d.setupLights(gt),bt(q,ze,gt,le,ge,Be))}}else B=null,bt(q,ze,Ue,le,ge,Be)}}function bt(Ae,ze,Ue,S,U,Q){if(Ae.onBeforeRender(p,ze,Ue,S,U,Q),d=ve.get(ze,B||Ue),Ae.modelViewMatrix.multiplyMatrices(Ue.matrixWorldInverse,Ae.matrixWorld),Ae.normalMatrix.getNormalMatrix(Ae.modelViewMatrix),Ae.isImmediateRenderObject){const Y=ct(Ue,ze,U,Ae);ee.setMaterial(U),He.reset(),it(Ae,Y)}else p.renderBufferDirect(Ue,ze,S,U,Ae,Q);Ae.onAfterRender(p,ze,Ue,S,U,Q),d=ve.get(ze,B||Ue)}function en(Ae,ze,Ue){ze.isScene!==!0&&(ze=fe);const S=oe.get(Ae),U=d.state.lights,Q=d.state.shadowsArray,Y=U.state.version,q=K.getParameters(Ae,U.state,Q,ze,ce.numPlanes,ce.numIntersection,Ue),le=K.getProgramCacheKey(q);let ge=S.program,Be=!0;if(ge===void 0)Ae.addEventListener("dispose",Qt);else if(ge.cacheKey!==le)Me(Ae);else if(S.lightsStateVersion!==Y)S.lightsStateVersion=Y,Be=!1;else{if(q.shaderID!==void 0)return;Be=!1}Be&&(ge=K.acquireProgram(q,le),S.program=ge,S.uniforms=q.uniforms,S.outputEncoding=q.outputEncoding,Ae.program=ge);const Ke=ge.getAttributes();if(Ae.morphTargets){Ae.numSupportedMorphTargets=0;for(let tt=0;tt<p.maxMorphTargets;tt++)Ke["morphTarget"+tt]>=0&&Ae.numSupportedMorphTargets++}if(Ae.morphNormals){Ae.numSupportedMorphNormals=0;for(let tt=0;tt<p.maxMorphNormals;tt++)Ke["morphNormal"+tt]>=0&&Ae.numSupportedMorphNormals++}const Qe=S.uniforms;(!Ae.isShaderMaterial&&!Ae.isRawShaderMaterial||Ae.clipping===!0)&&(S.numClippingPlanes=ce.numPlanes,S.numIntersection=ce.numIntersection,Qe.clippingPlanes=ce.uniform),S.environment=Ae.isMeshStandardMaterial?ze.environment:null,S.fog=ze.fog,S.needsLights=Mt(Ae),S.lightsStateVersion=Y,S.needsLights&&(Qe.ambientLightColor.value=U.state.ambient,Qe.lightProbe.value=U.state.probe,Qe.directionalLights.value=U.state.directional,Qe.directionalLightShadows.value=U.state.directionalShadow,Qe.spotLights.value=U.state.spot,Qe.spotLightShadows.value=U.state.spotShadow,Qe.rectAreaLights.value=U.state.rectArea,Qe.pointLights.value=U.state.point,Qe.pointLightShadows.value=U.state.pointShadow,Qe.hemisphereLights.value=U.state.hemi,Qe.directionalShadowMap.value=U.state.directionalShadowMap,Qe.directionalShadowMatrix.value=U.state.directionalShadowMatrix,Qe.spotShadowMap.value=U.state.spotShadowMap,Qe.spotShadowMatrix.value=U.state.spotShadowMatrix,Qe.pointShadowMap.value=U.state.pointShadowMap,Qe.pointShadowMatrix.value=U.state.pointShadowMatrix);const Ze=S.program.getUniforms(),gt=sA.seqWithValue(Ze.seq,Qe);S.uniformsList=gt}function ct(Ae,ze,Ue,S){ze.isScene!==!0&&(ze=fe),he.resetTextureUnits();const U=ze.fog,Q=Ue.isMeshStandardMaterial?ze.environment:null,Y=v===null?p.outputEncoding:v.texture.encoding,q=oe.get(Ue),le=d.state.lights;if(ue===!0&&(te===!0||Ae!==E)){const tt=Ae===E&&Ue.id===w;ce.setState(Ue.clippingPlanes,Ue.clipIntersection,Ue.clipShadows,Ae,q,tt)}Ue.version===q.__version?(q.program===void 0||Ue.fog&&q.fog!==U||q.environment!==Q||q.needsLights&&q.lightsStateVersion!==le.state.version||q.numClippingPlanes!==void 0&&(q.numClippingPlanes!==ce.numPlanes||q.numIntersection!==ce.numIntersection)||q.outputEncoding!==Y)&&en(Ue,ze,S):(en(Ue,ze,S),q.__version=Ue.version);let ge=!1,Be=!1,Ke=!1;const Qe=q.program,Ze=Qe.getUniforms(),gt=q.uniforms;if(ee.useProgram(Qe.program)&&(ge=!0,Be=!0,Ke=!0),Ue.id!==w&&(w=Ue.id,Be=!0),ge||E!==Ae){if(Ze.setValue(se,"projectionMatrix",Ae.projectionMatrix),Ee.logarithmicDepthBuffer&&Ze.setValue(se,"logDepthBufFC",2/(Math.log(Ae.far+1)/Math.LN2)),E!==Ae&&(E=Ae,Be=!0,Ke=!0),Ue.isShaderMaterial||Ue.isMeshPhongMaterial||Ue.isMeshToonMaterial||Ue.isMeshStandardMaterial||Ue.envMap){const tt=Ze.map.cameraPosition;tt!==void 0&&tt.setValue(se,ae.setFromMatrixPosition(Ae.matrixWorld))}(Ue.isMeshPhongMaterial||Ue.isMeshToonMaterial||Ue.isMeshLambertMaterial||Ue.isMeshBasicMaterial||Ue.isMeshStandardMaterial||Ue.isShaderMaterial)&&Ze.setValue(se,"isOrthographic",Ae.isOrthographicCamera===!0),(Ue.isMeshPhongMaterial||Ue.isMeshToonMaterial||Ue.isMeshLambertMaterial||Ue.isMeshBasicMaterial||Ue.isMeshStandardMaterial||Ue.isShaderMaterial||Ue.isShadowMaterial||Ue.skinning)&&Ze.setValue(se,"viewMatrix",Ae.matrixWorldInverse)}if(Ue.skinning){Ze.setOptional(se,S,"bindMatrix"),Ze.setOptional(se,S,"bindMatrixInverse");const tt=S.skeleton;if(tt){const nt=tt.bones;if(Ee.floatVertexTextures){if(tt.boneTexture===void 0){let ht=Math.sqrt(nt.length*4);ht=_n.ceilPowerOfTwo(ht),ht=Math.max(ht,4);const Lt=new Float32Array(ht*ht*4);Lt.set(tt.boneMatrices);const Ot=new a0(Lt,ht,ht,Pa,Wc);tt.boneMatrices=Lt,tt.boneTexture=Ot,tt.boneTextureSize=ht}Ze.setValue(se,"boneTexture",tt.boneTexture,he),Ze.setValue(se,"boneTextureSize",tt.boneTextureSize)}else Ze.setOptional(se,tt,"boneMatrices")}}return(Be||q.receiveShadow!==S.receiveShadow)&&(q.receiveShadow=S.receiveShadow,Ze.setValue(se,"receiveShadow",S.receiveShadow)),Be&&(Ze.setValue(se,"toneMappingExposure",p.toneMappingExposure),q.needsLights&&yt(gt,Ke),U&&Ue.fog&&Z.refreshFogUniforms(gt,U),Z.refreshMaterialUniforms(gt,Ue,Q,D,I),gt.ltc_1!==void 0&&(gt.ltc_1.value=xt.LTC_1),gt.ltc_2!==void 0&&(gt.ltc_2.value=xt.LTC_2),sA.upload(se,q.uniformsList,gt,he)),Ue.isShaderMaterial&&Ue.uniformsNeedUpdate===!0&&(sA.upload(se,q.uniformsList,gt,he),Ue.uniformsNeedUpdate=!1),Ue.isSpriteMaterial&&Ze.setValue(se,"center",S.center),Ze.setValue(se,"modelViewMatrix",S.modelViewMatrix),Ze.setValue(se,"normalMatrix",S.normalMatrix),Ze.setValue(se,"modelMatrix",S.matrixWorld),Qe}function yt(Ae,ze){Ae.ambientLightColor.needsUpdate=ze,Ae.lightProbe.needsUpdate=ze,Ae.directionalLights.needsUpdate=ze,Ae.directionalLightShadows.needsUpdate=ze,Ae.pointLights.needsUpdate=ze,Ae.pointLightShadows.needsUpdate=ze,Ae.spotLights.needsUpdate=ze,Ae.spotLightShadows.needsUpdate=ze,Ae.rectAreaLights.needsUpdate=ze,Ae.hemisphereLights.needsUpdate=ze}function Mt(Ae){return Ae.isMeshLambertMaterial||Ae.isMeshToonMaterial||Ae.isMeshPhongMaterial||Ae.isMeshStandardMaterial||Ae.isShadowMaterial||Ae.isShaderMaterial&&Ae.lights===!0}this.setFramebuffer=function(Ae){g!==Ae&&v===null&&se.bindFramebuffer(36160,Ae),g=Ae},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return v},this.setRenderTarget=function(Ae,ze,Ue){v=Ae,b=ze,y=Ue,Ae&&oe.get(Ae).__webglFramebuffer===void 0&&he.setupRenderTarget(Ae);let S=g,U=!1;if(Ae){const Q=oe.get(Ae).__webglFramebuffer;Ae.isWebGLCubeRenderTarget?(S=Q[ze||0],U=!0):Ae.isWebGLMultisampleRenderTarget?S=oe.get(Ae).__webglMultisampledFramebuffer:S=Q,R.copy(Ae.viewport),G.copy(Ae.scissor),C=Ae.scissorTest}else R.copy(T).multiplyScalar(D).floor(),G.copy(H).multiplyScalar(D).floor(),C=W;if(_!==S&&(se.bindFramebuffer(36160,S),_=S),ee.viewport(R),ee.scissor(G),ee.setScissorTest(C),U){const Q=oe.get(Ae.texture);se.framebufferTexture2D(36160,36064,34069+(ze||0),Q.__webglTexture,Ue||0)}},this.readRenderTargetPixels=function(Ae,ze,Ue,S,U,Q,Y){if(!(Ae&&Ae.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let q=oe.get(Ae).__webglFramebuffer;if(Ae.isWebGLCubeRenderTarget&&Y!==void 0&&(q=q[Y]),q){let le=!1;q!==_&&(se.bindFramebuffer(36160,q),le=!0);try{const ge=Ae.texture,Be=ge.format,Ke=ge.type;if(Be!==Pa&&Fe.convert(Be)!==se.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Ke!==_l&&Fe.convert(Ke)!==se.getParameter(35738)&&!(Ke===Wc&&(Ee.isWebGL2||pe.get("OES_texture_float")||pe.get("WEBGL_color_buffer_float")))&&!(Ke===o3&&(Ee.isWebGL2?pe.get("EXT_color_buffer_float"):pe.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se.checkFramebufferStatus(36160)===36053?ze>=0&&ze<=Ae.width-S&&Ue>=0&&Ue<=Ae.height-U&&se.readPixels(ze,Ue,S,U,Fe.convert(Be),Fe.convert(Ke),Q):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{le&&se.bindFramebuffer(36160,_)}}},this.copyFramebufferToTexture=function(Ae,ze,Ue){Ue===void 0&&(Ue=0);const S=Math.pow(2,-Ue),U=Math.floor(ze.image.width*S),Q=Math.floor(ze.image.height*S),Y=Fe.convert(ze.format);he.setTexture2D(ze,0),se.copyTexImage2D(3553,Ue,Y,Ae.x,Ae.y,U,Q,0),ee.unbindTexture()},this.copyTextureToTexture=function(Ae,ze,Ue,S){S===void 0&&(S=0);const U=ze.image.width,Q=ze.image.height,Y=Fe.convert(Ue.format),q=Fe.convert(Ue.type);he.setTexture2D(Ue,0),se.pixelStorei(37440,Ue.flipY),se.pixelStorei(37441,Ue.premultiplyAlpha),se.pixelStorei(3317,Ue.unpackAlignment),ze.isDataTexture?se.texSubImage2D(3553,S,Ae.x,Ae.y,U,Q,Y,q,ze.image.data):ze.isCompressedTexture?se.compressedTexSubImage2D(3553,S,Ae.x,Ae.y,ze.mipmaps[0].width,ze.mipmaps[0].height,Y,ze.mipmaps[0].data):se.texSubImage2D(3553,S,Ae.x,Ae.y,Y,q,ze.image),S===0&&Ue.generateMipmaps&&se.generateMipmap(3553),ee.unbindTexture()},this.initTexture=function(Ae){he.setTexture2D(Ae,0),ee.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function vR(e){lm.call(this,e)}vR.prototype=Object.assign(Object.create(lm.prototype),{constructor:vR,isWebGL1Renderer:!0});function s_(e,t){this.name="",this.color=new pt(e),this.density=t!==void 0?t:25e-5}Object.assign(s_.prototype,{isFogExp2:!0,clone:function(){return new s_(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}});function d3(e,t,n){this.name="",this.color=new pt(e),this.near=t!==void 0?t:1,this.far=n!==void 0?n:1e3}Object.assign(d3.prototype,{isFog:!0,clone:function(){return new d3(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}});function Us(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=G2,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=_n.generateUUID()}Object.defineProperty(Us.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Us.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},clone:function(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=_n.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new Us(t,this.stride);return n.setUsage(this.usage),n},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=_n.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const KA=new P;function Cl(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i===!0}Object.defineProperties(Cl.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(Cl.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)KA.x=this.getX(t),KA.y=this.getY(t),KA.z=this.getZ(t),KA.applyMatrix4(e),this.setXYZ(t,KA.x,KA.y,KA.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this},clone:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new Vt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Cl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function Nl(e){pn.call(this),this.type="SpriteMaterial",this.color=new pt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Nl.prototype=Object.create(pn.prototype);Nl.prototype.constructor=Nl;Nl.prototype.isSpriteMaterial=!0;Nl.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};let _u;const Pp=new P,xu=new P,Bu=new P,Ru=new et,Up=new et,vF=new st,ty=new P,Dp=new P,ny=new P,wR=new et,Ew=new et,ER=new et;function o_(e){if(Bt.call(this),this.type="Sprite",_u===void 0){_u=new Rt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Us(t,5);_u.setIndex([0,1,2,0,2,3]),_u.setAttribute("position",new Cl(n,3,0,!1)),_u.setAttribute("uv",new Cl(n,2,3,!1))}this.geometry=_u,this.material=e!==void 0?e:new Nl,this.center=new et(.5,.5)}o_.prototype=Object.assign(Object.create(Bt.prototype),{constructor:o_,isSprite:!0,raycast:function(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),xu.setFromMatrixScale(this.matrixWorld),vF.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Bu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&xu.multiplyScalar(-Bu.z);const n=this.material.rotation;let i,r;n!==0&&(r=Math.cos(n),i=Math.sin(n));const a=this.center;iy(ty.set(-.5,-.5,0),Bu,a,xu,i,r),iy(Dp.set(.5,-.5,0),Bu,a,xu,i,r),iy(ny.set(.5,.5,0),Bu,a,xu,i,r),wR.set(0,0),Ew.set(1,0),ER.set(1,1);let s=e.ray.intersectTriangle(ty,Dp,ny,!1,Pp);if(s===null&&(iy(Dp.set(-.5,.5,0),Bu,a,xu,i,r),Ew.set(0,1),s=e.ray.intersectTriangle(ty,ny,Dp,!1,Pp),s===null))return;const o=e.ray.origin.distanceTo(Pp);o<e.near||o>e.far||t.push({distance:o,point:Pp.clone(),uv:Ur.getUV(Pp,ty,Dp,ny,wR,Ew,ER,new et),face:null,object:this})},copy:function(e){return Bt.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}});function iy(e,t,n,i,r,a){Ru.subVectors(e,n).addScalar(.5).multiply(i),r!==void 0?(Up.x=a*Ru.x-r*Ru.y,Up.y=r*Ru.x+a*Ru.y):Up.copy(Ru),e.copy(t),e.x+=Up.x,e.y+=Up.y,e.applyMatrix4(vF)}const ry=new P,_R=new P;function p3(){Bt.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}p3.prototype=Object.assign(Object.create(Bt.prototype),{constructor:p3,isLOD:!0,copy:function(e){Bt.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const r=t[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){t===void 0&&(t=0),t=Math.abs(t);const n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){ry.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(ry);this.getObjectForDistance(i).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){ry.setFromMatrixPosition(e.matrixWorld),_R.setFromMatrixPosition(this.matrixWorld);const n=ry.distanceTo(_R)/e.zoom;t[0].object.visible=!0;let i,r;for(i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}},toJSON:function(e){const t=Bt.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const a=n[i];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}});function c_(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),wi.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new st,this.bindMatrixInverse=new st}c_.prototype=Object.assign(Object.create(wi.prototype),{constructor:c_,isSkinnedMesh:!0,copy:function(e){return wi.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new pi,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){wi.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const e=new P,t=new pi,n=new pi,i=new P,r=new st;return function(a,s){const o=this.skeleton,c=this.geometry;t.fromBufferAttribute(c.attributes.skinIndex,a),n.fromBufferAttribute(c.attributes.skinWeight,a),e.fromBufferAttribute(c.attributes.position,a).applyMatrix4(this.bindMatrix),s.set(0,0,0);for(let A=0;A<4;A++){const l=n.getComponent(A);if(l!==0){const u=t.getComponent(A);r.multiplyMatrices(o.bones[u].matrixWorld,o.boneInverses[u]),s.addScaledVector(i.copy(e).applyMatrix4(r),l)}}return s.applyMatrix4(this.bindMatrixInverse)}}()});const xR=new st,Woe=new st;function A_(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),this.frame=-1,t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new st)}}Object.assign(A_.prototype,{calculateInverses:function(){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++){const n=new st;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.getInverse(this.boneInverses[e])}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,a=e.length;r<a;r++){const s=e[r]?e[r].matrixWorld:Woe;xR.multiplyMatrices(s,t[r]),xR.toArray(n,r*16)}i!==void 0&&(i.needsUpdate=!0)},clone:function(){return new A_(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});function BR(){Bt.call(this),this.type="Bone"}BR.prototype=Object.assign(Object.create(Bt.prototype),{constructor:BR,isBone:!0});const RR=new st,CR=new st,ay=[],kp=new wi;function l_(e,t,n){wi.call(this,e,t),this.instanceMatrix=new Vt(new Float32Array(n*16),16),this.count=n,this.frustumCulled=!1}l_.prototype=Object.assign(Object.create(wi.prototype),{constructor:l_,isInstancedMesh:!0,copy:function(e){return wi.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,e*16)},raycast:function(e,t){const n=this.matrixWorld,i=this.count;if(kp.geometry=this.geometry,kp.material=this.material,kp.material!==void 0)for(let r=0;r<i;r++){this.getMatrixAt(r,RR),CR.multiplyMatrices(n,RR),kp.matrixWorld=CR,kp.raycast(e,ay);for(let a=0,s=ay.length;a<s;a++){const o=ay[a];o.instanceId=r,o.object=this,t.push(o)}ay.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,e*16)},updateMorphTargets:function(){}});function rr(e){pn.call(this),this.type="LineBasicMaterial",this.color=new pt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}rr.prototype=Object.create(pn.prototype);rr.prototype.constructor=rr;rr.prototype.isLineBasicMaterial=!0;rr.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const NR=new P,SR=new P,GR=new st,sy=new Jd,oy=new m0;function Ks(e,t,n){n===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Bt.call(this),this.type="Line",this.geometry=e!==void 0?e:new Rt,this.material=t!==void 0?t:new rr,this.updateMorphTargets()}Ks.prototype=Object.assign(Object.create(Bt.prototype),{constructor:Ks,isLine:!0,copy:function(e){return Bt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)NR.fromBufferAttribute(t,i-1),SR.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=NR.distanceTo(SR);e.setAttribute("lineDistance",new Gt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let i=1,r=t.length;i<r;i++)n[i]=n[i-1],n[i]+=t[i-1].distanceTo(t[i])}return this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),oy.copy(n.boundingSphere),oy.applyMatrix4(i),oy.radius+=r,e.ray.intersectsSphere(oy)===!1)return;GR.getInverse(i),sy.copy(e.ray).applyMatrix4(GR);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,o=new P,c=new P,A=new P,l=new P,u=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){const d=n.index,h=n.attributes.position.array;if(d!==null){const g=d.array;for(let b=0,y=g.length-1;b<y;b+=u){const v=g[b],_=g[b+1];if(o.fromArray(h,v*3),c.fromArray(h,_*3),sy.distanceSqToSegment(o,c,l,A)>s)continue;l.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(l);E<e.near||E>e.far||t.push({distance:E,point:A.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(let g=0,b=h.length/3-1;g<b;g+=u){if(o.fromArray(h,3*g),c.fromArray(h,3*g+3),sy.distanceSqToSegment(o,c,l,A)>s)continue;l.applyMatrix4(this.matrixWorld);const v=e.ray.origin.distanceTo(l);v<e.near||v>e.far||t.push({distance:v,point:A.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const d=n.vertices,p=d.length;for(let h=0;h<p-1;h+=u){if(sy.distanceSqToSegment(d[h],d[h+1],l,A)>s)continue;l.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(l);b<e.near||b>e.far||t.push({distance:b,point:A.clone().applyMatrix4(this.matrixWorld),index:h,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=i.length;r<a;r++){const s=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const cy=new P,Ay=new P;function Vi(e,t){Ks.call(this,e,t),this.type="LineSegments"}Vi.prototype=Object.assign(Object.create(Ks.prototype),{constructor:Vi,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)cy.fromBufferAttribute(t,i),Ay.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+cy.distanceTo(Ay);e.setAttribute("lineDistance",new Gt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let i=0,r=t.length;i<r;i+=2)cy.copy(t[i]),Ay.copy(t[i+1]),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+cy.distanceTo(Ay)}return this}});function u_(e,t){Ks.call(this,e,t),this.type="LineLoop"}u_.prototype=Object.assign(Object.create(Ks.prototype),{constructor:u_,isLineLoop:!0});function Sl(e){pn.call(this),this.type="PointsMaterial",this.color=new pt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Sl.prototype=Object.create(pn.prototype);Sl.prototype.constructor=Sl;Sl.prototype.isPointsMaterial=!0;Sl.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const MR=new st,d_=new Jd,ly=new m0,uy=new P;function fh(e,t){Bt.call(this),this.type="Points",this.geometry=e!==void 0?e:new Rt,this.material=t!==void 0?t:new Sl,this.updateMorphTargets()}fh.prototype=Object.assign(Object.create(Bt.prototype),{constructor:fh,isPoints:!0,copy:function(e){return Bt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),ly.copy(n.boundingSphere),ly.applyMatrix4(i),ly.radius+=r,e.ray.intersectsSphere(ly)===!1)return;MR.getInverse(i),d_.copy(e.ray).applyMatrix4(MR);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a;if(n.isBufferGeometry){const o=n.index,A=n.attributes.position.array;if(o!==null){const l=o.array;for(let u=0,d=l.length;u<d;u++){const p=l[u];uy.fromArray(A,p*3),_w(uy,p,s,i,e,t,this)}}else for(let l=0,u=A.length/3;l<u;l++)uy.fromArray(A,l*3),_w(uy,l,s,i,e,t,this)}else{const o=n.vertices;for(let c=0,A=o.length;c<A;c++)_w(o[c],c,s,i,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=i.length;r<a;r++){const s=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function _w(e,t,n,i,r,a,s){const o=d_.distanceSqToPoint(e);if(o<n){const c=new P;d_.closestPointToPoint(e,c),c.applyMatrix4(i);const A=r.ray.origin.distanceTo(c);if(A<r.near||A>r.far)return;a.push({distance:A,distanceToRay:Math.sqrt(o),point:c,index:t,face:null,object:s})}}function TR(e,t,n,i,r,a,s,o,c){Ei.call(this,e,t,n,i,r,a,s,o,c),this.format=s!==void 0?s:pl,this.minFilter=a!==void 0?a:ur,this.magFilter=r!==void 0?r:ur,this.generateMipmaps=!1}TR.prototype=Object.assign(Object.create(Ei.prototype),{constructor:TR,isVideoTexture:!0,update:function(){const e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function hh(e,t,n,i,r,a,s,o,c,A,l,u){Ei.call(this,null,a,s,o,c,A,i,r,l,u),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}hh.prototype=Object.create(Ei.prototype);hh.prototype.constructor=hh;hh.prototype.isCompressedTexture=!0;function mh(e,t,n,i,r,a,s,o,c){Ei.call(this,e,t,n,i,r,a,s,o,c),this.needsUpdate=!0}mh.prototype=Object.create(Ei.prototype);mh.prototype.constructor=mh;mh.prototype.isCanvasTexture=!0;function f3(e,t,n,i,r,a,s,o,c,A){if(A=A!==void 0?A:ld,A!==ld&&A!==ah)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&A===ld&&(n=s3),n===void 0&&A===ah&&(n=If),Ei.call(this,null,i,r,a,s,o,A,n,c),this.image={width:e,height:t},this.magFilter=s!==void 0?s:hi,this.minFilter=o!==void 0?o:hi,this.flipY=!1,this.generateMipmaps=!1}f3.prototype=Object.create(Ei.prototype);f3.prototype.constructor=f3;f3.prototype.isDepthTexture=!0;function h3(e){Rt.call(this),this.type="WireframeGeometry";const t=[],n=[0,0],i={},r=["a","b","c"];if(e&&e.isGeometry){const a=e.faces;for(let s=0,o=a.length;s<o;s++){const c=a[s];for(let A=0;A<3;A++){const l=c[r[A]],u=c[r[(A+1)%3]];n[0]=Math.min(l,u),n[1]=Math.max(l,u);const d=n[0]+","+n[1];i[d]===void 0&&(i[d]={index1:n[0],index2:n[1]})}}for(const s in i){const o=i[s];let c=e.vertices[o.index1];t.push(c.x,c.y,c.z),c=e.vertices[o.index2],t.push(c.x,c.y,c.z)}}else if(e&&e.isBufferGeometry){let a=new P;if(e.index!==null){const s=e.attributes.position,o=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let A=0,l=c.length;A<l;++A){const u=c[A],d=u.start,p=u.count;for(let h=d,g=d+p;h<g;h+=3)for(let b=0;b<3;b++){const y=o.getX(h+b),v=o.getX(h+(b+1)%3);n[0]=Math.min(y,v),n[1]=Math.max(y,v);const _=n[0]+","+n[1];i[_]===void 0&&(i[_]={index1:n[0],index2:n[1]})}}for(const A in i){const l=i[A];a.fromBufferAttribute(s,l.index1),t.push(a.x,a.y,a.z),a.fromBufferAttribute(s,l.index2),t.push(a.x,a.y,a.z)}}else{const s=e.attributes.position;for(let o=0,c=s.count/3;o<c;o++)for(let A=0;A<3;A++){const l=3*o+A;a.fromBufferAttribute(s,l),t.push(a.x,a.y,a.z);const u=3*o+(A+1)%3;a.fromBufferAttribute(s,u),t.push(a.x,a.y,a.z)}}}this.setAttribute("position",new Gt(t,3))}h3.prototype=Object.create(Rt.prototype);h3.prototype.constructor=h3;function m3(e,t,n){an.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new yh(e,t,n)),this.mergeVertices()}m3.prototype=Object.create(an.prototype);m3.prototype.constructor=m3;function yh(e,t,n){Rt.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const i=[],r=[],a=[],s=[],o=1e-5,c=new P,A=new P,l=new P,u=new P,d=new P;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const p=t+1;for(let h=0;h<=n;h++){const g=h/n;for(let b=0;b<=t;b++){const y=b/t;e(y,g,A),r.push(A.x,A.y,A.z),y-o>=0?(e(y-o,g,l),u.subVectors(A,l)):(e(y+o,g,l),u.subVectors(l,A)),g-o>=0?(e(y,g-o,l),d.subVectors(A,l)):(e(y,g+o,l),d.subVectors(l,A)),c.crossVectors(u,d).normalize(),a.push(c.x,c.y,c.z),s.push(y,g)}}for(let h=0;h<n;h++)for(let g=0;g<t;g++){const b=h*p+g,y=h*p+g+1,v=(h+1)*p+g+1,_=(h+1)*p+g;i.push(b,y,_),i.push(y,v,_)}this.setIndex(i),this.setAttribute("position",new Gt(r,3)),this.setAttribute("normal",new Gt(a,3)),this.setAttribute("uv",new Gt(s,2))}yh.prototype=Object.create(Rt.prototype);yh.prototype.constructor=yh;function y3(e,t,n,i){an.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new rs(e,t,n,i)),this.mergeVertices()}y3.prototype=Object.create(an.prototype);y3.prototype.constructor=y3;function rs(e,t,n,i){Rt.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1,i=i||0;const r=[],a=[];s(i),c(n),A(),this.setAttribute("position",new Gt(r,3)),this.setAttribute("normal",new Gt(r.slice(),3)),this.setAttribute("uv",new Gt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(y){const v=new P,_=new P,w=new P;for(let E=0;E<t.length;E+=3)d(t[E+0],v),d(t[E+1],_),d(t[E+2],w),o(v,_,w,y)}function o(y,v,_,w){const E=Math.pow(2,w),B=[];for(let R=0;R<=E;R++){B[R]=[];const G=y.clone().lerp(_,R/E),C=v.clone().lerp(_,R/E),O=E-R;for(let I=0;I<=O;I++)I===0&&R===E?B[R][I]=G:B[R][I]=G.clone().lerp(C,I/O)}for(let R=0;R<E;R++)for(let G=0;G<2*(E-R)-1;G++){const C=Math.floor(G/2);G%2===0?(u(B[R][C+1]),u(B[R+1][C]),u(B[R][C])):(u(B[R][C+1]),u(B[R+1][C+1]),u(B[R+1][C]))}}function c(y){const v=new P;for(let _=0;_<r.length;_+=3)v.x=r[_+0],v.y=r[_+1],v.z=r[_+2],v.normalize().multiplyScalar(y),r[_+0]=v.x,r[_+1]=v.y,r[_+2]=v.z}function A(){const y=new P;for(let v=0;v<r.length;v+=3){y.x=r[v+0],y.y=r[v+1],y.z=r[v+2];const _=g(y)/2/Math.PI+.5,w=b(y)/Math.PI+.5;a.push(_,1-w)}p(),l()}function l(){for(let y=0;y<a.length;y+=6){const v=a[y+0],_=a[y+2],w=a[y+4],E=Math.max(v,_,w),B=Math.min(v,_,w);E>.9&&B<.1&&(v<.2&&(a[y+0]+=1),_<.2&&(a[y+2]+=1),w<.2&&(a[y+4]+=1))}}function u(y){r.push(y.x,y.y,y.z)}function d(y,v){const _=y*3;v.x=e[_+0],v.y=e[_+1],v.z=e[_+2]}function p(){const y=new P,v=new P,_=new P,w=new P,E=new et,B=new et,R=new et;for(let G=0,C=0;G<r.length;G+=9,C+=6){y.set(r[G+0],r[G+1],r[G+2]),v.set(r[G+3],r[G+4],r[G+5]),_.set(r[G+6],r[G+7],r[G+8]),E.set(a[C+0],a[C+1]),B.set(a[C+2],a[C+3]),R.set(a[C+4],a[C+5]),w.copy(y).add(v).add(_).divideScalar(3);const O=g(w);h(E,C+0,y,O),h(B,C+2,v,O),h(R,C+4,_,O)}}function h(y,v,_,w){w<0&&y.x===1&&(a[v]=y.x-1),_.x===0&&_.z===0&&(a[v]=w/2/Math.PI+.5)}function g(y){return Math.atan2(y.z,-y.x)}function b(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}rs.prototype=Object.create(Rt.prototype);rs.prototype.constructor=rs;function g3(e,t){an.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Nd(e,t)),this.mergeVertices()}g3.prototype=Object.create(an.prototype);g3.prototype.constructor=g3;function Nd(e,t){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];rs.call(this,n,i,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}Nd.prototype=Object.create(rs.prototype);Nd.prototype.constructor=Nd;function b3(e,t){an.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Gl(e,t)),this.mergeVertices()}b3.prototype=Object.create(an.prototype);b3.prototype.constructor=b3;function Gl(e,t){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];rs.call(this,n,i,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}Gl.prototype=Object.create(rs.prototype);Gl.prototype.constructor=Gl;function v3(e,t){an.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ml(e,t)),this.mergeVertices()}v3.prototype=Object.create(an.prototype);v3.prototype.constructor=v3;function Ml(e,t){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];rs.call(this,i,r,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}Ml.prototype=Object.create(rs.prototype);Ml.prototype.constructor=Ml;function w3(e,t){an.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new gh(e,t)),this.mergeVertices()}w3.prototype=Object.create(an.prototype);w3.prototype.constructor=w3;function gh(e,t){const n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];rs.call(this,r,a,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}gh.prototype=Object.create(rs.prototype);gh.prototype.constructor=gh;function E3(e,t,n,i,r,a){an.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},a!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const s=new Sd(e,t,n,i,r);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals,this.fromBufferGeometry(s),this.mergeVertices()}E3.prototype=Object.create(an.prototype);E3.prototype.constructor=E3;function Sd(e,t,n,i,r){Rt.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},t=t||64,n=n||1,i=i||8,r=r||!1;const a=e.computeFrenetFrames(t,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new P,o=new P,c=new et;let A=new P;const l=[],u=[],d=[],p=[];h(),this.setIndex(p),this.setAttribute("position",new Gt(l,3)),this.setAttribute("normal",new Gt(u,3)),this.setAttribute("uv",new Gt(d,2));function h(){for(let v=0;v<t;v++)g(v);g(r===!1?t:0),y(),b()}function g(v){A=e.getPointAt(v/t,A);const _=a.normals[v],w=a.binormals[v];for(let E=0;E<=i;E++){const B=E/i*Math.PI*2,R=Math.sin(B),G=-Math.cos(B);o.x=G*_.x+R*w.x,o.y=G*_.y+R*w.y,o.z=G*_.z+R*w.z,o.normalize(),u.push(o.x,o.y,o.z),s.x=A.x+n*o.x,s.y=A.y+n*o.y,s.z=A.z+n*o.z,l.push(s.x,s.y,s.z)}}function b(){for(let v=1;v<=t;v++)for(let _=1;_<=i;_++){const w=(i+1)*(v-1)+(_-1),E=(i+1)*v+(_-1),B=(i+1)*v+_,R=(i+1)*(v-1)+_;p.push(w,E,R),p.push(E,B,R)}}function y(){for(let v=0;v<=t;v++)for(let _=0;_<=i;_++)c.x=v/t,c.y=_/i,d.push(c.x,c.y)}}Sd.prototype=Object.create(Rt.prototype);Sd.prototype.constructor=Sd;Sd.prototype.toJSON=function(){const e=Rt.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e};function _3(e,t,n,i,r,a,s){an.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},s!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new bh(e,t,n,i,r,a)),this.mergeVertices()}_3.prototype=Object.create(an.prototype);_3.prototype.constructor=_3;function bh(e,t,n,i,r,a){Rt.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,a=a||3;const s=[],o=[],c=[],A=[],l=new P,u=new P,d=new P,p=new P,h=new P,g=new P,b=new P;for(let v=0;v<=n;++v){const _=v/n*r*Math.PI*2;y(_,r,a,e,d),y(_+.01,r,a,e,p),g.subVectors(p,d),b.addVectors(p,d),h.crossVectors(g,b),b.crossVectors(h,g),h.normalize(),b.normalize();for(let w=0;w<=i;++w){const E=w/i*Math.PI*2,B=-t*Math.cos(E),R=t*Math.sin(E);l.x=d.x+(B*b.x+R*h.x),l.y=d.y+(B*b.y+R*h.y),l.z=d.z+(B*b.z+R*h.z),o.push(l.x,l.y,l.z),u.subVectors(l,d).normalize(),c.push(u.x,u.y,u.z),A.push(v/n),A.push(w/i)}}for(let v=1;v<=n;v++)for(let _=1;_<=i;_++){const w=(i+1)*(v-1)+(_-1),E=(i+1)*v+(_-1),B=(i+1)*v+_,R=(i+1)*(v-1)+_;s.push(w,E,R),s.push(E,B,R)}this.setIndex(s),this.setAttribute("position",new Gt(o,3)),this.setAttribute("normal",new Gt(c,3)),this.setAttribute("uv",new Gt(A,2));function y(v,_,w,E,B){const R=Math.cos(v),G=Math.sin(v),C=w/_*v,O=Math.cos(C);B.x=E*(2+O)*.5*R,B.y=E*(2+O)*G*.5,B.z=E*Math.sin(C)*.5}}bh.prototype=Object.create(Rt.prototype);bh.prototype.constructor=bh;function x3(e,t,n,i,r){an.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new Gd(e,t,n,i,r)),this.mergeVertices()}x3.prototype=Object.create(an.prototype);x3.prototype.constructor=x3;function Gd(e,t,n,i,r){Rt.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||Math.PI*2;const a=[],s=[],o=[],c=[],A=new P,l=new P,u=new P;for(let d=0;d<=n;d++)for(let p=0;p<=i;p++){const h=p/i*r,g=d/n*Math.PI*2;l.x=(e+t*Math.cos(g))*Math.cos(h),l.y=(e+t*Math.cos(g))*Math.sin(h),l.z=t*Math.sin(g),s.push(l.x,l.y,l.z),A.x=e*Math.cos(h),A.y=e*Math.sin(h),u.subVectors(l,A).normalize(),o.push(u.x,u.y,u.z),c.push(p/i),c.push(d/n)}for(let d=1;d<=n;d++)for(let p=1;p<=i;p++){const h=(i+1)*d+p-1,g=(i+1)*(d-1)+p-1,b=(i+1)*(d-1)+p,y=(i+1)*d+p;a.push(h,g,y),a.push(g,b,y)}this.setIndex(a),this.setAttribute("position",new Gt(s,3)),this.setAttribute("normal",new Gt(o,3)),this.setAttribute("uv",new Gt(c,2))}Gd.prototype=Object.create(Rt.prototype);Gd.prototype.constructor=Gd;const $oe={triangulate:function(e,t,n){n=n||2;let i=t&&t.length,r=i?t[0]*n:e.length,a=wF(e,0,r,n,!0),s=[];if(!a||a.next===a.prev)return s;let o,c,A,l,u,d,p;if(i&&(a=Zoe(e,t,a,n)),e.length>80*n){o=A=e[0],c=l=e[1];for(let h=n;h<r;h+=n)u=e[h],d=e[h+1],u<o&&(o=u),d<c&&(c=d),u>A&&(A=u),d>l&&(l=d);p=Math.max(A-o,l-c),p=p!==0?1/p:0}return vh(a,s,n,o,c,p),s}};function wF(e,t,n,i,r){let a,s;if(r===Ace(e,t,n,i)>0)for(a=t;a<n;a+=i)s=FR(a,e[a],e[a+1],s);else for(a=n-i;a>=t;a-=i)s=FR(a,e[a],e[a+1],s);return s&&M2(s,s.next)&&(Eh(s),s=s.next),s}function gA(e,t){if(!e)return e;t||(t=e);let n=e,i;do if(i=!1,!n.steiner&&(M2(n,n.next)||Qi(n.prev,n,n.next)===0)){if(Eh(n),n=t=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==t);return t}function vh(e,t,n,i,r,a,s){if(!e)return;!s&&a&&ice(e,i,r,a);let o=e,c,A;for(;e.prev!==e.next;){if(c=e.prev,A=e.next,a?Yoe(e,i,r,a):joe(e)){t.push(c.i/n),t.push(e.i/n),t.push(A.i/n),Eh(e),e=A.next,o=A.next;continue}if(e=A,e===o){s?s===1?(e=qoe(gA(e),t,n),vh(e,t,n,i,r,a,2)):s===2&&Xoe(e,t,n,i,r,a):vh(gA(e),t,n,i,r,a,1);break}}}function joe(e){let t=e.prev,n=e,i=e.next;if(Qi(t,n,i)>=0)return!1;let r=e.next.next;for(;r!==e.prev;){if(td(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Qi(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Yoe(e,t,n,i){let r=e.prev,a=e,s=e.next;if(Qi(r,a,s)>=0)return!1;let o=r.x<a.x?r.x<s.x?r.x:s.x:a.x<s.x?a.x:s.x,c=r.y<a.y?r.y<s.y?r.y:s.y:a.y<s.y?a.y:s.y,A=r.x>a.x?r.x>s.x?r.x:s.x:a.x>s.x?a.x:s.x,l=r.y>a.y?r.y>s.y?r.y:s.y:a.y>s.y?a.y:s.y,u=p_(o,c,t,n,i),d=p_(A,l,t,n,i),p=e.prevZ,h=e.nextZ;for(;p&&p.z>=u&&h&&h.z<=d;){if(p!==e.prev&&p!==e.next&&td(r.x,r.y,a.x,a.y,s.x,s.y,p.x,p.y)&&Qi(p.prev,p,p.next)>=0||(p=p.prevZ,h!==e.prev&&h!==e.next&&td(r.x,r.y,a.x,a.y,s.x,s.y,h.x,h.y)&&Qi(h.prev,h,h.next)>=0))return!1;h=h.nextZ}for(;p&&p.z>=u;){if(p!==e.prev&&p!==e.next&&td(r.x,r.y,a.x,a.y,s.x,s.y,p.x,p.y)&&Qi(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;h&&h.z<=d;){if(h!==e.prev&&h!==e.next&&td(r.x,r.y,a.x,a.y,s.x,s.y,h.x,h.y)&&Qi(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function qoe(e,t,n){let i=e;do{let r=i.prev,a=i.next.next;!M2(r,a)&&EF(r,i,i.next,a)&&wh(r,a)&&wh(a,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(a.i/n),Eh(i),Eh(i.next),i=e=a),i=i.next}while(i!==e);return gA(i)}function Xoe(e,t,n,i,r,a){let s=e;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&sce(s,o)){let c=_F(s,o);s=gA(s,s.next),c=gA(c,c.next),vh(s,t,n,i,r,a),vh(c,t,n,i,r,a);return}o=o.next}s=s.next}while(s!==e)}function Zoe(e,t,n,i){let r=[],a,s,o,c,A;for(a=0,s=t.length;a<s;a++)o=t[a]*i,c=a<s-1?t[a+1]*i:e.length,A=wF(e,o,c,i,!1),A===A.next&&(A.steiner=!0),r.push(ace(A));for(r.sort(Joe),a=0;a<r.length;a++)ece(r[a],n),n=gA(n,n.next);return n}function Joe(e,t){return e.x-t.x}function ece(e,t){if(t=tce(e,t),t){const n=_F(t,e);gA(t,t.next),gA(n,n.next)}}function tce(e,t){let n=t,i=e.x,r=e.y,a=-1/0,s;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){let d=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=i&&d>a){if(a=d,d===i){if(r===n.y)return n;if(r===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!s)return null;if(i===a)return s;let o=s,c=s.x,A=s.y,l=1/0,u;n=s;do i>=n.x&&n.x>=c&&i!==n.x&&td(r<A?i:a,r,c,A,r<A?a:i,r,n.x,n.y)&&(u=Math.abs(r-n.y)/(i-n.x),wh(n,e)&&(u<l||u===l&&(n.x>s.x||n.x===s.x&&nce(s,n)))&&(s=n,l=u)),n=n.next;while(n!==o);return s}function nce(e,t){return Qi(e.prev,e,t.prev)<0&&Qi(t.next,e,e.next)<0}function ice(e,t,n,i){let r=e;do r.z===null&&(r.z=p_(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,rce(r)}function rce(e){let t,n,i,r,a,s,o,c,A=1;do{for(n=e,e=null,a=null,s=0;n;){for(s++,i=n,o=0,t=0;t<A&&(o++,i=i.nextZ,!!i);t++);for(c=A;o>0||c>0&&i;)o!==0&&(c===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,o--):(r=i,i=i.nextZ,c--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;n=i}a.nextZ=null,A*=2}while(s>1);return e}function p_(e,t,n,i,r){return e=32767*(e-n)*r,t=32767*(t-i)*r,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function ace(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function td(e,t,n,i,r,a,s,o){return(r-s)*(t-o)-(e-s)*(a-o)>=0&&(e-s)*(i-o)-(n-s)*(t-o)>=0&&(n-s)*(a-o)-(r-s)*(i-o)>=0}function sce(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!oce(e,t)&&(wh(e,t)&&wh(t,e)&&cce(e,t)&&(Qi(e.prev,e,t.prev)||Qi(e,t.prev,t))||M2(e,t)&&Qi(e.prev,e,e.next)>0&&Qi(t.prev,t,t.next)>0)}function Qi(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function M2(e,t){return e.x===t.x&&e.y===t.y}function EF(e,t,n,i){const r=py(Qi(e,t,n)),a=py(Qi(e,t,i)),s=py(Qi(n,i,e)),o=py(Qi(n,i,t));return!!(r!==a&&s!==o||r===0&&dy(e,n,t)||a===0&&dy(e,i,t)||s===0&&dy(n,e,i)||o===0&&dy(n,t,i))}function dy(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function py(e){return e>0?1:e<0?-1:0}function oce(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&EF(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function wh(e,t){return Qi(e.prev,e,e.next)<0?Qi(e,t,e.next)>=0&&Qi(e,e.prev,t)>=0:Qi(e,t,e.prev)<0||Qi(e,e.next,t)<0}function cce(e,t){let n=e,i=!1,r=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e);return i}function _F(e,t){let n=new f_(e.i,e.x,e.y),i=new f_(t.i,t.x,t.y),r=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function FR(e,t,n,i){const r=new f_(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Eh(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function f_(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ace(e,t,n,i){let r=0;for(let a=t,s=n-i;a<n;a+=i)r+=(e[s]-e[a])*(e[a+1]+e[s+1]),s=a;return r}const oA={area:function(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return n*.5},isClockWise:function(e){return oA.area(e)<0},triangulateShape:function(e,t){const n=[],i=[],r=[];IR(e),LR(n,e);let a=e.length;t.forEach(IR);for(let o=0;o<t.length;o++)i.push(a),a+=t[o].length,LR(n,t[o]);const s=$oe.triangulate(n,i);for(let o=0;o<s.length;o+=3)r.push(s.slice(o,o+3));return r}};function IR(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function LR(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Md(e,t){an.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new s0(e,t)),this.mergeVertices()}Md.prototype=Object.create(an.prototype);Md.prototype.constructor=Md;Md.prototype.toJSON=function(){const e=an.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return xF(t,n,e)};function s0(e,t){Rt.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let s=0,o=e.length;s<o;s++){const c=e[s];a(c)}this.setAttribute("position",new Gt(i,3)),this.setAttribute("uv",new Gt(r,2)),this.computeVertexNormals();function a(s){const o=[],c=t.curveSegments!==void 0?t.curveSegments:12,A=t.steps!==void 0?t.steps:1;let l=t.depth!==void 0?t.depth:100,u=t.bevelEnabled!==void 0?t.bevelEnabled:!0,d=t.bevelThickness!==void 0?t.bevelThickness:6,p=t.bevelSize!==void 0?t.bevelSize:d-2,h=t.bevelOffset!==void 0?t.bevelOffset:0,g=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,y=t.UVGenerator!==void 0?t.UVGenerator:lce;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);let v,_=!1,w,E,B,R;b&&(v=b.getSpacedPoints(A),_=!0,u=!1,w=b.computeFrenetFrames(A,!1),E=new P,B=new P,R=new P),u||(g=0,d=0,p=0,h=0);const G=s.extractPoints(c);let C=G.shape;const O=G.holes;if(!oA.isClockWise(C)){C=C.reverse();for(let ie=0,oe=O.length;ie<oe;ie++){const he=O[ie];oA.isClockWise(he)&&(O[ie]=he.reverse())}}const D=oA.triangulateShape(C,O),k=C;for(let ie=0,oe=O.length;ie<oe;ie++){const he=O[ie];C=C.concat(he)}function L(ie,oe,he){return oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),oe.clone().multiplyScalar(he).add(ie)}const T=C.length,H=D.length;function W(ie,oe,he){let Re,Ge,Le;const K=ie.x-oe.x,Z=ie.y-oe.y,Ce=he.x-ie.x,ve=he.y-ie.y,de=K*K+Z*Z,be=K*ve-Z*Ce;if(Math.abs(be)>Number.EPSILON){const Pe=Math.sqrt(de),Ve=Math.sqrt(Ce*Ce+ve*ve),Fe=oe.x-Z/Pe,He=oe.y+K/Pe,ke=he.x-ve/Ve,qe=he.y+Ce/Ve,Ye=((ke-Fe)*ve-(qe-He)*Ce)/(K*ve-Z*Ce);Re=Fe+K*Ye-ie.x,Ge=He+Z*Ye-ie.y;const We=Re*Re+Ge*Ge;if(We<=2)return new et(Re,Ge);Le=Math.sqrt(We/2)}else{let Pe=!1;K>Number.EPSILON?Ce>Number.EPSILON&&(Pe=!0):K<-Number.EPSILON?Ce<-Number.EPSILON&&(Pe=!0):Math.sign(Z)===Math.sign(ve)&&(Pe=!0),Pe?(Re=-Z,Ge=K,Le=Math.sqrt(de)):(Re=K,Ge=Z,Le=Math.sqrt(de/2))}return new et(Re/Le,Ge/Le)}const j=[];for(let ie=0,oe=k.length,he=oe-1,Re=ie+1;ie<oe;ie++,he++,Re++)he===oe&&(he=0),Re===oe&&(Re=0),j[ie]=W(k[ie],k[he],k[Re]);const ce=[];let ue,te=j.concat();for(let ie=0,oe=O.length;ie<oe;ie++){const he=O[ie];ue=[];for(let Re=0,Ge=he.length,Le=Ge-1,K=Re+1;Re<Ge;Re++,Le++,K++)Le===Ge&&(Le=0),K===Ge&&(K=0),ue[Re]=W(he[Re],he[Le],he[K]);ce.push(ue),te=te.concat(ue)}for(let ie=0;ie<g;ie++){const oe=ie/g,he=d*Math.cos(oe*Math.PI/2),Re=p*Math.sin(oe*Math.PI/2)+h;for(let Ge=0,Le=k.length;Ge<Le;Ge++){const K=L(k[Ge],j[Ge],Re);se(K.x,K.y,-he)}for(let Ge=0,Le=O.length;Ge<Le;Ge++){const K=O[Ge];ue=ce[Ge];for(let Z=0,Ce=K.length;Z<Ce;Z++){const ve=L(K[Z],ue[Z],Re);se(ve.x,ve.y,-he)}}}const re=p+h;for(let ie=0;ie<T;ie++){const oe=u?L(C[ie],te[ie],re):C[ie];_?(B.copy(w.normals[0]).multiplyScalar(oe.x),E.copy(w.binormals[0]).multiplyScalar(oe.y),R.copy(v[0]).add(B).add(E),se(R.x,R.y,R.z)):se(oe.x,oe.y,0)}for(let ie=1;ie<=A;ie++)for(let oe=0;oe<T;oe++){const he=u?L(C[oe],te[oe],re):C[oe];_?(B.copy(w.normals[ie]).multiplyScalar(he.x),E.copy(w.binormals[ie]).multiplyScalar(he.y),R.copy(v[ie]).add(B).add(E),se(R.x,R.y,R.z)):se(he.x,he.y,l/A*ie)}for(let ie=g-1;ie>=0;ie--){const oe=ie/g,he=d*Math.cos(oe*Math.PI/2),Re=p*Math.sin(oe*Math.PI/2)+h;for(let Ge=0,Le=k.length;Ge<Le;Ge++){const K=L(k[Ge],j[Ge],Re);se(K.x,K.y,l+he)}for(let Ge=0,Le=O.length;Ge<Le;Ge++){const K=O[Ge];ue=ce[Ge];for(let Z=0,Ce=K.length;Z<Ce;Z++){const ve=L(K[Z],ue[Z],Re);_?se(ve.x,ve.y+v[A-1].y,v[A-1].x+he):se(ve.x,ve.y,l+he)}}}ae(),fe();function ae(){const ie=i.length/3;if(u){let oe=0,he=T*oe;for(let Re=0;Re<H;Re++){const Ge=D[Re];me(Ge[2]+he,Ge[1]+he,Ge[0]+he)}oe=A+g*2,he=T*oe;for(let Re=0;Re<H;Re++){const Ge=D[Re];me(Ge[0]+he,Ge[1]+he,Ge[2]+he)}}else{for(let oe=0;oe<H;oe++){const he=D[oe];me(he[2],he[1],he[0])}for(let oe=0;oe<H;oe++){const he=D[oe];me(he[0]+T*A,he[1]+T*A,he[2]+T*A)}}n.addGroup(ie,i.length/3-ie,0)}function fe(){const ie=i.length/3;let oe=0;ye(k,oe),oe+=k.length;for(let he=0,Re=O.length;he<Re;he++){const Ge=O[he];ye(Ge,oe),oe+=Ge.length}n.addGroup(ie,i.length/3-ie,1)}function ye(ie,oe){let he=ie.length;for(;--he>=0;){const Re=he;let Ge=he-1;Ge<0&&(Ge=ie.length-1);for(let Le=0,K=A+g*2;Le<K;Le++){const Z=T*Le,Ce=T*(Le+1),ve=oe+Re+Z,de=oe+Ge+Z,be=oe+Ge+Ce,Pe=oe+Re+Ce;pe(ve,de,be,Pe)}}}function se(ie,oe,he){o.push(ie),o.push(oe),o.push(he)}function me(ie,oe,he){Ee(ie),Ee(oe),Ee(he);const Re=i.length/3,Ge=y.generateTopUV(n,i,Re-3,Re-2,Re-1);ee(Ge[0]),ee(Ge[1]),ee(Ge[2])}function pe(ie,oe,he,Re){Ee(ie),Ee(oe),Ee(Re),Ee(oe),Ee(he),Ee(Re);const Ge=i.length/3,Le=y.generateSideWallUV(n,i,Ge-6,Ge-3,Ge-2,Ge-1);ee(Le[0]),ee(Le[1]),ee(Le[3]),ee(Le[1]),ee(Le[2]),ee(Le[3])}function Ee(ie){i.push(o[ie*3+0]),i.push(o[ie*3+1]),i.push(o[ie*3+2])}function ee(ie){r.push(ie.x),r.push(ie.y)}}}s0.prototype=Object.create(Rt.prototype);s0.prototype.constructor=s0;s0.prototype.toJSON=function(){const e=Rt.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return xF(t,n,e)};const lce={generateTopUV:function(e,t,n,i,r){const a=t[n*3],s=t[n*3+1],o=t[i*3],c=t[i*3+1],A=t[r*3],l=t[r*3+1];return[new et(a,s),new et(o,c),new et(A,l)]},generateSideWallUV:function(e,t,n,i,r,a){const s=t[n*3],o=t[n*3+1],c=t[n*3+2],A=t[i*3],l=t[i*3+1],u=t[i*3+2],d=t[r*3],p=t[r*3+1],h=t[r*3+2],g=t[a*3],b=t[a*3+1],y=t[a*3+2];return Math.abs(o-l)<.01?[new et(s,1-c),new et(A,1-u),new et(d,1-h),new et(g,1-y)]:[new et(o,1-c),new et(l,1-u),new et(p,1-h),new et(b,1-y)]}};function xF(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const a=e[i];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function B3(e,t){an.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new _h(e,t)),this.mergeVertices()}B3.prototype=Object.create(an.prototype);B3.prototype.constructor=B3;function _h(e,t){t=t||{};const n=t.font;if(!(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new an;const i=n.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),s0.call(this,i,t),this.type="TextBufferGeometry"}_h.prototype=Object.create(s0.prototype);_h.prototype.constructor=_h;function R3(e,t,n,i,r,a,s){an.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Td(e,t,n,i,r,a,s)),this.mergeVertices()}R3.prototype=Object.create(an.prototype);R3.prototype.constructor=R3;function Td(e,t,n,i,r,a,s){Rt.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:s},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=i!==void 0?i:0,r=r!==void 0?r:Math.PI*2,a=a!==void 0?a:0,s=s!==void 0?s:Math.PI;const o=Math.min(a+s,Math.PI);let c=0;const A=[],l=new P,u=new P,d=[],p=[],h=[],g=[];for(let b=0;b<=n;b++){const y=[],v=b/n;let _=0;b==0&&a==0?_=.5/t:b==n&&o==Math.PI&&(_=-.5/t);for(let w=0;w<=t;w++){const E=w/t;l.x=-e*Math.cos(i+E*r)*Math.sin(a+v*s),l.y=e*Math.cos(a+v*s),l.z=e*Math.sin(i+E*r)*Math.sin(a+v*s),p.push(l.x,l.y,l.z),u.copy(l).normalize(),h.push(u.x,u.y,u.z),g.push(E+_,1-v),y.push(c++)}A.push(y)}for(let b=0;b<n;b++)for(let y=0;y<t;y++){const v=A[b][y+1],_=A[b][y],w=A[b+1][y],E=A[b+1][y+1];(b!==0||a>0)&&d.push(v,_,E),(b!==n-1||o<Math.PI)&&d.push(_,w,E)}this.setIndex(d),this.setAttribute("position",new Gt(p,3)),this.setAttribute("normal",new Gt(h,3)),this.setAttribute("uv",new Gt(g,2))}Td.prototype=Object.create(Rt.prototype);Td.prototype.constructor=Td;function C3(e,t,n,i,r,a){an.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new xh(e,t,n,i,r,a)),this.mergeVertices()}C3.prototype=Object.create(an.prototype);C3.prototype.constructor=C3;function xh(e,t,n,i,r,a){Rt.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},e=e||.5,t=t||1,r=r!==void 0?r:0,a=a!==void 0?a:Math.PI*2,n=n!==void 0?Math.max(3,n):8,i=i!==void 0?Math.max(1,i):1;const s=[],o=[],c=[],A=[];let l=e;const u=(t-e)/i,d=new P,p=new et;for(let h=0;h<=i;h++){for(let g=0;g<=n;g++){const b=r+g/n*a;d.x=l*Math.cos(b),d.y=l*Math.sin(b),o.push(d.x,d.y,d.z),c.push(0,0,1),p.x=(d.x/t+1)/2,p.y=(d.y/t+1)/2,A.push(p.x,p.y)}l+=u}for(let h=0;h<i;h++){const g=h*(n+1);for(let b=0;b<n;b++){const y=b+g,v=y,_=y+n+1,w=y+n+2,E=y+1;s.push(v,_,E),s.push(_,w,E)}}this.setIndex(s),this.setAttribute("position",new Gt(o,3)),this.setAttribute("normal",new Gt(c,3)),this.setAttribute("uv",new Gt(A,2))}xh.prototype=Object.create(Rt.prototype);xh.prototype.constructor=xh;function N3(e,t,n,i){an.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new Bh(e,t,n,i)),this.mergeVertices()}N3.prototype=Object.create(an.prototype);N3.prototype.constructor=N3;function Bh(e,t,n,i){Rt.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||Math.PI*2,i=_n.clamp(i,0,Math.PI*2);const r=[],a=[],s=[],o=1/t,c=new P,A=new et;for(let l=0;l<=t;l++){const u=n+l*o*i,d=Math.sin(u),p=Math.cos(u);for(let h=0;h<=e.length-1;h++)c.x=e[h].x*d,c.y=e[h].y,c.z=e[h].x*p,a.push(c.x,c.y,c.z),A.x=l/t,A.y=h/(e.length-1),s.push(A.x,A.y)}for(let l=0;l<t;l++)for(let u=0;u<e.length-1;u++){const d=u+l*e.length,p=d,h=d+e.length,g=d+e.length+1,b=d+1;r.push(p,h,b),r.push(h,g,b)}if(this.setIndex(r),this.setAttribute("position",new Gt(a,3)),this.setAttribute("uv",new Gt(s,2)),this.computeVertexNormals(),i===Math.PI*2){const l=this.attributes.normal.array,u=new P,d=new P,p=new P,h=t*e.length*3;for(let g=0,b=0;g<e.length;g++,b+=3)u.x=l[b+0],u.y=l[b+1],u.z=l[b+2],d.x=l[h+b+0],d.y=l[h+b+1],d.z=l[h+b+2],p.addVectors(u,d).normalize(),l[b+0]=l[h+b+0]=p.x,l[b+1]=l[h+b+1]=p.y,l[b+2]=l[h+b+2]=p.z}}Bh.prototype=Object.create(Rt.prototype);Bh.prototype.constructor=Bh;function Fd(e,t){an.call(this),this.type="ShapeGeometry",typeof t=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Id(e,t)),this.mergeVertices()}Fd.prototype=Object.create(an.prototype);Fd.prototype.constructor=Fd;Fd.prototype.toJSON=function(){const e=an.prototype.toJSON.call(this),t=this.parameters.shapes;return BF(t,e)};function Id(e,t){Rt.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;const n=[],i=[],r=[],a=[];let s=0,o=0;if(Array.isArray(e)===!1)c(e);else for(let A=0;A<e.length;A++)c(e[A]),this.addGroup(s,o,A),s+=o,o=0;this.setIndex(n),this.setAttribute("position",new Gt(i,3)),this.setAttribute("normal",new Gt(r,3)),this.setAttribute("uv",new Gt(a,2));function c(A){const l=i.length/3,u=A.extractPoints(t);let d=u.shape;const p=u.holes;oA.isClockWise(d)===!1&&(d=d.reverse());for(let g=0,b=p.length;g<b;g++){const y=p[g];oA.isClockWise(y)===!0&&(p[g]=y.reverse())}const h=oA.triangulateShape(d,p);for(let g=0,b=p.length;g<b;g++){const y=p[g];d=d.concat(y)}for(let g=0,b=d.length;g<b;g++){const y=d[g];i.push(y.x,y.y,0),r.push(0,0,1),a.push(y.x,y.y)}for(let g=0,b=h.length;g<b;g++){const y=h[g],v=y[0]+l,_=y[1]+l,w=y[2]+l;n.push(v,_,w),o+=3}}}Id.prototype=Object.create(Rt.prototype);Id.prototype.constructor=Id;Id.prototype.toJSON=function(){const e=Rt.prototype.toJSON.call(this),t=this.parameters.shapes;return BF(t,e)};function BF(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function S3(e,t){Rt.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=t!==void 0?t:1;const n=[],i=Math.cos(_n.DEG2RAD*t),r=[0,0],a={};let s,o,c;const A=["a","b","c"];let l;e.isBufferGeometry?(l=new an,l.fromBufferGeometry(e)):l=e.clone(),l.mergeVertices(),l.computeFaceNormals();const u=l.vertices,d=l.faces;for(let p=0,h=d.length;p<h;p++){const g=d[p];for(let b=0;b<3;b++)s=g[A[b]],o=g[A[(b+1)%3]],r[0]=Math.min(s,o),r[1]=Math.max(s,o),c=r[0]+","+r[1],a[c]===void 0?a[c]={index1:r[0],index2:r[1],face1:p,face2:void 0}:a[c].face2=p}for(c in a){const p=a[c];if(p.face2===void 0||d[p.face1].normal.dot(d[p.face2].normal)<=i){let h=u[p.index1];n.push(h.x,h.y,h.z),h=u[p.index2],n.push(h.x,h.y,h.z)}}this.setAttribute("position",new Gt(n,3))}S3.prototype=Object.create(Rt.prototype);S3.prototype.constructor=S3;function Ld(e,t,n,i,r,a,s,o){an.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o},this.fromBufferGeometry(new o0(e,t,n,i,r,a,s,o)),this.mergeVertices()}Ld.prototype=Object.create(an.prototype);Ld.prototype.constructor=Ld;function o0(e,t,n,i,r,a,s,o){Rt.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o};const c=this;e=e!==void 0?e:1,t=t!==void 0?t:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,a=a!==void 0?a:!1,s=s!==void 0?s:0,o=o!==void 0?o:Math.PI*2;const A=[],l=[],u=[],d=[];let p=0;const h=[],g=n/2;let b=0;y(),a===!1&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(A),this.setAttribute("position",new Gt(l,3)),this.setAttribute("normal",new Gt(u,3)),this.setAttribute("uv",new Gt(d,2));function y(){const _=new P,w=new P;let E=0;const B=(t-e)/n;for(let R=0;R<=r;R++){const G=[],C=R/r,O=C*(t-e)+e;for(let I=0;I<=i;I++){const D=I/i,k=D*o+s,L=Math.sin(k),T=Math.cos(k);w.x=O*L,w.y=-C*n+g,w.z=O*T,l.push(w.x,w.y,w.z),_.set(L,B,T).normalize(),u.push(_.x,_.y,_.z),d.push(D,1-C),G.push(p++)}h.push(G)}for(let R=0;R<i;R++)for(let G=0;G<r;G++){const C=h[G][R],O=h[G+1][R],I=h[G+1][R+1],D=h[G][R+1];A.push(C,O,D),A.push(O,I,D),E+=6}c.addGroup(b,E,0),b+=E}function v(_){let w,E;const B=new et,R=new P;let G=0;const C=_===!0?e:t,O=_===!0?1:-1;w=p;for(let I=1;I<=i;I++)l.push(0,g*O,0),u.push(0,O,0),d.push(.5,.5),p++;E=p;for(let I=0;I<=i;I++){const k=I/i*o+s,L=Math.cos(k),T=Math.sin(k);R.x=C*T,R.y=g*O,R.z=C*L,l.push(R.x,R.y,R.z),u.push(0,O,0),B.x=L*.5+.5,B.y=T*.5*O+.5,d.push(B.x,B.y),p++}for(let I=0;I<i;I++){const D=w+I,k=E+I;_===!0?A.push(k,k+1,D):A.push(k+1,k,D),G+=3}c.addGroup(b,G,_===!0?1:2),b+=G}}o0.prototype=Object.create(Rt.prototype);o0.prototype.constructor=o0;function G3(e,t,n,i,r,a,s){Ld.call(this,0,e,t,n,i,r,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:s}}G3.prototype=Object.create(Ld.prototype);G3.prototype.constructor=G3;function Rh(e,t,n,i,r,a,s){o0.call(this,0,e,t,n,i,r,a,s),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:s}}Rh.prototype=Object.create(o0.prototype);Rh.prototype.constructor=Rh;function M3(e,t,n,i){an.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new Ch(e,t,n,i)),this.mergeVertices()}M3.prototype=Object.create(an.prototype);M3.prototype.constructor=M3;function Ch(e,t,n,i){Rt.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=t!==void 0?Math.max(3,t):8,n=n!==void 0?n:0,i=i!==void 0?i:Math.PI*2;const r=[],a=[],s=[],o=[],c=new P,A=new et;a.push(0,0,0),s.push(0,0,1),o.push(.5,.5);for(let l=0,u=3;l<=t;l++,u+=3){const d=n+l/t*i;c.x=e*Math.cos(d),c.y=e*Math.sin(d),a.push(c.x,c.y,c.z),s.push(0,0,1),A.x=(a[u]/e+1)/2,A.y=(a[u+1]/e+1)/2,o.push(A.x,A.y)}for(let l=1;l<=t;l++)r.push(l,l+1,0);this.setIndex(r),this.setAttribute("position",new Gt(a,3)),this.setAttribute("normal",new Gt(s,3)),this.setAttribute("uv",new Gt(o,2))}Ch.prototype=Object.create(Rt.prototype);Ch.prototype.constructor=Ch;var oa=Object.freeze({__proto__:null,WireframeGeometry:h3,ParametricGeometry:m3,ParametricBufferGeometry:yh,TetrahedronGeometry:g3,TetrahedronBufferGeometry:Nd,OctahedronGeometry:b3,OctahedronBufferGeometry:Gl,IcosahedronGeometry:v3,IcosahedronBufferGeometry:Ml,DodecahedronGeometry:w3,DodecahedronBufferGeometry:gh,PolyhedronGeometry:y3,PolyhedronBufferGeometry:rs,TubeGeometry:E3,TubeBufferGeometry:Sd,TorusKnotGeometry:_3,TorusKnotBufferGeometry:bh,TorusGeometry:x3,TorusBufferGeometry:Gd,TextGeometry:B3,TextBufferGeometry:_h,SphereGeometry:R3,SphereBufferGeometry:Td,RingGeometry:C3,RingBufferGeometry:xh,PlaneGeometry:uh,PlaneBufferGeometry:Cd,LatheGeometry:N3,LatheBufferGeometry:Bh,ShapeGeometry:Fd,ShapeBufferGeometry:Id,ExtrudeGeometry:Md,ExtrudeBufferGeometry:s0,EdgesGeometry:S3,ConeGeometry:G3,ConeBufferGeometry:Rh,CylinderGeometry:Ld,CylinderBufferGeometry:o0,CircleGeometry:M3,CircleBufferGeometry:Ch,BoxGeometry:Yie,BoxBufferGeometry:cm});function Pd(e){pn.call(this),this.type="ShadowMaterial",this.color=new pt(0),this.transparent=!0,this.setValues(e)}Pd.prototype=Object.create(pn.prototype);Pd.prototype.constructor=Pd;Pd.prototype.isShadowMaterial=!0;Pd.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.color.copy(e.color),this};function bA(e){vr.call(this,e),this.type="RawShaderMaterial"}bA.prototype=Object.create(vr.prototype);bA.prototype.constructor=bA;bA.prototype.isRawShaderMaterial=!0;function c0(e){pn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new pt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zd,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}c0.prototype=Object.create(pn.prototype);c0.prototype.constructor=c0;c0.prototype.isMeshStandardMaterial=!0;c0.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this};function Ud(e){c0.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new et(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}Ud.prototype=Object.create(c0.prototype);Ud.prototype.constructor=Ud;Ud.prototype.isMeshPhysicalMaterial=!0;Ud.prototype.copy=function(e){return c0.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new pt).copy(e.sheen):this.sheen=null,this.transparency=e.transparency,this};function Tl(e){pn.call(this),this.type="MeshPhongMaterial",this.color=new pt(16777215),this.specular=new pt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zd,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=N2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Tl.prototype=Object.create(pn.prototype);Tl.prototype.constructor=Tl;Tl.prototype.isMeshPhongMaterial=!0;Tl.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Dd(e){pn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new pt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zd,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Dd.prototype=Object.create(pn.prototype);Dd.prototype.constructor=Dd;Dd.prototype.isMeshToonMaterial=!0;Dd.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function kd(e){pn.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zd,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}kd.prototype=Object.create(pn.prototype);kd.prototype.constructor=kd;kd.prototype.isMeshNormalMaterial=!0;kd.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Od(e){pn.call(this),this.type="MeshLambertMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=N2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Od.prototype=Object.create(pn.prototype);Od.prototype.constructor=Od;Od.prototype.isMeshLambertMaterial=!0;Od.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Hd(e){pn.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new pt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zd,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Hd.prototype=Object.create(pn.prototype);Hd.prototype.constructor=Hd;Hd.prototype.isMeshMatcapMaterial=!0;Hd.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Qd(e){rr.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Qd.prototype=Object.create(rr.prototype);Qd.prototype.constructor=Qd;Qd.prototype.isLineDashedMaterial=!0;Qd.prototype.copy=function(e){return rr.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var uce=Object.freeze({__proto__:null,ShadowMaterial:Pd,SpriteMaterial:Nl,RawShaderMaterial:bA,ShaderMaterial:vr,PointsMaterial:Sl,MeshPhysicalMaterial:Ud,MeshStandardMaterial:c0,MeshPhongMaterial:Tl,MeshToonMaterial:Dd,MeshNormalMaterial:kd,MeshLambertMaterial:Od,MeshDepthMaterial:Bl,MeshDistanceMaterial:Rl,MeshBasicMaterial:Eo,MeshMatcapMaterial:Hd,LineDashedMaterial:Qd,LineBasicMaterial:rr,Material:pn});const Di={arraySlice:function(e,t,n){return Di.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(r,a){return e[r]-e[a]}const n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(t),i},sortedArray:function(e,t,n){const i=e.length,r=new e.constructor(i);for(let a=0,s=0;s!==i;++a){const o=n[a]*t;for(let c=0;c!==t;++c)r[s++]=e[o+c]}return r},flattenJSON:function(e,t,n,i){let r=1,a=e[0];for(;a!==void 0&&a[i]===void 0;)a=e[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(t.push(a.time),n.push.apply(n,s)),a=e[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(t.push(a.time),s.toArray(n,n.length)),a=e[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(t.push(a.time),n.push(s)),a=e[r++];while(a!==void 0)},subclip:function(e,t,n,i,r){r=r||30;const a=e.clone();a.name=t;const s=[];for(let c=0;c<a.tracks.length;++c){const A=a.tracks[c],l=A.getValueSize(),u=[],d=[];for(let p=0;p<A.times.length;++p){const h=A.times[p]*r;if(!(h<n||h>=i)){u.push(A.times[p]);for(let g=0;g<l;++g)d.push(A.values[p*l+g])}}u.length!==0&&(A.times=Di.convertArray(u,A.times.constructor),A.values=Di.convertArray(d,A.values.constructor),s.push(A))}a.tracks=s;let o=1/0;for(let c=0;c<a.tracks.length;++c)o>a.tracks[c].times[0]&&(o=a.tracks[c].times[0]);for(let c=0;c<a.tracks.length;++c)a.tracks[c].shift(-1*o);return a.resetDuration(),a},makeClipAdditive:function(e,t,n,i){t===void 0&&(t=0),n===void 0&&(n=e),(i===void 0||i<=0)&&(i=30);const r=e.tracks.length,a=t/i;for(let s=0;s<r;++s){const o=n.tracks[s],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;const A=e.tracks.find(function(h){return h.name===o.name&&h.ValueTypeName===c});if(A===void 0)continue;const l=o.getValueSize(),u=o.times.length-1;let d;if(a<=o.times[0])d=Di.arraySlice(o.values,0,o.valueSize);else if(a>=o.times[u]){const h=u*l;d=Di.arraySlice(o.values,h)}else{const h=o.createInterpolant();h.evaluate(a),d=h.resultBuffer}c==="quaternion"&&new yi(d[0],d[1],d[2],d[3]).normalize().conjugate().toArray(d);const p=A.times.length;for(let h=0;h<p;++h){const g=h*l;if(c==="quaternion")yi.multiplyQuaternionsFlat(A.values,g,d,0,A.values,g);else for(let b=0;b<l;++b)A.values[g+b]-=d[b]}}return e.blendMode=nF,e}};function ks(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(ks.prototype,{evaluate:function(e){let t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let a;n:{i:if(!(e<i)){for(let s=n+2;;){if(i===void 0){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===s)break;if(r=i,i=t[++n],e<i)break t}a=t.length;break n}if(!(e>=r)){const s=t[1];e<s&&(n=2,r=s);for(let o=n-2;;){if(r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===o)break;if(i=r,r=t[--n-1],e>=r)break t}a=n,n=0;break n}break e}for(;n<a;){const s=n+a>>>1;e<t[s]?a=s:n=s+1}if(i=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let a=0;a!==i;++a)t[a]=n[r+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(ks.prototype,{beforeStart_:ks.prototype.copySampleValue_,afterEnd_:ks.prototype.copySampleValue_});function h_(e,t,n,i){ks.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}h_.prototype=Object.assign(Object.create(ks.prototype),{constructor:h_,DefaultSettings_:{endingStart:xd,endingEnd:xd},intervalChanged_:function(e,t,n){let i=this.parameterPositions,r=e-2,a=e+1,s=i[r],o=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case Xu:r=e,s=2*t-n;break;case A3:r=i.length-2,s=t+i[r]-i[r+1];break;default:r=e,s=n}if(o===void 0)switch(this.getSettings_().endingEnd){case Xu:a=e,o=2*n-t;break;case A3:a=1,o=n+i[1]-i[0];break;default:a=e-1,o=t}const c=(n-t)*.5,A=this.valueSize;this._weightPrev=c/(t-s),this._weightNext=c/(o-n),this._offsetPrev=r*A,this._offsetNext=a*A},interpolate_:function(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=e*s,c=o-s,A=this._offsetPrev,l=this._offsetNext,u=this._weightPrev,d=this._weightNext,p=(n-t)/(i-t),h=p*p,g=h*p,b=-u*g+2*u*h-u*p,y=(1+u)*g+(-1.5-2*u)*h+(-.5+u)*p+1,v=(-1-d)*g+(1.5+d)*h+.5*p,_=d*g-d*h;for(let w=0;w!==s;++w)r[w]=b*a[A+w]+y*a[c+w]+v*a[o+w]+_*a[l+w];return r}});function T3(e,t,n,i){ks.call(this,e,t,n,i)}T3.prototype=Object.assign(Object.create(ks.prototype),{constructor:T3,interpolate_:function(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=e*s,c=o-s,A=(n-t)/(i-t),l=1-A;for(let u=0;u!==s;++u)r[u]=a[c+u]*l+a[o+u]*A;return r}});function m_(e,t,n,i){ks.call(this,e,t,n,i)}m_.prototype=Object.assign(Object.create(ks.prototype),{constructor:m_,interpolate_:function(e){return this.copySampleValue_(e-1)}});function ta(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Di.convertArray(t,this.TimeBufferType),this.values=Di.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}Object.assign(ta,{toJSON:function(e){const t=e.constructor;let n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:Di.convertArray(e.times,Array),values:Di.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}});Object.assign(ta.prototype,{constructor:ta,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:cg,InterpolantFactoryMethodDiscrete:function(e){return new m_(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new T3(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new h_(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case c3:t=this.InterpolantFactoryMethodDiscrete;break;case cg:t=this.InterpolantFactoryMethodLinear;break;case Jv:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return c3;case this.InterpolantFactoryMethodLinear:return cg;case this.InterpolantFactoryMethodSmooth:return Jv}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this},scale:function(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,i=n.length;let r=0,a=i-1;for(;r!==i&&n[r]<e;)++r;for(;a!==-1&&n[a]>t;)--a;if(++a,r!==0||a!==i){r>=a&&(a=Math.max(a,1),r=a-1);const s=this.getValueSize();this.times=Di.arraySlice(n,r,a),this.values=Di.arraySlice(this.values,r*s,a*s)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==r;s++){const o=n[s];if(typeof o=="number"&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,o),e=!1;break}if(a!==null&&a>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,o,a),e=!1;break}a=o}if(i!==void 0&&Di.isTypedArray(i))for(let s=0,o=i.length;s!==o;++s){const c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e},optimize:function(){const e=Di.arraySlice(this.times),t=Di.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Jv,r=e.length-1;let a=1;for(let s=1;s<r;++s){let o=!1;const c=e[s],A=e[s+1];if(c!==A&&(s!==1||c!==c[0]))if(i)o=!0;else{const l=s*n,u=l-n,d=l+n;for(let p=0;p!==n;++p){const h=t[l+p];if(h!==t[u+p]||h!==t[d+p]){o=!0;break}}}if(o){if(s!==a){e[a]=e[s];const l=s*n,u=a*n;for(let d=0;d!==n;++d)t[u+d]=t[l+d]}++a}}if(r>0){e[a]=e[r];for(let s=r*n,o=a*n,c=0;c!==n;++c)t[o+c]=t[s+c];++a}return a!==e.length?(this.times=Di.arraySlice(e,0,a),this.values=Di.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this},clone:function(){const e=Di.arraySlice(this.times,0),t=Di.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}});function y_(e,t,n){ta.call(this,e,t,n)}y_.prototype=Object.assign(Object.create(ta.prototype),{constructor:y_,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:c3,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function g_(e,t,n,i){ta.call(this,e,t,n,i)}g_.prototype=Object.assign(Object.create(ta.prototype),{constructor:g_,ValueTypeName:"color"});function Nh(e,t,n,i){ta.call(this,e,t,n,i)}Nh.prototype=Object.assign(Object.create(ta.prototype),{constructor:Nh,ValueTypeName:"number"});function b_(e,t,n,i){ks.call(this,e,t,n,i)}b_.prototype=Object.assign(Object.create(ks.prototype),{constructor:b_,interpolate_:function(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=(n-t)/(i-t);let c=e*s;for(let A=c+s;c!==A;c+=4)yi.slerpFlat(r,0,a,c-s,a,c,o);return r}});function F3(e,t,n,i){ta.call(this,e,t,n,i)}F3.prototype=Object.assign(Object.create(ta.prototype),{constructor:F3,ValueTypeName:"quaternion",DefaultInterpolation:cg,InterpolantFactoryMethodLinear:function(e){return new b_(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function v_(e,t,n,i){ta.call(this,e,t,n,i)}v_.prototype=Object.assign(Object.create(ta.prototype),{constructor:v_,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:c3,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Sh(e,t,n,i){ta.call(this,e,t,n,i)}Sh.prototype=Object.assign(Object.create(ta.prototype),{constructor:Sh,ValueTypeName:"vector"});function yo(e,t,n,i){this.name=e,this.tracks=n,this.duration=t!==void 0?t:-1,this.blendMode=i!==void 0?i:m7,this.uuid=_n.generateUUID(),this.duration<0&&this.resetDuration()}function dce(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Nh;case"vector":case"vector2":case"vector3":case"vector4":return Sh;case"color":return g_;case"quaternion":return F3;case"bool":case"boolean":return y_;case"string":return v_}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function pce(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=dce(e.type);if(e.times===void 0){const n=[],i=[];Di.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(yo,{parse:function(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let r=0,a=n.length;r!==a;++r)t.push(pce(n[r]).scale(i));return new yo(e.name,e.duration,t,e.blendMode)},toJSON:function(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,a=n.length;r!==a;++r)t.push(ta.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){const r=t.length,a=[];for(let s=0;s<r;s++){let o=[],c=[];o.push((s+r-1)%r,s,(s+1)%r),c.push(0,1,0);const A=Di.getKeyframeOrder(o);o=Di.sortedArray(o,1,A),c=Di.sortedArray(c,1,A),!i&&o[0]===0&&(o.push(r),c.push(c[0])),a.push(new Nh(".morphTargetInfluences["+t[s].name+"]",o,c).scale(1/n))}return new yo(e,-1,a)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let s=0,o=e.length;s<o;s++){const c=e[s],A=c.name.match(r);if(A&&A.length>1){const l=A[1];let u=i[l];u||(i[l]=u=[]),u.push(c)}}const a=[];for(const s in i)a.push(yo.CreateFromMorphTargetSequence(s,i[s],t,n));return a},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(l,u,d,p,h){if(d.length!==0){const g=[],b=[];Di.flattenJSON(d,g,b,p),g.length!==0&&h.push(new l(u,g,b))}},i=[],r=e.name||"default",a=e.fps||30,s=e.blendMode;let o=e.length||-1;const c=e.hierarchy||[];for(let l=0;l<c.length;l++){const u=c[l].keys;if(!(!u||u.length===0))if(u[0].morphTargets){const d={};let p;for(p=0;p<u.length;p++)if(u[p].morphTargets)for(let h=0;h<u[p].morphTargets.length;h++)d[u[p].morphTargets[h]]=-1;for(const h in d){const g=[],b=[];for(let y=0;y!==u[p].morphTargets.length;++y){const v=u[p];g.push(v.time),b.push(v.morphTarget===h?1:0)}i.push(new Nh(".morphTargetInfluence["+h+"]",g,b))}o=d.length*(a||1)}else{const d=".bones["+t[l].name+"]";n(Sh,d+".position",u,"pos",i),n(F3,d+".quaternion",u,"rot",i),n(Sh,d+".scale",u,"scl",i)}}return i.length===0?null:new yo(r,o,i,s)}});Object.assign(yo.prototype,{resetDuration:function(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new yo(this.name,this.duration,e,this.blendMode)}});const zd={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function RF(e,t,n){const i=this;let r=!1,a=0,s=0,o;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(A){s++,r===!1&&i.onStart!==void 0&&i.onStart(A,a,s),r=!0},this.itemEnd=function(A){a++,i.onProgress!==void 0&&i.onProgress(A,a,s),a===s&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(A){i.onError!==void 0&&i.onError(A)},this.resolveURL=function(A){return o?o(A):A},this.setURLModifier=function(A){return o=A,this},this.addHandler=function(A,l){return c.push(A,l),this},this.removeHandler=function(A){const l=c.indexOf(A);return l!==-1&&c.splice(l,2),this},this.getHandler=function(A){for(let l=0,u=c.length;l<u;l+=2){const d=c[l],p=c[l+1];if(d.global&&(d.lastIndex=0),d.test(A))return p}return null}}const fce=new RF;function fi(e){this.manager=e!==void 0?e:fce,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(fi.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const ro={};function ic(e){fi.call(this,e)}ic.prototype=Object.assign(Object.create(fi.prototype),{constructor:ic,load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=zd.get(e);if(a!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;if(ro[e]!==void 0){ro[e].push({onLoad:t,onProgress:n,onError:i});return}const s=/^data:(.*?)(;base64)?,(.*)$/,o=e.match(s);let c;if(o){const A=o[1],l=!!o[2];let u=o[3];u=decodeURIComponent(u),l&&(u=atob(u));try{let d;const p=(this.responseType||"").toLowerCase();switch(p){case"arraybuffer":case"blob":const h=new Uint8Array(u.length);for(let b=0;b<u.length;b++)h[b]=u.charCodeAt(b);p==="blob"?d=new Blob([h.buffer],{type:A}):d=h.buffer;break;case"document":d=new DOMParser().parseFromString(u,A);break;case"json":d=JSON.parse(u);break;default:d=u;break}setTimeout(function(){t&&t(d),r.manager.itemEnd(e)},0)}catch(d){setTimeout(function(){i&&i(d),r.manager.itemError(e),r.manager.itemEnd(e)},0)}}else{ro[e]=[],ro[e].push({onLoad:t,onProgress:n,onError:i}),c=new XMLHttpRequest,c.open("GET",e,!0),c.addEventListener("load",function(A){const l=this.response,u=ro[e];if(delete ro[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),zd.add(e,l);for(let d=0,p=u.length;d<p;d++){const h=u[d];h.onLoad&&h.onLoad(l)}r.manager.itemEnd(e)}else{for(let d=0,p=u.length;d<p;d++){const h=u[d];h.onError&&h.onError(A)}r.manager.itemError(e),r.manager.itemEnd(e)}},!1),c.addEventListener("progress",function(A){const l=ro[e];for(let u=0,d=l.length;u<d;u++){const p=l[u];p.onProgress&&p.onProgress(A)}},!1),c.addEventListener("error",function(A){const l=ro[e];delete ro[e];for(let u=0,d=l.length;u<d;u++){const p=l[u];p.onError&&p.onError(A)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),c.addEventListener("abort",function(A){const l=ro[e];delete ro[e];for(let u=0,d=l.length;u<d;u++){const p=l[u];p.onError&&p.onError(A)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),this.responseType!==void 0&&(c.responseType=this.responseType),this.withCredentials!==void 0&&(c.withCredentials=this.withCredentials),c.overrideMimeType&&c.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const A in this.requestHeader)c.setRequestHeader(A,this.requestHeader[A]);c.send(null)}return r.manager.itemStart(e),c},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}});function PR(e){fi.call(this,e)}PR.prototype=Object.assign(Object.create(fi.prototype),{constructor:PR,load:function(e,t,n,i){const r=this,a=new ic(r.manager);a.setPath(r.path),a.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const i=yo.parse(e[n]);t.push(i)}return t}});function UR(e){fi.call(this,e)}UR.prototype=Object.assign(Object.create(fi.prototype),{constructor:UR,load:function(e,t,n,i){const r=this,a=[],s=new hh;s.image=a;const o=new ic(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer");let c=0;function A(l){o.load(e[l],function(u){const d=r.parse(u,!0);a[l]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},c+=1,c===6&&(d.mipmapCount===1&&(s.minFilter=ur),s.format=d.format,s.needsUpdate=!0,t&&t(s))},n,i)}if(Array.isArray(e))for(let l=0,u=e.length;l<u;++l)A(l);else o.load(e,function(l){const u=r.parse(l,!0);if(u.isCubemap){const d=u.mipmaps.length/u.mipmapCount;for(let p=0;p<d;p++){a[p]={mipmaps:[]};for(let h=0;h<u.mipmapCount;h++)a[p].mipmaps.push(u.mipmaps[p*u.mipmapCount+h]),a[p].format=u.format,a[p].width=u.width,a[p].height=u.height}}else s.image.width=u.width,s.image.height=u.height,s.mipmaps=u.mipmaps;u.mipmapCount===1&&(s.minFilter=ur),s.format=u.format,s.needsUpdate=!0,t&&t(s)},n,i);return s}});function DR(e){fi.call(this,e)}DR.prototype=Object.assign(Object.create(fi.prototype),{constructor:DR,load:function(e,t,n,i){const r=this,a=new a0,s=new ic(this.manager);return s.setResponseType("arraybuffer"),s.setPath(this.path),s.load(e,function(o){const c=r.parse(o);!c||(c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Ta,a.wrapT=c.wrapT!==void 0?c.wrapT:Ta,a.magFilter=c.magFilter!==void 0?c.magFilter:ur,a.minFilter=c.minFilter!==void 0?c.minFilter:ur,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=S2),c.mipmapCount===1&&(a.minFilter=ur),a.needsUpdate=!0,t&&t(a,c))},n,i),a}});function Gh(e){fi.call(this,e)}Gh.prototype=Object.assign(Object.create(fi.prototype),{constructor:Gh,load:function(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=zd.get(e);if(a!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;const s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function o(){s.removeEventListener("load",o,!1),s.removeEventListener("error",c,!1),zd.add(e,this),t&&t(this),r.manager.itemEnd(e)}function c(A){s.removeEventListener("load",o,!1),s.removeEventListener("error",c,!1),i&&i(A),r.manager.itemError(e),r.manager.itemEnd(e)}return s.addEventListener("load",o,!1),s.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(e),s.src=e,s}});function w_(e){fi.call(this,e)}w_.prototype=Object.assign(Object.create(fi.prototype),{constructor:w_,load:function(e,t,n,i){const r=new yA,a=new Gh(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function o(c){a.load(e[c],function(A){r.images[c]=A,s++,s===6&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let c=0;c<e.length;++c)o(c);return r}});function E_(e){fi.call(this,e)}E_.prototype=Object.assign(Object.create(fi.prototype),{constructor:E_,load:function(e,t,n,i){const r=new Ei,a=new Gh(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){r.image=s;const o=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;r.format=o?pl:Pa,r.needsUpdate=!0,t!==void 0&&t(r)},n,i),r}});function Yt(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Yt.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let i=0,r=n.length,a;t?a=t:a=e*n[r-1];let s=0,o=r-1,c;for(;s<=o;)if(i=Math.floor(s+(o-s)/2),c=n[i]-a,c<0)s=i+1;else if(c>0)o=i-1;else{o=i;break}if(i=o,n[i]===a)return i/(r-1);const A=n[i],u=n[i+1]-A,d=(a-A)/u;return(i+d)/(r-1)},getTangent:function(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);const a=this.getPoint(i),s=this.getPoint(r),o=t||(a.isVector2?new et:new P);return o.copy(s).sub(a).normalize(),o},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new P,i=[],r=[],a=[],s=new P,o=new st;for(let d=0;d<=e;d++){const p=d/e;i[d]=this.getTangentAt(p,new P),i[d].normalize()}r[0]=new P,a[0]=new P;let c=Number.MAX_VALUE;const A=Math.abs(i[0].x),l=Math.abs(i[0].y),u=Math.abs(i[0].z);A<=c&&(c=A,n.set(1,0,0)),l<=c&&(c=l,n.set(0,1,0)),u<=c&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),a[0].crossVectors(i[0],r[0]);for(let d=1;d<=e;d++){if(r[d]=r[d-1].clone(),a[d]=a[d-1].clone(),s.crossVectors(i[d-1],i[d]),s.length()>Number.EPSILON){s.normalize();const p=Math.acos(_n.clamp(i[d-1].dot(i[d]),-1,1));r[d].applyMatrix4(o.makeRotationAxis(s,p))}a[d].crossVectors(i[d],r[d])}if(t===!0){let d=Math.acos(_n.clamp(r[0].dot(r[e]),-1,1));d/=e,i[0].dot(s.crossVectors(r[0],r[e]))>0&&(d=-d);for(let p=1;p<=e;p++)r[p].applyMatrix4(o.makeRotationAxis(i[p],d*p)),a[p].crossVectors(i[p],r[p])}return{tangents:i,normals:r,binormals:a}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function Ws(e,t,n,i,r,a,s,o){Yt.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=s||!1,this.aRotation=o||0}Ws.prototype=Object.create(Yt.prototype);Ws.prototype.constructor=Ws;Ws.prototype.isEllipseCurve=!0;Ws.prototype.getPoint=function(e,t){const n=t||new et,i=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const a=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(a?r=0:r=i),this.aClockwise===!0&&!a&&(r===i?r=-i:r=r-i);const s=this.aStartAngle+e*r;let o=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const A=Math.cos(this.aRotation),l=Math.sin(this.aRotation),u=o-this.aX,d=c-this.aY;o=u*A-d*l+this.aX,c=u*l+d*A+this.aY}return n.set(o,c)};Ws.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};Ws.prototype.toJSON=function(){const e=Yt.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};Ws.prototype.fromJSON=function(e){return Yt.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function Mh(e,t,n,i,r,a){Ws.call(this,e,t,n,n,i,r,a),this.type="ArcCurve"}Mh.prototype=Object.create(Ws.prototype);Mh.prototype.constructor=Mh;Mh.prototype.isArcCurve=!0;function v7(){let e=0,t=0,n=0,i=0;function r(a,s,o,c){e=a,t=o,n=-3*a+3*s-2*o-c,i=2*a-2*s+o+c}return{initCatmullRom:function(a,s,o,c,A){r(s,o,A*(o-a),A*(c-s))},initNonuniformCatmullRom:function(a,s,o,c,A,l,u){let d=(s-a)/A-(o-a)/(A+l)+(o-s)/l,p=(o-s)/l-(c-s)/(l+u)+(c-o)/u;d*=l,p*=l,r(s,o,d,p)},calc:function(a){const s=a*a,o=s*a;return e+t*a+n*s+i*o}}}const fy=new P,xw=new v7,Bw=new v7,Rw=new v7;function as(e,t,n,i){Yt.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}as.prototype=Object.create(Yt.prototype);as.prototype.constructor=as;as.prototype.isCatmullRomCurve3=!0;as.prototype.getPoint=function(e,t){const n=t||new P,i=this.points,r=i.length,a=(r-(this.closed?0:1))*e;let s=Math.floor(a),o=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/r)+1)*r:o===0&&s===r-1&&(s=r-2,o=1);let c,A,l,u;if(this.closed||s>0?c=i[(s-1)%r]:(fy.subVectors(i[0],i[1]).add(i[0]),c=fy),A=i[s%r],l=i[(s+1)%r],this.closed||s+2<r?u=i[(s+2)%r]:(fy.subVectors(i[r-1],i[r-2]).add(i[r-1]),u=fy),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(A),d),h=Math.pow(A.distanceToSquared(l),d),g=Math.pow(l.distanceToSquared(u),d);h<1e-4&&(h=1),p<1e-4&&(p=h),g<1e-4&&(g=h),xw.initNonuniformCatmullRom(c.x,A.x,l.x,u.x,p,h,g),Bw.initNonuniformCatmullRom(c.y,A.y,l.y,u.y,p,h,g),Rw.initNonuniformCatmullRom(c.z,A.z,l.z,u.z,p,h,g)}else this.curveType==="catmullrom"&&(xw.initCatmullRom(c.x,A.x,l.x,u.x,this.tension),Bw.initCatmullRom(c.y,A.y,l.y,u.y,this.tension),Rw.initCatmullRom(c.z,A.z,l.z,u.z,this.tension));return n.set(xw.calc(o),Bw.calc(o),Rw.calc(o)),n};as.prototype.copy=function(e){Yt.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};as.prototype.toJSON=function(){const e=Yt.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};as.prototype.fromJSON=function(e){Yt.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new P().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function kR(e,t,n,i,r){const a=(i-t)*.5,s=(r-n)*.5,o=e*e,c=e*o;return(2*n-2*i+a+s)*c+(-3*n+3*i-2*a-s)*o+a*e+n}function hce(e,t){const n=1-e;return n*n*t}function mce(e,t){return 2*(1-e)*e*t}function yce(e,t){return e*e*t}function Pf(e,t,n,i){return hce(e,t)+mce(e,n)+yce(e,i)}function gce(e,t){const n=1-e;return n*n*n*t}function bce(e,t){const n=1-e;return 3*n*n*e*t}function vce(e,t){return 3*(1-e)*e*e*t}function wce(e,t){return e*e*e*t}function Uf(e,t,n,i,r){return gce(e,t)+bce(e,n)+vce(e,i)+wce(e,r)}function rc(e,t,n,i){Yt.call(this),this.type="CubicBezierCurve",this.v0=e||new et,this.v1=t||new et,this.v2=n||new et,this.v3=i||new et}rc.prototype=Object.create(Yt.prototype);rc.prototype.constructor=rc;rc.prototype.isCubicBezierCurve=!0;rc.prototype.getPoint=function(e,t){const n=t||new et,i=this.v0,r=this.v1,a=this.v2,s=this.v3;return n.set(Uf(e,i.x,r.x,a.x,s.x),Uf(e,i.y,r.y,a.y,s.y)),n};rc.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};rc.prototype.toJSON=function(){const e=Yt.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};rc.prototype.fromJSON=function(e){return Yt.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function A0(e,t,n,i){Yt.call(this),this.type="CubicBezierCurve3",this.v0=e||new P,this.v1=t||new P,this.v2=n||new P,this.v3=i||new P}A0.prototype=Object.create(Yt.prototype);A0.prototype.constructor=A0;A0.prototype.isCubicBezierCurve3=!0;A0.prototype.getPoint=function(e,t){const n=t||new P,i=this.v0,r=this.v1,a=this.v2,s=this.v3;return n.set(Uf(e,i.x,r.x,a.x,s.x),Uf(e,i.y,r.y,a.y,s.y),Uf(e,i.z,r.z,a.z,s.z)),n};A0.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};A0.prototype.toJSON=function(){const e=Yt.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};A0.prototype.fromJSON=function(e){return Yt.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function ss(e,t){Yt.call(this),this.type="LineCurve",this.v1=e||new et,this.v2=t||new et}ss.prototype=Object.create(Yt.prototype);ss.prototype.constructor=ss;ss.prototype.isLineCurve=!0;ss.prototype.getPoint=function(e,t){const n=t||new et;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};ss.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};ss.prototype.getTangent=function(e,t){const n=t||new et;return n.copy(this.v2).sub(this.v1).normalize(),n};ss.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};ss.prototype.toJSON=function(){const e=Yt.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};ss.prototype.fromJSON=function(e){return Yt.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function ac(e,t){Yt.call(this),this.type="LineCurve3",this.v1=e||new P,this.v2=t||new P}ac.prototype=Object.create(Yt.prototype);ac.prototype.constructor=ac;ac.prototype.isLineCurve3=!0;ac.prototype.getPoint=function(e,t){const n=t||new P;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};ac.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};ac.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};ac.prototype.toJSON=function(){const e=Yt.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};ac.prototype.fromJSON=function(e){return Yt.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function sc(e,t,n){Yt.call(this),this.type="QuadraticBezierCurve",this.v0=e||new et,this.v1=t||new et,this.v2=n||new et}sc.prototype=Object.create(Yt.prototype);sc.prototype.constructor=sc;sc.prototype.isQuadraticBezierCurve=!0;sc.prototype.getPoint=function(e,t){const n=t||new et,i=this.v0,r=this.v1,a=this.v2;return n.set(Pf(e,i.x,r.x,a.x),Pf(e,i.y,r.y,a.y)),n};sc.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};sc.prototype.toJSON=function(){const e=Yt.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};sc.prototype.fromJSON=function(e){return Yt.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function l0(e,t,n){Yt.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new P,this.v1=t||new P,this.v2=n||new P}l0.prototype=Object.create(Yt.prototype);l0.prototype.constructor=l0;l0.prototype.isQuadraticBezierCurve3=!0;l0.prototype.getPoint=function(e,t){const n=t||new P,i=this.v0,r=this.v1,a=this.v2;return n.set(Pf(e,i.x,r.x,a.x),Pf(e,i.y,r.y,a.y),Pf(e,i.z,r.z,a.z)),n};l0.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};l0.prototype.toJSON=function(){const e=Yt.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};l0.prototype.fromJSON=function(e){return Yt.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function oc(e){Yt.call(this),this.type="SplineCurve",this.points=e||[]}oc.prototype=Object.create(Yt.prototype);oc.prototype.constructor=oc;oc.prototype.isSplineCurve=!0;oc.prototype.getPoint=function(e,t){const n=t||new et,i=this.points,r=(i.length-1)*e,a=Math.floor(r),s=r-a,o=i[a===0?a:a-1],c=i[a],A=i[a>i.length-2?i.length-1:a+1],l=i[a>i.length-3?i.length-1:a+2];return n.set(kR(s,o.x,c.x,A.x,l.x),kR(s,o.y,c.y,A.y,l.y)),n};oc.prototype.copy=function(e){Yt.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this};oc.prototype.toJSON=function(){const e=Yt.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e};oc.prototype.fromJSON=function(e){Yt.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new et().fromArray(i))}return this};var __=Object.freeze({__proto__:null,ArcCurve:Mh,CatmullRomCurve3:as,CubicBezierCurve:rc,CubicBezierCurve3:A0,EllipseCurve:Ws,LineCurve:ss,LineCurve3:ac,QuadraticBezierCurve:sc,QuadraticBezierCurve3:l0,SplineCurve:oc});function nA(){Yt.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}nA.prototype=Object.assign(Object.create(Yt.prototype),{constructor:nA,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ss(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=t){const r=n[i]-t,a=this.curves[i],s=a.getLength(),o=s===0?0:1-r/s;return a.getPointAt(o)}i++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e===void 0&&(e=40);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const a=r[i],s=a&&a.isEllipseCurve?e*2:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,o=a.getPoints(s);for(let c=0;c<o.length;c++){const A=o[c];n&&n.equals(A)||(t.push(A),n=A)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Yt.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=Yt.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Yt.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new __[i.type]().fromJSON(i))}return this}});function Wo(e){nA.call(this),this.type="Path",this.currentPoint=new et,e&&this.setFromPoints(e)}Wo.prototype=Object.assign(Object.create(nA.prototype),{constructor:Wo,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new ss(this.currentPoint.clone(),new et(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){const r=new sc(this.currentPoint.clone(),new et(e,t),new et(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,r,a){const s=new rc(this.currentPoint.clone(),new et(e,t),new et(n,i),new et(r,a));return this.curves.push(s),this.currentPoint.set(r,a),this},splineThru:function(e){const t=[this.currentPoint.clone()].concat(e),n=new oc(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,r,a){const s=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+s,t+o,n,i,r,a),this},absarc:function(e,t,n,i,r,a){return this.absellipse(e,t,n,n,i,r,a),this},ellipse:function(e,t,n,i,r,a,s,o){const c=this.currentPoint.x,A=this.currentPoint.y;return this.absellipse(e+c,t+A,n,i,r,a,s,o),this},absellipse:function(e,t,n,i,r,a,s,o){const c=new Ws(e,t,n,i,r,a,s,o);if(this.curves.length>0){const l=c.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(c);const A=c.getPoint(1);return this.currentPoint.copy(A),this},copy:function(e){return nA.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=nA.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return nA.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function hl(e){Wo.call(this,e),this.uuid=_n.generateUUID(),this.type="Shape",this.holes=[]}hl.prototype=Object.assign(Object.create(Wo.prototype),{constructor:hl,getPointsHoles:function(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Wo.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){const e=Wo.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){Wo.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new Wo().fromJSON(i))}return this}});function Gi(e,t){Bt.call(this),this.type="Light",this.color=new pt(e),this.intensity=t!==void 0?t:1,this.receiveShadow=void 0}Gi.prototype=Object.assign(Object.create(Bt.prototype),{constructor:Gi,isLight:!0,copy:function(e){return Bt.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=Bt.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function x_(e,t,n){Gi.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Bt.DefaultUp),this.updateMatrix(),this.groundColor=new pt(t)}x_.prototype=Object.assign(Object.create(Gi.prototype),{constructor:x_,isHemisphereLight:!0,copy:function(e){return Gi.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function u0(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new et(512,512),this.map=null,this.mapPass=null,this.matrix=new st,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Am,this._frameExtents=new et(1,1),this._viewportCount=1,this._viewports=[new pi(0,0,1,1)]}Object.assign(u0.prototype,{_projScreenMatrix:new st,_lightPositionWorld:new P,_lookTarget:new P,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(e.matrixWorld),t.position.copy(a),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function B_(){u0.call(this,new Ar(50,1,.5,500))}B_.prototype=Object.assign(Object.create(u0.prototype),{constructor:B_,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=_n.RAD2DEG*2*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),u0.prototype.updateMatrices.call(this,e)}});function I3(e,t,n,i,r,a){Gi.call(this,e,t),this.type="SpotLight",this.position.copy(Bt.DefaultUp),this.updateMatrix(),this.target=new Bt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(s){this.intensity=s/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=i!==void 0?i:Math.PI/3,this.penumbra=r!==void 0?r:0,this.decay=a!==void 0?a:1,this.shadow=new B_}I3.prototype=Object.assign(Object.create(Gi.prototype),{constructor:I3,isSpotLight:!0,copy:function(e){return Gi.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function R_(){u0.call(this,new Ar(90,1,.5,500)),this._frameExtents=new et(4,2),this._viewportCount=6,this._viewports=[new pi(2,1,1,1),new pi(0,1,1,1),new pi(3,1,1,1),new pi(1,1,1,1),new pi(3,0,1,1),new pi(1,0,1,1)],this._cubeDirections=[new P(1,0,0),new P(-1,0,0),new P(0,0,1),new P(0,0,-1),new P(0,1,0),new P(0,-1,0)],this._cubeUps=[new P(0,1,0),new P(0,1,0),new P(0,1,0),new P(0,1,0),new P(0,0,1),new P(0,0,-1)]}R_.prototype=Object.assign(Object.create(u0.prototype),{constructor:R_,isPointLightShadow:!0,updateMatrices:function(e,t){t===void 0&&(t=0);const n=this.camera,i=this.matrix,r=this._lightPositionWorld,a=this._lookTarget,s=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),n.position.copy(r),a.copy(n.position),a.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(a),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),s.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s)}});function C_(e,t,n,i){Gi.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(r){this.intensity=r/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=i!==void 0?i:1,this.shadow=new R_}C_.prototype=Object.assign(Object.create(Gi.prototype),{constructor:C_,isPointLight:!0,copy:function(e){return Gi.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function vA(e,t,n,i,r,a){r0.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e!==void 0?e:-1,this.right=t!==void 0?t:1,this.top=n!==void 0?n:1,this.bottom=i!==void 0?i:-1,this.near=r!==void 0?r:.1,this.far=a!==void 0?a:2e3,this.updateProjectionMatrix()}vA.prototype=Object.assign(Object.create(r0.prototype),{constructor:vA,isOrthographicCamera:!0,copy:function(e,t){return r0.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,a=n+e,s=i+t,o=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,A=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,a=r+c*this.view.width,s-=A*this.view.offsetY,o=s-A*this.view.height}this.projectionMatrix.makeOrthographic(r,a,s,o,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=Bt.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function N_(){u0.call(this,new vA(-5,5,5,-5,.5,500))}N_.prototype=Object.assign(Object.create(u0.prototype),{constructor:N_,isDirectionalLightShadow:!0,updateMatrices:function(e){u0.prototype.updateMatrices.call(this,e)}});function S_(e,t){Gi.call(this,e,t),this.type="DirectionalLight",this.position.copy(Bt.DefaultUp),this.updateMatrix(),this.target=new Bt,this.shadow=new N_}S_.prototype=Object.assign(Object.create(Gi.prototype),{constructor:S_,isDirectionalLight:!0,copy:function(e){return Gi.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function L3(e,t){Gi.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}L3.prototype=Object.assign(Object.create(Gi.prototype),{constructor:L3,isAmbientLight:!0});function G_(e,t,n,i){Gi.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=i!==void 0?i:10}G_.prototype=Object.assign(Object.create(Gi.prototype),{constructor:G_,isRectAreaLight:!0,copy:function(e){return Gi.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=Gi.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});function w7(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new P)}Object.assign(w7.prototype,{isSphericalHarmonics3:!0,set:function(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){const n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*r),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],1.092548*(n*i)),t.addScaledVector(a[5],1.092548*(i*r)),t.addScaledVector(a[6],.315392*(3*r*r-1)),t.addScaledVector(a[7],1.092548*(n*r)),t.addScaledVector(a[8],.546274*(n*n-i*i)),t},getIrradianceAt:function(e,t){const n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*i),t.addScaledVector(a[2],2*.511664*r),t.addScaledVector(a[3],2*.511664*n),t.addScaledVector(a[4],2*.429043*n*i),t.addScaledVector(a[5],2*.429043*i*r),t.addScaledVector(a[6],.743125*r*r-.247708),t.addScaledVector(a[7],2*.429043*n*r),t.addScaledVector(a[8],.429043*(n*n-i*i)),t},add:function(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this},scale:function(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(e,t){t===void 0&&(t=0);const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}});Object.assign(w7,{getBasisAt:function(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}});function vo(e,t){Gi.call(this,void 0,t),this.type="LightProbe",this.sh=e!==void 0?e:new w7}vo.prototype=Object.assign(Object.create(Gi.prototype),{constructor:vo,isLightProbe:!0,copy:function(e){return Gi.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=Gi.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}});function M_(e){fi.call(this,e),this.textures={}}M_.prototype=Object.assign(Object.create(fi.prototype),{constructor:M_,load:function(e,t,n,i){const r=this,a=new ic(r.manager);a.setPath(r.path),a.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)},parse:function(e){const t=this.textures;function n(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const i=new uce[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=new pt().setHex(e.sheen)),e.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular.setHex(e.specular),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(i.skinning=e.skinning),e.morphTargets!==void 0&&(i.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(i.morphNormals=e.morphNormals),e.dithering!==void 0&&(i.dithering=e.dithering),e.vertexTangents!==void 0&&(i.vertexTangents=e.vertexTangents),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const a=e.uniforms[r];switch(i.uniforms[r]={},a.type){case"t":i.uniforms[r].value=n(a.value);break;case"c":i.uniforms[r].value=new pt().setHex(a.value);break;case"v2":i.uniforms[r].value=new et().fromArray(a.value);break;case"v3":i.uniforms[r].value=new P().fromArray(a.value);break;case"v4":i.uniforms[r].value=new pi().fromArray(a.value);break;case"m3":i.uniforms[r].value=new kr().fromArray(a.value);case"m4":i.uniforms[r].value=new st().fromArray(a.value);break;default:i.uniforms[r].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),i.normalScale=new et().fromArray(r)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new et().fromArray(e.clearcoatNormalScale)),i},setTextures:function(e){return this.textures=e,this}});const CF={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function P3(){Rt.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}P3.prototype=Object.assign(Object.create(Rt.prototype),{constructor:P3,isInstancedBufferGeometry:!0,copy:function(e){return Rt.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e=Rt.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}});function T_(e,t,n,i){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Vt.call(this,e,t,n),this.meshPerAttribute=i||1}T_.prototype=Object.assign(Object.create(Vt.prototype),{constructor:T_,isInstancedBufferAttribute:!0,copy:function(e){return Vt.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=Vt.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});function F_(e){fi.call(this,e)}F_.prototype=Object.assign(Object.create(fi.prototype),{constructor:F_,load:function(e,t,n,i){const r=this,a=new ic(r.manager);a.setPath(r.path),a.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)},parse:function(e){const t={},n={};function i(d,p){if(t[p]!==void 0)return t[p];const g=d.interleavedBuffers[p],b=r(d,g.buffer),y=new hy[g.type](b),v=new Us(y,g.stride);return v.uuid=g.uuid,t[p]=v,v}function r(d,p){if(n[p]!==void 0)return n[p];const g=d.arrayBuffers[p],b=new Uint32Array(g).buffer;return n[p]=b,b}const a=e.isInstancedBufferGeometry?new P3:new Rt,s=e.data.index;if(s!==void 0){const d=new hy[s.type](s.array);a.setIndex(new Vt(d,1))}const o=e.data.attributes;for(const d in o){const p=o[d];let h;if(p.isInterleavedBufferAttribute){const g=i(e.data,p.data);h=new Cl(g,p.itemSize,p.offset,p.normalized)}else{const g=new hy[p.type](p.array),b=p.isInstancedBufferAttribute?T_:Vt;h=new b(g,p.itemSize,p.normalized)}p.name!==void 0&&(h.name=p.name),a.setAttribute(d,h)}const c=e.data.morphAttributes;if(c)for(const d in c){const p=c[d],h=[];for(let g=0,b=p.length;g<b;g++){const y=p[g];let v;if(y.isInterleavedBufferAttribute){const _=i(e.data,y.data);v=new Cl(_,y.itemSize,y.offset,y.normalized)}else{const _=new hy[y.type](y.array);v=new Vt(_,y.itemSize,y.normalized)}y.name!==void 0&&(v.name=y.name),h.push(v)}a.morphAttributes[d]=h}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(l!==void 0)for(let d=0,p=l.length;d!==p;++d){const h=l[d];a.addGroup(h.start,h.count,h.materialIndex)}const u=e.data.boundingSphere;if(u!==void 0){const d=new P;u.center!==void 0&&d.fromArray(u.center),a.boundingSphere=new m0(d,u.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}});const hy={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function I_(e){fi.call(this,e)}I_.prototype=Object.assign(Object.create(fi.prototype),{constructor:I_,load:function(e,t,n,i){const r=this,a=this.path===""?CF.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new ic(r.manager);s.setPath(this.path),s.load(e,function(o){let c=null;try{c=JSON.parse(o)}catch(l){i!==void 0&&i(l),console.error("THREE:ObjectLoader: Can't parse "+e+".",l.message);return}const A=c.metadata;if(A===void 0||A.type===void 0||A.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(c,t)},n,i)},parse:function(e,t){const n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),r=this.parseImages(e.images,function(){t!==void 0&&t(o)}),a=this.parseTextures(e.textures,r),s=this.parseMaterials(e.materials,a),o=this.parseObject(e.object,i,s);return e.animations&&(o.animations=this.parseAnimations(e.animations)),(e.images===void 0||e.images.length===0)&&t!==void 0&&t(o),o},parseShape:function(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const r=new hl().fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){const n={};let i;if(e!==void 0){const r=new F_;for(let a=0,s=e.length;a<s;a++){let o;const c=e[a];switch(c.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new oa[c.type](c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new oa[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new oa[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new oa[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new oa[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new oa[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new oa[c.type](c.radius,c.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new oa[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new oa[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new oa[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new oa[c.type](new __[c.path.type]().fromJSON(c.path),c.tubularSegments,c.radius,c.radialSegments,c.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new oa[c.type](c.points,c.segments,c.phiStart,c.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new oa[c.type](c.vertices,c.indices,c.radius,c.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":i=[];for(let l=0,u=c.shapes.length;l<u;l++){const d=t[c.shapes[l]];i.push(d)}o=new oa[c.type](i,c.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":i=[];for(let l=0,u=c.shapes.length;l<u;l++){const d=t[c.shapes[l]];i.push(d)}const A=c.options.extrudePath;A!==void 0&&(c.options.extrudePath=new __[A.type]().fromJSON(A)),o=new oa[c.type](i,c.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(c);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+c.type+'"');continue}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),o.isBufferGeometry===!0&&c.userData!==void 0&&(o.userData=c.userData),n[c.uuid]=o}}return n},parseMaterials:function(e,t){const n={},i={};if(e!==void 0){const r=new M_;r.setTextures(t);for(let a=0,s=e.length;a<s;a++){const o=e[a];if(o.type==="MultiMaterial"){const c=[];for(let A=0;A<o.materials.length;A++){const l=o.materials[A];n[l.uuid]===void 0&&(n[l.uuid]=r.parse(l)),c.push(n[l.uuid])}i[o.uuid]=c}else n[o.uuid]===void 0&&(n[o.uuid]=r.parse(o)),i[o.uuid]=n[o.uuid]}}return i},parseAnimations:function(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n],r=yo.parse(i);i.uuid!==void 0&&(r.uuid=i.uuid),t.push(r)}return t},parseImages:function(e,t){const n=this,i={};let r;function a(s){return n.manager.itemStart(s),r.load(s,function(){n.manager.itemEnd(s)},void 0,function(){n.manager.itemError(s),n.manager.itemEnd(s)})}if(e!==void 0&&e.length>0){const s=new RF(t);r=new Gh(s),r.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const A=e[o],l=A.url;if(Array.isArray(l)){i[A.uuid]=[];for(let u=0,d=l.length;u<d;u++){const p=l[u],h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;i[A.uuid].push(a(h))}}else{const u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(A.url)?A.url:n.resourcePath+A.url;i[A.uuid]=a(u)}}}return i},parseTextures:function(e,t){function n(r,a){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),a[r])}const i={};if(e!==void 0)for(let r=0,a=e.length;r<a;r++){const s=e[r];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);let o;Array.isArray(t[s.image])?o=new yA(t[s.image]):o=new Ei(t[s.image]),o.needsUpdate=!0,o.uuid=s.uuid,s.name!==void 0&&(o.name=s.name),s.mapping!==void 0&&(o.mapping=n(s.mapping,Ece)),s.offset!==void 0&&o.offset.fromArray(s.offset),s.repeat!==void 0&&o.repeat.fromArray(s.repeat),s.center!==void 0&&o.center.fromArray(s.center),s.rotation!==void 0&&(o.rotation=s.rotation),s.wrap!==void 0&&(o.wrapS=n(s.wrap[0],OR),o.wrapT=n(s.wrap[1],OR)),s.format!==void 0&&(o.format=s.format),s.type!==void 0&&(o.type=s.type),s.encoding!==void 0&&(o.encoding=s.encoding),s.minFilter!==void 0&&(o.minFilter=n(s.minFilter,HR)),s.magFilter!==void 0&&(o.magFilter=n(s.magFilter,HR)),s.anisotropy!==void 0&&(o.anisotropy=s.anisotropy),s.flipY!==void 0&&(o.flipY=s.flipY),s.premultiplyAlpha!==void 0&&(o.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(o.unpackAlignment=s.unpackAlignment),i[s.uuid]=o}return i},parseObject:function(e,t,n){let i;function r(c){return t[c]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",c),t[c]}function a(c){if(c!==void 0){if(Array.isArray(c)){const A=[];for(let l=0,u=c.length;l<u;l++){const d=c[l];n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),A.push(n[d])}return A}return n[c]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",c),n[c]}}let s,o;switch(e.type){case"Scene":i=new Bd,e.background!==void 0&&Number.isInteger(e.background)&&(i.background=new pt(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?i.fog=new d3(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(i.fog=new s_(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new Ar(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(i.focus=e.focus),e.zoom!==void 0&&(i.zoom=e.zoom),e.filmGauge!==void 0&&(i.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(i.filmOffset=e.filmOffset),e.view!==void 0&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new vA(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(i.zoom=e.zoom),e.view!==void 0&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new L3(e.color,e.intensity);break;case"DirectionalLight":i=new S_(e.color,e.intensity);break;case"PointLight":i=new C_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new G_(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new I3(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new x_(e.color,e.groundColor,e.intensity);break;case"LightProbe":i=new vo().fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":s=r(e.geometry),o=a(e.material),i=new wi(s,o);break;case"InstancedMesh":s=r(e.geometry),o=a(e.material);const c=e.count,A=e.instanceMatrix;i=new l_(s,o,c),i.instanceMatrix=new Vt(new Float32Array(A.array),16);break;case"LOD":i=new p3;break;case"Line":i=new Ks(r(e.geometry),a(e.material),e.mode);break;case"LineLoop":i=new u_(r(e.geometry),a(e.material));break;case"LineSegments":i=new Vi(r(e.geometry),a(e.material));break;case"PointCloud":case"Points":i=new fh(r(e.geometry),a(e.material));break;case"Sprite":i=new o_(a(e.material));break;case"Group":i=new ui;break;default:i=new Bt}if(i.uuid=e.uuid,e.name!==void 0&&(i.name=e.name),e.matrix!==void 0?(i.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(e.position!==void 0&&i.position.fromArray(e.position),e.rotation!==void 0&&i.rotation.fromArray(e.rotation),e.quaternion!==void 0&&i.quaternion.fromArray(e.quaternion),e.scale!==void 0&&i.scale.fromArray(e.scale)),e.castShadow!==void 0&&(i.castShadow=e.castShadow),e.receiveShadow!==void 0&&(i.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(i.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(i.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(i.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&i.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(i.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(i.visible=e.visible),e.frustumCulled!==void 0&&(i.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(i.renderOrder=e.renderOrder),e.userData!==void 0&&(i.userData=e.userData),e.layers!==void 0&&(i.layers.mask=e.layers),e.children!==void 0){const c=e.children;for(let A=0;A<c.length;A++)i.add(this.parseObject(c[A],t,n))}if(e.type==="LOD"){e.autoUpdate!==void 0&&(i.autoUpdate=e.autoUpdate);const c=e.levels;for(let A=0;A<c.length;A++){const l=c[A],u=i.getObjectByProperty("uuid",l.object);u!==void 0&&i.addLevel(u,l.distance)}}return i}});const Ece={UVMapping:u7,CubeReflectionMapping:d7,CubeRefractionMapping:p7,EquirectangularReflectionMapping:eF,EquirectangularRefractionMapping:f7,CubeUVReflectionMapping:sm,CubeUVRefractionMapping:h7},OR={RepeatWrapping:r3,ClampToEdgeWrapping:Ta,MirroredRepeatWrapping:a3},HR={NearestFilter:hi,NearestMipmapNearestFilter:q4,NearestMipmapLinearFilter:X4,LinearFilter:ur,LinearMipmapNearestFilter:tF,LinearMipmapLinearFilter:S2};function QR(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),fi.call(this,e),this.options={premultiplyAlpha:"none"}}QR.prototype=Object.assign(Object.create(fi.prototype),{constructor:QR,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=zd.get(e);if(a!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;fetch(e).then(function(s){return s.blob()}).then(function(s){return createImageBitmap(s,r.options)}).then(function(s){zd.add(e,s),t&&t(s),r.manager.itemEnd(e)}).catch(function(s){i&&i(s),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)}});function NF(){this.type="ShapePath",this.color=new pt,this.subPaths=[],this.currentPath=null}Object.assign(NF.prototype,{moveTo:function(e,t){return this.currentPath=new Wo,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,r,a){return this.currentPath.bezierCurveTo(e,t,n,i,r,a),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(y){const v=[];for(let _=0,w=y.length;_<w;_++){const E=y[_],B=new hl;B.curves=E.curves,v.push(B)}return v}function i(y,v){const _=v.length;let w=!1;for(let E=_-1,B=0;B<_;E=B++){let R=v[E],G=v[B],C=G.x-R.x,O=G.y-R.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(R=v[B],C=-C,G=v[E],O=-O),y.y<R.y||y.y>G.y)continue;if(y.y===R.y){if(y.x===R.x)return!0}else{const I=O*(y.x-R.x)-C*(y.y-R.y);if(I===0)return!0;if(I<0)continue;w=!w}}else{if(y.y!==R.y)continue;if(G.x<=y.x&&y.x<=R.x||R.x<=y.x&&y.x<=G.x)return!0}}return w}const r=oA.isClockWise,a=this.subPaths;if(a.length===0)return[];if(t===!0)return n(a);let s,o,c,A=[];if(a.length===1)return o=a[0],c=new hl,c.curves=o.curves,A.push(c),A;let l=!r(a[0].getPoints());l=e?!l:l;const u=[],d=[];let p=[],h=0,g;d[h]=void 0,p[h]=[];for(let y=0,v=a.length;y<v;y++)o=a[y],g=o.getPoints(),s=r(g),s=e?!s:s,s?(!l&&d[h]&&h++,d[h]={s:new hl,p:g},d[h].s.curves=o.curves,l&&h++,p[h]=[]):p[h].push({h:o,p:g[0]});if(!d[0])return n(a);if(d.length>1){let y=!1;const v=[];for(let _=0,w=d.length;_<w;_++)u[_]=[];for(let _=0,w=d.length;_<w;_++){const E=p[_];for(let B=0;B<E.length;B++){const R=E[B];let G=!0;for(let C=0;C<d.length;C++)i(R.p,d[C].p)&&(_!==C&&v.push({froms:_,tos:C,hole:B}),G?(G=!1,u[C].push(R)):y=!0);G&&u[_].push(R)}}v.length>0&&(y||(p=u))}let b;for(let y=0,v=d.length;y<v;y++){c=d[y].s,A.push(c),b=p[y];for(let _=0,w=b.length;_<w;_++)c.holes.push(b[_].h)}return A}});function SF(e){this.type="Font",this.data=e}Object.assign(SF.prototype,{isFont:!0,generateShapes:function(e,t){t===void 0&&(t=100);const n=[],i=_ce(e,t,this.data);for(let r=0,a=i.length;r<a;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}});function _ce(e,t,n){const i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,s=[];let o=0,c=0;for(let A=0;A<i.length;A++){const l=i[A];if(l===`
`)o=0,c-=a;else{const u=xce(l,r,o,c,n);o+=u.offsetX,s.push(u.path)}}return s}function xce(e,t,n,i,r){const a=r.glyphs[e]||r.glyphs["?"];if(!a){console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");return}const s=new NF;let o,c,A,l,u,d,p,h;if(a.o){const g=a._cachedOutline||(a._cachedOutline=a.o.split(" "));for(let b=0,y=g.length;b<y;)switch(g[b++]){case"m":o=g[b++]*t+n,c=g[b++]*t+i,s.moveTo(o,c);break;case"l":o=g[b++]*t+n,c=g[b++]*t+i,s.lineTo(o,c);break;case"q":A=g[b++]*t+n,l=g[b++]*t+i,u=g[b++]*t+n,d=g[b++]*t+i,s.quadraticCurveTo(u,d,A,l);break;case"b":A=g[b++]*t+n,l=g[b++]*t+i,u=g[b++]*t+n,d=g[b++]*t+i,p=g[b++]*t+n,h=g[b++]*t+i,s.bezierCurveTo(u,d,p,h,A,l);break}}return{offsetX:a.ha*t,path:s}}function zR(e){fi.call(this,e)}zR.prototype=Object.assign(Object.create(fi.prototype),{constructor:zR,load:function(e,t,n,i){const r=this,a=new ic(this.manager);a.setPath(this.path),a.load(e,function(s){let o;try{o=JSON.parse(s)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),o=JSON.parse(s.substring(65,s.length-2))}const c=r.parse(o);t&&t(c)},n,i)},parse:function(e){return new SF(e)}});let my;const GF={getContext:function(){return my===void 0&&(my=new(window.AudioContext||window.webkitAudioContext)),my},setContext:function(e){my=e}};function L_(e){fi.call(this,e)}L_.prototype=Object.assign(Object.create(fi.prototype),{constructor:L_,load:function(e,t,n,i){const r=this,a=new ic(r.manager);a.setResponseType("arraybuffer"),a.setPath(r.path),a.load(e,function(s){try{const o=s.slice(0);GF.getContext().decodeAudioData(o,function(A){t(A)})}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)}});function VR(e,t,n){vo.call(this,void 0,n);const i=new pt().set(e),r=new pt().set(t),a=new P(i.r,i.g,i.b),s=new P(r.r,r.g,r.b),o=Math.sqrt(Math.PI),c=o*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(s).multiplyScalar(o),this.sh.coefficients[1].copy(a).sub(s).multiplyScalar(c)}VR.prototype=Object.assign(Object.create(vo.prototype),{constructor:VR,isHemisphereLightProbe:!0,copy:function(e){return vo.prototype.copy.call(this,e),this},toJSON:function(e){return vo.prototype.toJSON.call(this,e)}});function KR(e,t){vo.call(this,void 0,t);const n=new pt().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}KR.prototype=Object.assign(Object.create(vo.prototype),{constructor:KR,isAmbientLightProbe:!0,copy:function(e){return vo.prototype.copy.call(this,e),this},toJSON:function(e){return vo.prototype.toJSON.call(this,e)}});const WR=new st,$R=new st;function MF(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ar,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ar,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(MF.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const i=e.projectionMatrix.clone(),r=t.eyeSep/2,a=r*t.near/t.focus,s=t.near*Math.tan(_n.DEG2RAD*t.fov*.5)/t.zoom;let o,c;$R.elements[12]=-r,WR.elements[12]=r,o=-s*t.aspect+a,c=s*t.aspect+a,i.elements[0]=2*t.near/(c-o),i.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy(i),o=-s*t.aspect-a,c=s*t.aspect-a,i.elements[0]=2*t.near/(c-o),i.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply($R),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(WR)}});function TF(e){this.autoStart=e!==void 0?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(TF.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=(typeof performance>"u"?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});const WA=new P,jR=new yi,Bce=new P,$A=new P;function YR(){Bt.call(this),this.type="AudioListener",this.context=GF.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new TF}YR.prototype=Object.assign(Object.create(Bt.prototype),{constructor:YR,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){Bt.prototype.updateMatrixWorld.call(this,e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(WA,jR,Bce),$A.set(0,0,-1).applyQuaternion(jR),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(WA.x,i),t.positionY.linearRampToValueAtTime(WA.y,i),t.positionZ.linearRampToValueAtTime(WA.z,i),t.forwardX.linearRampToValueAtTime($A.x,i),t.forwardY.linearRampToValueAtTime($A.y,i),t.forwardZ.linearRampToValueAtTime($A.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(WA.x,WA.y,WA.z),t.setOrientation($A.x,$A.y,$A.z,n.x,n.y,n.z)}});function Th(e){Bt.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}Th.prototype=Object.assign(Object.create(Bt.prototype),{constructor:Th,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(e===void 0&&(e=0),this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});const jA=new P,qR=new yi,Rce=new P,YA=new P;function XR(e){Th.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}XR.prototype=Object.assign(Object.create(Th.prototype),{constructor:XR,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(Bt.prototype.updateMatrixWorld.call(this,e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(jA,qR,Rce),YA.set(0,0,1).applyQuaternion(qR);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(jA.x,n),t.positionY.linearRampToValueAtTime(jA.y,n),t.positionZ.linearRampToValueAtTime(jA.z,n),t.orientationX.linearRampToValueAtTime(YA.x,n),t.orientationY.linearRampToValueAtTime(YA.y,n),t.orientationZ.linearRampToValueAtTime(YA.z,n)}else t.setPosition(jA.x,jA.y,jA.z),t.setOrientation(YA.x,YA.y,YA.z)}});function FF(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t!==void 0?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}Object.assign(FF.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}});function IF(e,t,n){this.binding=e,this.valueSize=n;let i,r,a;switch(t){case"quaternion":i=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(IF.prototype,{accumulate:function(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)n[r+s]=n[s];a=t}else{a+=t;const s=t/a;this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=a},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const o=t*this._origIndex;this._mixBufferRegion(n,i,o,1-r,t)}a>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let o=t,c=t+t;o!==c;++o)if(n[o]!==n[o+t]){s.setValue(n,i);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,a=i;r!==a;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*4+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,i,r){if(i>=.5)for(let a=0;a!==r;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,i){yi.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,r){const a=this._workIndex*r;yi.multiplyQuaternionsFlat(e,a,e,t,e,n),yi.slerpFlat(e,t,e,t,e,a,i)},_lerp:function(e,t,n,i,r){const a=1-i;for(let s=0;s!==r;++s){const o=t+s;e[o]=e[o]*a+e[n+s]*i}},_lerpAdditive:function(e,t,n,i,r){for(let a=0;a!==r;++a){const s=t+a;e[s]=e[s]+e[n+a]*i}}});const E7="\\[\\]\\.:\\/",Cce=new RegExp("["+E7+"]","g"),_7="[^"+E7+"]",Nce="[^"+E7.replace("\\.","")+"]",Sce=/((?:WC+[\/:])*)/.source.replace("WC",_7),Gce=/(WCOD+)?/.source.replace("WCOD",Nce),Mce=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_7),Tce=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_7),Fce=new RegExp("^"+Sce+Gce+Mce+Tce+"$"),Ice=["material","materials","bones"];function LF(e,t,n){const i=n||ha.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}Object.assign(LF.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function ha(e,t,n){this.path=t,this.parsedPath=n||ha.parseTrackName(t),this.node=ha.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(ha,{Composite:LF,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new ha.Composite(e,t,n):new ha(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Cce,"")},parseTrackName:function(e){const t=Fce.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=n.nodeName.substring(i+1);Ice.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(r){for(let a=0;a<r.length;a++){const s=r[a];if(s.name===t||s.uuid===t)return s;const o=n(s.children);if(o)return o}return null},i=n(e.children);if(i)return i}return null}});Object.assign(ha.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)t[n++]=i[r]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=t[n++]},function(t,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){let e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=ha.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let A=0;A<e.length;A++)if(e[A].name===c){c=A;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}o=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else a.fromArray!==void 0&&a.toArray!==void 0?(o=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(o=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][s]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(ha.prototype,{_getValue_unbound:ha.prototype.getValue,_setValue_unbound:ha.prototype.setValue});function Lce(){this.uuid=_n.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign(Lce.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,a=r.length;let s,o=e.length,c=this.nCachedObjects_;for(let A=0,l=arguments.length;A!==l;++A){const u=arguments[A],d=u.uuid;let p=t[d];if(p===void 0){p=o++,t[d]=p,e.push(u);for(let h=0,g=a;h!==g;++h)r[h].push(new ha(u,n[h],i[h]))}else if(p<c){s=e[p];const h=--c,g=e[h];t[g.uuid]=p,e[p]=g,t[d]=h,e[h]=u;for(let b=0,y=a;b!==y;++b){const v=r[b],_=v[h];let w=v[p];v[p]=_,w===void 0&&(w=new ha(u,n[b],i[b])),v[h]=w}}else e[p]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const o=arguments[a],c=o.uuid,A=t[c];if(A!==void 0&&A>=r){const l=r++,u=e[l];t[u.uuid]=A,e[A]=u,t[c]=l,e[l]=o;for(let d=0,p=i;d!==p;++d){const h=n[d],g=h[l],b=h[A];h[A]=g,h[l]=b}}}this.nCachedObjects_=r},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,a=e.length;for(let s=0,o=arguments.length;s!==o;++s){const c=arguments[s],A=c.uuid,l=t[A];if(l!==void 0)if(delete t[A],l<r){const u=--r,d=e[u],p=--a,h=e[p];t[d.uuid]=l,e[l]=d,t[h.uuid]=u,e[u]=h,e.pop();for(let g=0,b=i;g!==b;++g){const y=n[g],v=y[u],_=y[p];y[l]=v,y[u]=_,y.pop()}}else{const u=--a,d=e[u];t[d.uuid]=l,e[l]=d,e.pop();for(let p=0,h=i;p!==h;++p){const g=n[p];g[l]=g[u],g.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){let n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(i!==void 0)return r[i];const a=this._paths,s=this._parsedPaths,o=this._objects,c=o.length,A=this.nCachedObjects_,l=new Array(c);i=r.length,n[e]=i,a.push(e),s.push(t),r.push(l);for(let u=A,d=o.length;u!==d;++u){const p=o[u];l[u]=new ha(p,e,t)}return l},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length-1,o=a[s],c=e[s];t[c]=n,a[n]=o,a.pop(),r[n]=r[s],r.pop(),i[n]=i[s],i.pop()}}});function PF(e,t,n,i){this._mixer=e,this._clip=t,this._localRoot=n||null,this.blendMode=i||t.blendMode;const r=t.tracks,a=r.length,s=new Array(a),o={endingStart:xd,endingEnd:xd};for(let c=0;c!==a;++c){const A=r[c].createInterpolant(null);s[c]=A,A.settings=o}this._interpolantSettings=o,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Cie,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(PF.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,r=e._clip.duration,a=r/i,s=i/r;e.warp(1,a,t),this.warp(s,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){const i=this._mixer,r=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const o=s.parameterPositions,c=s.sampleValues;return o[0]=r,o[1]=r+n,c[0]=e/a,c[1]=t/a,this},stopWarping:function(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const o=(e-r)*n;if(o<0||n===0)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);const a=this._updateTime(t),s=this._updateWeight(e);if(s>0){const o=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case nF:for(let A=0,l=o.length;A!==l;++A)o[A].evaluate(a),c[A].accumulateAdditive(s);break;case m7:default:for(let A=0,l=o.length;A!==l;++A)o[A].evaluate(a),c[A].accumulate(i,s)}}},_updateWeight:function(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const a=n===Nie;if(e===0)return r===-1?i:a&&(r&1)===1?t-i:i;if(n===Rie){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=t||i<0){const s=Math.floor(i/t);i-=t*s,r+=Math.abs(s);const o=this.repetitions-r;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(o===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(r&1)===1)return t-i}return i},_setEndings:function(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Xu,i.endingEnd=Xu):(e?i.endingStart=this.zeroSlopeAtStart?Xu:xd:i.endingStart=A3,t?i.endingEnd=this.zeroSlopeAtEnd?Xu:xd:i.endingEnd=A3)},_scheduleFading:function(e,t,n){const i=this._mixer,r=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,o=a.sampleValues;return s[0]=r,o[0]=t,s[1]=r+e,o[1]=n,this}});function ZR(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}ZR.prototype=Object.assign(Object.create(h0.prototype),{constructor:ZR,_bindAction:function(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings,s=e._interpolants,o=n.uuid,c=this._bindingsByRootAndName;let A=c[o];A===void 0&&(A={},c[o]=A);for(let l=0;l!==r;++l){const u=i[l],d=u.name;let p=A[d];if(p!==void 0)a[l]=p;else{if(p=a[l],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,o,d));continue}const h=t&&t._propertyBindings[l].binding.parsedPath;p=new IF(ha.create(n,d,h),u.ValueTypeName,u.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,o,d),a[l]=p}s[l].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const i=this._actions,r=this._actionsByClip;let a=r[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,a=this._actionsByClip,s=a[r],o=s.knownActions,c=o[o.length-1],A=e._byClipCacheIndex;c._byClipCacheIndex=A,o[A]=c,o.pop(),e._byClipCacheIndex=null;const l=s.actionByRoot,u=(e._localRoot||this._root).uuid;delete l[u],o.length===0&&delete a[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.referenceCount===0&&this._removeInactiveBinding(r)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let a=i[t];a===void 0&&(a={},i[t]=a),a[n]=e,e._cacheIndex=r.length,r.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,s=a[i],o=t[t.length-1],c=e._cacheIndex;o._cacheIndex=c,t[c]=o,t.pop(),delete s[r],Object.keys(s).length===0&&delete a[i]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new T3(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const i=t||this._root,r=i.uuid;let a=typeof e=="string"?yo.findByName(i,e):e;const s=a!==null?a.uuid:e;let o=this._actionsByClip[s],c=null;if(n===void 0&&(a!==null?n=a.blendMode:n=m7),o!==void 0){const l=o.actionByRoot[r];if(l!==void 0&&l.blendMode===n)return l;c=o.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const A=new PF(this,a,t,n);return this._bindAction(A,c),this._addInactiveAction(A,s,r),A},existingAction:function(e,t){const n=t||this._root,i=n.uuid,r=typeof e=="string"?yo.findByName(n,e):e,a=r?r.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null},stopAllAction:function(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(i,e,r,a);const s=this._bindings,o=this._nActiveBindings;for(let c=0;c!==o;++c)s[c].apply(a);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(r!==void 0){const a=r.knownActions;for(let s=0,o=a.length;s!==o;++s){const c=a[s];this._deactivateAction(c);const A=c._cacheIndex,l=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,l._cacheIndex=A,t[A]=l,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const s=n[a].actionByRoot,o=s[t];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}const i=this._bindingsByRootAndName,r=i[t];if(r!==void 0)for(const a in r){const s=r[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});function Fh(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}Fh.prototype.clone=function(){return new Fh(this.value.clone===void 0?this.value:this.value.clone())};function JR(e,t,n){Us.call(this,e,t),this.meshPerAttribute=n||1}JR.prototype=Object.assign(Object.create(Us.prototype),{constructor:JR,isInstancedInterleavedBuffer:!0,copy:function(e){return Us.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=Us.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=Us.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}});function UF(e,t,n,i){this.ray=new Jd(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new b7,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function eC(e,t){return e.distance-t.distance}function P_(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),i===!0){const r=e.children;for(let a=0,s=r.length;a<s;a++)P_(r[a],t,n,!0)}}Object.assign(UF.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){const i=n||[];return P_(e,this,i,t),i.sort(eC),i},intersectObjects:function(e,t,n){const i=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let r=0,a=e.length;r<a;r++)P_(e[r],this,i,t);return i.sort(eC),i}});function Pce(e,t,n){return this.radius=e!==void 0?e:1,this.phi=t!==void 0?t:0,this.theta=n!==void 0?n:0,this}Object.assign(Pce.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(_n.clamp(t/this.radius,-1,1))),this}});function Uce(e,t,n){return this.radius=e!==void 0?e:1,this.theta=t!==void 0?t:0,this.y=n!==void 0?n:0,this}Object.assign(Uce.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});const tC=new et;function DF(e,t){this.min=e!==void 0?e:new et(1/0,1/0),this.max=t!==void 0?t:new et(-1/0,-1/0)}Object.assign(DF.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const n=tC.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new et),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new et),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new et),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new et),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return tC.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});const nC=new P,yy=new P;function kF(e,t){this.start=e!==void 0?e:new P,this.end=t!==void 0?t:new P}Object.assign(kF.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new P),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new P),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return t===void 0&&(console.warn("THREE.Line3: .at() target is now required"),t=new P),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){nC.subVectors(e,this.start),yy.subVectors(this.end,this.start);const n=yy.dot(yy);let r=yy.dot(nC)/n;return t&&(r=_n.clamp(r,0,1)),r},closestPointToPoint:function(e,t,n){const i=this.closestPointToPointParameter(e,t);return n===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new P),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}});function U3(e){Bt.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}U3.prototype=Object.create(Bt.prototype);U3.prototype.constructor=U3;U3.prototype.isImmediateRenderObject=!0;const iC=new P;function Ih(e,t){Bt.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new Rt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,o=32;a<o;a++,s++){const c=a/o*Math.PI*2,A=s/o*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(A),Math.sin(A),1)}n.setAttribute("position",new Gt(i,3));const r=new rr({fog:!1,toneMapped:!1});this.cone=new Vi(n,r),this.add(this.cone),this.update()}Ih.prototype=Object.create(Bt.prototype);Ih.prototype.constructor=Ih;Ih.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()};Ih.prototype.update=function(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),iC.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(iC),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};const O0=new P,gy=new st,Cw=new st;function OF(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,OF(e.children[n]));return t}function Vd(e){const t=OF(e),n=new Rt,i=[],r=[],a=new pt(0,0,1),s=new pt(0,1,0);for(let c=0;c<t.length;c++){const A=t[c];A.parent&&A.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(a.r,a.g,a.b),r.push(s.r,s.g,s.b))}n.setAttribute("position",new Gt(i,3)),n.setAttribute("color",new Gt(r,3));const o=new rr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});Vi.call(this,n,o),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}Vd.prototype=Object.create(Vi.prototype);Vd.prototype.constructor=Vd;Vd.prototype.isSkeletonHelper=!0;Vd.prototype.updateMatrixWorld=function(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");Cw.getInverse(this.root.matrixWorld);for(let r=0,a=0;r<t.length;r++){const s=t[r];s.parent&&s.parent.isBone&&(gy.multiplyMatrices(Cw,s.matrixWorld),O0.setFromMatrixPosition(gy),i.setXYZ(a,O0.x,O0.y,O0.z),gy.multiplyMatrices(Cw,s.parent.matrixWorld),O0.setFromMatrixPosition(gy),i.setXYZ(a+1,O0.x,O0.y,O0.z),a+=2)}n.getAttribute("position").needsUpdate=!0,Bt.prototype.updateMatrixWorld.call(this,e)};function Lh(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;const i=new Td(t,4,2),r=new Eo({wireframe:!0,fog:!1,toneMapped:!1});wi.call(this,i,r),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}Lh.prototype=Object.create(wi.prototype);Lh.prototype.constructor=Lh;Lh.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()};Lh.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};const Dce=new P,rC=new pt,aC=new pt;function Ph(e,t,n){Bt.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new Gl(t);i.rotateY(Math.PI*.5),this.material=new Eo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),a=new Float32Array(r.count*3);i.setAttribute("color",new Vt(a,3)),this.add(new wi(i,this.material)),this.update()}Ph.prototype=Object.create(Bt.prototype);Ph.prototype.constructor=Ph;Ph.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()};Ph.prototype.update=function(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");rC.copy(this.light.color),aC.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const r=n<i/2?rC:aC;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(Dce.setFromMatrixPosition(this.light.matrixWorld).negate())};function U_(e,t,n,i){e=e||10,t=t||10,n=new pt(n!==void 0?n:4473924),i=new pt(i!==void 0?i:8947848);const r=t/2,a=e/t,s=e/2,o=[],c=[];for(let u=0,d=0,p=-s;u<=t;u++,p+=a){o.push(-s,0,p,s,0,p),o.push(p,0,-s,p,0,s);const h=u===r?n:i;h.toArray(c,d),d+=3,h.toArray(c,d),d+=3,h.toArray(c,d),d+=3,h.toArray(c,d),d+=3}const A=new Rt;A.setAttribute("position",new Gt(o,3)),A.setAttribute("color",new Gt(c,3));const l=new rr({vertexColors:!0,toneMapped:!1});Vi.call(this,A,l),this.type="GridHelper"}U_.prototype=Object.assign(Object.create(Vi.prototype),{constructor:U_,copy:function(e){return Vi.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return new this.constructor().copy(this)}});function D_(e,t,n,i,r,a){e=e||10,t=t||16,n=n||8,i=i||64,r=new pt(r!==void 0?r:4473924),a=new pt(a!==void 0?a:8947848);const s=[],o=[];for(let l=0;l<=t;l++){const u=l/t*(Math.PI*2),d=Math.sin(u)*e,p=Math.cos(u)*e;s.push(0,0,0),s.push(d,0,p);const h=l&1?r:a;o.push(h.r,h.g,h.b),o.push(h.r,h.g,h.b)}for(let l=0;l<=n;l++){const u=l&1?r:a,d=e-e/n*l;for(let p=0;p<i;p++){let h=p/i*(Math.PI*2),g=Math.sin(h)*d,b=Math.cos(h)*d;s.push(g,0,b),o.push(u.r,u.g,u.b),h=(p+1)/i*(Math.PI*2),g=Math.sin(h)*d,b=Math.cos(h)*d,s.push(g,0,b),o.push(u.r,u.g,u.b)}}const c=new Rt;c.setAttribute("position",new Gt(s,3)),c.setAttribute("color",new Gt(o,3));const A=new rr({vertexColors:!0,toneMapped:!1});Vi.call(this,c,A),this.type="PolarGridHelper"}D_.prototype=Object.create(Vi.prototype);D_.prototype.constructor=D_;const sC=new P,by=new P,oC=new P;function Uh(e,t,n){Bt.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);let i=new Rt;i.setAttribute("position",new Gt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new rr({fog:!1,toneMapped:!1});this.lightPlane=new Ks(i,r),this.add(this.lightPlane),i=new Rt,i.setAttribute("position",new Gt([0,0,0,0,0,1],3)),this.targetLine=new Ks(i,r),this.add(this.targetLine),this.update()}Uh.prototype=Object.create(Bt.prototype);Uh.prototype.constructor=Uh;Uh.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()};Uh.prototype.update=function(){sC.setFromMatrixPosition(this.light.matrixWorld),by.setFromMatrixPosition(this.light.target.matrixWorld),oC.subVectors(by,sC),this.lightPlane.lookAt(by),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(by),this.targetLine.scale.z=oC.length()};const vy=new P,$i=new r0;function D3(e){const t=new Rt,n=new rr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],a={},s=new pt(16755200),o=new pt(16711680),c=new pt(43775),A=new pt(16777215),l=new pt(3355443);u("n1","n2",s),u("n2","n4",s),u("n4","n3",s),u("n3","n1",s),u("f1","f2",s),u("f2","f4",s),u("f4","f3",s),u("f3","f1",s),u("n1","f1",s),u("n2","f2",s),u("n3","f3",s),u("n4","f4",s),u("p","n1",o),u("p","n2",o),u("p","n3",o),u("p","n4",o),u("u1","u2",c),u("u2","u3",c),u("u3","u1",c),u("c","t",A),u("p","c",l),u("cn1","cn2",l),u("cn3","cn4",l),u("cf1","cf2",l),u("cf3","cf4",l);function u(p,h,g){d(p,g),d(h,g)}function d(p,h){i.push(0,0,0),r.push(h.r,h.g,h.b),a[p]===void 0&&(a[p]=[]),a[p].push(i.length/3-1)}t.setAttribute("position",new Gt(i,3)),t.setAttribute("color",new Gt(r,3)),Vi.call(this,t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}D3.prototype=Object.create(Vi.prototype);D3.prototype.constructor=D3;D3.prototype.update=function(){const e=this.geometry,t=this.pointMap,n=1,i=1;$i.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Zi("c",t,e,$i,0,0,-1),Zi("t",t,e,$i,0,0,1),Zi("n1",t,e,$i,-n,-i,-1),Zi("n2",t,e,$i,n,-i,-1),Zi("n3",t,e,$i,-n,i,-1),Zi("n4",t,e,$i,n,i,-1),Zi("f1",t,e,$i,-n,-i,1),Zi("f2",t,e,$i,n,-i,1),Zi("f3",t,e,$i,-n,i,1),Zi("f4",t,e,$i,n,i,1),Zi("u1",t,e,$i,n*.7,i*1.1,-1),Zi("u2",t,e,$i,-n*.7,i*1.1,-1),Zi("u3",t,e,$i,0,i*2,-1),Zi("cf1",t,e,$i,-n,0,1),Zi("cf2",t,e,$i,n,0,1),Zi("cf3",t,e,$i,0,-i,1),Zi("cf4",t,e,$i,0,i,1),Zi("cn1",t,e,$i,-n,0,-1),Zi("cn2",t,e,$i,n,0,-1),Zi("cn3",t,e,$i,0,-i,-1),Zi("cn4",t,e,$i,0,i,-1),e.getAttribute("position").needsUpdate=!0};function Zi(e,t,n,i,r,a,s){vy.set(r,a,s).unproject(i);const o=t[e];if(o!==void 0){const c=n.getAttribute("position");for(let A=0,l=o.length;A<l;A++)c.setXYZ(o[A],vy.x,vy.y,vy.z)}}const wy=new gi;function Fl(e,t){this.object=e,t===void 0&&(t=16776960);const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),r=new Rt;r.setIndex(new Vt(n,1)),r.setAttribute("position",new Vt(i,3)),Vi.call(this,r,new rr({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}Fl.prototype=Object.create(Vi.prototype);Fl.prototype.constructor=Fl;Fl.prototype.update=function(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&wy.setFromObject(this.object),wy.isEmpty())return;const t=wy.min,n=wy.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()};Fl.prototype.setFromObject=function(e){return this.object=e,this.update(),this};Fl.prototype.copy=function(e){return Vi.prototype.copy.call(this,e),this.object=e.object,this};Fl.prototype.clone=function(){return new this.constructor().copy(this)};function k3(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new Rt;r.setIndex(new Vt(n,1)),r.setAttribute("position",new Gt(i,3)),Vi.call(this,r,new rr({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}k3.prototype=Object.create(Vi.prototype);k3.prototype.constructor=k3;k3.prototype.updateMatrixWorld=function(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Bt.prototype.updateMatrixWorld.call(this,e))};function O3(e,t,n){this.plane=e,this.size=t===void 0?1:t;const i=n!==void 0?n:16776960,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],a=new Rt;a.setAttribute("position",new Gt(r,3)),a.computeBoundingSphere(),Ks.call(this,a,new rr({color:i,toneMapped:!1})),this.type="PlaneHelper";const s=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],o=new Rt;o.setAttribute("position",new Gt(s,3)),o.computeBoundingSphere(),this.add(new wi(o,new Eo({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}O3.prototype=Object.create(Ks.prototype);O3.prototype.constructor=O3;O3.prototype.updateMatrixWorld=function(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?yr:Xd,this.lookAt(this.plane.normal),Bt.prototype.updateMatrixWorld.call(this,e)};const cC=new P;let Ey,Nw;function wA(e,t,n,i,r,a){Bt.call(this),this.type="ArrowHelper",e===void 0&&(e=new P(0,0,1)),t===void 0&&(t=new P(0,0,0)),n===void 0&&(n=1),i===void 0&&(i=16776960),r===void 0&&(r=.2*n),a===void 0&&(a=.2*r),Ey===void 0&&(Ey=new Rt,Ey.setAttribute("position",new Gt([0,0,0,0,1,0],3)),Nw=new o0(0,.5,1,5,1),Nw.translate(0,-.5,0)),this.position.copy(t),this.line=new Ks(Ey,new rr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new wi(Nw,new Eo({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,a)}wA.prototype=Object.create(Bt.prototype);wA.prototype.constructor=wA;wA.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{cC.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(cC,t)}};wA.prototype.setLength=function(e,t,n){t===void 0&&(t=.2*e),n===void 0&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()};wA.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)};wA.prototype.copy=function(e){return Bt.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this};wA.prototype.clone=function(){return new this.constructor().copy(this)};function k_(e){e=e||1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Rt;i.setAttribute("position",new Gt(t,3)),i.setAttribute("color",new Gt(n,3));const r=new rr({vertexColors:!0,toneMapped:!1});Vi.call(this,i,r),this.type="AxesHelper"}k_.prototype=Object.create(Vi.prototype);k_.prototype.constructor=k_;const ud=4,cA=8,Ho=Math.pow(2,cA),HF=[.125,.215,.35,.446,.526,.582],QF=cA-ud+1+HF.length,ku=20,qo={[ea]:0,[om]:1,[g7]:2,[iF]:3,[rF]:4,[aF]:5,[y7]:6},Sw=new vA,{_lodPlanes:Op,_sizeLods:AC,_sigmas:_y}=Oce();let Gw=null;const el=(1+Math.sqrt(5))/2,Cu=1/el,lC=[new P(1,1,1),new P(-1,1,1),new P(1,1,-1),new P(-1,1,-1),new P(0,el,Cu),new P(0,el,-Cu),new P(Cu,0,el),new P(-Cu,0,el),new P(el,Cu,0),new P(-el,Cu,0)];function uC(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=Hce(ku),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}uC.prototype={constructor:uC,fromScene:function(e,t=0,n=.1,i=100){Gw=this._renderer.getRenderTarget();const r=this._allocateTargets();return this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r},fromEquirectangular:function(e){return this._fromTexture(e)},fromCubemap:function(e){return this._fromTexture(e)},compileCubemapShader:function(){this._cubemapShader===null&&(this._cubemapShader=fC(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){this._equirectShader===null&&(this._equirectShader=pC(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<Op.length;e++)Op[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Gw),e.scissorTest=!1,xy(e,0,0,e.width,e.height)},_fromTexture:function(e){Gw=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},_allocateTargets:function(e){const t={magFilter:hi,minFilter:hi,generateMipmaps:!1,type:_l,format:zne,encoding:kce(e)?e.encoding:g7,depthBuffer:!1,stencilBuffer:!1},n=dC(t);return n.depthBuffer=!e,this._pingPongRenderTarget=dC(t),n},_compileMaterial:function(e){const t=new wi(Op[0],e);this._renderer.compile(t,Sw)},_sceneToCubeUV:function(e,t,n,i){const s=new Ar(90,1,t,n),o=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],A=this._renderer,l=A.outputEncoding,u=A.toneMapping,d=A.getClearColor(),p=A.getClearAlpha();A.toneMapping=Ad,A.outputEncoding=ea;let h=e.background;if(h&&h.isColor){h.convertSRGBToLinear();const g=Math.max(h.r,h.g,h.b),b=Math.min(Math.max(Math.ceil(Math.log2(g)),-128),127);h=h.multiplyScalar(Math.pow(2,-b));const y=(b+128)/255;A.setClearColor(h,y),e.background=null}for(let g=0;g<6;g++){const b=g%3;b==0?(s.up.set(0,o[g],0),s.lookAt(c[g],0,0)):b==1?(s.up.set(0,0,o[g]),s.lookAt(0,c[g],0)):(s.up.set(0,o[g],0),s.lookAt(0,0,c[g])),xy(i,b*Ho,g>2?Ho:0,Ho,Ho),A.setRenderTarget(i),A.render(e,s)}A.toneMapping=u,A.outputEncoding=l,A.setClearColor(d,p)},_textureToCubeUV:function(e,t){const n=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=fC()):this._equirectShader==null&&(this._equirectShader=pC());const i=e.isCubeTexture?this._cubemapShader:this._equirectShader,r=new wi(Op[0],i),a=i.uniforms;a.envMap.value=e,e.isCubeTexture||a.texelSize.value.set(1/e.image.width,1/e.image.height),a.inputEncoding.value=qo[e.encoding],a.outputEncoding.value=qo[t.texture.encoding],xy(t,0,0,3*Ho,2*Ho),n.setRenderTarget(t),n.render(r,Sw)},_applyPMREM:function(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<QF;i++){const r=Math.sqrt(_y[i]*_y[i]-_y[i-1]*_y[i-1]),a=lC[(i-1)%lC.length];this._blur(e,i-1,i,r,a)}t.autoClear=n},_blur:function(e,t,n,i,r){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,i,"latitudinal",r),this._halfBlur(a,e,n,n,i,"longitudinal",r)},_halfBlur:function(e,t,n,i,r,a,s){const o=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const A=3,l=new wi(Op[i],c),u=c.uniforms,d=AC[n]-1,p=isFinite(r)?Math.PI/(2*d):2*Math.PI/(2*ku-1),h=r/p,g=isFinite(r)?1+Math.floor(A*h):ku;g>ku&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${ku}`);const b=[];let y=0;for(let E=0;E<ku;++E){const B=E/h,R=Math.exp(-B*B/2);b.push(R),E==0?y+=R:E<g&&(y+=2*R)}for(let E=0;E<b.length;E++)b[E]=b[E]/y;u.envMap.value=e.texture,u.samples.value=g,u.weights.value=b,u.latitudinal.value=a==="latitudinal",s&&(u.poleAxis.value=s),u.dTheta.value=p,u.mipInt.value=cA-n,u.inputEncoding.value=qo[e.texture.encoding],u.outputEncoding.value=qo[e.texture.encoding];const v=AC[i],_=3*Math.max(0,Ho-2*v),w=(i===0?0:2*Ho)+2*v*(i>cA-ud?i-cA+ud:0);xy(t,_,w,3*v,2*v),o.setRenderTarget(t),o.render(l,Sw)}};function kce(e){return e===void 0||e.type!==_l?!1:e.encoding===ea||e.encoding===om||e.encoding===y7}function Oce(){const e=[],t=[],n=[];let i=cA;for(let r=0;r<QF;r++){const a=Math.pow(2,i);t.push(a);let s=1/a;r>cA-ud?s=HF[r-cA+ud-1]:r==0&&(s=0),n.push(s);const o=1/(a-1),c=-o/2,A=1+o/2,l=[c,c,A,c,A,A,c,c,A,A,c,A],u=6,d=6,p=3,h=2,g=1,b=new Float32Array(p*d*u),y=new Float32Array(h*d*u),v=new Float32Array(g*d*u);for(let w=0;w<u;w++){const E=w%3*2/3-1,B=w>2?0:-1,R=[E,B,0,E+2/3,B,0,E+2/3,B+1,0,E,B,0,E+2/3,B+1,0,E,B+1,0];b.set(R,p*d*w),y.set(l,h*d*w);const G=[w,w,w,w,w,w];v.set(G,g*d*w)}const _=new Rt;_.setAttribute("position",new Vt(b,p)),_.setAttribute("uv",new Vt(y,h)),_.setAttribute("faceIndex",new Vt(v,g)),e.push(_),i>ud&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function dC(e){const t=new fa(3*Ho,3*Ho,e);return t.texture.mapping=sm,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function xy(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function Hce(e){const t=new Float32Array(e),n=new P(0,1,0);return new bA({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:qo[ea]},outputEncoding:{value:qo[ea]}},vertexShader:x7(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform int samples;
uniform float weights[n];
uniform bool latitudinal;
uniform float dTheta;
uniform float mipInt;
uniform vec3 poleAxis;

${B7()}

#define ENVMAP_TYPE_CUBE_UV
#include <cube_uv_reflection_fragment>

vec3 getSample(float theta, vec3 axis) {
	float cosTheta = cos(theta);
	// Rodrigues' axis-angle rotation
	vec3 sampleDirection = vOutputDirection * cosTheta
		+ cross(axis, vOutputDirection) * sin(theta)
		+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);
	return bilinearCubeUV(envMap, sampleDirection, mipInt);
}

void main() {
	vec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);
	if (all(equal(axis, vec3(0.0))))
		axis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);
	axis = normalize(axis);
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb += weights[0] * getSample(0.0, axis);
	for (int i = 1; i < n; i++) {
		if (i >= samples)
			break;
		float theta = dTheta * float(i);
		gl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);
		gl_FragColor.rgb += weights[i] * getSample(theta, axis);
	}
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:Xc,depthTest:!1,depthWrite:!1})}function pC(){const e=new et(1,1);return new bA({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:qo[ea]},outputEncoding:{value:qo[ea]}},vertexShader:x7(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform vec2 texelSize;

${B7()}

#include <common>

void main() {
	gl_FragColor = vec4(0.0);
	vec3 outputDirection = normalize(vOutputDirection);
	vec2 uv = equirectUv( outputDirection );
	vec2 f = fract(uv / texelSize - 0.5);
	uv -= f * texelSize;
	vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x += texelSize.x;
	vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.y += texelSize.y;
	vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x -= texelSize.x;
	vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	vec3 tm = mix(tl, tr, f.x);
	vec3 bm = mix(bl, br, f.x);
	gl_FragColor.rgb = mix(tm, bm, f.y);
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:Xc,depthTest:!1,depthWrite:!1})}function fC(){return new bA({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:qo[ea]},outputEncoding:{value:qo[ea]}},vertexShader:x7(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform samplerCube envMap;

${B7()}

void main() {
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:Xc,depthTest:!1,depthWrite:!1})}function x7(){return`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;

// RH coordinate system; PMREM face-indexing convention
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx; // ( 1, v, u ) pos x
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.xz *= -1.0; // ( -u, 1, -v ) pos y
	} else if (face == 2.0) {
		direction.x *= -1.0; // ( -u, v, 1 ) pos z
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.xz *= -1.0; // ( -1, v, -u ) neg x
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.xy *= -1.0; // ( -u, -1, v ) neg y
	} else if (face == 5.0) {
		direction.z *= -1.0; // ( u, v, -1 ) neg z
	}
	return direction;
}

void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`}function B7(){return`
uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	`}Yt.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Yt.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(nA.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new an;for(let n=0,i=e.length;n<i;n++){const r=e[n];t.vertices.push(new P(r.x,r.y,r.z||0))}return t}});Object.assign(Wo.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});Object.create(as.prototype);Object.create(as.prototype);function zF(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),as.call(this,e),this.type="catmullrom"}zF.prototype=Object.create(as.prototype);Object.assign(zF.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});U_.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Vd.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(fi.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),CF.extractUrlBase(e)}});fi.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Object.assign(I_.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}});Object.assign(DF.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(gi.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(m0.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});Am.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};kF.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Object.assign(_n,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),_n.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),_n.ceilPowerOfTwo(e)}});Object.assign(kr.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(st.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new P().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,a)}});Ko.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};yi.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)};Object.assign(Jd.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(Ur.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(Ur,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ur.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ur.getNormal(e,t,n,i)}});Object.assign(hl.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Md(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Fd(this,e)}});Object.assign(et.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(P.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(pi.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(an.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.assign(Bt.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Bt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(wi.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(wi.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Sie},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(p3.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(A_.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});c_.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Yt.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});Ar.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(Gi.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(Vt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===sh},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(sh)}}});Object.assign(Vt.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?sh:G2),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Rt.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Vt(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Rt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(P3.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}});Object.defineProperties(UF.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}});Object.defineProperties(Us.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===sh},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}});Object.assign(Us.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?sh:G2),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(s0.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(Fh.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(pn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new pt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===XT}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}});Object.defineProperties(Tl.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(vr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(lm.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(lm.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?om:ea}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(gF.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(fa.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Object.defineProperties(Th.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new L_().load(e,function(i){t.setBuffer(i)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});FF.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Ah.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};xl.crossOrigin=void 0;xl.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new E_;r.setCrossOrigin(this.crossOrigin);const a=r.load(e,n,void 0,i);return t&&(a.mapping=t),a};xl.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new w_;r.setCrossOrigin(this.crossOrigin);const a=r.load(e,n,void 0,i);return t&&(a.mapping=t),a};xl.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};xl.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:rne}}));var O_={exports:{}};(function(e,t){/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var n,i,r,a,s,o,c,A,l,u,d,p,h,g,b,y,v,_,w,E,B,R,G,C,O,I,D,k,L,T,H,W,j,ce,ue,te,re,ae,fe,ye,se,me,pe,Ee,ee,ie,oe,he,Re,Ge,Le,K,Z,Ce,ve,de,be,Pe,Ve,Fe,He,ke,qe,Ye,We,mt,Qt,Dt,Me,it,ut,vt,ot,Ht,Et,bt,en,ct,yt,Mt,Ae,ze,Ue=[].slice;ct=function(){var S,U,Q,Y,q;for(S={},q="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),Y=0,U=q.length;Y<U;Y++)Q=q[Y],S["[object "+Q+"]"]=Q.toLowerCase();return function(le){var ge;return ge=Object.prototype.toString.call(le),S[ge]||"object"}}(),oe=function(S,U,Q){return U==null&&(U=0),Q==null&&(Q=1),S<U&&(S=U),S>Q&&(S=Q),S},yt=function(S){return S.length>=3?Array.prototype.slice.call(S):S[0]},B=function(S){var U,Q;for(S._clipped=!1,S._unclipped=S.slice(0),U=Q=0;Q<3;U=++Q)U<3?((S[U]<0||S[U]>255)&&(S._clipped=!0),S[U]<0&&(S[U]=0),S[U]>255&&(S[U]=255)):U===3&&(S[U]<0&&(S[U]=0),S[U]>1&&(S[U]=1));return S._clipped||delete S._unclipped,S},a=Math.PI,ot=Math.round,G=Math.cos,k=Math.floor,de=Math.pow,he=Math.log,Et=Math.sin,bt=Math.sqrt,g=Math.atan2,Le=Math.max,h=Math.abs,c=a*2,s=a/3,i=a/180,o=180/a,E=function(){return arguments[0]instanceof n?arguments[0]:function(S,U,Q){Q.prototype=S.prototype;var Y=new Q,q=S.apply(Y,U);return Object(q)===q?q:Y}(n,arguments,function(){})},E.default=E,p=[],e!==null&&e.exports!=null&&(e.exports=E),vt=t!==null?t:this,vt.chroma=E,E.version="1.4.1",d={},l=[],u=!1,n=function(){function S(){var U,Q,Y,q,le,ge,Be,Ke,Qe;for(ge=this,Q=[],Ke=0,q=arguments.length;Ke<q;Ke++)U=arguments[Ke],U!=null&&Q.push(U);if(Q.length>1&&(Be=Q[Q.length-1]),d[Be]!=null)ge._rgb=B(d[Be](yt(Q.slice(0,-1))));else{for(u||(l=l.sort(function(Ze,gt){return gt.p-Ze.p}),u=!0),Qe=0,le=l.length;Qe<le&&(Y=l[Qe],Be=Y.test.apply(Y,Q),!Be);Qe++);Be&&(ge._rgb=B(d[Be].apply(d,Q)))}ge._rgb==null&&console.warn("unknown format: "+Q),ge._rgb==null&&(ge._rgb=[0,0,0]),ge._rgb.length===3&&ge._rgb.push(1)}return S.prototype.toString=function(){return this.hex()},S}(),E._input=d;/**
	ColorBrewer colors for chroma.js

	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
	Pennsylvania State University.

	Licensed under the Apache License, Version 2.0 (the "License"); 
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at	
	http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software distributed
	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
	CONDITIONS OF ANY KIND, either express or implied. See the License for the
	specific language governing permissions and limitations under the License.

    @preserve
 */E.brewer=_={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var S,U;U=[];for(S in _)U.push(_[S.toLowerCase()]=_[S]);return U}(),Mt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},E.colors=Mt,me=function(){var S,U,Q,Y,q,le,ge,Be,Ke;return U=yt(arguments),q=U[0],S=U[1],Q=U[2],Be=(q+16)/116,ge=isNaN(S)?Be:Be+S/500,Ke=isNaN(Q)?Be:Be-Q/200,Be=r.Yn*pe(Be),ge=r.Xn*pe(ge),Ke=r.Zn*pe(Ke),le=ze(3.2404542*ge-1.5371385*Be-.4985314*Ke),Y=ze(-.969266*ge+1.8760108*Be+.041556*Ke),Q=ze(.0556434*ge-.2040259*Be+1.0572252*Ke),[le,Y,Q,U.length>3?U[3]:1]},ze=function(S){return 255*(S<=.00304?12.92*S:1.055*de(S,1/2.4)-.055)},pe=function(S){return S>r.t1?S*S*S:r.t2*(S-r.t0)},r={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Ye=function(){var S,U,Q,Y,q,le,ge,Be;return Y=yt(arguments),Q=Y[0],U=Y[1],S=Y[2],q=Me(Q,U,S),le=q[0],ge=q[1],Be=q[2],[116*ge-16,500*(le-ge),200*(ge-Be)]},it=function(S){return(S/=255)<=.04045?S/12.92:de((S+.055)/1.055,2.4)},Ae=function(S){return S>r.t3?de(S,1/3):S/r.t2+r.t0},Me=function(){var S,U,Q,Y,q,le,ge;return Y=yt(arguments),Q=Y[0],U=Y[1],S=Y[2],Q=it(Q),U=it(U),S=it(S),q=Ae((.4124564*Q+.3575761*U+.1804375*S)/r.Xn),le=Ae((.2126729*Q+.7151522*U+.072175*S)/r.Yn),ge=Ae((.0193339*Q+.119192*U+.9503041*S)/r.Zn),[q,le,ge]},E.lab=function(){return function(S,U,Q){Q.prototype=S.prototype;var Y=new Q,q=S.apply(Y,U);return Object(q)===q?q:Y}(n,Ue.call(arguments).concat(["lab"]),function(){})},d.lab=me,n.prototype.lab=function(){return Ye(this._rgb)},b=function(S){var U,Q,Y,q,le,ge,Be,Ke,Qe,Ze,gt;return S=function(){var tt,nt,ht;for(ht=[],nt=0,tt=S.length;nt<tt;nt++)q=S[nt],ht.push(E(q));return ht}(),S.length===2?(Qe=function(){var tt,nt,ht;for(ht=[],nt=0,tt=S.length;nt<tt;nt++)q=S[nt],ht.push(q.lab());return ht}(),le=Qe[0],ge=Qe[1],U=function(tt){var nt,ht;return ht=function(){var Lt,Ot;for(Ot=[],nt=Lt=0;Lt<=2;nt=++Lt)Ot.push(le[nt]+tt*(ge[nt]-le[nt]));return Ot}(),E.lab.apply(E,ht)}):S.length===3?(Ze=function(){var tt,nt,ht;for(ht=[],nt=0,tt=S.length;nt<tt;nt++)q=S[nt],ht.push(q.lab());return ht}(),le=Ze[0],ge=Ze[1],Be=Ze[2],U=function(tt){var nt,ht;return ht=function(){var Lt,Ot;for(Ot=[],nt=Lt=0;Lt<=2;nt=++Lt)Ot.push((1-tt)*(1-tt)*le[nt]+2*(1-tt)*tt*ge[nt]+tt*tt*Be[nt]);return Ot}(),E.lab.apply(E,ht)}):S.length===4?(gt=function(){var tt,nt,ht;for(ht=[],nt=0,tt=S.length;nt<tt;nt++)q=S[nt],ht.push(q.lab());return ht}(),le=gt[0],ge=gt[1],Be=gt[2],Ke=gt[3],U=function(tt){var nt,ht;return ht=function(){var Lt,Ot;for(Ot=[],nt=Lt=0;Lt<=2;nt=++Lt)Ot.push((1-tt)*(1-tt)*(1-tt)*le[nt]+3*(1-tt)*(1-tt)*tt*ge[nt]+3*(1-tt)*tt*tt*Be[nt]+tt*tt*tt*Ke[nt]);return Ot}(),E.lab.apply(E,ht)}):S.length===5&&(Q=b(S.slice(0,3)),Y=b(S.slice(2,5)),U=function(tt){return tt<.5?Q(tt*2):Y((tt-.5)*2)}),U},E.bezier=function(S){var U;return U=b(S),U.scale=function(){return E.scale(U)},U},E.cubehelix=function(S,U,Q,Y,q){var le,ge,Be;return S==null&&(S=300),U==null&&(U=-1.5),Q==null&&(Q=1),Y==null&&(Y=1),q==null&&(q=[0,1]),le=0,ct(q)==="array"?ge=q[1]-q[0]:(ge=0,q=[q,q]),Be=function(Ke){var Qe,Ze,gt,tt,nt,ht,Lt,Ot,Pt;return Qe=c*((S+120)/360+U*Ke),Lt=de(q[0]+ge*Ke,Y),ht=le!==0?Q[0]+Ke*le:Q,Ze=ht*Lt*(1-Lt)/2,tt=G(Qe),Pt=Et(Qe),Ot=Lt+Ze*(-.14861*tt+1.78277*Pt),nt=Lt+Ze*(-.29227*tt-.90649*Pt),gt=Lt+Ze*(1.97294*tt),E(B([Ot*255,nt*255,gt*255,1]))},Be.start=function(Ke){return Ke==null?S:(S=Ke,Be)},Be.rotations=function(Ke){return Ke==null?U:(U=Ke,Be)},Be.gamma=function(Ke){return Ke==null?Y:(Y=Ke,Be)},Be.hue=function(Ke){return Ke==null?Q:(Q=Ke,ct(Q)==="array"?(le=Q[1]-Q[0],le===0&&(Q=Q[1])):le=0,Be)},Be.lightness=function(Ke){return Ke==null?q:(ct(Ke)==="array"?(q=Ke,ge=Ke[1]-Ke[0]):(q=[Ke,Ke],ge=0),Be)},Be.scale=function(){return E.scale(Be)},Be.hue(Q),Be},E.random=function(){var S,U,Q;for(U="0123456789abcdef",S="#",Q=0;Q<6;++Q)S+=U.charAt(k(Math.random()*16));return new n(S)},p=[],ue=function(S,U,Q,Y){var q,le,ge,Be;for(Q==null&&(Q=.5),Y==null&&(Y="rgb"),ct(S)!=="object"&&(S=E(S)),ct(U)!=="object"&&(U=E(U)),ge=0,le=p.length;ge<le;ge++)if(q=p[ge],Y===q[0]){Be=q[1](S,U,Q,Y);break}if(Be==null)throw"color mode "+Y+" is not supported";return Be.alpha(S.alpha()+Q*(U.alpha()-S.alpha()))},E.interpolate=ue,n.prototype.interpolate=function(S,U,Q){return ue(this,S,U,Q)},E.mix=ue,n.prototype.mix=n.prototype.interpolate,d.rgb=function(){var S,U,Q,Y;U=yt(arguments),Q=[];for(S in U)Y=U[S],Q.push(Y);return Q},E.rgb=function(){return function(S,U,Q){Q.prototype=S.prototype;var Y=new Q,q=S.apply(Y,U);return Object(q)===q?q:Y}(n,Ue.call(arguments).concat(["rgb"]),function(){})},n.prototype.rgb=function(S){return S==null&&(S=!0),S?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(S){return S==null&&(S=!0),S?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},l.push({p:3,test:function(S){var U;if(U=yt(arguments),ct(U)==="array"&&U.length===3||U.length===4&&ct(U[3])==="number"&&U[3]>=0&&U[3]<=1)return"rgb"}}),d.lrgb=d.rgb,ae=function(S,U,Q,Y){var q,le;return q=S._rgb,le=U._rgb,new n(bt(de(q[0],2)*(1-Q)+de(le[0],2)*Q),bt(de(q[1],2)*(1-Q)+de(le[1],2)*Q),bt(de(q[2],2)*(1-Q)+de(le[2],2)*Q),Y)},A=function(S){var U,Q,Y,q,le,ge;for(Q=1/S.length,ge=[0,0,0,0],q=0,Y=S.length;q<Y;q++)U=S[q],le=U._rgb,ge[0]+=de(le[0],2)*Q,ge[1]+=de(le[1],2)*Q,ge[2]+=de(le[2],2)*Q,ge[3]+=le[3]*Q;return ge[0]=bt(ge[0]),ge[1]=bt(ge[1]),ge[2]=bt(ge[2]),ge[3]>1&&(ge[3]=1),new n(B(ge))},p.push(["lrgb",ae]),E.average=function(S,U){var Q,Y,q,le,ge,Be,Ke,Qe,Ze,gt,tt,nt,ht;if(U==null&&(U="rgb"),Ze=S.length,S=S.map(function(Lt){return E(Lt)}),Ke=S.splice(0,1)[0],U==="lrgb")return A(S);nt=Ke.get(U),le=[],ge=0,Be=0;for(Qe in nt)nt[Qe]=nt[Qe]||0,le.push(isNaN(nt[Qe])?0:1),U.charAt(Qe)==="h"&&!isNaN(nt[Qe])&&(Q=nt[Qe]/180*a,ge+=G(Q),Be+=Et(Q));for(Y=Ke.alpha(),tt=0,gt=S.length;tt<gt;tt++){q=S[tt],ht=q.get(U),Y+=q.alpha();for(Qe in nt)isNaN(ht[Qe])||(le[Qe]+=1,U.charAt(Qe)==="h"?(Q=ht[Qe]/180*a,ge+=G(Q),Be+=Et(Q)):nt[Qe]+=ht[Qe])}for(Qe in nt)if(U.charAt(Qe)==="h"){for(Q=g(Be/le[Qe],ge/le[Qe])/a*180;Q<0;)Q+=360;for(;Q>=360;)Q-=360;nt[Qe]=Q}else nt[Qe]=nt[Qe]/le[Qe];return E(nt,U).alpha(Y/Ze)},T=function(S){var U,Q,Y,q,le,ge;if(S.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(S.length===4||S.length===7)&&(S=S.substr(1)),S.length===3&&(S=S.split(""),S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),ge=parseInt(S,16),q=ge>>16,Y=ge>>8&255,Q=ge&255,[q,Y,Q,1];if(S.match(/^#?([A-Fa-f0-9]{8})$/))return S.length===9&&(S=S.substr(1)),ge=parseInt(S,16),q=ge>>24&255,Y=ge>>16&255,Q=ge>>8&255,U=ot((ge&255)/255*100)/100,[q,Y,Q,U];if(d.css!=null&&(le=d.css(S)))return le;throw"unknown color: "+S},Fe=function(S,U){var Q,Y,q,le,ge,Be,Ke;return U==null&&(U="auto"),ge=S[0],q=S[1],Y=S[2],Q=S[3],U==="auto"&&(U=Q<1?"rgba":"rgb"),ge=Math.round(ge),q=Math.round(q),Y=Math.round(Y),Ke=ge<<16|q<<8|Y,Be="000000"+Ke.toString(16),Be=Be.substr(Be.length-6),le="0"+ot(Q*255).toString(16),le=le.substr(le.length-2),"#"+function(){switch(U.toLowerCase()){case"rgba":return Be+le;case"argb":return le+Be;default:return Be}}()},d.hex=function(S){return T(S)},E.hex=function(){return function(S,U,Q){Q.prototype=S.prototype;var Y=new Q,q=S.apply(Y,U);return Object(q)===q?q:Y}(n,Ue.call(arguments).concat(["hex"]),function(){})},n.prototype.hex=function(S){return S==null&&(S="auto"),Fe(this._rgb,S)},l.push({p:4,test:function(S){if(arguments.length===1&&ct(S)==="string")return"hex"}}),j=function(){var S,U,Q,Y,q,le,ge,Be,Ke,Qe,Ze,gt,tt,nt;if(S=yt(arguments),q=S[0],Ze=S[1],ge=S[2],Ze===0)Ke=Y=U=ge*255;else{for(nt=[0,0,0],Q=[0,0,0],tt=ge<.5?ge*(1+Ze):ge+Ze-ge*Ze,gt=2*ge-tt,q/=360,nt[0]=q+1/3,nt[1]=q,nt[2]=q-1/3,le=Be=0;Be<=2;le=++Be)nt[le]<0&&(nt[le]+=1),nt[le]>1&&(nt[le]-=1),6*nt[le]<1?Q[le]=gt+(tt-gt)*6*nt[le]:2*nt[le]<1?Q[le]=tt:3*nt[le]<2?Q[le]=gt+(tt-gt)*(2/3-nt[le])*6:Q[le]=gt;Qe=[ot(Q[0]*255),ot(Q[1]*255),ot(Q[2]*255)],Ke=Qe[0],Y=Qe[1],U=Qe[2]}return S.length>3?[Ke,Y,U,S[3]]:[Ke,Y,U]},ke=function(S,U,Q){var Y,q,le,ge,Be;return S!==void 0&&S.length>=3&&(ge=S,S=ge[0],U=ge[1],Q=ge[2]),S/=255,U/=255,Q/=255,le=Math.min(S,U,Q),Le=Math.max(S,U,Q),q=(Le+le)/2,Le===le?(Be=0,Y=Number.NaN):Be=q<.5?(Le-le)/(Le+le):(Le-le)/(2-Le-le),S===Le?Y=(U-Q)/(Le-le):U===Le?Y=2+(Q-S)/(Le-le):Q===Le&&(Y=4+(S-U)/(Le-le)),Y*=60,Y<0&&(Y+=360),[Y,Be,q]},E.hsl=function(){return function(S,U,Q){Q.prototype=S.prototype;var Y=new Q,q=S.apply(Y,U);return Object(q)===q?q:Y}(n,Ue.call(arguments).concat(["hsl"]),function(){})},d.hsl=j,n.prototype.hsl=function(){return ke(this._rgb)},ce=function(){var S,U,Q,Y,q,le,ge,Be,Ke,Qe,Ze,gt,tt,nt,ht,Lt,Ot,Pt;if(S=yt(arguments),q=S[0],Lt=S[1],Pt=S[2],Pt*=255,Lt===0)Ke=Y=U=Pt;else switch(q===360&&(q=0),q>360&&(q-=360),q<0&&(q+=360),q/=60,le=k(q),Q=q-le,ge=Pt*(1-Lt),Be=Pt*(1-Lt*Q),Ot=Pt*(1-Lt*(1-Q)),le){case 0:Qe=[Pt,Ot,ge],Ke=Qe[0],Y=Qe[1],U=Qe[2];break;case 1:Ze=[Be,Pt,ge],Ke=Ze[0],Y=Ze[1],U=Ze[2];break;case 2:gt=[ge,Pt,Ot],Ke=gt[0],Y=gt[1],U=gt[2];break;case 3:tt=[ge,Be,Pt],Ke=tt[0],Y=tt[1],U=tt[2];break;case 4:nt=[Ot,ge,Pt],Ke=nt[0],Y=nt[1],U=nt[2];break;case 5:ht=[Pt,ge,Be],Ke=ht[0],Y=ht[1],U=ht[2]}return[Ke,Y,U,S.length>3?S[3]:1]},qe=function(){var S,U,Q,Y,q,le,ge,Be,Ke;return ge=yt(arguments),le=ge[0],Q=ge[1],S=ge[2],q=Math.min(le,Q,S),Le=Math.max(le,Q,S),U=Le-q,Ke=Le/255,Le===0?(Y=Number.NaN,Be=0):(Be=U/Le,le===Le&&(Y=(Q-S)/U),Q===Le&&(Y=2+(S-le)/U),S===Le&&(Y=4+(le-Q)/U),Y*=60,Y<0&&(Y+=360)),[Y,Be,Ke]},E.hsv=function(){return function(S,U,Q){Q.prototype=S.prototype;var Y=new Q,q=S.apply(Y,U);return Object(q)===q?q:Y}(n,Ue.call(arguments).concat(["hsv"]),function(){})},d.hsv=ce,n.prototype.hsv=function(){return qe(this._rgb)},Ce=function(S){var U,Q,Y;return ct(S)==="number"&&S>=0&&S<=16777215?(Y=S>>16,Q=S>>8&255,U=S&255,[Y,Q,U,1]):(console.warn("unknown num color: "+S),[0,0,0,1])},Qt=function(){var S,U,Q,Y;return Y=yt(arguments),Q=Y[0],U=Y[1],S=Y[2],(Q<<16)+(U<<8)+S},E.num=function(S){return new n(S,"num")},n.prototype.num=function(S){return S==null&&(S="rgb"),Qt(this._rgb,S)},d.num=Ce,l.push({p:1,test:function(S){if(arguments.length===1&&ct(S)==="number"&&S>=0&&S<=16777215)return"num"}}),L=function(){var S,U,Q,Y,q,le,ge,Be,Ke,Qe,Ze,gt,tt,nt,ht,Lt,Ot,Pt,ei,Mn;if(Q=yt(arguments),Be=Q[0],q=Q[1],U=Q[2],q=q/100,ge=ge/100*255,S=q*255,q===0)gt=ge=Y=U;else switch(Be===360&&(Be=0),Be>360&&(Be-=360),Be<0&&(Be+=360),Be/=60,Ke=k(Be),le=Be-Ke,Qe=U*(1-q),Ze=Qe+S*(1-le),ei=Qe+S*le,Mn=Qe+S,Ke){case 0:tt=[Mn,ei,Qe],gt=tt[0],ge=tt[1],Y=tt[2];break;case 1:nt=[Ze,Mn,Qe],gt=nt[0],ge=nt[1],Y=nt[2];break;case 2:ht=[Qe,Mn,ei],gt=ht[0],ge=ht[1],Y=ht[2];break;case 3:Lt=[Qe,Ze,Mn],gt=Lt[0],ge=Lt[1],Y=Lt[2];break;case 4:Ot=[ei,Qe,Mn],gt=Ot[0],ge=Ot[1],Y=Ot[2];break;case 5:Pt=[Mn,Qe,Ze],gt=Pt[0],ge=Pt[1],Y=Pt[2]}return[gt,ge,Y,Q.length>3?Q[3]:1]},Ve=function(){var S,U,Q,Y,q,le,ge,Be,Ke;return Ke=yt(arguments),Be=Ke[0],q=Ke[1],U=Ke[2],ge=Math.min(Be,q,U),Le=Math.max(Be,q,U),Y=Le-ge,Q=Y*100/255,S=ge/(255-Y)*100,Y===0?le=Number.NaN:(Be===Le&&(le=(q-U)/Y),q===Le&&(le=2+(U-Be)/Y),U===Le&&(le=4+(Be-q)/Y),le*=60,le<0&&(le+=360)),[le,Q,S]},E.hcg=function(){return function(S,U,Q){Q.prototype=S.prototype;var Y=new Q,q=S.apply(Y,U);return Object(q)===q?q:Y}(n,Ue.call(arguments).concat(["hcg"]),function(){})},d.hcg=L,n.prototype.hcg=function(){return Ve(this._rgb)},C=function(S){var U,Q,Y,q,le,ge,Be,Ke;if(S=S.toLowerCase(),E.colors!=null&&E.colors[S])return T(E.colors[S]);if(le=S.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(Be=le.slice(1,4),q=ge=0;ge<=2;q=++ge)Be[q]=+Be[q];Be[3]=1}else if(le=S.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(Be=le.slice(1,5),q=Ke=0;Ke<=3;q=++Ke)Be[q]=+Be[q];else if(le=S.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(Be=le.slice(1,4),q=U=0;U<=2;q=++U)Be[q]=ot(Be[q]*2.55);Be[3]=1}else if(le=S.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(Be=le.slice(1,5),q=Q=0;Q<=2;q=++Q)Be[q]=ot(Be[q]*2.55);Be[3]=+Be[3]}else(le=S.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(Y=le.slice(1,4),Y[1]*=.01,Y[2]*=.01,Be=j(Y),Be[3]=1):(le=S.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(Y=le.slice(1,4),Y[1]*=.01,Y[2]*=.01,Be=j(Y),Be[3]=+le[4]);return Be},Pe=function(S){var U;if(U=S[3]<1?"rgba":"rgb",U==="rgb")return U+"("+S.slice(0,3).map(ot).join(",")+")";if(U==="rgba")return U+"("+S.slice(0,3).map(ot).join(",")+","+S[3]+")"},ut=function(S){return ot(S*100)/100},W=function(S,U){var Q;return Q=U<1?"hsla":"hsl",S[0]=ut(S[0]||0),S[1]=ut(S[1]*100)+"%",S[2]=ut(S[2]*100)+"%",Q==="hsla"&&(S[3]=U),Q+"("+S.join(",")+")"},d.css=function(S){return C(S)},E.css=function(){return function(S,U,Q){Q.prototype=S.prototype;var Y=new Q,q=S.apply(Y,U);return Object(q)===q?q:Y}(n,Ue.call(arguments).concat(["css"]),function(){})},n.prototype.css=function(S){if(S==null&&(S="rgb"),S.slice(0,3)==="rgb")return Pe(this._rgb);if(S.slice(0,3)==="hsl")return W(this.hsl(),this.alpha())},d.named=function(S){return T(Mt[S])},l.push({p:5,test:function(S){if(arguments.length===1&&Mt[S]!=null)return"named"}}),n.prototype.name=function(S){var U,Q;arguments.length&&(Mt[S]&&(this._rgb=T(Mt[S])),this._rgb[3]=1),U=this.hex("rgb");for(Q in Mt)if(U===Mt[Q])return Q;return U},Ee=function(){var S,U,Q,Y;return Y=yt(arguments),Q=Y[0],S=Y[1],U=Y[2],U=U*i,[Q,G(U)*S,Et(U)*S]},ee=function(){var S,U,Q,Y,q,le,ge,Be,Ke,Qe,Ze;return Q=yt(arguments),Be=Q[0],q=Q[1],ge=Q[2],Qe=Ee(Be,q,ge),S=Qe[0],U=Qe[1],Y=Qe[2],Ze=me(S,U,Y),Ke=Ze[0],le=Ze[1],Y=Ze[2],[Ke,le,Y,Q.length>3?Q[3]:1]},se=function(){var S,U,Q,Y,q,le;return le=yt(arguments),q=le[0],S=le[1],U=le[2],Q=bt(S*S+U*U),Y=(g(U,S)*o+360)%360,ot(Q*1e4)===0&&(Y=Number.NaN),[q,Q,Y]},We=function(){var S,U,Q,Y,q,le,ge;return le=yt(arguments),q=le[0],Q=le[1],U=le[2],ge=Ye(q,Q,U),Y=ge[0],S=ge[1],U=ge[2],se(Y,S,U)},E.lch=function(){var S;return S=yt(arguments),new n(S,"lch")},E.hcl=function(){var S;return S=yt(arguments),new n(S,"hcl")},d.lch=ee,d.hcl=function(){var S,U,Q,Y;return Y=yt(arguments),U=Y[0],S=Y[1],Q=Y[2],ee([Q,S,U])},n.prototype.lch=function(){return We(this._rgb)},n.prototype.hcl=function(){return We(this._rgb).reverse()},be=function(S){var U,Q,Y,q,le,ge,Be,Ke,Qe;return S==null&&(S="rgb"),Ke=yt(arguments),Be=Ke[0],q=Ke[1],U=Ke[2],Be=Be/255,q=q/255,U=U/255,le=1-Math.max(Be,Math.max(q,U)),Y=le<1?1/(1-le):0,Q=(1-Be-le)*Y,ge=(1-q-le)*Y,Qe=(1-U-le)*Y,[Q,ge,Qe,le]},R=function(){var S,U,Q,Y,q,le,ge,Be,Ke;return U=yt(arguments),Y=U[0],ge=U[1],Ke=U[2],le=U[3],S=U.length>4?U[4]:1,le===1?[0,0,0,S]:(Be=Y>=1?0:255*(1-Y)*(1-le),q=ge>=1?0:255*(1-ge)*(1-le),Q=Ke>=1?0:255*(1-Ke)*(1-le),[Be,q,Q,S])},d.cmyk=function(){return R(yt(arguments))},E.cmyk=function(){return function(S,U,Q){Q.prototype=S.prototype;var Y=new Q,q=S.apply(Y,U);return Object(q)===q?q:Y}(n,Ue.call(arguments).concat(["cmyk"]),function(){})},n.prototype.cmyk=function(){return be(this._rgb)},d.gl=function(){var S,U,Q,Y,q;for(Y=function(){var le,ge;le=yt(arguments),ge=[];for(U in le)q=le[U],ge.push(q);return ge}.apply(this,arguments),S=Q=0;Q<=2;S=++Q)Y[S]*=255;return Y},E.gl=function(){return function(S,U,Q){Q.prototype=S.prototype;var Y=new Q,q=S.apply(Y,U);return Object(q)===q?q:Y}(n,Ue.call(arguments).concat(["gl"]),function(){})},n.prototype.gl=function(){var S;return S=this._rgb,[S[0]/255,S[1]/255,S[2]/255,S[3]]},mt=function(S,U,Q){var Y;return Y=yt(arguments),S=Y[0],U=Y[1],Q=Y[2],S=Re(S),U=Re(U),Q=Re(Q),.2126*S+.7152*U+.0722*Q},Re=function(S){return S/=255,S<=.03928?S/12.92:de((S+.055)/1.055,2.4)},ye=function(S,U,Q,Y){var q,le;return q=S._rgb,le=U._rgb,new n(q[0]+Q*(le[0]-q[0]),q[1]+Q*(le[1]-q[1]),q[2]+Q*(le[2]-q[2]),Y)},p.push(["rgb",ye]),n.prototype.luminance=function(S,U){var Q,Y,q,le,ge;return U==null&&(U="rgb"),arguments.length?(le=this._rgb,S===0?le=[0,0,0,this._rgb[3]]:S===1?le=[255,255,255,this[3]]:(Q=mt(this._rgb),Y=1e-7,q=20,ge=function(Be,Ke){var Qe,Ze;return Ze=Be.interpolate(Ke,.5,U),Qe=Ze.luminance(),Math.abs(S-Qe)<Y||!q--?Ze:Qe>S?ge(Be,Ze):ge(Ze,Ke)},Q>S?le=ge(E("black"),this).rgba():le=ge(this,E("white")).rgba()),E(le).alpha(this.alpha())):mt(this._rgb)},en=function(S){var U,Q,Y,q;return q=S/100,q<66?(Y=255,Q=-155.25485562709179-.44596950469579133*(Q=q-2)+104.49216199393888*he(Q),U=q<20?0:-254.76935184120902+.8274096064007395*(U=q-10)+115.67994401066147*he(U)):(Y=351.97690566805693+.114206453784165*(Y=q-55)-40.25366309332127*he(Y),Q=325.4494125711974+.07943456536662342*(Q=q-50)-28.0852963507957*he(Q),U=255),[Y,Q,U]},Dt=function(){var S,U,Q,Y,q,le,ge,Be;for(le=yt(arguments),q=le[0],le[1],S=le[2],Y=1e3,Q=4e4,U=.4;Q-Y>U;)Be=(Q+Y)*.5,ge=en(Be),ge[2]/ge[0]>=S/q?Q=Be:Y=Be;return ot(Be)},E.temperature=E.kelvin=function(){return function(S,U,Q){Q.prototype=S.prototype;var Y=new Q,q=S.apply(Y,U);return Object(q)===q?q:Y}(n,Ue.call(arguments).concat(["temperature"]),function(){})},d.temperature=d.kelvin=d.K=en,n.prototype.temperature=function(){return Dt(this._rgb)},n.prototype.kelvin=n.prototype.temperature,E.contrast=function(S,U){var Q,Y,q,le;return((q=ct(S))==="string"||q==="number")&&(S=new n(S)),((le=ct(U))==="string"||le==="number")&&(U=new n(U)),Q=S.luminance(),Y=U.luminance(),Q>Y?(Q+.05)/(Y+.05):(Y+.05)/(Q+.05)},E.distance=function(S,U,Q){var Y,q,le,ge,Be,Ke,Qe;Q==null&&(Q="lab"),((Be=ct(S))==="string"||Be==="number")&&(S=new n(S)),((Ke=ct(U))==="string"||Ke==="number")&&(U=new n(U)),le=S.get(Q),ge=U.get(Q),Qe=0;for(q in le)Y=(le[q]||0)-(ge[q]||0),Qe+=Y*Y;return Math.sqrt(Qe)},E.deltaE=function(S,U,Q,Y){var q,le,ge,Be,Ke,Qe,Ze,gt,tt,nt,ht,Lt,Ot,Pt,ei,Mn,ar,na,tn,Je,Tt,ln,xn,jt,Bn,bn,Kn;for(Q==null&&(Q=1),Y==null&&(Y=1),((ar=ct(S))==="string"||ar==="number")&&(S=new n(S)),((na=ct(U))==="string"||na==="number")&&(U=new n(U)),tn=S.lab(),q=tn[0],ge=tn[1],Ke=tn[2],Je=U.lab(),le=Je[0],Be=Je[1],Qe=Je[2],Ze=bt(ge*ge+Ke*Ke),gt=bt(Be*Be+Qe*Qe),xn=q<16?.511:.040975*q/(1+.01765*q),Tt=.0638*Ze/(1+.0131*Ze)+.638,Mn=Ze<1e-6?0:g(Ke,ge)*180/a;Mn<0;)Mn+=360;for(;Mn>=360;)Mn-=360;return jt=Mn>=164&&Mn<=345?.56+h(.2*G(a*(Mn+168)/180)):.36+h(.4*G(a*(Mn+35)/180)),tt=Ze*Ze*Ze*Ze,ei=bt(tt/(tt+1900)),ln=Tt*(ei*jt+1-ei),Pt=q-le,Ot=Ze-gt,ht=ge-Be,Lt=Ke-Qe,nt=ht*ht+Lt*Lt-Ot*Ot,Bn=Pt/(Q*xn),bn=Ot/(Y*Tt),Kn=ln,bt(Bn*Bn+bn*bn+nt/(Kn*Kn))},n.prototype.get=function(S){var U,Q,Y,q,le,ge;return Y=this,le=S.split("."),q=le[0],U=le[1],ge=Y[q](),U?(Q=q.indexOf(U),Q>-1?ge[Q]:console.warn("unknown channel "+U+" in mode "+q)):ge},n.prototype.set=function(S,U){var Q,Y,q,le,ge,Be;if(q=this,ge=S.split("."),le=ge[0],Q=ge[1],Q)if(Be=q[le](),Y=le.indexOf(Q),Y>-1)if(ct(U)==="string")switch(U.charAt(0)){case"+":Be[Y]+=+U;break;case"-":Be[Y]+=+U;break;case"*":Be[Y]*=+U.substr(1);break;case"/":Be[Y]/=+U.substr(1);break;default:Be[Y]=+U}else Be[Y]=U;else console.warn("unknown channel "+Q+" in mode "+le);else Be=U;return E(Be,le).alpha(q.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(S){return arguments.length?E.rgb([this._rgb[0],this._rgb[1],this._rgb[2],S]):this._rgb[3]},n.prototype.darken=function(S){var U,Q;return S==null&&(S=1),Q=this,U=Q.lab(),U[0]-=r.Kn*S,E.lab(U).alpha(Q.alpha())},n.prototype.brighten=function(S){return S==null&&(S=1),this.darken(-S)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(S){var U,Q;return S==null&&(S=1),Q=this,U=Q.lch(),U[1]+=S*r.Kn,U[1]<0&&(U[1]=0),E.lch(U).alpha(Q.alpha())},n.prototype.desaturate=function(S){return S==null&&(S=1),this.saturate(-S)},n.prototype.premultiply=function(){var S,U;return U=this.rgb(),S=this.alpha(),E(U[0]*S,U[1]*S,U[2]*S,S)},y=function(S,U,Q){if(!y[Q])throw"unknown blend mode "+Q;return y[Q](S,U)},v=function(S){return function(U,Q){var Y,q;return Y=E(Q).rgb(),q=E(U).rgb(),E(S(Y,q),"rgb")}},D=function(S){return function(U,Q){var Y,q,le;for(le=[],Y=q=0;q<=3;Y=++q)le[Y]=S(U[Y],Q[Y]);return le}},Z=function(S,U){return S},K=function(S,U){return S*U/255},O=function(S,U){return S>U?U:S},ie=function(S,U){return S>U?S:U},Ht=function(S,U){return 255*(1-(1-S/255)*(1-U/255))},ve=function(S,U){return U<128?2*S*U/255:255*(1-2*(1-S/255)*(1-U/255))},w=function(S,U){return 255*(1-(1-U/255)/(S/255))},I=function(S,U){return S===255||(S=255*(U/255)/(1-S/255),S>255)?255:S},y.normal=v(D(Z)),y.multiply=v(D(K)),y.screen=v(D(Ht)),y.overlay=v(D(ve)),y.darken=v(D(O)),y.lighten=v(D(ie)),y.dodge=v(D(I)),y.burn=v(D(w)),E.blend=y,E.analyze=function(S){var U,Q,Y,q;for(Y={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},Q=0,U=S.length;Q<U;Q++)q=S[Q],q!=null&&!isNaN(q)&&(Y.values.push(q),Y.sum+=q,q<Y.min&&(Y.min=q),q>Y.max&&(Y.max=q),Y.count+=1);return Y.domain=[Y.min,Y.max],Y.limits=function(le,ge){return E.limits(Y,le,ge)},Y},E.scale=function(S,U){var Q,Y,q,le,ge,Be,Ke,Qe,Ze,gt,tt,nt,ht,Lt,Ot,Pt,ei,Mn,ar,na,tn;return Ze="rgb",gt=E("#ccc"),Lt=0,ge=[0,1],ht=[],nt=[0,0],Q=!1,q=[],tt=!1,Qe=0,Ke=1,le=!1,Y={},Ot=!0,Be=1,na=function(Je){var Tt,ln,xn,jt,Bn,bn;if(Je==null&&(Je=["#fff","#000"]),Je!=null&&ct(Je)==="string"&&E.brewer!=null&&(Je=E.brewer[Je]||E.brewer[Je.toLowerCase()]||Je),ct(Je)==="array"){for(Je.length===1&&(Je=[Je[0],Je[0]]),Je=Je.slice(0),Tt=xn=0,jt=Je.length-1;0<=jt?xn<=jt:xn>=jt;Tt=0<=jt?++xn:--xn)ln=Je[Tt],ct(ln)==="string"&&(Je[Tt]=E(ln));for(ht.length=0,Tt=bn=0,Bn=Je.length-1;0<=Bn?bn<=Bn:bn>=Bn;Tt=0<=Bn?++bn:--bn)ht.push(Tt/(Je.length-1))}return ar(),q=Je},ei=function(Je){var Tt,ln;if(Q!=null){for(ln=Q.length-1,Tt=0;Tt<ln&&Je>=Q[Tt];)Tt++;return Tt-1}return 0},tn=function(Je){return Je},Mn=function(Je,Tt){var ln,xn,jt,Bn,bn,Kn,Ki,fn;if(Tt==null&&(Tt=!1),isNaN(Je)||Je===null)return gt;if(Tt?fn=Je:Q&&Q.length>2?(ln=ei(Je),fn=ln/(Q.length-2)):Ke!==Qe?fn=(Je-Qe)/(Ke-Qe):fn=1,Tt||(fn=tn(fn)),Be!==1&&(fn=de(fn,Be)),fn=nt[0]+fn*(1-nt[0]-nt[1]),fn=Math.min(1,Math.max(0,fn)),Bn=Math.floor(fn*1e4),Ot&&Y[Bn])xn=Y[Bn];else{if(ct(q)==="array")for(jt=bn=0,Ki=ht.length-1;0<=Ki?bn<=Ki:bn>=Ki;jt=0<=Ki?++bn:--bn){if(Kn=ht[jt],fn<=Kn){xn=q[jt];break}if(fn>=Kn&&jt===ht.length-1){xn=q[jt];break}if(fn>Kn&&fn<ht[jt+1]){fn=(fn-Kn)/(ht[jt+1]-Kn),xn=E.interpolate(q[jt],q[jt+1],fn,Ze);break}}else ct(q)==="function"&&(xn=q(fn));Ot&&(Y[Bn]=xn)}return xn},ar=function(){return Y={}},na(S),Pt=function(Je){var Tt;return Tt=E(Mn(Je)),tt&&Tt[tt]?Tt[tt]():Tt},Pt.classes=function(Je){var Tt;return Je!=null?(ct(Je)==="array"?(Q=Je,ge=[Je[0],Je[Je.length-1]]):(Tt=E.analyze(ge),Je===0?Q=[Tt.min,Tt.max]:Q=E.limits(Tt,"e",Je)),Pt):Q},Pt.domain=function(Je){var Tt,ln,xn,jt,Bn,bn,Kn;if(!arguments.length)return ge;if(Qe=Je[0],Ke=Je[Je.length-1],ht=[],xn=q.length,Je.length===xn&&Qe!==Ke)for(Bn=0,jt=Je.length;Bn<jt;Bn++)ln=Je[Bn],ht.push((ln-Qe)/(Ke-Qe));else for(Tt=Kn=0,bn=xn-1;0<=bn?Kn<=bn:Kn>=bn;Tt=0<=bn?++Kn:--Kn)ht.push(Tt/(xn-1));return ge=[Qe,Ke],Pt},Pt.mode=function(Je){return arguments.length?(Ze=Je,ar(),Pt):Ze},Pt.range=function(Je,Tt){return na(Je,Tt),Pt},Pt.out=function(Je){return tt=Je,Pt},Pt.spread=function(Je){return arguments.length?(Lt=Je,Pt):Lt},Pt.correctLightness=function(Je){return Je==null&&(Je=!0),le=Je,ar(),le?tn=function(Tt){var ln,xn,jt,Bn,bn,Kn,Ki,fn,ti;for(ln=Mn(0,!0).lab()[0],xn=Mn(1,!0).lab()[0],Ki=ln>xn,jt=Mn(Tt,!0).lab()[0],bn=ln+(xn-ln)*Tt,Bn=jt-bn,fn=0,ti=1,Kn=20;Math.abs(Bn)>.01&&Kn-- >0;)(function(){return Ki&&(Bn*=-1),Bn<0?(fn=Tt,Tt+=(ti-Tt)*.5):(ti=Tt,Tt+=(fn-Tt)*.5),jt=Mn(Tt,!0).lab()[0],Bn=jt-bn})();return Tt}:tn=function(Tt){return Tt},Pt},Pt.padding=function(Je){return Je!=null?(ct(Je)==="number"&&(Je=[Je,Je]),nt=Je,Pt):nt},Pt.colors=function(Je,Tt){var ln,xn,jt,Bn,bn,Kn,Ki,fn;if(arguments.length<2&&(Tt="hex"),bn=[],arguments.length===0)bn=q.slice(0);else if(Je===1)bn=[Pt(.5)];else if(Je>1)xn=ge[0],ln=ge[1]-xn,bn=function(){Kn=[];for(var ti=0;0<=Je?ti<Je:ti>Je;0<=Je?ti++:ti--)Kn.push(ti);return Kn}.apply(this).map(function(ti){return Pt(xn+ti/(Je-1)*ln)});else{if(S=[],Ki=[],Q&&Q.length>2)for(jt=fn=1,Bn=Q.length;1<=Bn?fn<Bn:fn>Bn;jt=1<=Bn?++fn:--fn)Ki.push((Q[jt-1]+Q[jt])*.5);else Ki=ge;bn=Ki.map(function(ti){return Pt(ti)})}return E[Tt]&&(bn=bn.map(function(ti){return ti[Tt]()})),bn},Pt.cache=function(Je){return Je!=null?(Ot=Je,Pt):Ot},Pt.gamma=function(Je){return Je!=null?(Be=Je,Pt):Be},Pt.nodata=function(Je){return Je!=null?(gt=E(Je),Pt):gt},Pt},E.scales==null&&(E.scales={}),E.scales.cool=function(){return E.scale([E.hsl(180,1,.9),E.hsl(250,.7,.4)])},E.scales.hot=function(){return E.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},E.analyze=function(S,U,Q){var Y,q,le,ge,Be,Ke,Qe;if(Be={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},Q==null&&(Q=function(){return!0}),Y=function(Ze){Ze!=null&&!isNaN(Ze)&&(Be.values.push(Ze),Be.sum+=Ze,Ze<Be.min&&(Be.min=Ze),Ze>Be.max&&(Be.max=Ze),Be.count+=1)},Qe=function(Ze,gt){if(Q(Ze,gt))return U!=null&&ct(U)==="function"?Y(U(Ze)):U!=null&&ct(U)==="string"||ct(U)==="number"?Y(Ze[U]):Y(Ze)},ct(S)==="array")for(ge=0,le=S.length;ge<le;ge++)Ke=S[ge],Qe(Ke);else for(q in S)Ke=S[q],Qe(Ke,q);return Be.domain=[Be.min,Be.max],Be.limits=function(Ze,gt){return E.limits(Be,Ze,gt)},Be},E.limits=function(S,U,Q){var Y,q,le,ge,Be,Ke,Qe,Ze,gt,tt,nt,ht,Lt,Ot,Pt,ei,Mn,ar,na,tn,Je,Tt,ln,xn,jt,Bn,bn,Kn,Ki,fn,ti,us,ba,ds,ps,ka,ia,Oa,Bo,js,b0,Ys,mc,Ro,qs,va,fs,v0,w0,CA,Xs,NA,op,Ha,SA;if(U==null&&(U="equal"),Q==null&&(Q=7),ct(S)==="array"&&(S=E.analyze(S)),jt=S.min,Le=S.max,S.sum,Ha=S.values.sort(function(cp,Ap){return cp-Ap}),Q===1)return[jt,Le];if(ln=[],U.substr(0,1)==="c"&&(ln.push(jt),ln.push(Le)),U.substr(0,1)==="e"){for(ln.push(jt),tn=ti=1,ps=Q-1;1<=ps?ti<=ps:ti>=ps;tn=1<=ps?++ti:--ti)ln.push(jt+tn/Q*(Le-jt));ln.push(Le)}else if(U.substr(0,1)==="l"){if(jt<=0)throw"Logarithmic scales are only possible for values > 0";for(Bn=Math.LOG10E*he(jt),xn=Math.LOG10E*he(Le),ln.push(jt),tn=SA=1,ka=Q-1;1<=ka?SA<=ka:SA>=ka;tn=1<=ka?++SA:--SA)ln.push(de(10,Bn+tn/Q*(xn-Bn)));ln.push(Le)}else if(U.substr(0,1)==="q"){for(ln.push(jt),tn=Y=1,Ys=Q-1;1<=Ys?Y<=Ys:Y>=Ys;tn=1<=Ys?++Y:--Y)us=(Ha.length-1)*tn/Q,ba=k(us),ba===us?ln.push(Ha[ba]):(ds=us-ba,ln.push(Ha[ba]*(1-ds)+Ha[ba+1]*ds));ln.push(Le)}else if(U.substr(0,1)==="k"){for(Kn=Ha.length,Ot=new Array(Kn),ar=new Array(Q),CA=!0,Ki=0,ei=null,ei=[],ei.push(jt),tn=q=1,mc=Q-1;1<=mc?q<=mc:q>=mc;tn=1<=mc?++q:--q)ei.push(jt+tn/Q*(Le-jt));for(ei.push(Le);CA;){for(Je=le=0,Ro=Q-1;0<=Ro?le<=Ro:le>=Ro;Je=0<=Ro?++le:--le)ar[Je]=0;for(tn=ge=0,qs=Kn-1;0<=qs?ge<=qs:ge>=qs;tn=0<=qs?++ge:--ge){for(op=Ha[tn],bn=Number.MAX_VALUE,Je=Be=0,va=Q-1;0<=va?Be<=va:Be>=va;Je=0<=va?++Be:--Be)na=h(ei[Je]-op),na<bn&&(bn=na,Pt=Je);ar[Pt]++,Ot[tn]=Pt}for(fn=new Array(Q),Je=Ke=0,fs=Q-1;0<=fs?Ke<=fs:Ke>=fs;Je=0<=fs?++Ke:--Ke)fn[Je]=null;for(tn=Qe=0,v0=Kn-1;0<=v0?Qe<=v0:Qe>=v0;tn=0<=v0?++Qe:--Qe)Mn=Ot[tn],fn[Mn]===null?fn[Mn]=Ha[tn]:fn[Mn]+=Ha[tn];for(Je=Ze=0,w0=Q-1;0<=w0?Ze<=w0:Ze>=w0;Je=0<=w0?++Ze:--Ze)fn[Je]*=1/ar[Je];for(CA=!1,Je=gt=0,ia=Q-1;0<=ia?gt<=ia:gt>=ia;Je=0<=ia?++gt:--gt)if(fn[Je]!==ei[tn]){CA=!0;break}ei=fn,Ki++,Ki>200&&(CA=!1)}for(Tt={},Je=tt=0,Oa=Q-1;0<=Oa?tt<=Oa:tt>=Oa;Je=0<=Oa?++tt:--tt)Tt[Je]=[];for(tn=nt=0,Bo=Kn-1;0<=Bo?nt<=Bo:nt>=Bo;tn=0<=Bo?++nt:--nt)Mn=Ot[tn],Tt[Mn].push(Ha[tn]);for(Xs=[],Je=ht=0,js=Q-1;0<=js?ht<=js:ht>=js;Je=0<=js?++ht:--ht)Xs.push(Tt[Je][0]),Xs.push(Tt[Je][Tt[Je].length-1]);for(Xs=Xs.sort(function(cp,Ap){return cp-Ap}),ln.push(Xs[0]),tn=Lt=1,b0=Xs.length-1;Lt<=b0;tn=Lt+=2)NA=Xs[tn],!isNaN(NA)&&ln.indexOf(NA)===-1&&ln.push(NA)}return ln},H=function(S,U,Q){var Y,q,le,ge;return Y=yt(arguments),S=Y[0],U=Y[1],Q=Y[2],isNaN(S)&&(S=0),S/=360,S<1/3?(q=(1-U)/3,ge=(1+U*G(c*S)/G(s-c*S))/3,le=1-(q+ge)):S<2/3?(S-=1/3,ge=(1-U)/3,le=(1+U*G(c*S)/G(s-c*S))/3,q=1-(ge+le)):(S-=2/3,le=(1-U)/3,q=(1+U*G(c*S)/G(s-c*S))/3,ge=1-(le+q)),ge=oe(Q*ge*3),le=oe(Q*le*3),q=oe(Q*q*3),[ge*255,le*255,q*255,Y.length>3?Y[3]:1]},He=function(){var S,U,Q,Y,q,le,ge,Be;return ge=yt(arguments),le=ge[0],U=ge[1],S=ge[2],c=Math.PI*2,le/=255,U/=255,S/=255,q=Math.min(le,U,S),Y=(le+U+S)/3,Be=1-q/Y,Be===0?Q=0:(Q=(le-U+(le-S))/2,Q/=Math.sqrt((le-U)*(le-U)+(le-S)*(U-S)),Q=Math.acos(Q),S>U&&(Q=c-Q),Q/=c),[Q*360,Be,Y]},E.hsi=function(){return function(S,U,Q){Q.prototype=S.prototype;var Y=new Q,q=S.apply(Y,U);return Object(q)===q?q:Y}(n,Ue.call(arguments).concat(["hsi"]),function(){})},d.hsi=H,n.prototype.hsi=function(){return He(this._rgb)},te=function(S,U,Q,Y){var q,le,ge,Be,Ke,Qe,Ze,gt,tt,nt,ht,Lt;return Y==="hsl"?(ht=S.hsl(),Lt=U.hsl()):Y==="hsv"?(ht=S.hsv(),Lt=U.hsv()):Y==="hcg"?(ht=S.hcg(),Lt=U.hcg()):Y==="hsi"?(ht=S.hsi(),Lt=U.hsi()):(Y==="lch"||Y==="hcl")&&(Y="hcl",ht=S.hcl(),Lt=U.hcl()),Y.substr(0,1)==="h"&&(ge=ht[0],tt=ht[1],Qe=ht[2],Be=Lt[0],nt=Lt[1],Ze=Lt[2]),!isNaN(ge)&&!isNaN(Be)?(Be>ge&&Be-ge>180?q=Be-(ge+360):Be<ge&&ge-Be>180?q=Be+360-ge:q=Be-ge,le=ge+Q*q):isNaN(ge)?isNaN(Be)?le=Number.NaN:(le=Be,(Qe===1||Qe===0)&&Y!=="hsv"&&(gt=nt)):(le=ge,(Ze===1||Ze===0)&&Y!=="hsv"&&(gt=tt)),gt==null&&(gt=tt+Q*(nt-tt)),Ke=Qe+Q*(Ze-Qe),E[Y](le,gt,Ke)},p=p.concat(function(){var S,U,Q,Y;for(Q=["hsv","hsl","hsi","hcl","lch","hcg"],Y=[],U=0,S=Q.length;U<S;U++)Ge=Q[U],Y.push([Ge,te]);return Y}()),fe=function(S,U,Q,Y){var q,le;return q=S.num(),le=U.num(),E.num(q+(le-q)*Q,"num")},p.push(["num",fe]),re=function(S,U,Q,Y){var q,le;return q=S.lab(),le=U.lab(),new n(q[0]+Q*(le[0]-q[0]),q[1]+Q*(le[1]-q[1]),q[2]+Q*(le[2]-q[2]),Y)},p.push(["lab",re])}).call(nl)})(O_,O_.exports);var An={exports:{}};(function(e){/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */(function(t){function n(s,o,c,A,l){this._listener=o,this._isOnce=c,this.context=A,this._signal=s,this._priority=l||0}n.prototype={active:!0,params:null,execute:function(s){var o,c;return this.active&&!!this._listener&&(c=this.params?this.params.concat(s):s,o=this._listener.apply(this.context,c),this._isOnce&&this.detach()),o},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function i(s,o){if(typeof s!="function")throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",o))}function r(){this._bindings=[],this._prevParams=null;var s=this;this.dispatch=function(){r.prototype.dispatch.apply(s,arguments)}}r.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(s,o,c,A){var l=this._indexOfListener(s,c),u;if(l!==-1){if(u=this._bindings[l],u.isOnce()!==o)throw new Error("You cannot add"+(o?"":"Once")+"() then add"+(o?"Once":"")+"() the same listener without removing the relationship first.")}else u=new n(this,s,o,c,A),this._addBinding(u);return this.memorize&&this._prevParams&&u.execute(this._prevParams),u},_addBinding:function(s){var o=this._bindings.length;do--o;while(this._bindings[o]&&s._priority<=this._bindings[o]._priority);this._bindings.splice(o+1,0,s)},_indexOfListener:function(s,o){for(var c=this._bindings.length,A;c--;)if(A=this._bindings[c],A._listener===s&&A.context===o)return c;return-1},has:function(s,o){return this._indexOfListener(s,o)!==-1},add:function(s,o,c){return i(s,"add"),this._registerListener(s,!1,o,c)},addOnce:function(s,o,c){return i(s,"addOnce"),this._registerListener(s,!0,o,c)},remove:function(s,o){i(s,"remove");var c=this._indexOfListener(s,o);return c!==-1&&(this._bindings[c]._destroy(),this._bindings.splice(c,1)),s},removeAll:function(){for(var s=this._bindings.length;s--;)this._bindings[s]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(s){if(!!this.active){var o=Array.prototype.slice.call(arguments),c=this._bindings.length,A;if(this.memorize&&(this._prevParams=o),!!c){A=this._bindings.slice(),this._shouldPropagate=!0;do c--;while(A[c]&&this._shouldPropagate&&A[c].execute(o)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var a=r;a.Signal=r,e.exports?e.exports=a:t.signals=a})(nl)})(An);var ua={};(function(e){(function(){var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(o){return r(s(o),arguments)}function i(o,c){return n.apply(null,[o].concat(c||[]))}function r(o,c){var A=1,l=o.length,u,d="",p,h,g,b,y,v,_,w;for(p=0;p<l;p++)if(typeof o[p]=="string")d+=o[p];else if(typeof o[p]=="object"){if(g=o[p],g.keys)for(u=c[A],h=0;h<g.keys.length;h++){if(u==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',g.keys[h],g.keys[h-1]));u=u[g.keys[h]]}else g.param_no?u=c[g.param_no]:u=c[A++];if(t.not_type.test(g.type)&&t.not_primitive.test(g.type)&&u instanceof Function&&(u=u()),t.numeric_arg.test(g.type)&&typeof u!="number"&&isNaN(u))throw new TypeError(n("[sprintf] expecting number but found %T",u));switch(t.number.test(g.type)&&(_=u>=0),g.type){case"b":u=parseInt(u,10).toString(2);break;case"c":u=String.fromCharCode(parseInt(u,10));break;case"d":case"i":u=parseInt(u,10);break;case"j":u=JSON.stringify(u,null,g.width?parseInt(g.width):0);break;case"e":u=g.precision?parseFloat(u).toExponential(g.precision):parseFloat(u).toExponential();break;case"f":u=g.precision?parseFloat(u).toFixed(g.precision):parseFloat(u);break;case"g":u=g.precision?String(Number(u.toPrecision(g.precision))):parseFloat(u);break;case"o":u=(parseInt(u,10)>>>0).toString(8);break;case"s":u=String(u),u=g.precision?u.substring(0,g.precision):u;break;case"t":u=String(!!u),u=g.precision?u.substring(0,g.precision):u;break;case"T":u=Object.prototype.toString.call(u).slice(8,-1).toLowerCase(),u=g.precision?u.substring(0,g.precision):u;break;case"u":u=parseInt(u,10)>>>0;break;case"v":u=u.valueOf(),u=g.precision?u.substring(0,g.precision):u;break;case"x":u=(parseInt(u,10)>>>0).toString(16);break;case"X":u=(parseInt(u,10)>>>0).toString(16).toUpperCase();break}t.json.test(g.type)?d+=u:(t.number.test(g.type)&&(!_||g.sign)?(w=_?"+":"-",u=u.toString().replace(t.sign,"")):w="",y=g.pad_char?g.pad_char==="0"?"0":g.pad_char.charAt(1):" ",v=g.width-(w+u).length,b=g.width&&v>0?y.repeat(v):"",d+=g.align?w+u+b:y==="0"?w+b+u:b+w+u)}return d}var a=Object.create(null);function s(o){if(a[o])return a[o];for(var c=o,A,l=[],u=0;c;){if((A=t.text.exec(c))!==null)l.push(A[0]);else if((A=t.modulo.exec(c))!==null)l.push("%");else if((A=t.placeholder.exec(c))!==null){if(A[2]){u|=1;var d=[],p=A[2],h=[];if((h=t.key.exec(p))!==null)for(d.push(h[1]);(p=p.substring(h[0].length))!=="";)if((h=t.key_access.exec(p))!==null)d.push(h[1]);else if((h=t.index_access.exec(p))!==null)d.push(h[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");A[2]=d}else u|=2;if(u===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");l.push({placeholder:A[0],param_no:A[1],keys:A[2],sign:A[3],pad_char:A[4],align:A[5],width:A[6],precision:A[7],type:A[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");c=c.substring(A[0].length)}return a[o]=l}e.sprintf=n,e.vsprintf=i,typeof window<"u"&&(window.sprintf=n,window.vsprintf=i)})()})(ua);var hC,Mw,mC,yC,gC;function Qce(e){if(typeof window<"u"){var t=new RegExp(e+"=([^&#=]*)").exec(window.location.search);return t?decodeURIComponent(t[1]):void 0}}function z(e,t){return e!==void 0?e:t}function As(e,t){var n=Object.assign({},e);for(var i in t)e[i]===void 0&&(n[i]=t[i]);return n}function VF(e,t){for(var n in t){var i=t[n];i!==void 0&&(e[n]=i)}return e}function R7(){var e=window.location.protocol;return e.match(/http(s)?:/gi)===null?"http:":e}function KF(){if(typeof window>"u")return!1;var e=window.navigator.userAgent;return/Opera|OPR/.test(e)?"Opera":/Chrome/i.test(e)?"Chrome":/Firefox/i.test(e)?"Firefox":/Mobile(\/.*)? Safari/i.test(e)?"Mobile Safari":/MSIE/i.test(e)?"Internet Explorer":!!/Safari/i.test(e)&&"Safari"}function bC(e){window.open(e,"_blank")||(window.location.href=e)}function WF(e,t){if(t===void 0&&(t="download"),e){var n=KF()==="Safari",i=/CriOS\/[\d]+/.test(window.navigator.userAgent),r=document.createElement("a");if(typeof navigator<"u"&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(e,t);else if((n||i)&&FileReader)if(e instanceof Blob){var a=new FileReader;a.onloadend=function(){o(a.result)},a.readAsDataURL(e)}else o(e);else{var s=!1;e instanceof Blob&&(e=URL.createObjectURL(e),s=!0),"download"in r?(r.style.display="hidden",document.body.appendChild(r),r.href=e,r.download=t,r.target="_blank",r.click(),document.body.removeChild(r)):bC(e),s&&window.URL.revokeObjectURL(e)}}function o(c){bC(i?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"))}}function zce(e,t){return e<t?-1:e>t?1:0}function tl(e,t,n){n===void 0&&(n=zce);for(var i=0,r=e.length-1;i<=r;){var a=i+r>>1,s=n(t,e[a]);if(s>0)i=a+1;else{if(!(s<0))return a;r=a-1}}return-i-1}function C7(e,t,n){var i=function(a,s){var o=a.length-1;if(a[o]<s)return-1;for(var c=0;c<=o;){var A=c+o>>1;a[A]>=s?o=A-1:c=A+1}return o+1}(e,t),r=function(a,s){if(a[0]>s)return-1;for(var o=0,c=a.length-1;o<=c;){var A=o+c>>1;a[A]>s?c=A-1:o=A+1}return o-1}(e,n);return i===-1||r===-1||i>r?0:r-i+1}function N7(e){return e.sort().filter(function(t,n,i){return n===0||t!==i[n-1]})}function H3(e){var t=28672;if(e.length>t){for(var n=[],i=0;i<e.length;i+=t)n.push(String.fromCharCode.apply(null,e.subarray(i,i+t)));return n.join("")}return String.fromCharCode.apply(null,e)}function $F(e,t){switch(e){case"int8":return new Int8Array(t);case"int16":return new Int16Array(t);case"int32":return new Int32Array(t);case"uint8":return new Uint8Array(t);case"uint16":return new Uint16Array(t);case"uint32":return new Uint32Array(t);case"float32":return new Float32Array(t);default:throw new Error("arrayType unknown: "+e)}}function cc(e,t){return new(t>65535?Uint32Array:Uint16Array)(e)}function tp(e){return e.buffer&&e.buffer instanceof ArrayBuffer?e.buffer:e}function T2(e,t){return e===void 0?e=new t:Array.isArray(e)&&(e=new t().fromArray(e)),e}function ml(e){return T2(e,P)}function hf(e){return T2(e,st)}function H_(e){return T2(e,yi)}function Tw(e){return t=e,n=Float32Array,t instanceof n?t:new n(t);var t,n}function vC(e){return z(e,"").toString().toLowerCase()}typeof window<"u"&&function(){window.console=window.console||{};for(var e,t,n=window.console,i={},r=function(){},a="memory".split(","),s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=a.pop();)n[e]||(n[e]=i);for(;t=s.pop();)n[t]||(n[t]=r)}(),typeof window>"u"||window.HTMLCanvasElement===void 0||window.HTMLCanvasElement.prototype.toBlob||Object.defineProperty(window.HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var i=window.atob(this.toDataURL(t,n).split(",")[1]),r=i.length,a=r>>2,s=new Uint8Array(r),o=new Uint32Array(s.buffer,0,a),c=0,A=0;c<a;c++)o[c]=i.charCodeAt(A++)|i.charCodeAt(A++)<<8|i.charCodeAt(A++)<<16|i.charCodeAt(A++)<<24;for(var l=3&r;l--;)s[A]=i.charCodeAt(A++);e(new window.Blob([s],{type:t||"image/png"}))}}),Math.cbrt=Math.cbrt||function(e){var t=Math.pow(Math.abs(e),.3333333333333333);return e<0?-t:t},Math.sign||(Math.sign=function(e){return(e=+e)==0||isNaN(e)?Number(e):e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992&&Math.floor(e)===e}),Number.isNaN||(Number.isNaN=function(e){return e!=e}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=arguments;if(e==null)throw new TypeError("Cannot convert first argument to object");for(var n,i=Object(e),r=!1,a=1;a<arguments.length;a++){var s=t[a];if(s!=null){for(var o=Object.keys(Object(s)),c=0,A=o.length;c<A;c++){var l=o[c];try{var u=Object.getOwnPropertyDescriptor(s,l);u!==void 0&&u.enumerable&&(i[l]=s[l])}catch(d){r||(r=!0,n=d)}}if(r)throw n}}return i}}),String.prototype.startsWith||function(){var e=function(){var i;try{var r={},a=Object.defineProperty;i=a(r,r,r)&&a}catch{}return i}(),t={}.toString,n=function(i){if(this===null)throw TypeError();var r=String(this);if(i&&t.call(i)==="[object RegExp]")throw TypeError();var a=r.length,s=String(i),o=s.length,c=arguments.length>1?arguments[1]:void 0,A=c?Number(c):0;Number.isNaN(A)&&(A=0);var l=Math.min(Math.max(A,0),a);if(o+l>a)return!1;for(var u=-1;++u<o;)if(r.charCodeAt(l+u)!==s.charCodeAt(u))return!1;return!0};e?e(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();(typeof t!="number"||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return i!==-1&&i===t}),String.prototype.repeat||(String.prototype.repeat=function(e){if(this===null)throw new TypeError("can't convert "+this+" to object");var t=""+this;if(e=+e,Number.isNaN(e)&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e===1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),t.length===0||e===0)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="";(1&e)==1&&(n+=t),(e>>>=1)!==0;)t+=t;return n}),String.prototype.includes||(String.prototype.includes=function(e,t){return typeof t!="number"&&(t=0),!(t+e.length>this.length)&&this.indexOf(e,t)!==-1}),Array.prototype.includes||(Array.prototype.includes=function(e){if(this==null)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),n=parseInt(t.length,10)||0;if(n===0)return!1;var i,r,a=parseInt(arguments[1],10)||0;for(a>=0?i=a:(i=n+a)<0&&(i=0);i<n;){if(e===(r=t[i])||Number.isNaN(e)&&Number.isNaN(r))return!0;i++}return!1}),Array.from||(Array.from=(hC=Object.prototype.toString,Mw=function(e){return typeof e=="function"||hC.call(e)==="[object Function]"},mC=Math.pow(2,53)-1,yC=function(e){var t=function(n){var i=Number(n);return isNaN(i)?0:i!==0&&isFinite(i)?(i>0?1:-1)*Math.floor(Math.abs(i)):i}(e);return Math.min(Math.max(t,0),mC)},function(e){var t=this,n=Object(e);if(e==null)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,r=arguments.length>1?arguments[1]:void 0;if(r!==void 0){if(!Mw(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var a,s=yC(n.length),o=Mw(t)?Object(new t(s)):new Array(s),c=0;c<s;)a=n[c],o[c]=r?i===void 0?r(a,c):r.call(i,a,c):a,c+=1;return o.length=s,o})),typeof window<"u"&&function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i){var r=new Date().getTime(),a=Math.max(0,16-(r-e)),s=window.setTimeout(function(){i(r+a)},a);return e=r+a,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(i){clearTimeout(i)})}(),Function.prototype.name===void 0&&Object.defineProperty!==void 0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),typeof window<"u"&&(window.performance===void 0&&(self.performance={}),window.performance.now===void 0&&(gC=Date.now(),window.performance.now=function(){return Date.now()-gC})),Object.defineProperty!==void 0&&(Number.MAX_SAFE_INTEGER===void 0&&Object.defineProperty(Number,"MAX_SAFE_INTEGER",{enumerable:!1,configurable:!1,writable:!1,value:Math.pow(2,53)-1}),Number.MIN_SAFE_INTEGER===void 0&&Object.defineProperty(Number,"MIN_SAFE_INTEGER",{enumerable:!1,configurable:!1,writable:!1,value:-(Math.pow(2,53)-1)}));var wo=function(e){this.name=e,this._dict={}},wC={names:{configurable:!0}};function Oi(e){return .01745*e}wo.prototype.add=function(e,t){this._dict[vC(e)]=t},wo.prototype.get=function(e){return this._dict[vC(e)]},wC.names.get=function(){return Object.keys(this._dict)},Object.defineProperties(wo.prototype,wC);var Vce="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),By=new Array(36);function S7(){for(var e,t=0,n=0;n<36;n++)n===8||n===13||n===18||n===23?By[n]="-":n===14?By[n]="4":(t<=2&&(t=33554432+16777216*Math.random()|0),e=15&t,t>>=4,By[n]=Vce[n===19?3&e|8:e]);return By.join("")}function Q_(e,t,n){return Math.max(t,Math.min(n,e))}function Gs(e,t,n){return e+(t-e)*n}function Vc(e,t,n,i,r,a){var s=(n-e)*a,o=(i-t)*a,c=r*r;return(2*t-2*n+s+o)*(r*c)+(-3*t+3*n-2*s-o)*c+s*r+t}function um(e,t,n){var i;return i=function(r,a,s){return(r-a)/(s-a)}(n,e,t),(n=Q_(i,0,1))*n*(3-2*n)}var jF="sRGB",Kce={scale:"uniform",mode:"hcl",domain:[0,1],value:16777215,reverse:!1},Ag=new pt;function Zn(e,t,n){var i=n.value;return n.value=function(r,a){var s=i.bind(this,r,a)();return jF=="linear"?(Ag.set(s),Ag.convertSRGBToLinear(),Ag.getHex()):s},n}var Wt,In=function(e){e===void 0&&(e={}),this.parameters=As(e,Kce),typeof this.parameters.value=="string"&&(this.parameters.value=Ag.set(this.parameters.value).getHex()),this.parameters.structure&&(this.atomProxy=this.parameters.structure.getAtomProxy())};In.prototype.getScale=function(e){e===void 0&&(e={});var t=As(e,this.parameters);return t.scale==="rainbow"?t.scale=["red","orange","yellow","green","blue"]:t.scale==="rwb"&&(t.scale=["red","white","blue"]),t.reverse&&(t.domain=t.domain.slice().reverse()),O_.exports.scale(t.scale).mode(t.mode).domain(t.domain).out("num")},In.prototype.colorToArray=function(e,t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=(e>>16&255)/255,t[n+1]=(e>>8&255)/255,t[n+2]=(255&e)/255,t},In.prototype.atomColorToArray=function(e,t,n){return this.colorToArray(this.atomColor?this.atomColor(e):0,t,n)},In.prototype.bondColor=function(e,t){return this.atomProxy&&this.atomColor?(this.atomProxy.index=t?e.atomIndex1:e.atomIndex2,this.atomColor(this.atomProxy)):0},In.prototype.bondColorToArray=function(e,t,n,i){return this.colorToArray(this.bondColor(e,t),n,i)},In.prototype.volumeColorToArray=function(e,t,n){return this.colorToArray(this.volumeColor?this.volumeColor(e):0,t,n)},In.prototype.positionColorToArray=function(e,t,n){return this.colorToArray(this.positionColor?this.positionColor(e):0,t,n)},function(e){e[e.PROTEIN=1]="PROTEIN",e[e.NUCLEIC=2]="NUCLEIC",e[e.RNA=3]="RNA",e[e.DNA=4]="DNA",e[e.POLYMER=5]="POLYMER",e[e.WATER=6]="WATER",e[e.HELIX=7]="HELIX",e[e.SHEET=8]="SHEET",e[e.TURN=9]="TURN",e[e.BACKBONE=10]="BACKBONE",e[e.SIDECHAIN=11]="SIDECHAIN",e[e.ALL=12]="ALL",e[e.HETERO=13]="HETERO",e[e.ION=14]="ION",e[e.SACCHARIDE=15]="SACCHARIDE",e[e.SUGAR=15]="SUGAR",e[e.BONDED=16]="BONDED",e[e.RING=17]="RING",e[e.AROMATICRING=18]="AROMATICRING",e[e.METAL=19]="METAL",e[e.POLARH=20]="POLARH",e[e.NONE=21]="NONE"}(Wt||(Wt={}));var EC=["*","","ALL"],Wce=["NONE"],G7=[Wt.BACKBONE,Wt.SIDECHAIN,Wt.BONDED,Wt.RING,Wt.AROMATICRING,Wt.METAL,Wt.POLARH],YF=[Wt.POLYMER,Wt.WATER],$ce=["ALA","GLY","SER"],jce=["CYS","SER","THR"],Yce=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],qce=["PHE","TRP","TYR","HIS"],Xce=["ASN","GLN"],Zce=["ASP","GLU"],Jce=["ARG","HIS","LYS"],e0e=["ARG","ASP","GLU","HIS","LYS"],t0e=["ASN","ARG","ASP","CYS","GLY","GLN","GLU","HIS","LYS","SER","THR","TYR"],n0e=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],i0e=["HIS","PHE","PRO","TRP","TYR"],r0e=["ALA","GLY","ILE","LEU","VAL"];function a0e(e,t){if(t.atomname===void 0&&t.element===void 0&&t.altloc===void 0&&t.atomindex===void 0&&t.keyword===void 0&&t.inscode===void 0&&t.resname===void 0&&t.sstruc===void 0&&t.resno===void 0&&t.chainname===void 0&&t.model===void 0)return-1;if(t.keyword!==void 0&&(t.keyword===Wt.BACKBONE&&!e.isBackbone()||t.keyword===Wt.SIDECHAIN&&!e.isSidechain()||t.keyword===Wt.BONDED&&!e.isBonded()||t.keyword===Wt.RING&&!e.isRing()||t.keyword===Wt.AROMATICRING&&!e.isAromatic()||t.keyword===Wt.HETERO&&!e.isHetero()||t.keyword===Wt.PROTEIN&&!e.isProtein()||t.keyword===Wt.NUCLEIC&&!e.isNucleic()||t.keyword===Wt.RNA&&!e.isRna()||t.keyword===Wt.DNA&&!e.isDna()||t.keyword===Wt.POLYMER&&!e.isPolymer()||t.keyword===Wt.WATER&&!e.isWater()||t.keyword===Wt.HELIX&&!e.isHelix()||t.keyword===Wt.SHEET&&!e.isSheet()||t.keyword===Wt.TURN&&!e.isTurn()||t.keyword===Wt.ION&&!e.isIon()||t.keyword===Wt.SACCHARIDE&&!e.isSaccharide()||t.keyword===Wt.METAL&&!e.isMetal()||t.keyword===Wt.POLARH&&!e.isPolarHydrogen())||t.atomname!==void 0&&t.atomname!==e.atomname||t.element!==void 0&&t.element!==e.element||t.altloc!==void 0&&t.altloc!==e.altloc||t.atomindex!==void 0&&tl(t.atomindex,e.index)<0)return!1;if(t.resname!==void 0){if(Array.isArray(t.resname)){if(!t.resname.includes(e.resname))return!1}else if(t.resname!==e.resname)return!1}if(t.sstruc!==void 0&&t.sstruc!==e.sstruc)return!1;if(t.resno!==void 0){if(Array.isArray(t.resno)&&t.resno.length===2){if(t.resno[0]>e.resno||t.resno[1]<e.resno)return!1}else if(t.resno!==e.resno)return!1}return(t.inscode===void 0||t.inscode===e.inscode)&&(t.chainname===void 0||t.chainname===e.chainname)&&(t.model===void 0||t.model===e.modelIndex)}function s0e(e,t){if(t.resname===void 0&&t.resno===void 0&&t.inscode===void 0&&t.sstruc===void 0&&t.model===void 0&&t.chainname===void 0&&t.atomindex===void 0&&(t.keyword===void 0||G7.includes(t.keyword)))return-1;if(t.keyword!==void 0&&(t.keyword===Wt.HETERO&&!e.isHetero()||t.keyword===Wt.PROTEIN&&!e.isProtein()||t.keyword===Wt.NUCLEIC&&!e.isNucleic()||t.keyword===Wt.RNA&&!e.isRna()||t.keyword===Wt.DNA&&!e.isDna()||t.keyword===Wt.POLYMER&&!e.isPolymer()||t.keyword===Wt.WATER&&!e.isWater()||t.keyword===Wt.HELIX&&!e.isHelix()||t.keyword===Wt.SHEET&&!e.isSheet()||t.keyword===Wt.TURN&&!e.isTurn()||t.keyword===Wt.ION&&!e.isIon()||t.keyword===Wt.SACCHARIDE&&!e.isSaccharide())||t.atomindex!==void 0&&C7(t.atomindex,e.atomOffset,e.atomEnd)===0)return!1;if(t.resname!==void 0){if(Array.isArray(t.resname)){if(!t.resname.includes(e.resname))return!1}else if(t.resname!==e.resname)return!1}if(t.sstruc!==void 0&&t.sstruc!==e.sstruc)return!1;if(t.resno!==void 0){if(Array.isArray(t.resno)&&t.resno.length===2){if(t.resno[0]>e.resno||t.resno[1]<e.resno)return!1}else if(t.resno!==e.resno)return!1}return(t.inscode===void 0||t.inscode===e.inscode)&&(t.chainname===void 0||t.chainname===e.chainname)&&(t.model===void 0||t.model===e.modelIndex)}function o0e(e,t){return t.chainname!==void 0||t.model!==void 0||t.atomindex!==void 0||t.keyword!==void 0&&YF.includes(t.keyword)&&e.entity?t.keyword!==void 0&&(t.keyword===Wt.POLYMER&&!e.entity.isPolymer()||t.keyword===Wt.WATER&&!e.entity.isWater())?!1:(t.atomindex===void 0||C7(t.atomindex,e.atomOffset,e.atomEnd)!==0)&&(t.chainname===void 0||t.chainname===e.chainname)&&(t.model===void 0||t.model===e.modelIndex):-1}function c0e(e,t){return t.model===void 0&&t.atomindex===void 0?-1:(t.atomindex===void 0||C7(t.atomindex,e.atomOffset,e.atomEnd)!==0)&&(t.model===void 0||t.model===e.index)}function dm(e,t){if(e===null||e.error||!e.rules||e.rules.length===0)return!1;for(var n=e.rules.length,i=!e.negate,r=!!e.negate,a=[],s=0;s<n;++s){var o=e.rules[s];o.hasOwnProperty("operator")&&(a[s]=dm(o,t))}return function(c){for(var A=e.operator==="AND",l=!1,u=0;u<n;++u){var d=e.rules[u],p=void 0;if(d.hasOwnProperty("operator")){var h=a[u];if((p=h!==!1?h(c):-1)===-1){l=!0;continue}if(p===!0){if(A)continue;return i}if(A)return r}else{if(d.keyword===Wt.ALL){if(A)continue;return i}if(d.keyword===Wt.NONE){if(A)continue;return r}if((p=t(c,d))!==-1){if(p===!0){if(A)continue;return i}if(A)return r}else l=!0}}return l?-1:A?i:r}}function pm(e,t){if(e.error||!e.rules||e.rules.length===0)return e;var n=e.rules.length,i={operator:e.operator,rules:[]};e.hasOwnProperty("negate")&&(i.negate=e.negate);for(var r=0;r<n;++r){var a=e.rules[r];if(a.hasOwnProperty("operator")){var s=pm(a,t);s!==null&&i.rules.push(s)}else t(a)||i.rules.push(a)}return i.rules.length>0?e:null}function _C(e,t){t===void 0&&(t=!1);var n=e;return t&&(n=pm(e,function(i){return i.keyword!==void 0&&!G7.includes(i.keyword)||i.model!==void 0||i.chainname!==void 0||i.resname!==void 0||i.resno!==void 0||i.sstruc!==void 0})),dm(n,a0e)}function xC(e,t){t===void 0&&(t=!1);var n=e;return t&&(n=pm(e,function(i){return!(i.keyword===void 0||!G7.includes(i.keyword))||i.model!==void 0||i.chainname!==void 0||i.atomname!==void 0||i.element!==void 0||i.altloc!==void 0})),dm(n,s0e)}function BC(e,t){t===void 0&&(t=!1);var n=e;return t&&(n=pm(e,function(i){return i.keyword!==void 0&&!YF.includes(i.keyword)||i.resname!==void 0||i.resno!==void 0||i.atomname!==void 0||i.element!==void 0||i.altloc!==void 0||i.sstruc!==void 0||i.inscode!==void 0})),dm(n,o0e)}function RC(e,t){t===void 0&&(t=!1);var n=e;return t&&(n=pm(e,function(i){return i.keyword!==void 0||i.chainname!==void 0||i.resname!==void 0||i.resno!==void 0||i.atomname!==void 0||i.element!==void 0||i.altloc!==void 0||i.sstruc!==void 0||i.inscode!==void 0})),dm(n,c0e)}var si=function(e){this.signals={stringChanged:new An.exports.Signal},this.setString(e)},CC={type:{configurable:!0}};CC.type.get=function(){return"selection"},si.prototype.setString=function(e,t){if(e===void 0&&(e=this.string||""),e!==this.string){try{this.selection=function(i){var r={operator:void 0,rules:[]};if(!i)return r;var a,s,o=r,c=[];(i=i.replace(/\(/g," ( ").replace(/\)/g," ) ").trim()).charAt(0)==="("&&i.substr(-1)===")"&&(i=i.slice(1,-1).trim());for(var A=i.split(/\s+/),l=function(W){a={operator:W,rules:[]},o===void 0?(o=a,r=a):(o.rules.push(a),c.push(o),o=a)},u=function(W){s=o,(o=c.pop())===void 0&&(l(W),d(s))},d=function(W){o.rules.push(W)},p=!1,h=0;h<A.length;++h){var g=A[h],b=g.toUpperCase();if(g!=="(")if(g!==")"){if(p>0)if(b==="NOT")p=1;else if(p===1)p=2;else{if(p!==2)throw new Error("something went wrong with 'not'");p=!1,u()}if(b!=="AND")if(b!=="OR")if(g.toUpperCase()!=="NOT"){if(+b!=+b){var y=Wt[b];if(y!==void 0){d({keyword:y});continue}}if(b!=="HYDROGEN")if(b!=="SMALL")if(b!=="NUCLEOPHILIC")if(b!=="HYDROPHOBIC")if(b!=="AROMATIC")if(b!=="AMIDE")if(b!=="ACIDIC")if(b!=="BASIC")if(b!=="CHARGED")if(b!=="POLAR")if(b!=="NONPOLAR")if(b!=="CYCLIC")if(b!=="ALIPHATIC")if(b!=="SIDECHAINATTACHED")if(b!=="APOLARH")if(b!=="LIGAND")if(EC.indexOf(b)===-1)if(g.charAt(0)!=="@")if(g.charAt(0)!=="#")if(g.charAt(0)!=="_")if(g[0]!=="["||g[g.length-1]!=="]")if(g.length>=1&&g.length<=4&&g[0]!=="^"&&g[0]!==":"&&g[0]!=="."&&g[0]!=="%"&&g[0]!=="/"&&isNaN(parseInt(g)))d({resname:b});else{var v={operator:"AND",rules:[]},_=g.split("/");if(_.length>1&&_[1]){if(isNaN(parseInt(_[1])))throw new Error("model must be an integer");v.rules.push({model:parseInt(_[1])})}var w=_[0].split("%");w.length>1&&v.rules.push({altloc:w[1]});var E=w[0].split(".");if(E.length>1&&E[1]){if(E[1].length>4)throw new Error("atomname must be one to four characters");v.rules.push({atomname:E[1].substring(0,4).toUpperCase()})}var B=E[0].split(":");B.length>1&&B[1]&&v.rules.push({chainname:B[1]});var R=B[0].split("^");if(R.length>1&&v.rules.push({inscode:R[1]}),R[0]){var G=void 0,C=void 0;R[0][0]==="-"&&(R[0]=R[0].substr(1),G=!0),R[0].includes("--")&&(R[0]=R[0].replace("--","-"),C=!0);var O=R[0].split("-");if(O.length===1){var I=parseInt(O[0]);if(isNaN(I))throw new Error("resi must be an integer");G&&(I*=-1),v.rules.push({resno:I})}else{if(O.length!==2)throw new Error("resi range must contain one '-'");var D=O.map(function(W){return parseInt(W)});G&&(D[0]*=-1),C&&(D[1]*=-1),v.rules.push({resno:[D[0],D[1]]})}}if(v.rules.length===1)d(v.rules[0]);else{if(!(v.rules.length>1))throw new Error("empty selection chunk");d(v)}}else{var k=b.substr(1,g.length-2).split(","),L=k.length>1?k:k[0];d({resname:L})}else d({element:b.substr(1)});else console.error("# for element selection deprecated, use _"),d({element:b.substr(1)});else{var T=g.substr(1).split(",").map(function(W){return parseInt(W)});T.sort(function(W,j){return W-j}),d({atomindex:T})}else d({keyword:Wt.ALL});else d({operator:"AND",rules:[{operator:"OR",rules:[{operator:"AND",rules:[{keyword:Wt.HETERO},{negate:!0,operator:void 0,rules:[{keyword:Wt.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{keyword:Wt.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{operator:"OR",rules:[{keyword:Wt.WATER},{keyword:Wt.ION}]}]}]});else d({operator:"AND",negate:!1,rules:[{element:"H"},{negate:!0,operator:void 0,rules:[{keyword:Wt.POLARH}]}]});else d({operator:"OR",rules:[{keyword:Wt.SIDECHAIN},{operator:"AND",negate:!1,rules:[{keyword:Wt.PROTEIN},{operator:"OR",negate:!1,rules:[{atomname:"CA"},{atomname:"BB"}]}]},{operator:"AND",negate:!1,rules:[{resname:"PRO"},{atomname:"N"}]},{operator:"AND",negate:!1,rules:[{keyword:Wt.NUCLEIC},{operator:"OR",negate:!0,rules:[{atomname:"P"},{atomname:"OP1"},{atomname:"OP2"},{atomname:"O3'"},{atomname:"O3*"},{atomname:"HO3'"},{atomname:"O5'"},{atomname:"O5*"},{atomname:"HO5'"},{atomname:"C5'"},{atomname:"C5*"},{atomname:"H5'"},{atomname:"H5''"}]}]}]});else d({resname:r0e});else d({resname:i0e});else d({resname:n0e});else d({resname:t0e});else d({resname:e0e});else d({resname:Jce});else d({resname:Zce});else d({resname:Xce});else d({resname:qce});else d({resname:Yce});else d({resname:jce});else d({resname:$ce});else d({operator:"OR",rules:[{element:"H"},{element:"D"}]})}else p=1,l(),o.negate=!0;else o.operator==="AND"?u("OR"):o.operator="OR";else if(o.operator==="OR"){var H=o.rules.pop();l("AND"),d(H)}else o.operator="AND"}else u(),o.negate&&u();else p=!1,l()}return r.operator===void 0&&r.rules.length===1&&r.rules[0].hasOwnProperty("operator")&&(r=r.rules[0]),r}(e)}catch(i){this.selection={error:i.message}}var n=this.selection;this.string=e,this.test=_C(n),this.residueTest=xC(n),this.chainTest=BC(n),this.modelTest=RC(n),this.atomOnlyTest=_C(n,!0),this.residueOnlyTest=xC(n,!0),this.chainOnlyTest=BC(n,!0),this.modelOnlyTest=RC(n,!0),t||this.signals.stringChanged.dispatch(this.string)}},si.prototype.isAllSelection=function(){return EC.includes(this.string.toUpperCase())},si.prototype.isNoneSelection=function(){return Wce.includes(this.string.toUpperCase())},Object.defineProperties(si.prototype,CC);var A0e=function(e){function t(n){var i=this;e.call(this,n),this.colormakerList=[],this.selectionList=[],(n.dataList||[]).forEach(function(r){var a=r[0],s=r[1],o=r[2];o===void 0&&(o={}),Nn.hasScheme(a)?Object.assign(o,{scheme:a,structure:i.parameters.structure}):Object.assign(o,{scheme:"uniform",value:new pt(a).getHex()}),i.colormakerList.push(Nn.getScheme(o)),i.selectionList.push(new si(s))})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){for(var i=0,r=this.selectionList.length;i<r;++i){var a=this.selectionList[i].test;if(a&&a(n))return this.colormakerList[i].atomColor(n)}return 16777215},t}(In),l0e={"":"",OrRd:"[S] Orange-Red",PuBu:"[S] Purple-Blue",BuPu:"[S] Blue-Purple",Oranges:"[S] Oranges",BuGn:"[S] Blue-Green",YlOrBr:"[S] Yellow-Orange-Brown",YlGn:"[S] Yellow-Green",Reds:"[S] Reds",RdPu:"[S] Red-Purple",Greens:"[S] Greens",YlGnBu:"[S] Yellow-Green-Blue",Purples:"[S] Purples",GnBu:"[S] Green-Blue",Greys:"[S] Greys",YlOrRd:"[S] Yellow-Orange-Red",PuRd:"[S] Purple-Red",Blues:"[S] Blues",PuBuGn:"[S] Purple-Blue-Green",Viridis:"[D] Viridis",Spectral:"[D] Spectral",RdYlGn:"[D] Red-Yellow-Green",RdBu:"[D] Red-Blue",PiYG:"[D] Pink-Yellowgreen",PRGn:"[D] Purplered-Green",RdYlBu:"[D] Red-Yellow-Blue",BrBG:"[D] Brown-Bluegreen",RdGy:"[D] Red-Grey",PuOr:"[D] Purple-Orange",Set1:"[Q] Set1",Set2:"[Q] Set2",Set3:"[Q] Set3",Dark2:"[Q] Dark2",Paired:"[Q] Paired",Pastel1:"[Q] Pastel1",Pastel2:"[Q] Pastel2",Accent:"[Q] Accent",rainbow:"[?] Rainbow",rwb:"[?] Red-White-Blue"},u0e={"":"",rgb:"Red Green Blue",hsv:"Hue Saturation Value",hsl:"Hue Saturation Lightness",hsi:"Hue Saturation Intensity",lab:"CIE L*a*b*",hcl:"Hue Chroma Lightness"},Bs=function(){this.schemes={},this.userSchemes={}};Bs.prototype.getScheme=function(e){var t=((e||{}).scheme||"").toLowerCase();return new(t in this.schemes?this.schemes[t]:t in this.userSchemes?this.userSchemes[t]:In)(e)},Bs.prototype.getSchemes=function(){var e={};return Object.keys(this.schemes).forEach(function(t){e[t]=t}),Object.keys(this.userSchemes).forEach(function(t){e[t]=t.split("|")[1]}),e},Bs.prototype.getScales=function(){return l0e},Bs.prototype.getModes=function(){return u0e},Bs.prototype.add=function(e,t){e=e.toLowerCase(),this.schemes[e]=t},Bs.prototype.addScheme=function(e,t){return e instanceof In||(e=this._createScheme(e)),this._addUserScheme(e,t)},Bs.prototype._addUserScheme=function(e,t){t=t||"";var n=(S7()+"|"+t).toLowerCase();return this.userSchemes[n]=e,n},Bs.prototype.removeScheme=function(e){e=e.toLowerCase(),delete this.userSchemes[e]},Bs.prototype._createScheme=function(e){var t=function(n){In.call(this,n),e.call(this,n)};return(t.prototype=In.prototype).constructor=In,t},Bs.prototype.addSelectionScheme=function(e,t){var n=function(i){function r(a){i.call(this,Object.assign({dataList:e},a))}return i&&(r.__proto__=i),r.prototype=Object.create(i&&i.prototype),r.prototype.constructor=r,r}(A0e);return this._addUserScheme(n,t)},Bs.prototype.hasScheme=function(e){return(e=e.toLowerCase())in this.schemes||e in this.userSchemes};var d0e=function(e){function t(){e.call(this,"parser")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__hasObjName=function(n,i){var r=this.get(n);return r&&r.prototype.__objName===i},t.prototype.isTrajectory=function(n){return this.__hasObjName(n,"frames")},t.prototype.isStructure=function(n){return this.__hasObjName(n,"structure")},t.prototype.isVolume=function(n){return this.__hasObjName(n,"volume")},t.prototype.isSurface=function(n){return this.__hasObjName(n,"surface")},t.prototype.isBinary=function(n){var i=this.get(n);return i&&i.prototype.isBinary},t.prototype.isXml=function(n){var i=this.get(n);return i&&i.prototype.isXml},t.prototype.isJson=function(n){var i=this.get(n);return i&&i.prototype.isJson},t.prototype.getTrajectoryExtensions=function(){var n=this;return this.names.filter(function(i){return n.isTrajectory(i)})},t.prototype.getStructureExtensions=function(){var n=this;return this.names.filter(function(i){return n.isStructure(i)})},t.prototype.getVolumeExtensions=function(){var n=this;return this.names.filter(function(i){return n.isVolume(i)})},t.prototype.getSurfaceExtensions=function(){var n=this;return this.names.filter(function(i){return n.isSurface(i)})},t}(wo);function qF(e){var t=e;return e.forEach(function(n){n.__deps&&Array.prototype.push.apply(t,qF(n.__deps))}),t}function p0e(e){return N7(qF(e)).map(function(t){return t.toString()}).join(`


`)}function f0e(e){var t=e.data.__name,n=e.data.__postId;t===void 0?console.error("message __name undefined"):self.func===void 0?console.error("worker func undefined",t):self.func(e,function(i,r){i=i||{},n!==void 0&&(i.__postId=n);try{self.postMessage(i,r)}catch(a){console.error("self.postMessage:",a),self.postMessage(i)}})}function h0e(e,t){var n=`'use strict';

`+p0e(t);return n+=`


self.func = `+e.toString()+";",n+=`


self.onmessage = `+f0e.toString()+";",new Blob([n],{type:"application/javascript"})}var z_=function(){this.activeWorkerCount=0,this._funcDict={},this._depsDict={},this._blobDict={}};z_.prototype.add=function(e,t,n){this._funcDict[e]=t,this._depsDict[e]=n},z_.prototype.get=function(e){return this._blobDict[e]||(this._blobDict[e]=h0e(this._funcDict[e],this._depsDict[e])),this._blobDict[e]};var XF=KF(),ZF=!1;try{var m0e=Object.defineProperty({},"passive",{get:function(){ZF=!0}});window.addEventListener("test",function(e){},m0e)}catch{}var JF=typeof window<"u"&&window.orientation!==void 0,q0=!1;function NC(e){q0=e}var ec=!1;function SC(e){ec=e}var De={log:Function.prototype.bind.call(console.log,console),info:Function.prototype.bind.call(console.info,console),warn:Function.prototype.bind.call(console.warn,console),error:Function.prototype.bind.call(console.error,console),time:Function.prototype.bind.call(console.time,console),timeEnd:Function.prototype.bind.call(console.timeEnd,console)},Hp={color:"green",labelColor:8421504,labelAttachment:"bottom-center",labelSize:.7,labelZOffset:.5,labelYOffset:.1,labelBorder:!0,labelBorderColor:13882323,labelBorderWidth:.25,lineOpacity:.8,linewidth:5,opacity:.6,labelUnit:"angstrom",arcVisible:!0,planeVisible:!1},Fw,je=!!(Fw=Qce("debug"))&&(typeof Fw!="string"||/^1|true|t|yes|y$/i.test(Fw)),Iw,y0e=["ngl","js"],Dh=new z_,Nn=new Bs,yl=new wo("datasource"),Ci=new wo("representatation"),Jt=new d0e,Vn=new wo("shader"),M7=new wo("decompressor"),Kd=new wo("component"),ls=new wo("buffer"),Rs=new wo("picker"),ca=function(e,t){t===void 0&&(t={}),this.chunkSize=10485760,this.newline=`
`,this.__pointer=0,this.__partialLine="",this.compressed=z(t.compressed,!1),this.binary=z(t.binary,!1),this.json=z(t.json,!1),this.xml=z(t.xml,!1),this.src=e};ca.prototype.isBinary=function(){return this.binary||this.compressed},ca.prototype.read=function(){var e=this;return this._read().then(function(t){var n=e.compressed?M7.get(e.compressed):void 0;return e.compressed&&n?e.data=n(t):((e.binary||e.compressed)&&t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e.data=t),e.data})},ca.prototype._chunk=function(e,t){return t=Math.min(this.data.length,t),e===0&&this.data.length===t?this.data:this.isBinary()?this.data.subarray(e,t):this.data.substring(e,t)},ca.prototype.chunk=function(e){var t=e+this.chunkSize;return this._chunk(e,t)},ca.prototype.peekLines=function(e){var t,n=this.data,i=n.length,r=this.isBinary()?this.newline.charCodeAt(0):this.newline,a=0;for(t=0;t<i&&(n[t]===r&&++a,a!==e);++t);var s=this._chunk(0,t+1);return this.chunkToLines(s,"",t>i).lines},ca.prototype.chunkCount=function(){return Math.floor(this.data.length/this.chunkSize)+1},ca.prototype.asText=function(){return this.isBinary()?H3(this.data):this.data},ca.prototype.chunkToLines=function(e,t,n){var i=this.newline;if(!this.isBinary()&&e.length===this.data.length)return{lines:e.split(i),partialLine:""};var r=[],a=this.isBinary()?H3(e):e,s=a.lastIndexOf(i);if(s===-1)t+=a;else{var o=t+a.substr(0,s);r=r.concat(o.split(i)),t=s===a.length-i.length?"":a.substr(s+i.length)}return n&&t!==""&&r.push(t),{lines:r,partialLine:t}},ca.prototype.nextChunk=function(){var e=this.__pointer;if(!(e>this.data.length))return this.__pointer+=this.chunkSize,this.chunk(e)},ca.prototype.nextChunkOfLines=function(){var e=this.nextChunk();if(e!==void 0){var t=this.__pointer>this.data.length,n=this.chunkToLines(e,this.__partialLine,t);return this.__partialLine=n.partialLine,n.lines}},ca.prototype.eachChunk=function(e){for(var t=this.chunkSize,n=this.data.length,i=this.chunkCount(),r=0;r<n;r+=t)e(this.chunk(r),Math.round(r/t),i)},ca.prototype.eachChunkOfLines=function(e){var t=this;this.eachChunk(function(n,i,r){var a=i===r+1,s=t.chunkToLines(n,t.__partialLine,a);t.__partialLine=s.partialLine,e(s.lines,i,r)})},ca.prototype.dispose=function(){delete this.src};var g0e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._read=function(){var n=this;return new Promise(function(i,r){var a=n.src,s=new FileReader;s.onload=function(o){o.target&&i(o.target.result)},s.onerror=function(o){return r(o)},n.binary||n.compressed?s.readAsArrayBuffer(a):s.readAsText(a)})},t}(ca),b0e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._read=function(){var n=this;return new Promise(function(i,r){var a=n.src,s=new XMLHttpRequest;s.open("GET",a,!0),s.addEventListener("load",function(){if(s.status===200||s.status===304||s.status===0)try{i(s.response)}catch(o){r(o)}else r(s.statusText)},!1),s.addEventListener("error",function(o){return r("network error")},!1),n.isBinary()?s.responseType="arraybuffer":n.json?s.responseType="json":n.xml?s.responseType="document":s.responseType="text",s.send()})},t}(ca),eI=function(e,t){t===void 0&&(t={}),this.parameters=As(t,{ext:"",compressed:!1,binary:Jt.isBinary(t.ext||""),name:"",dir:"",path:"",protocol:""});var n={compressed:this.parameters.compressed,binary:this.parameters.binary,json:Jt.isJson(this.parameters.ext),xml:Jt.isXml(this.parameters.ext)};typeof File<"u"&&e instanceof File||typeof Blob<"u"&&e instanceof Blob?this.streamer=new g0e(e,n):this.streamer=new b0e(e,n)},v0e=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,n,i),this.parserParams={voxelSize:i.voxelSize,firstModelOnly:i.firstModelOnly,asTrajectory:i.asTrajectory,cAlphaOnly:i.cAlphaOnly,delimiter:i.delimiter,comment:i.comment,columnNames:i.columnNames,name:this.parameters.name,path:this.parameters.path}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){return new(Jt.get(this.parameters.ext))(this.streamer,this.parserParams).parse()},t}(eI),tI=function(e,t,n){this.name=t,this.path=n,this.signals={elementAdded:new An.exports.Signal,elementRemoved:new An.exports.Signal,nameChanged:new An.exports.Signal},this.type="Script",this.dir=n.substring(0,n.lastIndexOf("/")+1);try{this.fn=new Function("stage","__name","__path","__dir",e)}catch(i){De.error("Script compilation failed",i),this.fn=function(){}}};tI.prototype.run=function(e){var t=this;return new Promise(function(n,i){try{t.fn.apply(null,[e,t.name,t.path,t.dir]),n()}catch(r){De.error("Script.fn",r),i(r)}})};var w0e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var n=this;return this.streamer.read().then(function(){return new tI(n.streamer.asText(),n.parameters.name,n.parameters.path)})},t}(eI);function br(e){var t,n,i=M7.names,r="",a=(t=e instanceof File?e.name:e instanceof Blob?"":e).lastIndexOf("?"),s=a!==-1?t.substring(a):"",o=(t=t.substring(0,a===-1?t.length:a)).replace(/^.*[\\/]/,""),c=o.substring(0,o.lastIndexOf(".")),A=o.split("."),l=A.length>1?(A.pop()||"").toLowerCase():"",u=t.match(/^(.+):\/\/(.+)$/);u&&(r=u[1].toLowerCase(),t=u[2]||"");var d=t.substring(0,t.lastIndexOf("/")+1);if(i.includes(l)){n=l;var p=t.length-l.length-1;l=(t.substr(0,p).split(".").pop()||"").toLowerCase();var h=c.length-l.length-1;c=c.substr(0,h)}else n=!1;return{path:t,name:o,ext:l,base:c,dir:d,compressed:n,protocol:r,query:s,src:e}}function E0e(e){var t=br(e),n=yl.get(t.protocol);return n&&!(t=br(n.getUrl(t.src))).ext&&n.getExt&&(t.ext=n.getExt(e)),t}function V_(e,t){t===void 0&&(t={});var n,i=Object.assign(E0e(e),t);return Jt.names.includes(i.ext)?n=new v0e(i.src,i):y0e.includes(i.ext)&&(n=new w0e(i.src,i)),n?n.load():Promise.reject(new Error("autoLoad: ext '"+i.ext+"' unknown"))}var kh=function(){};kh.prototype.getBlob=function(){return new Blob([this.getData()],{type:this.mimeType})},kh.prototype.download=function(e,t){e=z(e,this.defaultName),t=z(t,this.defaultExt),WF(this.getBlob(),e+"."+t)};(function(e){function t(n,i){e.call(this),this.mimeType="text/plain",this.defaultName="structure",this.defaultExt="pdb";var r=Object.assign({},i);this.renumberSerial=z(r.renumberSerial,!0),this.remarks=function(a){return Array.isArray(a)?a:[a]}(z(r.remarks,[])),this.structure=n,this._records=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._writeRecords=function(){this._records.length=0,this._writeTitle(),this._writeRemarks(),this._writeAtoms()},t.prototype._writeTitle=function(){this._records.push(ua.sprintf("TITLE %-74s",this.structure.name))},t.prototype._writeRemarks=function(){var n=this;this.remarks.forEach(function(i){n._records.push(ua.sprintf("REMARK %-73s",i))}),this.structure.trajectory&&(this._records.push(ua.sprintf("REMARK %-73s","Trajectory '"+this.structure.trajectory.name+"'")),this._records.push(ua.sprintf("REMARK %-73s","Frame "+this.structure.trajectory.frame)))},t.prototype._writeAtoms=function(){var n=this,i=1,r=1,a=" ",s=" ",o=this.structure.modelStore.count>1;this.structure.eachModel(function(c){o&&n._records.push(ua.sprintf("MODEL     %4d%-66s",r++,"")),c.eachAtom(function(A){var l=A.hetero?"HETATM%5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s%1s%1s":"ATOM  %5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s%1s%1s",u=n.renumberSerial?i:A.serial,d=A.atomname;(d.length===1||d.length<4&&A.element.length===1&&d[0]===A.element)&&(d=" "+d),A.formalCharge?(a=Math.abs(A.formalCharge).toPrecision(1),s=A.formalCharge>0?"+":"-"):(a=" ",s=" "),n._records.push(ua.sprintf(l,u,d,A.resname,z(A.chainname," "),A.resno,A.x,A.y,A.z,z(A.occupancy,1),z(A.bfactor,0),"",z(A.element,""),a,s)),i+=1},n.structure.getSelection()),o&&n._records.push(ua.sprintf("%-80s","ENDMDL"))}),this._records.push(ua.sprintf("%-80s","END"))},t.prototype.getString=function(){return console.warn("PdbWriter.getString() is deprecated, use .getData instead"),this.getData()},t.prototype.getData=function(){return this._writeRecords(),this._records.join(`
`)},t})(kh);(function(e){function t(i){e.call(this),this.mimeType="text/plain",this.defaultName="structure",this.defaultExt="sdf",this.structure=i,this._records=[]}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={idString:{configurable:!0},titleString:{configurable:!0},countsString:{configurable:!0},chargeLines:{configurable:!0}};return n.idString.get=function(){return this.structure.id},n.titleString.get=function(){return"  "+this.structure.title},n.countsString.get=function(){return ua.sprintf("%3i%3i  0  0  0  0  0  0  0  0999 V2000",this.structure.atomCount,this.structure.bondCount)},n.chargeLines.get=function(){var i=[];this.structure.eachAtom(function(A){A.formalCharge!=null&&A.formalCharge!==0&&i.push([A.index,A.formalCharge])});for(var r=[],a=0;a<i.length;a+=8){for(var s=Math.min(8,i.length-a),o=ua.sprintf("M  CHG%3i",s),c=a;c<a+s;c++)o+=ua.sprintf(" %3i %3i",i[c][0]+1,i[c][1]);r.push(o)}return r},t.prototype.formatAtom=function(i){var r=0;i.formalCharge!=null&&i.formalCharge!==0&&(r=4-i.formalCharge);var a=ua.sprintf("%10.4f%10.4f%10.4f %-3s 0%3i  0  0  0",i.x,i.y,i.z,i.element,r);if(a.length!==48)throw new Error("Incompatible atom for sdf format");return a},t.prototype.formatBond=function(i){return ua.sprintf("%3i%3i%3i  0  0  0",i.atomIndex1+1,i.atomIndex2+1,i.bondOrder)},t.prototype._writeRecords=function(){this._records.length=0,this._writeHeader(),this._writeCTab(),this._writeFooter()},t.prototype._writeHeader=function(){this._records.push(this.idString,this.titleString,"")},t.prototype._writeCTab=function(){var i=this;this._records.push(this.countsString),this.structure.eachAtom(function(r){i._records.push(i.formatAtom(r))}),this.structure.eachBond(function(r){i._records.push(i.formatBond(r))}),this.chargeLines.forEach(function(r){i._records.push(r)}),this._records.push("M  END")},t.prototype._writeFooter=function(){this._records.push("$$$$")},t.prototype.getData=function(){return this._writeRecords(),this._records.join(`
`)},Object.defineProperties(t.prototype,n),t})(kh);var Lw=[],En=function(e,t){t===void 0&&(t={}),this._mark=0,this._marks=[],this.offset=0,this.littleEndian=!0;var n=!1;e===void 0&&(e=8192),typeof e=="number"?e=new ArrayBuffer(e):n=!0;var i=t.offset?t.offset>>>0:0,r=e.byteLength-i,a=i;e instanceof ArrayBuffer||(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),this._lastWrittenByte=n?r:0,this.buffer=e,this.length=r,this.byteLength=r,this.byteOffset=a,this._data=new DataView(this.buffer,a,r)};En.prototype.available=function(e){return e===void 0&&(e=1),this.offset+e<=this.length},En.prototype.isLittleEndian=function(){return this.littleEndian},En.prototype.setLittleEndian=function(){return this.littleEndian=!0,this},En.prototype.isBigEndian=function(){return!this.littleEndian},En.prototype.setBigEndian=function(){return this.littleEndian=!1,this},En.prototype.skip=function(e){return e===void 0&&(e=1),this.offset+=e,this},En.prototype.seek=function(e){return this.offset=e,this},En.prototype.mark=function(){return this._mark=this.offset,this},En.prototype.reset=function(){return this.offset=this._mark,this},En.prototype.pushMark=function(){return this._marks.push(this.offset),this},En.prototype.popMark=function(){var e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this},En.prototype.rewind=function(){return this.offset=0,this},En.prototype.ensureAvailable=function(e){if(e===void 0&&(e=1),!this.available(e)){var t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=t,this._data=new DataView(this.buffer)}return this},En.prototype.readBoolean=function(){return this.readUint8()!==0},En.prototype.readInt8=function(){return this._data.getInt8(this.offset++)},En.prototype.readUint8=function(){return this._data.getUint8(this.offset++)},En.prototype.readByte=function(){return this.readUint8()},En.prototype.readBytes=function(e){e===void 0&&(e=1);for(var t=new Uint8Array(e),n=0;n<e;n++)t[n]=this.readByte();return t},En.prototype.readInt16=function(){var e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},En.prototype.readUint16=function(){var e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},En.prototype.readInt32=function(){var e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},En.prototype.readUint32=function(){var e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},En.prototype.readFloat32=function(){var e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},En.prototype.readFloat64=function(){var e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},En.prototype.readChar=function(){return String.fromCharCode(this.readInt8())},En.prototype.readChars=function(e){e===void 0&&(e=1),Lw.length=e;for(var t=0;t<e;t++)Lw[t]=this.readChar();return Lw.join("")},En.prototype.writeBoolean=function(e){return e===void 0&&(e=!1),this.writeUint8(e?255:0),this},En.prototype.writeInt8=function(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this},En.prototype.writeUint8=function(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this},En.prototype.writeByte=function(e){return this.writeUint8(e)},En.prototype.writeBytes=function(e){this.ensureAvailable(e.length);for(var t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this},En.prototype.writeInt16=function(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this},En.prototype.writeUint16=function(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this},En.prototype.writeInt32=function(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},En.prototype.writeUint32=function(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},En.prototype.writeFloat32=function(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},En.prototype.writeFloat64=function(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this},En.prototype.writeChar=function(e){return this.writeUint8(e.charCodeAt(0))},En.prototype.writeChars=function(e){for(var t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this},En.prototype.toArray=function(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)},En.prototype._updateLastWrittenByte=function(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)};(function(e){function t(n){e.call(this),this.mimeType="application/vnd.ms-pki.stl",this.defaultName="surface",this.defaultExt="stl",this.surface=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getData=function(){var n=this.surface.index.length/3,i=new En(2*n+3*n*4*4+80+4);i.skip(80),i.writeUint32(n);for(var r=new P,a=new P,s=new P,o=new P,c=0;c<n;c++){var A=[this.surface.index[3*c],this.surface.index[3*c+1],this.surface.index[3*c+2]];a.fromArray(this.surface.normal,3*A[0]),s.fromArray(this.surface.normal,3*A[1]),o.fromArray(this.surface.normal,3*A[2]),r.addVectors(a,s).add(o).normalize(),i.writeFloat32(r.x),i.writeFloat32(r.y),i.writeFloat32(r.z);for(var l=0;l<3;l++)r.fromArray(this.surface.position,3*A[l]),i.writeFloat32(r.x),i.writeFloat32(r.y),i.writeFloat32(r.z);i.writeUint16(0)}return new DataView(i.buffer)},t})(kh);var Qo=function(){this.count=0,this.signals={countChanged:new An.exports.Signal}};Qo.prototype.clear=function(){this.change(-this.count)},Qo.prototype.change=function(e){this.count+=e,this.signals.countChanged.dispatch(e,this.count),this.count<0&&De.warn("Counter.count below zero",this.count)},Qo.prototype.increment=function(){this.change(1)},Qo.prototype.decrement=function(){this.change(-1)},Qo.prototype.listen=function(e){this.change(e.count),e.signals.countChanged.add(this.change,this)},Qo.prototype.unlisten=function(e){var t=e.signals.countChanged;t.has(this.change,this)&&t.remove(this.change,this)},Qo.prototype.onZeroOnce=function(e,t){var n=this;if(this.count===0)e.call(t);else{var i=function(){n.count===0&&(n.signals.countChanged.remove(i,n),e.call(t))};this.signals.countChanged.add(i,this)}},Qo.prototype.dispose=function(){this.clear(),this.signals.countChanged.dispose()},Vn.add("shader/BasicLine.vert",`void main(){
#include begin_vertex
#include project_vertex
}`),Vn.add("shader/BasicLine.frag",`uniform vec3 uColor;
#include common
#include fog_pars_fragment
void main(){
gl_FragColor = vec4( uColor, 1.0 );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
}`),Vn.add("shader/Quad.vert",`varying vec2 vUv;
void main() {
vUv = uv;
gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`),Vn.add("shader/Quad.frag",`varying vec2 vUv;
uniform sampler2D tForeground;
uniform float scale;
void main() {
vec4 foreground = texture2D( tForeground, vUv );
gl_FragColor = foreground * scale;
}`);var lg=function(){this.signals={updated:new An.exports.Signal},this.maxDuration=-1/0,this.minDuration=1/0,this.avgDuration=14,this.lastDuration=1/0,this.prevFpsTime=0,this.lastFps=1/0,this.lastFrames=1,this.frames=0,this.count=0,this.begin()};lg.prototype.update=function(){this.startTime=this.end(),this.currentTime=this.startTime,this.signals.updated.dispatch()},lg.prototype.begin=function(){this.startTime=window.performance.now(),this.lastFrames=this.frames},lg.prototype.end=function(){var e=window.performance.now();return this.count+=1,this.frames+=1,this.lastDuration=e-this.startTime,this.minDuration=Math.min(this.minDuration,this.lastDuration),this.maxDuration=Math.max(this.maxDuration,this.lastDuration),this.avgDuration-=this.avgDuration/30,this.avgDuration+=this.lastDuration/30,e>this.prevFpsTime+1e3&&(this.lastFps=this.frames,this.prevFpsTime=e,this.frames=0),e},Vn.add("shader/chunk/fog_fragment.glsl",`#ifdef USE_FOG
float depth = length( vViewPosition );
#ifdef FOG_EXP2
float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );
#else
float fogFactor = smoothstep( fogNear, fogFar, depth );
#endif
gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`),Vn.add("shader/chunk/interior_fragment.glsl",`if( gl_FrontFacing == false ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}`),Vn.add("shader/chunk/matrix_scale.glsl",`float matrixScale( in mat4 m ){
vec4 r = m[ 0 ];
return sqrt( r[ 0 ] * r[ 0 ] + r[ 1 ] * r[ 1 ] + r[ 2 ] * r[ 2 ] );
}`),Vn.add("shader/chunk/nearclip_vertex.glsl",`#ifdef NEAR_CLIP
if( vViewPosition.z < clipNear - 5.0 )
gl_Position.z = 2.0 * gl_Position.w;
#endif`),Vn.add("shader/chunk/nearclip_fragment.glsl",`#ifdef NEAR_CLIP
if( vViewPosition.z < clipNear )
discard;
#endif`),Vn.add("shader/chunk/opaque_back_fragment.glsl",`#ifdef OPAQUE_BACK
#ifdef FLIP_SIDED
if( gl_FrontFacing == true ){
gl_FragColor.a = 1.0;
}
#else
if( gl_FrontFacing == false ){
gl_FragColor.a = 1.0;
}
#endif
#endif`),Vn.add("shader/chunk/radiusclip_vertex.glsl",`#ifdef RADIUS_CLIP
if( distance( vViewPosition, vClipCenter ) > clipRadius + 5.0 )
gl_Position.z = 2.0 * gl_Position.w;
#endif`),Vn.add("shader/chunk/radiusclip_fragment.glsl",`#ifdef RADIUS_CLIP
if( distance( vViewPosition, vClipCenter ) > clipRadius )
discard;
#endif`),Vn.add("shader/chunk/unpack_color.glsl",`vec3 unpackColor(float f) {
vec3 color;
color.r = floor(f / 256.0 / 256.0);
color.g = floor((f - color.r * 256.0 * 256.0) / 256.0);
color.b = floor(f - color.r * 256.0 * 256.0 - color.g * 256.0);
return color / 255.0;
}`);var _0e=/^(?!\/\/)\s*#include\s+(\S+)/gim,Pw={};function mf(e,t){t===void 0&&(t={});var n=e+"|";for(var i in t)n+=i+":"+t[i];if(!Pw[n]){var r=function(s){if(s===void 0)return"";var o=[];for(var c in s){var A=s[c];A&&o.push("#define "+c+" "+A)}return o.join(`
`)+`
`}(t),a=Vn.get("shader/"+e);if(!a)throw new Error("empty shader, '"+e+"'");a=a.replace(_0e,function(s,o){var c="shader/chunk/"+o+".glsl",A=Vn.get(c)||Tn[o];if(!A)throw new Error("empty chunk, '"+o+"'");return A}),Pw[n]=r+a}return Pw[n]}if(typeof WebGLRenderingContext<"u"){var Lc=WebGLRenderingContext.prototype,x0e=Lc.getShaderParameter;Lc.getShaderParameter=function(){return!je||x0e.apply(this,arguments)};var B0e=Lc.getShaderInfoLog;Lc.getShaderInfoLog=function(){return je?B0e.apply(this,arguments):""};var R0e=Lc.getProgramParameter;Lc.getProgramParameter=function(e,t){return!je&&t===Lc.LINK_STATUS||R0e.apply(this,arguments)};var C0e=Lc.getProgramInfoLog;Lc.getProgramInfoLog=function(){return je?C0e.apply(this,arguments):""}}var nI=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]];nI.forEach(function(e){e.forEach(function(t){t[0]*=.0625,t[1]*=.0625})});var yf=function(e,t,n,i){this.canvas=document.createElement("canvas"),this._viewer=n,this._factor=z(i.factor,2),this._antialias=z(i.antialias,!1),this._onProgress=i.onProgress,this._onFinish=i.onFinish,this._antialias&&(this._factor*=2),this._n=this._factor*this._factor,this._width=this._viewer.width,this._height=this._viewer.height,this._antialias?(this.canvas.width=this._width*this._factor/2,this.canvas.height=this._height*this._factor/2):(this.canvas.width=this._width*this._factor,this.canvas.height=this._height*this._factor),this._ctx=this.canvas.getContext("2d"),this._viewerSampleLevel=n.sampleLevel,this._viewer.setSampling(-1)};yf.prototype._renderTile=function(e){var t=this._viewer,n=this._width,i=this._height,r=this._factor,a=e%r*n,s=Math.floor(e/r)*i;if(t.camera.setViewOffset(n*r,i*r,a,s,n,i),t.render(),this._antialias){var o=Math.round((a+n)/2)-Math.round(a/2),c=Math.round((s+i)/2)-Math.round(s/2);this._ctx.drawImage(t.renderer.domElement,Math.round(a/2),Math.round(s/2),o,c)}else this._ctx.drawImage(t.renderer.domElement,Math.floor(a),Math.floor(s),Math.ceil(n),Math.ceil(i));typeof this._onProgress=="function"&&this._onProgress(e+1,this._n,!1)},yf.prototype._finalize=function(){this._viewer.setSampling(this._viewerSampleLevel),this._viewer.camera.view=null,typeof this._onFinish=="function"&&this._onFinish(this._n+1,this._n,!1)},yf.prototype.render=function(){for(var e=0;e<=this._n;++e)e===this._n?this._finalize():this._renderTile(e)},yf.prototype.renderAsync=function(){for(var e=this,t=0,n=this._n,i=function(){t===n?e._finalize():e._renderTile(t),t+=1},r=0;r<=n;++r)setTimeout(i,0)};var Uw=2*Math.PI,iI=180/Math.PI;function Dw(e,t,n,i,r){n===void 0&&(n=1),i===void 0&&(i=0);var a=r?r.length:e.length/n,s=0,o=0;if(r)for(var c=0;c<a;++c){var A=(e[r[c]*n+i]+t)%t/t*Uw-Math.PI;s+=Math.cos(A),o+=Math.sin(A)}else for(var l=i;l<a;l+=n){var u=(e[l]+t)%t/t*Uw-Math.PI;s+=Math.cos(u),o+=Math.sin(u)}return s/=a,o/=a,(Math.atan2(o,s)+Math.PI)/Uw*t}function tc(e,t,n,i){i===void 0&&(i=0);for(var r=e.length,a=n||new Float32Array(r),s=0;s<r;s+=3)a[i+s+0]=(e[s+0]+t[s+0])/2,a[i+s+1]=(e[s+1]+t[s+1])/2,a[i+s+2]=(e[s+2]+t[s+2])/2;return a}function F2(e,t){for(var n=e.length,i=new Float32Array(n),r=0;r<n;r+=3)i[r+0]=t[r+0]-e[r+0],i[r+1]=t[r+1]-e[r+1],i[r+2]=t[r+2]-e[r+2];return i}function os(e,t,n){for(var i=n||new Float32Array(e),r=0;r<e;++r)i[r]=t;return i}function li(e,t,n,i,r){for(var a=r||new Float32Array(3*e),s=0;s<e;++s){var o=3*s;a[o+0]=t,a[o+1]=n,a[o+2]=i}return a}function np(e){for(var t=new Float32Array(e),n=0;n<e;++n)t[n]=n;return t}function K_(e,t,n,i){n===void 0&&(n=0);for(var r=i||new Float32Array(e*t),a=0;a<e;++a)for(var s=n+a*t,o=0;o<t;++o)r[s+o]=a;return r}function kw(e,t){for(var n=e.length,i=new Float32Array(n*t),r=0;r<n;++r)for(var a=r*t,s=e[r],o=0;o<t;++o)i[a+o]=s;return i}function lr(e,t,n,i,r){for(var a=0;a<r;++a)t[i+a]=e[n+a]}function GC(e,t,n,i){lr(e,e,t,n,i)}function ug(e){for(var t=-1/0,n=0,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}function dg(e){for(var t=1/0,n=0,i=e.length;n<i;++n)e[n]<t&&(t=e[n]);return t}function T7(e,t,n){t===void 0&&(t=1),n===void 0&&(n=0);for(var i=e.length,r=0,a=n;a<i;a+=t)r+=e[a];return r}function pg(e,t,n){return t===void 0&&(t=1),n===void 0&&(n=0),T7(e,t,n)/(e.length/t)}var N0e={trim:!1,factor:1,antialias:!1,transparent:!1,onProgress:void 0};function S0e(e,t){t===void 0&&(t={});var n=As(t,N0e),i=n.trim,r=n.factor,a=n.antialias,s=n.transparent,o=e.renderer,c=e.camera,A=o.getClearAlpha(),l=o.getClearColor();function u(h){h===void 0&&(h=!1);var g=r;a&&(g*=2),h&&(g=1/g),e.scene.traverse(function(b){var y=b.material;y&&y.linewidth&&(y.linewidth*=g),y&&y.uniforms&&y.uniforms.size&&y.uniforms.size.__seen===void 0&&(y.uniforms.size.value*=g,y.uniforms.size.__seen=!0),y&&y.uniforms&&y.uniforms.linewidth&&y.uniforms.linewidth.__seen===void 0&&(y.uniforms.linewidth.value*=g,y.uniforms.linewidth.__seen=!0)}),e.scene.traverse(function(b){var y=b.material;y&&y.uniforms&&y.uniforms.size&&delete y.uniforms.size.__seen,y&&y.uniforms&&y.uniforms.linewidth&&delete y.uniforms.linewidth.__seen})}function d(h){if(i){var g=l;return function(b,y,v,_,w){var E,B,R,G,C=b.height,O=b.width,I=b.getContext("2d").getImageData(0,0,O,C).data;for(R=!1,B=0;B<C;B++){for(E=0;E<O;E++)if(I[G=4*(B*O+E)]!==y||I[G+1]!==v||I[G+2]!==_||I[G+3]!==w){R=!0;break}if(R)break}var D=B;for(R=!1,E=0;E<O;E++){for(B=0;B<C;B++)if(I[G=4*(B*O+E)]!==y||I[G+1]!==v||I[G+2]!==_||I[G+3]!==w){R=!0;break}if(R)break}var k=E;for(R=!1,B=C-1;B>=0;B--){for(E=O-1;E>=0;E--)if(I[G=4*(B*O+E)]!==y||I[G+1]!==v||I[G+2]!==_||I[G+3]!==w){R=!0;break}if(R)break}var L=B;for(R=!1,E=O-1;E>=0;E--){for(B=C-1;B>=0;B--)if(I[G=4*(B*O+E)]!==y||I[G+1]!==v||I[G+2]!==_||I[G+3]!==w){R=!0;break}if(R)break}var T=E,H=document.createElement("canvas");return H.width=T-k,H.height=L-D,H.getContext("2d").drawImage(b,k,D,H.width,H.height,0,0,H.width,H.height),H}(h,s?0:255*g.r,s?0:255*g.g,s?0:255*g.b,s?0:255)}return h}function p(h,g,b){typeof t.onProgress=="function"&&t.onProgress(h,g,b)}return new Promise(function(h,g){var b=new yf(o,c,e,{factor:r,antialias:a,onProgress:p,onFinish:function(y,v){d(b.canvas).toBlob(function(_){o.setClearAlpha(A),u(!0),e.requestRender(),p(v,v,!0),_?h(_):g("error creating image")},"image/png")}});o.setClearAlpha(s?0:1),u(),b.renderAsync()})}var Ow=new P,MC=new st,TC=new st,FC=new et,Q3=new st,z3=new st;function Hw(e,t){Q3.getInverse(t.projectionMatrix),z3.copy(t.projectionMatrix).transpose(),e.traverse(function(n){var i=n.material;if(i){var r=i.uniforms;r&&(r.projectionMatrixInverse&&r.projectionMatrixInverse.value.copy(Q3),r.projectionMatrixTranspose&&r.projectionMatrixTranspose.value.copy(z3))}})}function IC(e,t,n){var i=e.createShader(n);if(i)return e.shaderSource(i,t),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(console.log("error compiling shader "+i+": "+e.getShaderInfoLog(i)),e.deleteShader(i),null);console.log("error creating WebGL shader "+n)}function Qw(e,t){var n=e.getExtension(t);return n||console.log("extension '"+t+"' not available"),n}var G0e=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);function Ry(e){var t=document.createElement("canvas");t.width=16,t.height=16,t.style.width="16px",t.style.height="16px";var n=t.getContext("webgl")||t.getContext("experimental-webgl");if(!n)return console.log("error creating webgl context for "+e),!1;if(!(n instanceof WebGLRenderingContext))return console.log("Got unexpected type for WebGL rendering context"),!1;Qw(n,"OES_texture_float"),Qw(n,"OES_texture_half_float"),Qw(n,"WEBGL_color_buffer_float");var i=IC(n,`
attribute vec4 a_position;

void main() {
  gl_Position = a_position;
}`,n.VERTEX_SHADER),r=IC(n,`
precision mediump float;
uniform vec4 u_color;
uniform sampler2D u_texture;

void main() {
  gl_FragColor = texture2D(u_texture, vec2(0.5, 0.5)) * u_color;
}`,n.FRAGMENT_SHADER);if(!i||!r)return!1;var a=function(b,y,v,_){var w=b.createProgram();if(w)return y.forEach(function(E){return b.attachShader(w,E)}),v&&v.forEach(function(E,B){b.bindAttribLocation(w,_?_[B]:B,E)}),b.linkProgram(w),b.getProgramParameter(w,b.LINK_STATUS)?w:(console.log("error linking program: "+b.getProgramInfoLog(w)),b.deleteProgram(w),null);console.log("error creating WebGL program")}(n,[i,r]);if(!a)return console.log("error creating WebGL program"),!1;n.useProgram(a);var s=n.getAttribLocation(a,"a_position"),o=n.getUniformLocation(a,"u_color");if(!o)return console.log("error getting 'u_color' uniform location"),!1;var c=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,c),n.bufferData(n.ARRAY_BUFFER,G0e,n.STATIC_DRAW),n.enableVertexAttribArray(s),n.vertexAttribPointer(s,2,n.FLOAT,!1,0,0);var A=n.createTexture(),l=new Uint8Array([255,255,255,255]);n.bindTexture(n.TEXTURE_2D,A),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,l);var u=n.createTexture();n.bindTexture(n.TEXTURE_2D,u),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,e,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);var d=n.createFramebuffer();if(n.bindFramebuffer(n.FRAMEBUFFER,d),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,u,0),n.checkFramebufferStatus(n.FRAMEBUFFER)!==n.FRAMEBUFFER_COMPLETE)return console.log("error creating framebuffer for "+e),!1;n.bindTexture(n.TEXTURE_2D,A),n.uniform4fv(o,[0,10,20,1]),n.drawArrays(n.TRIANGLES,0,6),n.bindTexture(n.TEXTURE_2D,u),n.bindFramebuffer(n.FRAMEBUFFER,null),n.clearColor(1,0,0,1),n.clear(n.COLOR_BUFFER_BIT),n.uniform4fv(o,[0,.1,.05,1]),n.drawArrays(n.TRIANGLES,0,6);var p=new Uint8Array(4);if(n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,p),p[0]!==0||p[1]<248||p[2]<248||p[3]<254)return console.log("not able to actually render to "+e+" texture"),!1;if(e===n.FLOAT){n.bindFramebuffer(n.FRAMEBUFFER,d);var h=new Float32Array(4);n.readPixels(0,0,1,1,n.RGBA,n.FLOAT,h);var g=n.getError();if(g)return console.log("error reading pixels as float: '"+function(b,y){switch(y){case b.NO_ERROR:return"no error";case b.INVALID_ENUM:return"invalid enum";case b.INVALID_VALUE:return"invalid value";case b.INVALID_OPERATION:return"invalid operation";case b.INVALID_FRAMEBUFFER_OPERATION:return"invalid framebuffer operation";case b.OUT_OF_MEMORY:return"out of memory";case b.CONTEXT_LOST_WEBGL:return"context lost"}return"unknown error"}(n,g)+"'"),!1}return!0}var M0e=new Float32Array(100),T0e=new Uint8Array(100),LC=[12,7,13,17,11,6,8,18,16,2,14,22,10,1,3,9,19,23,21,15,5,0,4,24,20],Cy=new st;function F0e(e,t,n,i,r){var a=r.uniforms,s=[];if(a&&(a.objectId&&(a.objectId.value=q0?this.id:this.id/255,s.push("objectId")),(a.modelViewMatrixInverse||a.modelViewMatrixInverseTranspose||a.modelViewProjectionMatrix||a.modelViewProjectionMatrixInverse)&&this.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,this.matrixWorld),a.modelViewMatrixInverse&&(a.modelViewMatrixInverse.value.getInverse(this.modelViewMatrix),s.push("modelViewMatrixInverse")),a.modelViewMatrixInverseTranspose&&(a.modelViewMatrixInverse?a.modelViewMatrixInverseTranspose.value.copy(a.modelViewMatrixInverse.value).transpose():a.modelViewMatrixInverseTranspose.value.getInverse(this.modelViewMatrix).transpose(),s.push("modelViewMatrixInverseTranspose")),a.modelViewProjectionMatrix&&(a.modelViewProjectionMatrix.value.multiplyMatrices(n.projectionMatrix,this.modelViewMatrix),s.push("modelViewProjectionMatrix")),a.modelViewProjectionMatrixInverse&&(a.modelViewProjectionMatrix?(Cy.copy(a.modelViewProjectionMatrix.value),a.modelViewProjectionMatrixInverse.value.getInverse(Cy)):(Cy.multiplyMatrices(n.projectionMatrix,this.modelViewMatrix),a.modelViewProjectionMatrixInverse.value.getInverse(Cy)),s.push("modelViewProjectionMatrixInverse")),s.length)){var o=e.properties.get(r);if(o.program){var c=e.getContext(),A=o.program;c.useProgram(A.program);var l=A.getUniforms();s.forEach(function(u){l.setValue(c,u,a[u].value)})}}}var mn=function(e){if(this.boundingBox=new gi,this.boundingBoxSize=new P,this.boundingBoxLength=0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this.distVector=new P,this.signals={ticked:new An.exports.Signal,rendered:new An.exports.Signal},typeof e=="string"){var t=document.getElementById(e);this.container=t===null?document.createElement("div"):t}else e instanceof HTMLElement?this.container=e:this.container=document.createElement("div");if(this.container===document.body)this.width=window.innerWidth||1,this.height=window.innerHeight||1;else{var n=this.container.getBoundingClientRect();this.width=n.width||1,this.height=n.height||1,this.container.style.overflow="hidden"}this.wrapper=document.createElement("div"),this.wrapper.style.position="relative",this.container.appendChild(this.wrapper),this._initParams(),this._initStats(),this._initCamera(),this._initScene(),this._initRenderer()!==!1?(this._initHelper(),this.setBackground(),this.setFog(),this.animate=this.animate.bind(this)):De.error("Viewer: could not initialize renderer")},zw={cameraDistance:{configurable:!0}};mn.prototype._initParams=function(){this.parameters={fogColor:new pt(0),fogNear:50,fogFar:100,backgroundColor:new pt(0),cameraType:"perspective",cameraFov:40,cameraEyeSep:.3,cameraZ:-80,clipNear:0,clipFar:100,clipDist:10,clipMode:"scene",clipScale:"relative",lightColor:new pt(14540253),lightIntensity:1,ambientColor:new pt(14540253),ambientIntensity:.2,sampleLevel:0,rendererEncoding:ea}},mn.prototype._initCamera=function(){var e=new P(0,0,0),t=this.width,n=this.height;this.perspectiveCamera=new Ar(this.parameters.cameraFov,t/n),this.perspectiveCamera.position.z=this.parameters.cameraZ,this.perspectiveCamera.lookAt(e),this.orthographicCamera=new vA(t/-2,t/2,n/2,n/-2),this.orthographicCamera.position.z=this.parameters.cameraZ,this.orthographicCamera.lookAt(e),this.stereoCamera=new MF,this.stereoCamera.aspect=.5,this.stereoCamera.eyeSep=this.parameters.cameraEyeSep;var i=this.parameters.cameraType;if(i==="orthographic")this.camera=this.orthographicCamera;else{if(i!=="perspective"&&i!=="stereo")throw new Error("Unknown cameraType '"+i+"'");this.camera=this.perspectiveCamera}this.camera.updateProjectionMatrix()},mn.prototype._initStats=function(){this.stats=new lg},mn.prototype._initScene=function(){this.scene||(this.scene=new Bd,this.scene.name="scene"),this.rotationGroup=new ui,this.rotationGroup.name="rotationGroup",this.scene.add(this.rotationGroup),this.translationGroup=new ui,this.translationGroup.name="translationGroup",this.rotationGroup.add(this.translationGroup),this.modelGroup=new ui,this.modelGroup.name="modelGroup",this.translationGroup.add(this.modelGroup),this.pickingGroup=new ui,this.pickingGroup.name="pickingGroup",this.translationGroup.add(this.pickingGroup),this.backgroundGroup=new ui,this.backgroundGroup.name="backgroundGroup",this.translationGroup.add(this.backgroundGroup),this.helperGroup=new ui,this.helperGroup.name="helperGroup",this.translationGroup.add(this.helperGroup),this.scene.fog=new d3(this.parameters.fogColor.getHex()),this.spotLight=new I3(this.parameters.lightColor.getHex(),this.parameters.lightIntensity),this.scene.add(this.spotLight),this.ambientLight=new L3(this.parameters.ambientColor.getHex(),this.parameters.ambientIntensity),this.scene.add(this.ambientLight)},mn.prototype._initRenderer=function(){var e=window.devicePixelRatio,t=this.width,n=this.height;try{this.renderer=new lm({preserveDrawingBuffer:!0,alpha:!0,antialias:!0})}catch{return this.wrapper.innerHTML='<div style="display:flex;align-items:center;justify-content:center;height:100%;"><p style="padding:15px;text-align:center;">Your browser/graphics card does not seem to support <a target="_blank" href="https://en.wikipedia.org/wiki/WebGL">WebGL</a>.<br/><br/>Find out how to get it <a target="_blank" href="http://get.webgl.org/">here</a>.</p></div>',!1}this.renderer.setPixelRatio(e),this.renderer.setSize(t,n),this.renderer.autoClear=!1,this.renderer.sortObjects=!0,this.renderer.outputEncoding=this.parameters.rendererEncoding;var i=this.renderer.getContext();this.renderer.capabilities.isWebGL2?(SC(!0),NC(this.renderer.extensions.get("EXT_color_buffer_float")),this.supportsHalfFloat=!0):(SC(this.renderer.extensions.get("EXT_frag_depth")),this.renderer.extensions.get("OES_element_index_uint"),NC(this.renderer.extensions.get("OES_texture_float")&&this.renderer.extensions.get("WEBGL_color_buffer_float")||this.renderer.extensions.get("OES_texture_float")&&Ry(i.FLOAT)),this.renderer.extensions.get("OES_texture_float"),this.supportsHalfFloat=this.renderer.extensions.get("OES_texture_half_float")&&Ry(36193)),this.wrapper.appendChild(this.renderer.domElement);var r=t*e,a=n*e;je&&console.log(JSON.stringify({Browser:XF,OES_texture_float:!!this.renderer.extensions.get("OES_texture_float"),OES_texture_half_float:!!this.renderer.extensions.get("OES_texture_half_float"),WEBGL_color_buffer_float:!!this.renderer.extensions.get("WEBGL_color_buffer_float"),"testTextureSupport Float":Ry(i.FLOAT),"testTextureSupport HalfFloat":Ry(36193),"this.supportsHalfFloat":this.supportsHalfFloat,SupportsReadPixelsFloat:q0},null,2)),this.pickingTarget=new fa(r,a,{minFilter:hi,magFilter:hi,stencilBuffer:!1,format:Pa,type:q0?Wc:_l}),this.pickingTarget.texture.generateMipmaps=!1,this.pickingTarget.texture.encoding=this.parameters.rendererEncoding,this.renderer.setRenderTarget(this.pickingTarget),this.renderer.clear(),this.renderer.setRenderTarget(null),this.sampleTarget=new fa(r,a,{minFilter:ur,magFilter:ur,format:Pa}),this.sampleTarget.texture.encoding=this.parameters.rendererEncoding,this.holdTarget=new fa(r,a,{minFilter:hi,magFilter:hi,format:Pa,type:_l}),this.holdTarget.texture.encoding=this.parameters.rendererEncoding,this.compositeUniforms={tForeground:new Fh(this.sampleTarget.texture),scale:new Fh(1)},this.compositeMaterial=new vr({uniforms:this.compositeUniforms,vertexShader:mf("Quad.vert"),fragmentShader:mf("Quad.frag"),premultipliedAlpha:!0,transparent:!0,blending:j4,depthTest:!1,depthWrite:!1}),this.compositeCamera=new vA(-1,1,1,-1,0,1),this.compositeScene=new Bd,this.compositeScene.name="compositeScene",this.compositeScene.add(new wi(new uh(2,2),this.compositeMaterial))},mn.prototype._initHelper=function(){var e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),t=new Float32Array(24),n=new Rt;n.setIndex(new Vt(e,1)),n.setAttribute("position",new Vt(t,3));var i=new vr({uniforms:{uColor:{value:new pt("skyblue")}},vertexShader:mf("BasicLine.vert"),fragmentShader:mf("BasicLine.frag")});this.boundingBoxMesh=new Vi(n,i),this.helperGroup.add(this.boundingBoxMesh)},mn.prototype.updateHelper=function(){var e=this.boundingBoxMesh.geometry.attributes.position,t=e.array,n=this.boundingBox,i=n.min,r=n.max;t[0]=r.x,t[1]=r.y,t[2]=r.z,t[3]=i.x,t[4]=r.y,t[5]=r.z,t[6]=i.x,t[7]=i.y,t[8]=r.z,t[9]=r.x,t[10]=i.y,t[11]=r.z,t[12]=r.x,t[13]=r.y,t[14]=i.z,t[15]=i.x,t[16]=r.y,t[17]=i.z,t[18]=i.x,t[19]=i.y,t[20]=i.z,t[21]=r.x,t[22]=i.y,t[23]=i.z,e.needsUpdate=!0,this.boundingBox.isEmpty()||this.boundingBoxMesh.geometry.computeBoundingSphere()},zw.cameraDistance.get=function(){return Math.abs(this.camera.position.z)},zw.cameraDistance.set=function(e){this.camera.position.z=-e},mn.prototype.add=function(e,t){var n=this;t?t.forEach(function(i){return n.addBuffer(e,i)}):this.addBuffer(e),e.group.name="meshGroup",e.wireframeGroup.name="wireframeGroup",e.parameters.background?(this.backgroundGroup.add(e.group),this.backgroundGroup.add(e.wireframeGroup)):(this.modelGroup.add(e.group),this.modelGroup.add(e.wireframeGroup)),e.pickable&&this.pickingGroup.add(e.pickingGroup),je&&this.updateHelper()},mn.prototype.addBuffer=function(e,t){function n(s){s instanceof ui?s.children.forEach(n):(s.userData.buffer=e,s.userData.instance=t,s.onBeforeRender=F0e)}var i=e.getMesh();t&&i.applyMatrix4(t.matrix),n(i),e.group.add(i);var r=e.getWireframeMesh();if(t&&(r.matrix.copy(i.matrix),r.position.copy(i.position),r.quaternion.copy(i.quaternion),r.scale.copy(i.scale)),n(r),e.wireframeGroup.add(r),e.pickable){var a=e.getPickingMesh();t&&(a.matrix.copy(i.matrix),a.position.copy(i.position),a.quaternion.copy(i.quaternion),a.scale.copy(i.scale)),n(a),e.pickingGroup.add(a)}t?this._updateBoundingBox(e.geometry,e.matrix,t.matrix):this._updateBoundingBox(e.geometry,e.matrix)},mn.prototype.remove=function(e){this.translationGroup.children.forEach(function(t){t.remove(e.group),t.remove(e.wireframeGroup)}),e.pickable&&this.pickingGroup.remove(e.pickingGroup),this.updateBoundingBox(),je&&this.updateHelper()},mn.prototype._updateBoundingBox=function(e,t,n){var i=this.boundingBox;function r(s,o,c){s.boundingBox==null&&s.computeBoundingBox();var A=s.boundingBox.clone();o&&A.applyMatrix4(o),c&&A.applyMatrix4(c),A.min.equals(A.max)&&A.expandByScalar(5),i.union(A)}function a(s){var o,c;s.geometry!==void 0&&(s.userData.buffer&&(o=s.userData.buffer.matrix),s.userData.instance&&(c=s.userData.instance.matrix),r(s.geometry,o,c))}e?r(e,t,n):(i.makeEmpty(),this.modelGroup.traverse(a),this.backgroundGroup.traverse(a)),i.getSize(this.boundingBoxSize),this.boundingBoxLength=this.boundingBoxSize.length()},mn.prototype.updateBoundingBox=function(){this._updateBoundingBox(),je&&this.updateHelper()},mn.prototype.getPickingPixels=function(){var e=this.width,t=this.height,n=e*t*4,i=q0?new Float32Array(n):new Uint8Array(n);return this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,0,0,e,t,i),i},mn.prototype.getImage=function(e){var t=this;return new Promise(function(n){if(e){var i=t,r=i.width,a=i.height,s=r*a*4,o=t.getPickingPixels();if(q0){for(var c=new Uint8Array(s),A=0;A<s;++A)c[A]=Math.round(255*o[A]);o=c}var l=document.createElement("canvas");l.width=r,l.height=a;var u=l.getContext("2d"),d=u.getImageData(0,0,r,a);d.data.set(o),u.putImageData(d,0,0),l.toBlob(n,"image/png")}else t.renderer.domElement.toBlob(n,"image/png")})},mn.prototype.makeImage=function(e){return e===void 0&&(e={}),S0e(this,e)},mn.prototype.setLight=function(e,t,n,i){var r=this.parameters;e!==void 0&&r.lightColor.set(e),t!==void 0&&(r.lightIntensity=t),n!==void 0&&r.ambientColor.set(n),i!==void 0&&(r.ambientIntensity=i),this.requestRender()},mn.prototype.setFog=function(e,t,n){var i=this.parameters;e!==void 0&&i.fogColor.set(e),t!==void 0&&(i.fogNear=t),n!==void 0&&(i.fogFar=n),this.requestRender()},mn.prototype.setBackground=function(e){var t=this.parameters;e&&t.backgroundColor.set(e),this.setFog(t.backgroundColor),this.renderer.setClearColor(t.backgroundColor,0),this.renderer.domElement.style.backgroundColor=t.backgroundColor.getStyle(),this.requestRender()},mn.prototype.setSampling=function(e){e!==void 0&&(this.parameters.sampleLevel=e,this.sampleLevel=e),this.requestRender()},mn.prototype.setOutputEncoding=function(e){this.parameters.rendererEncoding=e,this.renderer.outputEncoding=e,this.pickingTarget.texture.encoding=e,this.sampleTarget.texture.encoding=e,this.holdTarget.texture.encoding=e},mn.prototype.setColorWorkflow=function(e){if(e!="linear"&&e!="sRGB")throw new Error("setColorWorkflow: invalid color workflow "+e);jF=e=="linear"?"linear":"sRGB",this.setOutputEncoding(e=="linear"?om:ea),this.requestRender()},mn.prototype.setCamera=function(e,t,n){var i=this.parameters;if(e&&(i.cameraType=e),t&&(i.cameraFov=t),n&&(i.cameraEyeSep=n),i.cameraType==="orthographic")this.camera!==this.orthographicCamera&&(this.camera=this.orthographicCamera,this.camera.position.copy(this.perspectiveCamera.position),this.camera.up.copy(this.perspectiveCamera.up),this.updateZoom());else{if(i.cameraType!=="perspective"&&i.cameraType!=="stereo")throw new Error("Unknown cameraType '"+i.cameraType+"'");this.camera!==this.perspectiveCamera&&(this.camera=this.perspectiveCamera,this.camera.position.copy(this.orthographicCamera.position),this.camera.up.copy(this.orthographicCamera.up))}this.perspectiveCamera.fov=i.cameraFov,this.stereoCamera.eyeSep=i.cameraEyeSep,this.camera.updateProjectionMatrix(),this.requestRender()},mn.prototype.setClip=function(e,t,n,i,r){var a=this.parameters;e!==void 0&&(a.clipNear=e),t!==void 0&&(a.clipFar=t),n!==void 0&&(a.clipDist=n),i!==void 0&&(a.clipMode=i),r!==void 0&&(a.clipScale=r),this.requestRender()},mn.prototype.setSize=function(e,t){this.width=e||1,this.height=t||1,this.perspectiveCamera.aspect=this.width/this.height,this.orthographicCamera.left=-this.width/2,this.orthographicCamera.right=this.width/2,this.orthographicCamera.top=this.height/2,this.orthographicCamera.bottom=-this.height/2,this.camera.updateProjectionMatrix();var n=window.devicePixelRatio;this.renderer.setPixelRatio(n),this.renderer.setSize(e,t);var i=this.width*n,r=this.height*n;this.pickingTarget.setSize(i,r),this.sampleTarget.setSize(i,r),this.holdTarget.setSize(i,r),this.requestRender()},mn.prototype.handleResize=function(){if(this.container===document.body)this.setSize(window.innerWidth,window.innerHeight);else{var e=this.container.getBoundingClientRect();this.setSize(e.width,e.height)}},mn.prototype.updateInfo=function(e){var t=this.info,n=t.memory,i=t.render;if(e)n.programs=0,n.geometries=0,n.textures=0,i.calls=0,i.vertices=0,i.points=0;else{var r=this.renderer.info,a=r.memory,s=r.render;n.geometries=a.geometries,n.textures=a.textures,i.calls+=s.calls,i.faces+=s.triangles,i.points+=s.points}},mn.prototype.animate=function(){if(this.signals.ticked.dispatch(this.stats),window.performance.now()-this.stats.startTime>500&&!this.isStill&&this.sampleLevel<3&&this.sampleLevel!==-1){var e=this.sampleLevel;this.sampleLevel=3,this.renderPending=!0,this.render(),this.isStill=!0,this.sampleLevel=e,je&&De.log("rendered still frame")}this.frameRequest=window.requestAnimationFrame(this.animate)},mn.prototype.pick=function(e,t){if(this.parameters.cameraType==="stereo")return{pid:0,instance:void 0,picker:void 0};e*=window.devicePixelRatio,t*=window.devicePixelRatio,e=Math.max(e-2,0),t=Math.max(t-2,0);var n,i,r=0,a=q0?M0e:T0e;this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,e,t,5,5,a);for(var s=0;s<LC.length;s++){var o=4*LC[s],c=Math.round(a[o+3]),A=this.pickingGroup.getObjectById(c);A&&(n=A.userData.instance,i=A.userData.buffer.picking,r=q0?Math.round(255*a[o])<<16&16711680|Math.round(255*a[o+1])<<8&65280|255&Math.round(255*a[o+2]):a[o]<<16|a[o+1]<<8|a[o+2])}return{pid:r,instance:n,picker:i}},mn.prototype.requestRender=function(){var e=this;this.renderPending||(window.performance.now()-this.stats.startTime>22&&(this.stats.begin(),this.isStill=!1),this.renderPending=!0,window.requestAnimationFrame(function(){e.render(),e.stats.update()}))},mn.prototype.updateZoom=function(){var e=Oi(this.perspectiveCamera.fov),t=2*Math.tan(e/2)*this.cameraDistance;this.orthographicCamera.zoom=this.height/t},mn.prototype.absoluteToRelative=function(e){return 50*(1-e/this.bRadius)},mn.prototype.relativeToAbsolute=function(e){return this.bRadius*(1-e/50)},mn.prototype.__updateClipping=function(){var e=this.parameters;this.bRadius=Math.max(10,.5*this.boundingBoxLength),isFinite(this.bRadius)||(this.bRadius=50),this.camera.getWorldPosition(this.distVector),this.cDist=this.distVector.length(),this.cDist||(this.cameraDistance=Math.abs(e.cameraZ),this.cDist=Math.abs(e.cameraZ));var t=this.scene.fog;if(t.color.set(e.fogColor),e.clipMode==="camera")this.camera.near=e.clipNear,this.camera.far=e.clipFar,t.near=e.fogNear,t.far=e.fogFar;else if(e.clipScale==="absolute")this.camera.near=this.cDist-e.clipNear,this.camera.far=this.cDist+e.clipFar,t.near=this.cDist-e.fogNear,t.far=this.cDist+e.fogFar;else{var n=(50-e.clipNear)/50,i=-(50-e.clipFar)/50;this.camera.near=this.cDist-this.bRadius*n,this.camera.far=this.cDist+this.bRadius*i;var r=(50-e.fogNear)/50,a=-(50-e.fogFar)/50;t.near=this.cDist-this.bRadius*r,t.far=this.cDist+this.bRadius*a}e.clipMode!=="camera"&&(this.camera.type==="PerspectiveCamera"?(this.camera.near=Math.max(.1,e.clipDist,this.camera.near),this.camera.far=Math.max(1,this.camera.far),t.near=Math.max(.1,t.near),t.far=Math.max(1,t.far)):this.camera.type==="OrthographicCamera"&&e.clipDist>0&&(this.camera.near=Math.max(e.clipDist,this.camera.near)))},mn.prototype.__updateCamera=function(){var e=this.camera;e.updateMatrix(),e.updateMatrixWorld(!0),e.updateProjectionMatrix(),function(t,n,i,r,a){var s=new et;i.getSize(s);var o=s.height,c=i.getPixelRatio(),A=n.type==="OrthographicCamera";FC.set(s.width,s.height),Q3.getInverse(n.projectionMatrix),z3.copy(n.projectionMatrix).transpose(),t.traverse(function(l){var u=l.material;if(u){var d=u.uniforms;if(d){if(u.clipNear){var p=(50-u.clipNear)/50,h=r-a*p;d.clipNear.value=h}d.canvasHeight&&(d.canvasHeight.value=o),d.resolution&&d.resolution.value.copy(FC),d.pixelRatio&&(d.pixelRatio.value=c),d.projectionMatrixInverse&&d.projectionMatrixInverse.value.copy(Q3),d.projectionMatrixTranspose&&d.projectionMatrixTranspose.value.copy(z3),d.ortho&&(d.ortho.value=A)}}})}(this.scene,e,this.renderer,this.cDist,this.bRadius),function(t,n){t.traverseVisible(function(i){if(i instanceof fh&&i.userData.buffer.parameters.sortParticles){var r=i.geometry.attributes,a=r.position.count;if(a!==0){var s,o,c,A,l,u,d;MC.multiplyMatrices(n.matrixWorldInverse,i.matrixWorld),TC.multiplyMatrices(n.projectionMatrix,MC),i.userData.sortData?(s=i.userData.sortData,c=s.__zArray,o=s.__sortArray,A=s.__cmpFn):(c=new Float32Array(a),o=new Uint32Array(a),s={__zArray:c,__sortArray:o,__cmpFn:A=function(w,E){var B=c[w],R=c[E];return B>R?1:B<R?-1:0}},i.userData.sortData=s);for(var p=0;p<a;++p)Ow.fromArray(r.position.array,3*p),Ow.applyMatrix4(TC),c[p]=-Ow.z,o[p]=p;for(var h in function(w,E,B,R){B===void 0&&(B=0),E=E||function(W,j){return W>j?1:W<j?-1:0};var G,C,O,I=[],D=-1,k=B,L=R=(R||w.length)-1;function T(W,j){var ce=w[W];w[W]=w[j],w[j]=ce}for(;;)if(L-k<=25){for(var H=k+1;H<=L;++H){for(G=w[H],C=H-1;C>=k&&E(w[C],G)>0;)w[C+1]=w[C],--C;w[C+1]=G}if(D===-1)break;L=I[D--],k=I[D--]}else{for(O=L,T(k+L>>1,C=k+1),E(w[k],w[L])>0&&T(k,L),E(w[C],w[L])>0&&T(C,L),E(w[k],w[C])>0&&T(k,C),G=w[C];;){do C++;while(E(w[C],G)<0);do O--;while(E(w[O],G)>0);if(O<C)break;T(C,O)}w[k+1]=w[O],w[O]=G,L-C+1>=O-k?(I[++D]=C,I[++D]=L,L=O-1):(I[++D]=k,I[++D]=O-1,k=C)}}(o,A),r){var g=r[h],b=g.array,y=g.itemSize;s[h]||(s[h]=new Float32Array(y*a)),d=s[h],s[h]=b;for(var v=0;v<a;++v){l=o[v];for(var _=0;_<y;++_)u=l*y+_,d[v*y+_]=b[u]}r[h].array=d,r[h].needsUpdate=!0}}}})}(this.scene,e)},mn.prototype.__setVisibility=function(e,t,n,i){this.modelGroup.visible=e,this.pickingGroup.visible=t,this.backgroundGroup.visible=n,this.helperGroup.visible=i},mn.prototype.__updateLights=function(){this.spotLight.color.set(this.parameters.lightColor),this.spotLight.intensity=this.parameters.lightIntensity,this.distVector.copy(this.camera.position).setLength(100*this.boundingBoxLength),this.spotLight.position.copy(this.camera.position).add(this.distVector),this.ambientLight.color.set(this.parameters.ambientColor),this.ambientLight.intensity=this.parameters.ambientIntensity},mn.prototype.__renderPickingGroup=function(e){this.renderer.setRenderTarget(this.pickingTarget||null),this.renderer.clear(),this.__setVisibility(!1,!0,!1,!1),this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.updateInfo()},mn.prototype.__renderModelGroup=function(e,t){this.renderer.setRenderTarget(t||null),this.renderer.clear(),this.__setVisibility(!1,!1,!0,!1),this.renderer.render(this.scene,e),this.renderer.clear(!1,!0,!0),this.updateInfo(),this.__setVisibility(!0,!1,!1,je),this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.updateInfo()},mn.prototype.__renderSuperSample=function(e,t){var n=nI[Math.max(0,Math.min(this.sampleLevel,5))],i=1/n.length;this.compositeUniforms.tForeground.value=this.sampleTarget.texture;var r=this.sampleTarget.width,a=this.sampleTarget.height;this.parameters.cameraType==="stereo"&&(r/=2);for(var s=0;s<n.length;++s){var o=n[s];e.setViewOffset(r,a,o[0],o[1],r,a),e.updateProjectionMatrix(),Hw(this.scene,e);var c=i;c+=.03125*((s+.5)/n.length-.5),this.compositeUniforms.scale.value=c,this.__renderModelGroup(e,this.sampleTarget),this.renderer.setRenderTarget(this.holdTarget),s===0&&this.renderer.clear(),this.renderer.render(this.compositeScene,this.compositeCamera)}this.compositeUniforms.scale.value=1,this.compositeUniforms.tForeground.value=this.holdTarget.texture,e.clearViewOffset(),this.renderer.setRenderTarget(t||null),this.renderer.clear(),this.renderer.render(this.compositeScene,this.compositeCamera)},mn.prototype.__renderStereo=function(e,t){e===void 0&&(e=!1);var n=this.stereoCamera;n.update(this.perspectiveCamera);var i=this.renderer,r=new et;i.getSize(r),i.setScissorTest(!0),i.setScissor(0,0,r.width/2,r.height),i.setViewport(0,0,r.width/2,r.height),Hw(this.scene,n.cameraL),this.__render(e,n.cameraL),i.setScissor(r.width/2,0,r.width/2,r.height),i.setViewport(r.width/2,0,r.width/2,r.height),Hw(this.scene,n.cameraR),this.__render(e,n.cameraR),i.setScissorTest(!1),i.setViewport(0,0,r.width,r.height)},mn.prototype.__render=function(e,t,n){e===void 0&&(e=!1),e?this.lastRenderedPicking||this.__renderPickingGroup(t):this.sampleLevel>0&&this.parameters.cameraType!=="stereo"?this.__renderSuperSample(t,n):this.__renderModelGroup(t,n)},mn.prototype.render=function(e,t){if(e===void 0&&(e=!1),this.rendering)De.warn("'tried to call 'render' from within 'render'");else{this.rendering=!0;try{this.__updateClipping(),this.__updateCamera(),this.__updateLights(),this.updateInfo(!0),this.parameters.cameraType==="stereo"?this.__renderStereo(e,t):this.__render(e,this.camera,t),this.lastRenderedPicking=e}finally{this.rendering=!1,this.renderPending=!1}this.signals.rendered.dispatch()}},mn.prototype.clear=function(){De.log("scene cleared"),this.scene.remove(this.rotationGroup),this._initScene(),this.renderer.clear()},mn.prototype.dispose=function(){this.renderer.dispose(),window.cancelAnimationFrame(this.frameRequest)},Object.defineProperties(mn.prototype,zw);function PC(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;return Math.sqrt(t*t+n*n)}var Kr=function(e,t){t===void 0&&(t={}),this.domElement=e,this.signals={moved:new An.exports.Signal,scrolled:new An.exports.Signal,dragged:new An.exports.Signal,dropped:new An.exports.Signal,clicked:new An.exports.Signal,hovered:new An.exports.Signal,doubleClicked:new An.exports.Signal},this.position=new et,this.prevPosition=new et,this.down=new et,this.canvasPosition=new et,this.prevClickCP=new et,this.moving=!1,this.hovering=!0,this.scrolled=!1,this.lastMoved=1/0,this.which=0,this.buttons=0,this.pressed=!1,this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1,this.domElement.style.touchAction="none",this.hoverTimeout=z(t.hoverTimeout,50),this.handleScroll=z(t.handleScroll,!0),this.doubleClickSpeed=z(t.doubleClickSpeed,500),this._listen=this._listen.bind(this),this._onMousewheel=this._onMousewheel.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMousedown=this._onMousedown.bind(this),this._onMouseup=this._onMouseup.bind(this),this._onContextmenu=this._onContextmenu.bind(this),this._onTouchstart=this._onTouchstart.bind(this),this._onTouchend=this._onTouchend.bind(this),this._onTouchmove=this._onTouchmove.bind(this),this._listen();var n={passive:!1};document.addEventListener("mousewheel",this._onMousewheel,n),document.addEventListener("wheel",this._onMousewheel,n),document.addEventListener("MozMousePixelScroll",this._onMousewheel,n),document.addEventListener("mousemove",this._onMousemove,n),document.addEventListener("mousedown",this._onMousedown,n),document.addEventListener("mouseup",this._onMouseup,n),document.addEventListener("contextmenu",this._onContextmenu,n),document.addEventListener("touchstart",this._onTouchstart,n),document.addEventListener("touchend",this._onTouchend,n),document.addEventListener("touchmove",this._onTouchmove,n)},UC={key:{configurable:!0}};UC.key.get=function(){var e=0;return this.altKey&&(e+=1),this.ctrlKey&&(e+=2),this.metaKey&&(e+=4),this.shiftKey&&(e+=8),e},Kr.prototype.setParameters=function(e){e===void 0&&(e={}),this.hoverTimeout=z(e.hoverTimeout,this.hoverTimeout)},Kr.prototype._listen=function(){var e=window.performance.now(),t=this.canvasPosition;this.doubleClickPending&&e-this.lastClicked>this.doubleClickSpeed&&(this.doubleClickPending=!1),e-this.lastMoved>this.hoverTimeout&&(this.moving=!1),(this.scrolled||!this.moving&&!this.hovering)&&(this.scrolled=!1,this.hoverTimeout!==-1&&this.overElement&&(this.hovering=!0,this.signals.hovered.dispatch(t.x,t.y))),this.frameRequest=window.requestAnimationFrame(this._listen)},Kr.prototype._onMousewheel=function(e){var t=this;if(e.target===this.domElement&&this.handleScroll){e.preventDefault(),this._setKeys(e);var n=0;"deltaY"in e&&"deltaMode"in e&&e.deltaY!==void 0&&e.deltaMode!==void 0?n=e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?.025*-e.deltaY:e.deltaMode===WheelEvent.DOM_DELTA_LINE?-e.deltaY*(2.5/3):2.5*-e.deltaY:"deltaY"in e&&!("detail"in e)?n=.025*-e.deltaY:e.wheelDelta!==void 0?n=.025*-e.wheelDelta:e.wheelDeltaY!==void 0?n=.025*-e.wheelDeltaY:e.detail!==void 0&&(n=-e.detail/3),this.signals.scrolled.dispatch(n),setTimeout(function(){t.scrolled=!0},this.hoverTimeout)}},Kr.prototype._onMousemove=function(e){e.target===this.domElement?(e.preventDefault(),this.overElement=!0):this.overElement=!1,this._setKeys(e),this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(e.clientX,e.clientY),this._setCanvasPosition(e);var t=this.prevPosition.x-this.position.x,n=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(t,n),this.pressed&&this.signals.dragged.dispatch(t,n)},Kr.prototype._onMousedown=function(e){e.target===this.domElement&&(e.preventDefault(),this._setKeys(e),this.moving=!1,this.hovering=!1,this.down.set(e.clientX,e.clientY),this.position.set(e.clientX,e.clientY),this.which=e.which,this.buttons=function(t){if(typeof t=="object"){if("buttons"in t)return t.buttons;if("which"in t){var n=t.which;if(n===2)return 4;if(n===3)return 2;if(n>0)return 1<<n-1}else if("button"in t){var i=t.button;if(i===1)return 4;if(i===2)return 2;if(i>=0)return 1<<i}}return 0}(e),this.pressed=!0,this._setCanvasPosition(e))},Kr.prototype._onMouseup=function(e){e.target===this.domElement&&e.preventDefault(),this._setKeys(e);var t=this.canvasPosition;this._distance()<4&&(this.lastClicked=window.performance.now(),this.doubleClickPending&&this.prevClickCP.distanceTo(t)<4&&(this.signals.doubleClicked.dispatch(t.x,t.y),this.doubleClickPending=!1),this.signals.clicked.dispatch(t.x,t.y),this.doubleClickPending=!0,this.prevClickCP.copy(t)),this.which=void 0,this.buttons=void 0,this.pressed=void 0},Kr.prototype._onContextmenu=function(e){e.target===this.domElement&&e.preventDefault()},Kr.prototype._onTouchstart=function(e){if(e.target===this.domElement)switch(e.preventDefault(),this.pressed=!0,e.touches.length){case 1:this.moving=!1,this.hovering=!1,this.down.set(e.touches[0].pageX,e.touches[0].pageY),this.position.set(e.touches[0].pageX,e.touches[0].pageY),this._setCanvasPosition(e.touches[0]);break;case 2:this.down.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),this.position.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),this.lastTouchDistance=PC(e)}},Kr.prototype._onTouchend=function(e){e.target===this.domElement&&e.preventDefault(),this.which=void 0,this.buttons=void 0,this.pressed=void 0},Kr.prototype._onTouchmove=function(e){switch(e.target===this.domElement?(e.preventDefault(),this.overElement=!0):this.overElement=!1,e.touches.length){case 1:this._setKeys(e),this.which=1,this.buttons=1,this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(e.touches[0].pageX,e.touches[0].pageY),this._setCanvasPosition(e.touches[0]);var t=this.prevPosition.x-this.position.x,n=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(t,n),this.pressed&&this.signals.dragged.dispatch(t,n);break;case 2:var i=PC(e),r=i-this.lastTouchDistance;if(this.lastTouchDistance=i,this.prevPosition.copy(this.position),this.position.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),Math.abs(r)>2&&this.handleScroll&&this.position.distanceTo(this.prevPosition)<2)this.which=0,this.buttons=0,this.signals.scrolled.dispatch(r/2);else{this.which=3,this.buttons=2;var a=this.prevPosition.x-this.position.x,s=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(a,s),this.pressed&&this.signals.dragged.dispatch(a,s)}}},Kr.prototype._distance=function(){return this.position.distanceTo(this.down)},Kr.prototype._setCanvasPosition=function(e){var t,n,i=this.domElement.getBoundingClientRect();"clientX"in e&&"clientY"in e?(t=e.clientX-i.left,n=e.clientY-i.top):(t=e.offsetX,n=e.offsetY),this.canvasPosition.set(t,i.height-n)},Kr.prototype._setKeys=function(e){this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey,this.shiftKey=e.shiftKey},Kr.prototype.dispose=function(){document.removeEventListener("mousewheel",this._onMousewheel),document.removeEventListener("wheel",this._onMousewheel),document.removeEventListener("MozMousePixelScroll",this._onMousewheel),document.removeEventListener("mousemove",this._onMousemove),document.removeEventListener("mousedown",this._onMousedown),document.removeEventListener("mouseup",this._onMouseup),document.removeEventListener("contextmenu",this._onContextmenu),document.removeEventListener("touchstart",this._onTouchstart),document.removeEventListener("touchend",this._onTouchend),document.removeEventListener("touchmove",this._onTouchmove),window.cancelAnimationFrame(this.frameRequest)},Object.defineProperties(Kr.prototype,UC);var Vw=new st,Kw=new st,DC=new st,Ra=new st,kC=new st,_s=new P,Qp=new yi,OC=new yi,Pc=new st,qA=new P,Ny=new P,Xa=function(e,t){t===void 0&&(t={}),this.stage=e,this.rotateSpeed=z(t.rotateSpeed,2),this.zoomSpeed=z(t.zoomSpeed,1.2),this.panSpeed=z(t.panSpeed,1),this.viewer=e.viewer,this.mouse=e.mouseObserver,this.controls=e.viewerControls},Ww={component:{configurable:!0},atom:{configurable:!0}};Ww.component.get=function(){return this.stage.transformComponent},Ww.atom.get=function(){return this.stage.transformAtom},Xa.prototype._setPanVector=function(e,t,n){n===void 0&&(n=0);var i=this.controls.getCanvasScaleFactor(n);qA.set(e,t,0),qA.multiplyScalar(this.panSpeed*i)},Xa.prototype._getRotateXY=function(e,t){return[this.rotateSpeed*-e*.01,this.rotateSpeed*t*.01]},Xa.prototype._getCameraRotation=function(e){return e.extractRotation(this.viewer.camera.matrixWorld),e.multiply(Kw.makeRotationY(Math.PI)),e},Xa.prototype._transformPanVector=function(){this.component&&(Pc.extractRotation(this.component.transform),Pc.premultiply(this.viewer.rotationGroup.matrix),Pc.getInverse(Pc),Pc.multiply(this._getCameraRotation(Ra)),qA.applyMatrix4(Pc))},Xa.prototype.zoom=function(e){this.controls.zoom(this.zoomSpeed*e*.02)},Xa.prototype.pan=function(e,t){this._setPanVector(e,t),Pc.getInverse(this.viewer.rotationGroup.matrix),Pc.multiply(this._getCameraRotation(Ra)),qA.applyMatrix4(Pc),this.controls.translate(qA)},Xa.prototype.panComponent=function(e,t){this.component&&(this._setPanVector(e,t),this._transformPanVector(),this.component.position.add(qA),this.component.updateMatrix())},Xa.prototype.panAtom=function(e,t){this.atom&&this.component&&(this.atom.positionToVector3(Ny),Ny.add(this.viewer.translationGroup.position),Ny.applyMatrix4(this.viewer.rotationGroup.matrix),this._setPanVector(e,t,Ny.z),this._transformPanVector(),this.atom.positionAdd(qA),this.component.updateRepresentations({position:!0}))},Xa.prototype.rotate=function(e,t){var n=this._getRotateXY(e,t),i=n[0],r=n[1];this._getCameraRotation(Ra),_s.set(1,0,0),_s.applyMatrix4(Ra),Qp.setFromAxisAngle(_s,r),_s.set(0,1,0),_s.applyMatrix4(Ra),OC.setFromAxisAngle(_s,i),Qp.multiply(OC),Ra.makeRotationFromQuaternion(Qp),this.controls.applyMatrix(Ra)},Xa.prototype.zRotate=function(e,t){var n=this.rotateSpeed*((-e+t)/-2)*.01;DC.makeRotationZ(n),this.controls.applyMatrix(DC)},Xa.prototype.rotateComponent=function(e,t){if(this.component){var n=this._getRotateXY(e,t),i=n[0],r=n[1];this._getCameraRotation(kC),Ra.extractRotation(this.component.transform),Ra.premultiply(this.viewer.rotationGroup.matrix),Ra.getInverse(Ra),Ra.premultiply(kC),_s.set(1,0,0),_s.applyMatrix4(Ra),Vw.makeRotationAxis(_s,r),_s.set(0,1,0),_s.applyMatrix4(Ra),Kw.makeRotationAxis(_s,i),Vw.multiply(Kw),Qp.setFromRotationMatrix(Vw),this.component.quaternion.premultiply(Qp),this.component.quaternion.normalize(),this.component.updateMatrix()}},Object.defineProperties(Xa.prototype,Ww);var Nu=new P,fg=function(e,t){this.stage=t,this.pid=e.pid,this.picker=e.picker,this.instance=e.instance,this.stage=t,this.controls=t.viewerControls,this.mouse=t.mouseObserver},Qn={type:{configurable:!0},altKey:{configurable:!0},ctrlKey:{configurable:!0},metaKey:{configurable:!0},shiftKey:{configurable:!0},canvasPosition:{configurable:!0},component:{configurable:!0},object:{configurable:!0},position:{configurable:!0},closestBondAtom:{configurable:!0},closeAtom:{configurable:!0},arrow:{configurable:!0},atom:{configurable:!0},axes:{configurable:!0},bond:{configurable:!0},box:{configurable:!0},cone:{configurable:!0},clash:{configurable:!0},contact:{configurable:!0},cylinder:{configurable:!0},distance:{configurable:!0},ellipsoid:{configurable:!0},octahedron:{configurable:!0},point:{configurable:!0},mesh:{configurable:!0},slice:{configurable:!0},sphere:{configurable:!0},tetrahedron:{configurable:!0},torus:{configurable:!0},surface:{configurable:!0},unitcell:{configurable:!0},unknown:{configurable:!0},volume:{configurable:!0},wideline:{configurable:!0}};Qn.type.get=function(){return this.picker.type},Qn.altKey.get=function(){return this.mouse.altKey},Qn.ctrlKey.get=function(){return this.mouse.ctrlKey},Qn.metaKey.get=function(){return this.mouse.metaKey},Qn.shiftKey.get=function(){return this.mouse.shiftKey},Qn.canvasPosition.get=function(){return this.mouse.canvasPosition},Qn.component.get=function(){return this.stage.getComponentsByObject(this.picker.data).list[0]},Qn.object.get=function(){return this.picker.getObject(this.pid)},Qn.position.get=function(){return this.picker.getPosition(this.pid,this.instance,this.component)},Qn.closestBondAtom.get=function(){if(this.type==="bond"&&this.bond){var e=this.bond,t=this.controls,n=this.canvasPosition,i=e.atom1.positionToVector3(),r=e.atom2.positionToVector3();i.applyMatrix4(this.component.matrix),r.applyMatrix4(this.component.matrix);var a,s,o,c=t.getPositionOnCanvas(i),A=t.getPositionOnCanvas(r);return s=c,o=A,(a=n).distanceTo(s)<a.distanceTo(o)?e.atom1:e.atom2}},Qn.closeAtom.get=function(){var e=this.canvasPosition,t=this.closestBondAtom;if(t){var n=t.positionToVector3().applyMatrix4(this.component.matrix),i=this.controls.getPositionOnCanvas(n);t.positionToVector3(Nu),this.instance&&Nu.applyMatrix4(this.instance.matrix),Nu.applyMatrix4(this.component.matrix);var r=this.controls.viewer;Nu.add(r.translationGroup.position),Nu.applyMatrix4(r.rotationGroup.matrix);var a=this.controls.getCanvasScaleFactor(Nu.z),s=this.component.getMaxRepresentationRadius(t.index);return e.distanceTo(i)<=s/a?t:void 0}},Qn.arrow.get=function(){return this._objectIfType("arrow")},Qn.atom.get=function(){return this._objectIfType("atom")},Qn.axes.get=function(){return this._objectIfType("axes")},Qn.bond.get=function(){return this._objectIfType("bond")},Qn.box.get=function(){return this._objectIfType("box")},Qn.cone.get=function(){return this._objectIfType("cone")},Qn.clash.get=function(){return this._objectIfType("clash")},Qn.contact.get=function(){return this._objectIfType("contact")},Qn.cylinder.get=function(){return this._objectIfType("cylinder")},Qn.distance.get=function(){return this._objectIfType("distance")},Qn.ellipsoid.get=function(){return this._objectIfType("ellipsoid")},Qn.octahedron.get=function(){return this._objectIfType("octahedron")},Qn.point.get=function(){return this._objectIfType("point")},Qn.mesh.get=function(){return this._objectIfType("mesh")},Qn.slice.get=function(){return this._objectIfType("slice")},Qn.sphere.get=function(){return this._objectIfType("sphere")},Qn.tetrahedron.get=function(){return this._objectIfType("tetrahedron")},Qn.torus.get=function(){return this._objectIfType("torus")},Qn.surface.get=function(){return this._objectIfType("surface")},Qn.unitcell.get=function(){return this._objectIfType("unitcell")},Qn.unknown.get=function(){return this._objectIfType("unknown")},Qn.volume.get=function(){return this._objectIfType("volume")},Qn.wideline.get=function(){return this._objectIfType("wideline")},fg.prototype._objectIfType=function(e){return this.type===e?this.object:void 0},fg.prototype.getLabel=function(){var e=this.atom||this.closeAtom,t="nothing";return this.arrow?t=this.arrow.name:e?t="atom: "+e.qualifiedName()+" ("+e.structure.name+")":this.axes?t="axes":this.bond?t="bond: "+this.bond.atom1.qualifiedName()+" - "+this.bond.atom2.qualifiedName()+" ("+this.bond.structure.name+")":this.box?t=this.box.name:this.cone?t=this.cone.name:this.clash?t="clash: "+this.clash.clash.sele1+" - "+this.clash.clash.sele2:this.contact?t=this.contact.type+": "+this.contact.atom1.qualifiedName()+" - "+this.contact.atom2.qualifiedName()+" ("+this.contact.atom1.structure.name+")":this.cylinder?t=this.cylinder.name:this.distance?t="distance: "+this.distance.atom1.qualifiedName()+" - "+this.distance.atom2.qualifiedName()+" ("+this.distance.structure.name+")":this.ellipsoid?t=this.ellipsoid.name:this.octahedron?t=this.octahedron.name:this.point?t=this.point.name:this.mesh?t="mesh: "+(this.mesh.name||this.mesh.serial)+" ("+this.mesh.shape.name+")":this.slice?t="slice: "+this.slice.value.toPrecision(3)+" ("+this.slice.volume.name+")":this.sphere?t=this.sphere.name:this.surface?t="surface: "+this.surface.surface.name:this.tetrahedron?t=this.tetrahedron.name:this.torus?t=this.torus.name:this.unitcell?t="unitcell: "+this.unitcell.unitcell.spacegroup+" ("+this.unitcell.structure.name+")":this.unknown?t="unknown":this.volume?t="volume: "+this.volume.value.toPrecision(3)+" ("+this.volume.volume.name+")":this.wideline&&(t=this.wideline.name),t},Object.defineProperties(fg.prototype,Qn);var rI=function(e){this.stage=e,this.viewer=e.viewer};rI.prototype.pick=function(e,t){var n=this.viewer.pick(e,t);if(n.picker&&n.picker.type!=="ignore"&&n.pid!==void 0){var i=n.picker.array;if(!(i&&n.pid>=i.length))return new fg(n,this.stage);console.error("pid >= picker.array.length")}};var HC=new yi,QC=new P,zC=new P,$w=new P,I0e=new P,VC=new st,KC=new P,WC=new st,Wr=function(e){this.stage=e,this.signals={changed:new An.exports.Signal},this.viewer=e.viewer},jw={position:{configurable:!0},rotation:{configurable:!0}};jw.position.get=function(){return this.viewer.translationGroup.position},jw.rotation.get=function(){return this.viewer.rotationGroup.quaternion},Wr.prototype.changed=function(){this.viewer.requestRender(),this.signals.changed.dispatch()},Wr.prototype.getPositionOnCanvas=function(e,t){var n=T2(t,et),i=this.viewer;return $w.copy(e).add(i.translationGroup.position).applyMatrix4(i.rotationGroup.matrix).project(i.camera),n.set(($w.x+1)*i.width/2,($w.y+1)*i.height/2)},Wr.prototype.getCanvasScaleFactor=function(e){e===void 0&&(e=0);var t=this.viewer.camera;if(t instanceof vA)return 1/t.zoom;e=Math.abs(e),e+=this.getCameraDistance();var n=Oi(t.fov);return 2*e*Math.tan(n/2)/this.viewer.height},Wr.prototype.getOrientation=function(e){var t=hf(e);t.copy(this.viewer.rotationGroup.matrix);var n=this.getCameraDistance();return t.scale(I0e.set(n,n,n)),t.setPosition(this.viewer.translationGroup.position),t},Wr.prototype.orient=function(e){hf(e).decompose(QC,HC,zC);var t=this.viewer;t.rotationGroup.setRotationFromQuaternion(HC),t.translationGroup.position.copy(QC),t.cameraDistance=zC.z,t.updateZoom(),this.changed()},Wr.prototype.translate=function(e){this.viewer.translationGroup.position.add(ml(e)),this.changed()},Wr.prototype.center=function(e){this.viewer.translationGroup.position.copy(ml(e)).negate(),this.changed()},Wr.prototype.zoom=function(e){this.distance(this.getCameraDistance()*(1-e))},Wr.prototype.getCameraDistance=function(){return this.viewer.cameraDistance},Wr.prototype.distance=function(e){this.viewer.cameraDistance=Math.max(Math.abs(e),.2),this.viewer.updateZoom(),this.changed()},Wr.prototype.spin=function(e,t){VC.getInverse(this.viewer.rotationGroup.matrix),KC.copy(ml(e)).applyMatrix4(VC),this.viewer.rotationGroup.rotateOnAxis(KC,t),this.changed()},Wr.prototype.rotate=function(e){this.viewer.rotationGroup.setRotationFromQuaternion(H_(e)),this.changed()},Wr.prototype.align=function(e){WC.getInverse(hf(e)),this.viewer.rotationGroup.setRotationFromMatrix(WC),this.changed()},Wr.prototype.applyMatrix=function(e){this.viewer.rotationGroup.applyMatrix4(hf(e)),this.changed()},Object.defineProperties(Wr.prototype,jw);var es=function(e,t){for(var n,i=[],r=arguments.length-2;r-- >0;)i[r]=arguments[r+2];this.pausedTime=-1,this.elapsedDuration=0,this.pausedDuration=0,this.ignoreGlobalToggle=!1,this._paused=!1,this._resolveList=[],this.duration=z(e,1e3),this.controls=t,this.startTime=window.performance.now(),(n=this)._init.apply(n,i)},Yw={done:{configurable:!0},paused:{configurable:!0}};Yw.done.get=function(){return this.alpha===1},Yw.paused.get=function(){return this._paused},es.prototype.tick=function(e){if(!this._paused)return this.elapsedDuration=e.currentTime-this.startTime-this.pausedDuration,this.duration===0?this.alpha=1:this.alpha=um(0,1,this.elapsedDuration/this.duration),this._tick(e),this.done&&this._resolveList.forEach(function(t){return t()}),this.done},es.prototype.pause=function(e){e&&(this._hold=!0),this.pausedTime===-1&&(this.pausedTime=window.performance.now()),this._paused=!0},es.prototype.resume=function(e){!e&&this._hold||(this.pausedDuration+=window.performance.now()-this.pausedTime,this._paused=!1,this._hold=!1,this.pausedTime=-1)},es.prototype.toggle=function(){this._paused?this.resume():this.pause()},es.prototype.then=function(e){var t=this;return(this.done?Promise.resolve():new Promise(function(n){return t._resolveList.push(n)})).then(e)},Object.defineProperties(es.prototype,Yw);var $C=function(e){function t(n,i){for(var r=[],a=arguments.length-2;a-- >0;)r[a]=arguments[a+2];e.apply(this,[z(n,1/0),i].concat(r))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,i){Array.isArray(n)?this.axis=new P().fromArray(n):this.axis=z(n,new P(0,1,0)),this.angle=z(i,.01)},t.prototype._tick=function(n){this.axis&&this.angle&&this.controls.spin(this.axis,this.angle*n.lastDuration/16)},t}(es),jC=function(e){function t(n,i){for(var r=[],a=arguments.length-2;a-- >0;)r[a]=arguments[a+2];e.apply(this,[z(n,1/0),i].concat(r)),this.angleSum=0,this.direction=1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,i,r){Array.isArray(n)?this.axis=new P().fromArray(n):this.axis=z(n,new P(0,1,0)),this.angleStep=z(i,.01),this.angleEnd=z(r,.2)},t.prototype._tick=function(n){if(this.axis&&this.angleStep&&this.angleEnd){var i=um(0,1,Math.abs(this.angleSum)/this.angleEnd),r=this.angleStep*this.direction*(1.1-i);this.controls.spin(this.axis,r*n.lastDuration/16),this.angleSum+=this.angleStep,this.angleSum>=this.angleEnd&&(this.direction*=-1,this.angleSum=-this.angleEnd)}},t}(es),YC=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,i){this.moveFrom=ml(z(n,new P)),this.moveTo=ml(z(i,new P))},t.prototype._tick=function(){this.controls.position.lerpVectors(this.moveFrom,this.moveTo,this.alpha).negate(),this.controls.changed()},t}(es),L0e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,i){this.zoomFrom=n,this.zoomTo=i},t.prototype._tick=function(){this.controls.distance(Gs(this.zoomFrom,this.zoomTo,this.alpha))},t}(es),P0e=function(e){function t(){e.apply(this,arguments),this._currentRotation=new yi}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,i){this.rotateFrom=H_(n),this.rotateTo=H_(i),this._currentRotation=new yi},t.prototype._tick=function(){this._currentRotation.copy(this.rotateFrom).slerp(this.rotateTo,this.alpha),this.controls.rotate(this._currentRotation)},t}(es),U0e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,i,r){this.valueFrom=n,this.valueTo=i,this.callback=r},t.prototype._tick=function(){this.callback(Gs(this.valueFrom,this.valueTo,this.alpha))},t}(es),D0e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n){this.callback=n},t.prototype._tick=function(){this.alpha===1&&this.callback()},t}(es),V3=function(e){e===void 0&&(e=[]),this._resolveList=[],this._list=e},qC={done:{configurable:!0}};qC.done.get=function(){return this._list.every(function(e){return e.done})},V3.prototype.then=function(e){var t,n=this;return t=this.done?Promise.resolve():new Promise(function(i){n._resolveList.push(i),n._list.forEach(function(r){r.then(function(){n._resolveList.forEach(function(a){a()}),n._resolveList.length=0})})}),t.then(e)},Object.defineProperties(V3.prototype,qC);var ji=function(e){this.stage=e,this.animationList=[],this.finishedList=[],this.viewer=e.viewer,this.controls=e.viewerControls},XC={paused:{configurable:!0}};XC.paused.get=function(){return this.animationList.every(function(e){return e.paused})},ji.prototype.add=function(e){return e.duration===0?e.tick(this.viewer.stats):this.animationList.push(e),e},ji.prototype.remove=function(e){var t=this.animationList,n=t.indexOf(e);n>-1&&t.splice(n,1)},ji.prototype.run=function(e){for(var t=this.finishedList,n=this.animationList,i=n.length,r=0;r<i;++r){var a=n[r];a.tick(e)&&t.push(a)}var s=t.length;if(s){for(var o=0;o<s;++o)this.remove(t[o]);t.length=0}},ji.prototype.spin=function(e,t,n){return this.add(new $C(n,this.controls,e,t))},ji.prototype.rock=function(e,t,n,i){return this.add(new jC(i,this.controls,e,t,n))},ji.prototype.rotate=function(e,t){var n=this.viewer.rotationGroup.quaternion.clone();return this.add(new P0e(t,this.controls,n,e))},ji.prototype.move=function(e,t){var n=this.controls.position.clone().negate();return this.add(new YC(t,this.controls,n,e))},ji.prototype.zoom=function(e,t){var n=this.viewer.camera.position.z;return this.add(new L0e(t,this.controls,n,e))},ji.prototype.zoomMove=function(e,t,n){return new V3([this.move(e,n),this.zoom(t,n)])},ji.prototype.orient=function(e,t){var n=new P,i=new yi,r=new P;return hf(e).decompose(n,i,r),new V3([this.move(n.negate(),t),this.rotate(i,t),this.zoom(-r.x,t)])},ji.prototype.value=function(e,t,n,i){return this.add(new U0e(i,this.controls,e,t,n))},ji.prototype.timeout=function(e,t){return this.add(new D0e(t,this.controls,e))},ji.prototype.spinComponent=function(e,t,n,i){return this.add(new $C(i,e.controls,t,n))},ji.prototype.rockComponent=function(e,t,n,i,r){return this.add(new jC(r,e.controls,t,n,i))},ji.prototype.moveComponent=function(e,t,n){var i=e.controls.position.clone().negate();return this.add(new YC(n,e.controls,i,t))},ji.prototype.pause=function(){this.animationList.forEach(function(e){return e.pause()})},ji.prototype.resume=function(){this.animationList.forEach(function(e){return e.resume()})},ji.prototype.toggle=function(){this.paused?this.resume():this.pause()},ji.prototype.clear=function(){this.animationList.length=0},ji.prototype.dispose=function(){this.clear()},Object.defineProperties(ji.prototype,XC);var Ou=function(e,t){if(this.fn=e,this.queue=[],this.pending=!1,this.next=this.next.bind(this),t){for(var n=0,i=t.length;n<i;++n)this.queue.push(t[n]);this.next()}};Ou.prototype.run=function(e){this.fn(e,this.next)},Ou.prototype.next=function(){var e=this,t=this.queue.shift();t!==void 0?(this.pending=!0,setTimeout(function(){return e.run(t)})):this.pending=!1},Ou.prototype.push=function(e){this.queue.push(e),this.pending||this.next()},Ou.prototype.kill=function(){this.queue.length=0},Ou.prototype.length=function(){return this.queue.length};var tr=function(e,t,n){this.type="",this.parameters={lazy:{type:"boolean"},clipNear:{type:"range",step:1,max:100,min:0,buffer:!0},clipRadius:{type:"number",precision:1,max:1e3,min:0,buffer:!0},clipCenter:{type:"vector3",precision:1,buffer:!0},flatShaded:{type:"boolean",buffer:!0},opacity:{type:"range",step:.01,max:1,min:0,buffer:!0},depthWrite:{type:"boolean",buffer:!0},side:{type:"select",buffer:!0,options:{front:"front",back:"back",double:"double"}},wireframe:{type:"boolean",buffer:!0},colorData:{type:"hidden",update:"color"},colorScheme:{type:"select",update:"color",options:{}},colorScale:{type:"select",update:"color",options:Nn.getScales()},colorReverse:{type:"boolean",update:"color"},colorValue:{type:"color",update:"color"},colorDomain:{type:"hidden",update:"color"},colorMode:{type:"select",update:"color",options:Nn.getModes()},roughness:{type:"range",step:.01,max:1,min:0,buffer:!0},metalness:{type:"range",step:.01,max:1,min:0,buffer:!0},diffuse:{type:"color",buffer:!0},diffuseInterior:{type:"boolean",buffer:!0},useInteriorColor:{type:"boolean",buffer:!0},interiorColor:{type:"color",buffer:!0},interiorDarkening:{type:"range",step:.01,max:1,min:0,buffer:!0},matrix:{type:"hidden",buffer:!0},disablePicking:{type:"boolean",rebuild:!0}},this.viewer=t,this.tasks=new Qo,this.queue=new Ou(this.make.bind(this)),this.bufferList=[],this.parameters.colorScheme&&(this.parameters.colorScheme.options=Nn.getSchemes()),this.toBePrepared=!1};tr.prototype.init=function(e){var t=e||{};this.clipNear=z(t.clipNear,0),this.clipRadius=z(t.clipRadius,0),this.clipCenter=z(t.clipCenter,new P),this.flatShaded=z(t.flatShaded,!1),this.side=z(t.side,"double"),this.opacity=z(t.opacity,1),this.depthWrite=z(t.depthWrite,!0),this.wireframe=z(t.wireframe,!1),this.setColor(t.color,t),this.colorData=z(t.colorData,void 0),this.colorScheme=z(t.colorScheme,"uniform"),this.colorScale=z(t.colorScale,""),this.colorReverse=z(t.colorReverse,!1),this.colorValue=z(t.colorValue,9474192),this.colorDomain=z(t.colorDomain,void 0),this.colorMode=z(t.colorMode,"hcl"),this.visible=z(t.visible,!0),this.quality=z(t.quality,void 0),this.roughness=z(t.roughness,.4),this.metalness=z(t.metalness,0),this.diffuse=z(t.diffuse,16777215),this.diffuseInterior=z(t.diffuseInterior,!1),this.useInteriorColor=z(t.useInteriorColor,!1),this.interiorColor=z(t.interiorColor,2236962),this.interiorDarkening=z(t.interiorDarkening,0),this.lazy=z(t.lazy,!1),this.lazyProps={build:!1,bufferParams:{},what:{}},this.matrix=z(t.matrix,new st),this.disablePicking=z(t.disablePicking,!1);var n=this.parameters;n.sphereDetail===!0&&(n.sphereDetail={type:"integer",max:3,min:0,rebuild:"impostor"}),n.radialSegments===!0&&(n.radialSegments={type:"integer",max:25,min:5,rebuild:"impostor"}),n.openEnded===!0&&(n.openEnded={type:"boolean",rebuild:"impostor",buffer:!0}),n.disableImpostor===!0&&(n.disableImpostor={type:"boolean",rebuild:!0}),t.quality==="low"?(n.sphereDetail&&(this.sphereDetail=0),n.radialSegments&&(this.radialSegments=5)):t.quality==="medium"?(n.sphereDetail&&(this.sphereDetail=1),n.radialSegments&&(this.radialSegments=10)):t.quality==="high"?(n.sphereDetail&&(this.sphereDetail=2),n.radialSegments&&(this.radialSegments=20)):(n.sphereDetail&&(this.sphereDetail=z(t.sphereDetail,1)),n.radialSegments&&(this.radialSegments=z(t.radialSegments,10))),n.openEnded&&(this.openEnded=z(t.openEnded,!0)),n.disableImpostor&&(this.disableImpostor=z(t.disableImpostor,!1))},tr.prototype.getColorParams=function(e){return Object.assign({data:this.colorData,scheme:this.colorScheme,scale:this.colorScale,reverse:this.colorReverse,value:this.colorValue,domain:this.colorDomain,mode:this.colorMode,colorSpace:this.colorSpace},e)},tr.prototype.getBufferParams=function(e){return e===void 0&&(e={}),Object.assign({clipNear:this.clipNear,clipRadius:this.clipRadius,clipCenter:this.clipCenter,flatShaded:this.flatShaded,opacity:this.opacity,depthWrite:this.depthWrite,side:this.side,wireframe:this.wireframe,roughness:this.roughness,metalness:this.metalness,diffuse:this.diffuse,diffuseInterior:this.diffuseInterior,useInteriorColor:this.useInteriorColor,interiorColor:this.interiorColor,interiorDarkening:this.interiorDarkening,matrix:this.matrix,disablePicking:this.disablePicking},e)},tr.prototype.setColor=function(e,t){var n=Object.keys(Nn.getSchemes());if(typeof e=="string"&&n.includes(e.toLowerCase()))t?t.colorScheme=e:this.setParameters({colorScheme:e});else if(e!==void 0){var i=new pt(e).getHex();t?(t.colorScheme="uniform",t.colorValue=i):this.setParameters({colorScheme:"uniform",colorValue:i})}return this},tr.prototype.prepare=function(e){},tr.prototype.create=function(){},tr.prototype.update=function(e){this.build()},tr.prototype.build=function(e){if(!this.lazy||this.visible&&this.opacity){if(!this.toBePrepared)return this.tasks.increment(),void this.make();this.queue.length()>0?(this.tasks.change(1-this.queue.length()),this.queue.kill()):this.tasks.increment(),this.queue.push(e||!1)}else this.lazyProps.build=!0},tr.prototype.make=function(e,t){var n=this;je&&De.time("Representation.make "+this.type);var i=function(){e?(n.update(e),n.viewer.requestRender(),n.tasks.decrement(),t&&t()):(n.clear(),n.create(),n.manualAttach||n.disposed||(je&&De.time("Representation.attach "+n.type),n.attach(function(){je&&De.timeEnd("Representation.attach "+n.type),n.tasks.decrement(),t&&t()}))),je&&De.timeEnd("Representation.make "+n.type)};this.toBePrepared?this.prepare(i):i()},tr.prototype.attach=function(e){this.setVisibility(this.visible),e()},tr.prototype.setVisibility=function(e,t){if(this.visible=e,this.visible&&this.opacity){var n=this.lazyProps,i=n.bufferParams,r=n.what;if(n.build)return n.build=!1,this.build(),this;(Object.keys(i).length||Object.keys(r).length)&&(n.bufferParams={},n.what={},this.updateParameters(i,r))}return this.bufferList.forEach(function(a){a.setVisibility(e)}),t||this.viewer.requestRender(),this},tr.prototype.setParameters=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n=!1);var i=e||{},r=this.parameters,a={};for(var s in this.opacity||i.opacity===void 0||(this.lazyProps.build?(this.lazyProps.build=!1,n=!0):(Object.assign(a,this.lazyProps.bufferParams),Object.assign(t,this.lazyProps.what),this.lazyProps.bufferParams={},this.lazyProps.what={})),this.setColor(i.color,i),i)i[s]!==void 0&&r[s]!==void 0&&(r[s].int&&(i[s]=parseInt(i[s])),r[s].float&&(i[s]=parseFloat(i[s])),i[s]!==this[s]||i[s].equals&&!i[s].equals(this[s]))&&(this[s]&&this[s].copy&&i[s].copy?this[s].copy(i[s]):this[s]&&this[s].set?this[s].set(i[s]):this[s]=i[s],r[s].buffer&&(r[s].buffer===!0?a[s]=i[s]:a[r[s].buffer]=i[s]),r[s].update&&(t[r[s].update]=!0),!r[s].rebuild||r[s].rebuild==="impostor"&&ec&&!this.disableImpostor||(n=!0));return n?this.build():this.updateParameters(a,t),this},tr.prototype.updateParameters=function(e,t){if(e===void 0&&(e={}),this.lazy&&(!this.visible||!this.opacity)&&e.hasOwnProperty("opacity")===!1)return Object.assign(this.lazyProps.bufferParams,e),void Object.assign(this.lazyProps.what,t);this.bufferList.forEach(function(n){n.setParameters(e)}),Object.keys(t).length&&this.update(t),this.viewer.requestRender()},tr.prototype.getParameters=function(){var e=this,t={lazy:this.lazy,visible:this.visible,quality:this.quality};return Object.keys(this.parameters).forEach(function(n){e.parameters[n]!==null&&(t[n]=e[n])}),t},tr.prototype.clear=function(){var e=this;this.bufferList.forEach(function(t){e.viewer.remove(t),t.dispose()}),this.bufferList.length=0,this.viewer.requestRender()},tr.prototype.dispose=function(){this.disposed=!0,this.queue.kill(),this.tasks.dispose(),this.clear()};var K3=function(e){var t=this;this.pending=0,this.postCount=0,this.onmessageDict={},this.onerrorDict={},this.name=e,this.blobUrl=window.URL.createObjectURL(Dh.get(e)),this.worker=new Worker(this.blobUrl),Dh.activeWorkerCount+=1,this.worker.onmessage=function(n){t.pending-=1;var i=n.data.__postId;je&&De.timeEnd("Worker.postMessage "+e+" #"+i);var r=t.onmessageDict[i];r&&r.call(t.worker,n),delete t.onmessageDict[i],delete t.onerrorDict[i]},this.worker.onerror=function(n){if(t.pending-=1,n.data){var i=n.data.__postId,r=t.onerrorDict[i];r?r.call(t.worker,n):De.error("Worker.onerror",i,e,n),delete t.onmessageDict[i],delete t.onerrorDict[i]}else De.error("Worker.onerror",e,n)}};K3.prototype.post=function(e,t,n,i){e===void 0&&(e={}),this.onmessageDict[this.postCount]=n,this.onerrorDict[this.postCount]=i,e.__name=this.name,e.__postId=this.postCount,e.__debug=je,je&&De.time("Worker.postMessage "+this.name+" #"+this.postCount);try{this.worker.postMessage(e,t)}catch(r){De.error("worker.post:",r),this.worker.postMessage(e)}return this.pending+=1,this.postCount+=1,this},K3.prototype.terminate=function(){this.worker?(this.worker.terminate(),window.URL.revokeObjectURL(this.blobUrl),Dh.activeWorkerCount-=1):De.log("no worker to terminate")};var Hu=function(e,t){t===void 0&&(t=2),this.pool=[],this.count=0,this.maxCount=Math.min(8,t),this.name=e};function W_(e){for(var t=e.length,n=t/3,i=0,r=0,a=0,s=0;s<t;s+=3)i+=e[s+0],r+=e[s+1],a+=e[s+2];return new P(i/n,r/n,a/n)}function gl(e,t,n){return n?e.sub(n).projectOnVector(t).add(n):e.projectOnVector(t),e}function Oh(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,s=-1/0,o=0,c=e.length;o<c;o+=3){var A=e[o],l=e[o+1],u=e[o+2];A<t&&(t=A),l<n&&(n=l),u<i&&(i=u),A>r&&(r=A),l>a&&(a=l),u>s&&(s=u)}return[un([t,n,i]),un([r,a,s])]}function I2(e,t){for(var n=0,i=t.length;n<i;n+=3){var r=t[n],a=t[n+1],s=t[n+2];t[n]=e[0]*r+e[4]*a+e[8]*s+e[12],t[n+1]=e[1]*r+e[5]*a+e[9]*s+e[13],t[n+2]=e[2]*r+e[6]*a+e[10]*s+e[14]}}function F7(e,t){for(var n=0,i=t.length;n<i;n+=3){var r=t[n],a=t[n+1],s=t[n+2];t[n]=e[0]*r+e[3]*a+e[6]*s,t[n+1]=e[1]*r+e[4]*a+e[7]*s,t[n+2]=e[2]*r+e[5]*a+e[8]*s}}function aI(e){for(var t=0,n=e.length;t<n;t+=3){var i=e[t],r=e[t+1],a=e[t+2],s=i*i+r*r+a*a;if(s>0){var o=1/Math.sqrt(s);e[t]=i*o,e[t+1]=r*o,e[t+2]=a*o}}}function un(e){return new Float32Array(e||3)}function Ua(e,t,n){var i=t[0],r=t[1],a=t[2],s=n[0],o=n[1],c=n[2];e[0]=r*c-a*o,e[1]=a*s-i*c,e[2]=i*o-r*s}function Ga(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ii(e,t,n){e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2]}function ho(e,t,n){e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2]}function da(e,t,n){n===void 0&&(n=0),e[0]=t[n],e[1]=t[n+1],e[2]=t[n+2]}function yn(e,t,n){n===void 0&&(n=0),t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2]}function sI(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]}function AA(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}function nd(e,t,n){di(e,t,1/n)}function di(e,t,n){e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n}function ki(e,t){var n=sI(t);n==0?(e[0]=t[0],e[1]=t[1],e[2]=t[2]):di(e,t,1/Math.sqrt(n))}function oI(e,t,n){e[0]=t[0]-n,e[1]=t[1]-n,e[2]=t[2]-n}function hg(e,t,n){e[0]=t[0]+n,e[1]=t[1]+n,e[2]=t[2]+n}function $_(e,t){e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2])}function gf(e,t){e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2])}function L2(e,t){e[0]=-t[0],e[1]=-t[1],e[2]=-t[2]}function k0e(e,t){t===void 0&&(t=9);for(var n=Math.floor(t/2),i=e.position1.length/3,r=3*(n*i),a=1/t,s=F2(e.position1,e.position2),o=new Float32Array(r),c=new Float32Array(r),A=new P,l=0;l<i;++l){var u=3*l;A.set(s[u],s[u+1],s[u+2]);for(var d=e.position1[u],p=e.position1[u+1],h=e.position1[u+2],g=0;g<n;++g){var b=n*u+3*g,y=a*(2*g+1),v=a*(2*g+2);o[b]=d+A.x*y,o[b+1]=p+A.y*y,o[b+2]=h+A.z*y,c[b]=d+A.x*v,c[b+1]=p+A.y*v,c[b+2]=h+A.z*v}}var _=tc(o,c),w=function(B,R){for(var G=B.length/3,C=new Float32Array(G*R*3),O=0;O<G;++O)for(var I=3*O,D=O*R*3,k=B[I+0],L=B[I+1],T=B[I+2],H=0;H<R;++H){var W=D+3*H;C[W+0]=k,C[W+1]=L,C[W+2]=T}return C}(e.color,n),E={position:_,position1:o,position2:c,color:w,color2:w};return e.radius&&(E.radius=kw(e.radius,n)),e.picking&&e.picking.array&&(e.picking.array=kw(e.picking.array,n),E.picking=e.picking),e.primitiveId&&(E.primitiveId=kw(e.primitiveId,n)),E}function cI(e,t){t===void 0&&(t=.1);for(var n=F2(e.position1,e.position2),i=[],r=[],a=[],s=e.radius?[]:void 0,o=e.picking?[]:void 0,c=e.primitiveId?[]:void 0,A=new P,l=e.position1.length/3,u=0,d=0;d<l;++d){var p=3*d;A.set(n[p],n[p+1],n[p+2]);for(var h=A.length()/t,g=Math.floor(h/2),b=1/h,y=e.position1[p],v=e.position1[p+1],_=e.position1[p+2],w=0;w<g;++w){var E=3*u+3*w,B=b*(2*w+1),R=b*(2*w+2);i[E]=y+A.x*B,i[E+1]=v+A.y*B,i[E+2]=_+A.z*B,r[E]=y+A.x*R,r[E+1]=v+A.y*R,r[E+2]=_+A.z*R,e.color&&(a[E]=e.color[p],a[E+1]=e.color[p+1],a[E+2]=e.color[p+2]),s&&(s[u+w]=e.radius[d]),o&&(e.picking.array?o[u+w]=e.picking.array[d]:o[u+w]=d),c&&(c[u+w]=e.primitiveId[d])}u+=g}var G=new Float32Array(i),C=new Float32Array(r),O=tc(G,C),I=new Float32Array(a),D={position:O,position1:G,position2:C,color:I,color2:I};return s&&(D.radius=new Float32Array(s)),o&&e.picking&&(e.picking.array=new Float32Array(o),D.picking=e.picking),c&&(D.primitiveId=new Float32Array(c)),D}function j_(e,t){t===void 0&&(t=.1);for(var n=F2(e.position1,e.position2),i=[],r=[],a=[],s=e.radius?[]:void 0,o=e.picking?[]:void 0,c=e.primitiveId?[]:void 0,A=new P,l=e.position1.length/3,u=t,d=!0,p=0,h=0,g=0,b=0;b<l;++b){var y=3*b,v=e.position1[y],_=e.position1[y+1],w=e.position1[y+2];A.set(n[y],n[y+1],n[y+2]);var E=A.length();d&&(i[h]=v,i[h+1]=_,i[h+2]=w);for(var B=u,R=1/E;B<E;){var G=d?r:i;G[h]=v+A.x*B*R,G[h+1]=_+A.y*B*R,G[h+2]=w+A.z*B*R,d&&(h=3*++p),d=!d,u=t,B+=t}d&&(r[h]=e.position2[y],r[h+1]=e.position2[y+1],r[h+2]=e.position2[y+2],h=3*++p),u=B-E;for(var C=g;C<p;C++){if(e.color){var O=3*C;a[O]=e.color[y],a[O+1]=e.color[y+1],a[O+2]=e.color[y+2]}s&&(s[C]=e.radius[b]),o&&(e.picking.array?o[C]=e.picking.array[b]:o[C]=b),c&&(c[C]=e.primitiveId[b])}g=p}if(!d&&l>0){var I=3*p;r[I]=e.position2[3*l-3],r[I+1]=e.position2[3*l-2],r[I+1]=e.position2[3*l-1]}var D=new Float32Array(i),k=new Float32Array(r),L=tc(D,k),T=new Float32Array(a),H={position:L,position1:D,position2:k,color:T,color2:T};return s&&(H.radius=new Float32Array(s)),o&&e.picking&&(e.picking.array=new Float32Array(o),H.picking=e.picking),c&&(H.primitiveId=new Float32Array(c)),H}Hu.prototype.post=function(e,t,n,i){e===void 0&&(e={});var r=this.getNextWorker();return r?r.post(e,t,n,i):console.error("unable to get worker from pool"),this},Hu.prototype.terminate=function(){this.pool.forEach(function(e){e.terminate()})},Hu.prototype.getNextWorker=function(){for(var e,t=1/0,n=0;n<this.maxCount;++n){if(n>=this.count){e=new K3(this.name),this.pool.push(e),this.count+=1;break}var i=this.pool[n];if(i.pending===0){e=i;break}i.pending<t&&(t=i.pending,e=i)}return e},Hu.prototype.constructor=Hu,Oh.__deps=[un],nd.__deps=[di],ki.__deps=[di,sI];var EA=new P,Nr=function(){},qw={Picker:{configurable:!0},Buffer:{configurable:!0}};qw.Picker.get=function(){return Rs.get(this.type)},qw.Buffer.get=function(){return ls.get(this.type)},Nr.getShapeKey=function(e){return this.type+e[0].toUpperCase()+e.substr(1)},Nr.expandBoundingBox=function(e,t){},Nr.valueToShape=function(e,t,n){var i,r,a=e._primitiveData[this.getShapeKey(t)];switch(this.fields[t]){case"v3":case"c":r=a,(i=n).toArray!==void 0?i=i.toArray():i.x!==void 0?i=[i.x,i.y,i.z]:i.r!==void 0&&(i=[i.r,i.g,i.b]),r.push.apply(r,i);break;default:a.push(n)}},Nr.objectToShape=function(e,t){var n=this;Object.keys(this.fields).forEach(function(i){n.valueToShape(e,i,t[i])}),this.valueToShape(e,"name",t.name),this.expandBoundingBox(e.boundingBox,t)},Nr.valueFromShape=function(e,t,n){var i=e._primitiveData[this.getShapeKey(n)];switch(this.fields[n]){case"v3":return new P().fromArray(i,3*t);case"c":return new pt().fromArray(i,3*t);default:return i[t]}},Nr.objectFromShape=function(e,t){var n=this,i=this.valueFromShape(e,t,"name");i===void 0&&(i=this.type+": "+t+" ("+e.name+")");var r={shape:e,name:i};return Object.keys(this.fields).forEach(function(a){r[a]=n.valueFromShape(e,t,a)}),r},Nr.arrayFromShape=function(e,t){var n=e._primitiveData[this.getShapeKey(t)];return this.fields[t]==="s"?n:new Float32Array(n)},Nr.dataFromShape=function(e){var t=this,n={};return this.Picker&&(n.picking=new this.Picker(e)),Object.keys(this.fields).forEach(function(i){n[i]=t.arrayFromShape(e,i)}),n},Nr.bufferFromShape=function(e,t){return new this.Buffer(this.dataFromShape(e),t)},Object.defineProperties(Nr,qw),Nr.type="",Nr.fields={};var Wd=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,i){return this.valueFromShape(n,i,"position")},t.expandBoundingBox=function(n,i){n.expandByPoint(EA.fromArray(i.position))},t}(Nr);Wd.type="sphere",Wd.fields={position:"v3",color:"c",radius:"f"};var Il=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,i){return this.valueFromShape(n,i,"position")},t.expandBoundingBox=function(n,i){n.expandByPoint(EA.fromArray(i.position))},t}(Nr);Il.type="box",Il.fields={position:"v3",color:"c",size:"f",heightAxis:"v3",depthAxis:"v3"};var P2=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Il);P2.type="octahedron";var U2=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Il);U2.type="tetrahedron";var Ll=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,i){var r=this.valueFromShape(n,i,"position1"),a=this.valueFromShape(n,i,"position2");return r.add(a).multiplyScalar(.5)},t.expandBoundingBox=function(n,i){n.expandByPoint(EA.fromArray(i.position1)),n.expandByPoint(EA.fromArray(i.position2))},t.bufferFromShape=function(n,i){i===void 0&&(i={});var r=this.dataFromShape(n);return this.type==="cylinder"&&i.dashedCylinder&&(r=cI(r)),new this.Buffer(r,i)},t}(Nr);Ll.type="cylinder",Ll.fields={position1:"v3",position2:"v3",color:"c",radius:"f"};var D2=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ll);D2.type="arrow";var k2=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ll);k2.type="cone";var $d=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Wd);$d.type="ellipsoid",$d.fields={position:"v3",color:"c",radius:"f",majorAxis:"v3",minorAxis:"v3"};var O2=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}($d);O2.type="torus";var W3=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,i){return this.valueFromShape(n,i,"position")},t.expandBoundingBox=function(n,i){n.expandByPoint(EA.fromArray(i.position))},t}(Nr);W3.type="text",W3.fields={position:"v3",color:"c",size:"f",text:"s"};var Hh=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,i){return this.valueFromShape(n,i,"position")},t.expandBoundingBox=function(n,i){n.expandByPoint(EA.fromArray(i.position))},t}(Nr);Hh.type="point",Hh.fields={position:"v3",color:"c"};var Qh=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,i){var r=this.valueFromShape(n,i,"position1"),a=this.valueFromShape(n,i,"position2");return r.add(a).multiplyScalar(.5)},t.expandBoundingBox=function(n,i){n.expandByPoint(EA.fromArray(i.position1)),n.expandByPoint(EA.fromArray(i.position2))},t}(Nr);Qh.type="wideline",Qh.fields={position1:"v3",position2:"v3",color:"c"};var Pl=function(e,t){this.exp=3;var n=t||function(I){for(var D=I.x,k=I.y,L=I.z,T=new gi,H=D.length,W=T.min,j=T.max,ce=0;ce<H;ce++)W.x=Math.min(D[ce],W.x),W.y=Math.min(k[ce],W.y),W.z=Math.min(L[ce],W.z),j.x=Math.max(D[ce],j.x),j.y=Math.max(k[ce],j.y),j.z=Math.max(L[ce],j.z);return T}(e);this.minX=n.min.x,this.minY=n.min.y,this.minZ=n.min.z,this.boundX=1+(n.max.x-this.minX>>this.exp),this.boundY=1+(n.max.y-this.minY>>this.exp),this.boundZ=1+(n.max.z-this.minZ>>this.exp);for(var i=this.boundX*this.boundY*this.boundZ,r=e.count!==void 0?e.count:e.x.length,a=e.x,s=e.y,o=e.z,c=0,A=new Uint32Array(i),l=new Int32Array(r),u=0;u<r;++u){var d=a[u]-this.minX>>this.exp,p=s[u]-this.minY>>this.exp,h=o[u]-this.minZ>>this.exp,g=(d*this.boundY+p)*this.boundZ+h;(A[g]+=1)===1&&(c+=1),l[u]=g}for(var b=new Uint16Array(c),y=0,v=0;y<i;++y){var _=A[y];_>0&&(A[y]=v+1,b[v]=_,v+=1)}for(var w=new Uint32Array(c),E=1;E<c;++E)w[E]+=w[E-1]+b[E-1];for(var B=new Uint16Array(c),R=new Int32Array(r),G=0;G<r;++G){var C=A[l[G]];if(C>0){var O=C-1;R[w[O]+B[O]]=G,B[O]+=1}}this.grid=A,this.bucketCount=b,this.bucketOffset=w,this.bucketArray=R,this.xArray=a,this.yArray=s,this.zArray=o};Pl.prototype.within=function(e,t,n,i){var r=[];return this.eachWithin(e,t,n,i,function(a){return r.push(a)}),r},Pl.prototype.eachWithin=function(e,t,n,i,r){for(var a=i*i,s=Math.max(0,e-i-this.minX>>this.exp),o=Math.max(0,t-i-this.minY>>this.exp),c=Math.max(0,n-i-this.minZ>>this.exp),A=Math.min(this.boundX,1+(e+i-this.minX>>this.exp)),l=Math.min(this.boundY,1+(t+i-this.minY>>this.exp)),u=Math.min(this.boundZ,1+(n+i-this.minZ>>this.exp)),d=s;d<A;++d)for(var p=o;p<l;++p)for(var h=c;h<u;++h){var g=(d*this.boundY+p)*this.boundZ+h,b=this.grid[g];if(b>0)for(var y=b-1,v=this.bucketOffset[y],_=v+this.bucketCount[y],w=v;w<_;++w){var E=this.bucketArray[w],B=this.xArray[E]-e,R=this.yArray[E]-t,G=this.zArray[E]-n,C=B*B+R*R+G*G;C<=a&&r(E,C)}}};var Ir=function(e){this._fields=this._defaultFields,this._init(0)},ZC={_defaultFields:{configurable:!0}};ZC._defaultFields.get=function(){return[]},Ir.prototype._init=function(e){this.length=e,this.count=0;for(var t=0,n=this._fields.length;t<n;++t){var i=this._fields[t],r=i[0],a=i[1],s=i[2];this._initField(r,a,s)}},Ir.prototype._initField=function(e,t,n){this[e]=$F(n,this.length*t)},Ir.prototype.addField=function(e,t,n){this._fields.push([e,t,n]),this._initField(e,t,n)},Ir.prototype.resize=function(e){this.length=Math.round(e||0),this.count=Math.min(this.count,this.length);for(var t=0,n=this._fields.length;t<n;++t){var i=this._fields[t][0],r=this._fields[t][1],a=this.length*r,s=new this[i].constructor(a);this[i].length>a?s.set(this[i].subarray(0,a)):s.set(this[i]),this[i]=s}},Ir.prototype.growIfFull=function(){if(this.count>=this.length){var e=Math.round(1.5*this.length);this.resize(Math.max(256,e))}},Ir.prototype.copyFrom=function(e,t,n,i){for(var r=0,a=this._fields.length;r<a;++r)for(var s=this._fields[r][0],o=this._fields[r][1],c=this[s],A=e[s],l=0;l<i;++l)for(var u=o*(t+l),d=o*(n+l),p=0;p<o;++p)c[u+p]=A[d+p]},Ir.prototype.copyWithin=function(e,t,n){for(var i=0,r=this._fields.length;i<r;++i)for(var a=this._fields[i][0],s=this._fields[i][1],o=this[a],c=0;c<n;++c)for(var A=s*(e+c),l=s*(t+c),u=0;u<s;++u)o[A+u]=o[l+u]},Ir.prototype.sort=function(e){De.time("Store.sort");var t=this,n=new this.constructor(1);(function i(r,a){if(r<a){var s=Math.floor((r+a)/2),o=r,c=a;do{for(;e(o,s)<0;)o+=1;for(;e(c,s)>0;)c-=1;o<=c&&(o===s?s=c:c===s&&(s=o),(A=o)!==(l=c)&&(n.copyFrom(t,0,A,1),t.copyWithin(A,l,1),t.copyFrom(n,l,0,1)),o+=1,c-=1)}while(o<=c);i(r,c),i(o,a)}var A,l})(0,this.count-1),De.timeEnd("Store.sort")},Ir.prototype.clear=function(){this.count=0},Ir.prototype.dispose=function(){for(var e=0,t=this._fields.length;e<t;++e)delete this[this._fields[e][0]]},Object.defineProperties(Ir.prototype,ZC);var O0e=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["index1",1,"int32"],["index2",1,"int32"],["type",1,"int8"]]},t.prototype.addContact=function(i,r,a){this.growIfFull();var s=this.count;i<r?(this.index1[s]=i,this.index2[s]=r):(this.index2[s]=i,this.index1[s]=r),a&&(this.type[s]=a),this.count+=1},Object.defineProperties(t.prototype,n),t}(Ir);function Sy(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24}var cn=function(e,t){this.length=e,this._words=new Uint32Array(e+32>>>5),t===!0&&this.setAll()};function AI(e){for(var t=e.edgeCount,n=e.nodeCount,i=e.nodeArray1,r=e.nodeArray2,a=new Uint8Array(n),s=new Int32Array(n),o=0;o<t;++o)a[i[o]]+=1,a[r[o]]+=1;for(var c=1;c<n;++c)s[c]+=s[c-1]+a[c-1];for(var A=2*t,l=new Int32Array(A),u=0;u<A;++u)l[u]=-1;for(var d=0;d<t;++d){for(var p=i[d],h=r[d],g=s[p];l[g]!==-1&&g<A;)g+=1;l[g]=d;for(var b=s[h];l[b]!==-1&&b<A;)b+=1;l[b]=d}return{countArray:a,offsetArray:s,indexArray:l}}function xr(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),{type:e,group:t,x:0,y:0,z:0,atomSet:[]}}function Ji(e,t){e.x+=t.x,e.y+=t.y,e.z+=t.z,e.atomSet.push(t.index)}function er(e,t){var n=t.atomSet.length;if(n>0){var i=e.types,r=e.groups,a=e.centers,s=e.atomSets;i.push(t.type),r.push(t.group),a.x.push(t.x/n),a.y.push(t.y/n),a.z.push(t.z/n),s.push(t.atomSet)}}cn.prototype.get=function(e){return(this._words[e>>>5]&1<<e)!=0},cn.prototype.set=function(e){this._words[e>>>5]|=1<<e},cn.prototype.clear=function(e){this._words[e>>>5]&=~(1<<e)},cn.prototype.flip=function(e){this._words[e>>>5]^=1<<e},cn.prototype._assignRange=function(e,t,n){if(!(t<e)){for(var i=this._words,r=n===!0?4294967295:0,a=e>>>5,s=t>>>5,o=a+1;o<s;++o)i[o]=r;var c=a<<5,A=s<<5;if(n===!0)if(t-e<32)for(var l=e,u=t+1;l<u;++l)i[l>>>5]|=1<<l;else{for(var d=e,p=c+32;d<p;++d)i[d>>>5]|=1<<d;for(var h=A,g=t+1;h<g;++h)i[h>>>5]|=1<<h}else if(t-e<32)for(var b=e,y=t+1;b<y;++b)i[b>>>5]&=~(1<<b);else{for(var v=e,_=c+32;v<_;++v)i[v>>>5]&=~(1<<v);for(var w=A,E=t+1;w<E;++w)i[w>>>5]&=~(1<<w)}return this}},cn.prototype.setRange=function(e,t){return this._assignRange(e,t,!0)},cn.prototype.clearRange=function(e,t){return this._assignRange(e,t,!1)},cn.prototype.setBits=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this._words,i=e.length,r=0;r<i;++r){var a=e[r];n[a>>>5]|=1<<a}return this},cn.prototype.clearBits=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this._words,i=e.length,r=0;r<i;++r){var a=e[r];n[a>>>5]&=~(1<<a)}return this},cn.prototype.setAll=function(){return this._assignRange(0,this.length-1,!0)},cn.prototype.clearAll=function(){return this._assignRange(0,this.length-1,!1)},cn.prototype.flipAll=function(){for(var e=this._words.length,t=this._words,n=32-this.length%32,i=0;i<e-1;++i)t[i]=~t[i];return t[e-1]=~(t[e-1]<<n)>>>n,this},cn.prototype._isRangeValue=function(e,t,n){if(!(t<e)){for(var i=this._words,r=n===!0?4294967295:0,a=e>>>5,s=t>>>5,o=a+1;o<s;++o)if(i[o]!==r)return!1;if(t-e<32){for(var c=e,A=t+1;c<A;++c)if(!!(i[c>>>5]&1<<c)!==n)return!1}else{for(var l=s<<5,u=e,d=(a<<5)+32;u<d;++u)if(!!(i[u>>>5]&1<<u)!==n)return!1;for(var p=l,h=t+1;p<h;++p)if(!!(i[p>>>5]&1<<p)!==n)return!1}return!0}},cn.prototype.isRangeSet=function(e,t){return this._isRangeValue(e,t,!0)},cn.prototype.isRangeClear=function(e,t){return this._isRangeValue(e,t,!1)},cn.prototype.isAllSet=function(){return this._isRangeValue(0,this.length-1,!0)},cn.prototype.isAllClear=function(){return this._isRangeValue(0,this.length-1,!1)},cn.prototype.isSet=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this._words,i=e.length,r=0;r<i;++r){var a=e[r];if((n[a>>>5]&1<<a)==0)return!1}return!0},cn.prototype.isClear=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this._words,i=e.length,r=0;r<i;++r){var a=e[r];if((n[a>>>5]&1<<a)!=0)return!1}return!0},cn.prototype.isEqualTo=function(e){for(var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=0;r<i;++r)if(t[r]!==n[r])return!1;return!0},cn.prototype.getSize=function(){for(var e=this._words.length,t=this._words,n=0,i=0;i<e;++i)n+=Sy(t[i]);return n},cn.prototype.difference=function(e){for(var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=0;r<i;++r)t[r]=t[r]&~n[r];for(var a=t.length;a<i;++a)t[a]=0;return this},cn.prototype.union=function(e){for(var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=0;r<i;++r)t[r]|=n[r];for(var a=t.length;a<i;++a)t[a]=0;return this},cn.prototype.intersection=function(e){for(var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=0;r<i;++r)t[r]&=n[r];for(var a=t.length;a<i;++a)t[a]=0;return this},cn.prototype.intersects=function(e){for(var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=0;r<i;++r)if((t[r]&n[r])!=0)return!0;return!1},cn.prototype.getIntersectionSize=function(e){for(var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=0,a=0;a<i;++a)r+=Sy(t[a]&n[a]);return r},cn.prototype.makeIntersection=function(e){var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=new Uint32Array(i),a=Object.create(cn.prototype);a._words=r,a.length=Math.min(this.length,e.length);for(var s=0;s<i;++s)r[s]=t[s]&n[s];return a},cn.prototype.forEach=function(e){for(var t=this._words.length,n=this._words,i=0,r=0;r<t;++r)for(var a=n[r];a!==0;){var s=a&-a;e((r<<5)+Sy(s-1),i),a^=s,++i}},cn.prototype.toArray=function(){for(var e=this._words,t=new Array(this.getSize()),n=this._words.length,i=0,r=0;r<n;++r)for(var a=e[r];a!==0;){var s=a&-a;t[i++]=(r<<5)+Sy(s-1),a^=s}return t},cn.prototype.toString=function(){return"{"+this.toArray().join(",")+"}"},cn.prototype.toSeleString=function(){var e=this.toArray().join(",");return e?"@"+e:"NONE"},cn.prototype.clone=function(){var e=Object.create(cn.prototype);return e.length=this.length,e._words=new Uint32Array(this._words),e};var H0e=["D-BETA-PEPTIDE, C-GAMMA LINKING","D-GAMMA-PEPTIDE, C-DELTA LINKING","D-PEPTIDE COOH CARBOXY TERMINUS","D-PEPTIDE NH3 AMINO TERMINUS","D-PEPTIDE LINKING","L-BETA-PEPTIDE, C-GAMMA LINKING","L-GAMMA-PEPTIDE, C-DELTA LINKING","L-PEPTIDE COOH CARBOXY TERMINUS","L-PEPTIDE NH3 AMINO TERMINUS","L-PEPTIDE LINKING","PEPTIDE LINKING","PEPTIDE-LIKE"],Q0e=["RNA OH 3 PRIME TERMINUS","RNA OH 5 PRIME TERMINUS","RNA LINKING"],z0e=["DNA OH 3 PRIME TERMINUS","DNA OH 5 PRIME TERMINUS","DNA LINKING","L-DNA LINKING","L-RNA LINKING"],lI=["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","SACCHARIDE"],V0e=["NON-POLYMER"].concat(["OTHER"],lI),uI=["h","g","i"],dI=["e","b"],pI=["s","t","l",""],fI={H:1,D:1,T:1,HE:2,LI:3,BE:4,B:5,C:6,N:7,O:8,F:9,NE:10,NA:11,MG:12,AL:13,SI:14,P:15,S:16,CL:17,AR:18,K:19,CA:20,SC:21,TI:22,V:23,CR:24,MN:25,FE:26,CO:27,NI:28,CU:29,ZN:30,GA:31,GE:32,AS:33,SE:34,BR:35,KR:36,RB:37,SR:38,Y:39,ZR:40,NB:41,MO:42,TC:43,RU:44,RH:45,PD:46,AG:47,CD:48,IN:49,SN:50,SB:51,TE:52,I:53,XE:54,CS:55,BA:56,LA:57,CE:58,PR:59,ND:60,PM:61,SM:62,EU:63,GD:64,TB:65,DY:66,HO:67,ER:68,TM:69,YB:70,LU:71,HF:72,TA:73,W:74,RE:75,OS:76,IR:77,PT:78,AU:79,HG:80,TL:81,PB:82,BI:83,PO:84,AT:85,RN:86,FR:87,RA:88,AC:89,TH:90,PA:91,U:92,NP:93,PU:94,AM:95,CM:96,BK:97,CF:98,ES:99,FM:100,MD:101,NO:102,LR:103,RF:104,DB:105,SG:106,BH:107,HS:108,MT:109,DS:110,RG:111,CN:112,NH:113,FL:114,MC:115,LV:116,TS:117,OG:118},K0e={1:1.1,2:1.4,3:1.81,4:1.53,5:1.92,6:1.7,7:1.55,8:1.52,9:1.47,10:1.54,11:2.27,12:1.73,13:1.84,14:2.1,15:1.8,16:1.8,17:1.75,18:1.88,19:2.75,20:2.31,21:2.3,22:2.15,23:2.05,24:2.05,25:2.05,26:2.05,27:2,28:2,29:2,30:2.1,31:1.87,32:2.11,33:1.85,34:1.9,35:1.83,36:2.02,37:3.03,38:2.49,39:2.4,40:2.3,41:2.15,42:2.1,43:2.05,44:2.05,45:2,46:2.05,47:2.1,48:2.2,49:2.2,50:1.93,51:2.17,52:2.06,53:1.98,54:2.16,55:3.43,56:2.68,57:2.5,58:2.48,59:2.47,60:2.45,61:2.43,62:2.42,63:2.4,64:2.38,65:2.37,66:2.35,67:2.33,68:2.32,69:2.3,70:2.28,71:2.27,72:2.25,73:2.2,74:2.1,75:2.05,76:2,77:2,78:2.05,79:2.1,80:2.05,81:1.96,82:2.02,83:2.07,84:1.97,85:2.02,86:2.2,87:3.48,88:2.83,89:2,90:2.4,91:2,92:2.3,93:2,94:2,95:2,96:2,97:2,98:2,99:2,100:2,101:2,102:2,103:2,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:2,114:2,115:2,116:2,117:2,118:2},W0e={1:.31,2:.28,3:1.28,4:.96,5:.84,6:.76,7:.71,8:.66,9:.57,10:.58,11:1.66,12:1.41,13:1.21,14:1.11,15:1.07,16:1.05,17:1.02,18:1.06,19:2.03,20:1.76,21:1.7,22:1.6,23:1.53,24:1.39,25:1.39,26:1.32,27:1.26,28:1.24,29:1.32,30:1.22,31:1.22,32:1.2,33:1.19,34:1.2,35:1.2,36:1.16,37:2.2,38:1.95,39:1.9,40:1.75,41:1.64,42:1.54,43:1.47,44:1.46,45:1.42,46:1.39,47:1.45,48:1.44,49:1.42,50:1.39,51:1.39,52:1.38,53:1.39,54:1.4,55:2.44,56:2.15,57:2.07,58:2.04,59:2.03,60:2.01,61:1.99,62:1.98,63:1.98,64:1.96,65:1.94,66:1.92,67:1.92,68:1.89,69:1.9,70:1.87,71:1.87,72:1.75,73:1.7,74:1.62,75:1.51,76:1.44,77:1.41,78:1.36,79:1.36,80:1.32,81:1.45,82:1.46,83:1.48,84:1.4,85:1.5,86:1.5,87:2.6,88:2.21,89:2.15,90:2.06,91:2,92:1.96,93:1.9,94:1.87,95:1.8,96:1.69,97:1.6,98:1.6,99:1.6,100:1.6,101:1.6,102:1.6,103:1.6,104:1.6,105:1.6,106:1.6,107:1.6,108:1.6,109:1.6,110:1.6,111:1.6,112:1.6,113:1.6,114:1.6,115:1.6,116:1.6,117:1.6,118:1.6},JC={1:[1],2:[0],3:[1],4:[2],5:[3],6:[4],7:[3],8:[2],9:[1],10:[0],11:[1],12:[2],13:[6],14:[6],15:[3,5,7],16:[2,4,6],17:[1],18:[0],19:[1],20:[2],31:[3],32:[4],33:[3,5],34:[2,4,6],35:[1],36:[0],37:[1],38:[2],49:[3],50:[4],51:[3,5],52:[2],53:[1,2,5],54:[0,2],55:[1],56:[2],81:[3],82:[4],83:[3],84:[2],85:[1],86:[0],87:[1],88:[2]},$0e={1:1,2:2,3:1,4:2,5:3,6:4,7:5,8:6,9:7,10:8,11:1,12:2,13:3,14:4,15:5,16:6,17:7,18:8,19:1,20:2,21:3,22:4,23:5,24:6,25:7,26:8,27:9,28:10,29:11,30:2,31:3,32:4,33:5,34:6,35:7,36:8,37:1,38:2,39:3,40:4,41:5,42:6,43:7,44:8,45:9,46:10,47:11,48:2,49:3,50:4,51:5,52:6,53:7,54:8,55:1,56:2,57:3,58:4,59:3,60:4,61:5,62:6,63:7,64:8,65:9,66:10,67:11,68:12,69:13,70:14,71:15,72:4,73:5,74:6,75:7,76:8,77:9,78:10,79:11,80:2,81:3,82:4,83:5,84:6,85:7,86:8,87:1,88:2,89:3,90:4,91:3,92:4,93:5,94:6,95:7,96:8,97:9,98:10,99:11,100:12,101:13,102:14,103:15,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:3,114:4,115:5,116:6,117:7,118:8},eN={ALA:[.17,.5,.33],ARG:[.81,1.81,1],ASN:[.42,.85,.43],ASP:[1.23,3.64,2.41],ASH:[-.07,.43,.5],CYS:[-.24,-.02,.22],GLN:[.58,.77,.19],GLU:[2.02,3.63,1.61],GLH:[-.01,.11,.12],GLY:[.01,1.15,1.14],HIS:[.17,.11,-.06],ILE:[-.31,-1.12,-.81],LEU:[-.56,-1.25,-.69],LYS:[.99,2.8,1.81],MET:[-.23,-.67,-.44],PHE:[-1.13,-1.71,-.58],PRO:[.45,.14,-.31],SER:[.13,.46,.33],THR:[.14,.25,.11],TRP:[-1.85,-2.09,-.24],TYR:[-.94,-.71,.23],VAL:[.07,-.46,-.53]},j0e=[0,0,0],$3={HIS:"H",ARG:"R",LYS:"K",ILE:"I",PHE:"F",LEU:"L",TRP:"W",ALA:"A",MET:"M",PRO:"P",CYS:"C",ASN:"N",VAL:"V",GLY:"G",SER:"S",GLN:"Q",TYR:"Y",ASP:"D",GLU:"E",THR:"T",SEC:"U",PYL:"O"},dd=Object.keys($3),hI=["A","C","T","G","U","I"],mI=["DA","DC","DT","DG","DU","DI"],Y0e=["A","G","I","DA","DG","DI"],Df=hI.concat(mI),j3=["SOL","WAT","HOH","H2O","W","DOD","D3O","TIP3","TIP4","SPC"],q0e=["118","119","1AL","1CU","2FK","2HP","2OF","3CO","3MT","3NI","3OF","3P8","4MO","4PU","543","6MO","ACT","AG","AL","ALF","AM","ATH","AU","AU3","AUC","AZI","BA","BCT","BEF","BF4","BO4","BR","BS3","BSY","CA","CAC","CD","CD1","CD3","CD5","CE","CHT","CL","CO","CO3","CO5","CON","CR","CS","CSB","CU","CU1","CU3","CUA","CUZ","CYN","DME","DMI","DSC","DTI","DY","E4N","EDR","EMC","ER3","EU","EU3","F","FE","FE2","FPO","GA","GD3","GEP","HAI","HG","HGC","IN","IOD","IR","IR3","IRI","IUM","K","KO4","LA","LCO","LCP","LI","LU","MAC","MG","MH2","MH3","MLI","MLT","MMC","MN","MN3","MN5","MN6","MO1","MO2","MO3","MO4","MO5","MO6","MOO","MOS","MOW","MW1","MW2","MW3","NA","NA2","NA5","NA6","NAO","NAW","NCO","NET","NH4","NI","NI1","NI2","NI3","NO2","NO3","NRU","O4M","OAA","OC1","OC2","OC3","OC4","OC5","OC6","OC7","OC8","OCL","OCM","OCN","OCO","OF1","OF2","OF3","OH","OS","OS4","OXL","PB","PBM","PD","PDV","PER","PI","PO3","PO4","PR","PT","PT4","PTN","RB","RH3","RHD","RU","SB","SCN","SE4","SEK","SM","SMO","SO3","SO4","SR","T1A","TB","TBA","TCN","TEA","TH","THE","TL","TMA","TRA","UNX","V","VN3","VO4","W","WO5","Y1","YB","YB2","YH","YT3","ZCM","ZN","ZN2","ZN3","ZNO","ZO3","OHX"],X0e=["045","0AT","0BD","0MK","0NZ","0TS","0V4","0XY","0YT","10M","147","149","14T","15L","16G","18T","18Y","1AR","1BW","1GL","1GN","1JB","1LL","1NA","1S3","26M","26Q","26R","26V","26W","26Y","27C","289","291","293","2DG","2F8","2FG","2FL","2FP","2GL","2M4","2M5","32O","34V","3CM","3DO","3DY","3FM","3LR","3MF","3MG","3SA","3ZW","46D","46M","46Z","48Z","4CQ","4GC","4NN","50A","5DI","5GF","5MM","5RP","5SA","5SP","64K","6PG","6SA","7JZ","7SA","A1Q","A2G","AAB","AAL","AAO","ABC","ABD","ABE","ABF","ABL","ACG","ACI","ACR","ACX","ADA","ADG","ADR","AF1","AFD","AFL","AFO","AFP","AFR","AGC","AGH","AGL","AHR","AIG","ALL","ALX","AMU","AOG","AOS","ARA","ARB","ARE","ARI","ASG","ASO","AXP","AXR","B0D","B16","B2G","B4G","B6D","B8D","B9D","BBK","BCD","BDG","BDP","BDR","BEM","BFP","BGC","BGL","BGP","BGS","BHG","BMA","BMX","BNG","BNX","BOG","BRI","BXF","BXP","BXX","BXY","C3X","C4X","C5X","CAP","CBI","CBK","CBS","CDR","CEG","CGF","CHO","CR1","CR6","CRA","CT3","CTO","CTR","CTT","D6G","DAF","DAG","DDA","DDB","DDL","DEL","DFR","DFX","DG0","DGC","DGD","DGM","DGS","DIG","DLF","DLG","DMU","DNO","DOM","DP5","DQQ","DQR","DR2","DR3","DR4","DRI","DSR","DT6","DVC","E4P","E5G","EAG","EBG","EBQ","EGA","EJT","EPG","ERE","ERI","F1P","F1X","F6P","FBP","FCA","FCB","FCT","FDP","FDQ","FFC","FIX","FMO","FRU","FSI","FU4","FUB","FUC","FUD","FUL","FXP","G16","G1P","G2F","G3I","G4D","G4S","G6D","G6P","G6S","GAC","GAD","GAL","GC1","GC4","GCD","GCN","GCO","GCS","GCT","GCU","GCV","GCW","GCX","GE1","GFG","GFP","GIV","GL0","GL2","GL5","GL6","GL7","GL9","GLA","GLB","GLC","GLD","GLF","GLG","GLO","GLP","GLS","GLT","GLW","GMH","GN1","GNX","GP1","GP4","GPH","GPM","GQ1","GQ2","GQ4","GS1","GS4","GSA","GSD","GTE","GTH","GTK","GTR","GTZ","GU0","GU1","GU2","GU3","GU4","GU5","GU6","GU8","GU9","GUF","GUP","GUZ","GYP","GYV","H2P","HDL","HMS","HS2","HSD","HSG","HSH","HSJ","HSQ","HSR","HSU","HSX","HSY","HSZ","IAB","IDG","IDR","IDS","IDT","IDU","IDX","IDY","IMK","IN1","IPT","ISL","KBG","KD2","KDA","KDM","KDO","KFN","KO1","KO2","KTU","L6S","LAG","LAI","LAK","LAO","LAT","LB2","LBT","LCN","LDY","LGC","LGU","LM2","LMT","LMU","LOG","LOX","LPK","LSM","LTM","LVZ","LXB","LXZ","M1F","M3M","M6P","M8C","MA1","MA2","MA3","MAB","MAG","MAL","MAN","MAT","MAV","MAW","MBG","MCU","MDA","MDM","MDP","MFA","MFB","MFU","MG5","MGA","MGL","MLB","MMA","MMN","MN0","MRP","MTT","MUG","MVP","MXY","N1L","N9S","NAA","NAG","NBG","NDG","NED","NG1","NG6","NGA","NGB","NGC","NGE","NGF","NGL","NGS","NGY","NHF","NM6","NM9","NTF","NTO","NTP","NXD","NYT","OPG","OPM","ORP","OX2","P3M","P53","P6P","PA5","PNA","PNG","PNW","PRP","PSJ","PSV","PTQ","QDK","QPS","QV4","R1P","R1X","R2B","R5P","RAA","RAE","RAF","RAM","RAO","RAT","RB5","RBL","RCD","RDP","REL","RER","RF5","RG1","RGG","RHA","RIB","RIP","RNS","RNT","ROB","ROR","RPA","RST","RUB","RUU","RZM","S6P","S7P","SA0","SCR","SDD","SF6","SF9","SG4","SG5","SG6","SG7","SGA","SGC","SGD","SGN","SGS","SHB","SHG","SI3","SIO","SOE","SOL","SSG","SUC","SUP","SUS","T6P","T6T","TAG","TCB","TDG","TGK","TGY","TH1","TIA","TM5","TM6","TM9","TMR","TMX","TOA","TOC","TRE","TYV","UCD","UDC","VG1","X0X","X1X","X2F","X4S","X5S","X6X","XBP","XDN","XDP","XIF","XIM","XLF","XLS","XMM","XUL","XXR","XYP","XYS","YO5","Z3Q","Z6J","Z9M","ZDC","ZDM"],Z0e=["CA","C","N","O","O1","O2","OC1","OC2","OX1","OXT","OT1","OT2","H","H1","H2","H3","HA","HN","BB"],yI=["P","OP1","OP2","HOP2","HOP3","O2'","O3'","O4'","O5'","C1'","C2'","C3'","C4'","C5'","H1'","H2'","H2''","HO2'","H3'","H4'","H5'","H5''","HO3'","HO5'","O2*","O3*","O4*","O5*","C1*","C2*","C3*","C4*","C5*"],mg={1:{trace:"CA",direction1:"C",direction2:["O","OC1","O1","OX1","OXT","OT1","OT2"],backboneStart:"N",backboneEnd:"C"},2:{trace:["C4'","C4*"],direction1:["C1'","C1*"],direction2:["C3'","C3*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},3:{trace:["C3'","C3*"],direction1:["C2'","C2*"],direction2:["O4'","O4*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},4:{trace:["CA","BB"],backboneStart:["CA","BB"],backboneEnd:["CA","BB"]},5:{trace:["C4'","C4*","P"],backboneStart:["C4'","C4*","P"],backboneEnd:["C4'","C4*","P"]},6:{trace:["C3'","C3*","C2'","P"],backboneStart:["C3'","C3*","C2'","P"],backboneEnd:["C3'","C3*","C2'","P"]},0:{}},tN={HD:"H",HS:"H",A:"C",NA:"N",NS:"N",OA:"O",OS:"O",SA:"S",G0:"C",G1:"C",G2:"C",G3:"C",CG0:"C",CG1:"C",CG2:"C",CG3:"C",W:"O"};function Gy(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;default:return 8}}var nN=new Map([[2,Oi(180)],[3,Oi(120)],[4,Oi(109.4721)],[6,Oi(90)]]);function My(e,t){var n=[],i=new P,r=new P;return i.subVectors(t,e),e.eachBondedAtom(function(a){a.number!==1&&(r.subVectors(a,e),n.push(i.angleTo(r)))}),n}function iN(e,t){var n=e.clone(),i=new P;i.subVectors(t,e);var r=[new P,new P],a=0;if(e.eachBondedAtom(function(o){a>1||o.number!==1&&(n.index=o.index,r[a++].subVectors(o,e))}),a===1&&n.eachBondedAtom(function(o){a>1||o.number!==1&&o.index!==e.index&&r[a++].subVectors(o,e)}),a===2){var s=r[0].cross(r[1]);return Math.abs(Math.PI/2-s.angleTo(i))}}function J0e(e,t){var n=e.structure,i=n.atomCount,r=new Int8Array(i),a=new Int8Array(i),s=new Int8Array(i),o=new Int8Array(i);return n.eachAtom(function(c){var A=c.index,l=function(g,b){var y=g.bondToElementCount(1),v=g.formalCharge||0,_=b.assignCharge==="always"||b.assignCharge==="auto"&&v===0,w=b.assignH==="always"||b.assignH==="auto"&&y===0,E=g.bondCount,B=function(D){var k=0;return D.eachBond(function(L){return k+=L.bondOrder}),k}(g),R=function(D){var k=D.structure.getBondProxy(),L=D.number,T=L===8||L===7;if(T&&D.bondCount===4)return!1;var H=!1;return D.eachBond(function(W){if(W.bondOrder>1)H=!0;else if(T){var j=W.getOtherAtom(D);j.eachBond(function(ce){if(ce.bondOrder>1){var ue=j.number;if((ue===15||ue===16)&&ce.getOtherAtom(j).number===8)return;H=!0}},k)}}),H}(g),G=B-E>0,C=0,O=8;switch(g.number){case 1:_&&(E===0?(v=1,O=0):E===1&&(v=0,O=1));break;case 6:_&&(v=0),w&&(C=Math.max(0,4-B-Math.abs(v))),O=Gy(E+C+Math.max(0,-v));break;case 7:if(_)if(w)if(R&&B<4)v=E-y==1&&B-y==2?1:0;else{var I=!1;g.eachBondedAtom(function(D){(D.number===16||D.isMetal())&&(I=!0)}),v=I?0:1}else v=B-3;w&&(C=Math.max(0,3-B+v)),O=Gy(R&&!G?E+C-v:E+C+1-v);break;case 8:_&&(w||(v=B-2),B===1&&g.eachBondedAtom(function(D){D.eachBond(function(k){var L=k.getOtherAtom(D);L.index!==g.index&&L.number===8&&k.bondOrder===2&&(v=-1)})})),w&&(C=Math.max(0,2-B+v)),O=Gy(R&&!G?E+C-v+1:E+C-v+2);break;case 16:_&&(w||(v=B<=3&&!g.bondToElementCount(8)?B-2:0)),w&&B<2&&(C=Math.max(0,2-B+v)),B<=3&&(O=Gy(E+C-v+2));break;case 9:case 17:case 35:case 53:case 85:_&&(v=B-1);break;case 3:case 11:case 19:case 37:case 55:case 87:_&&(v=1-B);break;case 4:case 12:case 20:case 38:case 56:case 88:_&&(v=2-B);break;default:console.warn("Requested charge, protonation for an unhandled element",g.element)}return[v,C,C+y,O]}(c,t),u=l[0],d=l[1],p=l[2],h=l[3];r[A]=u,a[A]=d,s[A]=p,o[A]=h}),{charge:r,implicitH:a,totalH:s,idealGeometry:o}}function Qu(e){if(e["@valenceModel"])return e["@valenceModel"];var t=J0e(e,{assignCharge:"auto",assignH:"auto"});return e["@valenceModel"]=t,t}function rN(e){return e.number===15&&e.bondToElementCount(8)===e.bondCount}var eAe=["ARG","HIS","LYS"],tAe=["GLU","ASP"];function nAe(e,t,n){n===void 0&&(n={});for(var i=z(n.maxIonicDist,Fi.maxIonicDist),r=z(n.maxPiStackingDist,Fi.maxPiStackingDist),a=z(n.maxPiStackingOffset,Fi.maxPiStackingOffset),s=z(n.maxPiStackingAngle,Fi.maxPiStackingAngle),o=z(n.maxCationPiDist,Fi.maxCationPiDist),c=z(n.maxCationPiOffset,Fi.maxCationPiOffset),A=z(n.masterModelIndex,Fi.masterModelIndex),l=Math.max(i+2,r,o),u=r*r,d=o*o,p=t.features,h=t.spatialHash,g=t.contactStore,b=t.featureSet,y=p.types,v=p.centers,_=p.atomSets,w=v.x,E=v.y,B=v.z,R=y.length,G=e.atomStore.x,C=e.atomStore.y,O=e.atomStore.z,I=e.getAtomProxy(),D=e.getAtomProxy(),k=new P,L=new P,T=new P,H=new P,W=new P,j=new P,ce=new P,ue=function(ye,se){k.set(G[ye[0]],C[ye[0]],O[ye[0]]),L.set(G[ye[1]],C[ye[1]],O[ye[1]]),T.set(G[ye[2]],C[ye[2]],O[ye[2]]),H.subVectors(k,L),W.subVectors(k,T),se.crossVectors(H,W)},te=function(ye,se,me){return k.set(w[ye],E[ye],B[ye]),L.set(w[se],E[se],B[se]),k.sub(L).projectOnPlane(me).add(L).distanceTo(L)},re=function(ye,se,me){b.setBits(ye,se),g.addContact(ye,se,me)},ae=function(ye){h.eachWithin(w[ye],E[ye],B[ye],l,function(se,me){if(!(se<=ye||(I.index=_[ye][0],D.index=_[se][0],bf(I,D,A)))){var pe=y[ye],Ee=y[se];if(function(Re,Ge){return Re===2&&Ge===1||Re===1&&Ge===2}(pe,Ee))(function(Re,Ge,Le){for(var K=Re.length,Z=Ge.length,Ce=0;Ce<K;++Ce){I.index=Re[Ce];for(var ve=0;ve<Z;++ve)if(D.index=Ge[ve],I.distanceTo(D)<=Le)return!0}return!1})(_[ye],_[se],i)&&re(ye,se,1);else if(function(Re,Ge){return Re===3&&Ge===3}(pe,Ee)){if(me<=u){ue(_[ye],j),ue(_[se],ce);var ee=57.29578*j.angleTo(ce);Math.min(te(ye,se,ce),te(se,ye,j))<=a&&(ee<=s||ee>=180-s||ee<=s+90&&ee>=90-s)&&re(ye,se,3)}}else if(function(Re,Ge){return Re===3&&Ge===1||Re===1&&Ge===3}(pe,Ee)&&me<=d){var ie=pe===3?[ye,se]:[se,ye],oe=ie[0],he=ie[1];ue(_[oe],j),te(he,oe,j)<=c&&re(oe,he,2)}}})},fe=0;fe<R;++fe)ae(fe)}function aN(e){return e.resname==="HIS"&&e.number==7&&e.isRing()}var iAe=[3,11,19,37,55,12,20,38,56,13,31,49,81,21,50,82,83,51,80],rAe=[17,35,53,85],aAe=[7,8,16],sAe=[6,7,15,16],oAe=Oi(180),cAe=Oi(120);function sN(e,t,n){return!gI(e,t,n)&&(e.modelIndex!==t.modelIndex||e.altloc&&t.altloc&&e.altloc!==t.altloc)}var Fi={maxHydrophobicDist:4,maxHbondDist:3.5,maxHbondSulfurDist:4.1,maxHbondAccAngle:45,maxHbondDonAngle:45,maxHbondAccPlaneAngle:90,maxHbondDonPlaneAngle:30,maxPiStackingDist:5.5,maxPiStackingOffset:2,maxPiStackingAngle:30,maxCationPiDist:6,maxCationPiOffset:2,maxIonicDist:5,maxHalogenBondDist:4,maxHalogenBondAngle:30,maxMetalDist:3,refineSaltBridges:!0,masterModelIndex:-1,lineOfSightDistFactor:1};function gI(e,t,n){return e.modelIndex===n&&t.modelIndex!==n||t.modelIndex===n&&e.modelIndex!==n}function bf(e,t,n){return!gI(e,t,n)&&(e.modelIndex!==t.modelIndex||e.residueIndex===t.residueIndex||e.altloc&&t.altloc&&e.altloc!==t.altloc)}function AAe(e){var t={types:[],groups:[],centers:{x:[],y:[],z:[]},atomSets:[]};return je&&De.time("calculateFeatures"),function(n,i){var r=Qu(n.data).charge,a={};n.eachResidue(function(s){if(eAe.includes(s.resname)){var o=xr(1);s.eachAtom(function(c){c.number===7&&c.isSidechain()&&Ji(o,c)}),er(i,o)}else dd.includes(s.resname)||s.isNucleic()||(s.eachAtom(function(c){var A=!1,l=xr(1);(function(u){var d=0;return u.number===6&&u.bondCount===3&&u.bondToElementCount(7)===3&&u.eachBondedAtom(function(p){p.bondCount-p.bondToElementCount(1)==1&&++d}),d===2})(c)?(l.group=8,A=!0):function(u){var d=0;return u.number===6&&u.bondCount===3&&u.bondToElementCount(7)===2&&u.bondToElementCount(6)===1&&u.eachBondedAtom(function(p){p.bondCount-p.bondToElementCount(1)==1&&++d}),d===2}(c)&&(l.group=9,A=!0),A&&(c.eachBondedAtom(function(u){u.number===7&&(a[u.index]=!0,Ji(l,u))}),er(i,l))}),s.eachAtom(function(c){var A=xr(1);r[c.index]>0&&(a[c.index]||(Ji(A,c),er(i,A)))}))})}(e,t),function(n,i){var r=Qu(n.data).charge,a={};n.eachResidue(function(s){if(tAe.includes(s.resname)){var o=xr(2);s.eachAtom(function(A){A.number===8&&A.isSidechain()&&Ji(o,A)}),er(i,o)}else if(Df.includes(s.resname)){var c=xr(2);s.eachAtom(function(A){rN(A)&&(c.group=6,A.eachBondedAtom(function(l){l.number===8&&Ji(c,l)}),er(i,c))})}else dd.includes(s.resname)||Df.includes(s.resname)||(s.eachAtom(function(A){var l=!1,u=xr(2);(function(d){return d.number===16&&d.bondToElementCount(8)===3})(A)?(u.group=4,l=!0):rN(A)?(u.group=6,l=!0):function(d){return d.number===16&&d.bondToElementCount(8)===4}(A)?(u.group=5,l=!0):function(d){var p=0;return d.number===6&&d.bondToElementCount(8)===2&&d.bondToElementCount(6)===1&&d.eachBondedAtom(function(h){h.number===8&&h.bondCount-h.bondToElementCount(1)==1&&++p}),p===2}(A)&&(u.group=10,l=!0),l&&(A.eachBondedAtom(function(d){d.number===8&&(a[d.index]=!0,Ji(u,d))}),er(i,u))}),s.eachAtom(function(A){var l=xr(2);r[A.index]<0&&(a[A.index]||(Ji(l,A),er(i,l)))}))})}(e,t),function(n,i){var r=n.getAtomProxy();n.eachResidue(function(a){var s=a.getAromaticRings();if(s){var o=a.atomOffset;s.forEach(function(c){var A=xr(3);c.forEach(function(l){r.index=l+o,Ji(A,r)}),er(i,A)})}})}(e,t),function(n,i){var r=Qu(n.data),a=r.charge,s=r.implicitH,o=r.idealGeometry;n.eachAtom(function(c){var A=xr(5),l=c.number;if(l===8)Ji(A,c),er(i,A);else if(l===7){if(aN(c))Ji(A,c),er(i,A);else if(a[c.index]<1){var u=c.bondCount+s[c.index],d=o[c.index];(d===4&&u<4||d===3&&u<3||d===2&&u<2)&&(Ji(A,c),er(i,A))}}else l===16&&(c.resname!=="CYS"&&c.resname!=="MET"&&c.formalCharge!==-1||(Ji(A,c),er(i,A)))})}(e,t),function(n,i){var r=Qu(n.data).totalH;n.eachAtom(function(a){var s=xr(4),o=a.number;(aN(a)||r[a.index]>0&&(o===7||o===8||o===16))&&(Ji(s,a),er(i,s))})}(e,t),function(n,i){var r=Qu(n.data).totalH;n.eachAtom(function(a){if(a.number===6&&r[a.index]>0&&(a.bondToElementCount(7)>0||a.bondToElementCount(8)>0||function(o){if(!o.isAromatic())return!1;var c=o.residueType.getRings();if(!c)return!1;var A=!1;return c.rings.forEach(function(l){A||l.some(function(u){return o.index-o.residueAtomOffset===u})&&(A=l.some(function(u){var d=o.residueType.atomTypeIdList[u],p=o.atomMap.get(d).number;return p===7||p===8}))}),A}(a))){var s=xr(9);Ji(s,a),er(i,s)}})}(e,t),function(n,i){n.eachAtom(function(r){var a=!1,s=!1,o=dd.includes(r.resname),c=Df.includes(r.resname);if(o||c?o?r.number===8?(["ASP","GLU","SER","THR","TYR","ASN","GLN"].includes(r.resname)&&r.isSidechain()||r.isBackbone())&&(a=!0,s=!0):r.number===16&&r.resname==="CYS"?(a=!0,s=!0):r.number===7&&r.resname==="HIS"&&r.isSidechain()&&(a=!0):c&&(r.number===8&&r.isBackbone()?(a=!0,s=!0):["N3","N4","N7"].includes(r.atomname)?a=!0:["O2","O4","O6"].includes(r.atomname)&&(a=!0,s=!0)):r.isHalogen()||r.number===8||r.number===16?(a=!0,s=!0):r.number===7&&(a=!0),a){var A=xr(11);Ji(A,r),er(i,A)}if(s){var l=xr(10);Ji(l,r),er(i,l)}})}(e,t),function(n,i){n.eachAtom(function(r){if(r.isTransitionMetal()||r.number===30||r.number===48){var a=xr(12);Ji(a,r),er(i,a)}else if(iAe.includes(r.number)){var s=xr(13);Ji(s,r),er(i,s)}})}(e,t),function(n,i){n.eachAtom(function(r){var a=xr(8),s=!1;r.number===6?(s=!0,r.eachBondedAtom(function(o){var c=o.number;c!==6&&c!==1&&(s=!1)})):r.number===9&&(s=!0),s&&(Ji(a,r),er(i,a))})}(e,t),function(n,i){n.eachAtom(function(r){if(aAe.includes(r.number)){var a=!1;if(r.eachBondedAtom(function(o){sAe.includes(o.number)&&(a=!0)}),a){var s=xr(7);Ji(s,r),er(i,s)}}})}(e,t),function(n,i){n.eachAtom(function(r){if(rAe.includes(r.number)&&r.bondToElementCount(6)===1){var a=xr(6);Ji(a,r),er(i,a)}})}(e,t),je&&De.timeEnd("calculateFeatures"),t}function lAe(e,t){t===void 0&&(t=Fi);var n=function(r){var a=r.types,s=r.centers;return{features:r,spatialHash:new Pl(s),contactStore:new O0e,featureSet:new cn(a.length,!1)}}(AAe(e));je&&De.time("calculateContacts"),nAe(e,n,t),function(r,a,s){s===void 0&&(s={});for(var o=z(s.maxHbondDist,Fi.maxHbondDist),c=z(s.maxHbondSulfurDist,Fi.maxHbondSulfurDist),A=Oi(z(s.maxHbondAccAngle,Fi.maxHbondAccAngle)),l=Oi(z(s.maxHbondDonAngle,Fi.maxHbondDonAngle)),u=Oi(z(s.maxHbondAccPlaneAngle,Fi.maxHbondAccPlaneAngle)),d=Oi(z(s.maxHbondDonPlaneAngle,Fi.maxHbondDonPlaneAngle)),p=z(s.masterModelIndex,Fi.masterModelIndex),h=Math.max(o,c),g=o*o,b=a.features,y=a.spatialHash,v=a.contactStore,_=a.featureSet,w=b.types,E=b.centers,B=b.atomSets,R=E.x,G=E.y,C=E.z,O=w.length,I=Qu(r.data).idealGeometry,D=r.getAtomProxy(),k=r.getAtomProxy(),L=function(H){y.eachWithin(R[H],G[H],C[H],h,function(W,j){if(!(W<=H)){var ce=w[H],ue=w[W],te=function(Re,Ge){return Re===9&&Ge===5||Re===5&&Ge===9}(ce,ue);if(te||function(Re,Ge){return Re===5&&Ge===4||Re===4&&Ge===5}(ce,ue)){var re=ue===5?[H,W]:[W,H],ae=re[0],fe=re[1];if(D.index=B[ae][0],k.index=B[fe][0],k.index!==D.index&&!bf(D,k,p)&&!(D.number!==16&&k.number!==16&&j>g||D.connectedTo(k))){var ye=My(D,k),se=nN.get(I[D.index])||Oi(120);if(!ye.some(function(Re){return Math.abs(se-Re)>l})){if(I[D.index]===3){var me=iN(D,k);if(me!==void 0&&me>d)return}var pe=My(k,D),Ee=nN.get(I[k.index])||Oi(120);if(!pe.some(function(Re){return Ee-Re>A})){if(I[k.index]===3){var ee=iN(k,D);if(ee!==void 0&&ee>u)return}_.setBits(ae,fe);var ie,oe,he=te?8:function(Re,Ge){return Re.isWater()&&Ge.isWater()}(ie=D,oe=k)?9:function(Re,Ge){return Re.isBackbone()&&Ge.isBackbone()}(ie,oe)?10:4;v.addContact(ae,fe,he)}}}}}})},T=0;T<O;++T)L(T)}(e,n,t),function(r,a,s){s===void 0&&(s={});for(var o=z(s.maxMetalDist,Fi.maxMetalDist),c=z(s.masterModelIndex,Fi.masterModelIndex),A=a.features,l=a.spatialHash,u=a.contactStore,d=a.featureSet,p=A.types,h=A.centers,g=A.atomSets,b=h.x,y=h.y,v=h.z,_=p.length,w=r.getAtomProxy(),E=r.getAtomProxy(),B=function(G){l.eachWithin(b[G],y[G],v[G],o,function(C,O){if(!(C<=G||(w.index=g[G][0],E.index=g[C][0],bf(w,E,c)))){var I=w.isMetal(),D=E.isMetal();if(I||D){var k=I?[p[G],p[C]]:[p[C],p[G]];L=k[0],T=k[1],(L===12?T===11||T===12:L===13?T===10:void 0)&&(d.setBits(G,C),u.addContact(G,C,7))}}var L,T})},R=0;R<_;++R)B(R)}(e,n,t),function(r,a,s){s===void 0&&(s={});for(var o=z(s.maxHydrophobicDist,Fi.maxHydrophobicDist),c=z(s.masterModelIndex,Fi.masterModelIndex),A=a.features,l=a.spatialHash,u=a.contactStore,d=a.featureSet,p=A.types,h=A.centers,g=A.atomSets,b=h.x,y=h.y,v=h.z,_=p.length,w=r.getAtomProxy(),E=r.getAtomProxy(),B=function(G){l.eachWithin(b[G],y[G],v[G],o,function(C,O){var I,D;C<=G||(w.index=g[G][0],E.index=g[C][0],bf(w,E,c)||w.number===9&&E.number===9||w.connectedTo(E)||(I=p[G],D=p[C],I===8&&D===8&&(d.setBits(G,C),u.addContact(G,C,6))))})},R=0;R<_;++R)B(R)}(e,n,t),function(r,a,s){s===void 0&&(s={});for(var o=z(s.maxHalogenBondDist,Fi.maxHalogenBondDist),c=Oi(z(s.maxHalogenBondAngle,Fi.maxHalogenBondAngle)),A=z(s.masterModelIndex,Fi.masterModelIndex),l=a.features,u=a.spatialHash,d=a.contactStore,p=a.featureSet,h=l.types,g=l.centers,b=l.atomSets,y=g.x,v=g.y,_=g.z,w=h.length,E=r.getAtomProxy(),B=r.getAtomProxy(),R=function(C){u.eachWithin(y[C],v[C],_[C],o,function(O,I){if(!(O<=C)&&(E.index=b[C][0],B.index=b[O][0],!bf(E,B,A)&&(D=h[C],k=h[O],D===7&&k===6||D===6&&k===7))){var D,k,L=h[C]===6?[E,B]:[B,E],T=L[0],H=L[1],W=My(T,H);if(W.length===1&&!(oAe-W[0]>c)){var j=My(H,T);j.length!==0&&(j.some(function(ce){return cAe-ce>c})||(p.setBits(C,O),d.addContact(C,O,5)))}}})},G=0;G<w;++G)R(G)}(e,n,t);var i=function(r){var a=r.contactStore,s=AI({nodeArray1:a.index1,nodeArray2:a.index2,edgeCount:a.count,nodeCount:r.featureSet.length}),o=new cn(r.contactStore.count,!0);return Object.assign({adjacencyList:s,contactSet:o},r)}(n);return function(r,a,s){s===void 0&&(s={}),je&&De.time("refineLineOfSight");var o=z(s.lineOfSightDistFactor,Fi.lineOfSightDistFactor),c=z(s.masterModelIndex,Fi.masterModelIndex),A=r.spatialHash,l=a.contactSet,u=a.contactStore,d=a.features,p=u.index1,h=u.index2,g=d.centers,b=d.atomSets,y=g.x,v=g.y,_=g.z,w=r.getAtomProxy(),E=r.getAtomProxy(),B=r.getAtomProxy(),R=new P,G=new P,C=3*o,O=o*o;l.forEach(function(I){R.set(y[p[I]],v[p[I]],_[p[I]]),G.set(y[h[I]],v[h[I]],_[h[I]]);var D=(R.x+G.x)/2,k=(R.y+G.y)/2,L=(R.z+G.z)/2,T=b[p[I]],H=b[h[I]];w.index=T[0],E.index=H[0],A.eachWithin(D,k,L,C,function(W,j){B.index=W,B.number!==1&&B.vdw*B.vdw*O>j&&!sN(w,B,c)&&!sN(E,B,c)&&!T.includes(W)&&!H.includes(W)&&R.distanceToSquared(B)>1&&G.distanceToSquared(B)>1&&(l.clear(I),je&&De.log("removing",w.qualifiedName(),E.qualifiedName(),"because",B.qualifiedName()))})}),je&&De.timeEnd("refineLineOfSight")}(e,i,t),function(r,a){var s=a.contactSet,o=a.contactStore,c=a.features,A=o.type,l=o.index1,u=o.index2,d=c.atomSets,p=r.getAtomProxy(),h=r.getAtomProxy(),g={},b=function(y,v,_){var w=g[_]||[1/0,-1],E=w[0],B=w[1];y<E?(B!==-1&&s.clear(B),g[_]=[y,v]):s.clear(v)};s.forEach(function(y){if(A[y]===6){p.index=d[l[y]][0],h.index=d[u[y]][0];var v=p.distanceTo(h);b(v,y,p.index+"|"+h.residueIndex),b(v,y,h.index+"|"+p.residueIndex)}})}(e,i),t.refineSaltBridges&&function(r,a){var s=a.contactSet,o=a.contactStore,c=a.features,A=o.type,l=o.index1,u=o.index2,d=c.atomSets,p={},h=function(g,b){p[g]||(p[g]=[]),p[g].push(b)};s.forEach(function(g){A[g]===1&&(d[l[g]].forEach(function(b){return h(b,g)}),d[u[g]].forEach(function(b){return h(b,g)}))}),s.forEach(function(g){if(function(w){return w===4||w===9||w===10}(A[g])){var b=p[d[l[g]][0]],y=p[d[u[g]][0]];if(b&&y){for(var v=b.length,_=0;_<v;++_)if(y.includes(b[_]))return void s.clear(g)}}})}(0,i),function(r,a){var s=a.contactSet,o=a.contactStore,c=a.features,A=o.type,l=o.index1,u=o.index2,d=c.atomSets,p={},h=function(g,b){p[g]||(p[g]=[]),p[g].push(b)};s.forEach(function(g){A[g]===3&&(d[l[g]].forEach(function(b){return h(b,g)}),d[u[g]].forEach(function(b){return h(b,g)}))}),s.forEach(function(g){if(A[g]===6||A[g]===2){var b=p[d[l[g]][0]],y=p[d[u[g]][0]];if(b&&y){for(var v=b.length,_=0;_<v;++_)if(y.includes(b[_]))return void s.clear(g)}}})}(0,i),function(r,a){var s=a.contactSet,o=a.contactStore,c=a.features,A=o.type,l=o.index1,u=o.index2,d=c.atomSets,p={},h=function(g,b){p[g]||(p[g]=[]),p[g].push(b)};s.forEach(function(g){A[g]===1&&(d[l[g]].forEach(function(b){return h(b,g)}),d[u[g]].forEach(function(b){return h(b,g)}))}),s.forEach(function(g){if(A[g]===7){var b=p[d[l[g]][0]],y=p[d[u[g]][0]];if(b&&y){for(var v=b.length,_=0;_<v;++_)if(y.includes(b[_]))return void s.clear(b[_])}}})}(0,i),je&&De.timeEnd("calculateContacts"),i}function uAe(e){switch(e){case 4:case 9:case 10:return"hydrogen bond";case 6:return"hydrophobic contact";case 5:return"halogen bond";case 1:return"ionic interaction";case 7:return"metal coordination";case 2:return"cation-pi interaction";case 3:return"pi-pi stacking";case 8:return"weak hydrogen bond";default:return"unknown contact"}}var dAe={hydrogenBond:!0,hydrophobic:!0,halogenBond:!0,ionicInteraction:!0,metalCoordination:!0,cationPi:!0,piStacking:!0,weakHydrogenBond:!0,waterHydrogenBond:!0,backboneHydrogenBond:!0,radius:1,filterSele:""},Uc=new pt;function pAe(e,t,n){var i=As(n,dAe),r=[];i.hydrogenBond&&r.push(4),i.hydrophobic&&r.push(6),i.halogenBond&&r.push(5),i.ionicInteraction&&r.push(1),i.metalCoordination&&r.push(7),i.cationPi&&r.push(2),i.piStacking&&r.push(3),i.weakHydrogenBond&&r.push(8),i.waterHydrogenBond&&r.push(9),i.backboneHydrogenBond&&r.push(10);var a,s=e.features,o=e.contactSet,c=e.contactStore,A=s.centers,l=s.atomSets,u=A.x,d=A.y,p=A.z,h=c.index1,g=c.index2,b=c.type,y=[],v=[],_=[],w=[],E=[];return i.filterSele&&(a=Array.isArray(i.filterSele)?i.filterSele.map(function(B){return t.getAtomSet(new si(B))}):t.getAtomSet(new si(i.filterSele))),o.forEach(function(B){var R=b[B];if(r.includes(R)){if(a){var G=l[h[B]][0],C=l[g[B]][0];if(Array.isArray(a)){if(!(a[0].isSet(G)&&a[1].isSet(C)||a[1].isSet(G)&&a[0].isSet(C)))return}else if(!a.isSet(G)&&!a.isSet(C))return}var O=h[B],I=g[B];y.push(u[O],d[O],p[O]),v.push(u[I],d[I],p[I]),_.push.apply(_,function(D){switch(D){case 4:case 9:case 10:return Uc.setHex(2851770).toArray();case 6:return Uc.setHex(8421504).toArray();case 5:return Uc.setHex(4259775).toArray();case 1:return Uc.setHex(15779860).toArray();case 7:return Uc.setHex(9191577).toArray();case 2:return Uc.setHex(16744448).toArray();case 3:return Uc.setHex(9220966).toArray();case 8:return Uc.setHex(12967404).toArray();default:return Uc.setHex(13421772).toArray()}}(R)),w.push(i.radius),E.push(B)}}),{position1:new Float32Array(y),position2:new Float32Array(v),color:new Float32Array(_),color2:new Float32Array(_),radius:new Float32Array(w),picking:new yAe(E,e,t)}}var Zr=function(e){this.array=e},Xw={type:{configurable:!0},data:{configurable:!0}};Xw.type.get=function(){return""},Xw.data.get=function(){return{}},Zr.prototype.getIndex=function(e){return this.array?this.array[e]:e},Zr.prototype.getObject=function(e){return{}},Zr.prototype._applyTransformations=function(e,t,n){return t&&e.applyMatrix4(t.matrix),n&&e.applyMatrix4(n.matrix),e},Zr.prototype._getPosition=function(e){return new P},Zr.prototype.getPosition=function(e,t,n){return this._applyTransformations(this._getPosition(e),t,n)},Object.defineProperties(Zr.prototype,Xw);var $s=function(e){function t(i){e.call(this),this.shape=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0},data:{configurable:!0},type:{configurable:!0}};return n.primitive.get=function(){},n.data.get=function(){return this.shape},n.type.get=function(){return this.primitive.type},t.prototype.getObject=function(i){return this.primitive.objectFromShape(this.shape,this.getIndex(i))},t.prototype._getPosition=function(i){return this.primitive.positionFromShape(this.shape,this.getIndex(i))},Object.defineProperties(t.prototype,n),t}(Zr),fAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return Ll},Object.defineProperties(t.prototype,n),t}($s),hAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return D2},Object.defineProperties(t.prototype,n),t}($s),Ol=function(e){function t(i,r){e.call(this,i),this.structure=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"atom"},n.data.get=function(){return this.structure},t.prototype.getObject=function(i){return this.structure.getAtomProxy(this.getIndex(i))},t.prototype._getPosition=function(i){return new P().copy(this.getObject(i))},Object.defineProperties(t.prototype,n),t}(Zr),mAe=function(e){function t(i){e.call(this),this.axes=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"axes"},n.data.get=function(){return this.axes},t.prototype.getObject=function(){return{axes:this.axes}},t.prototype._getPosition=function(){return this.axes.center.clone()},Object.defineProperties(t.prototype,n),t}(Zr),bI=function(e){function t(i,r,a){e.call(this,i),this.structure=r,this.bondStore=a||r.bondStore}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"bond"},n.data.get=function(){return this.structure},t.prototype.getObject=function(i){var r=this.structure.getBondProxy(this.getIndex(i));return r.bondStore=this.bondStore,r},t.prototype._getPosition=function(i){var r=this.getObject(i);return new P().copy(r.atom1).add(r.atom2).multiplyScalar(.5)},Object.defineProperties(t.prototype,n),t}(Zr),yAe=function(e){function t(i,r,a){e.call(this,i),this.contacts=r,this.structure=a}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"contact"},n.data.get=function(){return this.contacts},t.prototype.getObject=function(i){var r=this.getIndex(i),a=this.contacts,s=a.features,o=a.contactStore,c=s.centers,A=s.atomSets,l=c.x,u=c.y,d=c.z,p=o.index1,h=o.index2,g=o.type,b=p[r],y=h[r];return{center1:new P(l[b],u[b],d[b]),center2:new P(l[y],u[y],d[y]),atom1:this.structure.getAtomProxy(A[b][0]),atom2:this.structure.getAtomProxy(A[y][0]),type:uAe(g[r])}},t.prototype._getPosition=function(i){var r=this.getObject(i),a=r.center1,s=r.center2;return new P().addVectors(a,s).multiplyScalar(.5)},Object.defineProperties(t.prototype,n),t}(Zr),gAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return k2},Object.defineProperties(t.prototype,n),t}($s),bAe=function(e){function t(i,r,a){e.call(this,i),this.validation=r,this.structure=a}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"clash"},n.data.get=function(){return this.validation},t.prototype.getObject=function(i){var r=this.validation,a=this.getIndex(i);return{validation:r,index:a,clash:r.clashArray[a]}},t.prototype._getAtomProxyFromSele=function(i){var r=new si(i),a=this.structure.getAtomIndices(r)[0];return this.structure.getAtomProxy(a)},t.prototype._getPosition=function(i){var r=this.getObject(i).clash,a=this._getAtomProxyFromSele(r.sele1),s=this._getAtomProxyFromSele(r.sele2);return new P().copy(a).add(s).multiplyScalar(.5)},Object.defineProperties(t.prototype,n),t}(Zr),vAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"distance"},Object.defineProperties(t.prototype,n),t}(bI),wAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return $d},Object.defineProperties(t.prototype,n),t}($s),EAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return P2},Object.defineProperties(t.prototype,n),t}($s),_Ae=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return Il},Object.defineProperties(t.prototype,n),t}($s),xAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"ignore"},Object.defineProperties(t.prototype,n),t}(Zr),BAe=function(e){function t(i,r){e.call(this,i),this.mesh=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"mesh"},t.prototype.getObject=function(){var i=this.mesh;return{shape:this.shape,name:i.name,serial:i.serial}},t.prototype._getPosition=function(){return this.__position||(this.__position=W_(this.mesh.position)),this.__position},Object.defineProperties(t.prototype,n),t}($s),RAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return Wd},Object.defineProperties(t.prototype,n),t}($s),CAe=function(e){function t(i,r){e.call(this,i),this.surface=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"surface"},n.data.get=function(){return this.surface},t.prototype.getObject=function(i){return{surface:this.surface,index:this.getIndex(i)}},t.prototype._getPosition=function(){return this.surface.center.clone()},Object.defineProperties(t.prototype,n),t}(Zr),NAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return U2},Object.defineProperties(t.prototype,n),t}($s),SAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return O2},Object.defineProperties(t.prototype,n),t}($s),GAe=function(e){function t(i,r){e.call(this),this.unitcell=i,this.structure=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"unitcell"},n.data.get=function(){return this.unitcell},t.prototype.getObject=function(){return{unitcell:this.unitcell,structure:this.structure}},t.prototype._getPosition=function(){return this.unitcell.getCenter(this.structure)},Object.defineProperties(t.prototype,n),t}(Zr),vI=function(e){function t(i,r){e.call(this,i),this.volume=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"volume"},n.data.get=function(){return this.volume},t.prototype.getObject=function(i){var r=this.volume,a=this.getIndex(i);return{volume:r,index:a,value:r.data[a]}},t.prototype._getPosition=function(i){var r=this.volume.position,a=this.getIndex(i);return new P(r[3*a],r[3*a+1],r[3*a+2])},Object.defineProperties(t.prototype,n),t}(Zr),MAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"slice"},Object.defineProperties(t.prototype,n),t}(vI),TAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return Hh},Object.defineProperties(t.prototype,n),t}($s),FAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return Qh},Object.defineProperties(t.prototype,n),t}($s);function wI(){return new Uint32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0])}function EI(){return new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1])}function I7(e,t,n,i,r){var a,s,o,c,A,l,u,d=[[0,4,4,4,2,0,0,0,2,2,0,0],[4,0,4,4,0,8,0,0,0,8,8,0],[4,4,0,4,0,0,8,0,0,0,8,8],[4,4,4,0,0,0,0,1,1,0,0,1],[2,0,0,0,0,8,8,8,2,2,0,0],[0,8,0,0,8,0,8,8,0,8,8,0],[0,0,8,0,8,8,0,8,0,0,8,8],[0,0,0,1,8,8,8,0,1,0,0,1],[2,0,0,1,2,0,0,1,0,2,0,1],[2,8,0,0,2,8,0,0,2,0,8,0],[0,8,8,0,0,8,8,0,0,8,0,8],[0,0,8,1,0,0,8,1,1,0,8,0]],p=0,h=!1,g=!1,b=!1,y=!1,v=-1,_=t*n*i,w=t,E=t*n,B=new Int32Array(12),R=[],G=[],C=[],O=[],I=wI(),D=EI();function k(te,re,ae){return te+(re-te)*ae}function L(te,re,ae){return E*(ae=(ae+u)%i)+w*(re=(re+l)%n)+(te=(te+A)%t)}function T(te,re,ae,fe,ye,se,me){var pe=3*te;if(s[pe]<0){var Ee=(p-se)/(me-se),ee=a,ie=3*o;if(R[ie]=ae+Ee,R[ie+1]=fe,R[ie+2]=ye,!h){var oe=3*te;G[ie]=v*k(ee[oe],ee[oe+3],Ee),G[ie+1]=v*k(ee[oe+1],ee[oe+4],Ee),G[ie+2]=v*k(ee[oe+2],ee[oe+5],Ee)}r&&(O[o]=r[te+Math.round(Ee)]),s[pe]=o,B[re]=o,o+=1}else B[re]=s[pe]}function H(te,re,ae,fe,ye,se,me){var pe=3*te+1;if(s[pe]<0){var Ee=(p-se)/(me-se),ee=a,ie=3*o;if(R[ie]=ae,R[ie+1]=fe+Ee,R[ie+2]=ye,!h){var oe=3*te,he=oe+3*w;G[ie]=v*k(ee[oe],ee[he],Ee),G[ie+1]=v*k(ee[oe+1],ee[he+1],Ee),G[ie+2]=v*k(ee[oe+2],ee[he+2],Ee)}r&&(O[o]=r[te+Math.round(Ee)*w]),s[pe]=o,B[re]=o,o+=1}else B[re]=s[pe]}function W(te,re,ae,fe,ye,se,me){var pe=3*te+2;if(s[pe]<0){var Ee=(p-se)/(me-se),ee=a,ie=3*o;if(R[ie]=ae,R[ie+1]=fe,R[ie+2]=ye+Ee,!h){var oe=3*te,he=oe+3*E;G[ie]=v*k(ee[oe],ee[he],Ee),G[ie+1]=v*k(ee[oe+1],ee[he+1],Ee),G[ie+2]=v*k(ee[oe+2],ee[he+2],Ee)}r&&(O[o]=r[te+Math.round(Ee)*E]),s[pe]=o,B[re]=o,o+=1}else B[re]=s[pe]}function j(te){var re=3*te;a[re]===0&&(a[re]=e[(te-1+_)%_]-e[(te+1)%_],a[re+1]=e[(te-w+_)%_]-e[(te+w)%_],a[re+2]=e[(te-E+_)%_]-e[(te+E)%_])}function ce(te,re,ae,fe,ye){var se,me,pe,Ee,ee,ie,oe;b?(fe=L(te,re,ae),se=L(te+1,re,ae),me=L(te,re+1,ae),pe=L(te,re,ae+1),Ee=L(te+1,re+1,ae),ee=L(te+1,re,ae+1),ie=L(te,re+1,ae+1),oe=L(te+1,re+1,ae+1)):(se=fe+1,Ee=(me=fe+w)+1,ee=(pe=fe+E)+1,oe=(ie=me+E)+1);var he=0,Re=e[fe],Ge=e[se],Le=e[me],K=e[Ee],Z=e[pe],Ce=e[ee],ve=e[ie],de=e[oe];Re<p&&(he|=1),Ge<p&&(he|=2),Le<p&&(he|=8),K<p&&(he|=4),Z<p&&(he|=16),Ce<p&&(he|=32),ve<p&&(he|=128),de<p&&(he|=64);var be=I[he];if(be===0)return 0;var Pe=te+1,Ve=re+1,Fe=ae+1;1&be&&(h||(j(fe),j(se)),T(fe,0,te,re,ae,Re,Ge)),2&be&&(h||(j(se),j(Ee)),H(se,1,Pe,re,ae,Ge,K)),4&be&&(h||(j(me),j(Ee)),T(me,2,te,Ve,ae,Le,K)),8&be&&(h||(j(fe),j(me)),H(fe,3,te,re,ae,Re,Le)),16&be&&(h||(j(pe),j(ee)),T(pe,4,te,re,Fe,Z,Ce)),32&be&&(h||(j(ee),j(oe)),H(ee,5,Pe,re,Fe,Ce,de)),64&be&&(h||(j(ie),j(oe)),T(ie,6,te,Ve,Fe,ve,de)),128&be&&(h||(j(pe),j(ie)),H(pe,7,te,re,Fe,Z,ve)),256&be&&(h||(j(fe),j(pe)),W(fe,8,te,re,ae,Re,Z)),512&be&&(h||(j(se),j(ee)),W(se,9,Pe,re,ae,Ge,Ce)),1024&be&&(h||(j(Ee),j(oe)),W(Ee,10,Pe,Ve,ae,K,de)),2048&be&&(h||(j(me),j(ie)),W(me,11,te,Ve,ae,Le,ve));for(var He,ke,qe,Ye=he<<4,We=0;D[Ye+We]!==-1;)He=D[Ye+We],ke=D[Ye+We+1],qe=D[Ye+We+2],g?(d[He][ke]&ye&&(C[c++]=B[He],C[c++]=B[ke]),d[ke][qe]&ye&&(C[c++]=B[ke],C[c++]=B[qe]),d[He][qe]&ye&&(C[c++]=B[He],C[c++]=B[qe])):(C[c++]=B[y?He:ke],C[c++]=B[y?ke:He],C[c++]=B[qe]),We+=3}function ue(te,re,ae,fe,ye,se){var me,pe,Ee,ee,ie,oe,he,Re,Ge,Le,K,Z,Ce;if(te=te!==void 0?te:0,re=re!==void 0?re:0,ae=ae!==void 0?ae:0,fe=fe!==void 0?fe:t-1,ye=ye!==void 0?ye:n-1,se=se!==void 0?se:i-1,b||(h?(te=Math.max(0,te),re=Math.max(0,re),ae=Math.max(0,ae),fe=Math.min(t-1,fe),ye=Math.min(n-1,ye),se=Math.min(i-1,se)):(te=Math.max(1,te),re=Math.max(1,re),ae=Math.max(1,ae),fe=Math.min(t-2,fe),ye=Math.min(n-2,ye),se=Math.min(i-2,se))),b)for(Re=te-2,Ge=re-2,K=fe+2,Z=ye+2,Ce=se+2,ie=Le=ae-2;ie<Ce;++ie)for(ee=Ge;ee<Z;++ee)for(Ee=Re;Ee<K;++Ee)pe=3*L(Ee,ee,ie),s[pe]=-1,s[pe+1]=-1,s[pe+2]=-1;else for(Re=Math.max(0,te-2),Ge=Math.max(0,re-2),Le=Math.max(0,ae-2),K=Math.min(t,fe+2),Z=Math.min(n,ye+2),Ce=Math.min(i,se+2),ie=Le;ie<Ce;++ie)for(he=E*ie,ee=Ge;ee<Z;++ee)for(oe=he+w*ee,Ee=Re;Ee<K;++Ee)s[me=3*(oe+Ee)]=-1,s[me+1]=-1,s[me+2]=-1;if(!b){var ve,de=te,be=re,Pe=ae,Ve=fe,Fe=ye,He=se;for(ve=!1,ie=ae;ie<se;++ie){for(ee=re;ee<ye;++ee){for(Ee=te;Ee<fe;++Ee)if(e[me=t*n*ie+t*ee+Ee]>=p){Pe=ie,ve=!0;break}if(ve)break}if(ve)break}for(ve=!1,ee=re;ee<ye;++ee){for(ie=Pe;ie<se;++ie){for(Ee=te;Ee<fe;++Ee)if(e[me=t*n*ie+t*ee+Ee]>=p){be=ee,ve=!0;break}if(ve)break}if(ve)break}for(ve=!1,Ee=te;Ee<fe;++Ee){for(ee=be;ee<ye;++ee){for(ie=Pe;ie<se;++ie)if(e[me=t*n*ie+t*ee+Ee]>=p){de=Ee,ve=!0;break}if(ve)break}if(ve)break}for(ve=!1,ie=se;ie>=ae;--ie){for(ee=ye;ee>=re;--ee){for(Ee=fe;Ee>=te;--Ee)if(e[me=t*n*ie+t*ee+Ee]>=p){He=ie,ve=!0;break}if(ve)break}if(ve)break}for(ve=!1,ee=ye;ee>=re;--ee){for(ie=He;ie>=ae;--ie){for(Ee=fe;Ee>=te;--Ee)if(e[me=t*n*ie+t*ee+Ee]>=p){Fe=ee,ve=!0;break}if(ve)break}if(ve)break}for(ve=!1,Ee=fe;Ee>=te;--Ee){for(ee=Fe;ee>=re;--ee){for(ie=He;ie>=ae;--ie)if(e[me=t*n*ie+t*ee+Ee]>=p){Ve=Ee,ve=!0;break}if(ve)break}if(ve)break}h?(te=Math.max(0,de-1),re=Math.max(0,be-1),ae=Math.max(0,Pe-1),fe=Math.min(t-1,Ve+1),ye=Math.min(n-1,Fe+1),se=Math.min(i-1,He+1)):(te=Math.max(1,de-1),re=Math.max(1,be-1),ae=Math.max(1,Pe-1),fe=Math.min(t-2,Ve+1),ye=Math.min(n-2,Fe+1),se=Math.min(i-2,He+1))}var ke=15;for(ie=ae;ie<se;++ie,ke&=-5)for(he=E*ie,ke|=2,ee=re;ee<ye;++ee,ke&=-3)for(oe=he+w*ee,ke|=1,Ee=te;Ee<fe;++Ee,ke&=-2)ce(Ee,ee,ie,me=oe+Ee,ke)}this.triangulate=function(te,re,ae,fe,ye){y=(p=te)<0,g=fe,b=ye,(h=re||g)||(v=p>0?-1:1,a||(a=new Float32Array(3*_)));var se=3*_;if(s&&s.length===se||(s=new Int32Array(se)),o=0,c=0,ae!==void 0){var me=ae[0].map(Math.round),pe=ae[1].map(Math.round);A=t*Math.ceil(Math.abs(me[0])/t),l=n*Math.ceil(Math.abs(me[1])/n),u=i*Math.ceil(Math.abs(me[2])/i),ue(me[0],me[1],me[2],pe[0],pe[1],pe[2])}else A=l=u=0,ue();return R.length=3*o,h||(G.length=3*o),C.length=c,r&&(O.length=o),{position:new Float32Array(R),normal:h?void 0:new Float32Array(G),index:cc(C,R.length/3),atomindex:r?new Int32Array(O):void 0,contour:g}}}Rs.add("arrow",hAe),Rs.add("box",_Ae),Rs.add("cone",gAe),Rs.add("cylinder",fAe),Rs.add("ellipsoid",wAe),Rs.add("octahedron",EAe),Rs.add("sphere",RAe),Rs.add("tetrahedron",NAe),Rs.add("torus",SAe),Rs.add("point",TAe),Rs.add("wideline",FAe),Object.assign(I7,{__deps:[wI,EI,cc]});var Yn=function(e,t){this.cols=e,this.rows=t,this.size=this.cols*this.rows,this.data=new Float32Array(this.size)};function go(e,t){for(var n=0,i=0,r=t.rows,a=t.cols,s=0,o=0,c=0,A=t.data,l=e.data;n<r;o+=1,s+=a,n++)for(c=o,i=0;i<a;c+=r,i++)l[c]=A[s+i]}function yg(e,t,n){for(var i=0,r=0,a=0,s=0,o=0,c=0,A=0,l=t.cols,u=t.rows,d=n.rows,p=t.data,h=n.data,g=e.data,b=0;i<u;s+=l,i++)for(c=0,r=0;r<d;A++,r++){for(o=s,b=0,a=0;a<l;o++,c++,a++)b+=p[o]*h[c];g[A]=b}}function Zw(e,t,n){var i=e.data,r=t.data,a=n.data,s=r[0],o=r[1],c=r[2],A=r[3],l=r[4],u=r[5],d=r[6],p=r[7],h=r[8],g=a[0],b=a[1],y=a[2],v=a[3],_=a[4],w=a[5],E=a[6],B=a[7],R=a[8];i[0]=s*g+o*v+c*E,i[1]=s*b+o*_+c*B,i[2]=s*y+o*w+c*R,i[3]=A*g+l*v+u*E,i[4]=A*b+l*_+u*B,i[5]=A*y+l*w+u*R,i[6]=d*g+p*v+h*E,i[7]=d*b+p*_+h*B,i[8]=d*y+p*w+h*R}function Y_(e){for(var t=e.rows,n=e.cols,i=e.data,r=new Array(n),a=0;a<n;++a)r[a]=0;for(var s=0,o=0;s<t;++s)for(var c=0;c<n;++c,++o)r[c]+=i[o];for(var A=0;A<n;++A)r[A]/=t;return r}function q_(e,t){for(var n=e.rows,i=e.cols,r=e.data,a=0,s=0;a<n;++a)for(var o=0;o<i;++o,++s)r[s]-=t[o]}function Jw(e,t,n,i){i=e[t],e[t]=e[n],e[n]=i}function IAe(e,t){return(e=Math.abs(e))>(t=Math.abs(t))?(t/=e,e*Math.sqrt(1+t*t)):t>0?(e/=t,t*Math.sqrt(1+e*e)):0}Yn.prototype.copyTo=function(e){e.data.set(this.data)};function _I(e,t,n,i){var r=0,a=0,s=e.rows,o=e.cols,c=s,A=o;c<A&&(r=1,a=c,c=A,A=a);var l=new Yn(c,c),u=new Yn(1,A),d=new Yn(A,A);if(r===0)go(l,e);else{for(a=0;a<o*s;a++)l.data[a]=e.data[a];for(;a<A*c;a++)l.data[a]=0}if(function(p,h,g,b,y,v,_,w){for(var E=0,B=0,R=0,G=0,C=Math.max(v,30),O=0,I=0,D=0,k=0,L=0,T=0,H=0,W=0,j=0,ce=0,ue=0,te=0,re=0,ae=0,fe=0,ye=0,se=0,me=4660,pe=0,Ee=0,ee=0,ie=new Float64Array(_<<3);E<_;E++){for(R=0,ue=0;R<v;R++)ue+=(W=p[E*h+R])*W;if(ie[E]=ue,b){for(R=0;R<_;R++)b[E*y+R]=0;b[E*y+E]=1}}for(;G<C;G++){for(L=0,E=0;E<_-1;E++)for(B=E+1;B<_;B++){for(O=E*h|0,I=B*h|0,fe=ie[E],ye=0,se=ie[B],R=2,ye+=p[O]*p[I],ye+=p[O+1]*p[I+1];R<v;R++)ye+=p[O+R]*p[I+R];if(!(Math.abs(ye)<=2384185792e-16*Math.sqrt(fe*se))){for(re=IAe(ye*=2,te=fe-se),te<0?(ae=.5*(re-te),T=ye/(re*(H=Math.sqrt(ae/re))*2)):H=ye/(re*(T=Math.sqrt((re+te)/(2*re)))*2),fe=0,se=0,R=2,j=T*p[O]+H*p[I],ce=-H*p[O]+T*p[I],p[O]=j,p[I]=ce,fe+=j*j,se+=ce*ce,j=T*p[O+1]+H*p[I+1],ce=-H*p[O+1]+T*p[I+1],p[O+1]=j,p[I+1]=ce,fe+=j*j,se+=ce*ce;R<v;R++)j=T*p[O+R]+H*p[I+R],ce=-H*p[O+R]+T*p[I+R],p[O+R]=j,p[I+R]=ce,fe+=j*j,se+=ce*ce;if(ie[E]=fe,ie[B]=se,L=1,b)for(k=B*y|0,R=2,j=T*b[D=E*y|0]+H*b[k],ce=-H*b[D]+T*b[k],b[D]=j,b[k]=ce,j=T*b[D+1]+H*b[k+1],ce=-H*b[D+1]+T*b[k+1],b[D+1]=j,b[k+1]=ce;R<_;R++)j=T*b[D+R]+H*b[k+R],ce=-H*b[D+R]+T*b[k+R],b[D+R]=j,b[k+R]=ce}}if(L===0)break}for(E=0;E<_;E++){for(R=0,ue=0;R<v;R++)ue+=(W=p[E*h+R])*W;ie[E]=Math.sqrt(ue)}for(E=0;E<_-1;E++){for(B=E,R=E+1;R<_;R++)ie[B]<ie[R]&&(B=R);if(E!==B&&(Jw(ie,E,B,ue),b)){for(R=0;R<v;R++)Jw(p,E*h+R,B*h+R,W);for(R=0;R<_;R++)Jw(b,E*y+R,B*y+R,W)}}for(E=0;E<_;E++)g[E]=ie[E];if(b)for(E=0;E<w;E++){for(ue=E<_?ie[E]:0;ue<=1e-37;){for(Ee=1/v,R=0;R<v;R++)pe=(256&(me=214013*me+2531011)>>16)!=0?Ee:-Ee,p[E*h+R]=pe;for(G=0;G<2;G++)for(B=0;B<E;B++){for(ue=0,R=0;R<v;R++)ue+=p[E*h+R]*p[B*h+R];for(ee=0,R=0;R<v;R++)W=p[E*h+R]-ue*p[B*h+R],p[E*h+R]=W,ee+=Math.abs(W);for(ee=ee?1/ee:0,R=0;R<v;R++)p[E*h+R]*=ee}for(ue=0,R=0;R<v;R++)ue+=(W=p[E*h+R])*W;ue=Math.sqrt(ue)}for(H=1/ue,R=0;R<v;R++)p[E*h+R]*=H}}(l.data,c,u.data,d.data,A,c,A,c),t){for(a=0;a<A;a++)t.data[a]=u.data[a];for(;a<o;a++)t.data[a]=0}r===0?(n&&go(n,l),i&&go(i,d)):(n&&go(n,d),i&&go(i,l))}function vf(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function pd(e,t,n,i,r,a,s,o,c,A,l,u,d,p,h,g,b){e[0]=t,e[4]=n,e[8]=i,e[12]=r,e[1]=a,e[5]=s,e[9]=o,e[13]=c,e[2]=A,e[6]=l,e[10]=u,e[14]=d,e[3]=p,e[7]=h,e[11]=g,e[15]=b}function gg(e,t,n){var i=t[0],r=t[4],a=t[8],s=t[12],o=t[1],c=t[5],A=t[9],l=t[13],u=t[2],d=t[6],p=t[10],h=t[14],g=t[3],b=t[7],y=t[11],v=t[15],_=n[0],w=n[4],E=n[8],B=n[12],R=n[1],G=n[5],C=n[9],O=n[13],I=n[2],D=n[6],k=n[10],L=n[14],T=n[3],H=n[7],W=n[11],j=n[15];e[0]=i*_+r*R+a*I+s*T,e[4]=i*w+r*G+a*D+s*H,e[8]=i*E+r*C+a*k+s*W,e[12]=i*B+r*O+a*L+s*j,e[1]=o*_+c*R+A*I+l*T,e[5]=o*w+c*G+A*D+l*H,e[9]=o*E+c*C+A*k+l*W,e[13]=o*B+c*O+A*L+l*j,e[2]=u*_+d*R+p*I+h*T,e[6]=u*w+d*G+p*D+h*H,e[10]=u*E+d*C+p*k+h*W,e[14]=u*B+d*O+p*L+h*j,e[3]=g*_+b*R+y*I+v*T,e[7]=g*w+b*G+y*D+v*H,e[11]=g*E+b*C+y*k+v*W,e[15]=g*B+b*O+y*L+v*j}function X_(e,t,n,i){pd(e,t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1)}function Z_(e,t,n,i){pd(e,1,0,0,t,0,1,0,n,0,0,1,i,0,0,0,1)}function J_(e,t){var n=Math.cos(t),i=Math.sin(t);pd(e,n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1)}function xI(){return new Float32Array([1,0,0,0,1,0,0,0,1])}function L7(e,t){var n=un([t[0],t[1],t[2]]),i=un([t[4],t[5],t[6]]),r=un([t[8],t[9],t[10]]),a=un();Ua(a,i,r),e[0]=a[0],e[1]=a[1],e[2]=a[2],Ua(a,r,n),e[3]=a[0],e[4]=a[1],e[5]=a[2],Ua(a,n,i),e[6]=a[0],e[7]=a[1],e[8]=a[2]}function P7(e,t,n,i){n=n||1,i=i||!0;var r=e.length/3,a=t.length/3,s=void 0;i&&(s=new Float32Array(3*r));var o,c,A,l,u=new Float32Array(3*r),d=new Array(20);for(o=0;o<20;++o)d[o]=new Uint32Array(r);for(o=0;o<r;++o)d[0][o]=0;for(o=0;o<a;++o){var p=3*o,h=3*o+1,g=3*o+2;for(l=!0,c=0,A=d[0][t[p]];c<A;++c)if(t[h]===d[c+1][t[p]]){l=!1;break}for(l&&(d[0][t[p]]++,d[d[0][t[p]]][t[p]]=t[h]),l=!0,c=0,A=d[0][t[p]];c<A;++c)if(t[g]===d[c+1][t[p]]){l=!1;break}for(l&&(d[0][t[p]]++,d[d[0][t[p]]][t[p]]=t[g]),l=!0,c=0,A=d[0][t[h]];c<A;++c)if(t[p]===d[c+1][t[h]]){l=!1;break}for(l&&(d[0][t[h]]++,d[d[0][t[h]]][t[h]]=t[p]),l=!0,c=0,A=d[0][t[h]];c<A;++c)if(t[g]===d[c+1][t[h]]){l=!1;break}for(l&&(d[0][t[h]]++,d[d[0][t[h]]][t[h]]=t[g]),l=!0,c=0;c<d[0][t[g]];++c)if(t[p]===d[c+1][t[g]]){l=!1;break}for(l&&(d[0][t[g]]++,d[d[0][t[g]]][t[g]]=t[p]),l=!0,c=0,A=d[0][t[g]];c<A;++c)if(t[h]===d[c+1][t[g]]){l=!1;break}l&&(d[0][t[g]]++,d[d[0][t[g]]][t[g]]=t[h])}for(var b,y,v,_,w,E=.5,B=.75/4.5,R=0;R<n;++R){for(o=0;o<r;++o)if(b=3*o,(v=d[0][o])<3)u[b]=e[b],u[b+1]=e[b+1],u[b+2]=e[b+2];else if(v===3||v===4){for(u[b]=0,u[b+1]=0,u[b+2]=0,c=0;c<v;++c)y=3*d[c+1][o],u[b]+=e[y],u[b+1]+=e[y+1],u[b+2]+=e[y+2];u[b]+=E*e[b],u[b+1]+=E*e[b+1],u[b+2]+=E*e[b+2],w=E+v,u[b]/=w,u[b+1]/=w,u[b+2]/=w}else{for(u[b]=0,u[b+1]=0,u[b+2]=0,c=0;c<v;++c)y=3*d[c+1][o],u[b]+=e[y],u[b+1]+=e[y+1],u[b+2]+=e[y+2];u[b]+=1*e[b],u[b+1]+=1*e[b+1],u[b+2]+=1*e[b+2],_=1+v,u[b]/=_,u[b+1]/=_,u[b+2]/=_}if(e.set(u),i){zh(e,t,s);var G=3*r;for(b=0;b<G;b+=3)e[b]+=-1*B*s[b],e[b+1]+=-1*B*s[b+1],e[b+2]+=-1*B*s[b+2]}}}function zh(e,t,n){var i,r;if(n===void 0)n=new Float32Array(e.length);else for(i=0,r=n.length;i<r;i++)n[i]=0;var a=new Float32Array(3),s=new Float32Array(3),o=new Float32Array(3),c=new Float32Array(3),A=new Float32Array(3);if(t)for(i=0,r=t.length;i<r;i+=3){var l=3*t[i],u=3*t[i+1],d=3*t[i+2];da(a,e,l),da(s,e,u),da(o,e,d),Ii(c,o,s),Ii(A,a,s),Ua(c,c,A),n[l]+=c[0],n[l+1]+=c[1],n[l+2]+=c[2],n[u]+=c[0],n[u+1]+=c[1],n[u+2]+=c[2],n[d]+=c[0],n[d+1]+=c[1],n[d+2]+=c[2]}else for(i=0,r=e.length;i<r;i+=9)da(a,e,i),da(s,e,i+3),da(o,e,i+6),Ii(c,o,s),Ii(A,a,s),Ua(c,c,A),n[i]=c[0],n[i+1]=c[1],n[i+2]=c[2],n[i+3]=c[0],n[i+4]=c[1],n[i+5]=c[2],n[i+6]=c[0],n[i+7]=c[1],n[i+8]=c[2];return aI(n),n}function BI(e){for(var t={},n=0,i=e.length;n<i;++n)t[e[n]]=!0;return t}function Vh(e,t,n,i,r){var a=1/i*3;oI(e,e,r+(a+=n)),hg(t,t,r+a),di(e,e,i),$_(e,e),nd(e,e,i),di(t,t,i),gf(t,t),nd(t,t,i);var s=new Float32Array(3);Ii(s,t,e),di(s,s,i),gf(s,s),hg(s,s,1);var o=256*Math.pow(10,6),c=s[0]*s[1]*s[2]*3;o<=c&&(di(e,e,i*=Math.pow(o/c,1/3)),$_(e,e),nd(e,e,i),di(t,t,i),gf(t,t),nd(t,t,i),Ii(s,t,e),di(s,s,i),gf(s,s),hg(s,s,1));var A=new Float32Array(e);L2(A,A);var l=vf(),u=vf();J_(u,Oi(90)),gg(l,l,u);var d=vf();X_(d,-1/i,1/i,1/i),gg(l,l,d);var p=vf();return Z_(p,-i*A[2],-i*A[1],-i*A[0]),gg(l,l,p),{dim:s,tran:A,matrix:l,scaleFactor:i}}X_.__deps=[pd],Z_.__deps=[pd],J_.__deps=[pd],L7.__deps=[un,Ua],Object.assign(P7,{__deps:[zh]}),Object.assign(zh,{__deps:[Ii,Ua,da,aI]}),Object.assign(Vh,{__deps:[Oi,oI,hg,nd,di,$_,gf,Ii,L2,vf,gg,Z_,X_,J_]});var Yr=function(e,t,n){this.name=e||"",this.path=t||"",this.info={},this.center=new P,this.boundingBox=new gi,n instanceof an||n instanceof Rt||n instanceof ui?this.fromGeometry(n):n&&(this.set(n.position,n.index,n.normal,n.color,n.atomindex,n.contour),this.boundingBox.setFromArray(n.position),this.boundingBox.getCenter(this.center))},oN={type:{configurable:!0}};function lA(e,t,n,i,r){var a=new I7(e,t,n,i,r);this.getSurface=function(s,o,c,A,l,u){u===void 0&&(u=!1);var d=a.triangulate(s,o,c,l,u);if(o&&!l&&(P7(d.position,d.index,o,!0),d.normal=zh(d.position,d.index)),A&&(I2(A,d.position),d.normal)){var p=xI();L7(p,A),F7(p,d.normal)}return d}}oN.type.get=function(){return"Surface"},Yr.prototype.set=function(e,t,n,i,r,a){a===void 0&&(a=!1),this.position=e,this.index=t,this.normal=n,this.color=i,this.atomindex=r,this.size=e.length/3,this.contour=a},Yr.prototype.fromGeometry=function(e){var t,n,i,r;if(je&&De.time("GeometrySurface.fromGeometry"),e instanceof an?(e.computeVertexNormals(!0),t=new Rt().fromGeometry(e)):t=e instanceof Rt?e:e[0],t.boundingBox||t.computeBoundingBox(),this.boundingBox.copy(t.boundingBox),this.boundingBox.getCenter(this.center),t instanceof Rt){var a=t.attributes,s=!!a.normal&&a.normal.array;(!s||s[0]===0&&s[1]===0&&s[2]===0)&&t.computeVertexNormals(),n=a.position.array,i=a.index?a.index.array:null,r=a.normal.array}this.set(n,i,r,void 0,void 0),je&&De.timeEnd("GeometrySurface.setGeometry")},Yr.prototype.getPosition=function(){return this.position},Yr.prototype.getColor=function(e){var t=e||{};t.surface=this;var n=this.size,i=new Float32Array(3*n),r=Nn.getScheme(t);if(r.volumeColor||t.scheme==="random")for(var a=0;a<n;++a)r.volumeColorToArray(a,i,3*a);else if(r.positionColor)for(var s=new P,o=this.position,c=0;c<n;++c){var A=3*c;s.set(o[A],o[A+1],o[A+2]),r.positionColorToArray(s,i,A)}else if(r.atomColor&&this.atomindex)for(var l=t.structure.getAtomProxy(),u=this.atomindex,d=0;d<n;++d)l.index=u[d],r.atomColorToArray(l,i,3*d);else{var p=new pt(t.value);li(n,p.r,p.g,p.b,i)}return i},Yr.prototype.getPicking=function(e){return this.atomindex&&e?new Ol(this.atomindex,e):new CAe(np(this.size),this)},Yr.prototype.getNormal=function(){return this.normal},Yr.prototype.getSize=function(e,t){return os(this.size,e*t)},Yr.prototype.getIndex=function(){return this.index},Yr.prototype.getFilteredIndex=function(e,t){if(e&&this.atomindex){for(var n=new si(e),i=t.getAtomSet(n),r=[],a=this.atomindex,s=this.index,o=s.length,c=this.contour?2:3,A=0,l=0;l<o;l+=c){for(var u=!0,d=0;d<c;d++){var p=a[s[l+d]];if(!i.get(p)){u=!1;break}}if(u)for(var h=0;h<c;h++,A++)r[A]=s[l+h]}return cc(r,this.position.length/3)}return this.index},Yr.prototype.getAtomindex=function(){return this.atomindex},Yr.prototype.dispose=function(){},Object.defineProperties(Yr.prototype,oN),Object.assign(lA,{__deps:[P7,zh,I7,I2,F7,xI,L7]}),Dh.add("surf",function(e,t){var n=e.data.args,i=e.data.params;if(n&&(self.volsurf=new lA(n[0],n[1],n[2],n[3],n[4])),i){var r=self.volsurf.getSurface(i.isolevel,i.smooth,i.box,i.matrix,i.contour,i.wrap),a=[r.position.buffer,r.index.buffer];r.normal&&a.push(r.normal.buffer),r.atomindex&&a.push(r.atomindex.buffer),t({sd:r,p:i},a)}},[lA]);var jn=function(e,t,n,i,r,a,s){this.name=e,this.path=t,this.matrix=new st,this.normalMatrix=new kr,this.inverseMatrix=new st,this.center=new P,this.boundingBox=new gi,this.setData(n,i,r,a,s)},H0={type:{configurable:!0},position:{configurable:!0},min:{configurable:!0},max:{configurable:!0},sum:{configurable:!0},mean:{configurable:!0},rms:{configurable:!0}};function cN(e){return e==="front"?Xd:e==="back"?yr:am}H0.type.get=function(){return"Volume"},jn.prototype.setData=function(e,t,n,i,r){this.nx=t||1,this.ny=n||1,this.nz=i||1,this.data=e||new Float32Array(1),this.setAtomindex(r),this._position=new Float32Array,delete this._min,delete this._max,delete this._mean,delete this._rms,this.worker&&this.worker.terminate()},jn.prototype.setStats=function(e,t,n,i){this._min=e,this._max=t,this._mean=n,this._rms=i},jn.prototype.setMatrix=function(e){this.matrix.copy(e);var t=this.boundingBox,n=this.center,i=this.nx-1,r=this.ny-1,a=this.nz-1;t.makeEmpty(),t.expandByPoint(n.set(i,r,a)),t.expandByPoint(n.set(i,r,0)),t.expandByPoint(n.set(i,0,a)),t.expandByPoint(n.set(i,0,0)),t.expandByPoint(n.set(0,r,a)),t.expandByPoint(n.set(0,0,a)),t.expandByPoint(n.set(0,r,0)),t.expandByPoint(n.set(0,0,0)),t.applyMatrix4(this.matrix),t.getCenter(this.center);var s=this.matrix.elements,o=new P(s[0],s[1],s[2]),c=new P(s[4],s[5],s[6]),A=new P(s[8],s[9],s[10]),l=new P,u=this.normalMatrix.elements;l.crossVectors(c,A),u[0]=l.x,u[1]=l.y,u[2]=l.z,l.crossVectors(A,o),u[3]=l.x,u[4]=l.y,u[5]=l.z,l.crossVectors(o,c),u[6]=l.x,u[7]=l.y,u[8]=l.z,this.inverseMatrix.getInverse(this.matrix)},jn.prototype.setAtomindex=function(e){this.atomindex=e},jn.prototype.getBox=function(e,t,n){return n||(n=new gi),n.set(e,e),n.expandByScalar(t),n.applyMatrix4(this.inverseMatrix),n.min.round(),n.max.round(),n},jn.prototype._getBox=function(e,t){if(e&&t){this.__box||(this.__box=new gi);var n=this.getBox(e,t,this.__box);return[n.min.toArray(),n.max.toArray()]}},jn.prototype._makeSurface=function(e,t,n){var i=this.name+"@"+t.toPrecision(2),r=new Yr(i,"",e);return r.info.isolevel=t,r.info.smooth=n,r.info.volume=this,r},jn.prototype.getSurface=function(e,t,n,i,r,a){a===void 0&&(a=!1),e=isNaN(e)?this.getValueForSigma(2):e,t=z(t,0),this.volsurf===void 0&&(this.volsurf=new lA(this.data,this.nx,this.ny,this.nz,this.atomindex));var s=this._getBox(n,i),o=this.volsurf.getSurface(e,t,s,this.matrix.elements,r,a);return this._makeSurface(o,e,t)},jn.prototype.getSurfaceWorker=function(e,t,n,i,r,a,s){var o=this;if(e=isNaN(e)?this.getValueForSigma(2):e,t=t||0,window.hasOwnProperty("Worker")){this.workerPool===void 0&&(this.workerPool=new Hu("surf",2));var c={},A=this.workerPool.getNextWorker();A.postCount===0&&Object.assign(c,{args:[this.data,this.nx,this.ny,this.nz,this.atomindex]}),Object.assign(c,{params:{isolevel:e,smooth:t,box:this._getBox(n,i),matrix:this.matrix.elements,contour:r,wrap:a}}),A.post(c,void 0,function(u){var d=u.data.sd,p=u.data.p;s(o._makeSurface(d,p.isolevel,p.smooth))},function(u){console.warn("Volume.getSurfaceWorker error - trying without worker",u);var d=o.getSurface(e,t,n,i,r,a);s(d)})}else{var l=this.getSurface(e,t,n,i,r,a);s(l)}},jn.prototype.getValueForSigma=function(e){return this.mean+z(e,2)*this.rms},jn.prototype.getSigmaForValue=function(e){return(z(e,0)-this.mean)/this.rms},H0.position.get=function(){if(!this._position){for(var e=this.nz,t=this.ny,n=this.nx,i=new Float32Array(n*t*e*3),r=0,a=0;a<e;++a)for(var s=0;s<t;++s)for(var o=0;o<n;++o)i[r+0]=o,i[r+1]=s,i[r+2]=a,r+=3;I2(this.matrix.elements,i),this._position=i}return this._position},jn.prototype.getDataAtomindex=function(){return this.atomindex},jn.prototype.getDataPosition=function(){return this.position},jn.prototype.getDataColor=function(e){var t=e||{};t.volume=this,t.scale=t.scale||"Spectral",t.domain=t.domain||[this.min,this.max];for(var n=Nn.getScheme(t),i=this.position.length/3,r=new Float32Array(3*i),a=0;a<i;++a)n.volumeColorToArray(a,r,3*a);return r},jn.prototype.getDataPicking=function(){var e=np(this.position.length/3);return new vI(e,this)},jn.prototype.getDataSize=function(e,t){var n,i=this.data,r=this.position.length/3;switch(e){case"value":case"deviation":n=new Float32Array(i);break;case"abs-value":n=new Float32Array(i);for(var a=0;a<r;++a)n[a]=Math.abs(n[a]);break;case"value-min":n=new Float32Array(i);for(var s=this.min,o=0;o<r;++o)n[o]-=s;break;default:n=os(r,e)}if(t!==1)for(var c=0;c<r;++c)n[c]*=t;return n},H0.min.get=function(){return this._min===void 0&&(this._min=dg(this.data)),this._min},H0.max.get=function(){return this._max===void 0&&(this._max=ug(this.data)),this._max},H0.sum.get=function(){return this._sum===void 0&&(this._sum=T7(this.data)),this._sum},H0.mean.get=function(){return this._mean===void 0&&(this._mean=pg(this.data)),this._mean},H0.rms.get=function(){return this._rms===void 0&&(this._rms=function(e){for(var t=e.length,n=0,i=0;i<t;++i){var r=e[i];n+=r*r}return Math.sqrt(n/t)}(this.data)),this._rms},jn.prototype.clone=function(){var e=new jn(this.name,this.path,this.data,this.nx,this.ny,this.nz,this.atomindex);return e.matrix.copy(this.matrix),e.header=Object.assign({},this.header),e},jn.prototype.dispose=function(){this.workerPool&&this.workerPool.terminate()},Object.defineProperties(jn.prototype,H0),Vn.add("shader/Mesh.vert",`#define STANDARD
uniform float clipNear;
uniform vec3 clipCenter;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#elif defined( NOLIGHT )
varying vec3 vColor;
#else
#include color_pars_vertex
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#endif
#include common
void main(){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#elif defined( NOLIGHT )
vColor = color;
#else
#include color_vertex
#include beginnormal_vertex
#include defaultnormal_vertex
#ifndef FLAT_SHADED
vNormal = normalize( transformedNormal );
#endif
#endif
#include begin_vertex
#include project_vertex
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),Vn.add("shader/Mesh.frag",`#define STANDARD
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
#elif defined( NOLIGHT )
varying vec3 vColor;
#else
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#include common
#include color_pars_fragment
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#elif defined( NOLIGHT )
gl_FragColor = vec4( vColor, opacity );
#else
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
#include normal_fragment_begin
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
#include interior_fragment
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#include opaque_back_fragment
#endif
}`);var AN={f:1,v2:2,v3:3,c:3};function eE(e,t){e.matrix.copy(t),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0}var ga={opaqueBack:!1,side:"double",opacity:1,depthWrite:!0,clipNear:0,clipRadius:0,clipCenter:new P,flatShaded:!1,wireframe:!1,roughness:.4,metalness:0,diffuse:16777215,diffuseInterior:!1,useInteriorColor:!1,interiorColor:14540253,interiorDarkening:0,forceTransparent:!1,matrix:new st,disablePicking:!1,sortParticles:!1,background:!1},Hl={opaqueBack:{updateShader:!0},side:{updateShader:!0,property:!0},opacity:{uniform:!0},depthWrite:{property:!0},clipNear:{updateShader:!0,property:!0},clipRadius:{updateShader:!0,uniform:!0},clipCenter:{uniform:!0},flatShaded:{updateShader:!0},background:{updateShader:!0},wireframe:{updateVisibility:!0},roughness:{uniform:!0},metalness:{uniform:!0},diffuse:{uniform:!0},diffuseInterior:{updateShader:!0},useInteriorColor:{updateShader:!0},interiorColor:{uniform:!0},interiorDarkening:{uniform:!0},matrix:{}},Fn=function(e,t){t===void 0&&(t={}),this.parameterTypes=Hl,this.geometry=new Rt,this.indexVersion=0,this.wireframeIndexVersion=-1,this.group=new ui,this.wireframeGroup=new ui,this.pickingGroup=new ui,this.vertexShader="",this.fragmentShader="",this.isImpostor=!1,this.isText=!1,this.isSurface=!1,this.isPoint=!1,this.isLine=!1,this.dynamic=!0,this.visible=!0,this.wireframeIndexCount=0,this.parameters=As(t,this.defaultParameters),this.uniforms=l3.merge([xt.common,{fogColor:{value:new pt(0)},fogNear:{value:0},fogFar:{value:0},opacity:{value:this.parameters.opacity},clipNear:{value:0},clipRadius:{value:this.parameters.clipRadius},clipCenter:{value:this.parameters.clipCenter}},{emissive:{value:new pt(0)},roughness:{value:this.parameters.roughness},metalness:{value:this.parameters.metalness},interiorColor:{value:new pt(this.parameters.interiorColor)},interiorDarkening:{value:this.parameters.interiorDarkening}},xt.lights]),this.uniforms.diffuse.value.set(this.parameters.diffuse),this.pickingUniforms={clipNear:{value:0},objectId:{value:0},opacity:{value:this.parameters.opacity}};var n=e.position||e.position1;this._positionDataSize=n?n.length/3:0,e.primitiveId||(e.primitiveId=np(this._positionDataSize)),this.addAttributes({position:{type:"v3",value:e.position},color:{type:"c",value:e.color},primitiveId:{type:"f",value:e.primitiveId}}),t.matrix&&(this.matrix=t.matrix),e.index&&this.initIndex(e.index),this.picking=e.picking,this.makeWireframeGeometry()},Q0={defaultParameters:{configurable:!0},matrix:{configurable:!0},transparent:{configurable:!0},size:{configurable:!0},attributeSize:{configurable:!0},pickable:{configurable:!0}};Q0.defaultParameters.get=function(){return ga},Q0.matrix.set=function(e){this.setMatrix(e)},Q0.matrix.get=function(){return this.group.matrix.clone()},Q0.transparent.get=function(){return this.parameters.opacity<1||this.parameters.forceTransparent},Q0.size.get=function(){return this._positionDataSize},Q0.attributeSize.get=function(){return this.size},Q0.pickable.get=function(){return!!this.picking&&!this.parameters.disablePicking},Fn.prototype.setMatrix=function(e){eE(this.group,e),eE(this.wireframeGroup,e),eE(this.pickingGroup,e)},Fn.prototype.initIndex=function(e){this.geometry.setIndex(new Vt(e,1));var t=this.geometry.getIndex();t?t.setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0):De.error("Index is null")},Fn.prototype.makeMaterial=function(){var e=cN(this.parameters.side),t=new vr({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!0,fog:!0,side:e});t.vertexColors=!0,t.extensions.derivatives=!0,t.extensions.fragDepth=this.isImpostor;var n=new vr({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!1,fog:!0,side:e});n.vertexColors=!0;var i=new vr({uniforms:this.pickingUniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:!1,depthWrite:this.parameters.depthWrite,lights:!1,fog:!1,side:e,blending:Xc});i.vertexColors=!0,i.extensions.fragDepth=this.isImpostor,t.clipNear=this.parameters.clipNear,n.clipNear=this.parameters.clipNear,i.clipNear=this.parameters.clipNear,this.material=t,this.wireframeMaterial=n,this.pickingMaterial=i,this.updateShader()},Fn.prototype.makeWireframeGeometry=function(){this.makeWireframeIndex();var e=this.geometry,t=this.wireframeIndex,n=new Rt;n.attributes=e.attributes,t&&(n.setIndex(new Vt(t,1).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0)),n.setDrawRange(0,this.wireframeIndexCount)),this.wireframeGeometry=n},Fn.prototype.makeWireframeIndex=function(){var e=[];function t(b,y){if(b>y){var v=b;b=y,y=v}var _=e[b];return _===void 0?(e[b]=[y],!0):!_.includes(y)&&(_.push(y),!0)}var n=this.geometry,i=n.index;if(this.parameters.wireframe)if(i){var r,a=i.array,s=a.length;n.drawRange.count!==1/0&&(s=n.drawRange.count),this.wireframeIndex&&this.wireframeIndex.length>2*s?r=this.wireframeIndex:r=cc(2*s,n.attributes.position.count);var o=0;e.length=0;for(var c=0;c<s;c+=3){var A=a[c+0],l=a[c+1],u=a[c+2];t(A,l)&&(r[o+0]=A,r[o+1]=l,o+=2),t(l,u)&&(r[o+0]=l,r[o+1]=u,o+=2),t(u,A)&&(r[o+0]=u,r[o+1]=A,o+=2)}this.wireframeIndex=r,this.wireframeIndexCount=o,this.wireframeIndexVersion=this.indexVersion}else{var d,p=n.attributes.position.count;d=this.wireframeIndex&&this.wireframeIndex.length>2*p?this.wireframeIndex:cc(2*p,p);for(var h=0,g=0;h<p;h+=3)d[g+0]=h,d[g+1]=h+1,d[g+2]=h+1,d[g+3]=h+2,d[g+4]=h+2,d[g+5]=h,g+=6;this.wireframeIndex=d,this.wireframeIndexCount=2*p,this.wireframeIndexVersion=this.indexVersion}else this.wireframeIndex=new Uint16Array(0),this.wireframeIndexCount=0},Fn.prototype.updateWireframeIndex=function(){if(this.wireframeGeometry&&this.wireframeIndex){if(this.wireframeGeometry.setDrawRange(0,1/0),this.wireframeIndexVersion<this.indexVersion&&this.makeWireframeIndex(),this.wireframeGeometry.index&&this.wireframeIndex.length>this.wireframeGeometry.index.array.length)this.wireframeGeometry.setIndex(new Vt(this.wireframeIndex,1).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0));else{var e=this.wireframeGeometry.getIndex();if(!e)return void De.error("Index is null");e.set(this.wireframeIndex),e.needsUpdate=this.wireframeIndexCount>0,e.updateRange.count=this.wireframeIndexCount}this.wireframeGeometry.setDrawRange(0,this.wireframeIndexCount)}},Fn.prototype.getRenderOrder=function(){var e=0;return this.isText?e=1:this.transparent&&(e=this.isSurface?3:2),e},Fn.prototype._getMesh=function(e){this.material||this.makeMaterial();var t,n=this.geometry,i=this[e];return(t=this.isLine?new Vi(n,i):this.isPoint?new fh(n,i):new wi(n,i)).frustumCulled=!1,t.renderOrder=this.getRenderOrder(),t},Fn.prototype.getMesh=function(){return this._getMesh("material")},Fn.prototype.getWireframeMesh=function(){var e;return this.material||this.makeMaterial(),this.wireframeGeometry||this.makeWireframeGeometry(),(e=new Vi(this.wireframeGeometry,this.wireframeMaterial)).frustumCulled=!1,e.renderOrder=this.getRenderOrder(),e},Fn.prototype.getPickingMesh=function(){return this._getMesh("pickingMaterial")},Fn.prototype.getShader=function(e,t){return mf(e,this.getDefines(t))},Fn.prototype.getVertexShader=function(e){return this.getShader(this.vertexShader,e)},Fn.prototype.getFragmentShader=function(e){return this.getShader(this.fragmentShader,e)},Fn.prototype.getDefines=function(e){var t={};return this.parameters.clipNear&&(t.NEAR_CLIP=1),this.parameters.clipRadius&&(t.RADIUS_CLIP=1),e==="picking"?t.PICKING=1:((e==="background"||this.parameters.background)&&(t.NOLIGHT=1),this.parameters.flatShaded&&(t.FLAT_SHADED=1),this.parameters.opaqueBack&&(t.OPAQUE_BACK=1),this.parameters.diffuseInterior&&(t.DIFFUSE_INTERIOR=1),this.parameters.useInteriorColor&&(t.USE_INTERIOR_COLOR=1)),t},Fn.prototype.getParameters=function(){return this.parameters},Fn.prototype.addUniforms=function(e){this.uniforms=l3.merge([this.uniforms,e]),this.pickingUniforms=l3.merge([this.pickingUniforms,e])},Fn.prototype.addAttributes=function(e){for(var t in e){var n=void 0,i=e[t],r=this.attributeSize*AN[i.type];i.value?(r!==i.value.length&&De.error("attribute value has wrong length",t),n=i.value):n=$F("float32",r),this.geometry.setAttribute(t,new Vt(n,AN[i.type]).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0))}},Fn.prototype.updateRenderOrder=function(){var e=this.getRenderOrder();function t(n){n.renderOrder=e}this.group.children.forEach(t),this.pickingGroup&&this.pickingGroup.children.forEach(t)},Fn.prototype.updateShader=function(){var e=this.material,t=this.wireframeMaterial,n=this.pickingMaterial;e.vertexShader=this.getVertexShader(),e.fragmentShader=this.getFragmentShader(),e.needsUpdate=!0,t.vertexShader=this.getShader("Line.vert"),t.fragmentShader=this.getShader("Line.frag"),t.needsUpdate=!0,n.vertexShader=this.getVertexShader("picking"),n.fragmentShader=this.getFragmentShader("picking"),n.needsUpdate=!0},Fn.prototype.setParameters=function(e){var t=e,n=this.parameterTypes,i=this.parameters,r={},a={},s=!1,o=!1;for(var c in t){var A=t[c];A!==void 0&&(i[c]=A,n[c]!==void 0&&(n[c].property&&(n[c].property!==!0?r[n[c].property]=A:r[c]=A),n[c].uniform&&(n[c].uniform!==!0?a[n[c].uniform]=A:a[c]=A),n[c].updateShader&&(s=!0),n[c].updateVisibility&&(o=!0),this.dynamic&&c==="wireframe"&&A===!0&&this.updateWireframeIndex(),c==="forceTransparent"&&(r.transparent=this.transparent),c==="matrix"&&(this.matrix=A)))}this.setProperties(r),this.setUniforms(a),s&&this.updateShader(),o&&this.setVisibility(this.visible)},Fn.prototype.setAttributes=function(e){var t=this.geometry,n=t.attributes;for(var i in e)if(i!=="picking"){var r=e[i],a=r.length;if(i==="index"){var s=t.getIndex();if(!s){De.error("Index is null");continue}t.setDrawRange(0,1/0),a>s.array.length?t.setIndex(new Vt(r,1).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0)):(s.set(r),s.count=a,s.needsUpdate=a>0,s.updateRange.count=a,t.setDrawRange(0,a)),this.indexVersion++,this.parameters.wireframe&&this.updateWireframeIndex()}else{var o=n[i];a>o.array.length?t.setAttribute(i,new Vt(r,o.itemSize).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0)):(n[i].set(r),n[i].needsUpdate=a>0,n[i].updateRange.count=a)}}},Fn.prototype.setUniforms=function(e){if(e){var t=this.material.uniforms,n=this.wireframeMaterial.uniforms,i=this.pickingMaterial.uniforms;for(var r in e)r==="opacity"&&this.setProperties({transparent:this.transparent}),t[r]!==void 0&&(t[r].value.isVector3?t[r].value.copy(e[r]):t[r].value.set?t[r].value.set(e[r]):t[r].value=e[r]),n[r]!==void 0&&(n[r].value.isVector3?n[r].value.copy(e[r]):n[r].value.set?n[r].value.set(e[r]):n[r].value=e[r]),i[r]!==void 0&&(i[r].value.isVector3?i[r].value.copy(e[r]):i[r].value.set?i[r].value.set(e[r]):i[r].value=e[r])}},Fn.prototype.setProperties=function(e){if(e){var t=this.material,n=this.wireframeMaterial,i=this.pickingMaterial;for(var r in e){var a=r,s=e[a];a==="transparent"?this.updateRenderOrder():a==="side"&&(s=cN(s)),t[a]=s,n[a]=s,i[a]=s}t.needsUpdate=!0,n.needsUpdate=!0,i.needsUpdate=!0}},Fn.prototype.setVisibility=function(e){this.visible=e,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=e,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=e,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=e))},Fn.prototype.dispose=function(){this.material&&this.material.dispose(),this.wireframeMaterial&&this.wireframeMaterial.dispose(),this.pickingMaterial&&this.pickingMaterial.dispose(),this.geometry.dispose(),this.wireframeGeometry&&this.wireframeGeometry.dispose()},Fn.prototype.toJSON=function(){var e={};for(var t in this)t!=="group"&&t!=="wireframeGroup"&&t!="pickingGroup"&&t!=="picking"&&(e[t]=this[t]);return e},Object.defineProperties(Fn.prototype,Q0);var d0=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,n,i),this.vertexShader="Mesh.vert",this.fragmentShader="Mesh.frag",this.addAttributes({normal:{type:"v3",value:n.normal}}),n.normal===void 0&&this.geometry.computeVertexNormals()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Fn),RI=function(e){function t(){e.apply(this,arguments),this.isSurface=!0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(d0);function Ty(e){e.visible=!0}function lN(e){e.visible=!1}var Cs=function(e){this.group=new ui,this.wireframeGroup=new ui,this.pickingGroup=new ui,this.frontMeshes=[],this.backMeshes=[],this.size=e.size,this.side=e.parameters.side,this.visible=e.visible,this.geometry=e.geometry,this.picking=e.picking,this.group=new ui,this.wireframeGroup=new ui,this.pickingGroup=new ui,this.matrix=e.matrix;var t=e,n=new e.constructor({position:new Float32Array(0)});t.makeMaterial(),n.makeMaterial(),n.picking=e.picking,n.geometry=e.geometry,n.wireframeGeometry=e.wireframeGeometry,n.setParameters(e.getParameters()),n.updateShader(),t.setParameters({side:"front"}),n.setParameters({side:"back",opacity:n.parameters.opacity}),this.buffer=e,this.frontBuffer=t,this.backBuffer=n},zp={matrix:{configurable:!0},pickable:{configurable:!0},parameters:{configurable:!0}};zp.matrix.set=function(e){Fn.prototype.setMatrix.call(this,e)},zp.matrix.get=function(){return this.group.matrix.clone()},zp.pickable.get=function(){return!!this.picking&&!this.parameters.disablePicking},zp.parameters.get=function(){return this.buffer.parameters},Cs.prototype.getParameters=function(){var e=Object.assign({},this.buffer.parameters);return e.side=this.side,e},Cs.prototype.getMesh=function(e){var t,n;return e?(n=this.backBuffer.getPickingMesh(),t=this.frontBuffer.getPickingMesh()):(n=this.backBuffer.getMesh(),t=this.frontBuffer.getMesh()),this.frontMeshes.push(t),this.backMeshes.push(n),this.setParameters({side:this.side}),new ui().add(n,t)},Cs.prototype.getWireframeMesh=function(){return this.buffer.getWireframeMesh()},Cs.prototype.getPickingMesh=function(){return this.getMesh(!0)},Cs.prototype.setAttributes=function(e){this.buffer.setAttributes(e)},Cs.prototype.setParameters=function(e){(e=Object.assign({},e)).side==="front"?(this.frontMeshes.forEach(Ty),this.backMeshes.forEach(lN)):e.side==="back"?(this.frontMeshes.forEach(lN),this.backMeshes.forEach(Ty)):e.side==="double"&&(this.frontMeshes.forEach(Ty),this.backMeshes.forEach(Ty)),e.side!==void 0&&(this.side=e.side),delete e.side,e.matrix!==void 0&&(this.matrix=e.matrix),delete e.matrix,this.frontBuffer.setParameters(e),e.wireframe!==void 0&&(this.wireframe=e.wireframe,this.setVisibility(this.visible)),delete e.wireframe,this.backBuffer.setParameters(e)},Cs.prototype.setVisibility=function(e){this.visible=e,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=e,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=e,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=e))},Cs.prototype.dispose=function(){this.frontBuffer.dispose(),this.backBuffer.dispose()},Cs.prototype.toJSON=function(){var e={};for(var t in this)["side","size","visible","matrix","parameters"].includes(t)&&(e[t]=this[t]);return e},Object.defineProperties(Cs.prototype,zp),Vn.add("shader/Line.vert",`uniform float clipNear;
uniform vec3 clipCenter;
varying vec3 vViewPosition;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#include color_pars_vertex
void main(){
#include color_vertex
#include begin_vertex
#include project_vertex
vViewPosition = -mvPosition.xyz;
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),Vn.add("shader/Line.frag",`uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
varying vec3 vViewPosition;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#include common
#include color_pars_fragment
#include fog_pars_fragment
void main(){
#include nearclip_fragment
#include radiusclip_fragment
gl_FragColor = vec4( vColor, opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
}`);var CI=function(e){function t(){e.apply(this,arguments),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Fn),ex=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="surface",this.parameters=Object.assign({isolevelType:{type:"select",options:{value:"value",sigma:"sigma"}},isolevel:{type:"number",precision:2,max:1e3,min:-1e3},negateIsolevel:{type:"boolean"},isolevelScroll:{type:"boolean"},smooth:{type:"integer",precision:1,max:10,min:0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},boxSize:{type:"integer",precision:1,max:100,min:0},colorVolume:{type:"hidden"},contour:{type:"boolean",rebuild:!0},useWorker:{type:"boolean",rebuild:!0},wrap:{type:"boolean",rebuild:!0}},this.parameters),n instanceof jn?(this.surface=void 0,this.volume=n):(this.surface=n,this.volume=void 0),this.boxCenter=new P,this.__boxCenter=new P,this.box=new gi,this.__box=new gi,this._position=new P,this.inverseMatrix=new st,this.setBox=function(){this._position.copy(i.translationGroup.position).negate(),this._position.applyMatrix4(this.inverseMatrix),this._position.equals(this.boxCenter)||this.setParameters({boxCenter:this._position})},this.toBePrepared=!0,this.viewer.signals.ticked.add(this.setBox,this),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=z(i.colorScheme,"uniform"),i.colorValue=z(i.colorValue,14540253),this.isolevelType=z(i.isolevelType,"sigma"),this.isolevel=z(i.isolevel,2),this.negateIsolevel=z(i.negateIsolevel,!1),this.isolevelScroll=z(i.isolevelScroll,!1),this.smooth=z(i.smooth,0),this.background=z(i.background,!1),this.opaqueBack=z(i.opaqueBack,!0),this.boxSize=z(i.boxSize,0),this.colorVolume=z(i.colorVolume,void 0),this.contour=z(i.contour,!1),this.useWorker=z(i.useWorker,!0),this.wrap=z(i.wrap,!1),e.prototype.init.call(this,i),this.inverseMatrix.getInverse(this.matrix),this.build()},t.prototype.attach=function(n){var i=this;this.bufferList.forEach(function(r){i.viewer.add(r)}),this.setVisibility(this.visible),n()},t.prototype.prepare=function(n){var i,r=this;if(this.volume)if(i=this.isolevelType==="sigma"?this.volume.getValueForSigma(this.isolevel):this.isolevel,this.negateIsolevel&&(i*=-1),!this.surface||this.__isolevel!==i||this.__smooth!==this.smooth||this.__contour!==this.contour||this.__wrap!==this.wrap||this.__boxSize!==this.boxSize||this.boxSize>0&&!this.__boxCenter.equals(this.boxCenter)){this.__isolevel=i,this.__smooth=this.smooth,this.__contour=this.contour,this.__wrap=this.wrap,this.__boxSize=this.boxSize,this.__boxCenter.copy(this.boxCenter),this.__box.copy(this.box);var a=function(s){r.surface=s,n()};this.useWorker?this.volume.getSurfaceWorker(i,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap,a):a(this.volume.getSurface(i,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap))}else n();else n()},t.prototype.create=function(){var n,i={position:this.surface.getPosition(),color:this.surface.getColor(this.getColorParams()),index:this.surface.getIndex()};if(this.contour)n=new CI(i,this.getBufferParams({wireframe:!1}));else{Object.assign(i,{normal:this.surface.getNormal(),picking:this.surface.getPicking()});var r=new RI(i,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1}));n=new Cs(r)}this.bufferList.push(n)},t.prototype.update=function(n){if(this.bufferList.length!==0){var i={};(n=n||{}).position&&(i.position=this.surface.getPosition()),n.color&&(i.color=this.surface.getColor(this.getColorParams())),n.index&&(i.index=this.surface.getIndex()),n.normal&&(i.normal=this.surface.getNormal()),this.bufferList.forEach(function(r){r.setAttributes(i)})}},t.prototype.setParameters=function(n,i,r){return n&&n.isolevelType!==void 0&&this.volume&&(this.isolevelType==="value"&&n.isolevelType==="sigma"?this.isolevel=this.volume.getSigmaForValue(this.isolevel):this.isolevelType==="sigma"&&n.isolevelType==="value"&&(this.isolevel=this.volume.getValueForSigma(this.isolevel)),this.isolevelType=n.isolevelType),n&&n.boxCenter&&(this.boxCenter.copy(n.boxCenter),delete n.boxCenter),n&&n.wireframe&&(n.contour||n.contour===void 0&&this.contour)&&(n.wireframe=!1),e.prototype.setParameters.call(this,n,i,r),n.matrix&&this.inverseMatrix.getInverse(n.matrix),this.volume&&this.volume.getBox(this.boxCenter,this.boxSize,this.box),n&&n.colorVolume!==void 0&&i&&(i.color=!0),this.surface&&(n.isolevel!==void 0||n.negateIsolevel!==void 0||n.smooth!==void 0||n.wrap!==void 0||n.boxSize!==void 0||this.boxSize>0&&!this.__box.equals(this.box))&&this.build({position:!0,color:!0,index:!0,normal:!this.contour}),this},t.prototype.getColorParams=function(){var n=e.prototype.getColorParams.call(this);return n.volume=this.colorVolume,n},t.prototype.dispose=function(){this.viewer.signals.ticked.remove(this.setBox,this),e.prototype.dispose.call(this)},t}(tr),Xt=function(){};Xt.zoomScroll=function(e,t){e.trackballControls.zoom(t)},Xt.clipNearScroll=function(e,t){var n=e.getParameters();e.setParameters({clipNear:n.clipNear+t/10})},Xt.focusScroll=function(e,t){var n=e.getFocus(),i=Math.sign(t)*function(r,a,s){if(r>a)return r;var o=r/a;return((2*s-a)*o+(2*a-3*s))*o*o+s}((100-n)/10,5,.2);e.setFocus(n+i)},Xt.zoomFocusScroll=function(e,t){e.trackballControls.zoom(t);var n=e.viewer.camera.position.z;e.setFocus(100-Math.abs(n/8))},Xt.isolevelScroll=function(e,t){var n=Math.sign(t)/10;e.eachRepresentation(function(i,r){if(i.repr instanceof ex){var a=i.getParameters();a.isolevelScroll&&i.setParameters({isolevel:a.isolevel+n})}})},Xt.panDrag=function(e,t,n){e.trackballControls.pan(t,n)},Xt.rotateDrag=function(e,t,n){e.trackballControls.rotate(t,n)},Xt.zRotateDrag=function(e,t,n){e.trackballControls.zRotate(t,n)},Xt.zoomDrag=function(e,t,n){e.trackballControls.zoom((t+n)/-2)},Xt.zoomFocusDrag=function(e,t,n){e.trackballControls.zoom((t+n)/-2);var i=e.viewer.camera.position.z;e.setFocus(100-Math.abs(i/8))},Xt.panComponentDrag=function(e,t,n){e.trackballControls.panComponent(t,n)},Xt.panAtomDrag=function(e,t,n){e.trackballControls.panAtom(t,n)},Xt.rotateComponentDrag=function(e,t,n){e.trackballControls.rotateComponent(t,n)},Xt.movePick=function(e,t){t&&e.animationControls.move(t.position.clone())},Xt.tooltipPick=function(e,t){var n=e.tooltip;if(e.getParameters().tooltip&&t){var i=t.mouse.position;n.innerText=t.getLabel(),n.style.bottom=window.innerHeight-i.y+3+"px",n.style.left=i.x+3+"px",n.style.display="block"}else n.style.display="none"};var NI={default:[["scroll",Xt.zoomScroll],["scroll-shift",Xt.focusScroll],["scroll-ctrl",Xt.isolevelScroll],["scroll-shift-ctrl",Xt.zoomFocusScroll],["drag-left",Xt.rotateDrag],["drag-right",Xt.panDrag],["drag-ctrl-left",Xt.panDrag],["drag-ctrl-right",Xt.zRotateDrag],["drag-shift-left",Xt.zoomDrag],["drag-middle",Xt.zoomFocusDrag],["drag-ctrl-shift-right",Xt.panComponentDrag],["drag-ctrl-shift-left",Xt.rotateComponentDrag],["clickPick-right",Xt.measurePick=function(e,t){if(t&&(t.atom||t.bond)){var n=t.atom||t.closestBondAtom;t.component.measurePick(n)}else e.measureClear()}],["clickPick-ctrl-left",Xt.measurePick],["clickPick-middle",Xt.movePick],["clickPick-left",Xt.movePick],["hoverPick",Xt.tooltipPick]],pymol:[["drag-left",Xt.rotateDrag],["drag-middle",Xt.panDrag],["drag-right",Xt.zoomDrag],["drag-shift-right",Xt.focusScroll],["clickPick-ctrl+shift-middle",Xt.movePick],["hoverPick",Xt.tooltipPick]],coot:[["scroll",Xt.isolevelScroll],["drag-left",Xt.rotateDrag],["drag-middle",Xt.panDrag],["drag-ctrl-left",Xt.panDrag],["drag-right",Xt.zoomFocusDrag],["drag-ctrl-right",Xt.focusScroll],["clickPick-middle",Xt.movePick],["hoverPick",Xt.tooltipPick]],astexviewer:[["drag-left",Xt.rotateDrag],["drag-ctrl-left",Xt.panDrag],["drag-shift-left",Xt.zoomDrag],["scroll",Xt.focusScroll],["clickPick-middle",Xt.movePick],["hoverPick",Xt.tooltipPick]]};function uN(e){var t=e.split(/[-+]/),n="";t.includes("scroll")&&(n="scroll"),t.includes("drag")&&(n="drag"),t.includes("click")&&(n="click"),t.includes("doubleClick")&&(n="doubleClick"),t.includes("hover")&&(n="hover"),t.includes("clickPick")&&(n="clickPick"),t.includes("hoverPick")&&(n="hoverPick");var i=0;t.includes("alt")&&(i+=1),t.includes("ctrl")&&(i+=2),t.includes("meta")&&(i+=4),t.includes("shift")&&(i+=8);var r=0;return t.includes("left")&&(r+=1),t.includes("right")&&(r+=2),t.includes("middle")&&(r+=4),[n,i,r]}var zu=function(e,t){t===void 0&&(t={}),this.stage=e,this.actionList=[],this.mouse=e.mouseObserver,this.disabled=t.disabled||!1,this.preset(t.preset||"default")};zu.prototype.run=function(e){for(var t=this,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];if(!this.disabled){var r=this.mouse.key||0,a=this.mouse.buttons||0;this.actionList.forEach(function(s){s.type===e&&s.key===r&&s.button===a&&s.callback.apply(s,[t.stage].concat(n))})}},zu.prototype.add=function(e,t){var n=uN(e),i=n[0],r=n[1],a=n[2];this.actionList.push({type:i,key:r,button:a,callback:t})},zu.prototype.remove=function(e,t){var n=e.includes("*"),i=uN(e),r=i[0],a=i[1],s=i[2],o=this.actionList.filter(function(c){return!((c.type===r||n&&r==="")&&(c.key===a||n&&a===0)&&(c.button===s||n&&s===0)&&(c.callback===t||t===void 0))});this.actionList=o},zu.prototype.preset=function(e){var t=this;this.clear(),(NI[e]||[]).forEach(function(n){return t.add(n[0],n[1])})},zu.prototype.clear=function(){this.actionList.length=0};var X0=function(){};X0.autoView=function(e){e.autoView(1e3)},X0.toggleAnimations=function(e){e.animationControls.toggle()},X0.toggleRock=function(e){e.toggleRock()};var LAe={default:[["i",X0.toggleSpin=function(e){e.toggleSpin()}],["k",X0.toggleRock],["p",X0.toggleAnimations],["a",X0.toggleAntialiasing=function(e){var t=e.getParameters();e.setParameters({sampleLevel:t.sampleLevel===-1?0:-1})}],["r",X0.autoView]]},Vu=function(e,t){t===void 0&&(t={}),this.stage=e,this.actionList=[],this.disabled=t.disabled||!1,this.preset(t.preset||"default")};Vu.prototype.run=function(e){var t=this;this.disabled||this.actionList.forEach(function(n){n.key===e&&n.callback(t.stage)})},Vu.prototype.add=function(e,t){this.actionList.push({key:e,callback:t})},Vu.prototype.remove=function(e,t){var n=this.actionList.filter(function(i){return!(i.key===e&&(i.callback===t||t===void 0))});this.actionList=n},Vu.prototype.preset=function(e){var t=this;this.clear(),(LAe[e]||[]).forEach(function(n){return t.add(n[0],n[1])})},Vu.prototype.clear=function(){this.actionList.length=0};var bg=function(e){this.stage=e,this.stage=e,this.mouse=e.mouseObserver,this.controls=e.mouseControls,this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this)};bg.prototype._onClick=function(e,t){var n=this.stage.pickingControls.pick(e,t);this.stage.signals.clicked.dispatch(n),this.controls.run("clickPick",n)},bg.prototype._onHover=function(e,t){var n=this.stage.pickingControls.pick(e,t);n&&this.mouse.down.equals(this.mouse.position)&&(this.stage.transformComponent=n.component,this.stage.transformAtom=n.atom),this.stage.signals.hovered.dispatch(n),this.controls.run("hoverPick",n)},bg.prototype.dispose=function(){this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)};var W0=function(e){this.stage=e,this.stage=e,this.mouse=e.mouseObserver,this.controls=e.mouseControls,this.mouse.signals.moved.add(this._onMove,this),this.mouse.signals.scrolled.add(this._onScroll,this),this.mouse.signals.dragged.add(this._onDrag,this),this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this),this.mouse.signals.doubleClicked.add(this._onDblclick,this)};W0.prototype._onMove=function(){this.stage.tooltip.style.display="none"},W0.prototype._onScroll=function(e){this.controls.run("scroll",e)},W0.prototype._onDrag=function(e,t){this.controls.run("drag",e,t)},W0.prototype._onClick=function(e,t){this.controls.run("click",e,t)},W0.prototype._onDblclick=function(e,t){this.controls.run("doubleClick",e,t)},W0.prototype._onHover=function(e,t){this.controls.run("hover",e,t)},W0.prototype.dispose=function(){this.mouse.signals.moved.remove(this._onMove,this),this.mouse.signals.scrolled.remove(this._onScroll,this),this.mouse.signals.dragged.remove(this._onDrag,this),this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)};var tx=function(e){this.stage=e,this.viewer=e.viewer,this.animationControls=e.animationControls,this.viewer.signals.ticked.add(this._onTick,this)};tx.prototype._onTick=function(e){this.animationControls.run(e)},tx.prototype.dispose=function(){this.viewer.signals.ticked.remove(this._onTick,this)};var SI=!!ZF&&{passive:!0},Ku=function(e){this.stage=e,this.stage=e,this.controls=e.keyControls,this.domElement=e.viewer.renderer.domElement,this.domElement.setAttribute("tabIndex","-1"),this.domElement.style.outline="none",this._focusDomElement=this._focusDomElement.bind(this),this._onKeydown=this._onKeydown.bind(this),this._onKeyup=this._onKeyup.bind(this),this._onKeypress=this._onKeypress.bind(this),this.domElement.addEventListener("mousedown",this._focusDomElement),this.domElement.addEventListener("touchstart",this._focusDomElement,SI),this.domElement.addEventListener("keydown",this._onKeydown),this.domElement.addEventListener("keyup",this._onKeyup),this.domElement.addEventListener("keypress",this._onKeypress)};Ku.prototype._onKeydown=function(){},Ku.prototype._onKeyup=function(){},Ku.prototype._onKeypress=function(e){var t;t="key"in KeyboardEvent.prototype?e.key:String.fromCharCode(e.which||e.keyCode),this.controls.run(t)},Ku.prototype._focusDomElement=function(){this.domElement.focus()},Ku.prototype.dispose=function(){this.domElement.removeEventListener("mousedown",this._focusDomElement),this.domElement.removeEventListener("touchstart",this._focusDomElement,SI),this.domElement.removeEventListener("keydown",this._onKeypress),this.domElement.removeEventListener("keyup",this._onKeypress),this.domElement.removeEventListener("keypress",this._onKeypress)};var $0=function(e,t,n,i){i===void 0&&(i={}),this.component=e,this.position=t,this.offsetX=z(i.offsetX,0),this.offsetY=z(i.offsetY,0),this.visible=z(i.visible,!0),this.stage=e.stage,this.viewer=e.stage.viewer,this._viewerPosition=new P,this._updateViewerPosition(),this._canvasPosition=new et,this._cameraPosition=new P,this.element=document.createElement("div"),Object.assign(this.element.style,{display:"block",position:"absolute",pointerEvents:"none",whiteSpace:"nowrap",left:"-10000px"}),this.viewer.wrapper.appendChild(this.element),this.setContent(n),this.updateVisibility(),this.viewer.signals.rendered.add(this._update,this),this.component.signals.matrixChanged.add(this._updateViewerPosition,this)};$0.prototype.setContent=function(e){var t=this.element.style.display;if(t==="none"&&(this.element.style.left="-10000px",this.element.style.display="block"),e instanceof HTMLElement)this.element.appendChild(e);else{var n=document.createElement("div");n.innerText=e,Object.assign(n.style,{backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),this.element.appendChild(n)}this._clientRect=this.element.getBoundingClientRect(),t==="none"&&(this.element.style.display=t)},$0.prototype.setVisibility=function(e){this.visible=e,this.updateVisibility()},$0.prototype.getVisibility=function(){return this.visible&&this.component.parameters.visible},$0.prototype.updateVisibility=function(){this.element.style.display=this.getVisibility()?"block":"none"},$0.prototype._updateViewerPosition=function(){this._viewerPosition.copy(this.position).applyMatrix4(this.component.matrix)},$0.prototype._update=function(){if(this.getVisibility()){var e=this.element.style,t=this._canvasPosition,n=this._viewerPosition,i=this._clientRect;if(this._cameraPosition.copy(n).add(this.viewer.translationGroup.position).applyMatrix4(this.viewer.rotationGroup.matrix).sub(this.viewer.camera.position),this._cameraPosition.z<0)e.display="none";else{e.display="block";var r=this._cameraPosition.length(),a=this.viewer.scene.fog;e.opacity=(1-um(a.near,a.far,r)).toString(),e.zIndex=Math.round(100*(a.far-r)).toString(),this.stage.viewerControls.getPositionOnCanvas(n,t),e.bottom=this.offsetX+t.y+i.height/2+"px",e.left=this.offsetY+t.x-i.width/2+"px"}}},$0.prototype.dispose=function(){this.viewer.wrapper.removeChild(this.element),this.viewer.signals.ticked.remove(this._update,this),this.component.signals.matrixChanged.remove(this._updateViewerPosition,this)};var Dc=new st,Fy=new P,dN=new yi,vg=function(e){this.component=e,this.signals={changed:new An.exports.Signal},this.stage=e.stage,this.viewer=e.stage.viewer},tE={position:{configurable:!0},rotation:{configurable:!0}};tE.position.get=function(){return this.component.position},tE.rotation.get=function(){return this.component.quaternion},vg.prototype.changed=function(){this.component.updateMatrix(),this.viewer.requestRender(),this.signals.changed.dispatch()},vg.prototype.spin=function(e,t){Dc.getInverse(this.viewer.rotationGroup.matrix),Fy.copy(ml(e)).applyMatrix4(Dc),Dc.extractRotation(this.component.transform),Dc.premultiply(this.viewer.rotationGroup.matrix),Dc.getInverse(Dc),Fy.copy(ml(e)),Fy.applyMatrix4(Dc),Dc.makeRotationAxis(Fy,t),dN.setFromRotationMatrix(Dc),this.component.quaternion.premultiply(dN),this.changed()},Object.defineProperties(vg.prototype,tE);var GI={"":"",vdw:"by vdW radius",covalent:"by covalent radius",sstruc:"by secondary structure",bfactor:"by bfactor",size:"size",data:"data",explicit:"explicit"},Ac=function(e){e===void 0&&(e={}),this.max=10,this.type=z(e.type,"size"),this.scale=z(e.scale,1),this.size=z(e.size,1),this.data=z(e.data,{})};Ac.prototype.atomRadius=function(e){var t;switch(this.type){case"vdw":t=e.vdw;break;case"covalent":t=e.covalent;break;case"bfactor":t=e.bfactor||1;break;case"sstruc":var n=e.sstruc;t=n==="h"||n==="g"||n==="i"||n==="e"||n==="b"?.25:yI.includes(e.atomname)?.4:.1;break;case"data":t=z(this.data[e.index],1);break;case"explicit":(t=e.radius)===null&&(t=this.size);break;default:t=this.size}return Math.min(t*this.scale,this.max)},Ac.types=GI;var PAe=new P(-1,-1,-1),UAe=new st,kf=function(e){var t=e.rows,n=t/3,i=new Yn(t,3),r=new Yn(3,3),a=new Yn(1,3),s=new Yn(3,3),o=new Yn(3,3),c=Y_(e);q_(e,c),go(i,e),yg(r,i,i),_I(r,a,s,o);var A=new P(c[0],c[1],c[2]),l=new P(s.data[0],s.data[3],s.data[6]),u=new P(s.data[1],s.data[4],s.data[7]),d=new P(s.data[2],s.data[5],s.data[8]),p=l.clone().multiplyScalar(Math.sqrt(a.data[0]/n)),h=u.clone().multiplyScalar(Math.sqrt(a.data[1]/n)),g=d.clone().multiplyScalar(Math.sqrt(a.data[2]/n));this.begA=A.clone().sub(p),this.endA=A.clone().add(p),this.begB=A.clone().sub(h),this.endB=A.clone().add(h),this.begC=A.clone().sub(g),this.endC=A.clone().add(g),this.center=A,this.vecA=p,this.vecB=h,this.vecC=g,this.normVecA=l,this.normVecB=u,this.normVecC=d};kf.prototype.getBasisMatrix=function(e){e===void 0&&(e=new st);var t=e;return t.makeBasis(this.normVecB,this.normVecA,this.normVecC),t.determinant()<0&&t.scale(PAe),t},kf.prototype.getRotationQuaternion=function(e){e===void 0&&(e=new yi);var t=e;return t.setFromRotationMatrix(this.getBasisMatrix(UAe)),t.inverse()},kf.prototype.getProjectedScaleForAtoms=function(e){var t=-1/0,n=-1/0,i=-1/0,r=-1/0,a=-1/0,s=-1/0,o=new P,c=new P,A=this.center,l=this.normVecA,u=this.normVecB,d=this.normVecC;return e.eachAtom(function(p){gl(o.copy(p),l,A);var h=c.subVectors(o,A).normalize().dot(l),g=o.distanceTo(A);h>0?g>t&&(t=g):g>n&&(n=g),gl(o.copy(p),u,A);var b=c.subVectors(o,A).normalize().dot(u),y=o.distanceTo(A);b>0?y>i&&(i=y):y>r&&(r=y),gl(o.copy(p),d,A);var v=c.subVectors(o,A).normalize().dot(d),_=o.distanceTo(A);v>0?_>a&&(a=_):_>s&&(s=_)}),{d1a:t,d2a:i,d3a:a,d1b:-n,d2b:-r,d3b:-s}};var Ns=function(e,t,n,i){this.volume=e,this.setFilter(t,n,i)},ao={header:{configurable:!0},matrix:{configurable:!0},normalMatrix:{configurable:!0},inverseMatrix:{configurable:!0},center:{configurable:!0},boundingBox:{configurable:!0},min:{configurable:!0},max:{configurable:!0},mean:{configurable:!0},rms:{configurable:!0}};ao.header.get=function(){return this.volume.header},ao.matrix.get=function(){return this.volume.matrix},ao.normalMatrix.get=function(){return this.volume.normalMatrix},ao.inverseMatrix.get=function(){return this.volume.inverseMatrix},ao.center.get=function(){return this.volume.center},ao.boundingBox.get=function(){return this.volume.boundingBox},ao.min.get=function(){return this.volume.min},ao.max.get=function(){return this.volume.max},ao.mean.get=function(){return this.volume.mean},ao.rms.get=function(){return this.volume.rms},Ns.prototype._getFilterHash=function(e,t,n){return JSON.stringify([e,t,n])},Ns.prototype.setFilter=function(e,t,n){isNaN(e)&&this.header&&(e=this.header.DMEAN+2*this.header.ARMS),e=e===void 0||isNaN(e)?-1/0:e,t=z(t,1/0),n=z(n,!1);var i=this.volume.data,r=this.volume.position,a=this.volume.atomindex,s=this._getFilterHash(e,t,n);if(s!==this._filterHash){if(e===-1/0&&t===1/0)this.data=i,this.position=r,this.atomindex=a;else{var o=i.length;this._dataBuffer||(this._dataBuffer=new ArrayBuffer(4*o),this._positionBuffer=new ArrayBuffer(3*o*4),a&&(this._atomindexBuffer=new ArrayBuffer(4*o)));var c,A=new Float32Array(this._dataBuffer),l=new Float32Array(this._positionBuffer);a&&(c=new Uint32Array(this._atomindexBuffer));for(var u=0,d=0;d<o;++d){var p=3*d,h=i[d];if(!n&&h>=e&&h<=t||n&&(h<e||h>t)){var g=3*u;A[u]=h,l[g+0]=r[p+0],l[g+1]=r[p+1],l[g+2]=r[p+2],a&&c&&(c[u]=a[d]),u+=1}}this.data=new Float32Array(this._dataBuffer,0,u),this.position=new Float32Array(this._positionBuffer,0,3*u),a&&(this.atomindex=new Int32Array(this._atomindexBuffer,0,u))}this._filterHash=s}},Object.defineProperties(Ns.prototype,ao),Ns.prototype.getValueForSigma=jn.prototype.getValueForSigma,Ns.prototype.getSigmaForValue=jn.prototype.getSigmaForValue,Ns.prototype.getDataAtomindex=jn.prototype.getDataAtomindex,Ns.prototype.getDataPosition=jn.prototype.getDataPosition,Ns.prototype.getDataColor=jn.prototype.getDataColor,Ns.prototype.getDataPicking=jn.prototype.getDataPicking,Ns.prototype.getDataSize=jn.prototype.getDataSize;var DAe=function(e,t){var n=AI({nodeArray1:e.atomIndex1,nodeArray2:e.atomIndex2,edgeCount:e.count,nodeCount:t});this.countArray=n.countArray,this.offsetArray=n.offsetArray,this.indexArray=n.indexArray},wg=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["atomIndex1",1,"int32"],["atomIndex2",1,"int32"],["bondOrder",1,"int8"]]},t.prototype.addBond=function(i,r,a){this.growIfFull();var s=this.count,o=i.index,c=r.index;o<c?(this.atomIndex1[s]=o,this.atomIndex2[s]=c):(this.atomIndex2[s]=o,this.atomIndex1[s]=c),a&&(this.bondOrder[s]=a),this.count+=1},t.prototype.addBondIfConnected=function(i,r,a){return!!i.connectedTo(r)&&(this.addBond(i,r,a),!0)},Object.defineProperties(t.prototype,n),t}(Ir),kAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["residueIndex",1,"uint32"],["atomTypeId",1,"uint16"],["x",1,"float32"],["y",1,"float32"],["z",1,"float32"],["serial",1,"int32"],["bfactor",1,"float32"],["altloc",1,"uint8"],["occupancy",1,"float32"]]},t.prototype.setAltloc=function(i,r){this.altloc[i]=r.charCodeAt(0)},t.prototype.getAltloc=function(i){var r=this.altloc[i];return r?String.fromCharCode(r):""},Object.defineProperties(t.prototype,n),t}(Ir),OAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["chainIndex",1,"uint32"],["atomOffset",1,"uint32"],["atomCount",1,"uint32"],["residueTypeId",1,"uint16"],["resno",1,"int32"],["sstruc",1,"uint8"],["inscode",1,"uint8"]]},t.prototype.setSstruc=function(i,r){this.sstruc[i]=r.charCodeAt(0)},t.prototype.getSstruc=function(i){var r=this.sstruc[i];return r?String.fromCharCode(r):""},t.prototype.setInscode=function(i,r){this.inscode[i]=r.charCodeAt(0)},t.prototype.getInscode=function(i){var r=this.inscode[i];return r?String.fromCharCode(r):""},Object.defineProperties(t.prototype,n),t}(Ir),HAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["entityIndex",1,"uint16"],["modelIndex",1,"uint16"],["residueOffset",1,"uint32"],["residueCount",1,"uint32"],["chainname",4,"uint8"],["chainid",4,"uint8"]]},t.prototype.setChainname=function(i,r){var a=4*i;this.chainname[a]=r.charCodeAt(0),this.chainname[a+1]=r.charCodeAt(1),this.chainname[a+2]=r.charCodeAt(2),this.chainname[a+3]=r.charCodeAt(3)},t.prototype.getChainname=function(i){for(var r="",a=0;a<4;++a){var s=this.chainname[4*i+a];if(!s)break;r+=String.fromCharCode(s)}return r},t.prototype.setChainid=function(i,r){var a=4*i;this.chainid[a]=r.charCodeAt(0),this.chainid[a+1]=r.charCodeAt(1),this.chainid[a+2]=r.charCodeAt(2),this.chainid[a+3]=r.charCodeAt(3)},t.prototype.getChainid=function(i){for(var r="",a=0;a<4;++a){var s=this.chainid[4*i+a];if(!s)break;r+=String.fromCharCode(s)}return r},Object.defineProperties(t.prototype,n),t}(Ir),QAe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["chainOffset",1,"uint32"],["chainCount",1,"uint32"]]},Object.defineProperties(t.prototype,n),t}(Ir),$c=function(e){this.polymer=e,this.size=e.residueCount};$c.prototype.getCenterIterator=function(e){e===void 0&&(e=0);var t=this.getPosition().center,n=t.length/3,i=0,r=-1,a=[new P,new P,new P,new P];return{size:n,next:function(){var s=this.get(r);return r+=1,s},get:function(s){s=Math.min(n-1,Math.max(0,s));var o=a[i%4],c=3*s;if(o.fromArray(t,c),e){for(var A=Math.min(e,s,n-s-1),l=1;l<=A;++l){var u=3*l,d=(A+1-l)/(A+1);o.x+=d*t[c-u+0]+d*t[c+u+0],o.y+=d*t[c-u+1]+d*t[c+u+1],o.z+=d*t[c-u+2]+d*t[c+u+2]}o.x/=A+1,o.y/=A+1,o.z/=A+1}return i+=1,o},reset:function(){i=0,r=-1}}},$c.prototype.getColor=function(e){var t=this.polymer,n=t.structure,i=t.residueCount,r=t.residueIndexStart,a=new Float32Array(3*i),s=e||{};s.structure=n;for(var o=Nn.getScheme(s),c=n.getResidueProxy(),A=n.getAtomProxy(),l=0;l<i;++l)c.index=r+l,A.index=c.traceAtomIndex,o.atomColorToArray(A,a,3*l);return{color:a}},$c.prototype.getPicking=function(){for(var e=this.polymer,t=e.structure,n=e.residueCount,i=e.residueIndexStart,r=new Float32Array(n),a=t.getResidueProxy(),s=0;s<n;++s)a.index=i+s,r[s]=a.traceAtomIndex;return{picking:new Ol(r,t)}},$c.prototype.getSize=function(e){for(var t=this.polymer,n=t.structure,i=t.residueCount,r=t.residueIndexStart,a=new Float32Array(i),s=new Ac(e),o=n.getResidueProxy(),c=n.getAtomProxy(),A=0;A<i;++A)o.index=r+A,c.index=o.traceAtomIndex,a[A]=s.atomRadius(c);return{size:a}},$c.prototype.getPosition=function(){for(var e=this.polymer,t=e.structure,n=e.residueCount,i=n-3,r=new Float32Array(3*n),a=new Float32Array(3*n),s=new Float32Array(n),o=new Float32Array(n),c=new Float32Array(n),A=new Float32Array(n),l=new Float32Array(3*n),u=new P,d=new P,p=new P,h=new P,g=new P,b=new P,y=new P,v=new P,_=new P,w=new P,E=new P,B=new P(0,0,0),R="trace",G=t.getAtomProxy(),C=t.getAtomProxy(e.getAtomIndexByType(0,R)),O=t.getAtomProxy(e.getAtomIndexByType(1,R)),I=t.getAtomProxy(e.getAtomIndexByType(2,R)),D=0;D<i;++D){G.index=C.index,C.index=O.index,O.index=I.index,I.index=e.getAtomIndexByType(D+3,R);var k=3*D;u.subVectors(C,G),d.subVectors(O,C),p.subVectors(I,O),h.subVectors(u,d),g.subVectors(d,p),_.crossVectors(h,g).normalize(),_.toArray(a,k),D>0&&(s[D]=_.angleTo(w));var L=Math.cos(h.angleTo(g));A[D]=180/Math.PI*Math.acos(L);var T=h.length(),H=g.length();o[D]=Math.sqrt(H*T)/Math.max(2,2*(1-L)),c[D]=Math.abs(d.dot(_)),b.copy(h).multiplyScalar(o[D]/T),y.copy(g).multiplyScalar(o[D]/H),b.subVectors(C,b),y.subVectors(O,y),b.toArray(r,k+3),y.toArray(r,k+6),E.subVectors(G,B),E.toArray(l,k),w.copy(_),B.copy(b)}b.fromArray(r,3),y.fromArray(r,6),_.subVectors(b,y).normalize(),G.index=e.getAtomIndexByType(0,R),B.copy(G),v.copy(G),gl(v,_,b),v.toArray(r,0),E.subVectors(B,b),E.toArray(l,0),b.fromArray(r,3*n-6),y.fromArray(r,3*n-9),_.subVectors(b,y).normalize(),G.index=e.getAtomIndexByType(n-1,R),B.copy(G),v.copy(G),gl(v,_,b),v.toArray(r,3*n-3);for(var W=n-3;W<n;++W)b.fromArray(r,3*W),G.index=e.getAtomIndexByType(W,R),B.copy(G),E.subVectors(B,b),E.toArray(l,3*W);var j=new Float32Array(n),ce=new Float32Array(n),ue=new Float32Array(n),te=new Float32Array(n);j[1]=o[0],ce[1]=A[0],ue[1]=o[0];for(var re=2;re<n-2;++re)j[re]=.5*(o[re-2]+o[re-1]),ce[re]=.5*(A[re-2]+A[re-1]),ue[re]=.5*(c[re-2]+c[re-1]),b.fromArray(a,3*(re-2)),y.fromArray(a,3*(re-1)),te[re]=180/Math.PI*Math.acos(Math.cos(b.angleTo(y)));j[n-2]=o[n-4],ce[n-2]=A[n-4],ue[n-2]=c[n-4];var ae=new Float32Array(3*n);lr(a,ae,0,0,3),lr(a,ae,0,3,3);for(var fe=2;fe<n-2;++fe)b.fromArray(a,3*(fe-2)),y.fromArray(a,3*(fe-1)),_.addVectors(y,b).multiplyScalar(.5).normalize(),_.toArray(ae,3*fe);return lr(a,ae,3*n-12,3*n-6,3),lr(a,ae,3*n-12,3*n-3,3),{center:r,axis:ae,bending:te,radius:j,rise:ue,twist:ce,resdir:l}};var U7=function(e){this.polymer=e,this.helixorient=new $c(e),this.position=this.helixorient.getPosition()};U7.prototype.getAxis=function(e,t,n,i,r){e=e||30,t=t||2.5,n=n!==void 0&&n;var a=this.polymer,s=a.structure,o=a.residueCount,c=a.residueIndexStart,A=this.position,l=i||{};l.structure=s;for(var u,d,p=Nn.getScheme(l),h=new Ac(r),g=0,b=0,y=[],v=[],_=[],w=[],E=[],B=[],R=[],G=[],C=[],O=new Float32Array(3*o),I=new Float32Array(3*o),D=new P,k=new P,L=s.getResidueProxy(),T=s.getResidueProxy(),H=s.getAtomProxy(),W=new P,j=new P,ce=!1,ue=0;ue<o;++ue)if(L.index=c+ue,W.fromArray(A.center,3*ue),ue===o-1?ce=!0:(T.index=c+ue+1,j.fromArray(A.center,3*ue+3),(n&&L.sstruc!==T.sstruc||W.distanceTo(j)>t||A.bending[ue]>e)&&(ce=!0)),ce){if(ue-g<4){g=ue,ce=!1;continue}H.index=L.traceAtomIndex,O=A.axis.subarray(3*g+3,3*ue),I=A.center.subarray(3*g,3*ue+3),u=W_(O).normalize(),d=W_(I),D.fromArray(I),gl(D,u,d),k.fromArray(I,I.length-3),gl(k,u,d),u.subVectors(k,D),u.toArray(y,b),d.toArray(v,b),D.toArray(_,b),k.toArray(w,b),p.atomColorToArray(H,E,b),B.push(H.index),R.push(h.atomRadius(H)),G.push(c+g),C.push(c+ue+1-g),b+=3,g=ue,ce=!1}var te=new Float32Array(B);return{axis:new Float32Array(y),center:new Float32Array(v),begin:new Float32Array(_),end:new Float32Array(w),color:new Float32Array(E),picking:new Ol(te,s),size:new Float32Array(R),residueOffset:G,residueCount:C}};var j0=function(e){this.scoreFunction=e,this.content=[],this.scoreFunction=e};j0.prototype.push=function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},j0.prototype.pop=function(){var e=this.content[0],t=this.content.pop();return t&&this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},j0.prototype.peek=function(){return this.content[0]},j0.prototype.remove=function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]===e){var i=this.content.pop();return void(i&&n!==t-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(e)?this.bubbleUp(n):this.sinkDown(n)))}throw new Error("Node not found.")},j0.prototype.size=function(){return this.content.length},j0.prototype.bubbleUp=function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,i=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(i)))break;this.content[n]=t,this.content[e]=i,e=n}},j0.prototype.sinkDown=function(e){for(var t=this.content.length,n=this.content[e],i=this.scoreFunction(n),r=0;;){var a=2*(e+1),s=a-1,o=null;if(s<t){var c=this.content[s];(r=this.scoreFunction(c))<i&&(o=s)}if(a<t){var A=this.content[a];this.scoreFunction(A)<(o===null?i:r)&&(o=a)}if(o===null)break;this.content[e]=this.content[o],this.content[o]=n,e=o}};/**
 * Kdtree
 * @class
 * @author Alexander Rose <alexander.rose@weirdbyte.de>, 2016
 * @author Roman Bolzern <roman.bolzern@fhnw.ch>, 2013
 * @author I4DS http://www.fhnw.ch/i4ds, 2013
 * @license MIT License <http://www.opensource.org/licenses/mit-license.php>
 * @description
 * k-d Tree for typed arrays of 3d points (e.g. for Float32Array), in-place
 * provides fast nearest neighbour search
 *
 * Based on https://github.com/ubilabs/kd-tree-javascript by Ubilabs
 *
 * Further information (including mathematical properties)
 * http://en.wikipedia.org/wiki/Binary_tree
 * http://en.wikipedia.org/wiki/K-d_tree
 *
 * @example
 * points: [x, y, z, x, y, z, x, y, z, ...]
 * metric: function(a, b){
 *    return Math.pow(a[0]-b[0], 2) + Math.pow(a[1]-b[1], 2) + Math.pow(a[2]-b[2], 2);
 * }
 *
 * @param {Float32Array} points - points
 * @param {Function} metric - metric
 */var wf=function(e,t){this.points=e,this.metric=t,this.maxDepth=0,this.currentNode=0;for(var n=e.length/3,i=new Uint32Array(n),r=0;r<n;++r)i[r]=r;this.indices=i,this.nodes=new Int32Array(4*n),this.rootIndex=this.buildTree(0,-1,0,n)};wf.prototype.buildTree=function(e,t,n,i){e>this.maxDepth&&(this.maxDepth=e);var r=i-n;if(r===0)return-1;var a=4*this.currentNode,s=this.nodes;if(this.currentNode+=1,r===1)return s[a]=n,s[a+1]=-1,s[a+2]=-1,s[a+3]=t,a;for(var o,c,A,l,u,d=this.indices,p=this.points,h=n+Math.floor(r/2),g=e%3,b=n,y=i-1;y>b;){for(l=p[3*d[A=b+y>>1]+g],c=d[A],d[A]=d[y],d[y]=c,u=b,o=b;o<y;++o)p[3*d[o]+g]<l&&(c=d[u],d[u]=d[o],d[o]=c,++u);if(c=d[y],d[y]=d[u],d[u]=c,h===(A=u))break;h<A?y=A-1:b=A+1}return s[a]=h,s[a+1]=this.buildTree(e+1,a,n,h),s[a+2]=this.buildTree(e+1,a,h+1,i),s[a+3]=t,a},wf.prototype.getNodeDepth=function(e){var t=this.nodes[e+3];return t===-1?0:this.getNodeDepth(t)+1},wf.prototype.nearest=function(e,t,n){var i=this,r=new j0(function(d){return-d[1]}),a=this.nodes,s=this.points,o=this.indices,c=function(d){var p,h,g=i.getNodeDepth(d)%3,b=3*o[a[d]],y=[s[b+0],s[b+1],s[b+2]],v=i.metric(e,y);function _(C,O){r.push([C,O]),r.size()>t&&r.pop()}var w=a[d+1],E=a[d+2];if(E!==-1||w!==-1){p=E===-1?w:w===-1?E:e[g]<=s[b+g]?w:E,c(p),(r.size()<t||v<r.peek()[1])&&v<=n&&_(d,v);for(var B=[],R=0;R<3;R+=1)B[R]=R===g?e[R]:s[b+R];var G=i.metric(B,y);(r.size()<t||Math.abs(G)<r.peek()[1])&&Math.abs(G)<=n&&(h=p===w?E:w)!==-1&&c(h)}else(r.size()<t||v<r.peek()[1])&&v<=n&&_(d,v)};c(this.rootIndex);for(var A=[],l=0,u=Math.min(r.size(),t);l<u;l+=1)A.push(r.content[l]);return A},wf.prototype.verify=function(e,t){t===void 0&&(t=0);var n=1;if(e===void 0&&(e=this.rootIndex),e===-1)throw new Error("node is null");var i=t%3,r=this.nodes,a=this.points,s=this.indices,o=r[e+1],c=r[e+2];if(o!==-1){if(a[3*s[r[o]]+i]>a[3*s[r[e]]+i])throw new Error("left child is > parent!");n+=this.verify(o,t+1)}if(c!==-1){if(a[3*s[r[c]]+i]<a[3*s[r[e]]+i])throw new Error("right child is < parent!");n+=this.verify(c,t+1)}return n};var Kt=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueMap=e.residueMap,this.atomMap=e.atomMap},hn={bondHash:{configurable:!0},entity:{configurable:!0},entityIndex:{configurable:!0},modelIndex:{configurable:!0},chainIndex:{configurable:!0},residue:{configurable:!0},residueIndex:{configurable:!0},sstruc:{configurable:!0},inscode:{configurable:!0},resno:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0},residueType:{configurable:!0},atomType:{configurable:!0},residueAtomOffset:{configurable:!0},resname:{configurable:!0},hetero:{configurable:!0},atomname:{configurable:!0},number:{configurable:!0},element:{configurable:!0},vdw:{configurable:!0},covalent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},z:{configurable:!0},serial:{configurable:!0},bfactor:{configurable:!0},occupancy:{configurable:!0},altloc:{configurable:!0},partialCharge:{configurable:!0},radius:{configurable:!0},formalCharge:{configurable:!0},aromatic:{configurable:!0},bondCount:{configurable:!0}};function MI(e,t){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function zAe(e,t){return Math.sqrt(MI(e,t))}hn.bondHash.get=function(){return this.structure.bondHash},hn.entity.get=function(){return this.structure.entityList[this.entityIndex]},hn.entityIndex.get=function(){return this.chainStore.entityIndex[this.chainIndex]},hn.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},hn.chainIndex.get=function(){return this.residueStore.chainIndex[this.residueIndex]},hn.residue.get=function(){return console.warn("residue - might be expensive"),this.structure.getResidueProxy(this.residueIndex)},hn.residueIndex.get=function(){return this.atomStore.residueIndex[this.index]},hn.residueIndex.set=function(e){this.atomStore.residueIndex[this.index]=e},hn.sstruc.get=function(){return this.residueStore.getSstruc(this.residueIndex)},hn.inscode.get=function(){return this.residueStore.getInscode(this.residueIndex)},hn.resno.get=function(){return this.residueStore.resno[this.residueIndex]},hn.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},hn.chainid.get=function(){return this.chainStore.getChainid(this.chainIndex)},hn.residueType.get=function(){return this.residueMap.get(this.residueStore.residueTypeId[this.residueIndex])},hn.atomType.get=function(){return this.atomMap.get(this.atomStore.atomTypeId[this.index])},hn.residueAtomOffset.get=function(){return this.residueStore.atomOffset[this.residueIndex]},hn.resname.get=function(){return this.residueType.resname},hn.hetero.get=function(){return this.residueType.hetero},hn.atomname.get=function(){return this.atomType.atomname},hn.number.get=function(){return this.atomType.number},hn.element.get=function(){return this.atomType.element},hn.vdw.get=function(){return this.atomType.vdw},hn.covalent.get=function(){return this.atomType.covalent},hn.x.get=function(){return this.atomStore.x[this.index]},hn.x.set=function(e){this.atomStore.x[this.index]=e},hn.y.get=function(){return this.atomStore.y[this.index]},hn.y.set=function(e){this.atomStore.y[this.index]=e},hn.z.get=function(){return this.atomStore.z[this.index]},hn.z.set=function(e){this.atomStore.z[this.index]=e},hn.serial.get=function(){return this.atomStore.serial[this.index]},hn.serial.set=function(e){this.atomStore.serial[this.index]=e},hn.bfactor.get=function(){return this.atomStore.bfactor[this.index]},hn.bfactor.set=function(e){this.atomStore.bfactor[this.index]=e},hn.occupancy.get=function(){return this.atomStore.occupancy[this.index]},hn.occupancy.set=function(e){this.atomStore.occupancy[this.index]=e},hn.altloc.get=function(){return this.atomStore.getAltloc(this.index)},hn.altloc.set=function(e){this.atomStore.setAltloc(this.index,e)},hn.partialCharge.get=function(){return this.atomStore.partialCharge?this.atomStore.partialCharge[this.index]:null},hn.partialCharge.set=function(e){this.atomStore.partialCharge&&(this.atomStore.partialCharge[this.index]=e)},hn.radius.get=function(){return this.atomStore.radius?this.atomStore.radius[this.index]:null},hn.radius.set=function(e){this.atomStore.radius&&(this.atomStore.radius[this.index]=e)},hn.formalCharge.get=function(){return this.atomStore.formalCharge?this.atomStore.formalCharge[this.index]:null},hn.formalCharge.set=function(e){this.atomStore.formalCharge&&(this.atomStore.formalCharge[this.index]=e)},hn.aromatic.get=function(){return this.atomStore.aromatic?this.atomStore.aromatic[this.index]:this.residueType.isAromatic(this)?1:0},hn.aromatic.set=function(e){this.atomStore.aromatic&&(this.atomStore.aromatic[this.index]=e)},hn.bondCount.get=function(){return this.bondHash.countArray[this.index]},Kt.prototype.eachBond=function(e,t){t=t||this.structure._bp;for(var n=this.index,i=this.bondHash,r=i.indexArray,a=i.countArray[n],s=i.offsetArray[n],o=0;o<a;++o)t.index=r[s+o],e(t)},Kt.prototype.eachBondedAtom=function(e,t){var n=t||this.structure._ap,i=this.index;this.eachBond(function(r){n.index=i!==r.atomIndex1?r.atomIndex1:r.atomIndex2,e(n)}),this.index=i},Kt.prototype.hasBondTo=function(e){var t=!1;return this.eachBondedAtom(function(n){e.index===n.index&&(t=!0)}),t},Kt.prototype.bondToElementCount=function(e){var t=0,n=this.index;return this.eachBondedAtom(function(i){i.number===e&&(t+=1)}),this.index=n,t},Kt.prototype.hasBondToElement=function(e){return this.bondToElementCount(e)>0},Kt.prototype.isBackbone=function(){var e=this.residueType.backboneIndexList;return e.length>0&&e.includes(this.index-this.residueAtomOffset)},Kt.prototype.isPolymer=function(){if(this.structure.entityList.length>0)return this.entity.isPolymer();var e=this.residueType.moleculeType;return e===3||e===4||e===5},Kt.prototype.isSidechain=function(){return this.isPolymer()&&!this.isBackbone()},Kt.prototype.isCg=function(){var e=this.residueType.backboneType;return e===4||e===5||e===6},Kt.prototype.isTrace=function(){return this.index===this.residueType.traceAtomIndex+this.residueAtomOffset},Kt.prototype.isHetero=function(){return this.residueType.hetero===1},Kt.prototype.isProtein=function(){return this.residueType.moleculeType===3},Kt.prototype.isNucleic=function(){var e=this.residueType.moleculeType;return e===4||e===5},Kt.prototype.isRna=function(){return this.residueType.moleculeType===4},Kt.prototype.isDna=function(){return this.residueType.moleculeType===5},Kt.prototype.isWater=function(){return this.residueType.moleculeType===1},Kt.prototype.isIon=function(){return this.residueType.moleculeType===2},Kt.prototype.isSaccharide=function(){return this.residueType.moleculeType===6},Kt.prototype.isHelix=function(){return uI.includes(this.sstruc)},Kt.prototype.isSheet=function(){return dI.includes(this.sstruc)},Kt.prototype.isTurn=function(){return pI.includes(this.sstruc)&&this.isProtein()},Kt.prototype.isBonded=function(){return this.bondHash.countArray[this.index]!==0},Kt.prototype.isRing=function(){return this.residueType.getRings().atomRings[this.index-this.residueAtomOffset]!==void 0},Kt.prototype.isAromatic=function(){return this.aromatic===1},Kt.prototype.isPolarHydrogen=function(){var e=!1;return this.number!==1?e:e=!this.hasBondToElement(6)},Kt.prototype.isMetal=function(){return this.atomType.isMetal()},Kt.prototype.isNonmetal=function(){return this.atomType.isNonmetal()},Kt.prototype.isMetalloid=function(){return this.atomType.isMetalloid()},Kt.prototype.isHalogen=function(){return this.atomType.isHalogen()},Kt.prototype.isDiatomicNonmetal=function(){return this.atomType.isDiatomicNonmetal()},Kt.prototype.isPolyatomicNonmetal=function(){return this.atomType.isPolyatomicNonmetal()},Kt.prototype.isAlkaliMetal=function(){return this.atomType.isAlkaliMetal()},Kt.prototype.isAlkalineEarthMetal=function(){return this.atomType.isAlkalineEarthMetal()},Kt.prototype.isNobleGas=function(){return this.atomType.isNobleGas()},Kt.prototype.isTransitionMetal=function(){return this.atomType.isTransitionMetal()},Kt.prototype.isPostTransitionMetal=function(){return this.atomType.isPostTransitionMetal()},Kt.prototype.isLanthanide=function(){return this.atomType.isLanthanide()},Kt.prototype.isActinide=function(){return this.atomType.isActinide()},Kt.prototype.getDefaultValence=function(){return this.atomType.getDefaultValence()},Kt.prototype.getValenceList=function(){return this.atomType.getValenceList()},Kt.prototype.getOuterShellElectronCount=function(){return this.atomType.getOuterShellElectronCount()},Kt.prototype.distanceTo=function(e){var t=this.atomStore,n=e.atomStore,i=this.index,r=e.index,a=t.x[i]-n.x[r],s=t.y[i]-n.y[r],o=t.z[i]-n.z[r],c=a*a+s*s+o*o;return Math.sqrt(c)},Kt.prototype.connectedTo=function(e){var t=this.atomStore,n=e.atomStore,i=this.index,r=e.index;if(t.altloc&&n.altloc){var a=t.altloc[i],s=n.altloc[r];if(a!==0&&s!==0&&a!==32&&s!==32&&a!==s)return!1}var o=t.x[i]-n.x[r],c=t.y[i]-n.y[r],A=t.z[i]-n.z[r],l=o*o+c*c+A*A;if(l<48&&this.isCg())return!0;if(isNaN(l))return!1;var u=this.covalent+e.covalent,d=u+.3,p=u-.5;return l<d*d&&l>p*p},Kt.prototype.positionFromArray=function(e,t){return t===void 0&&(t=0),this.x=e[t+0],this.y=e[t+1],this.z=e[t+2],this},Kt.prototype.positionToArray=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);var n=this.index,i=this.atomStore;return e[t+0]=i.x[n],e[t+1]=i.y[n],e[t+2]=i.z[n],e},Kt.prototype.positionToVector3=function(e){return e===void 0&&(e=new P),e.x=this.x,e.y=this.y,e.z=this.z,e},Kt.prototype.positionFromVector3=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},Kt.prototype.positionAdd=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},Kt.prototype.positionSub=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},Kt.prototype.getResidueBonds=function(e){e===void 0&&(e=!1);var t,n,i,r,a=this.residueAtomOffset,s=this.index-this.residueAtomOffset,o=this.residueType.getBonds(),c=o.atomIndices1,A=o.atomIndices2;for(e||(r=[]),t=c.indexOf(s);t!==-1;){if(i=A[t]+a,!r)return i;r.push(i),t=c.indexOf(s,t+1)}for(n=A.indexOf(s);n!==-1;){if(i=c[n]+a,!r)return i;r.push(i),n=A.indexOf(s,n+1)}return r},Kt.prototype.qualifiedName=function(e){e===void 0&&(e=!1);var t="";return this.resname&&!e&&(t+="["+this.resname+"]"),this.resno!==void 0&&(t+=this.resno),this.inscode&&(t+="^"+this.inscode),this.chainname&&(t+=":"+this.chainname),this.atomname&&(t+="."+this.atomname),this.altloc&&(t+="%"+this.altloc),this.structure.modelStore.count>1&&(t+="/"+this.modelIndex),t},Kt.prototype.clone=function(){return new Kt(this.structure,this.index)},Kt.prototype.toObject=function(){return{index:this.index,residueIndex:this.residueIndex,resname:this.resname,x:this.x,y:this.y,z:this.z,element:this.element,chainname:this.chainname,resno:this.resno,serial:this.serial,vdw:this.vdw,covalent:this.covalent,hetero:this.hetero,bfactor:this.bfactor,altloc:this.altloc,atomname:this.atomname,modelIndex:this.modelIndex}},Object.defineProperties(Kt.prototype,hn);var nE=new Float32Array(3),TI=function(e,t){t===void 0&&(t=!1),je&&De.time("Kdtree build");var n=t?MI:zAe,i=new Float32Array(3*e.atomCount),r=new Uint32Array(e.atomCount),a=0;e.eachAtom(function(s){i[a+0]=s.x,i[a+1]=s.y,i[a+2]=s.z,r[a/3]=s.index,a+=3}),this.atomIndices=r,this.points=i,this.kdtree=new wf(i,n),je&&De.timeEnd("Kdtree build")};TI.prototype.nearest=function(e,t,n){e instanceof P?e.toArray(nE):e instanceof Kt&&e.positionToArray(nE);for(var i=this.kdtree.nearest(nE,t,n),r=this.kdtree.indices,a=this.kdtree.nodes,s=this.atomIndices,o=[],c=0,A=i.length;c<A;++c){var l=i[c],u=l[0],d=l[1];o.push({index:s[r[a[u]]],distance:d})}return o};var VAe={" ":"X","!":"Y","#":"Z",$:"-X","%":"-Y","&":"-Z","'":"Y+1/2","(":"1/2+X",")":"1/2+Y","*":"1/2-X","+":"1/2+Z",",":"1/2-Y","-":"1/2-Z",".":"X+1/2","/":"Z+1/2",0:"-X+1/2",1:"-Y+1/2",2:"-Z+1/2",3:"1/4+X",4:"1/4-Y",5:"1/4+Z",6:"1/4-X",7:"1/4+Y",8:"3/4-Y",9:"3/4+Z",":":"3/4+Y",";":"3/4+X","<":"3/4-X","=":"1/4-Z",">":"3/4-Z","?":"X-Y","@":"Y-X",A:"Z+1/3",B:"Z+2/3",C:"X+2/3",D:"Y+1/3",E:"-Y+2/3",F:"X-Y+1/3",G:"Y-X+2/3",H:"-X+1/3",I:"X+1/3",J:"Y+2/3",K:"-Y+1/3",L:"X-Y+2/3",M:"Y-X+1/3",N:"-X+2/3",O:"2/3+X",P:"1/3+Y",Q:"1/3+Z",R:"2/3-Y",S:"1/3+X-Y",T:"2/3+Y-X",U:"1/3-X",V:"2/3-X",W:"1/3-Y",X:"1/3-Z",Y:"2/3+Y",Z:"1/3+Y-X","[":"2/3+X-Y","]":"1/3+X","^":"2/3+Z",_:"2/3-Z","`":"5/6+Z",a:"1/6+Z",b:"5/6-Z",c:"1/6-Z",d:"Z+5/6",e:"Z+1/6",f:"Z+1/4",g:"+Y"},KAe={"P 1":" !#","P -1":" !#$%&","P 1 2 1":" !#$!&","P 1 21 1":" !#$'&","C 1 2 1":" !#$!&()#*)&","P 1 m 1":" !# %#","P 1 c 1":" !# %+","C 1 m 1":" !# %#()#(,#","C 1 c 1":" !# %+()#(,+","P 1 2/m 1":" !# %#$!&$%&","P 1 21/m 1":" !#$)&$%& ,#","C 1 2/m 1":" !# %#$!&$%&()#(,#*)&*,&","P 1 2/c 1":" !#$!-$%& %+","P 1 21/c 1":" !#$%&$)- ,+","C 1 2/c 1":" !#$!-$%& %+()#*)-*,&(,+","P 2 2 2":" !#$%#$!& %&","P 2 2 21":" !#$%+$!- %&","P 21 21 2":" !#$%#*)&(,&","P 21 21 21":" !#*%+$)-(,&","C 2 2 21":" !#$%+$!- %&()#*,+*)-(,&","C 2 2 2":" !#$%#$!& %&()#*,#*)&(,&","F 2 2 2":" !#$%#$!& %& )+$,+$)- ,-(!+*%+*!-(%-()#*,#*)&(,&","I 2 2 2":" !#$%# %&$!&.'/01/.120'2","I 21 21 21":" !#*%+$)-(,&()+$,#*!& %-","P m m 2":" !#$%# %#$!#","P m c 21":" !#$%+ %+$!#","P c c 2":" !#$%# %+$!+","P m a 2":" !#$%#(%#*!#","P c a 21":" !#$%+(%#*!+","P n c 2":" !#$%# ,+$)+","P m n 21":" !#*%+(%+$!#","P b a 2":" !#$%#(,#*)#","P n a 21":" !#$%+(,#*)+","P n n 2":" !#$%#(,+*)+","C m m 2":" !#$%# %#$!#()#*,#(,#*)#","C m c 21":" !#$%+ %+$!#()#*,+(,+*)#","C c c 2":" !#$%# %+$!+()#*,#(,+*)+","A m m 2":" !#$%# %#$!# )+$,+ ,+$)+","A b m 2":" !#$%# ,#$)# )+$,+ %+$!+","A m a 2":" !#$%#(%#*!# )+$,+(,+*)+","A b a 2":" !#$%#(,#*)# )+$,+(%+*!+","F m m 2":" !#$%# %#$!# )+$,+ ,+$)+(!+*%+(%+*!+()#*,#(,#*)#","F d d 2":" !#$%#345675 )+$,+3896:9(!+*%+;49<79()#*,#;85<:5","I m m 2":" !#$%# %#$!#()+*,+(,+*)+","I b a 2":" !#$%#(,#*)#()+*,+ %+$!+","I m a 2":" !#$%#(%#*!#()+*,+ ,+$)+","P 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#","P 2/n 2/n 2/n":" !#$%#$!& %&*,-()-(,+*)+","P 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+","P 2/b 2/a 2/n":" !#$%#$!& %&*,&()&(,#*)#","P 21/m 2/m 2/a":" !#*%#$!&(%&$%&(!& %#*!#","P 2/n 21/n 2/a":" !#*%#*)- ,-$%&(!&(,+$)+","P 2/m 2/n 21/a":" !#*%+*!- %&$%&(!-(%+$!#","P 21/c 2/c 2/a":" !#*%#$!-(%-$%&(!& %+*!+","P 21/b 21/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#","P 21/c 21/c 2/n":" !#*,#$)-(%-$%&()& ,+*!+","P 2/b 21/c 21/m":" !#$%+$)- ,&$%& !- ,+$)#","P 21/n 21/n 2/m":" !#$%#*)-(,-$%& !&(,+*)+","P 21/m 21/m 2/n":" !#$%#*'&.,&*,&.'& %#$!#","P 21/b 2/c 21/n":" !#*,+$!-(,&$%&()- %+*)#","P 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#","P 21/n 21/m 21/a":" !#0%/$'&.12$%&.!2 1#0'/","C 2/m 2/c 21/m":" !#$%+$!- %&$%& !- %+$!#()#*,+*)-(,&*,&()-(,+*)#","C 2/m 2/c 21/a":" !#$,+$)- %&$%& )- ,+$!#()#*%+*!-(,&*,&(!-(%+*)#","C 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()#*,#*)&(,&*,&()&(,#*)#","C 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+()#*,#*)-(,-*,&()&(,+*)+","C 2/m 2/m 2/a":" !#$,#$)& %&$%& )& ,#$!#()#*%#*!&(,&*,&(!&(%#*)#","C 2/c 2/c 2/a":" !#*,#$!&(,&$,-(!- ,+*!+()#$%#*)& %&*%- )-(%+$)+","F 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!# )+$,+$)- ,-$,- )- ,+$)+(!+*%+*!-(%-*%-(!-(%+*!+()#*,#*)&(,&*,&()&(,#*)#","F 2/d 2/d 2/d":" !#$%#$!& %&64=37=345675 )+$,+$)- ,-68>3:>3896:9(!+*%+*!-(%-<4>;7>;49<79()#*,#*)&(,&<8=;:=;85<:5","I 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()+*,+*)-(,-*,-()-(,+*)+","I 2/b 2/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#()+*,+$!- %-*,-()- %+$!+","I 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#()+$,#*!& %-*,- )&(%#$!+","I 21/m 21/m 21/a":" !#$,#$)& %&$%& )& ,#$!#()+*%+*!-(,-*,-(!-(%+*)+","P 4":" !#$%#% #!$#","P 41":" !#$%+% 5!$9","P 42":" !#$%#% +!$+","P 43":" !#$%+% 9!$5","I 4":" !#$%#% #!$#()+*,+,(+)*+","I 41":" !#*,+%(5)$9()+$%#, 9!*5","P -4":" !#$%#!$&% &","I -4":" !#$%#!$&% &()+*,+)*-,(-","P 4/m":" !#$%#% #!$#$%& !&!$&% &","P 42/m":" !#$%#% +!$+$%& !&!$-% -","P 4/n":" !#$%#,(#)*#*,&()&!$&% &","P 42/n":" !#$%#,(+)*+*,-()-!$&% &","I 4/m":" !#$%#% #!$#$%& !&!$&% &()+*,+,(+)*+*,-()-)*-,(-","I 41/a":" !#*,+%(5)$9$,=(!>!$&,(-()+$%#, 9!*5*%> )=)*-% &","P 4 2 2":" !#$%#% #!$#$!& %&! &%$&","P 4 21 2":" !#$%#,(#)*#*)&(,&! &%$&","P 41 2 2":" !#$%+% 5!$9$!& %-! >%$=","P 41 21 2":" !#$%+,(5)*9*)=(,>! &%$-","P 42 2 2":" !#$%#% +!$+$!& %&! -%$-","P 42 21 2":" !#$%#,(+)*+*)-(,-! &%$&","P 43 2 2":" !#$%+% 9!$5$!& %-! =%$>","P 43 21 2":" !#$%+,(9)*5*)>(,=! &%$-","I 4 2 2":" !#$%#% #!$#$!& %&! &%$&()+*,+,(+)*+*)-(,-)(-,*-","I 41 2 2":" !#*,+%(5)$9*!> ,=)(-%$&()+$%#, 9!*5$)=(%>! &,*-","P 4 m m":" !#$%#% #!$# %#$!#%$#! #","P 4 b m":" !#$%#% #!$#(,#*)#,*#)(#","P 42 c m":" !#$%#% +!$+ %+$!+%$#! #","P 42 n m":" !#$%#,(+)*+(,+*)+%$#! #","P 4 c c":" !#$%#% #!$# %+$!+%$+! +","P 4 n c":" !#$%#% #!$#(,+*)+,*+)(+","P 42 m c":" !#$%#% +!$+ %#$!#%$+! +","P 42 b c":" !#$%#% +!$+(,#*)#,*+)(+","I 4 m m":" !#$%#% #!$# %#$!#%$#! #()+*,+,(+)*+(,+*)+,*+)(+","I 4 c m":" !#$%#% #!$# %+$!+%$+! +()+*,+,(+)*+(,#*)#,*#)(#","I 41 m d":" !#*,+%(5)$9 %#*)+%*5) 9()+$%#, 9!*5(,+$!#,$9!(5","I 41 c d":" !#*,+%(5)$9 %+*)#%*9) 5()+$%#, 9!*5(,#$!+,$5!(9","P -4 2 m":" !#$%#% &!$&$!& %&%$#! #","P -4 2 c":" !#$%#% &!$&$!- %-%$+! +","P -4 21 m":" !#$%#% &!$&*)&(,&,*#)(#","P -4 21 c":" !#$%#% &!$&*)-(,-,*+)(+","P -4 m 2":" !#$%#!$&% & %#$!#! &%$&","P -4 c 2":" !#$%#% &!$& %+$!+! -%$-","P -4 b 2":" !#$%#% &!$&(,#*)#)(&,*&","P -4 n 2":" !#$%#% &!$&(,+*)+)(-,*-","I -4 m 2":" !#$%#% &!$& %#$!#! &%$&()+*,+,(-)*-(,+*)+)(-,*-","I -4 c 2":" !#$%#% &!$& %+$!+! -%$-()+*,+,(-)*-(,#*)#)(&,*&","I -4 2 m":" !#$%#% &!$&$!& %&%$#! #()+*,+,(-)*-*)-(,-,*+)(+","I -4 2 d":" !#$%#% &!$&*!>(%>,$9) 9()+*,+,(-)*-$)= ,=%*5!(5","P 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #","P 4/m 2/c 2/c":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +","P 4/n 2/b 2/m":" !#$%#% #!$#$!& %&! &%$&*,&()&)*&,(&(,#*)#,*#)(#","P 4/n 2/n 2/c":" !#$%#% #!$#$!& %&! &%$&*,-()-)*-,(-(,+*)+,*+)(+","P 4/m 21/b 2/m":" !#$%#% #!$#*)&(,&)(&,*&$%& !&!$&% &(,#*)#,*#)(#","P 4/m 21/n 2/c":" !#$%#% #!$#*)-(,-)(-,*-$%& !&!$&% &(,+*)+,*+)(+","P 4/n 21/m 2/m":" !#$%#,(#)*#*)&(,&! &%$&*,&()&!$&% & %#$!#,*#)(#","P 4/n 2/c 2/c":" !#$%#,(#)*#*)-(,-! -%$-*,&()&!$&% & %+$!+,*+)(+","P 42/m 2/m 2/c":" !#$%#% +!$+$!& %&! -%$-$%& !&!$-% - %#$!#%$+! +","P 42/m 2/c 2/m":" !#$%#% +!$+$!- %-! &%$&$%& !&!$-% - %+$!+%$#! #","P 42/n 2/b 2/c":" !#$%#,(+)*+$!- %-)(&,*&*,-()-!$&% &(,#*)#%$+! +","P 42/n 2/n 2/m":" !#$%#,(+)*+$!& %&)(-,*-*,-()-!$&% &(,+*)+%$#! #","P 42/m 21/b 2/c":" !#$%#% +!$+*)&(,&)(-,*-$%& !&!$-% -(,#*)#,*+)(+","P 42/m 21/n 2/m":" !#$%#,./'*/*'-.,-! &%$&$%& !&'*-,.-.,/*'/%$#! #","P 42/n 21/m 2/c":" !#$%#,(+)*+*)-(,-! &%$&*,-()-!$&% & %#$!#,*+)(+","P 42/n 21/c 2/m":" !#$%#,(+)*+*)&(,&! -%$-*,-()-!$&% & %+$!+,*#)(#","I 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #()+*,+,(+)*+*)-(,-)(-,*-*,-()-)*-,(-(,+*)+,*+)(+","I 4/m 2/c 2/m":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +()+*,+,(+)*+*)&(,&)(&,*&*,-()-)*-,(-(,#*)#,*#)(#","I 41/a 2/m 2/d":" !#*,+%(5)$9*!> ,=)(-%$&$,=(!>!$&,(-(,+$!#,$9!(5()+$%#, 9!*5$)=(%>! &,*-*%> )=)*-% & %#*)+%*5) 9","I 41/a 2/c 2/d":" !#*,+%(5)$9*!= ,>)(&%$-$,=(!>!$&,(-(,#$!+,$5!(9()+$%#, 9!*5$)>(%=! -,*&*%> )=)*-% & %+*)#%*9) 5","P 3":" !#%?#@$#","P 31":" !#%?A@$B","P 32":" !#%?B@$A","H 3":" !#%?#@$#CDAEFAGHAIJBKLBMNB","R 3":" !## !!# ","P -3":" !#%?#@$#$%&!@&? &","H -3":" !#%?#@$#$%&!@&? &OPQRSQTUQVWXYZX[]X]Y^W[^ZV^UR_PT_SO_","R -3":" !## !!# $%&&$%%&$","P 3 1 2":" !#%?#@$#%$&@!& ?&","P 3 2 1":" !#%?#@$#! &?%&$@&","P 31 1 2":" !#%?Q@$^%$_@!X ?&","P 31 2 1":" !#%?A@$B! &?%_$@X","P 32 1 2":" !#%?^@$Q%$X@!_ ?&","P 32 2 1":" !#%?B@$A! &?%X$@_","H 3 2":" !#%?#@$#! &?%&$@&OPQRSQTUQY]X[WXVZX]Y^W[^ZV^PO_SR_UT_","R 3 2":" !## !!# %$&$&%&%$","P 3 m 1":" !#%?#@$#%$#@!# ?#","P 3 1 m":" !#%?#@$#! #?%#$@#","P 3 c 1":" !#%?#@$#%$+@!+ ?+","P 3 1 c":" !#%?#@$#! +?%+$@+","H 3 m":" !#%?#@$#%$#@!# ?#OPQRSQTUQRUQTPQOSQ]Y^W[^ZV^WV^ZY^][^","R 3 m":" !## !!# ! # #!#! ","H 3 c":" !#%?#@$#%$+@!+ ?+OPQRSQTUQRU`TP`OS`]Y^W[^ZV^WVaZYa][a","R 3 c":" !## !!# '././'/'.","P -3 1 2/m":" !#%?#@$#%$&@!& ?&$%&!@&? &! #?%#$@#","P -3 1 2/c":" !#%?#@$#%$-@!- ?-$%&!@&? &! +?%+$@+","P -3 2/m 1":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#","P -3 2/c 1":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+","H -3 2/m":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#OPQRSQTUQY]X[WXVZXVWXYZX[]XRUQTPQOSQ]Y^W[^ZV^PO_SR_UT_UR_PT_SO_WV^ZY^][^","R -3 2/m":" !## !!# %$&$&%&%$$%&&$%%&$! # #!#! ","H -3 2/c":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+OPQRSQTUQY]b[WbVZbVWXYZX[]XRU`TP`OS`]Y^W[^ZV^POcSRcUTcUR_PT_SO_WVaZYa][a","R -3 2/c":" !## !!# 102021210$%&&$%%&$'././'/'.","P 6":" !#%?#@$#$%#!@#? #","P 61":" !#%?A@$B$%/!@d? e","P 65":" !#%?B@$A$%/!@e? d","P 62":" !#%?^@$Q$%#!@^? Q","P 64":" !#%?Q@$^$%#!@Q? ^","P 63":" !#%?#@$#$%+!@+? +","P -6":" !#%?#@$# !&%?&@$&","P 6/m":" !#%?#@$#$%#!@#? #$%&!@&? & !&%?&@$&","P 63/m":" !#%?#@$#$%+!@+? +$%&!@&? & !-%?-@$-","P 6 2 2":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&","P 61 2 2":" !#%?Q@$^$%+!@`? a! X?%&$@_%$b@!- ?c","P 65 2 2":" !#%?^@$Q$%+!@a? `! _?%&$@X%$c@!- ?b","P 62 2 2":" !#%?^@$Q$%#!@^? Q! _?%&$@X%$_@!& ?X","P 64 2 2":" !#%?Q@$^$%#!@Q? ^! X?%&$@_%$X@!& ?_","P 63 2 2":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-","P 6 m m":" !#%?#@$#$%#!@#? #%$#@!# ?#! #?%#$@#","P 6 c c":" !#%?#@$#$%#!@#? #%$+@!+ ?+! +?%+$@+","P 63 c m":" !#%?#@$#$%+!@+? +%$+@!+ ?+! #?%#$@#","P 63 m c":" !#%?#@$#$%+!@+? +%$#@!# ?#! +?%+$@+","P -6 m 2":" !#%?#@$# !&%?&@$&%$#@!# ?#%$&@!& ?&","P -6 c 2":" !#%?#@$# !-%?-@$-%$+@!+ ?+%$&@!& ?&","P -6 2 m":" !#%?#@$# !&%?&@$&! &?%&$@&! #?%#$@#","P -6 2 c":" !#%?#@$# !-%?-@$-! &?%&$@&! +?%+$@+","P 6/m 2/m 2/m":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&$%&!@&? & !&@$&%?&%$#@!# ?#! #?%#$@#","P 6/m 2/c 2/c":" !#%?#@$#$%#!@#? #! -?%-$@-%$-@!- ?-$%&!@&? & !&@$&%?&%$+@!+ ?+! +?%+$@+","P 63/m 2/c 2/m":" !#%?#@$#$%+!@+? +! -?%-$@-%$&@!& ?&$%&!@&? & !-@$-%?-%$+@!+ ?+! #?%#$@#","P 63/m 2/m 2/c":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-$%&!@&? & !-@$-%?-%$#@!# ?#! +?%+$@+","P 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ","F 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%&  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ","I 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(","P 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(","I 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- ","P 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$","P 2/n -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& *,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","F 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-($,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- *,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$","F 2/d -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& 64=37=345675=64=375345674=67=3453756 )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(68>3:>3896:9=<8=;:5;85<:4><7>;49;79<(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(<4>;7>;49<79>68>3:93896:8=<:=;85;:5<()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- <8=;:=;8f<:f><4>;79;49<78>6:>3893:96","I 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","P 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*","I 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*()+$,#*g& %-+()#$,&*!- %)+(,#$!&*%- *,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$","P 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$","P 42 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","F 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$","F 41 3 2":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46 )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<(!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86","I 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","P 43 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7;>46=:<5839398<5:6=4;>75:<983>7;=46","P 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<","I 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46","P -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ","F -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&%  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(+%*+!*-%(- +)$+,$-) -,#)(#,*&)*&,((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() +,$+)$-, -(#)*#,*&)(&,+!(+%*-!*-%(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(#,*#)*&,(&(+!*+%*-!(-%+) +,$-)$-, ","I -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","P -4 3 n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","F -4 3 c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() #,$#)$&, &(#!*#%*&!(&%+! +%$-!$-% (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(#%*#!*&%(& +!$+%$-! -%#) #,$&)$&, ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! +%$+!$-% - #)$#,$&) &,#!(#%*&!*&%(","I -4 3 d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7354<9:6>8;=357<946>:;=857394<>:6=8;()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- :;98657<=43>;9:658<=73>49:;586=7<>43","P 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","P 4/n -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/m -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/n -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","F 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#!  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*%*+!(+%(-!*-$-) -, +)$+,&,(&)*#,*#)((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%**%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*,$+) +, -)$-*&)(&,(#)*#,-%(-!*+%*+!(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$*,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$,*#)(#,(&)*&*-!(-%(+!*+%-, -)$+,$+) ","F 4/m -3 2/c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() &,$&)$#, #(#%*#!*&%(&!+!$+% -! -%$$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*,$#) #, &)$&*&!(&%(#!*#%-% -!$+%$+! (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(&%*&!*#%(# +%$+!$-% -!#)$#, &) &,$*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*%*#!(#%(&!*&$-! -% +!$+%&, &)$#,$#) ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! -%$-!$+% + #,$#)$&, &)#!*#%(&!(&%**,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$%$+! +% -!$-$&) &, #)$#,&%(&!*#%*#!(","F 41/d -3 2/m":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=4664=3:>;85<79=64>3:5;89<74=6:>385;79<,$+! #%(-)*&*&)(-% #!$+,-%(&)*+,$#!  )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<68>37=;49<:5=<8>;753496:4><:=;893756,*#!(+% &)$-*-!(&, +)$#%-, &!$+%*#)((!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<<4>;:=389675>68=379;45<:8=<7>;453:96%$#) +,(&!*-$&! -,(#)*+%&% -)$#,*+!(()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86<8=;7>3456:9><4=;:9385678>67=349;:5<%*+)(#, -!$&$-) &%(+!*#,&,(-!*#%$+) ","F 41/d -3 2/c":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46<8>;7=3496:5><8=;793456:8><7=;493:56%*#)(+, &!$-$-! &,(+)*#%&, -!$#%*+)( )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<<4=;:>385679>64=3:9;85<78=67>345;:9<%$+) #,(-!*&$&) -%(#!*+,&%(-)*#,$+! (!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<68=37>;45<:9=<4>;:5389674>6:=389;75<,*+!(#% -)$&*-)(&% +!$#,-,(&!*+%$#) ()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>8664>3:=;89<75=68>375;49<:4=<:>;853796,$#! +%(&)*-*&!(-, #)$+%-% &)$+,*#!(","I 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","I 41/a -3 2/d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<$%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*4<97358;=:6>6>:;=8357<94=8;>:694<573()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46*,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$865:;943>7<=<=73>4;9:658>43=7<5869:;","P 1 1 2":" !#$%#","P 1 1 21":" !#$%+","B 1 1 2":" !#$%#(g+*%+","A 1 2 1":" !#$!& )+$)-","C 1 21 1":" !#$)&()#*!&","I 1 2 1":" !#$!&.'/0'2","I 1 21 1":" !#$)&.'/0!-","P 1 1 m":" !# !&","P 1 1 b":" !# )&","B 1 1 m":" !# !&(!+(!-","B 1 1 b":" !# )&(!+()-","P 1 1 2/m":" !# !&$%#$%&","P 1 1 21/m":" !#$%+$%& !-","B 1 1 2/m":" !# !&$%#$%&(!+(!-*%+*%-","P 1 1 2/b":" !#$,#$%& )&","P 1 1 21/b":" !#$%&$,+ )-","B 1 1 2/b":" !#$,#$%& )&(!+*,+*%-()-","P 21 2 2":" !#$!&(%&*%#","P 2 21 2":" !# ,&$)&$%#","P 21 21 2 (a)":" !#*,#.%&$'&","P 21 2 21":" !#$!&(%-*%+","P 2 21 21":" !# %&$)-$,+","C 2 2 21a)":" !#*%+(,&$)-()#$,+ %&*!-","C 2 2 2a":" !#*,#.%&$'&()#$%# ,&*!&","F 2 2 2a":" !#*,#.%&$'& '/*%/.12$!2.!/$,/ %20'2.'#$%# 1&0!&","I 2 2 2a":" !#*,#.%&$'&()+$%+*!- ,-","P 21/m 21/m 2/n a":" !#*,#$)&(%&$%&.'& ,#*!#","P 42 21 2a":" !#*,#%.+'$+$'&.%&! -,*-","I 2 3a":" !#*,#.%&$'&!# ,- '&$%/$# !-*!/$%&.%()+$%+ ,-*!-)+(%&(!-*,#*+()&$)#*,- ,"},WAe=/^[1-9]$/;function FI(e){var t="";return e.length>0&&(t=":"+N7(e).join(" OR :")),new si(t)}var Pr=function(e){e===void 0&&(e=""),this.name=e,this.partList=[]},pN={type:{configurable:!0}};pN.type.get=function(){return"Assembly"},Pr.prototype.addPart=function(e,t){var n=new Oc(e,t);return this.partList.push(n),n},Pr.prototype.getAtomCount=function(e){return this.partList.reduce(function(t,n){return t+n.getAtomCount(e)},0)},Pr.prototype.getResidueCount=function(e){return this.partList.reduce(function(t,n){return t+n.getResidueCount(e)},0)},Pr.prototype.getInstanceCount=function(){var e=0;return this.partList.forEach(function(t){e+=t.matrixList.length}),e},Pr.prototype.isIdentity=function(e){if(this.partList.length!==1)return!1;var t=this.partList[0];if(t.matrixList.length!==1||!new st().equals(t.matrixList[0]))return!1;var n=[];return e.eachChain(function(i){n.push(i.chainname)}),n=N7(n),t.chainList.length===n.length},Pr.prototype.getBoundingBox=function(e){var t=new gi;return this.partList.forEach(function(n){var i=n.getBoundingBox(e);t.expandByPoint(i.min),t.expandByPoint(i.max)}),t},Pr.prototype.getCenter=function(e){return this.getBoundingBox(e).getCenter(new P)},Pr.prototype.getSelection=function(){var e=[];return this.partList.forEach(function(t){e=e.concat(t.chainList)}),FI(e)},Object.defineProperties(Pr.prototype,pN);var Oc=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.matrixList=e,this.chainList=t},fN={type:{configurable:!0}};fN.type.get=function(){return"AssemblyPart"},Oc.prototype._getCount=function(e,t){var n=this,i=0;return e.eachChain(function(r){(n.chainList.length===0||n.chainList.includes(r.chainname))&&(i+=r[t])}),this.matrixList.length*i},Oc.prototype.getAtomCount=function(e){return this._getCount(e,"atomCount")},Oc.prototype.getResidueCount=function(e){return this._getCount(e,"residueCount")},Oc.prototype.getBoundingBox=function(e){var t=new gi,n=new gi,i=this.getSelection(),r=e.getBoundingBox(i);return this.matrixList.forEach(function(a){n.copy(r).applyMatrix4(a),t.expandByPoint(n.min),t.expandByPoint(n.max)}),t},Oc.prototype.getSelection=function(){return FI(this.chainList)},Oc.prototype.getView=function(e){var t=this.getSelection();return t?e.getView(t):e},Oc.prototype.getInstanceList=function(){for(var e=[],t=0,n=this.matrixList.length;t<n;++t)e.push({id:t+1,name:t,matrix:this.matrixList[t]});return e},Object.defineProperties(Oc.prototype,fN);var Eg=function(e){this.structure=e,this.currentModelindex=null,this.currentChainid=null,this.currentResname=null,this.currentResno=null,this.currentInscode=void 0,this.currentHetero=null,this.previousResname="",this.previousHetero=null,this.ai=-1,this.ri=-1,this.ci=-1,this.mi=-1};function II(e,t){if(t){je&&De.time("assignSecondaryStructure");var n=[];e.eachModel(function(A){A.eachChain(function(l){n.push(l.chainname)})});var i=n.slice().sort(),r=[];i.forEach(function(A){r.push(n.indexOf(A))});var a=t.helices.filter(function(A){return tl(i,A[0])>=0});a.sort(function(A,l){var u=A[0],d=l[0],p=A[1],h=l[1];if(u===d)return p===h?0:p<h?-1:1;var g=tl(i,u),b=tl(i,d);return r[g]<r[b]?-1:1});var s=e.residueStore;e.eachModel(function(A){var l=0,u=a.length;if(u!==0){var d=a[l],p=!1,h=!1;A.eachChain(function(g){var b=!1;if(g.chainname===d[0]){for(var y=g.residueCount,v=g.residueOffset,_=v+y,w=v;w<_;++w)if(s.resno[w]===d[1]&&s.getInscode(w)===d[2]&&(p=!0),p&&(s.sstruc[w]=d[6],s.resno[w]===d[4]&&s.getInscode(w)===d[5]&&(p=!1,(l+=1)<u?(w=v-1,d=a[l],b=g.chainname!==d[0]):h=!0)),b||h)return}})}});var o=t.sheets.filter(function(A){return tl(i,A[0])>=0});o.sort(function(A,l){var u=A[0],d=l[0];if(u===d)return 0;var p=tl(i,u),h=tl(i,d);return r[p]<r[h]?-1:1});var c="e".charCodeAt(0);e.eachModel(function(A){var l=0,u=o.length;if(u!==0){var d=o[l],p=!1,h=!1;A.eachChain(function(g){var b=!1;if(g.chainname===d[0]){for(var y=g.residueCount,v=g.residueOffset,_=v+y,w=v;w<_;++w)if(s.resno[w]===d[1]&&s.getInscode(w)===d[2]&&(p=!0),p&&(s.sstruc[w]=c,s.resno[w]===d[4]&&s.getInscode(w)===d[5]&&(p=!1,(l+=1)<u?(w=v-1,d=o[l],b=g.chainname!==d[0]):h=!0)),b||h)return}})}}),je&&De.timeEnd("assignSecondaryStructure")}}Eg.prototype.addResidueType=function(e){for(var t=this.structure.atomStore,n=this.structure.residueStore,i=this.structure.residueMap,r=n.atomCount[e],a=n.atomOffset[e],s=new Array(r),o=0;o<r;++o)s[o]=t.atomTypeId[a+o];n.residueTypeId[e]=i.add(this.previousResname,s,this.previousHetero)},Eg.prototype.addAtom=function(e,t,n,i,r,a,s,o){var c=this.structure.atomStore,A=this.structure.residueStore,l=this.structure.chainStore,u=this.structure.modelStore,d=!1,p=!1,h=!1;this.currentModelindex!==e?(d=!0,p=!0,h=!0,this.mi+=1,this.ci+=1,this.ri+=1):this.currentChainid!==n?(p=!0,h=!0,this.ci+=1,this.ri+=1):this.currentResno===r&&this.currentResname===i&&this.currentInscode===o||(h=!0,this.ri+=1),this.ai+=1,d&&(u.growIfFull(),u.chainOffset[this.mi]=this.ci,u.chainCount[this.mi]=0,u.count+=1,l.modelIndex[this.ci]=this.mi),p&&(l.growIfFull(),l.setChainname(this.ci,t),l.setChainid(this.ci,n),l.residueOffset[this.ci]=this.ri,l.residueCount[this.ci]=0,l.count+=1,l.modelIndex[this.ci]=this.mi,u.chainCount[this.mi]+=1,A.chainIndex[this.ri]=this.ci),h&&(this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,this.ri>0&&this.addResidueType(this.ri-1),A.growIfFull(),A.resno[this.ri]=r,s!==void 0&&(A.sstruc[this.ri]=s.charCodeAt(0)),o!==void 0&&(A.inscode[this.ri]=o.charCodeAt(0)),A.atomOffset[this.ri]=this.ai,A.atomCount[this.ri]=0,A.count+=1,A.chainIndex[this.ri]=this.ci,l.residueCount[this.ci]+=1),c.count+=1,c.residueIndex[this.ai]=this.ri,A.atomCount[this.ri]+=1,this.currentModelindex=e,this.currentChainid=n,this.currentResname=i,this.currentResno=r,this.currentInscode=o,this.currentHetero=a},Eg.prototype.finalize=function(){this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,this.ri>-1&&this.addResidueType(this.ri)};var iE,hN,mN,H2=(iE=function(e,t,n,i){for(var r=e.structure,a=e.residueIndexStart,s=r.getResidueProxy(),o=r.getResidueProxy(),c=r.getAtomProxy(),A=r.getAtomProxy(),l=Math.max(0,t-2);l<=t;++l)for(var u=2;u<5;++u)if(!(l+u>=e.residueCount)){s.index=a+l,o.index=a+l+u,c.index=s.traceAtomIndex,A.index=o.traceAtomIndex;var d=c.distanceTo(A);if(Math.abs(d-n[u-2])>i)return!1}return!0},hN=function(e,t){return iE(e,t,[5.45,5.18,6.37],2.1)},mN=function(e,t){return iE(e,t,[6.1,10.4,13],1.42)},function(e){je&&De.time("calculateSecondaryStructure"),e.eachPolymer(function(t){if(!(t.residueCount<4)){if(t.isCg())(function(r){for(var a=r.residueStore,s=r.residueIndexStart,o=new U7(r).position,c=new P,A=new P,l=0,u=r.residueCount;l<u;++l){c.fromArray(o.center,3*l),A.fromArray(o.center,3*l+3);var d=c.distanceTo(A);d<2&&d>1&&o.bending[l]<20&&(a.sstruc[s+l]="h".charCodeAt(0),a.sstruc[s+l+1]="h".charCodeAt(0))}})(t);else{if(!t.isProtein())return;(function(r){for(var a=r.residueStore,s=r.residueIndexStart,o=0,c=r.residueCount;o<c;++o){var A="c";hN(r,o)?A="h":mN(r,o)&&(A="e"),a.sstruc[s+o]=A.charCodeAt(0)}})(t)}var n,i=0;t.eachResidue(function(r){r.sstruc===n?i+=1:(i===1&&(r.index-=1,r.sstruc="c"),i=1,n=r.sstruc)})}}),je&&De.timeEnd("calculateSecondaryStructure")});function Kh(e){for(var t=26,n=e,i=0,r="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[n%t];n>=t;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[(n=Math.floor(n/t))%t],i+=1;return i>=5&&De.warn("chainname overflow"),r}function Q2(e,t){t===void 0&&(t=!1),je&&De.time("calculateChainnames");var n=!0;if(e.eachChain(function(h){h.chainname&&(n=!1)}),n){var i=e.modelStore,r=e.chainStore,a=e.residueStore,s=e.getAtomProxy(),o=e.getAtomProxy(),c=0,A=0,l=0,u=0,d=[];a.count===1?d.push({mIndex:0,chainname:"A",rStart:0,rCount:1}):e.eachResidueN(2,function(h,g){var b=!1,y=h.backboneType,v=g.backboneType;u=h.index,h.modelIndex!==g.modelIndex||h.moleculeType!==g.moleculeType?b=!0:y!==0&&y===v&&(s.index=h.backboneEndAtomIndex,o.index=g.backboneStartAtomIndex,b=t?!s.hasBondTo(o):!s.connectedTo(o)),b||g.index!==a.count-1||(b=!0,u=g.index),b&&(d.push({mIndex:A,chainname:Kh(c),rStart:l,rCount:u-l+1}),c+=1,h.modelIndex!==g.modelIndex&&(c=0,A+=1),g.index===a.count-1&&u!==g.index&&d.push({mIndex:A,chainname:Kh(c),rStart:a.count-1,rCount:1}),l=g.index,u=g.index)}),r.count=0,i.chainCount.fill(0,0,i.count),i.chainOffset.fill(0,0,i.count),d.forEach(function(h){(function(g,b,y,v){for(var _=r.count,w=0;w<v;++w)a.chainIndex[y+w]=_;r.growIfFull(),r.modelIndex[_]=g,r.setChainname(_,b),r.setChainid(_,b),r.residueOffset[_]=y,r.residueCount[_]=v,r.count+=1,i.chainCount[g]+=1})(h.mIndex,h.chainname,h.rStart,h.rCount)});var p=0;e.eachModel(function(h){i.chainOffset[h.index]=p,p+=i.chainCount[h.index]})}je&&De.timeEnd("calculateChainnames")}function Y3(e){je&&De.time("calculateBonds"),ip(e),rp(e),je&&De.timeEnd("calculateBonds")}var $Ae={"HIS|CD2|CG":2,"HIS|CE1|ND1":2,"ARG|CZ|NH2":2,"PHE|CE1|CZ":2,"PHE|CD2|CE2":2,"PHE|CD1|CG":2,"TRP|CD1|CG":2,"TRP|CD2|CE2":2,"TRP|CE3|CZ3":2,"TRP|CH2|CZ2":2,"ASN|CG|OD1":2,"GLN|CD|OE1":2,"TYR|CD1|CG":2,"TYR|CD2|CE2":2,"TYR|CE1|CZ":2,"ASP|CG|OD1":2,"GLU|CD|OE1":2,"G|C8|N7":2,"G|C4|C5":2,"G|C2|N3":2,"G|C6|O6":2,"C|C4|N3":2,"C|C5|C6":2,"C|C2|O2":2,"A|C2|N3":2,"A|C6|N1":2,"A|C4|C5":2,"A|C8|N7":2,"U|C5|C6":2,"U|C2|O2":2,"U|C4|O4":2,"DG|C8|N7":2,"DG|C4|C5":2,"DG|C2|N3":2,"DG|C6|O6":2,"DC|C4|N3":2,"DC|C5|C6":2,"DC|C2|O2":2,"DA|C2|N3":2,"DA|C6|N1":2,"DA|C4|C5":2,"DA|C8|N7":2,"DT|C5|C6":2,"DT|C2|O2":2,"DT|C4|O4":2};function yN(e,t,n){var i;return t=(i=t<n?[t,n]:[n,t])[0],n=i[1],dd.includes(e)&&t==="C"&&n==="O"||Df.includes(e)&&t==="OP1"&&n==="P"?2:$Ae[e+"|"+t+"|"+n]||1}function ip(e,t){t===void 0&&(t=!1),je&&De.time("calculateBondsWithin");var n=e.bondStore,i=e.rungBondStore,r=e.getAtomSet(!1),a=e.getAtomProxy(),s=e.getAtomProxy(),o=e.getBondProxy(),c=t?null:function(A){je&&De.time("calculateAtomBondMap");var l=[];return A.eachBond(function(u){var d=u.atomIndex1,p=u.atomIndex2;l[d]===void 0&&(l[d]=[]),l[d][p]=u.index}),je&&De.timeEnd("calculateAtomBondMap"),l}(e);e.eachResidue(function(A){if(!t&&c){var l=A.atomCount,u=A.atomOffset;if(l>500)return void De.warn("more than 500 atoms, skip residue for auto-bonding",A.qualifiedName());for(var d=A.getBonds(),p=d.atomIndices1,h=d.atomIndices2,g=d.bondOrders,b=p.length,y=0;y<b;++y){var v=p[y],_=h[y],w=v+u,E=_+u,B=c[w];B!==void 0&&B[E]!==void 0?(o.index=B[E],g[A.residueType.getBondIndex(v,_)]=o.bondOrder):(a.index=w,s.index=E,n.addBond(a,s,g[y]))}}var R=A.residueType.traceAtomIndex,G=A.residueType.rungEndAtomIndex;R!==-1&&G!==-1&&(a.index=A.traceAtomIndex,s.index=A.rungEndAtomIndex,i.addBond(a,s),r.set(a.index),r.set(s.index))}),e.atomSetDict.rung=r,je&&De.timeEnd("calculateBondsWithin")}function rp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),je&&De.time("calculateBondsBetween");var i=e.bondStore,r=e.backboneBondStore,a=e.getAtomSet(!1),s=e.getAtomProxy(),o=e.getAtomProxy();function c(d,p){var h=d.backboneType,g=p.backboneType;h!==0&&h===g&&(s.index=d.backboneEndAtomIndex,o.index=p.backboneStartAtomIndex,(n&&s.hasBondTo(o)||s.connectedTo(o))&&(t||i.addBond(s,o,1),s.index=d.traceAtomIndex,o.index=p.traceAtomIndex,r.addBond(s,o),a.set(s.index),a.set(o.index)))}r.count===0&&r.resize(e.residueStore.count),e.eachResidueN(2,c);var A=e.getResidueProxy(),l=e.getResidueProxy();if(e.eachChain(function(d){d.residueCount!==0&&(A.index=d.residueOffset,l.index=d.residueOffset+d.residueCount-1,c(l,A))}),e.atomSetDict.backbone=a,!t){je&&De.time("calculateBondsBetween inter");var u=e.spatialHash;e.eachResidue(function(d){d.backboneType!==0||d.isWater()||d.eachAtom(function(p){p.isMetal()||u.eachWithin(p.x,p.y,p.z,4,function(h){o.index=h,p.modelIndex!==o.modelIndex||p.residueIndex===o.residueIndex||o.isMetal()||i.addBondIfConnected(p,o,1)})})}),je&&De.timeEnd("calculateBondsBetween inter")}je&&De.timeEnd("calculateBondsBetween")}function q3(e){if(e.unitcell){je&&De.time("buildUnitcellAssembly");var t=e.unitcell,n=e.center.clone().applyMatrix4(t.cartToFrac),i=n.clone().floor(),r=function(b){var y=KAe[b],v={};if(y===void 0)return console.warn("spacegroup '"+b+"' not found in symop library"),v;for(var _=[],w=0,E=y.length;w<E;w+=3){for(var B=[],R=0;R<3;++R)B.push(VAe[y[w+R]]);_.push(B)}return _.forEach(function(G){var C=0,O=new st().set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),I=O.elements;v[G.toString()]=O,G.forEach(function(D){for(var k=!1,L=!1,T=0,H=D.length;T<H;++T){var W=D[T];if(W==="-")k=!0;else if(W==="+")k=!1;else if(W==="/")L=!0;else if(W==="X")I[0+C]=k?-1:1;else if(W==="Y")I[4+C]=k?-1:1;else if(W==="Z")I[8+C]=k?-1:1;else if(WAe.test(W)){var j=parseInt(W);L?I[12+C]/=j:I[12+C]=j}else De.warn("getSymmetryOperations: unknown token '"+W+"'")}C+=1})}),v}(t.spacegroup),a=new P,s=new P,o=new Pr("UNITCELL"),c=g(),A=[];if(e.biomolDict.NCS){A.push.apply(A,[new st].concat(e.biomolDict.NCS.partList[0].matrixList));var l=[];c.forEach(function(b){A.forEach(function(y){l.push(b.clone().multiply(y))})}),o.addPart(l)}else o.addPart(c);var u=new P,d=new Pr("SUPERCELL"),p=Array.prototype.concat.call(g(u.set(1,0,0)),g(u.set(0,1,0)),g(u.set(0,0,1)),g(u.set(-1,0,0)),g(u.set(0,-1,0)),g(u.set(0,0,-1)),g(u.set(1,1,0)),g(u.set(1,0,1)),g(u.set(0,1,1)),g(u.set(-1,-1,0)),g(u.set(-1,0,-1)),g(u.set(0,-1,-1)),g(u.set(1,-1,-1)),g(u.set(1,1,-1)),g(u.set(1,-1,1)),g(u.set(-1,1,1)),g(u.set(-1,-1,1)),g(u.set(-1,1,-1)),g(u.set(0,1,-1)),g(u.set(0,-1,1)),g(u.set(1,0,-1)),g(u.set(-1,0,1)),g(u.set(1,-1,0)),g(u.set(-1,1,0)),g(),g(u.set(1,1,1)),g(u.set(-1,-1,-1)));if(e.biomolDict.NCS){var h=[];p.forEach(function(b){A.forEach(function(y){h.push(b.clone().multiply(y))})}),d.addPart(h)}else d.addPart(p);e.biomolDict.UNITCELL=o,e.biomolDict.SUPERCELL=d,je&&De.timeEnd("buildUnitcellAssembly")}function g(b){var y=[];return Object.keys(r).forEach(function(v){var _=r[v].clone();a.copy(n).applyMatrix4(_).floor(),s.setFromMatrixPosition(_),s.sub(a),s.add(i),b&&s.add(b),_.setPosition(s),_.multiplyMatrices(t.fracToCart,_),_.multiply(t.cartToFrac),y.push(_)}),y}}var gN=["H","C","O","N","S","P"],jAe=["NA","CL","FE"];function D7(e){for(var t=e.toUpperCase(),n=0,i=0,r=0;r<t.length;r++)if(t.charCodeAt(r)<65){if(i>0)break;++n}else i=r+1;(n>0||i<t.length)&&(t=t.substring(n,i));var a=t.length;if(a===0)return"";if(a===1)return t;if(a===2){if(jAe.indexOf(t)!==-1)return t;if(gN.indexOf(t[0])!==-1)return t[0];if(t in fI)return t}return a>=3&&gN.indexOf(t[0])!==-1?t[0]:""}function Ul(e){var t=e.bondHash,n=t.countArray,i=t.offsetArray,r=t.indexArray,a=e.getBondProxy();e.eachResidue(function(s){var o=s.residueType;if(o.bonds===void 0){var c=s.atomOffset,A=[],l=[],u=[],d={},p=c+s.atomCount;s.eachAtom(function(h){for(var g=h.index,b=i[g],y=0,v=n[g];y<v;++y){a.index=r[b+y];var _=a.atomIndex1;if(!(_<c||_>=p)){var w=a.atomIndex2;if(!(w<c||w>=p)){if(_>w){var E=w;w=_,_=E}var B=_+"|"+w;d[B]===void 0&&(d[B]=!0,A.push(_-c),l.push(w-c),u.push(a.bondOrder))}}}}),o.bonds={atomIndices1:A,atomIndices2:l,bondOrders:u}}})}var YAe=[3,11,19,37,55,87],qAe=[4,12,20,38,56,88],XAe=[6,15,16,34],ZAe=[1,7,8,9,17,35,53],JAe=[2,10,18,36,54,86],ele=[13,30,31,48,49,50,80,81,82,83,84,85,112],tle=[5,14,32,33,51,52,85],nle=[9,17,35,53,85],Tr=function(e,t,n){this.structure=e,this.atomname=t,n=n||D7(t),this.element=n,this.number=fI[n]||0,this.vdw=K0e[this.number]||2,this.covalent=W0e[this.number]||1.6};Tr.prototype.getDefaultValence=function(){var e=JC[this.number];return e?e[0]:-1},Tr.prototype.getValenceList=function(){return JC[this.number]||[]},Tr.prototype.getOuterShellElectronCount=function(){return $0e[this.number]||2},Tr.prototype.isMetal=function(){return this.isAlkaliMetal()||this.isAlkalineEarthMetal()||this.isLanthanide()||this.isActinide()||this.isTransitionMetal()||this.isPostTransitionMetal()},Tr.prototype.isNonmetal=function(){return this.isDiatomicNonmetal()||this.isPolyatomicNonmetal()||this.isNobleGas()},Tr.prototype.isMetalloid=function(){return tle.includes(this.number)},Tr.prototype.isHalogen=function(){return nle.includes(this.number)},Tr.prototype.isDiatomicNonmetal=function(){return ZAe.includes(this.number)},Tr.prototype.isPolyatomicNonmetal=function(){return XAe.includes(this.number)},Tr.prototype.isAlkaliMetal=function(){return YAe.includes(this.number)},Tr.prototype.isAlkalineEarthMetal=function(){return qAe.includes(this.number)},Tr.prototype.isNobleGas=function(){return JAe.includes(this.number)},Tr.prototype.isTransitionMetal=function(){var e=this.number;return e>=21&&e<=29||e>=39&&e<=47||e>=72&&e<=79||e>=104&&e<=108},Tr.prototype.isPostTransitionMetal=function(){return ele.includes(this.number)},Tr.prototype.isLanthanide=function(){return this.number>=57&&this.number<=71},Tr.prototype.isActinide=function(){return this.number>=89&&this.number<=103};var nx=function(e){this.structure=e,this.dict={},this.list=[],this.structure=e};nx.prototype.add=function(e,t){var n=function(a,s){return a+"|"+s}(e=e.toUpperCase(),t=t?t.toUpperCase():D7(e)),i=this.dict[n];if(i===void 0){var r=new Tr(this.structure,e,t);i=this.list.length,this.dict[n]=i,this.list.push(r)}return i},nx.prototype.get=function(e){return this.list[e]};var Pn=function(e,t,n,i,r,a){this.structure=e,this.bondReferenceAtomIndices=[],this.resname=t,this.atomTypeIdList=n,this.hetero=i?1:0,this.chemCompType=r,this.bonds=a,this.atomCount=n.length,this.moleculeType=this.getMoleculeType(),this.backboneType=this.getBackboneType(0),this.backboneEndType=this.getBackboneType(-1),this.backboneStartType=this.getBackboneType(1),this.backboneIndexList=this.getBackboneIndexList();var s=mg[this.backboneType],o=mg[this.backboneStartType],c=mg[this.backboneEndType],A=this.getAtomIndexByName(s.trace);this.traceAtomIndex=z(A,-1);var l=this.getAtomIndexByName(s.direction1);this.direction1AtomIndex=z(l,-1);var u=this.getAtomIndexByName(s.direction2);this.direction2AtomIndex=z(u,-1);var d=this.getAtomIndexByName(o.backboneStart);this.backboneStartAtomIndex=z(d,-1);var p,h=this.getAtomIndexByName(c.backboneEnd);this.backboneEndAtomIndex=z(h,-1),p=Y0e.includes(t)?this.getAtomIndexByName("N1"):this.getAtomIndexByName("N3"),this.rungEndAtomIndex=z(p,-1)};Pn.prototype.getBackboneIndexList=function(){var e,t=[];switch(this.moleculeType){case 3:e=Z0e;break;case 4:case 5:e=yI;break;default:return t}for(var n=this.structure.atomMap,i=this.atomTypeIdList,r=0,a=this.atomCount;r<a;++r){var s=n.get(i[r]);e.includes(s.atomname)&&t.push(r)}return t},Pn.prototype.getMoleculeType=function(){return this.isProtein()?3:this.isRna()?4:this.isDna()?5:this.isWater()?1:this.isIon()?2:this.isSaccharide()?6:0},Pn.prototype.getBackboneType=function(e){return this.hasProteinBackbone(e)?1:this.hasRnaBackbone(e)?2:this.hasDnaBackbone(e)?3:this.hasCgProteinBackbone(e)?4:this.hasCgRnaBackbone(e)?5:this.hasCgDnaBackbone(e)?6:0},Pn.prototype.isProtein=function(){return this.chemCompType?H0e.includes(this.chemCompType):this.hasAtomWithName("CA","C","N")||dd.includes(this.resname)},Pn.prototype.isCg=function(){var e=this.backboneType;return e===4||e===5||e===6},Pn.prototype.isNucleic=function(){return this.isRna()||this.isDna()},Pn.prototype.isRna=function(){return this.chemCompType?Q0e.includes(this.chemCompType):this.hetero!==1&&(this.hasAtomWithName(["P","O3'","O3*"],["C4'","C4*"],["O2'","O2*","F2'","F2*"])||hI.includes(this.resname)&&this.hasAtomWithName(["O2'","O2*","F2'","F2*"]))},Pn.prototype.isDna=function(){return this.chemCompType?z0e.includes(this.chemCompType):this.hetero!==1&&(this.hasAtomWithName(["P","O3'","O3*"],["C3'","C3*"])&&!this.hasAtomWithName(["O2'","O2*","F2'","F2*"])||mI.includes(this.resname))},Pn.prototype.isHetero=function(){return this.hetero===1},Pn.prototype.isIon=function(){return q0e.includes(this.resname)},Pn.prototype.isWater=function(){return j3.includes(this.resname)},Pn.prototype.isSaccharide=function(){return this.chemCompType?lI.includes(this.chemCompType):X0e.includes(this.resname)},Pn.prototype.isStandardAminoacid=function(){return dd.includes(this.resname)},Pn.prototype.isStandardBase=function(){return Df.includes(this.resname)},Pn.prototype.hasBackboneAtoms=function(e,t){var n=mg[t];return e===-1?this.hasAtomWithName(n.trace,n.backboneEnd,n.direction1,n.direction2):e===0?this.hasAtomWithName(n.trace,n.direction1,n.direction2):e===1?this.hasAtomWithName(n.trace,n.backboneStart,n.direction1,n.direction2):this.hasAtomWithName(n.trace,n.backboneStart,n.backboneEnd,n.direction1,n.direction2)},Pn.prototype.hasProteinBackbone=function(e){return this.isProtein()&&this.hasBackboneAtoms(e,1)},Pn.prototype.hasRnaBackbone=function(e){return this.isRna()&&this.hasBackboneAtoms(e,2)},Pn.prototype.hasDnaBackbone=function(e){return this.isDna()&&this.hasBackboneAtoms(e,3)},Pn.prototype.hasCgProteinBackbone=function(e){return this.atomCount<7&&this.isProtein()&&this.hasBackboneAtoms(e,4)},Pn.prototype.hasCgRnaBackbone=function(e){return this.atomCount<11&&this.isRna()&&this.hasBackboneAtoms(e,5)},Pn.prototype.hasCgDnaBackbone=function(e){return this.atomCount<11&&this.isDna()&&this.hasBackboneAtoms(e,6)},Pn.prototype.hasBackbone=function(e){return this.hasProteinBackbone(e)||this.hasRnaBackbone(e)||this.hasDnaBackbone(e)||this.hasCgProteinBackbone(e)||this.hasCgRnaBackbone(e)||this.hasCgDnaBackbone(e)},Pn.prototype.getAtomIndexByName=function(e){var t=this.atomCount,n=this.structure.atomMap,i=this.atomTypeIdList;if(Array.isArray(e))for(var r=0;r<t;++r){var a=i[r];if(e.includes(n.get(a).atomname))return r}else for(var s=0;s<t;++s){var o=i[s];if(e===n.get(o).atomname)return s}},Pn.prototype.hasAtomWithName=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=e.length,i=0;i<n;++i)if(e[i]!==void 0&&this.getAtomIndexByName(e[i])===void 0)return!1;return!0},Pn.prototype.getBonds=function(e){return this.bonds===void 0&&(this.bonds=function(t){var n=t.structure,i=n.getAtomProxy(),r=n.getAtomProxy(),a=t.atomCount,s=t.atomOffset,o=s+a-1,c=[],A=[],l=[];if(a>500)je&&De.warn("more than 500 atoms, skip residue for auto-bonding",t.qualifiedName());else if(a>50)for(var u=new TI(t,!0),d=t.isCg()?1.2:2.3,p=s;p<o;++p){i.index=p;for(var h=i.covalent+d+.3,g=u.nearest(i,1/0,h*h),b=g.length,y=0;y<b;++y)r.index=g[y].index,i.index<r.index&&i.connectedTo(r)&&(c.push(i.index-s),A.push(r.index-s),l.push(yN(i.resname,i.atomname,r.atomname)))}else for(var v=s;v<o;++v){i.index=v;for(var _=v+1;_<=o;++_)r.index=_,i.connectedTo(r)&&(c.push(v-s),A.push(_-s),l.push(yN(i.resname,i.atomname,r.atomname)))}return{atomIndices1:c,atomIndices2:A,bondOrders:l}}(e)),this.bonds},Pn.prototype.getRings=function(){return this.rings===void 0&&this.calculateRings(),this.rings},Pn.prototype.getBondGraph=function(){return this.bondGraph===void 0&&this.calculateBondGraph(),this.bondGraph},Pn.prototype.getAromatic=function(e){return this.aromaticAtoms===void 0&&this.calculateAromatic(this.structure.getResidueProxy(e.residueIndex)),this.aromaticAtoms},Pn.prototype.getAromaticRings=function(e){return this.aromaticRings===void 0&&this.calculateAromatic(e),this.aromaticRings},Pn.prototype.calculateBondGraph=function(){for(var e=this.bondGraph={},t=this.getBonds(),n=t.atomIndices1.length,i=t.atomIndices1,r=t.atomIndices2,a=0;a<n;++a){var s=i[a],o=r[a];(e[s]=e[s]||[]).push(o),(e[o]=e[o]||[]).push(s)}},Pn.prototype.calculateRings=function(){for(var e=function(n,i){for(var r={count:i,visited:new Int32Array(i),queue:new Int32Array(i),pred:new Int32Array(i),left:new Int32Array(Of),right:new Int32Array(Of),color:new Int32Array(i),currentColor:0,rings:[],atomRings:[],bonds:n},a=0;a<i;a++)r.visited[a]=-1,r.pred[a]=-1;return r}(this.getBondGraph(),this.atomCount),t=0;t<e.count;t++)e.visited[t]>=0||ale(e,t);this.rings={atomRings:e.atomRings,rings:e.rings}},Pn.prototype.isAromatic=function(e){return this.aromaticAtoms=this.getAromatic(e),this.aromaticAtoms[e.index-e.residueAtomOffset]===1},Pn.prototype.calculateAromatic=function(e){var t=this,n=this.aromaticAtoms=new Uint8Array(this.atomCount),i=this.getRings().rings,r=i.map(function(s){return function(o){if(o.some(function(u){return!ile.includes(u.number)}))return!1;var c=0,A=new Yn(3,o.length),l=A.data;return o.forEach(function(u){l[c+0]=u.x,l[c+1]=u.y,l[c+2]=u.z,c+=3}),new kf(A).vecC.length()<.05}(s.map(function(o){return t.structure.getAtomProxy(o+e.atomOffset)}))}),a=this.aromaticRings=[];i.forEach(function(s,o){r[o]&&(a.push(s),s.forEach(function(c){return n[c]=1}))})},Pn.prototype.assignBondReferenceAtomIndices=function(){var e=this.getBondGraph(),t=this.getRings(),n=t.atomRings,i=t.rings,r=this.bonds,a=r.atomIndices1,s=r.atomIndices2,o=r.bondOrders,c=this.bondReferenceAtomIndices,A=r.atomIndices1.length;c.length=0;for(var l=0;l<A;++l)if(!(o[l]<=1)){var u=void 0,d=a[l],p=s[l],h=n[d],g=n[p];if(h&&g){for(var b=0;b<h.length;b++)if(g.indexOf(h[b])!==-1){u=i[h[b]];break}}if(e[d].length>1)for(var y=0;y<e[d].length;++y){var v=e[d][y];if(v!==p&&(u===void 0||u.indexOf(v)!==-1)){c[l]=v;break}}else if(e[p].length>1)for(var _=0;_<e[p].length;++_){var w=e[p][_];if(w!==d&&(u===void 0||u.indexOf(w)!==-1)){c[l]=w;break}}}},Pn.prototype.getBondIndex=function(e,t){for(var n=this.bonds,i=n.atomIndices1,r=n.atomIndices2,a=i.indexOf(e),s=r.indexOf(t),o=s;a!==-1;){for(;s!==-1;){if(a===s)return a;s=r.indexOf(t,s+1)}a=i.indexOf(e,a+1),s=o}},Pn.prototype.getBondReferenceAtomIndex=function(e,t){var n=this.getBondIndex(e,t);if(n!==void 0)return this.bondReferenceAtomIndices.length===0&&this.assignBondReferenceAtomIndices(),this.bondReferenceAtomIndices[n]};var ile=[5,6,7,8,14,15,16,32,33,50,51,83];function rle(e,t,n){if(!(n<t)){for(var i=e.pred,r=e.color,a=e.left,s=e.right,o=++e.currentColor,c=t,A=0;A<Of&&(r[c]=o,!((c=i[c])<0));A++);var l=0,u=0,d=!1,p=0;c=n;for(var h=0;h<Of;h++){if(r[c]===o){p=c,d=!0;break}if(s[u++]=c,(c=i[c])<0)break}if(d){c=t;for(var g=0;g<Of&&(a[l++]=c,p!==c)&&!((c=i[c])<0);g++);for(var b=l+u,y=new Array(b),v=0,_=0;_<l;_++)y[v++]=a[_];for(var w=u-1;w>=0;w--)y[v++]=s[w];for(var E=e.rings.length,B=0;B<b;++B){var R=y[B];e.atomRings[R]?e.atomRings[R].push(E):e.atomRings[R]=[E]}e.rings.push(y)}}}function ale(e,t){var n=e.bonds,i=e.visited,r=e.queue,a=e.pred;i[t]=1,r[0]=t;for(var s=0,o=1;s<o;){var c=r[s++];if(n[c]!==void 0)for(var A=n[c].length,l=0;l<A;l++){var u=n[c][l];i[u]>0?a[u]!==c&&a[c]!==u&&rle(e,c,u):(i[u]=1,r[o++]=u,a[u]=c)}}}var Of=4,ix=function(e){this.structure=e,this.dict={},this.list=[]};ix.prototype.add=function(e,t,n,i,r){i===void 0&&(i="");var a=function(c,A,l,u){return u===void 0&&(u=""),c+"|"+A.join(",")+"|"+(l?1:0)+"|"+u}(e=e.toUpperCase(),t,n,i),s=this.dict[a];if(s===void 0){var o=new Pn(this.structure,e,t,n,i,r);s=this.list.length,this.dict[a]=s,this.list.push(o)}return s},ix.prototype.get=function(e){return this.list[e]};var Uo=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.bondStore=e.bondStore,this._v12=new P,this._v13=new P,this._ap1=this.structure.getAtomProxy(),this._ap2=this.structure.getAtomProxy(),this._ap3=this.structure.getAtomProxy()},kc={atom1:{configurable:!0},atom2:{configurable:!0},atomIndex1:{configurable:!0},atomIndex2:{configurable:!0},bondOrder:{configurable:!0}};kc.atom1.get=function(){return this.structure.getAtomProxy(this.atomIndex1)},kc.atom2.get=function(){return this.structure.getAtomProxy(this.atomIndex2)},kc.atomIndex1.get=function(){return this.bondStore.atomIndex1[this.index]},kc.atomIndex1.set=function(e){this.bondStore.atomIndex1[this.index]=e},kc.atomIndex2.get=function(){return this.bondStore.atomIndex2[this.index]},kc.atomIndex2.set=function(e){this.bondStore.atomIndex2[this.index]=e},kc.bondOrder.get=function(){return this.bondStore.bondOrder[this.index]},kc.bondOrder.set=function(e){this.bondStore.bondOrder[this.index]=e},Uo.prototype.getOtherAtomIndex=function(e){return e===this.atomIndex1?this.atomIndex2:this.atomIndex1},Uo.prototype.getOtherAtom=function(e){return this.structure.getAtomProxy(this.getOtherAtomIndex(e.index))},Uo.prototype.getReferenceAtomIndex=function(){var e=this._ap1,t=this._ap2;if(e.index=this.atomIndex1,t.index=this.atomIndex2,e.residueIndex===t.residueIndex){var n=e.index-e.residueAtomOffset,i=t.index-t.residueAtomOffset,r=e.residueType.getBondReferenceAtomIndex(n,i);if(r!==void 0)return r+e.residueAtomOffset;console.warn("No reference atom found",e.index,t.index)}},Uo.prototype.calculateShiftDir=function(e){e===void 0&&(e=new P);var t=this._ap1,n=this._ap2,i=this._ap3,r=this._v12,a=this._v13;t.index=this.atomIndex1,n.index=this.atomIndex2;var s=this.getReferenceAtomIndex();r.subVectors(t,n).normalize(),s!==void 0?(i.index=s,a.subVectors(t,i)):a.copy(t),a.normalize();var o=r.dot(a);return 1-Math.abs(o)<1e-5&&(a.set(1,0,0),o=r.dot(a),1-Math.abs(o)<1e-5&&(a.set(0,1,0),o=r.dot(a))),e.copy(a.sub(r.multiplyScalar(o))).normalize()},Uo.prototype.qualifiedName=function(){return this.atomIndex1+"="+this.atomIndex2},Uo.prototype.clone=function(){return new Uo(this.structure,this.index)},Uo.prototype.toObject=function(){return{atomIndex1:this.atomIndex1,atomIndex2:this.atomIndex2,bondOrder:this.bondOrder}},Object.defineProperties(Uo.prototype,kc);var zn=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueMap=e.residueMap,this.atomMap=e.atomMap},Dn={entity:{configurable:!0},entityIndex:{configurable:!0},chain:{configurable:!0},chainIndex:{configurable:!0},atomOffset:{configurable:!0},atomCount:{configurable:!0},atomEnd:{configurable:!0},modelIndex:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0},resno:{configurable:!0},sstruc:{configurable:!0},inscode:{configurable:!0},residueType:{configurable:!0},resname:{configurable:!0},hetero:{configurable:!0},moleculeType:{configurable:!0},backboneType:{configurable:!0},backboneStartType:{configurable:!0},backboneEndType:{configurable:!0},traceAtomIndex:{configurable:!0},direction1AtomIndex:{configurable:!0},direction2AtomIndex:{configurable:!0},backboneStartAtomIndex:{configurable:!0},backboneEndAtomIndex:{configurable:!0},rungEndAtomIndex:{configurable:!0},x:{configurable:!0},y:{configurable:!0},z:{configurable:!0}};Dn.entity.get=function(){return this.structure.entityList[this.entityIndex]},Dn.entityIndex.get=function(){return this.chainStore.entityIndex[this.chainIndex]},Dn.chain.get=function(){return this.structure.getChainProxy(this.chainIndex)},Dn.chainIndex.get=function(){return this.residueStore.chainIndex[this.index]},Dn.chainIndex.set=function(e){this.residueStore.chainIndex[this.index]=e},Dn.atomOffset.get=function(){return this.residueStore.atomOffset[this.index]},Dn.atomOffset.set=function(e){this.residueStore.atomOffset[this.index]=e},Dn.atomCount.get=function(){return this.residueStore.atomCount[this.index]},Dn.atomCount.set=function(e){this.residueStore.atomCount[this.index]=e},Dn.atomEnd.get=function(){return this.atomOffset+this.atomCount-1},Dn.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},Dn.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},Dn.chainid.get=function(){return this.chainStore.getChainid(this.chainIndex)},Dn.resno.get=function(){return this.residueStore.resno[this.index]},Dn.resno.set=function(e){this.residueStore.resno[this.index]=e},Dn.sstruc.get=function(){return this.residueStore.getSstruc(this.index)},Dn.sstruc.set=function(e){this.residueStore.setSstruc(this.index,e)},Dn.inscode.get=function(){return this.residueStore.getInscode(this.index)},Dn.inscode.set=function(e){this.residueStore.setInscode(this.index,e)},Dn.residueType.get=function(){return this.residueMap.get(this.residueStore.residueTypeId[this.index])},Dn.resname.get=function(){return this.residueType.resname},Dn.hetero.get=function(){return this.residueType.hetero},Dn.moleculeType.get=function(){return this.residueType.moleculeType},Dn.backboneType.get=function(){return this.residueType.backboneType},Dn.backboneStartType.get=function(){return this.residueType.backboneStartType},Dn.backboneEndType.get=function(){return this.residueType.backboneEndType},Dn.traceAtomIndex.get=function(){return this.residueType.traceAtomIndex+this.atomOffset},Dn.direction1AtomIndex.get=function(){return this.residueType.direction1AtomIndex+this.atomOffset},Dn.direction2AtomIndex.get=function(){return this.residueType.direction2AtomIndex+this.atomOffset},Dn.backboneStartAtomIndex.get=function(){return this.residueType.backboneStartAtomIndex+this.atomOffset},Dn.backboneEndAtomIndex.get=function(){return this.residueType.backboneEndAtomIndex+this.atomOffset},Dn.rungEndAtomIndex.get=function(){return this.residueType.rungEndAtomIndex+this.atomOffset},Dn.x.get=function(){for(var e=0,t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.x[t];return e/this.atomCount},Dn.y.get=function(){for(var e=0,t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.y[t];return e/this.atomCount},Dn.z.get=function(){for(var e=0,t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.z[t];return e/this.atomCount},zn.prototype.eachAtom=function(e,t){var n=this.atomCount,i=this.atomOffset,r=this.structure._ap,a=i+n;if(t&&t.atomOnlyTest)for(var s=t.atomOnlyTest,o=i;o<a;++o)r.index=o,s(r)&&e(r);else for(var c=i;c<a;++c)r.index=c,e(r)},zn.prototype.positionToArray=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t+0]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},zn.prototype.isProtein=function(){return this.residueType.moleculeType===3},zn.prototype.isNucleic=function(){var e=this.residueType.moleculeType;return e===4||e===5},zn.prototype.isRna=function(){return this.residueType.moleculeType===4},zn.prototype.isDna=function(){return this.residueType.moleculeType===5},zn.prototype.isCg=function(){var e=this.residueType.backboneType;return e===4||e===5||e===6},zn.prototype.isPolymer=function(){if(this.structure.entityList.length>0)return this.entity.isPolymer();var e=this.residueType.moleculeType;return e===3||e===4||e===5},zn.prototype.isHetero=function(){return this.residueType.hetero===1},zn.prototype.isWater=function(){return this.residueType.moleculeType===1},zn.prototype.isIon=function(){return this.residueType.moleculeType===2},zn.prototype.isSaccharide=function(){return this.residueType.moleculeType===6},zn.prototype.isStandardAminoacid=function(){return this.residueType.isStandardAminoacid()},zn.prototype.isStandardBase=function(){return this.residueType.isStandardBase()},zn.prototype.isHelix=function(){return uI.includes(this.sstruc)},zn.prototype.isSheet=function(){return dI.includes(this.sstruc)},zn.prototype.isTurn=function(){return pI.includes(this.sstruc)&&this.isProtein()},zn.prototype.getAtomType=function(e){return this.atomMap.get(this.atomStore.atomTypeId[e])},zn.prototype.getResname1=function(){return $3[this.resname.toUpperCase()]||"X"},zn.prototype.getBackboneType=function(e){switch(e){case-1:return this.residueType.backboneStartType;case 1:return this.residueType.backboneEndType;default:return this.residueType.backboneType}},zn.prototype.getAtomIndexByName=function(e){var t=this.residueType.getAtomIndexByName(e);return t!==void 0&&(t+=this.atomOffset),t},zn.prototype.hasAtomWithName=function(e){return this.residueType.hasAtomWithName(e)},zn.prototype.getAtomnameList=function(){console.warn("getAtomnameList - might be expensive");for(var e=this.atomCount,t=this.atomOffset,n=new Array(e),i=0;i<e;++i)n[i]=this.getAtomType(t+i).atomname;return n},zn.prototype.connectedTo=function(e){var t=this.structure.getAtomProxy(this.backboneEndAtomIndex),n=this.structure.getAtomProxy(e.backboneStartAtomIndex);return!(!t||!n)&&t.connectedTo(n)},zn.prototype.getNextConnectedResidue=function(){var e=this.chainStore.residueOffset[this.chainIndex],t=this.chainStore.residueCount[this.chainIndex],n=this.index+1;if(n<e+t){var i=this.structure.getResidueProxy(n);if(this.connectedTo(i))return i}else if(n===e+t){var r=this.structure.getResidueProxy(e);if(this.connectedTo(r))return r}},zn.prototype.getPreviousConnectedResidue=function(e){var t=this.chainStore.residueOffset[this.chainIndex],n=this.index-1;if(n>=t){var i=z(e,this.structure.getResidueProxy());if(i.index=n,i.connectedTo(this))return i}else if(n===t-1){var r=this.chainStore.residueCount[this.chainIndex],a=z(e,this.structure.getResidueProxy());if(a.index=t+r-1,a.connectedTo(this))return a}},zn.prototype.getBonds=function(){return this.residueType.getBonds(this)},zn.prototype.getRings=function(){return this.residueType.getRings()},zn.prototype.getAromaticRings=function(){return this.residueType.getAromaticRings(this)},zn.prototype.qualifiedName=function(e){e===void 0&&(e=!1);var t="";return this.resname&&!e&&(t+="["+this.resname+"]"),this.resno!==void 0&&(t+=this.resno),this.inscode&&(t+="^"+this.inscode),this.chain&&(t+=":"+this.chainname),t+="/"+this.modelIndex},zn.prototype.clone=function(){return new zn(this.structure,this.index)},zn.prototype.toObject=function(){return{index:this.index,chainIndex:this.chainIndex,atomOffset:this.atomOffset,atomCount:this.atomCount,resno:this.resno,resname:this.resname,sstruc:this.sstruc}},Object.defineProperties(zn.prototype,Dn);var Na=function(e,t,n){this.structure=e,this.residueIndexStart=t,this.residueIndexEnd=n,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueCount=n-t+1;var i=this.structure.getResidueProxy(this.residueIndexStart),r=this.structure.getResidueProxy(this.residueIndexEnd);this.isPrevConnected=i.getPreviousConnectedResidue()!==void 0;var a=r.getNextConnectedResidue();this.isNextConnected=a!==void 0,this.isNextNextConnected=a!==void 0&&a.getNextConnectedResidue()!==void 0,this.isCyclic=r.connectedTo(i),this.__residueProxy=this.structure.getResidueProxy()},Iy={chainIndex:{configurable:!0},modelIndex:{configurable:!0},chainname:{configurable:!0}};Iy.chainIndex.get=function(){return this.residueStore.chainIndex[this.residueIndexStart]},Iy.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},Iy.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},Na.prototype.isProtein=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isProtein()},Na.prototype.isCg=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isCg()},Na.prototype.isNucleic=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isNucleic()},Na.prototype.getMoleculeType=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.moleculeType},Na.prototype.getBackboneType=function(e){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.getBackboneType(e)},Na.prototype.getAtomIndexByType=function(e,t){this.isCyclic?e===-1?e=this.residueCount-1:e===this.residueCount&&(e=0):(e!==-1||this.isPrevConnected||(e+=1),e!==this.residueCount||this.isNextNextConnected||(e-=1));var n,i=this.__residueProxy;switch(i.index=this.residueIndexStart+e,t){case"trace":n=i.traceAtomIndex;break;case"direction1":n=i.direction1AtomIndex;break;case"direction2":n=i.direction2AtomIndex;break;default:n=i.getAtomIndexByName(t)}return n},Na.prototype.eachAtom=function(e,t){this.eachResidue(function(n){n.eachAtom(e,t)})},Na.prototype.eachAtomN=function(e,t,n){for(var i=this.residueCount,r=new Array(e),a=0;a<e;++a)r[a]=this.structure.getAtomProxy(this.getAtomIndexByType(a,n));t.apply(this,r);for(var s=e;s<i;++s){for(var o=1;o<e;++o)r[o-1].index=r[o].index;r[e-1].index=this.getAtomIndexByType(s,n),t.apply(this,r)}},Na.prototype.eachResidue=function(e){for(var t=this.structure.getResidueProxy(),n=this.residueCount,i=this.residueIndexStart,r=0;r<n;++r)t.index=i+r,e(t)},Na.prototype.qualifiedName=function(){var e=this.structure.getResidueProxy(this.residueIndexStart),t=this.structure.getResidueProxy(this.residueIndexEnd);return e.qualifiedName()+" - "+t.qualifiedName()},Object.defineProperties(Na.prototype,Iy);var Do=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore},hr={entity:{configurable:!0},model:{configurable:!0},entityIndex:{configurable:!0},modelIndex:{configurable:!0},residueOffset:{configurable:!0},residueCount:{configurable:!0},residueEnd:{configurable:!0},atomOffset:{configurable:!0},atomEnd:{configurable:!0},atomCount:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0}};hr.entity.get=function(){return this.structure.entityList[this.entityIndex]},hr.model.get=function(){return this.structure.getModelProxy(this.modelIndex)},hr.entityIndex.get=function(){return this.chainStore.entityIndex[this.index]},hr.entityIndex.set=function(e){this.chainStore.entityIndex[this.index]=e},hr.modelIndex.get=function(){return this.chainStore.modelIndex[this.index]},hr.modelIndex.set=function(e){this.chainStore.modelIndex[this.index]=e},hr.residueOffset.get=function(){return this.chainStore.residueOffset[this.index]},hr.residueOffset.set=function(e){this.chainStore.residueOffset[this.index]=e},hr.residueCount.get=function(){return this.chainStore.residueCount[this.index]},hr.residueCount.set=function(e){this.chainStore.residueCount[this.index]=e},hr.residueEnd.get=function(){return this.residueOffset+this.residueCount-1},hr.atomOffset.get=function(){return this.residueStore.atomOffset[this.residueOffset]},hr.atomEnd.get=function(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1},hr.atomCount.get=function(){return this.residueCount===0?0:this.atomEnd-this.atomOffset+1},hr.chainname.get=function(){return this.chainStore.getChainname(this.index)},hr.chainname.set=function(e){this.chainStore.setChainname(this.index,e)},hr.chainid.get=function(){return this.chainStore.getChainid(this.index)},hr.chainid.set=function(e){this.chainStore.setChainid(this.index,e)},Do.prototype.eachAtom=function(e,t){this.eachResidue(function(n){n.eachAtom(e,t)},t)},Do.prototype.eachResidue=function(e,t){var n=this.residueCount,i=this.residueOffset,r=this.structure._rp,a=i+n;if(t&&t.test){var s=t.residueOnlyTest;if(s)for(var o=i;o<a;++o)r.index=o,s(r)&&e(r);else for(var c=i;c<a;++c)r.index=c,e(r)}else for(var A=i;A<a;++A)r.index=A,e(r)},Do.prototype.eachResidueN=function(e,t){var n=this.residueCount,i=this.residueOffset,r=i+n;if(!(n<e)){for(var a=new Array(e),s=0;s<e;++s)a[s]=this.structure.getResidueProxy(i+s);t.apply(this,a);for(var o=i+e;o<r;++o){for(var c=0;c<e;++c)a[c].index+=1;t.apply(this,a)}}},Do.prototype.eachPolymer=function(e,t){for(var n=0,i=0,r=t?t.residueOnlyTest:void 0,a=this.model.structure,s=this.residueCount,o=this.residueOffset,c=o+s,A=this.structure.getResidueProxy(),l=this.structure.getResidueProxy(o),u=this.structure.getAtomProxy(),d=this.structure.getAtomProxy(),p=!0,h=o+1;h<c;++h){A.index=l.index,l.index=h;var g=p?A.backboneEndType:A.backboneType,b=l.backboneType;p&&(n=A.index,p=!1),i=l.index,g!==0&&g===b?(u.index=A.backboneEndAtomIndex,d.index=l.backboneStartAtomIndex,u&&d&&u.connectedTo(d)&&(!r||r(A)&&r(l))||(A.index-n>1&&e(new Na(a,n,A.index)),n=i)):(g!==0&&A.index-n>1&&e(new Na(a,n,A.index)),n=i)}i-n>1&&this.structure.getResidueProxy(n).backboneEndType&&e(new Na(a,n,i))},Do.prototype.qualifiedName=function(){return":"+this.chainname+"/"+this.modelIndex},Do.prototype.clone=function(){return new Do(this.structure,this.index)},Do.prototype.toObject=function(){return{index:this.index,residueOffset:this.residueOffset,residueCount:this.residueCount,chainname:this.chainname}},Object.defineProperties(Do.prototype,hr);var ko=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.modelStore=e.modelStore,this.chainStore=e.chainStore,this.residueStore=e.residueStore},xs={chainOffset:{configurable:!0},chainCount:{configurable:!0},residueOffset:{configurable:!0},atomOffset:{configurable:!0},chainEnd:{configurable:!0},residueEnd:{configurable:!0},atomEnd:{configurable:!0},residueCount:{configurable:!0},atomCount:{configurable:!0}};xs.chainOffset.get=function(){return this.modelStore.chainOffset[this.index]},xs.chainOffset.set=function(e){this.modelStore.chainOffset[this.index]=e},xs.chainCount.get=function(){return this.modelStore.chainCount[this.index]},xs.chainCount.set=function(e){this.modelStore.chainCount[this.index]=e},xs.residueOffset.get=function(){return this.chainStore.residueOffset[this.chainOffset]},xs.atomOffset.get=function(){return this.residueStore.atomOffset[this.residueOffset]},xs.chainEnd.get=function(){return this.chainOffset+this.chainCount-1},xs.residueEnd.get=function(){return this.chainStore.residueOffset[this.chainEnd]+this.chainStore.residueCount[this.chainEnd]-1},xs.atomEnd.get=function(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1},xs.residueCount.get=function(){return this.chainCount===0?0:this.residueEnd-this.residueOffset+1},xs.atomCount.get=function(){return this.residueCount===0?0:this.atomEnd-this.atomOffset+1},ko.prototype.eachAtom=function(e,t){this.eachChain(function(n){n.eachAtom(e,t)},t)},ko.prototype.eachResidue=function(e,t){this.eachChain(function(n){n.eachResidue(e,t)},t)},ko.prototype.eachPolymer=function(e,t){if(t&&t.chainOnlyTest){var n=t.chainOnlyTest;this.eachChain(function(i){n(i)&&i.eachPolymer(e,t)})}else this.eachChain(function(i){i.eachPolymer(e,t)})},ko.prototype.eachChain=function(e,t){var n=this.chainCount,i=this.chainOffset,r=this.structure._cp,a=i+n;if(t&&t.test){var s=t.chainOnlyTest;if(s)for(var o=i;o<a;++o)r.index=o,s(r)&&e(r);else for(var c=i;c<a;++c)r.index=c,e(r)}else for(var A=i;A<a;++A)r.index=A,e(r)},ko.prototype.qualifiedName=function(){return"/"+this.index},ko.prototype.clone=function(){return new ko(this.structure,this.index)},ko.prototype.toObject=function(){return{index:this.index,chainOffset:this.chainOffset,chainCount:this.chainCount}},Object.defineProperties(ko.prototype,xs);var qt=function(e,t){e===void 0&&(e=""),t===void 0&&(t=""),this.signals={refreshed:new An.exports.Signal},this.init(e,t)},bN={type:{configurable:!0}};qt.prototype.init=function(e,t){this.name=e,this.path=t,this.title="",this.id="",this.data={structure:this,"@spatialLookup":void 0,"@valenceModel":void 0},this.header={},this.extraData={},this.atomSetCache={},this.atomSetDict={},this.biomolDict={},this.entityList=[],this.unitcell=void 0,this.frames=[],this.boxes=[],this.validation=void 0,this.bondStore=new wg(0),this.backboneBondStore=new wg(0),this.rungBondStore=new wg(0),this.atomStore=new kAe(0),this.residueStore=new OAe(0),this.chainStore=new HAe(0),this.modelStore=new QAe(0),this.atomMap=new nx(this),this.residueMap=new ix(this),this.bondHash=void 0,this.spatialHash=void 0,this.atomSet=void 0,this.bondSet=void 0,this.center=new P,this.boundingBox=new gi,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy()},bN.type.get=function(){return"Structure"},qt.prototype.finalizeAtoms=function(){this.atomSet=this.getAtomSet(),this.atomCount=this.atomStore.count,this.boundingBox=this.getBoundingBox(void 0,this.boundingBox),this.center=this.boundingBox.getCenter(new P),this.spatialHash=new Pl(this.atomStore,this.boundingBox)},qt.prototype.finalizeBonds=function(){for(var e in this.bondSet=this.getBondSet(),this.bondCount=this.bondStore.count,this.bondHash=new DAe(this.bondStore,this.atomStore.count),this.atomSetCache={},this.atomSetDict.rung||(this.atomSetDict.rung=this.getAtomSet(!1)),this.atomSetDict)this.atomSetCache["__"+e]=this.atomSetDict[e].clone()},qt.prototype.getBondProxy=function(e){return new Uo(this,e)},qt.prototype.getAtomProxy=function(e){return new Kt(this,e)},qt.prototype.getResidueProxy=function(e){return new zn(this,e)},qt.prototype.getChainProxy=function(e){return new Do(this,e)},qt.prototype.getModelProxy=function(e){return new ko(this,e)},qt.prototype.getBondSet=function(){var e=this.bondStore.count,t=new cn(e),n=this.atomSet;if(n)if(n.isAllSet())t.setAll();else if(n.isAllClear())t.clearAll();else for(var i=this.getBondProxy(),r=0;r<e;++r)i.index=r,n.isSet(i.atomIndex1,i.atomIndex2)&&t.set(i.index);else t.setAll();return t},qt.prototype.getBackboneBondSet=function(){var e=this.backboneBondStore.count,t=new cn(e),n=this.atomSetCache.__backbone;if(n){var i=this.getBondProxy();i.bondStore=this.backboneBondStore;for(var r=0;r<e;++r)i.index=r,n.isSet(i.atomIndex1,i.atomIndex2)&&t.set(i.index)}else t.setAll();return t},qt.prototype.getRungBondSet=function(){var e=this.rungBondStore.count,t=new cn(e),n=this.atomSetCache.__rung;if(n){var i=this.getBondProxy();i.bondStore=this.rungBondStore;for(var r=0;r<e;++r)i.index=r,n.isSet(i.atomIndex1,i.atomIndex2)&&t.set(i.index)}else t.setAll();return t},qt.prototype.getAtomSet=function(e){var t=this.atomStore.count;if(e===void 0)return new cn(t,!0);if(e instanceof cn)return e;if(e===!0)return new cn(t,!0);if(e&&e.test){var n=e.string;if(n in this.atomSetCache)return this.atomSetCache[n];if(n==="")return new cn(t,!0);var i=new cn(t);return this.eachAtom(function(r){i.set(r.index)},e),this.atomSetCache[n]=i,i}return e===!1?new cn(t):new cn(t,!0)},qt.prototype.getAtomSetWithinSelection=function(e,t){var n=this.spatialHash,i=this.getAtomSet(!1),r=this.getAtomProxy();return n&&this.getAtomSet(e).forEach(function(a){r.index=a,n.within(r.x,r.y,r.z,t).forEach(function(s){i.set(s)})}),i},qt.prototype.getAtomSetWithinPoint=function(e,t){var n=e,i=this.getAtomSet(!1);return this.spatialHash&&this.spatialHash.within(n.x,n.y,n.z,t).forEach(function(r){i.set(r)}),i},qt.prototype.getAtomSetWithinVolume=function(e,t,n,i,r){var a=new Ns(e,n,i,r),s=a.getDataPosition(),o=s.length,c=a.matrix.getMaxScaleOnAxis(),A=this.getAtomSet(!1);if(!this.spatialHash)return A;for(var l=0;l<o;l+=3)this.spatialHash.within(s[l],s[l+1],s[l+2],c).forEach(function(u){A.set(u)});return A},qt.prototype.getAtomSetWithinGroup=function(e){var t=this.atomStore.residueIndex,n=this.getAtomSet(!1),i=this.getResidueProxy();return this.getAtomSet(e).forEach(function(r){i.index=t[r];for(var a=i.atomOffset;a<=i.atomEnd;++a)n.set(a)}),n},qt.prototype.getSelection=function(){},qt.prototype.getStructure=function(){return this},qt.prototype.eachEntity=function(e,t){this.entityList.forEach(function(n){t!==void 0&&n.getEntityType()!==t||e(n)})},qt.prototype.eachBond=function(e,t){var n,i=this.getBondProxy();if(t&&t.test&&(n=this.getBondSet(),this.bondSet&&n.intersection(this.bondSet)),n)n.forEach(function(s){i.index=s,e(i)});else for(var r=this.bondStore.count,a=0;a<r;++a)i.index=a,e(i)},qt.prototype.eachAtom=function(e,t){if(t&&t.test)this.eachModel(function(a){a.eachAtom(e,t)},t);else for(var n=this.atomStore.count,i=this.getAtomProxy(),r=0;r<n;++r)i.index=r,e(i)},qt.prototype.eachResidue=function(e,t){if(t&&t.test){var n=this.modelStore.count,i=this.getModelProxy(),r=t.modelOnlyTest;if(r)for(var a=0;a<n;++a)i.index=a,r(i)&&i.eachResidue(e,t);else for(var s=0;s<n;++s)i.index=s,i.eachResidue(e,t)}else for(var o=this.residueStore.count,c=this.getResidueProxy(),A=0;A<o;++A)c.index=A,e(c)},qt.prototype.eachResidueN=function(e,t){var n=this.residueStore.count;if(!(n<e)){for(var i=new Array(e),r=0;r<e;++r)i[r]=this.getResidueProxy(r);t.apply(this,i);for(var a=e;a<n;++a){for(var s=0;s<e;++s)i[s].index+=1;t.apply(this,i)}}},qt.prototype.eachPolymer=function(e,t){if(t&&t.modelOnlyTest){var n=t.modelOnlyTest;this.eachModel(function(i){n(i)&&i.eachPolymer(e,t)})}else this.eachModel(function(i){i.eachPolymer(e,t)})},qt.prototype.eachChain=function(e,t){if(t&&t.test)this.eachModel(function(a){a.eachChain(e,t)});else for(var n=this.chainStore.count,i=this.getChainProxy(),r=0;r<n;++r)i.index=r,e(i)},qt.prototype.eachModel=function(e,t){var n=this.modelStore.count,i=this.getModelProxy();if(t&&t.test){var r=t.modelOnlyTest;if(r)for(var a=0;a<n;++a)i.index=a,r(i)&&e(i);else for(var s=0;s<n;++s)i.index=s,e(i)}else for(var o=0;o<n;++o)i.index=o,e(i)},qt.prototype.getAtomData=function(e){var t=Object.assign({},e);t.colorParams&&(t.colorParams.structure=this.getStructure());var n,i,r=t.what,a=z(t.atomSet,this.atomSet),s={},o=this.getAtomProxy(),c=a.getSize();r&&!r.position||(s.position=new Float32Array(3*c)),r&&!r.color||!t.colorParams||(s.color=new Float32Array(3*c),i=Nn.getScheme(t.colorParams)),r&&!r.picking||(s.picking=new Ol(new Float32Array(c),this.getStructure())),r&&!r.radius||(s.radius=new Float32Array(c),n=new Ac(t.radiusParams)),r&&!r.index||(s.index=new Uint32Array(c));var A=s.position,l=s.color,u=s.picking,d=s.radius,p=s.index;return a.forEach(function(h,g){var b=3*g;o.index=h,A&&o.positionToArray(A,b),l&&i.atomColorToArray(o,l,b),u&&(u.array[g]=h),d&&(d[g]=n.atomRadius(o)),p&&(p[g]=h)}),s},qt.prototype.getBondData=function(e){var t=Object.assign({},e);t.colorParams&&(t.colorParams.structure=this.getStructure());var n,i,r=t.what,a=z(t.bondSet,this.bondSet),s=z(t.multipleBond,"off"),o=s!=="off",c=s==="offset",A=z(t.bondScale,.4),l=z(t.bondSpacing,1),u={},d=this.getBondProxy();t.bondStore&&(d.bondStore=t.bondStore);var p,h=this.getAtomProxy(),g=this.getAtomProxy();if(o){var b=d.bondStore.bondOrder;p=0,a.forEach(function(j){p+=b[j]})}else p=a.getSize();r&&!r.position||(u.position1=new Float32Array(3*p),u.position2=new Float32Array(3*p)),r&&!r.color||!t.colorParams||(u.color=new Float32Array(3*p),u.color2=new Float32Array(3*p),i=Nn.getScheme(t.colorParams)),r&&!r.picking||(u.picking=new bI(new Float32Array(p),this.getStructure(),t.bondStore)),(!r||r.radius||o&&r.position)&&(n=new Ac(t.radiusParams)),r&&!r.radius||(u.radius=new Float32Array(p),t.radius2&&(u.radius2=new Float32Array(p)));var y,v,_,w,E,B,R=u.position1,G=u.position2,C=u.color,O=u.color2,I=u.picking,D=u.radius,k=u.radius2,L=0,T=new P,H=new P,W=new P;return a.forEach(function(j){if(v=3*L,d.index=j,h.index=d.atomIndex1,g.index=d.atomIndex2,w=d.bondOrder,R)if(o&&w>1){var ce=n.atomRadius(h);B=ce*A/(.5*w),d.calculateShiftDir(W),c?(E=2*l*ce,W.multiplyScalar(E),W.negate(),H.subVectors(g,h).multiplyScalar(Math.max(.1,E/1.88)),h.positionToArray(R,v),g.positionToArray(G,v),w>=2&&(T.addVectors(h,W).add(H).toArray(R,v+3),T.addVectors(g,W).sub(H).toArray(G,v+3),w>=3&&(T.subVectors(h,W).add(H).toArray(R,v+6),T.subVectors(g,W).sub(H).toArray(G,v+6)))):(E=(l-A)*ce,W.multiplyScalar(E),w===2?(T.addVectors(h,W).toArray(R,v),T.subVectors(h,W).toArray(R,v+3),T.addVectors(g,W).toArray(G,v),T.subVectors(g,W).toArray(G,v+3)):w===3?(h.positionToArray(R,v),T.addVectors(h,W).toArray(R,v+3),T.subVectors(h,W).toArray(R,v+6),g.positionToArray(G,v),T.addVectors(g,W).toArray(G,v+3),T.subVectors(g,W).toArray(G,v+6)):(h.positionToArray(R,v),g.positionToArray(G,v)))}else h.positionToArray(R,v),g.positionToArray(G,v);if(C&&O&&(i.bondColorToArray(d,1,C,v),i.bondColorToArray(d,0,O,v),o&&w>1))for(y=1;y<w;++y)GC(C,v,_=3*y+v,3),GC(O,v,_,3);if(I&&I.array&&(I.array[L]=j,o&&w>1))for(y=1;y<w;++y)I.array[L+y]=j;if(D&&(D[L]=n.atomRadius(h),o&&w>1))for(B=D[L]*A/(c?1:.5*w),y=c?1:0;y<w;++y)D[L+y]=B;if(k&&(k[L]=n.atomRadius(g),o&&w>1))for(B=k[L]*A/(c?1:.5*w),y=c?1:0;y<w;++y)k[L+y]=B;L+=o?w:1}),u},qt.prototype.getBackboneAtomData=function(e){return e=Object.assign({atomSet:this.atomSetCache.__backbone},e),this.getAtomData(e)},qt.prototype.getBackboneBondData=function(e){return e=Object.assign({bondSet:this.getBackboneBondSet(),bondStore:this.backboneBondStore},e),this.getBondData(e)},qt.prototype.getRungAtomData=function(e){return e=Object.assign({atomSet:this.atomSetCache.__rung},e),this.getAtomData(e)},qt.prototype.getRungBondData=function(e){return e=Object.assign({bondSet:this.getRungBondSet(),bondStore:this.rungBondStore},e),this.getBondData(e)},qt.prototype.getBoundingBox=function(e,t){je&&De.time("getBoundingBox"),t=t||new gi;var n=1/0,i=1/0,r=1/0,a=-1/0,s=-1/0,o=-1/0;return this.eachAtom(function(c){var A=c.x,l=c.y,u=c.z;A<n&&(n=A),l<i&&(i=l),u<r&&(r=u),A>a&&(a=A),l>s&&(s=l),u>o&&(o=u)},e),t.min.set(n,i,r),t.max.set(a,s,o),je&&De.timeEnd("getBoundingBox"),t},qt.prototype.getPrincipalAxes=function(e){je&&De.time("getPrincipalAxes");var t=0,n=new Yn(3,this.atomCount),i=n.data;return this.eachAtom(function(r){i[t+0]=r.x,i[t+1]=r.y,i[t+2]=r.z,t+=3},e),je&&De.timeEnd("getPrincipalAxes"),new kf(n)},qt.prototype.atomCenter=function(e){return e?this.getBoundingBox(e).getCenter(new P):this.center.clone()},qt.prototype.hasCoords=function(){if(this._hasCoords===void 0){var e=this.atomStore;this._hasCoords=dg(e.x)!==0||ug(e.x)!==0||dg(e.y)!==0||ug(e.y)!==0||dg(e.z)!==0||ug(e.z)!==0||e.count/this.modelStore.count==1}return this._hasCoords},qt.prototype.getSequence=function(e){var t=[],n=this.getResidueProxy();return this.eachAtom(function(i){n.index=i.residueIndex,i.index===n.traceAtomIndex&&t.push(n.getResname1())},e),t},qt.prototype.getAtomIndices=function(e){if(e&&e.string){var t=[];return this.eachAtom(function(n){t.push(n.index)},e),new Uint32Array(t)}return this.getAtomData({what:{index:!0}}).index},qt.prototype.getChainnameCount=function(e){var t=new Set;return this.eachChain(function(n){n.residueCount&&t.add(n.chainname)},e),t.size},qt.prototype.updatePosition=function(e,t){t===void 0&&(t=!0);var n=0;this.eachAtom(function(i){i.positionFromArray(e,n),n+=3},void 0),this._hasCoords=void 0,t&&this.refreshPosition()},qt.prototype.refreshPosition=function(){this.getBoundingBox(void 0,this.boundingBox),this.boundingBox.getCenter(this.center),this.spatialHash=new Pl(this.atomStore,this.boundingBox),this.signals.refreshed.dispatch(this)},qt.prototype.dispose=function(){this.frames&&(this.frames.length=0),this.boxes&&(this.boxes.length=0),this.bondStore.dispose(),this.backboneBondStore.dispose(),this.rungBondStore.dispose(),this.atomStore.dispose(),this.residueStore.dispose(),this.chainStore.dispose(),this.modelStore.dispose(),delete this.bondSet,delete this.atomSet},Object.defineProperties(qt.prototype,bN);var vN=new gi,rx=[D2,Il,k2,Ll,$d,P2,Wd,U2,W3,O2,Hh,Qh],sle={aspectRatio:1.5,sphereDetail:2,radialSegments:50,disableImpostor:!1,openEnded:!1,dashedCylinder:!1,labelParams:{},pointSize:2,sizeAttenuation:!1,useTexture:!0,linewidth:2},mr=function(e,t){var n=this;e===void 0&&(e="shape"),t===void 0&&(t={}),this.boundingBox=new gi,this.bufferList=[],this.meshCount=0,this._primitiveData={},this.name=e,this.parameters=As(t,sle),rx.forEach(function(i){Object.keys(i.fields).forEach(function(r){n._primitiveData[i.getShapeKey(r)]=[]}),n._primitiveData[i.getShapeKey("name")]=[]})},rE={center:{configurable:!0},type:{configurable:!0}};mr.prototype.addBuffer=function(e){this.bufferList.push(e);var t=e.geometry;return t.boundingBox||t.computeBoundingBox(),this.boundingBox.union(t.boundingBox),this},mr.prototype.addMesh=function(e,t,n,i,r){var a;e=Tw(e),t=Tw(t),Array.isArray(n)&&(n=cc(n,e.length)),i&&(i=Tw(i)),a=i===void 0||i.length==0?{position:e,color:t,index:n}:{position:e,color:t,index:n,normal:i};var s=new BAe(this,Object.assign({serial:this.meshCount,name:r},a)),o=new d0(Object.assign({picking:s},a));return this.bufferList.push(o),vN.setFromArray(e),this.boundingBox.union(vN),this.meshCount+=1,this},mr.prototype.addSphere=function(e,t,n,i){return Wd.objectToShape(this,{position:e,color:t,radius:n,name:i}),this},mr.prototype.addEllipsoid=function(e,t,n,i,r,a){return $d.objectToShape(this,{position:e,color:t,radius:n,majorAxis:i,minorAxis:r,name:a}),this},mr.prototype.addTorus=function(e,t,n,i,r,a){return O2.objectToShape(this,{position:e,color:t,radius:n,majorAxis:i,minorAxis:r,name:a}),this},mr.prototype.addCylinder=function(e,t,n,i,r){return Ll.objectToShape(this,{position1:e,position2:t,color:n,radius:i,name:r}),this},mr.prototype.addCone=function(e,t,n,i,r){return k2.objectToShape(this,{position1:e,position2:t,color:n,radius:i,name:r}),this},mr.prototype.addArrow=function(e,t,n,i,r){return D2.objectToShape(this,{position1:e,position2:t,color:n,radius:i,name:r}),this},mr.prototype.addBox=function(e,t,n,i,r,a){return Il.objectToShape(this,{position:e,color:t,size:n,heightAxis:i,depthAxis:r,name:a}),this},mr.prototype.addOctahedron=function(e,t,n,i,r,a){return P2.objectToShape(this,{position:e,color:t,size:n,heightAxis:i,depthAxis:r,name:a}),this},mr.prototype.addTetrahedron=function(e,t,n,i,r,a){return U2.objectToShape(this,{position:e,color:t,size:n,heightAxis:i,depthAxis:r,name:a}),this},mr.prototype.addText=function(e,t,n,i){return W3.objectToShape(this,{position:e,color:t,size:n,text:i}),this},mr.prototype.addPoint=function(e,t,n){return Hh.objectToShape(this,{position:e,color:t,name:n}),this},mr.prototype.addWideline=function(e,t,n,i,r){return this.parameters.linewidth=i,Qh.objectToShape(this,{position1:e,position2:t,color:n,name:r}),this},mr.prototype.addLabel=function(e,t,n,i){return console.warn("Shape.addLabel is deprecated, use .addText instead"),this.addText(e,t,n,i)},mr.prototype.getBufferList=function(){var e=this,t=[];return rx.forEach(function(n){e._primitiveData[n.getShapeKey("color")].length&&t.push(n.bufferFromShape(e,e.parameters))}),this.bufferList.concat(t)},mr.prototype.dispose=function(){var e=this;this.bufferList.forEach(function(t){t.dispose()}),this.bufferList.length=0,rx.forEach(function(t){Object.keys(t.fields).forEach(function(n){e._primitiveData[t.getShapeKey(n)].length=0}),e._primitiveData[t.getShapeKey("name")].length=0})},rE.center.get=function(){return this._center||(this._center=this.boundingBox.getCenter(new P)),this._center},rE.type.get=function(){return"Shape"},Object.defineProperties(mr.prototype,rE);var wN=function(e){function t(n,i,r){Array.isArray(n)||(n=[n]),e.call(this,n,i,r),this.type="buffer",this.parameters=Object.assign({},this.parameters,{colorScheme:null,colorScale:null,colorValue:null,colorDomain:null,colorMode:null}),this.buffer=n,this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){e.prototype.init.call(this,n),this.build()},t.prototype.create=function(){this.bufferList.push.apply(this.bufferList,this.buffer)},t.prototype.attach=function(n){var i=this;this.bufferList.forEach(function(r){i.viewer.add(r),r.setParameters(i.getBufferParams())}),this.setVisibility(this.visible),n()},t}(tr),Ly=new st,EN=new kr,BA=function(e){function t(n,i,r){i===void 0&&(i={}),e.call(this,function(l,u){var d,p=u.attributes.position.array,h=u.index?u.index.array:void 0,g=l.position.length/3,b=p.length/3,y=g*b,v=new Float32Array(3*y),_=new Float32Array(3*y),w=new Float32Array(3*y);return h&&(d=cc(g*h.length,y)),{position:v,color:w,index:d,normal:_,primitiveId:l.primitiveId||K_(g,b),picking:l.picking}}(n,r),i),this.updateNormals=!1;var a=r.attributes.position.array,s=r.attributes.normal.array,o=r.index?r.index.array:void 0;this.geoPosition=a,this.geoNormal=s,this.geoIndex=o,this.positionCount=n.position.length/3,this.geoPositionCount=a.length/3,this.transformedGeoPosition=new Float32Array(3*this.geoPositionCount),this.transformedGeoNormal=new Float32Array(3*this.geoPositionCount);var c=this.geometry.attributes;if(this.meshPosition=c.position.array,this.meshColor=c.color.array,this.meshNormal=c.normal.array,this.setAttributes(n),o){var A=this.geometry.getIndex();if(!A)return void De.error("Index is null");this.meshIndex=A.array,this.makeIndex()}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAttributes=function(n,i){n===void 0&&(n={}),i===void 0&&(i=!1);var r,a,s,o,c,A,l,u,d,p=this.geometry.attributes,h=this.updateNormals;n.position&&(r=n.position,s=this.geoPosition,l=this.meshPosition,c=this.transformedGeoPosition,p.position.needsUpdate=!0,(h||i)&&(o=this.geoNormal,d=this.meshNormal,A=this.transformedGeoNormal,p.normal.needsUpdate=!0)),n.color&&(a=n.color,u=this.meshColor,p.color.needsUpdate=!0);for(var g=this.positionCount,b=this.geoPositionCount,y=0;y<g;++y){var v=void 0,_=void 0,w=y*b*3,E=3*y;if(r&&c&&l&&d&&s&&o&&(c.set(s),Ly.makeTranslation(r[E],r[E+1],r[E+2]),this.applyPositionTransform(Ly,y,E),I2(Ly.elements,c),l.set(c,w),h&&A?(A.set(o),EN.getNormalMatrix(Ly),F7(EN.elements,A),d.set(A,w)):i&&d.set(o,w)),a&&u)for(v=0;v<b;++v)u[_=w+3*v]=a[E],u[_+1]=a[E+1],u[_+2]=a[E+2]}},t.prototype.makeIndex=function(){var n=this.geoIndex,i=this.meshIndex;if(n)for(var r=this.positionCount,a=this.geoPositionCount,s=3*(n.length/3),o=0;o<r;++o){var c=o*s,A=c+s;i.set(n,c);for(var l=c;l<A;++l)i[l]+=o*a}},t}(d0),_N=new P,LI=Object.assign({sphereDetail:1},ga),ole=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r,new Ml(1,z(r.sphereDetail,1))),this.setAttributes(i,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return LI},t.prototype.applyPositionTransform=function(i,r){var a=this._radius[r];_N.set(a,a,a),i.scale(_N)},t.prototype.setAttributes=function(i,r){i===void 0&&(i={}),i.radius&&(this._radius=i.radius),e.prototype.setAttributes.call(this,i,r)},Object.defineProperties(t.prototype,n),t}(BA);Vn.add("shader/SphereImpostor.vert",`uniform mat4 projectionMatrixInverse;
uniform float clipNear;
varying float vRadius;
varying float vRadiusSq;
varying vec3 vPoint;
varying vec3 vPointViewPosition;
attribute vec2 mapping;
attribute float radius;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#endif
#include matrix_scale
const mat4 D = mat4(
1.0, 0.0, 0.0, 0.0,
0.0, 1.0, 0.0, 0.0,
0.0, 0.0, 1.0, 0.0,
0.0, 0.0, 0.0, -1.0
);
mat4 transposeM( in mat4 inMatrix ) {
vec4 i0 = inMatrix[0];
vec4 i1 = inMatrix[1];
vec4 i2 = inMatrix[2];
vec4 i3 = inMatrix[3];
mat4 outMatrix = mat4(
vec4(i0.x, i1.x, i2.x, i3.x),
vec4(i0.y, i1.y, i2.y, i3.y),
vec4(i0.z, i1.z, i2.z, i3.z),
vec4(i0.w, i1.w, i2.w, i3.w)
);
return outMatrix;
}
void ComputePointSizeAndPositionInClipCoordSphere(){
vec2 xbc;
vec2 ybc;
mat4 T = mat4(
radius, 0.0, 0.0, 0.0,
0.0, radius, 0.0, 0.0,
0.0, 0.0, radius, 0.0,
position.x, position.y, position.z, 1.0
);
mat4 R = transposeM( projectionMatrix * modelViewMatrix * T );
float A = dot( R[ 3 ], D * R[ 3 ] );
float B = -2.0 * dot( R[ 0 ], D * R[ 3 ] );
float C = dot( R[ 0 ], D * R[ 0 ] );
xbc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
xbc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
float sx = abs( xbc[ 0 ] - xbc[ 1 ] ) * 0.5;
A = dot( R[ 3 ], D * R[ 3 ] );
B = -2.0 * dot( R[ 1 ], D * R[ 3 ] );
C = dot( R[ 1 ], D * R[ 1 ] );
ybc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
ybc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
float sy = abs( ybc[ 0 ] - ybc[ 1 ] ) * 0.5;
gl_Position.xy = vec2( 0.5 * ( xbc.x + xbc.y ), 0.5 * ( ybc.x + ybc.y ) );
gl_Position.xy -= mapping * vec2( sx, sy );
gl_Position.xy *= gl_Position.w;
}
void main(void){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
vRadius = radius * matrixScale( modelViewMatrix );
vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
mvPosition.z -= vRadius;
gl_Position = projectionMatrix * vec4( mvPosition.xyz, 1.0 );
ComputePointSizeAndPositionInClipCoordSphere();
vRadiusSq = vRadius * vRadius;
vec4 vPoint4 = projectionMatrixInverse * gl_Position;
vPoint = vPoint4.xyz / vPoint4.w;
vPointViewPosition = -mvPosition.xyz / mvPosition.w;
}`),Vn.add("shader/SphereImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform mat4 projectionMatrix;
uniform float ortho;
varying float vRadius;
varying float vRadiusSq;
varying vec3 vPoint;
varying vec3 vPointViewPosition;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool flag2 = false;
bool interior = false;
vec3 cameraPos;
vec3 cameraNormal;
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
float calcClip( vec3 cameraPos ){
return dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
bool Impostor( out vec3 cameraPos, out vec3 cameraNormal ){
vec3 cameraSpherePos = -vPointViewPosition;
cameraSpherePos.z += vRadius;
vec3 rayOrigin = mix( vec3( 0.0, 0.0, 0.0 ), vPoint, ortho );
vec3 rayDirection = mix( normalize( vPoint ), vec3( 0.0, 0.0, 1.0 ), ortho );
vec3 cameraSphereDir = mix( cameraSpherePos, rayOrigin - cameraSpherePos, ortho );
float B = dot( rayDirection, cameraSphereDir );
float det = B * B + vRadiusSq - dot( cameraSphereDir, cameraSphereDir );
if( det < 0.0 ){
discard;
return false;
}
float sqrtDet = sqrt( det );
float posT = mix( B + sqrtDet, B + sqrtDet, ortho );
float negT = mix( B - sqrtDet, sqrtDet - B, ortho );
cameraPos = rayDirection * negT + rayOrigin;
#ifdef NEAR_CLIP
if( calcDepth( cameraPos ) <= 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
}else if( calcClip( cameraPos ) > 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
flag2 = true;
}
#else
if( calcDepth( cameraPos ) <= 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
}
#endif
cameraNormal = normalize( cameraPos - cameraSpherePos );
cameraNormal *= float(!interior) * 2.0 - 1.0;
return !interior;
}
void main(void){
bool flag = Impostor( cameraPos, cameraNormal );
#ifdef NEAR_CLIP
if( calcClip( cameraPos ) > 0.0 )
discard;
#endif
gl_FragDepthEXT = calcDepth( cameraPos );
if( !flag ){
#ifdef NEAR_CLIP
if( flag2 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );
}else if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
#else
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
#endif
}
if (gl_FragDepthEXT < 0.0)
discard;
if (gl_FragDepthEXT > 1.0)
discard;
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vNormal = cameraNormal;
vec3 vViewPosition = -cameraPos;
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
#include normal_fragment_begin
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var k7=function(e){function t(i,r,a){a===void 0&&(a={}),e.call(this,r,a),this.index=cc(this.indexSize,this.attributeSize),this.makeIndex(),this.initIndex(this.index),this.addAttributes({mapping:{type:i,value:null}}),this.setAttributes({primitiveId:np(this.size)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={attributeSize:{configurable:!0},indexSize:{configurable:!0}};return n.attributeSize.get=function(){return this.size*this.mappingSize},n.indexSize.get=function(){return this.size*this.mappingIndicesSize},t.prototype.addAttributes=function(i){var r={};for(var a in i){var s=i[a];r[a]={type:s.type,value:null}}e.prototype.addAttributes.call(this,r)},t.prototype.getAttributeIndex=function(i){return 3*i*this.mappingSize},t.prototype.setAttributes=function(i){i&&!i.position&&i.position1&&i.position2&&(i.position=tc(i.position1,i.position2));var r,a,s,o,c,A,l,u=this.size,d=this.mappingSize,p=this.geometry.attributes;for(var h in i)if(h!=="index"&&h!=="picking"){a=i[h],s=(r=p[h]).itemSize,o=r.array;for(var g=0;g<u;++g){A=(c=g*s)*d;for(var b=0;b<d;++b){l=A+s*b;for(var y=0;y<s;++y)o[l+y]=a[c+y]}}r.needsUpdate=!0}},t.prototype.makeMapping=function(){for(var i=this.size,r=this.mapping,a=this.mappingSize,s=this.mappingItemSize,o=this.geometry.attributes.mapping.array,c=0;c<i;c++)o.set(r,c*s*a)},t.prototype.makeIndex=function(){for(var i=this.size,r=this.mappingSize,a=this.mappingIndices,s=this.mappingIndicesSize,o=this.index,c=0;c<i;c++){var A=c*s,l=c*r;o.set(a,A);for(var u=0;u<s;++u)o[A+u]+=l}},Object.defineProperties(t.prototype,n),t}(Fn),cle=new Float32Array([-1,1,-1,-1,1,1,1,-1]),Ale=new Uint16Array([0,1,2,1,3,2]),O7=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,"v2",i,r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return n.mapping.get=function(){return cle},n.mappingIndices.get=function(){return Ale},n.mappingIndicesSize.get=function(){return 6},n.mappingSize.get=function(){return 4},n.mappingItemSize.get=function(){return 2},Object.defineProperties(t.prototype,n),t}(k7),lle=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,n,i),this.isImpostor=!0,this.vertexShader="SphereImpostor.vert",this.fragmentShader="SphereImpostor.frag",this.addUniforms({projectionMatrixInverse:{value:new st},ortho:{value:0}}),this.addAttributes({radius:{type:"f",value:null}}),this.setAttributes(n),this.makeMapping()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(O7);Object.assign({disableImpostor:!1},LI);var RA=function(e,t){return!ec||t&&t.disableImpostor?new ole(e,t):new lle(e,t)};ls.add("sphere",RA),Vn.add("shader/Point.vert",`uniform float clipNear;
uniform float clipRadius;
uniform vec3 clipCenter;
uniform float size;
uniform float canvasHeight;
uniform float pixelRatio;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
varying vec3 vViewPosition;
#endif
#include common
void main(){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
#include begin_vertex
#include project_vertex
#ifdef USE_SIZEATTENUATION
gl_PointSize = size * pixelRatio * ( ( canvasHeight / 2.0 ) / -mvPosition.z );
#else
gl_PointSize = size * pixelRatio;
#endif
#ifndef PICKING
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
#include radiusclip_vertex
}`),Vn.add("shader/Point.frag",`uniform vec3 diffuse;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#ifdef USE_MAP
uniform sampler2D map;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
varying vec3 vViewPosition;
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
#ifdef USE_MAP
if( texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) ).a < 0.5 )
discard;
#endif
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 outgoingLight = vec3( 0.0 );
vec4 diffuseColor = vec4( diffuse, 1.0 );
#ifdef USE_MAP
diffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );
#endif
#include color_fragment
#include alphatest_fragment
outgoingLight = diffuseColor.rgb;
gl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var ule=Object.assign({pointSize:1,sizeAttenuation:!0,sortParticles:!1,alphaTest:.5,useTexture:!1,forceTransparent:!1,edgeBleach:0},ga),dle=Object.assign({pointSize:{uniform:"size"},sizeAttenuation:{updateShader:!0},sortParticles:{},alphaTest:{updateShader:!0},useTexture:{updateShader:!0},forceTransparent:{},edgeBleach:{uniform:!0}},Hl),H7=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r),this.parameterTypes=dle,this.vertexShader="Point.vert",this.fragmentShader="Point.frag",this.isPoint=!0,this.addUniforms({size:{value:this.parameters.pointSize},canvasHeight:{value:1},pixelRatio:{value:1},map:{value:null}})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return ule},t.prototype.makeMaterial=function(){e.prototype.makeMaterial.call(this),this.makeTexture();var i=this.material,r=this.wireframeMaterial,a=this.pickingMaterial;i.uniforms.map.value=this.tex,i.needsUpdate=!0,r.uniforms.map.value=this.tex,r.needsUpdate=!0,a.uniforms.map.value=this.tex,a.needsUpdate=!0},t.prototype.makeTexture=function(){this.tex&&this.tex.dispose(),this.tex=function(i){for(var r,a,s=i||{},o=z(s.width,256),c=z(s.height,256),A=[o/2,c/2],l=Math.min(o/2,c/2),u=z(s.delta,1/(l+1))*l,d=0,p=0,h=new Uint8Array(o*c*4),g=0,b=h.length;g<b;g+=4){var y=1-um(l-u,l,(r=void 0,a=void 0,r=A[0]-d,a=A[1]-p,Math.sqrt(r*r+a*a)));h[g]=255*y,h[g+1]=255*y,h[g+2]=255*y,h[g+3]=255*y,++d===o&&(d=0,p++)}var v=new a0(h,o,c);return v.needsUpdate=!0,v}({delta:this.parameters.edgeBleach})},t.prototype.getDefines=function(i){var r=e.prototype.getDefines.call(this,i);return this.parameters.sizeAttenuation&&(r.USE_SIZEATTENUATION=1),this.parameters.useTexture&&(r.USE_MAP=1),this.parameters.alphaTest>0&&this.parameters.alphaTest<=1&&(r.ALPHATEST=this.parameters.alphaTest.toPrecision(2)),r},t.prototype.setUniforms=function(i){i&&i.edgeBleach!==void 0&&(this.makeTexture(),i.map=this.tex),e.prototype.setUniforms.call(this,i)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.tex&&this.tex.dispose()},Object.defineProperties(t.prototype,n),t}(Fn);ls.add("point",H7);var xN=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="dot",this.parameters=Object.assign({thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdOut:{type:"boolean",rebuild:!0},dotType:{type:"select",rebuild:!0,options:{"":"",sphere:"sphere",point:"point"}},radiusType:{type:"select",options:{"":"",value:"value","abs-value":"abs-value","value-min":"value-min",deviation:"deviation",size:"size"}},radius:{type:"number",precision:3,max:10,min:.001,property:"size"},scale:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,disableImpostor:!0,pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{colorScheme:{type:"select",update:"color",options:{"":"",value:"value",uniform:"uniform",random:"random"}}}),n instanceof jn?(this.surface=void 0,this.volume=new Ns(n)):(this.surface=n,this.volume=void 0),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=z(i.colorScheme,"uniform"),i.colorValue=z(i.colorValue,14540253),this.thresholdType=z(i.thresholdType,"sigma"),this.thresholdMin=z(i.thresholdMin,2),this.thresholdMax=z(i.thresholdMax,1/0),this.thresholdOut=z(i.thresholdOut,!1),this.dotType=z(i.dotType,"point"),this.radius=z(i.radius,.1),this.scale=z(i.scale,1),this.pointSize=z(i.pointSize,1),this.sizeAttenuation=z(i.sizeAttenuation,!0),this.sortParticles=z(i.sortParticles,!1),this.useTexture=z(i.useTexture,!1),this.alphaTest=z(i.alphaTest,.5),this.forceTransparent=z(i.forceTransparent,!1),this.edgeBleach=z(i.edgeBleach,0),e.prototype.init.call(this,i),this.build()},t.prototype.attach=function(n){var i=this;this.bufferList.forEach(function(r){i.viewer.add(r)}),this.setVisibility(this.visible),n()},t.prototype.create=function(){var n={};if(this.volume){var i,r,a=this.volume;this.thresholdType==="sigma"?(i=a.getValueForSigma(this.thresholdMin),r=a.getValueForSigma(this.thresholdMax)):(i=this.thresholdMin,r=this.thresholdMax),a.setFilter(i,r,this.thresholdOut),Object.assign(n,{position:a.getDataPosition(),color:a.getDataColor(this.getColorParams())}),this.dotType==="sphere"&&Object.assign(n,{radius:a.getDataSize(this.radius,this.scale),picking:a.getDataPicking()})}else{var s=this.surface;Object.assign(n,{position:s.getPosition(),color:s.getColor(this.getColorParams())}),this.dotType==="sphere"&&Object.assign(n,{radius:s.getSize(this.radius,this.scale),picking:s.getPicking()})}this.dotType==="sphere"?this.dotBuffer=new RA(n,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!1})):this.dotBuffer=new H7(n,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach})),this.bufferList.push(this.dotBuffer)},t.prototype.update=function(n){if(n===void 0&&(n={}),this.bufferList.length!==0){var i={};n.color&&(this.volume?Object.assign(i,{color:this.volume.getDataColor(this.getColorParams())}):Object.assign(i,{color:this.surface.getColor(this.getColorParams())})),this.dotType==="sphere"&&(n.radius||n.scale)&&(this.volume?Object.assign(i,{radius:this.volume.getDataSize(this.radius,this.scale)}):Object.assign(i,{radius:this.surface.getSize(this.radius,this.scale)})),this.dotBuffer.setAttributes(i)}},t.prototype.setParameters=function(n,i,r){return i===void 0&&(i={}),n&&n.thresholdType!==void 0&&this.volume instanceof jn&&(this.thresholdType==="value"&&n.thresholdType==="sigma"?(this.thresholdMin=this.volume.getSigmaForValue(this.thresholdMin),this.thresholdMax=this.volume.getSigmaForValue(this.thresholdMax)):this.thresholdType==="sigma"&&n.thresholdType==="value"&&(this.thresholdMin=this.volume.getValueForSigma(this.thresholdMin),this.thresholdMax=this.volume.getValueForSigma(this.thresholdMax)),this.thresholdType=n.thresholdType),n&&n.radiusType!==void 0&&(n.radiusType==="radius"?this.radius=.1:this.radius=parseFloat(n.radiusType),i.radius=!0,this.dotType!=="sphere"||ec&&!this.disableImpostor||(r=!0)),n&&n.radius!==void 0&&(i.radius=!0,this.dotType!=="sphere"||ec&&!this.disableImpostor||(r=!0)),n&&n.scale!==void 0&&(i.scale=!0,this.dotType!=="sphere"||ec&&!this.disableImpostor||(r=!0)),e.prototype.setParameters.call(this,n,i,r),this},t}(tr);Vn.add("shader/Image.vert",`uniform float clipRadius;
uniform vec3 clipCenter;
varying vec2 vUv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
void main() {
#include begin_vertex
#include project_vertex
vUv = uv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
}`),Vn.add("shader/Image.frag",`uniform sampler2D map;
uniform float opacity;
uniform vec2 mapSize;
uniform float clipNear;
uniform float clipRadius;
varying vec2 vUv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform sampler2D pickingMap;
uniform float objectId;
#else
#include fog_pars_fragment
#endif
#if defined( CUBIC_INTERPOLATION )
#if defined( CATMULROM_FILTER ) || defined( MITCHELL_FILTER )
#if defined( CATMULROM_FILTER )
const float B = 0.0;
const float C = 0.5;
#elif defined( MITCHELL_FILTER )
const float B = 0.333;
const float C = 0.333;
#endif
float filter( float x ){
float f = x;
if( f < 0.0 ){
f = -f;
}
if( f < 1.0 ){
return ( ( 12.0 - 9.0 * B - 6.0 * C ) * ( f * f * f ) +
( -18.0 + 12.0 * B + 6.0 *C ) * ( f * f ) +
( 6.0 - 2.0 * B ) ) / 6.0;
}else if( f >= 1.0 && f < 2.0 ){
return ( ( -B - 6.0 * C ) * ( f * f * f )
+ ( 6.0 * B + 30.0 * C ) * ( f *f ) +
( - ( 12.0 * B ) - 48.0 * C ) * f +
8.0 * B + 24.0 * C ) / 6.0;
}else{
return 0.0;
}
}
#elif defined( BSPLINE_FILTER )
float filter( float x ){
float f = x;
if( f < 0.0 ){
f = -f;
}
if( f >= 0.0 && f <= 1.0 ){
return ( 2.0 / 3.0 ) + ( 0.5 ) * ( f * f * f ) - ( f * f );
}else if( f > 1.0 && f <= 2.0 ){
return 1.0 / 6.0 * pow( ( 2.0 - f ), 3.0 );
}
return 1.0;
}
#else
float filter( float x ){
return 1.0;
}
#endif
vec4 biCubic( sampler2D tex, vec2 texCoord ){
vec2 texelSize = 1.0 / mapSize;
texCoord -= texelSize / 2.0;
vec4 nSum = vec4( 0.0 );
float nDenom = 0.0;
vec2 cell = fract( texCoord * mapSize );
for( float m = -1.0; m <= 2.0; ++m ){
for( float n = -1.0; n <= 2.0; ++n ){
vec4 vecData = texture2D(
tex, texCoord + texelSize * vec2( m, n )
);
float c = filter( m - cell.x ) * filter( -n + cell.y );
nSum += vecData * c;
nDenom += c;
}
}
return nSum / nDenom;
}
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( CUBIC_INTERPOLATION )
gl_FragColor = biCubic( map, vUv );
#else
gl_FragColor = texture2D( map, vUv );
#endif
#if defined( PICKING )
if( gl_FragColor.a < 0.3 )
discard;
gl_FragColor = vec4( texture2D( pickingMap, vUv ).xyz, objectId );
#else
if( gl_FragColor.a < 0.01 )
discard;
gl_FragColor.a *= opacity;
#include fog_fragment
#endif
}`);var ple=new Uint16Array([0,1,2,1,3,2]),fle=new Float32Array([0,1,0,0,1,1,1,0]),hle=Object.assign({filter:"nearest",forceTransparent:!0},ga),mle=Object.assign({filter:{updateShader:!0,uniform:!0}},Hl),yle=function(e){function t(i,r){e.call(this,{position:i.position,index:ple,picking:i.picking},r),this.parameterTypes=mle,this.alwaysTransparent=!0,this.hasWireframe=!1,this.vertexShader="Image.vert",this.fragmentShader="Image.frag";var a=i.imageData,s=i.width,o=i.height,c=new a0(a,s,o);c.flipY=!0,this.tex=c;for(var A=a.length,l=new Uint8Array(A),u=0;u<A;u+=4){var d=u/4;l[u]=d>>16&255,l[u+1]=d>>8&255,l[u+2]=255&d}var p=new a0(l,s,o);p.flipY=!0,p.minFilter=hi,p.magFilter=hi,this.pickingTex=p,this.addUniforms({map:{value:c},pickingMap:{value:p},mapSize:{value:new et(s,o)}}),this.geometry.setAttribute("uv",new Vt(fle,2))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return hle},t.prototype.getDefines=function(i){var r=e.prototype.getDefines.call(this,i),a=this.parameters.filter;return a.startsWith("cubic")&&(r.CUBIC_INTERPOLATION=1,a.endsWith("bspline")?r.BSPLINE_FILTER=1:a.endsWith("catmulrom")?r.CATMULROM_FILTER=1:a.endsWith("mitchell")&&(r.MITCHELL_FILTER=1)),r},t.prototype.updateTexture=function(){var i=this.tex,r=this.parameters.filter;r.startsWith("cubic")?(i.minFilter=hi,i.magFilter=hi):r==="linear"?(i.minFilter=ur,i.magFilter=ur):(i.minFilter=hi,i.magFilter=hi),i.needsUpdate=!0,this.pickingTex.needsUpdate=!0},t.prototype.makeMaterial=function(){e.prototype.makeMaterial.call(this),this.updateTexture();var i=this.material;i.uniforms.map.value=this.tex,i.blending=aA,i.needsUpdate=!0;var r=this.wireframeMaterial;r.uniforms.map.value=this.tex,r.blending=aA,r.needsUpdate=!0;var a=this.pickingMaterial;a.uniforms.map.value=this.tex,a.uniforms.pickingMap.value=this.pickingTex,a.blending=aA,a.needsUpdate=!0},t.prototype.setUniforms=function(i){i&&i.filter!==void 0&&(this.updateTexture(),i.map=this.tex),e.prototype.setUniforms.call(this,i)},Object.defineProperties(t.prototype,n),t}(Fn),ax=function(e,t){var n=t||{};this.dimension=z(n.dimension,"x"),this.positionType=z(n.positionType,"percent"),this.position=z(n.position,30),this.thresholdType=z(n.thresholdType,"sigma"),this.thresholdMin=z(n.thresholdMin,-1/0),this.thresholdMax=z(n.thresholdMax,1/0),this.normalize=z(n.normalize,!1),this.volume=e};ax.prototype.getPositionFromCoordinate=function(e){var t,n=this.dimension,i=this.volume,r=i.matrix,a=new P().setFromMatrixPosition(r)[n],s=new P().setFromMatrixScale(r)[n];return t=n==="x"?i.nx:n==="y"?i.ny:i.nz,Math.round(((e-a)/(t/100)+1)/s)},ax.prototype.getData=function(e){e=e||{};var t,n=this.volume,i=n.data,r=n.matrix;function a(pe){return Math.round(pe/100*(t-1))}function s(pe,Ee,ee,ie){return 3*(ee*n.ny*n.nx+Ee*n.nx+pe)+ie}t=this.positionType==="coordinate"?this.getPositionFromCoordinate(this.position):this.position;var o,c,A,l,u,d=new Float32Array(12),p=new P,h=0,g=0,b=0,y=n.nx,v=n.ny,_=n.nz;function w(pe,Ee,ee,ie){p.set(pe,Ee,ee).applyMatrix4(r).toArray(d,ie)}this.dimension==="x"?(A=a(n.nx),l=n.ny-1,u=n.nz-1,o=n.nz,c=n.ny,y=(h=A)+1,w(A,0,0,0),w(A,l,0,3),w(A,0,u,6),w(A,l,u,9)):this.dimension==="y"?(A=n.nx-1,l=a(n.ny),u=n.nz-1,o=n.nz,c=n.nx,v=(g=l)+1,w(0,l,0,0),w(A,l,0,3),w(0,l,u,6),w(A,l,u,9)):this.dimension==="z"&&(A=n.nx-1,l=n.ny-1,u=a(n.nz),o=n.nx,c=n.ny,_=(b=u)+1,w(0,0,u,0),w(0,l,u,3),w(A,0,u,6),w(A,l,u,9));var E,B,R=0,G=0,C=new Uint8Array(o*c*4),O=new Float32Array(o*c);this.thresholdType==="sigma"?(E=n.getValueForSigma(this.thresholdMin),B=n.getValueForSigma(this.thresholdMax)):(E=this.thresholdMin,B=this.thresholdMax);var I=Object.assign({},e.colorParams,{volume:n});this.normalize&&(I.domain=[0,1]);var D,k=Nn.getScheme(I),L=new Float32Array(3),T=k.getScale(),H=0,W=0;if(this.normalize){H=1/0,D=-1/0;for(var j=g;j<v;++j)for(var ce=h;ce<y;++ce)for(var ue=b;ue<_;++ue){var te=i[s(ce,j,ue,0)/3];te<H&&(H=te),te>D&&(D=te)}W=D-H}for(var re=g;re<v;++re)for(var ae=h;ae<y;++ae)for(var fe=b;fe<_;++fe){var ye=s(ae,re,fe,0)/3,se=i[ye];this.normalize&&(se=(se-H)/W),k.colorToArray(T(se),L),C[R]=Math.round(255*L[0]),C[R+1]=Math.round(255*L[1]),C[R+2]=Math.round(255*L[2]),C[R+3]=se>E&&se<B?255:0,O[G]=ye,++G,R+=4}var me=new MAe(O,n);return{position:d,imageData:C,width:o,height:c,picking:me}};var gle=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="slice",this.parameters=Object.assign({filter:{type:"select",buffer:!0,options:{nearest:"nearest",linear:"linear","cubic-bspline":"cubic-bspline","cubic-catmulrom":"cubic-catmulrom","cubic-mitchell":"cubic-mitchell"}},positionType:{type:"select",rebuild:!0,options:{percent:"percent",coordinate:"coordinate"}},position:{type:"range",step:.1,max:100,min:1,rebuild:!0},dimension:{type:"select",rebuild:!0,options:{x:"x",y:"y",z:"z"}},thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},normalize:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null,linewidth:null,colorScheme:null,roughness:null,metalness:null,diffuse:null}),this.volume=n,this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=this.volume,r=n||{};r.colorDomain=z(r.colorDomain,[i.min,i.max]),r.colorScheme=z(r.colorScheme,"value"),r.colorScale=z(r.colorScale,"Spectral"),this.colorScheme="value",this.dimension=z(r.dimension,"x"),this.filter=z(r.filter,"cubic-bspline"),this.positionType=z(r.positionType,"percent"),this.position=z(r.position,30),this.thresholdType=z(r.thresholdType,"sigma"),this.thresholdMin=z(r.thresholdMin,-1/0),this.thresholdMax=z(r.thresholdMax,1/0),this.normalize=z(r.normalize,!1),e.prototype.init.call(this,r),this.build()},t.prototype.attach=function(n){var i=this;this.bufferList.forEach(function(r){i.viewer.add(r)}),this.setVisibility(this.visible),n()},t.prototype.create=function(){var n=new ax(this.volume,{positionType:this.positionType,position:this.position,dimension:this.dimension,thresholdType:this.thresholdType,thresholdMin:this.thresholdMin,thresholdMax:this.thresholdMax,normalize:this.normalize}),i=new yle(n.getData({colorParams:this.getColorParams()}),this.getBufferParams({filter:this.filter}));this.bufferList.push(i)},t}(tr);function aE(e){De.error("makeRepresentation: representation type "+e+" unknown")}var Q7={name:"some element",status:""},id=function(e,t){t===void 0&&(t={}),this.stage=e,this.signals={statusChanged:new An.exports.Signal,nameChanged:new An.exports.Signal,disposed:new An.exports.Signal},this.parameters=As(t,this.defaultParameters),this.uuid=S7()},sE={defaultParameters:{configurable:!0},name:{configurable:!0}};sE.defaultParameters.get=function(){return Q7},sE.name.get=function(){return this.parameters.name},id.prototype.setStatus=function(e){return this.parameters.status=e,this.signals.statusChanged.dispatch(e),this},id.prototype.setName=function(e){return this.parameters.name=e,this.signals.nameChanged.dispatch(e),this},id.prototype.dispose=function(){this.signals.disposed.dispatch()},Object.defineProperties(id.prototype,sE);var ble=Object.assign({visible:!0},Q7),vle=function(e){function t(i,r,a,s){a===void 0&&(a={}),e.call(this,i,Object.assign({name:r.type},a)),this.parent=s,this.signals=Object.assign({visibilityChanged:new An.exports.Signal,parametersChanged:new An.exports.Signal},this.signals),this.setRepresentation(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0},visible:{configurable:!0},type:{configurable:!0}};return n.defaultParameters.get=function(){return ble},n.visible.get=function(){return this.parameters.visible},n.type.get=function(){return"representation"},t.prototype.getType=function(){return this.repr.type},t.prototype.setRepresentation=function(i){this._disposeRepresentation(),this.repr=i,this.stage.tasks.listen(this.repr.tasks),this.updateVisibility()},t.prototype._disposeRepresentation=function(){this.repr&&(this.stage.tasks.unlisten(this.repr.tasks),this.repr.dispose())},t.prototype.dispose=function(){this.parent&&this.parent.hasRepresentation(this)?this.parent.removeRepresentation(this):(this._disposeRepresentation(),this.signals.disposed.dispatch())},t.prototype.setVisibility=function(i){return this.parameters.visible=i,this.updateVisibility(),this.signals.visibilityChanged.dispatch(this.parameters.visible),this},t.prototype.getVisibility=function(){return this.parent?this.parent.parameters.visible&&this.parameters.visible:this.parameters.visible},t.prototype.toggleVisibility=function(){return this.setVisibility(!this.parameters.visible)},t.prototype.updateVisibility=function(){this.repr.setVisibility(this.getVisibility())},t.prototype.update=function(i){return this.repr.update(i),this},t.prototype.build=function(i){return this.repr.build(i),this},t.prototype.setSelection=function(i){var r=this.repr;return r.setSelection&&r.setSelection(i),this},t.prototype.setParameters=function(i){return this.repr.setParameters(i),this.signals.parametersChanged.dispatch(this.repr.getParameters()),this},t.prototype.getParameters=function(){return this.repr.getParameters()},t.prototype.setColor=function(i){return this.repr.setColor(i),this},Object.defineProperties(t.prototype,n),t}(id),Su=new st,wle=new P,PI={name:"",status:"",visible:!0},$n=function(e,t,n){n===void 0&&(n={}),this.stage=e,this.object=t,this.signals={representationAdded:new An.exports.Signal,representationRemoved:new An.exports.Signal,visibilityChanged:new An.exports.Signal,matrixChanged:new An.exports.Signal,statusChanged:new An.exports.Signal,nameChanged:new An.exports.Signal,disposed:new An.exports.Signal},this.reprList=[],this.annotationList=[],this.matrix=new st,this.position=new P,this.quaternion=new yi,this.scale=new P(1,1,1),this.transform=new st,this.parameters=As(n,this.defaultParameters),this.uuid=S7(),this.viewer=e.viewer,this.controls=new vg(this)},Vp={defaultParameters:{configurable:!0},name:{configurable:!0},status:{configurable:!0},visible:{configurable:!0}};Vp.defaultParameters.get=function(){return PI},Vp.name.get=function(){return this.parameters.name},Vp.status.get=function(){return this.parameters.status},Vp.visible.get=function(){return this.parameters.visible},$n.prototype.setPosition=function(e){return Array.isArray(e)?this.position.fromArray(e):this.position.copy(e),this.updateMatrix(),this},$n.prototype.setRotation=function(e){if(Array.isArray(e))if(e.length===3){var t=new mA().fromArray(e);this.quaternion.setFromEuler(t)}else this.quaternion.fromArray(e);else e instanceof mA?this.quaternion.setFromEuler(e):this.quaternion.copy(e);return this.updateMatrix(),this},$n.prototype.setScale=function(e){return this.scale.set(e,e,e),this.updateMatrix(),this},$n.prototype.setTransform=function(e){return this.transform.copy(e),this.updateMatrix(),this},$n.prototype.updateMatrix=function(){var e=this.getCenterUntransformed(wle);this.matrix.makeTranslation(-e.x,-e.y,-e.z),Su.makeRotationFromQuaternion(this.quaternion),this.matrix.premultiply(Su),Su.makeScale(this.scale.x,this.scale.y,this.scale.z),this.matrix.premultiply(Su);var t=this.position;Su.makeTranslation(t.x+e.x,t.y+e.y,t.z+e.z),this.matrix.premultiply(Su),this.matrix.premultiply(this.transform),this.updateRepresentationMatrices(),this.stage.viewer.updateBoundingBox(),this.signals.matrixChanged.dispatch(this.matrix)},$n.prototype.updateRepresentationMatrices=function(){var e=this;this.reprList.forEach(function(t){t.setParameters({matrix:e.matrix})})},$n.prototype.addAnnotation=function(e,t,n){var i=new $0(this,e,t,n);return this.annotationList.push(i),i},$n.prototype.eachAnnotation=function(e){this.annotationList.slice().forEach(e)},$n.prototype.removeAnnotation=function(e){var t=this.annotationList.indexOf(e);t!==-1&&(this.annotationList.splice(t,1),e.dispose())},$n.prototype.removeAllAnnotations=function(){this.eachAnnotation(function(e){return e.dispose()}),this.annotationList.length=0},$n.prototype._addRepresentation=function(e,t,n,i){i===void 0&&(i=!1);var r=n||{},a=this.stage.getParameters();r.matrix=this.matrix.clone(),r.quality=r.quality||a.quality,r.disableImpostor=z(r.disableImpostor,!a.impostor),r.useWorker=z(r.useWorker,a.workerDefault),r.visible=z(r.visible,!0);var s=Object.assign({},r,{visible:this.parameters.visible&&r.visible}),o=function(A,l,u,d){var p;if(je&&De.time("makeRepresentation "+A),l instanceof qt){if(!(p=Ci.get(A)))return void aE(A)}else if(l instanceof Yr)if(A==="surface")p=ex;else{if(A!=="dot")return void aE(A);p=xN}else if(l instanceof jn)if(A==="surface")p=ex;else if(A==="dot")p=xN;else{if(A!=="slice")return void aE(A);p=gle}else if(l instanceof mr)p=wN,l=l.getBufferList();else{if(A!=="buffer")return void De.error("makeRepresentation: object "+l+" unknown");p=wN}var h=new p(l,u,d);return je&&De.timeEnd("makeRepresentation "+A),h}(e,t,this.viewer,s),c=new vle(this.stage,o,r,this);return i||(this.reprList.push(c),this.signals.representationAdded.dispatch(c)),c},$n.prototype.addBufferRepresentation=function(e,t){return this._addRepresentation.call(this,"buffer",e,t)},$n.prototype.hasRepresentation=function(e){return this.reprList.indexOf(e)!==-1},$n.prototype.eachRepresentation=function(e){this.reprList.slice().forEach(e)},$n.prototype.removeRepresentation=function(e){var t=this.reprList.indexOf(e);t!==-1&&(this.reprList.splice(t,1),e.dispose(),this.signals.representationRemoved.dispatch(e))},$n.prototype.updateRepresentations=function(e){this.reprList.forEach(function(t){return t.update(e)}),this.stage.viewer.requestRender()},$n.prototype.removeAllRepresentations=function(){this.eachRepresentation(function(e){return e.dispose()})},$n.prototype.dispose=function(){this.removeAllAnnotations(),this.removeAllRepresentations(),this.reprList.length=0,this.signals.disposed.dispatch()},$n.prototype.setVisibility=function(e){return this.parameters.visible=e,this.eachRepresentation(function(t){return t.updateVisibility()}),this.eachAnnotation(function(t){return t.updateVisibility()}),this.signals.visibilityChanged.dispatch(e),this},$n.prototype.setStatus=function(e){return this.parameters.status=e,this.signals.statusChanged.dispatch(e),this},$n.prototype.setName=function(e){return this.parameters.name=e,this.signals.nameChanged.dispatch(e),this},$n.prototype.getBox=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).getBoxUntransformed.apply(e,t).clone().applyMatrix4(this.matrix)},$n.prototype.getCenter=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).getCenterUntransformed.apply(e,t).clone().applyMatrix4(this.matrix)},$n.prototype.getZoom=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return this.stage.getZoomForBox((e=this).getBox.apply(e,t))},$n.prototype.getBoxUntransformed=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new gi},$n.prototype.getCenterUntransformed=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.getBoxUntransformed().getCenter(new P)},$n.prototype.autoView=function(e){this.stage.animationControls.zoomMove(this.getCenter(),this.getZoom(),z(e,0))},Object.defineProperties($n.prototype,Vp);var rd=function(e){e===void 0&&(e=[]),this.list=e;for(var t=e.length,n=0;n<t;++n)e[n].signals.disposed.add(this._remove,this)},BN={first:{configurable:!0}};rd.prototype._remove=function(e){var t=this.list.indexOf(e);t!==-1&&this.list.splice(t,1)},BN.first.get=function(){return this.list.length>0?this.list[0]:void 0},rd.prototype.forEach=function(e){return this.list.forEach(e),this},rd.prototype.dispose=function(){return this.forEach(function(e){return e.dispose()})},Object.defineProperties(rd.prototype,BN);var UI=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setParameters=function(n){return this.forEach(function(i){return i.setParameters(n)})},t.prototype.setVisibility=function(n){return this.forEach(function(i){return i.setVisibility(n)})},t.prototype.setSelection=function(n){return this.forEach(function(i){return i.setSelection(n)})},t.prototype.setColor=function(n){return this.forEach(function(i){return i.setColor(n)})},t.prototype.update=function(n){return this.forEach(function(i){return i.update(n)})},t.prototype.build=function(n){return this.forEach(function(i){return i.build(n)})},t.prototype.dispose=function(n){return this.forEach(function(i){return i.dispose()})},t}(rd),Ele=Object.assign({defaultStep:1,defaultTimeout:50,defaultInterpolateType:"",defaultInterpolateStep:5,defaultMode:"loop",defaultDirection:"forward",initialFrame:0},Q7),_le=function(e){function t(i,r,a){var s=this;a===void 0&&(a={}),e.call(this,i,Object.assign({name:r.name},a)),this.trajectory=r,this.signals=Object.assign(this.signals,{frameChanged:new An.exports.Signal,playerChanged:new An.exports.Signal,countChanged:new An.exports.Signal,parametersChanged:new An.exports.Signal}),r.signals.frameChanged.add(function(o){s.signals.frameChanged.dispatch(o)}),r.signals.playerChanged.add(function(o){s.signals.playerChanged.dispatch(o)}),r.signals.countChanged.add(function(o){s.signals.countChanged.dispatch(o)}),a.initialFrame!==void 0&&this.setFrame(a.initialFrame)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0},type:{configurable:!0}};return n.defaultParameters.get=function(){return Ele},n.type.get=function(){return"trajectory"},t.prototype.setFrame=function(i){this.trajectory.setFrame(i)},t.prototype.setParameters=function(i){i===void 0&&(i={}),this.trajectory.setParameters(i),this.signals.parametersChanged.dispatch(i)},t.prototype.dispose=function(){this.trajectory.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}(id),z7=function(e,t){this.name=e,this.path=t,this.coordinates=[],this.boxes=[],this.times=[],this.timeOffset=0,this.deltaTime=1},RN={type:{configurable:!0}};RN.type.get=function(){return"Frames"},Object.defineProperties(z7.prototype,RN);var Hf=function(e,t){var n,i;if(this.A=new Yn(3,3),this.W=new Yn(1,3),this.U=new Yn(3,3),this.V=new Yn(3,3),this.VH=new Yn(3,3),this.R=new Yn(3,3),this.tmp=new Yn(3,3),this.c=new Yn(3,3),e instanceof qt)n=e.atomCount;else{if(!(e instanceof Float32Array))return;n=e.length/3}if(t instanceof qt)i=t.atomCount;else{if(!(t instanceof Float32Array))return;i=t.length/3}var r=Math.min(n,i),a=new Yn(3,r),s=new Yn(3,r);this.coords1t=new Yn(r,3),this.coords2t=new Yn(r,3),this.transformationMatrix=new st,this.c.data.set([1,0,0,0,1,0,0,0,-1]),this.prepCoords(e,a,r,!1),this.prepCoords(t,s,r,!1),this._superpose(a,s)};Hf.prototype._superpose=function(e,t){var n,i,r,a,s,o,c,A,l,u,d,p,h,g,b,y,v,_,w,E,B,R;this.mean1=Y_(e),this.mean2=Y_(t),q_(e,this.mean1),q_(t,this.mean2),go(this.coords1t,e),go(this.coords2t,t),yg(this.A,this.coords2t,this.coords1t),_I(this.A,this.W,this.U,this.V),n=this.V,i=this.VH,r=n.data,a=i.data,s=r[4],o=r[8],c=r[5],A=r[7],l=r[0],u=l*s,d=l*c,p=r[3],h=r[1],g=p*h,b=r[2],y=p*b,v=r[6],E=1/(u*o-d*A-g*o+y*A+(_=v*h)*c-(w=v*b)*s),a[0]=(s*o-c*A)*E,a[1]=-(h*o-b*A)*E,a[2]=-(-h*c+b*s)*E,a[3]=-(p*o-c*v)*E,a[4]=(l*o-w)*E,a[5]=-(d-y)*E,a[6]=-(-p*A+s*v)*E,a[7]=-(l*A-_)*E,a[8]=(u-g)*E,Zw(this.R,this.U,this.VH),B=this.R,(R=B.data)[0]*R[4]*R[8]-R[0]*R[5]*R[7]-R[3]*R[1]*R[8]+R[3]*R[2]*R[7]+R[6]*R[1]*R[5]-R[6]*R[2]*R[4]<0&&(je&&De.log("R not a right handed system"),Zw(this.tmp,this.c,this.VH),Zw(this.R,this.U,this.tmp));var G=new Yn(4,4),C=new Yn(4,4),O=new Yn(4,4),I=new Yn(4,4),D=new Yn(4,4),k=new Yn(4,4),L=this.R.data,T=this.mean1,H=this.mean2;I.data.set([1,0,0,-T[0],0,1,0,-T[1],0,0,1,-T[2],0,0,0,1]),D.data.set([L[0],L[1],L[2],0,L[3],L[4],L[5],0,L[6],L[7],L[8],0,0,0,0,1]),k.data.set([1,0,0,H[0],0,1,0,H[1],0,0,1,H[2],0,0,0,1]),go(C,I),yg(G,D,C),go(O,G),yg(C,k,O),go(G,C),this.transformationMatrix.elements=G.data},Hf.prototype.prepCoords=function(e,t,n,i){var r=0,a=t.data,s=3,o=3*n;if(i&&(o=4*n,s=4),e instanceof qt)e.eachAtom(function(c){r<o&&(a[r+0]=c.x,a[r+1]=c.y,a[r+2]=c.z,i&&(a[r+3]=1),r+=s)});else if(e instanceof Float32Array)for(;r<o;r+=s)r<o&&(a[r]=e[r],a[r+1]=e[r+1],a[r+2]=e[r+2],i&&(a[r+3]=1));else De.warn("prepCoords: input type unknown")},Hf.prototype.transform=function(e){var t;if(e instanceof qt)t=e.atomCount;else{if(!(e instanceof Float32Array))return;t=e.length/3}var n=new Yn(4,t),i=new Yn(t,4);this.prepCoords(e,n,t,!0);var r=this.transformationMatrix,a=r.determinant();if(!a)return a;var s=new Yn(4,4);s.data=r.elements,function(p,h,g){for(var b=0,y=0,v=0,_=0,w=0,E=0,B=0,R=0,G=h.cols,C=h.rows,O=g.cols,I=h.data,D=g.data,k=p.data,L=0;b<C;_+=G,b++)for(B=0,y=0;y<O;R++,B++,y++){for(E=B,w=_,L=0,v=0;v<G;w++,E+=O,v++)L+=I[w]*D[E];k[R]=L}}(i,n,s);var o=0,c=i.data;if(e instanceof qt){e.eachAtom(function(p){p.x=c[o],p.y=c[o+1],p.z=c[o+2],o+=4});var A=new st;A.getInverse(r);var l=e.biomolDict;for(var u in l)l.hasOwnProperty(u)&&l[u].partList.forEach(function(p){p.matrixList.forEach(function(h){h.premultiply(r),h.multiply(A)})})}else if(e instanceof Float32Array)for(var d=4*t;o<d;o+=4)e[o]=c[o],e[o+1]=c[o+1],e[o+2]=c[o+2];else De.warn("transform: input type unknown");return this.transformationMatrix};var xle={step:1,timeout:50,start:0,end:0,interpolateType:"",interpolateStep:5,mode:"loop",direction:"forward"},Oo=function(e,t){var n=this;t===void 0&&(t={}),this.signals={startedRunning:new An.exports.Signal,haltedRunning:new An.exports.Signal},this._run=!1,this._previousTime=0,this._currentTime=0,this._currentStep=1,e.signals.playerChanged.add(function(r){r!==n&&n.pause()},this);var i=z(e.frameCount,1);this.traj=e,this.parameters=As(t,xle),this.parameters.end=Math.min(z(t.end,i-1),i-1),this.parameters.step=z(t.step,Math.ceil((i+1)/100)),this._currentFrame=this.parameters.start,this._direction=this.parameters.direction==="bounce"?"forward":this.parameters.direction,e.signals.countChanged.add(function(r){n.parameters.end=Math.min(z(n.parameters.end,r-1),r-1)},this),this._animate=this._animate.bind(this)},CN={isRunning:{configurable:!0}};CN.isRunning.get=function(){return this._run},Oo.prototype.setParameters=function(e){e===void 0&&(e={}),VF(this.parameters,e),e.direction!==void 0&&this.parameters.direction!=="bounce"&&(this._direction=this.parameters.direction)},Oo.prototype._animate=function(){if(this._run){this._currentTime=window.performance.now();var e=this._currentTime-this._previousTime,t=this.parameters.interpolateType?this.parameters.interpolateStep:1,n=this.parameters.timeout/t,i=this.traj;if(i&&i.frameCount&&!i.inProgress&&e>=n)if(this.parameters.interpolateType)if(this._currentStep>this.parameters.interpolateStep&&(this._currentStep=1),this._currentStep===1&&(this._currentFrame=this._nextInterpolated()),i.hasFrame(this._currentFrame)){this._currentStep+=1;var r=this._currentStep/(this.parameters.interpolateStep+1),a=this._currentFrame,s=a[0],o=a[1],c=a[2],A=a[3];i.setFrameInterpolated(s,o,c,A,r,this.parameters.interpolateType),this._previousTime=this._currentTime}else i.loadFrame(this._currentFrame);else{var l=this._next();i.hasFrame(l)?(i.setFrame(l),this._previousTime=this._currentTime):i.loadFrame(l)}window.requestAnimationFrame(this._animate)}},Oo.prototype._next=function(){var e,t=this.parameters;return((e=this._direction==="forward"?this.traj.currentFrame+t.step:this.traj.currentFrame-t.step)>t.end||e<t.start)&&(t.direction==="bounce"&&(this._direction==="forward"?this._direction="backward":this._direction="forward"),t.mode==="once"?(this.pause(),e=t.direction==="forward"?t.end:t.direction==="backward"||this._direction==="forward"?t.start:t.end):this._direction==="forward"?(e=t.start,t.interpolateType&&(e=Math.min(t.end,e+t.step))):(e=t.end,t.interpolateType&&(e=Math.max(t.start,e-t.step)))),e},Oo.prototype._nextInterpolated=function(){var e,t,n,i=this.parameters,r=this._next();return this._direction==="forward"?(e=Math.max(i.start,r-i.step),t=Math.max(i.start,r-2*i.step),n=Math.max(i.start,r-3*i.step)):(e=Math.min(i.end,r+i.step),t=Math.min(i.end,r+2*i.step),n=Math.min(i.end,r+3*i.step)),[r,e,t,n]},Oo.prototype.toggle=function(){this._run?this.pause():this.play()},Oo.prototype.play=function(){if(!this._run){this.traj.player!==this&&this.traj.setPlayer(this),this._currentStep=1;var e=this.parameters,t=this.traj.currentFrame,n=Math.ceil(t/e.step)*e.step;e.direction==="forward"&&t>=e.end?n=e.start:e.direction==="backward"&&t<=e.start&&(n=e.end),this.traj.setFrame(n),this._run=!0,this._animate(),this.signals.startedRunning.dispatch()}},Oo.prototype.pause=function(){this._run=!1,this.signals.haltedRunning.dispatch()},Oo.prototype.stop=function(){this.pause(),this.traj.setFrame(this.parameters.start)},Object.defineProperties(Oo.prototype,CN);var Ai=function(e,t,n){var i=this;n===void 0&&(n={}),this.signals={countChanged:new An.exports.Signal,frameChanged:new An.exports.Signal,playerChanged:new An.exports.Signal},this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this._frameCount=0,this._currentFrame=-1,this._disposed=!1,this.deltaTime=z(n.deltaTime,0),this.timeOffset=z(n.timeOffset,0),this.centerPbc=z(n.centerPbc,!1),this.removePbc=z(n.removePbc,!1),this.removePeriodicity=z(n.removePeriodicity,!1),this.superpose=z(n.superpose,!1),this.name=e.replace(/^.*[\\/]/,""),this.trajPath=e,this.selection=new si(z(n.sele,"backbone and not hydrogen")),this.selection.signals.stringChanged.add(function(){i.selectionIndices=i.structure.getAtomIndices(i.selection),i._resetCache(),i._saveInitialCoords(),i.setFrame(i._currentFrame)})},oE={frameCount:{configurable:!0},currentFrame:{configurable:!0}};oE.frameCount.get=function(){return this._frameCount},oE.currentFrame.get=function(){return this._currentFrame},Ai.prototype._init=function(e){this.setStructure(e),this._loadFrameCount(),this.setPlayer(new Oo(this))},Ai.prototype._loadFrameCount=function(){},Ai.prototype.setStructure=function(e){this.structure=e,this.atomCount=e.atomCount,this.backboneIndices=this._getIndices(new si("backbone and not hydrogen")),this._makeAtomIndices(),this._saveStructureCoords(),this.selectionIndices=this._getIndices(this.selection),this._resetCache(),this._saveInitialCoords(),this.setFrame(this._currentFrame)},Ai.prototype._saveInitialCoords=function(){var e=this;this.structure.hasCoords()?(this.initialCoords=new Float32Array(this.structureCoords),this._makeSuperposeCoords()):this.frameCache[0]?(this.initialCoords=new Float32Array(this.frameCache[0]),this._makeSuperposeCoords()):this.loadFrame(0,function(){return e._saveInitialCoords()})},Ai.prototype._saveStructureCoords=function(){this.structureCoords=this.structure.getAtomData({what:{position:!0}}).position},Ai.prototype.setSelection=function(e){return this.selection.setString(e),this},Ai.prototype._getIndices=function(e){var t=0,n=e.test,i=[];return n&&this.structure.eachAtom(function(r){n(r)&&i.push(t),t+=1}),i},Ai.prototype._makeSuperposeCoords=function(){var e=3*this.selectionIndices.length;this.coords1=new Float32Array(e),this.coords2=new Float32Array(e);for(var t=this.initialCoords,n=this.coords2,i=0;i<e;i+=3){var r=3*this.selectionIndices[i/3];n[i+0]=t[r+0],n[i+1]=t[r+1],n[i+2]=t[r+2]}},Ai.prototype._makeAtomIndices=function(){De.error("Trajectory._makeAtomIndices not implemented")},Ai.prototype._resetCache=function(){this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this.initialCoords=new Float32Array(0)},Ai.prototype.setParameters=function(e){e===void 0&&(e={});var t=!1;e.centerPbc!==void 0&&e.centerPbc!==this.centerPbc&&(this.centerPbc=e.centerPbc,t=!0),e.removePeriodicity!==void 0&&e.removePeriodicity!==this.removePeriodicity&&(this.removePeriodicity=e.removePeriodicity,t=!0),e.removePbc!==void 0&&e.removePbc!==this.removePbc&&(this.removePbc=e.removePbc,t=!0),e.superpose!==void 0&&e.superpose!==this.superpose&&(this.superpose=e.superpose,t=!0),this.deltaTime=z(e.deltaTime,this.deltaTime),this.timeOffset=z(e.timeOffset,this.timeOffset),t&&(this._resetCache(),this.setFrame(this._currentFrame))},Ai.prototype.hasFrame=function(e){var t=this;return Array.isArray(e)?e.every(function(n){return!!t.frameCache[n]}):!!this.frameCache[e]},Ai.prototype.setFrame=function(e,t){var n=this;return e===void 0||(this.inProgress=!0,e===-1||this.frameCache[e]?(this._updateStructure(e),t&&t()):this.loadFrame(e,function(){n._updateStructure(e),t&&t()})),this},Ai.prototype._interpolate=function(e,t,n,i,r,a){var s,o=this.frameCache;s=a==="spline"?function(c,A,l,u,d){for(var p=c.length,h=new Float32Array(p),g=0;g<p;g+=3){var b=g+1,y=g+2;h[g]=Vc(u[g],l[g],A[g],c[g],d,1),h[b]=Vc(u[b],l[b],A[b],c[b],d,1),h[y]=Vc(u[y],l[y],A[y],c[y],d,1)}return h}(o[e],o[t],o[n],o[i],r):function(c,A,l){for(var u=c.length,d=new Float32Array(u),p=0;p<u;p+=3){var h=p+1,g=p+2;d[p]=Gs(A[p],c[p],l),d[h]=Gs(A[h],c[h],l),d[g]=Gs(A[g],c[g],l)}return d}(o[e],o[t],r),this.structure.updatePosition(s),this._currentFrame=e,this.signals.frameChanged.dispatch(e)},Ai.prototype.setFrameInterpolated=function(e,t,n,i,r,a,s){var o=this;if(e===void 0)return this;var c=this.frameCache,A=[];return c[i]||A.push(i),c[n]||A.push(n),c[t]||A.push(t),c[e]||A.push(e),A.length?this.loadFrame(A,function(){o._interpolate(e,t,n,i,r,a),s&&s()}):(this._interpolate(e,t,n,i,r,a),s&&s()),this},Ai.prototype.loadFrame=function(e,t){var n=this;Array.isArray(e)?e.forEach(function(i){n.loadQueue[i]||n.frameCache[i]||(n.loadQueue[i]=!0,n._loadFrame(i,function(){delete n.loadQueue[i]}))}):this.loadQueue[e]||this.frameCache[e]||(this.loadQueue[e]=!0,this._loadFrame(e,function(){delete n.loadQueue[e],t&&t()}))},Ai.prototype._loadFrame=function(e,t){De.error("Trajectory._loadFrame not implemented",e,t)},Ai.prototype._updateStructure=function(e){this._disposed?console.error("updateStructure: traj disposed"):(e===-1?this.structureCoords&&this.structure.updatePosition(this.structureCoords):this.structure.updatePosition(this.frameCache[e]),this.structure.trajectory={name:this.trajPath,frame:e},this._currentFrame=e,this.inProgress=!1,this.signals.frameChanged.dispatch(e))},Ai.prototype._doSuperpose=function(e){for(var t=3*this.selectionIndices.length,n=this.coords1,i=this.coords2,r=0;r<t;r+=3){var a=3*this.selectionIndices[r/3];n[r+0]=e[a+0],n[r+1]=e[a+1],n[r+2]=e[a+2]}new Hf(n,i).transform(e)},Ai.prototype._process=function(e,t,n,i){if(this._setFrameCount(i),t){if(this.backboneIndices.length>0&&this.centerPbc){var r=[t[0],t[4],t[8]],a=function(o,c,A){return[Dw(c,A[0],3,0,o),Dw(c,A[1],3,1,o),Dw(c,A[2],3,2,o)]}(this.backboneIndices,n,r);(function(o,c,A){if(A[0]!==0&&A[8]!==0&&A[4]!==0)for(var l=o.length,u=A[0],d=A[1],p=A[2],h=-c[0]+u+u/2,g=-c[1]+d+d/2,b=-c[2]+p+p/2,y=0;y<l;y+=3)o[y+0]=(o[y+0]+h)%u,o[y+1]=(o[y+1]+g)%d,o[y+2]=(o[y+2]+b)%p})(n,a,r)}if(this.removePeriodicity){var s=function(o){return[pg(o,3,0),pg(o,3,1),pg(o,3,2)]}(n);(function(o,c,A){if(c[0]!==0&&c[8]!==0&&c[4]!==0)for(var l=o.length,u=3;u<l;u+=3)for(var d=0;d<3;++d){var p=(o[u+d]-A[d])/c[3*d+d];Math.abs(p)>.5&&(o[u+d]-=c[3*d+d]*Math.round(p))}})(n,t,s)}this.removePbc&&function(o,c){if(c[0]!==0&&c[8]!==0&&c[4]!==0)for(var A=o.length,l=3;l<A;l+=3)for(var u=0;u<3;++u){var d=o[l+u]-o[l-3+u];if(Math.abs(d)>.9*c[3*u+u])if(d>0)for(var p=0;p<3;++p)o[l+p]-=c[3*u+p];else for(var h=0;h<3;++h)o[l+h]+=c[3*u+h]}}(n,t)}this.selectionIndices.length>0&&this.coords1&&this.superpose&&this._doSuperpose(n),this.frameCache[e]=n,this.boxCache[e]=t,this.frameCacheSize+=1},Ai.prototype._setFrameCount=function(e){e!==this._frameCount&&(this._frameCount=e,this.signals.countChanged.dispatch(e))},Ai.prototype.dispose=function(){this._resetCache(),this._disposed=!0,this.player&&this.player.stop()},Ai.prototype.setPlayer=function(e){this.player=e,this.signals.playerChanged.dispatch(e)},Ai.prototype.getFrameTime=function(e){return this.timeOffset+e*this.deltaTime},Object.defineProperties(Ai.prototype,oE);var Ble=function(e){function t(i,r,a){var s=a||{};s.timeOffset=z(s.timeOffset,i.timeOffset),s.deltaTime=z(s.deltaTime,i.deltaTime),e.call(this,"",r,s),this.name=i.name,this.path=i.path,this.frames=i.coordinates,this.boxes=i.boxes,this._init(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"frames"},t.prototype._makeAtomIndices=function(){this.structure.type==="StructureView"?this.atomIndices=this.structure.getAtomIndices():this.atomIndices=void 0},t.prototype._loadFrame=function(i,r){var a,s=this.frames[i];if(this.atomIndices){var o=this.atomIndices,c=o.length;a=new Float32Array(3*c);for(var A=0;A<c;++A){var l=3*A,u=3*o[A];a[l+0]=s[u+0],a[l+1]=s[u+1],a[l+2]=s[u+2]}}else a=new Float32Array(s);var d=this.boxes[i],p=this.frames.length;this._process(i,d,a,p),typeof r=="function"&&r()},t.prototype._loadFrameCount=function(){this.frames&&this._setFrameCount(this.frames.length)},Object.defineProperties(t.prototype,n),t}(Ai),Rle=function(e){function t(i,r,a){e.call(this,"",r,a),this._init(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"structure"},t.prototype._makeAtomIndices=function(){this.structure.atomSet&&this.structure.atomSet.getSize()<this.structure.atomStore.count?this.atomIndices=this.structure.getAtomIndices():this.atomIndices=void 0},t.prototype._loadFrame=function(i,r){var a,s=this.structure,o=s.frames[i];if(this.atomIndices){var c=this.atomIndices,A=c.length;a=new Float32Array(3*A);for(var l=0;l<A;++l){var u=3*l,d=3*c[l];a[u+0]=o[d+0],a[u+1]=o[d+1],a[u+2]=o[d+2]}}else a=new Float32Array(o);var p=s.boxes[i],h=s.frames.length;this._process(i,p,a,h),typeof r=="function"&&r()},t.prototype._loadFrameCount=function(){this._setFrameCount(this.structure.frames.length)},Object.defineProperties(t.prototype,n),t}(Ai),Cle=function(e){function t(i,r,a){e.call(this,i,r,a),this._init(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"remote"},t.prototype._makeAtomIndices=function(){var i=[];if(this.structure.type==="StructureView"){for(var r=this.structure.getAtomIndices(),a=r.length,s=r[0],o=r[0],c=1;c<a;++c){var A=r[c];o+1<A&&(i.push([s,o+1]),s=A),o=A}i.push([s,o+1])}else i.push([0,this.atomCount]);this.atomIndices=i},t.prototype._loadFrame=function(i,r){var a=this,s=new XMLHttpRequest,o=Iw.getFrameUrl(this.trajPath,i),c=Iw.getFrameParams(this.trajPath,this.atomIndices);s.open("POST",o,!0),s.responseType="arraybuffer",s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.addEventListener("load",function(){var A=s.response;if(A){var l=new Int32Array(A,0,1)[0],u=new Float32Array(A,8,9),d=new Float32Array(A,44);a._process(i,u,d,l),typeof r=="function"&&r()}else De.error("empty arrayBuffer for '"+o+"'")},!1),s.send(c)},t.prototype._loadFrameCount=function(){var i=this,r=new XMLHttpRequest,a=Iw.getCountUrl(this.trajPath);r.open("GET",a,!0),r.addEventListener("load",function(){i._setFrameCount(parseInt(r.response))},!1),r.send()},Object.defineProperties(t.prototype,n),t}(Ai),Nle=function(e){function t(i,r,a){e.call(this,"",r,a),this.requestCallback=i,this._init(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"callback"},t.prototype._makeAtomIndices=function(){var i=[];if(this.structure.type==="StructureView"){for(var r=this.structure.getAtomIndices(),a=r.length,s=r[0],o=r[0],c=1;c<a;++c){var A=r[c];o+1<A&&(i.push([s,o+1]),s=A),o=A}i.push([s,o+1])}else i.push([0,this.atomCount]);this.atomIndices=i},t.prototype._loadFrame=function(i,r){var a=this;this.requestCallback(function(s,o,c,A){a._process(s,o,c,A),typeof r=="function"&&r()},i,this.atomIndices)},t.prototype._loadFrameCount=function(){var i=this;this.requestCallback(function(r){return i._setFrameCount(r)})},Object.defineProperties(t.prototype,n),t}(Ai);qt.prototype.getView=function(e){return new DI(this,e)};var DI=function(e){function t(i,r){e.call(this),this.structure=i,this.selection=r,this.center=new P,this.boundingBox=new gi,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy(),this.selection&&this.selection.signals.stringChanged.add(this.refresh,this),this.structure.signals.refreshed.add(this.refresh,this),this.refresh()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},name:{configurable:!0},path:{configurable:!0},title:{configurable:!0},id:{configurable:!0},data:{configurable:!0},atomSetDict:{configurable:!0},biomolDict:{configurable:!0},entityList:{configurable:!0},unitcell:{configurable:!0},frames:{configurable:!0},boxes:{configurable:!0},validation:{configurable:!0},bondStore:{configurable:!0},backboneBondStore:{configurable:!0},rungBondStore:{configurable:!0},atomStore:{configurable:!0},residueStore:{configurable:!0},chainStore:{configurable:!0},modelStore:{configurable:!0},atomMap:{configurable:!0},residueMap:{configurable:!0},bondHash:{configurable:!0},spatialHash:{configurable:!0},_hasCoords:{configurable:!0}};return t.prototype.init=function(){},n.type.get=function(){return"StructureView"},n.name.get=function(){return this.structure.name},n.path.get=function(){return this.structure.path},n.title.get=function(){return this.structure.title},n.id.get=function(){return this.structure.id},n.data.get=function(){return this.structure.data},n.atomSetDict.get=function(){return this.structure.atomSetDict},n.biomolDict.get=function(){return this.structure.biomolDict},n.entityList.get=function(){return this.structure.entityList},n.unitcell.get=function(){return this.structure.unitcell},n.frames.get=function(){return this.structure.frames},n.boxes.get=function(){return this.structure.boxes},n.validation.get=function(){return this.structure.validation},n.bondStore.get=function(){return this.structure.bondStore},n.backboneBondStore.get=function(){return this.structure.backboneBondStore},n.rungBondStore.get=function(){return this.structure.rungBondStore},n.atomStore.get=function(){return this.structure.atomStore},n.residueStore.get=function(){return this.structure.residueStore},n.chainStore.get=function(){return this.structure.chainStore},n.modelStore.get=function(){return this.structure.modelStore},n.atomMap.get=function(){return this.structure.atomMap},n.residueMap.get=function(){return this.structure.residueMap},n.bondHash.get=function(){return this.structure.bondHash},n.spatialHash.get=function(){return this.structure.spatialHash},n._hasCoords.get=function(){return this.structure._hasCoords},n._hasCoords.set=function(i){this.structure._hasCoords=i},t.prototype.refresh=function(){je&&De.time("StructureView.refresh"),this.atomSetCache={};var i=this.structure;if(this.selection.isAllSelection()&&i!==this&&i.atomSet&&i.bondSet){for(var r in this.atomSet=i.atomSet.clone(),this.bondSet=i.bondSet.clone(),this.atomSetDict){var a=this.atomSetDict[r];this.atomSetCache["__"+r]=a.clone()}this.atomCount=i.atomCount,this.bondCount=i.bondCount,this.boundingBox.copy(i.boundingBox),this.center.copy(i.center)}else if(this.selection.isNoneSelection()&&i!==this&&i.atomSet&&i.bondSet){for(var s in this.atomSet=new cn(i.atomCount),this.bondSet=new cn(i.bondCount),this.atomSetDict)this.atomSetCache["__"+s]=new cn(i.atomCount);this.atomCount=0,this.bondCount=0,this.boundingBox.makeEmpty(),this.center.set(0,0,0)}else{for(var o in this.atomSet=this.getAtomSet(this.selection,!0),i.atomSet&&(this.atomSet=this.atomSet.intersection(i.atomSet)),this.bondSet=this.getBondSet(),this.atomSetDict){var c=this.atomSetDict[o];this.atomSetCache["__"+o]=c.makeIntersection(this.atomSet)}this.atomCount=this.atomSet.getSize(),this.bondCount=this.bondSet.getSize(),this.boundingBox=this.getBoundingBox(),this.center=this.boundingBox.getCenter(new P)}je&&De.timeEnd("StructureView.refresh"),this.signals.refreshed.dispatch()},t.prototype.setSelection=function(i){this.selection=i,this.refresh()},t.prototype.getSelection=function(i){var r=[];i&&i.string&&r.push(i.string);var a=this.structure.getSelection();a&&a.string&&r.push(a.string),this.selection&&this.selection.string&&r.push(this.selection.string);var s="";return r.length>0&&(s="( "+r.join(" ) AND ( ")+" )"),new si(s)},t.prototype.getStructure=function(){return this.structure.getStructure()},t.prototype.eachBond=function(i,r){this.structure.eachBond(i,this.getSelection(r))},t.prototype.eachAtom=function(i,r){var a=this.getAtomProxy(),s=this.getAtomSet(r),o=this.atomStore.count;if(s.getSize()<o)s.forEach(function(A){a.index=A,i(a)});else for(var c=0;c<o;++c)a.index=c,i(a)},t.prototype.eachResidue=function(i,r){this.structure.eachResidue(i,this.getSelection(r))},t.prototype.eachResidueN=function(i,r){console.error("StructureView.eachResidueN() not implemented")},t.prototype.eachChain=function(i,r){this.structure.eachChain(i,this.getSelection(r))},t.prototype.eachModel=function(i,r){this.structure.eachModel(i,this.getSelection(r))},t.prototype.getAtomSet=function(i,r){r===void 0&&(r=!1);var a=this.structure.getAtomSet(i);return!r&&this.atomSet&&(a=a.makeIntersection(this.atomSet)),a},t.prototype.getAtomIndices=function(i){return this.structure.getAtomIndices(this.getSelection(i))},t.prototype.refreshPosition=function(){return this.structure.refreshPosition()},t.prototype.dispose=function(){this.selection&&this.selection.signals.stringChanged.remove(this.refresh,this),this.structure.signals.refreshed.remove(this.refresh,this),this.structure=new e,delete this.atomSet,delete this.bondSet},Object.defineProperties(t.prototype,n),t}(qt),Sle=[[4,0,-2,-1,-2,0,-2,-1,-1,-1,-1,-2,-1,-1,-1,1,0,0,-3,-2],[0,9,-3,-4,-2,-3,-3,-1,-3,-1,-1,-3,-3,-3,-3,-1,-1,-1,-2,-2],[-2,-3,6,2,-3,-1,-1,-3,-1,-4,-3,1,-1,0,-2,0,-1,-3,-4,-3],[-1,-4,2,5,-3,-2,0,-3,1,-3,-2,0,-1,2,0,0,-1,-2,-3,-2],[-2,-2,-3,-3,6,-3,-1,0,-3,0,0,-3,-4,-3,-3,-2,-2,-1,1,3],[0,-3,-1,-2,-3,6,-2,-4,-2,-4,-3,0,-2,-2,-2,0,-2,-3,-2,-3],[-2,-3,-1,0,-1,-2,8,-3,-1,-3,-2,1,-2,0,0,-1,-2,-3,-2,2],[-1,-1,-3,-3,0,-4,-3,4,-3,2,1,-3,-3,-3,-3,-2,-1,3,-3,-1],[-1,-3,-1,1,-3,-2,-1,-3,5,-2,-1,0,-1,1,2,0,-1,-2,-3,-2],[-1,-1,-4,-3,0,-4,-3,2,-2,4,2,-3,-3,-2,-2,-2,-1,1,-2,-1],[-1,-1,-3,-2,0,-3,-2,1,-1,2,5,-2,-2,0,-1,-1,-1,1,-1,-1],[-2,-3,1,0,-3,0,1,-3,0,-3,-2,6,-2,0,0,1,0,-3,-4,-2],[-1,-3,-1,-1,-4,-2,-2,-3,-1,-3,-2,-2,7,-1,-2,-1,-1,-2,-4,-3],[-1,-3,0,2,-3,-2,0,-3,1,-2,0,0,-1,5,1,0,-1,-2,-2,-1],[-1,-3,-2,0,-3,-2,0,-3,2,-2,-1,0,-2,1,5,-1,-1,-3,-3,-2],[1,-1,0,0,-2,0,-1,-2,0,-2,-1,1,-1,0,-1,4,1,-2,-3,-2],[0,-1,-1,-1,-2,-2,-2,-1,-1,-1,-1,0,-1,-1,-1,1,5,0,-2,-2],[0,-1,-3,-2,-1,-3,-3,3,-2,1,1,-3,-2,-2,-3,-2,0,4,-3,-1],[-3,-2,-4,-3,1,-2,-2,-3,-3,-2,-1,-4,-4,-2,-3,-3,-2,-3,11,2],[-2,-2,-3,-2,3,-3,2,-1,-2,-1,-1,-2,-3,-1,-2,-2,-2,-1,2,7]];function NN(e,t){var n,i=0,r={};return t.forEach(function(a){n=0;var s={};a.forEach(function(o){s[e[n++]]=o}),r[e[i++]]=s}),r}var Gle={blosum62:NN("ARNDCQEGHILKMFPSTWYVBZ?",[[4,-1,-2,-2,0,-1,-1,0,-2,-1,-1,-1,-1,-2,-1,1,0,-3,-2,0,-2,-1,0],[-1,5,0,-2,-3,1,0,-2,0,-3,-2,2,-1,-3,-2,-1,-1,-3,-2,-3,-1,0,-1],[-2,0,6,1,-3,0,0,0,1,-3,-3,0,-2,-3,-2,1,0,-4,-2,-3,3,0,-1],[-2,-2,1,6,-3,0,2,-1,-1,-3,-4,-1,-3,-3,-1,0,-1,-4,-3,-3,4,1,-1],[0,-3,-3,-3,9,-3,-4,-3,-3,-1,-1,-3,-1,-2,-3,-1,-1,-2,-2,-1,-3,-3,-2],[-1,1,0,0,-3,5,2,-2,0,-3,-2,1,0,-3,-1,0,-1,-2,-1,-2,0,3,-1],[-1,0,0,2,-4,2,5,-2,0,-3,-3,1,-2,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-2,0,-1,-3,-2,-2,6,-2,-4,-4,-2,-3,-3,-2,0,-2,-2,-3,-3,-1,-2,-1],[-2,0,1,-1,-3,0,0,-2,8,-3,-3,-1,-2,-1,-2,-1,-2,-2,2,-3,0,0,-1],[-1,-3,-3,-3,-1,-3,-3,-4,-3,4,2,-3,1,0,-3,-2,-1,-3,-1,3,-3,-3,-1],[-1,-2,-3,-4,-1,-2,-3,-4,-3,2,4,-2,2,0,-3,-2,-1,-2,-1,1,-4,-3,-1],[-1,2,0,-1,-3,1,1,-2,-1,-3,-2,5,-1,-3,-1,0,-1,-3,-2,-2,0,1,-1],[-1,-1,-2,-3,-1,0,-2,-3,-2,1,2,-1,5,0,-2,-1,-1,-1,-1,1,-3,-1,-1],[-2,-3,-3,-3,-2,-3,-3,-3,-1,0,0,-3,0,6,-4,-2,-2,1,3,-1,-3,-3,-1],[-1,-2,-2,-1,-3,-1,-1,-2,-2,-3,-3,-1,-2,-4,7,-1,-1,-4,-3,-2,-2,-1,-2],[1,-1,1,0,-1,0,0,0,-1,-2,-2,0,-1,-2,-1,4,1,-3,-2,-2,0,0,0],[0,-1,0,-1,-1,-1,-1,-2,-2,-1,-1,-1,-1,-2,-1,1,5,-2,-2,0,-1,-1,0],[-3,-3,-4,-4,-2,-2,-3,-2,-2,-3,-2,-3,-1,1,-4,-3,-2,11,2,-3,-4,-3,-2],[-2,-2,-2,-3,-2,-1,-2,-3,2,-1,-1,-2,-1,3,-3,-2,-2,2,7,-1,-3,-2,-1],[0,-3,-3,-3,-1,-2,-2,-3,-3,3,1,-2,1,-1,-2,-2,0,-3,-1,4,-3,-2,-1],[-2,-1,3,4,-3,0,1,-1,0,-3,-4,0,-3,-3,-2,0,-1,-4,-3,-3,4,1,-1],[-1,0,0,1,-3,3,4,-2,0,-3,-3,1,-1,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-1,-1,-1,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-2,0,0,-2,-1,-1,-1,-1,-1]]),blosum62x:NN("ACDEFGHIKLMNPQRSTVWY",Sle)},Wu=function(e,t,n,i,r){n===void 0&&(n=-10),i===void 0&&(i=-1),r===void 0&&(r="blosum62"),this.seq1=e,this.seq2=t,this.gapPenalty=n,this.gapExtensionPenalty=i,r&&(this.substMatrix=Gle[r])};function Mle(e,t,n,i,r){var a,s,o,c,A;if(n===void 0&&(n=!1),i===void 0&&(i=""),r===void 0&&(r=""),n){var l=e,u=t;i&&r&&(l=e.getView(new si(i)),u=t.getView(new si(r)));var d,p,h=l.getSequence(),g=u.getSequence(),b=new Wu(h.join(""),g.join(""));b.calc(),b.trace(),a=0,s=0,o=b.ali1.length;for(var y=[],v=[],_=0;_<o;++_){var w=b.ali1[_],E=b.ali2[_];d=0,p=0,w==="-"?v[s]=!1:(v[s]=!0,d=1),E==="-"?y[a]=!1:(y[a]=!0,p=1),a+=d,s+=p}var B=[],R=[],G=l.getAtomProxy(),C=u.getAtomProxy();a=0,l.eachResidue(function(I){I.traceAtomIndex!==void 0&&I.traceAtomIndex===I.getAtomIndexByName("CA")&&(y[a]&&(G.index=I.getAtomIndexByName("CA"),B.push(G.x,G.y,G.z)),a+=1)}),a=0,u.eachResidue(function(I){I.traceAtomIndex!==void 0&&I.traceAtomIndex===I.getAtomIndexByName("CA")&&(v[a]&&(C.index=I.getAtomIndexByName("CA"),R.push(C.x,C.y,C.z)),a+=1)}),c=new Float32Array(B),A=new Float32Array(R)}else c=e.getView(new si(i+" and .CA")),A=t.getView(new si(r+" and .CA"));var O=new Hf(c,A).transform(e);return e.refreshPosition(),O}Wu.prototype.initMatrices=function(){this.n=this.seq1.length,this.m=this.seq2.length,this.score=void 0,this.ali="",this.S=[],this.V=[],this.H=[];for(var e=0;e<=this.n;++e){this.S[e]=[],this.V[e]=[],this.H[e]=[];for(var t=0;t<=this.m;++t)this.S[e][t]=0,this.V[e][t]=0,this.H[e][t]=0}for(var n=0;n<=this.n;++n)this.S[n][0]=this.gap(0),this.H[n][0]=-1/0;for(var i=0;i<=this.m;++i)this.S[0][i]=this.gap(0),this.V[0][i]=-1/0;this.S[0][0]=0},Wu.prototype.gap=function(e){return this.gapPenalty+e*this.gapExtensionPenalty},Wu.prototype.makeScoreFn=function(){var e=this.seq1,t=this.seq2,n=this.substMatrix;return n?function(i,r){var a=e[i],s=t[r];try{return n[a][s]}catch{return-4}}:(De.warn("Alignment: no subst matrix"),function(i,r){return e[i]===t[r]?5:-3})},Wu.prototype.calc=function(){je&&De.time("Alignment.calc"),this.initMatrices();for(var e,t,n,i,r,a=this.gap(0),s=this.makeScoreFn(),o=this.gapExtensionPenalty,c=this.V,A=this.H,l=this.S,u=this.n,d=this.m,p=1;p<=u;++p){t=l[p-1],e=c[p-1],n=c[p],i=A[p],r=l[p];for(var h=1;h<=d;++h)n[h]=Math.max(t[h]+a,e[h]+o),i[h]=Math.max(r[h-1]+a,i[h-1]+o),r[h]=Math.max(t[h-1]+s(p-1,h-1),n[h],i[h])}je&&De.timeEnd("Alignment.calc"),je&&De.log(this.S,this.V,this.H)},Wu.prototype.trace=function(){je&&De.time("Alignment.trace"),this.ali1="",this.ali2="";var e,t=this.makeScoreFn(),n=this.n,i=this.m;for(this.S[n][i]>=this.V[n][i]?(e="S",this.score=this.S[n][i]):this.V[n][i]>=this.H[n][i]?(e="V",this.score=this.V[n][i]):(e="H",this.score=this.H[n][i]),je&&De.log("Alignment: SCORE",this.score),je&&De.log("Alignment: S, V, H",this.S[n][i],this.V[n][i],this.H[n][i]);n>0&&i>0;)e==="S"?this.S[n][i]===this.S[n-1][i-1]+t(n-1,i-1)?(this.ali1=this.seq1[n-1]+this.ali1,this.ali2=this.seq2[i-1]+this.ali2,--n,--i,e="S"):this.S[n][i]===this.V[n][i]?e="V":this.S[n][i]===this.H[n][i]?e="H":(--n,--i):e==="V"?this.V[n][i]===this.V[n-1][i]+this.gapExtensionPenalty?(this.ali1=this.seq1[n-1]+this.ali1,this.ali2="-"+this.ali2,--n,e="V"):this.V[n][i]===this.S[n-1][i]+this.gap(0)?(this.ali1=this.seq1[n-1]+this.ali1,this.ali2="-"+this.ali2,--n,e="S"):--n:e==="H"?this.H[n][i]===this.H[n][i-1]+this.gapExtensionPenalty?(this.ali1="-"+this.ali1,this.ali2=this.seq2[i-1]+this.ali2,--i,e="H"):this.H[n][i]===this.S[n][i-1]+this.gap(0)?(this.ali1="-"+this.ali1,this.ali2=this.seq2[i-1]+this.ali2,--i,e="S"):--i:De.error("Alignment: no matrix");for(;n>0;)this.ali1=this.seq1[n-1]+this.ali1,this.ali2="-"+this.ali2,--n;for(;i>0;)this.ali1="-"+this.ali1,this.ali2=this.seq2[i-1]+this.ali2,--i;je&&De.timeEnd("Alignment.trace"),je&&De.log([this.ali1,this.ali2])};var Tle=Object.assign({sele:"",defaultAssembly:""},PI),sx=function(e){function t(i,r,a){var s,o,c,A,l,u=this;a===void 0&&(a={}),e.call(this,i,r,Object.assign({name:r.name},a)),this.structure=r,this.trajList=[],this.signals=Object.assign(this.signals,{trajectoryAdded:new An.exports.Signal,trajectoryRemoved:new An.exports.Signal,defaultAssemblyChanged:new An.exports.Signal}),this.initSelection(this.parameters.sele),this.pickBuffer=(s=4,o=0,c=0,A=[],{has:function(d){return A.indexOf(d)!==-1},get:function(d){return A[d]},push:function(d){A[o]=d,o=(s+o+1)%s,++c},get count(){return c},get data(){return A.slice(0,Math.min(c,s))},clear:function(){c=0,o=0,A.length=0}}),this.pickDict=(l={},{has:function(d){return l[JSON.stringify(d)]!==void 0},add:function(d,p){l[JSON.stringify(d)]=p},del:function(d){delete l[JSON.stringify(d)]},get values(){return Object.keys(l).map(function(d){return l[d]})}}),this.spacefillRepresentation=this.addRepresentation("spacefill",{sele:"none",opacity:Hp.opacity,color:Hp.color,disablePicking:!0,radiusType:"data"},!0),this.distanceRepresentation=this.addRepresentation("distance",Hp,!0),this.angleRepresentation=this.addRepresentation("angle",Hp,!0),this.dihedralRepresentation=this.addRepresentation("dihedral",Hp,!0),this.measureRepresentations=new UI([this.spacefillRepresentation,this.distanceRepresentation,this.angleRepresentation,this.dihedralRepresentation]),this.setDefaultAssembly(this.parameters.defaultAssembly),this.structure.signals.refreshed.add(function(){u.updateRepresentations({position:!0})})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0},type:{configurable:!0}};return n.defaultParameters.get=function(){return Tle},n.type.get=function(){return"structure"},t.prototype.initSelection=function(i){var r=this;this.selection=new si(i),this.structureView=new DI(this.structure,this.selection),this.selection.signals.stringChanged.add(function(){r.structureView.setSelection(r.selection),r.rebuildRepresentations(),r.rebuildTrajectories()})},t.prototype.setSelection=function(i){return this.parameters.sele=i,this.selection.setString(i),this},t.prototype.setDefaultAssembly=function(i){if(this.structure.biomolDict[i]===void 0&&(i=""),this.parameters.defaultAssembly!==i){var r={defaultAssembly:i};this.reprList.forEach(function(a){return a.setParameters(r)}),this.measureRepresentations.setParameters(r),this.parameters.defaultAssembly=i,this.signals.defaultAssemblyChanged.dispatch(i)}return this},t.prototype.rebuildRepresentations=function(){this.reprList.forEach(function(i){i.build()}),this.measureRepresentations.build()},t.prototype.rebuildTrajectories=function(){var i=this;this.trajList.forEach(function(r){r.trajectory.setStructure(i.structureView)})},t.prototype.updateRepresentations=function(i){e.prototype.updateRepresentations.call(this,i),this.measureRepresentations.update(i)},t.prototype.updateRepresentationMatrices=function(){e.prototype.updateRepresentationMatrices.call(this),this.measureRepresentations.setParameters({matrix:this.matrix})},t.prototype.addRepresentation=function(i,r,a){var s=this;r===void 0&&(r={}),a===void 0&&(a=!1),r.defaultAssembly=this.parameters.defaultAssembly;var o=this._addRepresentation(i,this.structureView,r,a);return a||o.signals.parametersChanged.add(function(){return s.measureUpdate()}),o},t.prototype.addTrajectory=function(i,r){i===void 0&&(i=""),r===void 0&&(r={});var a=function(o,c,A){return o&&o instanceof z7?new Ble(o,c,A):!o&&c.frames?new Rle(o,c,A):o&&typeof o=="function"?new Nle(o,c,A):new Cle(o,c,A)}(i,this.structureView,r),s=new _le(this.stage,a,r);return this.trajList.push(s),this.signals.trajectoryAdded.dispatch(s),s},t.prototype.removeTrajectory=function(i){var r=this.trajList.indexOf(i);r!==-1&&this.trajList.splice(r,1),i.dispose(),this.signals.trajectoryRemoved.dispatch(i)},t.prototype.dispose=function(){this.trajList.slice().forEach(function(i){return i.dispose()}),this.trajList.length=0,this.structure.dispose(),this.measureRepresentations.dispose(),e.prototype.dispose.call(this)},t.prototype.autoView=function(i,r){typeof i=="number"&&(r=i,i=""),this.stage.animationControls.zoomMove(this.getCenter(i),this.getZoom(i),z(r,0))},t.prototype.getBoxUntransformed=function(i){return i?this.structureView.getBoundingBox(new si(i)):this.structureView.boundingBox},t.prototype.getCenterUntransformed=function(i){return i&&typeof i=="string"?this.structure.atomCenter(new si(i)):this.structure.center},t.prototype.superpose=function(i,r,a,s){return Mle(this.structureView,i.structureView,r,a,s),this.updateRepresentations({position:!0}),this},t.prototype.getMaxRepresentationRadius=function(i){var r=0,a=this.structure.getAtomProxy(i);return this.eachRepresentation(function(s){if(s.getVisibility()){var o=s.repr;r=Math.max(o.getAtomRadius(a),r)}}),r},t.prototype.measurePick=function(i){var r=this.pickBuffer.count;if(this.lastPick===i.index&&r>=1){if(r>1){var a=this.pickBuffer.data,s=this.pickBuffer.data.sort();this.pickDict.has(s)?this.pickDict.del(s):this.pickDict.add(s,a),r===2?this.distanceRepresentation.setParameters({atomPair:this.pickDict.values.filter(function(o){return o.length===2})}):r===3?this.angleRepresentation.setParameters({atomTriple:this.pickDict.values.filter(function(o){return o.length===3})}):r===4&&this.dihedralRepresentation.setParameters({atomQuad:this.pickDict.values.filter(function(o){return o.length===4})})}this.pickBuffer.clear(),this.lastPick=void 0}else this.pickBuffer.has(i.index)||this.pickBuffer.push(i.index),this.lastPick=i.index;this.measureUpdate()},t.prototype.measureClear=function(){this.pickBuffer.clear(),this.lastPick=void 0,this.spacefillRepresentation.setSelection("none")},t.prototype.measureBuild=function(){var i=this.measureData();this.distanceRepresentation.setParameters({atomPair:i.distance}),this.angleRepresentation.setParameters({atomTriple:i.angle}),this.dihedralRepresentation.setParameters({atomQuad:i.dihedral})},t.prototype.measureUpdate=function(){var i=this,r=this.pickBuffer.data,a={};r.forEach(function(s){var o=Math.max(.1,i.getMaxRepresentationRadius(s));a[s]=o*(2.3-um(.1,2,o))}),this.spacefillRepresentation.setSelection(r.length?"@"+r.join(","):"none"),r.length&&this.spacefillRepresentation.setParameters({radiusData:a})},t.prototype.measureData=function(){var i=this.pickDict.values;return{distance:i.filter(function(r){return r.length===2}),angle:i.filter(function(r){return r.length===3}),dihedral:i.filter(function(r){return r.length===4})}},t.prototype.removeAllMeasurements=function(i){var r=this.pickDict,a=r.values,s=function(o){a.filter(function(c){return c.length===o}).forEach(function(c){return r.del(c.slice().sort())})};(!i||1&i)&&s(2),(!i||2&i)&&s(3),(!i||4&i)&&s(4),this.measureBuild()},t.prototype.removeMeasurement=function(i){this.pickDict.del(i.slice().sort()),this.measureBuild()},t.prototype.addMeasurement=function(i){if(!(i.length<2||i.length>4)){var r=i.slice().sort();this.pickDict.has(r)||this.pickDict.add(r,i),this.measureBuild()}},Object.defineProperties(t.prototype,n),t}($n);Kd.add("structure",sx),Kd.add("structureview",sx);var kI=function(e){function t(i,r,a){a===void 0&&(a={}),e.call(this,i,r,Object.assign({name:r.name},a)),this.surface=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"surface"},t.prototype.addRepresentation=function(i,r){return r===void 0&&(r={}),this._addRepresentation(i,this.surface,r)},t.prototype.getBoxUntransformed=function(){return this.surface.boundingBox},t.prototype.getCenterUntransformed=function(){return this.surface.center},t.prototype.dispose=function(){this.surface.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}($n);Kd.add("surface",kI);var OI=function(e){function t(i,r,a){a===void 0&&(a={}),e.call(this,i,r,Object.assign({name:r.name},a)),this.volume=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"volume"},t.prototype.addRepresentation=function(i,r){return r===void 0&&(r={}),this._addRepresentation(i,this.volume,r)},t.prototype.getBoxUntransformed=function(){return this.volume.boundingBox},t.prototype.getCenterUntransformed=function(){return this.volume.center},t.prototype.dispose=function(){this.volume.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}($n);Kd.add("volume",OI);var SN=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addRepresentation=function(n,i){return this.forEach(function(r){return r.addRepresentation(n,i)})},t.prototype.autoView=function(n){return this.forEach(function(i){return i.autoView(n)})},t}(rd);function GN(e,t){return e instanceof RegExp?t.name.match(e)!==null:t.name===e}var Fle=new P,Ile={impostor:!0,quality:"medium",workerDefault:!0,sampleLevel:0,backgroundColor:"black",rotateSpeed:2,zoomSpeed:1.2,panSpeed:1,clipNear:0,clipFar:100,clipDist:10,clipMode:"scene",clipScale:"relative",fogNear:50,fogFar:100,cameraFov:40,cameraEyeSep:.3,cameraType:"perspective",lightColor:14540253,lightIntensity:1,ambientColor:14540253,ambientIntensity:.2,hoverTimeout:0,tooltip:!0,mousePreset:"default"},kn=function(e,t){t===void 0&&(t={}),this.signals={parametersChanged:new An.exports.Signal,fullscreenChanged:new An.exports.Signal,componentAdded:new An.exports.Signal,componentRemoved:new An.exports.Signal,clicked:new An.exports.Signal,hovered:new An.exports.Signal},this.tasks=new Qo,this.compList=[],this.defaultFileParams={},this.logList=[],this.viewer=new mn(e),this.viewer.renderer&&(this.tooltip=document.createElement("div"),Object.assign(this.tooltip.style,{display:"none",position:"fixed",zIndex:"1000000",pointerEvents:"none",backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),this.viewer.container.appendChild(this.tooltip),this.mouseObserver=new Kr(this.viewer.renderer.domElement),this.viewerControls=new Wr(this),this.trackballControls=new Xa(this),this.pickingControls=new rI(this),this.animationControls=new ji(this),this.mouseControls=new zu(this),this.keyControls=new Vu(this),this.pickingBehavior=new bg(this),this.mouseBehavior=new W0(this),this.animationBehavior=new tx(this),this.keyBehavior=new Ku(this),this.spinAnimation=this.animationControls.spin([0,1,0],.005),this.spinAnimation.pause(!0),this.rockAnimation=this.animationControls.rock([0,1,0],.005),this.rockAnimation.pause(!0),this.parameters=As(t,Ile),this.setParameters(this.parameters),this.viewer.animate())};kn.prototype.setParameters=function(e){e===void 0&&(e={}),VF(this.parameters,e);var t=e,n=this.parameters,i=this.viewer,r=this.trackballControls;return t.quality!==void 0&&this.setQuality(n.quality),t.impostor!==void 0&&this.setImpostor(n.impostor),t.rotateSpeed!==void 0&&(r.rotateSpeed=n.rotateSpeed),t.zoomSpeed!==void 0&&(r.zoomSpeed=n.zoomSpeed),t.panSpeed!==void 0&&(r.panSpeed=n.panSpeed),t.mousePreset!==void 0&&this.mouseControls.preset(n.mousePreset),this.mouseObserver.setParameters({hoverTimeout:n.hoverTimeout}),i.setClip(n.clipNear,n.clipFar,n.clipDist,n.clipMode,n.clipScale),i.setFog(void 0,n.fogNear,n.fogFar),i.setCamera(n.cameraType,n.cameraFov,n.cameraEyeSep),i.setSampling(n.sampleLevel),i.setBackground(n.backgroundColor),i.setLight(n.lightColor,n.lightIntensity,n.ambientColor,n.ambientIntensity),this.signals.parametersChanged.dispatch(this.getParameters()),this},kn.prototype.log=function(e){console.log("STAGE LOG",e),this.logList.push(e)},kn.prototype.getParameters=function(){return Object.assign({},this.parameters)},kn.prototype.defaultFileRepresentation=function(e){if(e instanceof sx){var t,n,i;e.setSelection("/0");var r=e.structure;if(r.biomolDict.BU1){var a=r.biomolDict.BU1;t=a.getAtomCount(r),n=a.getResidueCount(r),i=a.getInstanceCount(),e.setDefaultAssembly("BU1")}else t=r.getModelProxy(0).atomCount,n=r.getModelProxy(0).residueCount,i=1;var s=t;JF&&(s*=4);var o=r.atomStore.count/r.residueStore.count<2;o&&(s*=10);var c="chainname",A="RdYlBu",l=!1;if(r.getChainnameCount(new si("polymer and /0"))===1&&(c="residueindex",A="Spectral",l=!0),je&&console.log(s,t,i,o),n/i<4)e.addRepresentation("ball+stick",{colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"});else if(i>5&&s>15e3||s>7e5){var u=Math.min(2,Math.max(.1,6e3/(s/i)));o&&(u=Math.min(u,.5)),e.addRepresentation("surface",{colorScheme:c,colorScale:A,colorReverse:l,sele:"polymer",surfaceType:"av",probeRadius:1.4,scaleFactor:u,useWorker:!1})}else s>25e4?e.addRepresentation("backbone",{colorScheme:c,colorScale:A,colorReverse:l,lineOnly:!0}):s>1e5?e.addRepresentation("backbone",{colorScheme:c,colorScale:A,colorReverse:l,quality:"low",disableImpostor:!0,radiusScale:2}):s>8e4?e.addRepresentation("backbone",{colorScheme:c,colorScale:A,colorReverse:l,radiusScale:2}):(e.addRepresentation("cartoon",{colorScheme:c,colorScale:A,colorReverse:l,radiusScale:.7,aspectRatio:5,quality:"auto"}),s<5e4&&e.addRepresentation("base",{colorScheme:c,colorScale:A,colorReverse:l,quality:"auto"}),e.addRepresentation("ball+stick",{sele:"ligand",colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"}));e.structure.frames.length&&e.addTrajectory()}else(e instanceof kI||e instanceof OI)&&e.addRepresentation("surface");this.tasks.onZeroOnce(this.autoView,this)},kn.prototype.loadFile=function(e,t){var n=this;t===void 0&&(t={});var i=Object.assign({},this.defaultFileParams,t),r=br(e).name;this.tasks.increment(),this.log("loading file '"+r+"'");var a=z(i.ext,br(e).ext);return(Jt.isTrajectory(a)?Promise.reject(new Error("loadFile: ext '"+a+"' is a trajectory and must be loaded into a structure component")):V_(e,i)).then(function(s){n.log("loaded '"+r+"'");var o=n.addComponentFromObject(s,i);return i.defaultRepresentation&&n.defaultFileRepresentation(o),n.tasks.decrement(),o},function(s){n.tasks.decrement();var o="error loading file: '"+s+"'";throw n.log(o),o})},kn.prototype.loadScript=function(e){var t=this,n=br(e).name;return this.log("loading script '"+n+"'"),V_(e).then(function(i){t.tasks.increment(),t.log("running script '"+n+"'"),i.run(t).then(function(){t.tasks.decrement(),t.log("finished script '"+n+"'")}),t.log("called script '"+n+"'")},function(i){t.tasks.decrement();var r="errored script '"+n+`' "`+i+'"';throw t.log(r),r})},kn.prototype.addComponent=function(e){e?(this.compList.push(e),this.signals.componentAdded.dispatch(e)):De.warn("Stage.addComponent: no component given")},kn.prototype.addComponentFromObject=function(e,t){t===void 0&&(t={});var n=Kd.get(e.type);if(n){var i=new n(this,e,t);return this.addComponent(i),i}De.warn("no component for object type",e.type)},kn.prototype.removeComponent=function(e){var t=this.compList.indexOf(e);t!==-1&&(this.compList.splice(t,1),e.dispose(),this.signals.componentRemoved.dispatch(e))},kn.prototype.removeAllComponents=function(){var e=this;this.compList.slice().forEach(function(t){return e.removeComponent(t)})},kn.prototype.handleResize=function(){this.viewer.handleResize()},kn.prototype.setSize=function(e,t){var n=this.viewer.container;n!==document.body&&(e!==void 0&&(n.style.width=e),t!==void 0&&(n.style.height=t),this.handleResize())},kn.prototype.toggleFullscreen=function(e){if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled){var t=this;e=e||this.viewer.container,this.lastFullscreenElement=e,n()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(e.dataset.normalWidth=e.style.width||"",e.dataset.normalHeight=e.style.height||"",e.style.width=window.screen.width+"px",e.style.height=window.screen.height+"px",e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),document.addEventListener("fullscreenchange",i),document.addEventListener("mozfullscreenchange",i),document.addEventListener("webkitfullscreenchange",i),document.addEventListener("MSFullscreenChange",i),this.handleResize(),this.signals.fullscreenChanged.dispatch(!0),setTimeout(function(){t.handleResize()},100))}else De.log("fullscreen mode (currently) not possible");function n(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}function i(){if(!n()&&t.lastFullscreenElement){var r=t.lastFullscreenElement;r.style.width=r.dataset.normalWidth||"",r.style.height=r.dataset.normalHeight||"",document.removeEventListener("fullscreenchange",i),document.removeEventListener("mozfullscreenchange",i),document.removeEventListener("webkitfullscreenchange",i),document.removeEventListener("MSFullscreenChange",i),t.handleResize(),t.signals.fullscreenChanged.dispatch(!1)}}},kn.prototype.setSpin=function(e){e?(this.spinAnimation.resume(!0),this.rockAnimation.pause(!0)):this.spinAnimation.pause(!0)},kn.prototype.setRock=function(e){e?(this.rockAnimation.resume(!0),this.spinAnimation.pause(!0)):this.rockAnimation.pause(!0)},kn.prototype.toggleSpin=function(){this.setSpin(this.spinAnimation.paused)},kn.prototype.toggleRock=function(){this.setRock(this.rockAnimation.paused)},kn.prototype.getFocus=function(){var e=this.parameters;if(e.clipMode!=="scene")return 0;var t=e.clipNear;return e.clipScale==="absolute"&&(t=this.viewer.absoluteToRelative(t)),2*t},kn.prototype.setFocus=function(e){var t,n,i,r;this.parameters.clipMode==="scene"&&(this.parameters.clipScale==="relative"?(i=50,r=function(a){return Q_(a,0,100)}(2*(n=100-(t=Q_(e/2,0,49.9)))-50)):(i=0,r=2*(n=t=this.viewer.relativeToAbsolute(e/2))),this.setParameters({clipNear:t,clipFar:n,fogNear:i,fogFar:r}))},kn.prototype.getZoomForBox=function(e){var t=e.getSize(Fle),n=Math.max(t.x,t.y,t.z),i=Math.min(t.x,t.y,t.z),r=n+Math.sqrt(i),a=Oi(this.viewer.perspectiveCamera.fov),s=this.viewer.width,o=this.viewer.height,c=o<s?1:s/o;return r=Math.abs(.5*r/c/Math.sin(a/2)),-(r+=this.parameters.clipDist)},kn.prototype.getBox=function(){return this.viewer.boundingBox},kn.prototype.getZoom=function(){return this.getZoomForBox(this.getBox())},kn.prototype.getCenter=function(e){return this.getBox().getCenter(e||new P)},kn.prototype.autoView=function(e){this.animationControls.zoomMove(this.getCenter(),this.getZoom(),z(e,0))},kn.prototype.makeImage=function(e){var t=this;return e===void 0&&(e={}),new Promise(function(n,i){t.tasks.onZeroOnce(function(){t.tasks.increment(),t.viewer.makeImage(e).then(function(r){t.tasks.decrement(),n(r)}).catch(function(r){t.tasks.decrement(),i(r)})})})},kn.prototype.setImpostor=function(e){this.parameters.impostor=e;var t=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(n){if(t.includes(n.getType())){var i=n.getParameters();i.disableImpostor=!e,n.build(i)}})},kn.prototype.setQuality=function(e){this.parameters.quality=e;var t=["tube","cartoon","ribbon","trace","rope"],n=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(i){var r=i.getParameters();if(!t.includes(i.getType())){if(!n.includes(i.getType()))return;if(!r.disableImpostor)return void(i.repr.quality=e)}r.quality=e,i.build(r)})},kn.prototype.eachComponent=function(e,t){this.compList.slice().forEach(function(n){t!==void 0&&t!==n.type||e(n)})},kn.prototype.eachRepresentation=function(e,t){this.eachComponent(function(n){n.reprList.slice().forEach(function(i){t!==void 0&&t!==i.getType()||e(i,n)})})},kn.prototype.getComponentsByName=function(e){var t=[];return this.eachComponent(function(n){(e===void 0||GN(e,n))&&t.push(n)}),new SN(t)},kn.prototype.getComponentsByObject=function(e){var t=[];return this.eachComponent(function(n){n.object===e&&t.push(n)}),new SN(t)},kn.prototype.getRepresentationsByName=function(e){var t=[];return this.eachRepresentation(function(n,i){(e===void 0||GN(e,n))&&t.push(n)}),new UI(t)},kn.prototype.measureClear=function(){this.eachComponent(function(e){return e.measureClear()},"structure")},kn.prototype.measureUpdate=function(){this.eachComponent(function(e){return e.measureUpdate()},"structure")},kn.prototype.dispose=function(){this.tasks.dispose(),this.viewer.dispose(),this.mouseObserver.dispose()};var Lle=function(e){function t(i,r,a){a===void 0&&(a={}),e.call(this,i,r,Object.assign({name:r.name},a)),this.shape=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"shape"},t.prototype.addRepresentation=function(i,r){return r===void 0&&(r={}),this._addRepresentation(i,this.shape,r)},t.prototype.getBoxUntransformed=function(){return this.shape.boundingBox},t.prototype.getCenterUntransformed=function(){return this.shape.center},t.prototype.dispose=function(){this.shape.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}($n);function Jn(e,t,n,i){var r,a=arguments.length,s=a<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,n,s):r(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s}Kd.add("shape",Lle);var MN=function(e){function t(n){var i=this;e.call(this,n),n.scale||(this.parameters.scale="rainbow",this.parameters.reverse=z(n.reverse,!0)),this.scalePerModel={},n.structure.eachModel(function(r){i.parameters.domain=[r.atomOffset,r.atomEnd],i.scalePerModel[r.index]=i.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.scalePerModel[n.modelIndex](n.index)},t}(In);Jn([Zn],MN.prototype,"atomColor",null),Nn.add("atomindex",MN);var TN=function(e){function t(n){if(e.call(this,n),n.scale||(this.parameters.scale="OrRd"),!n.domain){var i,r=1/0,a=-1/0;n.sele&&(i=new si(n.sele)),n.structure.eachAtom(function(s){var o=s.bfactor;r=Math.min(r,o),a=Math.max(a,o)},i),this.parameters.domain=[r,a]}this.bfactorScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.bfactorScale(n.bfactor)},t}(In);Jn([Zn],TN.prototype,"atomColor",null),Nn.add("bfactor",TN);var FN=function(e){function t(n){var i=this;e.call(this,n),this.chainidDictPerModel={},this.scalePerModel={},n.scale||(this.parameters.scale="Spectral"),n.structure.eachModel(function(r){var a=0,s={};r.eachChain(function(o){s[o.chainid]===void 0&&(s[o.chainid]=a,a+=1)}),i.parameters.domain=[0,a-1],i.chainidDictPerModel[r.index]=s,i.scalePerModel[r.index]=i.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i=this.chainidDictPerModel[n.modelIndex];return this.scalePerModel[n.modelIndex](i[n.chainid])},t}(In);Jn([Zn],FN.prototype,"atomColor",null),Nn.add("chainid",FN);var IN=function(e){function t(n){var i=this;e.call(this,n),this.scalePerModel={},n.scale||(this.parameters.scale="Spectral"),n.structure.eachModel(function(r){i.parameters.domain=[r.chainOffset,r.chainEnd],i.scalePerModel[r.index]=i.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.scalePerModel[n.modelIndex](n.chainIndex)},t}(In);Jn([Zn],IN.prototype,"atomColor",null),Nn.add("chainindex",IN);var LN=function(e){function t(n){var i=this;e.call(this,n),this.chainnameDictPerModel={},this.scalePerModel={},n.scale||(this.parameters.scale="Spectral"),n.structure.eachModel(function(r){var a=0,s={};r.eachChain(function(o){s[o.chainname]===void 0&&(s[o.chainname]=a,a+=1)}),i.parameters.domain=[0,a-1],i.chainnameDictPerModel[r.index]=s,i.scalePerModel[r.index]=i.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i=this.chainnameDictPerModel[n.modelIndex];return this.scalePerModel[n.modelIndex](i[n.chainname])},t}(In);Jn([Zn],LN.prototype,"atomColor",null),Nn.add("chainname",LN);var PN=function(e){function t(n){e.call(this,n),this.rsrzDict={},this.rsccDict={},n.scale||(this.parameters.scale="RdYlBu"),this.rsrzScale=this.getScale({domain:[2,0]}),this.rsccScale=this.getScale({domain:[.678,1]});var i=n.structure.validation;i&&(this.rsrzDict=i.rsrzDict,this.rsccDict=i.rsccDict)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i=n.resno+"";n.inscode&&(i+="^"+n.inscode),n.chainname&&(i+=":"+n.chainname),i+="/"+n.modelIndex;var r=this.rsrzDict[i];if(r!==void 0)return this.rsrzScale(r);var a=this.rsccDict[i];return a!==void 0?this.rsccScale(a):9474192},t}(In);Jn([Zn],PN.prototype,"atomColor",null),Nn.add("densityfit",PN);var cE={ARG:{CD:.1,CZ:.5,NE:-.1},ASN:{CG:.55,OD1:-.55},ASP:{CB:-.16,CG:.36,OD1:-.6,OD2:-.6},CYS:{CB:.19,SG:-.19},GLN:{CD:.55,OE1:-.55},GLU:{CD:.36,CG:-.16,OE1:-.6,OE2:-.6},HIS:{CB:.1,CD2:.2,CE1:.45,CG:.15,ND1:.05,NE2:.05},LYS:{CE:.25,NZ:.75},MET:{CE:.06,CG:.06,SD:-.12},PTR:{C:.55,CA:.1,CZ:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SEP:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SER:{CB:.25,OG:-.25},THR:{CB:.25,OG1:-.25},TPO:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,OG1:-1.1,O1P:-.85,O2P:-.85,O3P:-.85,P:1.4},TRP:{CD1:.06,CD2:.1,CE2:-.04,CE3:-.03,CG:-.03,NE1:-.06},TYR:{CZ:.25,OH:-.25},backbone:{C:.55,O:-.55,N:-.35,CA:.1}},UN=function(e){function t(n){var i=this;e.call(this,n),this.delta=new P,this.hCharges=[],n.scale||(this.parameters.scale="rwb"),n.domain||(this.parameters.domain=[-50,50]),this.scale=this.getScale(),this.charges=new Float32Array(n.structure.atomCount);var r=[];n.structure.eachAtom(function(s){var o;if(i.charges[s.index]=((o=s).partialCharge!==null?o.partialCharge:o.isProtein()&&(cE[o.resname]&&cE[o.resname][o.atomname]||cE.backbone[o.atomname])||0)*s.occupancy,s.atomname==="N"){if(s.bondCount>=3||s.bondToElementCount(1))return;var c=function(A,l){l===void 0&&(l=new P);var u=!1,d=!1,p=!1;return l.set(2*A.x,2*A.y,2*A.z),A.eachBondedAtom(function(h){if(!u)return h.atomname==="H"?(l.set(h.x,h.y,h.z),void(u=!0)):void(d||h.atomname!=="CA"?p||h.atomname!=="C"||(p=!0,l.sub(h)):(l.sub(h),d=!0))}),u?l:d&&p?(l.normalize(),l.multiplyScalar(1.04),l.add(A),l):void 0}(s);c!==void 0&&(r.push(c),i.hCharges.push(.25*s.occupancy))}});var a=n.structure.getBoundingBox();a.expandByScalar(1.04),this.hStore=function(s){for(var o=s.length,c=new Float32Array(o),A=new Float32Array(o),l=new Float32Array(o),u=0;u<s.length;u++){var d=s[u];c[u]=d.x,A[u]=d.y,l[u]=d.z}return{x:c,y:A,z:l,count:o}}(r),this.hHash=new Pl(this.hStore,a),this.hash=new Pl(n.structure.atomStore,a)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.positionColor=function(n){var i=this.charges,r=this.hCharges,a=0;return this.hash.eachWithin(n.x,n.y,n.z,12,function(s,o){var c=i[s];c!==0&&(a+=c/o)}),this.hHash.eachWithin(n.x,n.y,n.z,12,function(s,o){var c=r[s];c!==0&&(a+=c/o)}),this.scale(332*a)},t}(In);Jn([Zn],UN.prototype,"positionColor",null),Nn.add("electrostatic",UN);var DN={H:16777215,HE:14286847,LI:13402367,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,NE:11789301,NA:11230450,MG:9109248,AL:12560038,SI:1578e4,P:16744448,S:16777008,CL:2093087,AR:8442339,K:9388244,CA:4062976,SC:15132390,TI:12567239,V:10921643,CR:9083335,MN:10255047,FE:14706227,CO:15765664,NI:5296208,CU:13140019,ZN:8224944,GA:12750735,GE:6721423,AS:12419299,SE:16752896,BR:10889513,KR:6076625,RB:7351984,SR:65280,Y:9764863,ZR:9756896,NB:7586505,MO:5551541,TC:3907230,RU:2396047,RH:687500,PD:27013,AG:12632256,CD:16767375,IN:10909043,SN:6717568,SB:10380213,TE:13924864,I:9699476,XE:9699476,CS:5707663,BA:51456,LA:7394559,CE:16777159,PR:14286791,ND:13107143,PM:10747847,SM:9437127,EU:6422471,GD:4587463,TB:3211207,DY:2097095,HO:65436,ER:58997,TM:54354,YB:48952,LU:43812,HF:5096191,TA:5089023,W:2200790,RE:2522539,OS:2516630,IR:1528967,PT:13684960,AU:16765219,HG:12105936,TL:10900557,PB:5724513,BI:10375093,PO:11230208,AT:7688005,RN:4358806,FR:4325478,RA:32e3,AC:7384058,TH:47871,PA:41471,U:36863,NP:33023,PU:27647,AM:5528818,CM:7888099,BK:9064419,CF:10565332,ES:11739092,FM:11739066,MD:11734438,NO:12389767,LR:13041766,RF:13369433,DB:13697103,SG:14221381,BH:14680120,HS:15073326,MT:15400998,DS:16777215,RG:16777215,CN:16777215,UUT:16777215,FL:16777215,UUP:16777215,LV:16777215,UUH:16777215,D:16777152,T:16777120},kN=function(e){function t(n){n.value=z(n.value,DN.C),e.call(this,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i=n.element;return i==="C"?this.parameters.value:DN[i]||16777215},t}(In);Jn([Zn],kN.prototype,"atomColor",null),Nn.add("element",kN);var ON=function(e){function t(n){e.call(this,n),n.scale||(this.parameters.scale="Spectral"),n.domain||(this.parameters.domain=[0,n.structure.entityList.length-1]),this.entityindexScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.entityindexScale(n.entityIndex)},t}(In);Jn([Zn],ON.prototype,"atomColor",null),Nn.add("entityindex",ON);var HN=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i=n.entity;switch(i?i.entityType:void 0){case 1:return 8374655;case 2:return 16629894;case 3:return 12496596;case 4:return 3697840;default:return 16777113}},t}(In);Jn([Zn],HN.prototype,"atomColor",null),Nn.add("entitytype",HN);var QN=function(e){function t(n){e.call(this,n),this.geoAtomDict={},this.geoDict={};var i=n.structure.validation;i&&(this.geoAtomDict=i.geoAtomDict,this.geoDict=i.geoDict)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i,r=n.resno+"";n.inscode&&(r+="^"+n.inscode),n.chainname&&(r+=":"+n.chainname),r+="/"+n.modelIndex;var a,s=this.geoAtomDict[r];if(s!==void 0){var o=s[n.atomname]||0;a=o,i=16843009*((a=(858993459&(a-=a>>1&1431655765))+(a>>2&858993459))+(a>>4)&252645135)>>24}else i=this.geoDict[r]||0;return i===0?2188972:i===1?16703627:i===2?16018755:i>=3?10813478:9474192},t}(In);Jn([Zn],QN.prototype,"atomColor",null),Nn.add("geoquality",QN);var zN=function(e){function t(n){e.call(this,n),this.resHF={},n.scale||(this.parameters.scale="RdYlGn");for(var i in eN)this.resHF[i]=eN[i][0];if(this.defaultResidueHydrophobicity=j0e[0],!n.domain){var r=1/0,a=-1/0;for(var s in this.resHF){var o=this.resHF[s];r=Math.min(r,o),a=Math.max(a,o)}this.parameters.domain=[r,0,a]}this.hfScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.hfScale(this.resHF[n.resname]||this.defaultResidueHydrophobicity)},t}(In);Jn([Zn],zN.prototype,"atomColor",null),Nn.add("hydrophobicity",zN);var VN=function(e){function t(n){e.call(this,n),n.scale||(this.parameters.scale="rainbow"),n.domain||(this.parameters.domain=[0,n.structure.modelStore.count]),this.modelindexScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.modelindexScale(n.modelIndex)},t}(In);Jn([Zn],VN.prototype,"atomColor",null),Nn.add("modelindex",VN);var KN=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){switch(n.residueType.moleculeType){case 1:return 3697840;case 2:return 15729279;case 3:return 12496596;case 4:return 16629894;case 5:return 12540695;case 6:return 8374655;default:return 16777113}},t}(In);Jn([Zn],KN.prototype,"atomColor",null),Nn.add("moleculetype",KN);var WN=function(e){function t(n){e.call(this,n),n.scale||(this.parameters.scale="PuBu"),n.domain||(this.parameters.domain=[0,1]),this.occupancyScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.occupancyScale(n.occupancy)},t}(In);Jn([Zn],WN.prototype,"atomColor",null),Nn.add("occupancy",WN);var $N=function(e){function t(n){e.call(this,n),n.scale||(this.parameters.scale="rwb"),n.domain||(this.parameters.domain=[-1,1]),this.partialchargeScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.partialchargeScale(n.partialCharge||0)},t}(In);function AE(){return 16777215*Math.random()}Jn([Zn],$N.prototype,"atomColor",null),Nn.add("partialcharge",$N);var Py=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(){return AE()},t.prototype.volumeColor=function(){return AE()},t.prototype.positionColor=function(){return AE()},t}(In);Jn([Zn],Py.prototype,"atomColor",null),Jn([Zn],Py.prototype,"volumeColor",null),Jn([Zn],Py.prototype,"positionColor",null),Nn.add("random",Py);var jN=function(e){function t(n){e.call(this,n),this.rciDict={},n.scale||(this.parameters.scale="RdYlBu"),this.rciScale=this.getScale({domain:[.6,0]});var i=n.structure.validation;i&&(this.rciDict=i.rciDict)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i="["+n.resname+"]"+n.resno;n.chainname&&(i+=":"+n.chainname);var r=this.rciDict[i];return r!==void 0?this.rciScale(r):9474192},t}(In);Jn([Zn],jN.prototype,"atomColor",null),Nn.add("randomcoilindex",jN);var YN=function(e){function t(n){var i=this;e.call(this,n),this.scalePerChain={},n.scale||(this.parameters.scale="rainbow",this.parameters.reverse=z(n.reverse,!0)),n.structure.eachChain(function(r){i.parameters.domain=[r.residueOffset,r.residueEnd],i.scalePerChain[r.index]=i.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.scalePerChain[n.chainIndex](n.residueIndex)},t}(In);Jn([Zn],YN.prototype,"atomColor",null),Nn.add("residueindex",YN);var Ple={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935,ASH:16711935,GLH:16711935,A:14423100,G:3329330,I:10145074,X:8190976,C:16766720,T:4286945,U:4251856,D:35723,DA:14423100,DG:3329330,DI:10145074,DX:8190976,DC:16766720,DT:4286945,DU:4251856,DD:35723},qN=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return Ple[n.resname]||16711935},t}(In);Jn([Zn],qN.prototype,"atomColor",null),Nn.add("resname",qN);var Ule=16711808,Dle=10485888,kle=6291584,Ole=16762880,Hle=6324479,Qle=16777215,zle=11403518,Vle=16580962,Kle=10921722,XN=function(e){function t(n){e.call(this,n),this.residueProxy=n.structure.getResidueProxy()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i=n.sstruc,r=this.residueProxy;return i==="h"?Ule:i==="g"?Dle:i==="i"?kle:i==="e"||i==="b"?Ole:i==="t"?Hle:(r.index=n.residueIndex,r.isDna()?zle:r.isRna()?Vle:r.isSaccharide()?Kle:r.isProtein()||i==="s"||i==="l"?Qle:8421504)},t}(In);Jn([Zn],XN.prototype,"atomColor",null),Nn.add("sstruc",XN);var lE=function(e){function t(n){var i,r;e.call(this,n),n.scale||(this.parameters.scale="rwb"),this.atomData=(i=this.parameters.data)===null||i===void 0?void 0:i.atomData,this.bondData=(r=this.parameters.data)===null||r===void 0?void 0:r.bondData,this.scale=this.getScale(this.parameters)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i,r=(i=this.atomData)===null||i===void 0?void 0:i[n.index];return r!==void 0?this.scale(r):this.parameters.value},t.prototype.bondColor=function(n,i){var r,a=(r=this.bondData)===null||r===void 0?void 0:r[n.index];return a!==void 0?this.scale(a):this.atomProxy?(this.atomProxy.index=i?n.atomIndex1:n.atomIndex2,this.atomColor(this.atomProxy)):this.parameters.value},t}(In);Jn([Zn],lE.prototype,"atomColor",null),Jn([Zn],lE.prototype,"bondColor",null),Nn.add("structuredata",lE);var Kp=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(){return this.parameters.value},t.prototype.bondColor=function(){return this.parameters.value},t.prototype.valueColor=function(){return this.parameters.value},t.prototype.volumeColor=function(){return this.parameters.value},t}(In);Jn([Zn],Kp.prototype,"atomColor",null),Jn([Zn],Kp.prototype,"bondColor",null),Jn([Zn],Kp.prototype,"valueColor",null),Jn([Zn],Kp.prototype,"volumeColor",null),Nn.add("uniform",Kp);var ZN=function(e){function t(n){e.call(this,n),this.valueScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.volumeColor=function(n){return this.valueScale(this.parameters.volume.data[n])},t}(In);Jn([Zn],ZN.prototype,"volumeColor",null),Nn.add("value",ZN);var JN=function(e){function t(n){e.call(this,n),this.vec=new P,this.valueScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.positionColor=function(n){var i=this.parameters.volume;if(!i||!i.inverseMatrix)return this.parameters.value;var r=this.vec,a=i.data,s=i.nx,o=i.ny,c=s*o;r.copy(n),r.applyMatrix4(i.inverseMatrix);var A=Math.floor(r.x),l=Math.floor(r.y),u=Math.floor(r.z),d=(u*o+l)*s+A,p=d+1,h=d+s,g=d+c,b=h+1,y=g+1,v=h+c,_=v+1,w=a[d],E=a[p],B=a[h],R=a[g],G=a[b],C=a[y],O=a[v],I=a[_],D=r.x-A,k=r.y-l,L=r.z-u,T=Gs(w,E,D),H=Gs(R,C,D),W=Gs(B,G,D),j=Gs(O,I,D),ce=Gs(T,W,k),ue=Gs(H,j,k),te=Gs(ce,ue,L);return this.valueScale(te)},t}(In);Jn([Zn],JN.prototype,"positionColor",null),Nn.add("volume",JN);var Or=function(e){function t(i,r,a){var s=a||{};if(e.call(this,i,r,s),this.type="structure",this.parameters=Object.assign({radiusType:{type:"select",options:Ac.types},radiusData:{type:"hidden"},radiusSize:{type:"number",precision:3,max:10,min:.001},radiusScale:{type:"number",precision:3,max:10,min:.001},assembly:null,defaultAssembly:{type:"hidden"}},this.parameters),this.selection=new si(s.sele),this.dataList=[],this.structure=i,this.structureView=this.structure.getView(this.selection),i.biomolDict){var o={default:"default","":i.unitcell?"AU":"FULL"};Object.keys(i.biomolDict).forEach(function(c){o[c]=c}),this.parameters.assembly={type:"select",options:o,rebuild:!0}}else this.parameters.assembly=null}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultScale:{configurable:!0}};return n.defaultScale.get=function(){return{vdw:1,covalent:1,bfactor:.01,sstruc:1}},t.prototype.init=function(i){var r=this,a=i||{};a.colorScheme=z(a.colorScheme,"element"),this.setRadius(a.radius,a),this.radiusType=z(a.radiusType,"vdw"),this.radiusData=z(a.radiusData,{}),this.radiusSize=z(a.radiusSize,1),this.radiusScale=z(a.radiusScale,1),this.assembly=z(a.assembly,"default"),this.defaultAssembly=z(a.defaultAssembly,""),a.quality==="auto"&&(a.quality=this.getQuality()),e.prototype.init.call(this,a),this.selection.signals.stringChanged.add(function(){r.build()}),this.build()},t.prototype.setRadius=function(i,r){var a=Object.keys(GI);return typeof i=="string"&&a.includes(i.toLowerCase())?r.radiusType=i:i!==void 0&&(r.radiusType="size",r.radiusSize=i),this},t.prototype.getAssembly=function(){var i=this.assembly==="default"?this.defaultAssembly:this.assembly;return this.structure.biomolDict[i]},t.prototype.getQuality=function(){var i,r=this.structureView,a=this.getAssembly();return i=a?a.getAtomCount(r):r.atomCount,JF&&(i*=4),r.atomStore.count/r.residueStore.count<2&&(i*=10),i<15e3?"high":i<8e4?"medium":"low"},t.prototype.create=function(){var i=this;if(this.structureView.atomCount!==0)if(this.structureView.hasCoords()){this.needsBuild=!1;var r=this.getAssembly();if(r)r.partList.forEach(function(s,o){var c=s.getView(i.structureView);if(c.atomCount!==0){var A=i.createData(c,o);A&&(A.sview=c,A.instanceList=s.getInstanceList(),i.dataList.push(A))}});else{var a=this.createData(this.structureView,0);a&&(a.sview=this.structureView,this.dataList.push(a))}}else this.needsBuild=!0},t.prototype.update=function(i){var r=this;!this.lazy||this.visible?this.needsBuild?this.build():this.dataList.forEach(function(a){a.bufferList.length>0&&r.updateData(i,a)},this):Object.assign(this.lazyProps.what,i)},t.prototype.updateData=function(i,r){this.build()},t.prototype.getColorParams=function(){return Object.assign(Object.assign({},e.prototype.getColorParams.call(this)),{structure:this.structure})},t.prototype.getRadiusParams=function(i){return{type:this.radiusType,scale:this.radiusScale,size:this.radiusSize,data:this.radiusData}},t.prototype.getAtomParams=function(i,r){return Object.assign({what:i,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},r)},t.prototype.getBondParams=function(i,r){return Object.assign({what:i,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},r)},t.prototype.getAtomRadius=function(i){return this.structureView.atomSet.isSet(i.index)?new Ac(this.getRadiusParams()).atomRadius(i):0},t.prototype.setSelection=function(i,r){return this.selection.setString(i,r),this},t.prototype.setParameters=function(i,r,a){r===void 0&&(r={}),a===void 0&&(a=!1);var s=i||{};return this.setRadius(s.radius,s),s.radiusType===void 0&&s.radiusData===void 0&&s.radiusSize===void 0&&s.radiusScale===void 0||(r.radius=!0,ec&&!this.disableImpostor||(a=!0)),s.defaultAssembly!==void 0&&s.defaultAssembly!==this.defaultAssembly&&(this.assembly==="default"&&s.assembly===void 0||s.assembly==="default")&&(a=!0),e.prototype.setParameters.call(this,s,r,a),this},t.prototype.getParameters=function(){return Object.assign(e.prototype.getParameters.call(this),{sele:this.selection?this.selection.string:void 0,defaultAssembly:this.defaultAssembly})},t.prototype.attach=function(i){var r=this.viewer,a=this.bufferList;this.dataList.forEach(function(s){s.bufferList.forEach(function(o){a.push(o),r.add(o,s.instanceList)})}),this.setVisibility(this.visible),i()},t.prototype.clear=function(){this.dataList.length=0,e.prototype.clear.call(this)},t.prototype.dispose=function(){this.structureView.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}(tr),V7=function(e){function t(n,i,r){e.call(this,n,i,r),this.n=0,this.parameters=Object.assign({labelVisible:{type:"boolean"},labelSize:{type:"number",precision:3,max:10,min:.001},labelColor:{type:"color"},labelFontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:"fontFamily"},labelFontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:"fontStyle"},labelFontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:"fontWeight"},labelsdf:{type:"boolean",buffer:"sdf"},labelXOffset:{type:"number",precision:1,max:20,min:-20,buffer:"xOffset"},labelYOffset:{type:"number",precision:1,max:20,min:-20,buffer:"yOffset"},labelZOffset:{type:"number",precision:1,max:20,min:-20,buffer:"zOffset"},labelAttachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},labelBorder:{type:"boolean",buffer:"showBorder"},labelBorderColor:{type:"color",buffer:"borderColor"},labelBorderWidth:{type:"number",precision:2,max:.3,min:0,buffer:"borderWidth"},labelBackground:{type:"boolean",rebuild:!0},labelBackgroundColor:{type:"color",buffer:"backgroundColor"},labelBackgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},labelBackgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:"backgroundOpacity"},labelFixedSize:{type:"boolean",buffer:"fixedSize"},lineOpacity:{type:"range",min:0,max:1,step:.01},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters,{flatShaded:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};this.labelVisible=z(i.labelVisible,!0),this.labelSize=z(i.labelSize,2),this.labelColor=z(i.labelColor,16777215),this.labelFontFamily=z(i.labelFontFamily,"sans-serif"),this.labelFontStyle=z(i.labelFontstyle,"normal"),this.labelFontWeight=z(i.labelFontWeight,"bold"),this.labelsdf=z(i.labelsdf,XF==="Chrome"),this.labelXOffset=z(i.labelXOffset,0),this.labelYOffset=z(i.labelYOffset,0),this.labelZOffset=z(i.labelZOffset,.5),this.labelAttachment=z(i.labelAttachment,"bottom-left"),this.labelBorder=z(i.labelBorder,!1),this.labelBorderColor=z(i.labelBorderColor,"lightgrey"),this.labelBorderWidth=z(i.labelBorderWidth,.15),this.labelBackground=z(i.labelBackground,!1),this.labelBackgroundColor=z(i.labelBackgroundColor,"lightgrey"),this.labelBackgroundMargin=z(i.labelBackgroundMargin,.5),this.labelBackgroundOpacity=z(i.labelBackgroundOpacity,1),this.labelFixedSize=z(i.labelFixedSize,!1),this.lineOpacity=z(i.lineOpacity,1),this.linewidth=z(i.linewidth,2),e.prototype.init.call(this,i)},t.prototype.update=function(n){n.position?this.build():e.prototype.update.call(this,n)},t.prototype.updateData=function(n,i){var r={};if(n&&!n.labelSize||Object.assign(r,{size:os(this.n,this.labelSize)}),!n||n.labelColor){var a=new pt(this.labelColor);Object.assign(r,{color:li(this.n,a.r,a.g,a.b)})}this.textBuffer.setAttributes(r)},t.prototype.setParameters=function(n,i,r){return i===void 0&&(i={}),r===void 0&&(r=!1),n&&n.labelSize&&(i.labelSize=!0),n&&(n.labelColor||n.labelColor===0)&&(i.labelColor=!0,r=!0),e.prototype.setParameters.call(this,n,i,r),n&&n.opacity!==void 0&&this.textBuffer.setParameters({opacity:1}),n&&n.labelVisible!==void 0&&this.setVisibility(this.visible),this},t.prototype.setVisibility=function(n,i){return e.prototype.setVisibility.call(this,n,!0),this.textBuffer&&this.textBuffer.setVisibility(this.labelVisible&&this.visible),i||this.viewer.requestRender(),this},t.prototype.getLabelBufferParams=function(n){return n===void 0&&(n={}),e.prototype.getBufferParams.call(this,Object.assign({fontFamily:this.labelFontFamily,fontStyle:this.labelFontStyle,fontWeight:this.labelFontWeight,sdf:this.labelsdf,xOffset:this.labelXOffset,yOffset:this.labelYOffset,zOffset:this.labelZOffset,attachment:this.labelAttachment,showBorder:this.labelBorder,borderColor:this.labelBorderColor,borderWidth:this.labelBorderWidth,showBackground:this.labelBackground,backgroundColor:this.labelBackgroundColor,backgroundMargin:this.labelBackgroundMargin,backgroundOpacity:this.labelBackgroundOpacity,fixedSize:this.labelFixedSize,disablePicking:!0,visible:this.labelVisible},n,{opacity:1}))},t.prototype.getAtomRadius=function(){return 0},t}(Or);function K7(e,t){var n=e.getAtomProxy(),i=new si,r=t.length;if(r===0)return new Float32Array(0);var a=t[0].length,s=e.getAtomSet(),o=new Float32Array(r*a*3),c=0;return t.forEach(function(A){for(var l=!1,u=0;u<a;u++){var d=A[u];if(typeof d=="number"&&Number.isInteger(d)){if(!s.get(d)){l=!0;break}n.index=d}else{i.setString(d);var p=e.getAtomIndices(i);if(!p.length){l=!0;break}n.index=p[0]}var h=c+3*u;o[h++]=n.x,o[h++]=n.y,o[h++]=n.z}l||(c+=3*a)}),o.subarray(0,c)}function uo(e,t,n,i,r){var a=Math.cos(r),s=Math.sin(r);e[0]=t[0]+n[0]*a+i[0]*s,e[1]=t[1]+n[1]*a+i[1]*s,e[2]=t[2]+n[2]*a+i[2]*s}function eS(e,t,n,i,r,a,s){for(var o=0;o<t;o++){for(var c=0;c<n;c++)i[c]=e[c*t+o];tS(i,r,a,s,n);for(var A=0;A<n;A++)e[A*t+o]=r[A]}for(var l=0;l<n;l++){for(var u=0;u<t;u++)i[u]=e[l*t+u];tS(i,r,a,s,t);for(var d=0;d<t;d++)e[l*t+d]=Math.sqrt(r[d])}}function tS(e,t,n,i,r){n[0]=0,i[0]=Number.MIN_SAFE_INTEGER,i[1]=Number.MAX_SAFE_INTEGER;for(var a=1,s=0;a<r;a++){for(var o=(e[a]+a*a-(e[n[s]]+n[s]*n[s]))/(2*a-2*n[s]);o<=i[s];)s--,o=(e[a]+a*a-(e[n[s]]+n[s]*n[s]))/(2*a-2*n[s]);n[++s]=a,i[s]=o,i[s+1]=Number.MAX_SAFE_INTEGER}for(var c=0,A=0;c<r;c++){for(;i[A+1]<c;)A++;t[c]=(c-n[A])*(c-n[A])+e[n[A]]}}Vn.add("shader/SDFFont.vert",`uniform float clipNear;
uniform float clipRadius;
uniform vec3 clipCenter;
uniform float xOffset;
uniform float yOffset;
uniform float zOffset;
uniform bool ortho;
uniform float canvasHeight;
uniform float pixelRatio;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
varying vec2 texCoord;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#endif
attribute vec2 mapping;
attribute vec2 inputTexCoord;
attribute float inputSize;
#include matrix_scale
#include common
void main(void){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
texCoord = inputTexCoord;
float scale = matrixScale( modelViewMatrix );
float _xOffset = xOffset * scale;
float _yOffset = yOffset * scale;
float _zOffset = zOffset * scale;
if( texCoord.x == 10.0 ){
_zOffset -= 0.001;
}
vec4 cameraPos = modelViewMatrix * vec4( position, 1.0 );
#ifdef FIXED_SIZE
if ( ortho ) {
scale /= pixelRatio * (( canvasHeight / 2.0 ) / -cameraPosition.z) * 0.1;
} else {
scale /= pixelRatio * (( canvasHeight / 2.0 ) / -cameraPos.z) * 0.1;
}
#endif
vec4 cameraCornerPos = vec4( cameraPos.xyz, 1.0 );
cameraCornerPos.xy += mapping * inputSize * 0.01 * scale;
cameraCornerPos.x += _xOffset;
cameraCornerPos.y += _yOffset;
if( ortho ){
cameraCornerPos.xyz += normalize( -cameraPosition ) * _zOffset;
} else {
cameraCornerPos.xyz += normalize( -cameraCornerPos.xyz ) * _zOffset;
}
gl_Position = projectionMatrix * cameraCornerPos;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
vViewPosition = -cameraCornerPos.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
#include radiusclip_vertex
}`),Vn.add("shader/SDFFont.frag",`uniform sampler2D fontTexture;
uniform float opacity;
uniform bool showBorder;
uniform vec3 borderColor;
uniform float borderWidth;
uniform vec3 backgroundColor;
uniform float backgroundOpacity;
uniform float clipNear;
uniform float clipRadius;
varying vec3 vViewPosition;
varying vec2 texCoord;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
const vec3 vColor = vec3( 0.0 );
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
#endif
const float gamma = 2.2 * 1.4142 / 128.0;
const float padding = 0.75;
void main(){
#include nearclip_fragment
#include radiusclip_fragment
if( texCoord.x > 1.0 ){
gl_FragColor = vec4( backgroundColor, backgroundOpacity );
}else{
float sdf = texture2D( fontTexture, texCoord ).a;
if( showBorder ) sdf += borderWidth;
float a = smoothstep(padding - gamma, padding + gamma, sdf);
if( a < 0.2 ) discard;
a *= opacity;
vec3 outgoingLight = vColor;
if( showBorder && sdf < ( padding + borderWidth ) ){
outgoingLight = borderColor;
}
gl_FragColor = vec4( outgoingLight, a );
}
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var uE={},Wle={font:"sans-serif",size:36,style:"normal",variant:"normal",weight:"normal",outline:3,width:1024,height:1024},_g=function(e){e===void 0&&(e={}),this.gamma=1,this.mapped={},this.scratchW=0,this.scratchH=0,this.currentX=0,this.currentY=0,this.cutoff=.25,this.parameters=As(e,Wle);var t=this.parameters;this.radius=t.size/8,this.padding=t.size/3;var n=this.lineHeight=t.size+2*t.outline+Math.round(t.size/4),i=this.maxWidth=t.width/4,r=this.canvas=document.createElement("canvas");r.width=i,r.height=n;var a=this.context=this.canvas.getContext("2d");a.font=t.style+" "+t.variant+" "+t.weight+" "+t.size+"px "+t.font,a.fillStyle="black",a.textAlign="left",a.textBaseline="bottom",a.lineJoin="round",this.gridOuter=new Float64Array(n*i),this.gridInner=new Float64Array(n*i),this.f=new Float64Array(Math.max(n,i)),this.d=new Float64Array(Math.max(n,i)),this.z=new Float64Array(Math.max(n,i)+1),this.v=new Int16Array(Math.max(n,i)),this.data=new Uint8Array(t.width*t.height*4),this.canvas2=document.createElement("canvas"),this.canvas2.width=t.width,this.canvas2.height=t.height,this.context2=this.canvas2.getContext("2d"),this.placeholder=this.map(String.fromCharCode(65533));for(var s=32;s<=126;++s)this.map(String.fromCharCode(s));this.map(String.fromCharCode(176)),this.map(String.fromCharCode(8491)),this.texture=new mh(this.canvas2),this.texture.flipY=!1,this.texture.needsUpdate=!0};_g.prototype.map=function(e){var t=this.parameters;return this.mapped[e]===void 0&&(this.draw(e),this.currentX+this.scratchW>t.width&&(this.currentX=0,this.currentY+=this.scratchH),this.currentY+this.scratchH>t.height&&console.warn("canvas to small"),this.mapped[e]={x:this.currentX,y:this.currentY,w:this.scratchW,h:this.scratchH},this.context2.drawImage(this.canvas,0,0,this.scratchW,this.scratchH,this.currentX,this.currentY,this.scratchW,this.scratchH),this.currentX+=this.scratchW),this.mapped[e]},_g.prototype.get=function(e){return this.mapped[e]||this.placeholder},_g.prototype.draw=function(e){var t=this.parameters,n=this.lineHeight,i=t.outline,r=this.context,a=this.maxWidth,s=i,o=n-t.outline,c=r.measureText(e),A=Math.min(a,Math.ceil(c.width+2*s+1)),l=A*n;r.clearRect(0,0,A,n),r.fillText(e,s,o);for(var u=r.getImageData(0,0,A,n),d=u.data,p=0;p<l;p++){var h=u.data[4*p+3]/255;this.gridOuter[p]=h===1?0:h===0?Number.MAX_SAFE_INTEGER:Math.pow(Math.max(0,.5-h),2),this.gridInner[p]=h===1?Number.MAX_SAFE_INTEGER:h===0?0:Math.pow(Math.max(0,h-.5),2)}eS(this.gridOuter,A,n,this.f,this.d,this.v,this.z),eS(this.gridInner,A,n,this.f,this.d,this.v,this.z);for(var g=0;g<l;g++){var b=this.gridOuter[g]-this.gridInner[g];d[4*g+3]=Math.max(0,Math.min(255,Math.round(255-255*(b/this.radius+this.cutoff))))}r.putImageData(u,0,0),this.scratchW=A,this.scratchH=n};var $le=Object.assign({fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"bold",fontSize:36,xOffset:0,yOffset:0,zOffset:.5,attachment:"bottom-left",showBorder:!1,borderColor:"lightgrey",borderWidth:.15,showBackground:!1,backgroundColor:"lightgrey",backgroundMargin:.5,backgroundOpacity:1,forceTransparent:!0,fixedSize:!1},ga),jle=Object.assign({fontFamily:{uniform:!0},fontStyle:{uniform:!0},fontWeight:{uniform:!0},fontSize:{uniform:!0},xOffset:{uniform:!0},yOffset:{uniform:!0},zOffset:{uniform:!0},showBorder:{uniform:!0},borderColor:{uniform:!0},borderWidth:{uniform:!0},backgroundColor:{uniform:!0},backgroundOpacity:{uniform:!0},fixedSize:{updateShader:!0}},Hl);function nS(e,t){for(var n=e.position.length/3,i=0,r=0;r<n;++r)i+=e.text[r].length;return t.showBackground&&(i+=n),i}var ap=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,{position:new Float32Array(3*nS(i,r)),color:new Float32Array(3*nS(i,r)),picking:new xAe},r),this.parameterTypes=jle,this.alwaysTransparent=!0,this.hasWireframe=!1,this.isText=!0,this.vertexShader="SDFFont.vert",this.fragmentShader="SDFFont.frag",this.text=i.text,this.positionCount=i.position.length/3,this.addUniforms({fontTexture:{value:null},xOffset:{value:this.parameters.xOffset},yOffset:{value:this.parameters.yOffset},zOffset:{value:this.parameters.zOffset},ortho:{value:!1},showBorder:{value:this.parameters.showBorder},borderColor:{value:new pt(this.parameters.borderColor)},borderWidth:{value:this.parameters.borderWidth},backgroundColor:{value:new pt(this.parameters.backgroundColor)},backgroundOpacity:{value:this.parameters.backgroundOpacity},canvasHeight:{value:1},pixelRatio:{value:1}}),this.addAttributes({inputTexCoord:{type:"v2",value:null},inputSize:{type:"f",value:null}}),this.setAttributes(i),this.makeTexture(),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return $le},t.prototype.makeMaterial=function(){e.prototype.makeMaterial.call(this);var i=this.texture,r=this.material;r.transparent=!0,r.extensions.derivatives=!0,r.lights=!1,r.uniforms.fontTexture.value=i,r.needsUpdate=!0;var a=this.wireframeMaterial;a.transparent=!0,a.extensions.derivatives=!0,a.lights=!1,a.uniforms.fontTexture.value=i,a.needsUpdate=!0;var s=this.pickingMaterial;s.extensions.derivatives=!0,s.lights=!1,s.uniforms.fontTexture.value=i,s.needsUpdate=!0},t.prototype.setAttributes=function(i){var r,a,s,o,c,A;i===void 0&&(i={});var l=this.text,u=this.geometry.attributes;i.position&&(r=i.position,o=u.position.array,u.position.needsUpdate=!0),i.size&&(a=i.size,c=u.inputSize.array,u.inputSize.needsUpdate=!0),i.color&&(s=i.color,A=u.color.array,u.color.needsUpdate=!0);for(var d,p,h,g,b=this.positionCount,y=0,v=0;v<b;++v)for(p=3*v,g=l[v].length,this.parameters.showBackground&&(g+=1),h=0;h<g;++h,++y)for(var _=0;_<4;_++)d=4*y*3+3*_,r&&(o[d]=r[p],o[d+1]=r[p+1],o[d+2]=r[p+2]),a&&(c[4*y+_]=a[v]),s&&(A[d]=s[p],A[d+1]=s[p+1],A[d+2]=s[p+2])},t.prototype.makeTexture=function(){var i,r;this.textAtlas=(i={font:this.parameters.fontFamily,style:this.parameters.fontStyle,weight:this.parameters.fontWeight,size:this.parameters.fontSize},r=JSON.stringify(i),uE[r]===void 0&&(uE[r]=new _g(i)),uE[r]),this.texture=this.textAtlas.texture},t.prototype.makeMapping=function(){for(var i,r,a,s,o,c,A,l,u=this.textAtlas,d=this.text,p=this.parameters.attachment,h=u.lineHeight*this.parameters.backgroundMargin*.1-10,g=this.geometry.attributes,b=g.inputTexCoord.array,y=g.mapping.array,v=this.positionCount,_=0,w=0;w<v;++w){for(s=0,c=(a=d[w]).length,o=0;o<c;++o)s+=(i=u.get(a[o])).w-2*u.parameters.outline;for(l=p.startsWith("top")?u.lineHeight/1.25:p.startsWith("middle")?u.lineHeight/2.5:0,A=p.endsWith("right")?s:p.endsWith("center")?s/2:0,A+=u.parameters.outline,l+=u.parameters.outline,this.parameters.showBackground&&(y[(r=2*_*4)+0]=-u.lineHeight/6-A-h,y[r+1]=u.lineHeight-l+h,y[r+2]=-u.lineHeight/6-A-h,y[r+3]=0-l-h,y[r+4]=s+u.lineHeight/6-A+2*u.parameters.outline+h,y[r+5]=u.lineHeight-l+h,y[r+6]=s+u.lineHeight/6-A+2*u.parameters.outline+h,y[r+7]=0-l-h,b[r+0]=10,b[r+2]=10,b[r+4]=10,b[r+6]=10,_+=1),s=0,o=0;o<c;++o,++_){i=u.get(a[o]),y[(r=2*_*4)+0]=s-A,y[r+1]=i.h-l,y[r+2]=s-A,y[r+3]=0-l,y[r+4]=s+i.w-A,y[r+5]=i.h-l,y[r+6]=s+i.w-A,y[r+7]=0-l;var E=u.parameters.width,B=u.parameters.height,R=[i.x/E,i.y/B,i.x/E,(i.y+i.h)/B,(i.x+i.w)/E,i.y/B,(i.x+i.w)/E,(i.y+i.h)/B];b.set(R,r),s+=i.w-2*u.parameters.outline}}g.inputTexCoord.needsUpdate=!0,g.mapping.needsUpdate=!0},t.prototype.getDefines=function(i){var r=e.prototype.getDefines.call(this,i);return this.parameters.fixedSize&&(r.FIXED_SIZE=1),r},t.prototype.setUniforms=function(i){!i||i.fontFamily===void 0&&i.fontStyle===void 0&&i.fontWeight===void 0&&i.fontSize===void 0||(this.makeTexture(),this.makeMapping(),this.texture.needsUpdate=!0,i.fontTexture=this.texture),e.prototype.setUniforms.call(this,i)},Object.defineProperties(t.prototype,n),t}(O7);ls.add("text",ap),Vn.add("shader/WideLine.vert",`
uniform float clipNear;
uniform vec3 clipCenter;
uniform float linewidth;
uniform vec2 resolution;
uniform mat4 projectionMatrixInverse;
attribute vec2 mapping;
attribute vec3 position1;
attribute vec3 position2;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor;
varying vec3 vColor2;
varying float flag;
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
void trimSegment( const in vec4 start, inout vec4 end ) {
float a = projectionMatrix[ 2 ][ 2 ]; float b = projectionMatrix[ 3 ][ 2 ]; float nearEstimate = - 0.5 * b / a;
float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );
end.xyz = mix( start.xyz, end.xyz, alpha );
}
void main() {
float aspect = resolution.x / resolution.y;
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
flag = mapping.y;
vColor = color;
vColor2 = color2;
#endif
vec4 start = modelViewMatrix * vec4( position1, 1.0 );
vec4 end = modelViewMatrix * vec4( position2, 1.0 );
bool perspective = ( projectionMatrix[ 2 ][ 3 ] == -1.0 ); if ( perspective ) {
if ( start.z < 0.0 && end.z >= 0.0 ) {
trimSegment( start, end );
} else if ( end.z < 0.0 && start.z >= 0.0 ) {
trimSegment( end, start );
}
}
vec4 clipStart = projectionMatrix * start;
vec4 clipEnd = projectionMatrix * end;
vec2 ndcStart = clipStart.xy / clipStart.w;
vec2 ndcEnd = clipEnd.xy / clipEnd.w;
vec2 dir = ndcEnd - ndcStart;
dir.x *= aspect;
dir = normalize( dir );
vec2 offset = vec2( dir.y, - dir.x );
dir.x /= aspect;
offset.x /= aspect;
if ( mapping.x < 0.0 ) offset *= - 1.0;
offset *= linewidth;
offset /= resolution.y;
vec4 clip = ( mapping.y < 0.5 ) ? clipStart : clipEnd;
offset *= clip.w;
clip.xy += offset;
gl_Position = clip;
#ifndef PICKING
vViewPosition = ( projectionMatrixInverse * clip ).xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),Vn.add("shader/WideLine.frag",`uniform vec3 diffuse;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include fog_pars_fragment
varying vec3 vViewPosition;
varying vec3 vColor;
varying vec3 vColor2;
varying float flag;
#endif
void main() {
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 outgoingLight = vec3( 0.0 );
vec4 diffuseColor = vec4( diffuse, 1.0 );
if ( flag < 0.0 ) {
diffuseColor.rgb *= vColor;
} else {
diffuseColor.rgb *= vColor2;
}
#include alphatest_fragment
outgoingLight = diffuseColor.rgb;
gl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var Yle=Object.assign({linewidth:2},ga),qle=Object.assign({linewidth:{uniform:!0}},Hl),p0=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r),this.parameterTypes=qle,this.vertexShader="WideLine.vert",this.fragmentShader="WideLine.frag",!i.color2&&i.color&&(i.color2=i.color),this.addUniforms({linewidth:{value:this.parameters.linewidth},resolution:{value:new et},projectionMatrixInverse:{value:new st}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null}}),this.setAttributes(i),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return Yle},t.prototype.setParameters=function(i){e.prototype.setParameters.call(this,i)},Object.defineProperties(t.prototype,n),t}(O7);ls.add("wideline",p0);var Xle=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="angle",this.parameters=Object.assign({atomTriple:{type:"hidden",rebuild:!0},vectorVisible:{type:"boolean",default:!0},arcVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.side=z(i.side,"double"),i.opacity=z(i.opacity,.5),this.atomTriple=z(i.atomTriple,[]),this.arcVisible=z(i.arcVisible,!0),this.sectorVisible=z(i.sectorVisible,!0),this.vectorVisible=z(i.vectorVisible,!0),e.prototype.init.call(this,i)},t.prototype.createData=function(n){if(n.atomCount&&this.atomTriple.length){var i=function(c,A){return function(l){for(var u=[],d=l.length/9,p=0;p<d;p++){for(var h=!0,g=p;g<p+3;g+=3)l[g]===l[g+3]&&l[g+1]===l[g+4]&&l[g+2]===l[g+5]&&(h=!1);h&&u.push(p)}var b=new Float32Array(9*u.length),y=0;return u.forEach(function(v){lr(l,b,9*v,9*y,9),y++}),b}(K7(c,A))}(n,this.atomTriple),r=function(c,A){A===void 0&&(A={});for(var l=z(A.angleStep,Math.PI/90),u=c.length/9,d=new Float32Array(u),p=new Float32Array(3*u),h=new Array(u),g=new Float32Array(6*u),b=new Float32Array(6*u),y=new Array(u),v=new Array(u),_=new Array(u),w=0,E=un(),B=un(),R=un(),G=un(),C=un(),O=un(),I=un(),D=un(),k=un(),L=function(me){var pe=9*me;da(E,c,pe),da(B,c,pe+3),da(R,c,pe+6);var Ee=6*me;yn(E,g,Ee),yn(B,b,Ee),yn(B,g,Ee+3),yn(R,b,Ee+3),Ii(G,E,B),Ii(C,R,B),ki(G,G),ki(C,C),Ua(O,G,C);var ee=AA(O),ie=Ga(G,C),oe=d[me]=Math.atan2(ee,ie);h[me]=(iI*oe).toFixed(1)+String.fromCharCode(176),AA(O)===0&&(O[0]=1,O[1]=0,O[2]=0),Ua(I,O,G),ki(I,I),uo(D,B,G,I,oe/2),yn(D,p,3*me);var he=Math.ceil(oe/l),Re=new Float32Array(9*he);_[me]=Re;var Ge=new Float32Array(3*he),Le=new Float32Array(3*he);y[me]=Ge,v[me]=Le,ho(k,B,G);for(var K=function(ve,de){var be=9*de,Pe=3*de;yn(B,Re,be),yn(k,Re,be+3),yn(k,Ge,Pe),uo(k,B,G,I,ve),yn(k,Re,be+6),yn(k,Le,Pe)},Z=0,Ce=l;Ce<oe;Ce+=l)K(Ce,Z),Z++;K(oe,Z),w+=he},T=0;T<u;T++)L(T);for(var H=3*w,W=9*w,j=new Float32Array(H),ce=new Float32Array(H),ue=new Float32Array(W),te=0,re=0,ae=0;ae<u;ae++){var fe=y[ae],ye=v[ae];lr(fe,j,0,re,fe.length),lr(ye,ce,0,re,ye.length),re+=fe.length;var se=_[ae];lr(se,ue,0,te,se.length),te+=se.length}return{labelPosition:p,labelText:h,vectorPosition1:g,vectorPosition2:b,arcPosition1:j,arcPosition2:ce,sectorPosition:ue}}(i),a=this.n=r.labelPosition.length/3,s=new pt(this.labelColor);this.textBuffer=new ap({position:r.labelPosition,size:os(a,this.labelSize),color:li(a,s.r,s.g,s.b),text:r.labelText},this.getLabelBufferParams());var o=new pt(this.colorValue);return this.vectorBuffer=new p0(j_({position1:r.vectorPosition1,position2:r.vectorPosition2,color:li(2*a,o.r,o.g,o.b),color2:li(2*a,o.r,o.g,o.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.vectorVisible,opacity:this.lineOpacity})),this.arcLength=r.arcPosition1.length/3,this.arcBuffer=new p0(j_({position1:r.arcPosition1,position2:r.arcPosition2,color:li(this.arcLength,o.r,o.g,o.b),color2:li(this.arcLength,o.r,o.g,o.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.arcVisible,opacity:this.lineOpacity})),this.sectorLength=r.sectorPosition.length/3,this.sectorBuffer=new d0({position:r.sectorPosition,color:li(this.sectorLength,o.r,o.g,o.b)},this.getBufferParams({visible:this.sectorVisible})),{bufferList:[this.textBuffer,this.vectorBuffer,this.arcBuffer,this.sectorBuffer]}}},t.prototype.updateData=function(n,i){e.prototype.updateData.call(this,n,i);var r={},a={},s={};if(n.color){var o=new pt(this.colorValue);Object.assign(r,{color:li(2*this.n,o.r,o.g,o.b),color2:li(2*this.n,o.r,o.g,o.b)}),Object.assign(a,{color:li(this.arcLength,o.r,o.g,o.b),color2:li(this.arcLength,o.r,o.g,o.b)}),Object.assign(s,{color:li(this.sectorLength,o.r,o.g,o.b)})}this.vectorBuffer.setAttributes(r),this.arcBuffer.setAttributes(a),this.sectorBuffer.setAttributes(s)},t.prototype.setParameters=function(n){return e.prototype.setParameters.call(this,n,{},!1),!n||n.vectorVisible===void 0&&n.arcVisible===void 0&&n.sectorVisible===void 0||this.setVisibility(this.visible),n&&n.lineOpacity&&(this.vectorBuffer.setParameters({opacity:n.lineOpacity}),this.arcBuffer.setParameters({opacity:n.lineOpacity})),n&&n.opacity!==void 0&&(this.vectorBuffer.setParameters({opacity:this.lineOpacity}),this.arcBuffer.setParameters({opacity:this.lineOpacity})),n&&n.linewidth&&(this.vectorBuffer.setParameters({linewidth:n.linewidth}),this.arcBuffer.setParameters({linewidth:n.linewidth})),this},t.prototype.setVisibility=function(n,i){return e.prototype.setVisibility.call(this,n,!0),this.vectorBuffer&&this.vectorBuffer.setVisibility(this.vectorVisible&&this.visible),this.arcBuffer&&this.arcBuffer.setVisibility(this.arcVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),i||this.viewer.requestRender(),this},t}(V7);Ci.add("angle",Xle);var iS=new P,dE=new P,pE=new P,Zle=new P(0,1,0),W7=Object.assign({radialSegments:1,openEnded:!0},ga);function rS(e){e===void 0&&(e={});var t=z(e.radialSegments,10),n=z(e.openEnded,!0),i=new st().makeRotationX(Math.PI/2),r=new o0(1,1,1,t,1,n);return r.applyMatrix4(i),r}var HI=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,function(o,c){c===void 0&&(c={});var A=rS(c),l=o.position1.length,u=A.attributes.position.array.length/3,d=l/3,p=new Float32Array(2*d*u);return K_(d,u,0,p),K_(d,u,d*u,p),{position:new Float32Array(2*l),color:new Float32Array(2*l),primitiveId:p,picking:o.picking}}(i,r),r,rS(r)),this.updateNormals=!0;var a=i.position1.length,s=i.radius.length;this.__center=new Float32Array(a),this._position=new Float32Array(2*a),this._color=new Float32Array(2*a),this._from=new Float32Array(2*a),this._to=new Float32Array(2*a),this._radius=new Float32Array(2*s),this.setAttributes(i,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return W7},t.prototype.applyPositionTransform=function(i,r,a){dE.fromArray(this._from,a),pE.fromArray(this._to,a),i.lookAt(dE,pE,Zle);var s=this._radius[r];iS.set(s,s,dE.distanceTo(pE)),i.scale(iS)},t.prototype.setAttributes=function(i,r){i===void 0&&(i={});var a={};i.position1&&i.position2&&(tc(i.position1,i.position2,this.__center),tc(i.position1,this.__center,this._position),tc(this.__center,i.position2,this._position,i.position1.length),this._from.set(i.position1),this._from.set(this.__center,i.position1.length),this._to.set(this.__center),this._to.set(i.position2,this.__center.length),a.position=this._position),i.color&&i.color2&&(this._color.set(i.color),this._color.set(i.color2,i.color.length),a.color=this._color),i.radius&&(this._radius.set(i.radius),this._radius.set(i.radius,i.radius.length),a.radius=this._radius),e.prototype.setAttributes.call(this,a,r)},Object.defineProperties(t.prototype,n),t}(BA);Vn.add("shader/CylinderImpostor.vert",`
attribute vec3 mapping;
attribute vec3 position1;
attribute vec3 position2;
attribute float radius;
varying vec3 axis;varying vec4 base_radius;varying vec4 end_b;varying vec3 U;varying vec3 V;
varying vec4 w;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor1;
varying vec3 vColor2;
#endif
uniform mat4 modelViewMatrixInverse;
uniform float ortho;
#include matrix_scale
void main(){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
vColor1 = color;
vColor2 = color2;
#endif
base_radius.w = radius * matrixScale( modelViewMatrix );
vec3 center = position;
vec3 dir = normalize( position2 - position1 );
float ext = length( position2 - position1 ) / 2.0;
vec3 cam_dir;
if( ortho == 0.0 ){
cam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 0, 1 ) ).xyz - center;
}else{
cam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 1, 0 ) ).xyz;
}
cam_dir = normalize( cam_dir );
vec3 ldir;
float b = dot( cam_dir, dir );
end_b.w = b;
if( b < 0.0 )
ldir = -ext * dir;
else
ldir = ext * dir;
vec3 left = radius * normalize( cross( cam_dir, ldir ) );
vec3 up = radius * normalize( cross( left, ldir ) );
axis = normalize( normalMatrix * ldir );
U = normalize( normalMatrix * up );
V = normalize( normalMatrix * left );
vec4 base4 = modelViewMatrix * vec4( center - ldir, 1.0 );
base_radius.xyz = base4.xyz / base4.w;
vec4 end4 = modelViewMatrix * vec4( center + ldir, 1.0 );
end_b.xyz = end4.xyz / end4.w;
w = modelViewMatrix * vec4(
center + mapping.x*ldir + mapping.y*left + mapping.z*up, 1.0
);
gl_Position = projectionMatrix * w;
gl_Position.z = 0.99;
}`),Vn.add("shader/CylinderImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform mat4 projectionMatrix;
uniform float ortho;
varying vec3 axis;
varying vec4 base_radius;
varying vec4 end_b;
varying vec3 U;
varying vec3 V;
varying vec4 w;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
varying vec3 vColor1;
varying vec3 vColor2;
#include common
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool interior = false;
float distSq3( vec3 v3a, vec3 v3b ){
return (
( v3a.x - v3b.x ) * ( v3a.x - v3b.x ) +
( v3a.y - v3b.y ) * ( v3a.y - v3b.y ) +
( v3a.z - v3b.z ) * ( v3a.z - v3b.z )
);
}
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
float calcClip( vec3 cameraPos ){
return dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
void main(){
vec3 ray_target = w.xyz / w.w;
vec3 base = base_radius.xyz; float vRadius = base_radius.w; vec3 end = end_b.xyz; float b = end_b.w;
vec3 ray_origin = vec3(0.0); vec3 ortho_ray_direction = vec3(0.0, 0.0, 1.0); vec3 persp_ray_direction = normalize(ray_origin - ray_target);
vec3 ray_direction = mix(persp_ray_direction, ortho_ray_direction, ortho);

mat3 basis = mat3( U, V, axis );
vec3 diff = ray_target - 0.5 * (base + end);

vec3 P = diff * basis;
float dz = dot( axis, ray_direction );
float radius2 = vRadius*vRadius;
vec3 D = vec3(dot(U, ray_direction),
dot(V, ray_direction),
dz);
float a0 = P.x*P.x + P.y*P.y - radius2;
float a1 = P.x*D.x + P.y*D.y;
float a2 = D.x*D.x + D.y*D.y;
float d = a1*a1 - a0*a2;
if (d < 0.0) {
discard;
}
float dist = (-a1 + sqrt(d)) / a2;
vec3 surface_point = ray_target + dist * ray_direction;
vec3 base_to_surface = surface_point - base;
vec3 _normal = normalize( base_to_surface - axis * dot(base_to_surface, axis) );
float base_cap_test = dot( base_to_surface, axis );
float end_cap_test = dot((surface_point - end), axis);
#ifndef CAP
vec3 new_point2 = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
vec3 tmp_point2 = new_point2 - base;
#endif
if (base_cap_test < 0.0) {
float dNV;
float near;
vec3 front_point;
if ( ortho == 1.0 ) {
front_point = ray_target;
} else {
dNV = dot(-axis, ray_direction);
near = dot(-axis, (base)) / dNV;
front_point = ray_direction * near + ray_origin;
}
if (dot(front_point - base, front_point-base) > radius2) {
discard;
}
#ifdef CAP
surface_point = front_point;
_normal = axis;
#else
surface_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
dNV = dot(-axis, ray_direction);
near = dot(axis, end) / dNV;
new_point2 = ray_direction * near + ray_origin;
if (dot(new_point2 - end, new_point2-base) < radius2) {
discard;
}
interior = true;
#endif
}
if( end_cap_test > 0.0 )
{
float dNV;
float near;
vec3 end_point;
if ( ortho == 1.0 ) {
end_point = ray_target;
} else {
dNV = dot(axis, ray_direction);
if (dNV < 0.0) {
discard;
}
near = dot(axis, end) / dNV;
end_point = ray_direction * near + ray_origin;
}

if( dot(end_point - end, end_point-base) > radius2 ) {
discard;
}
#ifdef CAP
surface_point = end_point;
_normal = axis;
#else
surface_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
dNV = dot(-axis, ray_direction);
near = dot(-axis, (base)) / dNV;
new_point2 = ray_direction * near + ray_origin;
if (dot(new_point2 - base, new_point2-base) < radius2) {
discard;
}
interior = true;
#endif
}
gl_FragDepthEXT = calcDepth( surface_point );

#ifdef NEAR_CLIP
if( calcClip( surface_point ) > 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
if( calcClip( surface_point ) > 0.0 ) {
discard;
}
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );
}
}else if( gl_FragDepthEXT <= 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
}
#else
if( gl_FragDepthEXT <= 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
}
#endif
if (gl_FragDepthEXT < 0.0) {
discard;
}
if (gl_FragDepthEXT > 1.0) {
discard;
}
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vViewPosition = -surface_point;
vec3 vNormal = _normal;
vec3 vColor;
if( distSq3( surface_point, end ) < distSq3( surface_point, base ) ){
if( b < 0.0 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
}else{
if( b > 0.0 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
}
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
vec3 normal = normalize( vNormal );
vec3 geometryNormal = normal;
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var Jle=new Float32Array([-1,1,-1,-1,-1,-1,1,1,-1,1,1,1,1,-1,-1,1,-1,1]),eue=new Uint16Array([0,1,2,1,4,2,2,4,3,4,5,3]),tue=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,"v3",i,r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return n.mapping.get=function(){return Jle},n.mappingIndices.get=function(){return eue},n.mappingIndicesSize.get=function(){return 12},n.mappingSize.get=function(){return 6},n.mappingItemSize.get=function(){return 3},Object.defineProperties(t.prototype,n),t}(k7),QI=Object.assign({openEnded:!1},ga),nue=Object.assign({openEnded:{updateShader:!0}},Hl),iue=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r),this.parameterTypes=nue,this.isImpostor=!0,this.vertexShader="CylinderImpostor.vert",this.fragmentShader="CylinderImpostor.frag",this.addUniforms({modelViewMatrixInverse:{value:new st},ortho:{value:0}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null}}),this.setAttributes(i),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return QI},t.prototype.getDefines=function(i){var r=e.prototype.getDefines.call(this,i);return this.parameters.openEnded||(r.CAP=1),r},Object.defineProperties(t.prototype,n),t}(tue);Object.assign({disableImpostor:!1},W7,QI);var y0=function(e,t){return t===void 0&&(t={}),!e.color2&&e.color&&(e.color2=e.color),!ec||t&&t.disableImpostor?new HI(e,t):new iue(e,t)};ls.add("cylinder",y0);var rue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="axes",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0,showAxes:{type:"boolean",rebuild:!0},showBox:{type:"boolean",rebuild:!0}},this.parameters,{assembly:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.radiusSize=z(i.radiusSize,.5),i.colorValue=z(i.colorValue,"lightgreen"),i.useInteriorColor=z(i.useInteriorColor,!0),this.showAxes=z(i.showAxes,!0),this.showBox=z(i.showBox,!1),e.prototype.init.call(this,i)},t.prototype.getPrincipalAxes=function(){var n,i=this.getAssembly();return i&&(n=i.partList[0].getSelection()),this.structureView.getPrincipalAxes(n)},t.prototype.getAxesData=function(n){var i=this.getPrincipalAxes(),r=new pt(this.colorValue),a=0,s=0;this.showAxes&&(a+=6,s+=3),this.showBox&&(a+=8,s+=12);var o=new Float32Array(3*a),c=li(a,r.r,r.g,r.b),A=os(a,this.radiusSize),l=new Float32Array(3*s),u=new Float32Array(3*s),d=li(s,r.r,r.g,r.b),p=os(s,this.radiusSize),h=0;if(this.showAxes){var g=function(k,L){k.toArray(o,2*h),L.toArray(o,2*h+3),k.toArray(l,h),L.toArray(u,h),h+=3};g(i.begA,i.endA),g(i.begB,i.endB),g(i.begC,i.endC)}if(this.showBox){var b=new P,y=i.getProjectedScaleForAtoms(n),v=y.d1a,_=y.d2a,w=y.d3a,E=y.d1b,B=y.d2b,R=y.d3b,G=2*h,C=function(k,L,T){b.copy(i.center).addScaledVector(i.normVecA,k).addScaledVector(i.normVecB,L).addScaledVector(i.normVecC,T),b.toArray(o,G),G+=3};C(v,_,w),C(v,_,R),C(v,B,R),C(v,B,w),C(E,B,R),C(E,B,w),C(E,_,w),C(E,_,R);var O=h,I=function(k,L){b.fromArray(o,2*h+3*k).toArray(l,O),b.fromArray(o,2*h+3*L).toArray(u,O),O+=3};I(0,1),I(0,3),I(0,6),I(1,2),I(1,7),I(2,3),I(2,4),I(3,5),I(4,5),I(4,7),I(5,6),I(6,7)}var D=new mAe(i);return{vertex:{position:o,color:c,radius:A,picking:D},edge:{position1:l,position2:u,color:d,color2:d,radius:p,picking:D}}},t.prototype.create=function(){var n=this.getAxesData(this.structureView);this.sphereBuffer=new RA(n.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new y0(n.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})},t.prototype.createData=function(n){},t.prototype.updateData=function(n,i){var r=this.getAxesData(i.sview),a={},s={};n&&!n.position||(Object.assign(a,{position:r.vertex.position}),Object.assign(s,{position1:r.edge.position1,position2:r.edge.position2})),n&&!n.color||(Object.assign(a,{color:r.vertex.color}),Object.assign(s,{color:r.edge.color,color2:r.edge.color})),n&&!n.radius||(Object.assign(a,{radius:r.vertex.radius}),Object.assign(s,{radius:r.edge.radius})),this.sphereBuffer.setAttributes(a),this.cylinderBuffer.setAttributes(s)},t}(Or);Ci.add("axes",rue);var z2=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="ball+stick",this.parameters=Object.assign({sphereDetail:!0,radialSegments:!0,openEnded:!0,disableImpostor:!0,aspectRatio:{type:"number",precision:1,max:10,min:1},lineOnly:{type:"boolean",rebuild:!0},cylinderOnly:{type:"boolean",rebuild:!0},multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondScale:{type:"number",precision:2,max:1,min:.01},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.radiusType=z(i.radiusType,"size"),i.radiusSize=z(i.radiusSize,.15),i.useInteriorColor=z(i.useInteriorColor,!0),this.aspectRatio=z(i.aspectRatio,2),this.lineOnly=z(i.lineOnly,!1),this.cylinderOnly=z(i.cylinderOnly,!1),this.multipleBond=z(i.multipleBond,"off"),this.bondSpacing=z(i.bondSpacing,1),this.bondScale=z(i.bondScale,.4),this.linewidth=z(i.linewidth,2),e.prototype.init.call(this,i)},t.prototype.getAtomRadius=function(n){return this.aspectRatio*e.prototype.getAtomRadius.call(this,n)},t.prototype.getAtomParams=function(n,i){var r=e.prototype.getAtomParams.call(this,n,i);return r.radiusParams.scale*=this.aspectRatio,r},t.prototype.getAtomData=function(n,i,r){return n.getAtomData(this.getAtomParams(i,r))},t.prototype.getBondParams=function(n,i){return i=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,bondScale:this.bondScale},i),e.prototype.getBondParams.call(this,n,i)},t.prototype.getBondData=function(n,i,r){return n.getBondData(this.getBondParams(i,r))},t.prototype.createData=function(n){var i=[];if(this.lineOnly)this.lineBuffer=new p0(this.getBondData(n,{position:!0,color:!0,picking:!0}),this.getBufferParams({linewidth:this.linewidth})),i.push(this.lineBuffer);else{var r=new y0(this.getBondData(n),this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}));if(i.push(r),!this.cylinderOnly){var a=new RA(this.getAtomData(n),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));i.push(a)}}return{bufferList:i}},t.prototype.updateData=function(n,i){this.multipleBond!=="off"&&n&&n.radius&&(n.position=!0);var r=this.getBondData(i.sview,n);if(this.lineOnly){var a={};n&&!n.position||Object.assign(a,{position1:r.position1,position2:r.position2}),n&&!n.color||Object.assign(a,{color:r.color,color2:r.color2}),i.bufferList[0].setAttributes(a)}else{var s={};if(n&&!n.position||Object.assign(s,{position1:r.position1,position2:r.position2}),n&&!n.color||Object.assign(s,{color:r.color,color2:r.color2}),n&&!n.radius||Object.assign(s,{radius:r.radius}),i.bufferList[0].setAttributes(s),!this.cylinderOnly){var o=this.getAtomData(i.sview,n),c={};n&&!n.position||Object.assign(c,{position:o.position}),n&&!n.color||Object.assign(c,{color:o.color}),n&&!n.radius||Object.assign(c,{radius:o.radius}),i.bufferList[1].setAttributes(c)}}},t.prototype.setParameters=function(n){n===void 0&&(n={});var i=!1,r={};return(n.aspectRatio||n.bondSpacing||n.bondScale)&&(Object.assign(r,{radius:!0}),ec&&!this.disableImpostor||(i=!0)),e.prototype.setParameters.call(this,n,r,i),this},t}(Or);Ci.add("ball+stick",z2);var aue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="backbone",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.aspectRatio=z(i.aspectRatio,1),i.radiusSize=z(i.radiusSize,.25),e.prototype.init.call(this,i)},t.prototype.getAtomRadius=function(n){return n.isTrace()?e.prototype.getAtomRadius.call(this,n):0},t.prototype.getAtomData=function(n,i,r){return n.getBackboneAtomData(this.getAtomParams(i,r))},t.prototype.getBondData=function(n,i,r){return n.getBackboneBondData(this.getBondParams(i,r))},t}(z2);Ci.add("backbone",aue);var sue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="base",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.aspectRatio=z(i.aspectRatio,1),i.radiusSize=z(i.radiusSize,.3),e.prototype.init.call(this,i)},t.prototype.getAtomData=function(n,i,r){return n.getRungAtomData(this.getAtomParams(i,r))},t.prototype.getBondData=function(n,i,r){var a=this.getBondParams(i,r);return Object.assign(a.colorParams,{rung:!0}),n.getRungBondData(a)},t}(z2);Ci.add("base",sue);var Rr=function(e,t){this.m=e,this.tension=t,this.dt=1/this.m,this.delta=1e-4,this.vec1=new P,this.vec2=new P,this.vDir=new P,this.vTan=new P,this.vNorm=new P,this.vBin=new P,this.m2=Math.ceil(this.m/2)};Rr.prototype.interpolateToArr=function(e,t,n,i,r,a,s){a[s+0]=Vc(e.x,t.x,n.x,i.x,r,this.tension),a[s+1]=Vc(e.y,t.y,n.y,i.y,r,this.tension),a[s+2]=Vc(e.z,t.z,n.z,i.z,r,this.tension)},Rr.prototype.interpolateToVec=function(e,t,n,i,r,a){a.x=Vc(e.x,t.x,n.x,i.x,r,this.tension),a.y=Vc(e.y,t.y,n.y,i.y,r,this.tension),a.z=Vc(e.z,t.z,n.z,i.z,r,this.tension)},Rr.prototype.interpolatePosition=function(e,t,n,i,r,a){for(var s=0;s<this.m;++s){var o=a+3*s,c=this.dt*s;this.interpolateToArr(e,t,n,i,c,r,o)}},Rr.prototype.interpolateTangent=function(e,t,n,i,r,a){for(var s=0;s<this.m;++s){var o=this.dt*s,c=o-this.delta,A=o+this.delta,l=a+3*s;c<0&&(c=0),A>1&&(A=1),this.interpolateToVec(e,t,n,i,c,this.vec1),this.interpolateToVec(e,t,n,i,A,this.vec2),this.vec2.sub(this.vec1).normalize(),this.vec2.toArray(r,l)}},Rr.prototype.vectorSubdivide=function(e,t,n,i,r){for(var a,s=t.next(),o=t.next(),c=t.next(),A=t.size,l=A-1,u=i||0,d=0;d<l;++d)a=s,s=o,o=c,c=t.next(),e.apply(this,[a,s,o,c,n,u]),u+=3*this.m;r&&(a=t.get(A-2),s=t.get(A-1),o=t.get(0),c=t.get(1),e.apply(this,[a,s,o,c,n,u]),u+=3*this.m)},Rr.prototype.getPosition=function(e,t,n,i){e.reset(),this.vectorSubdivide(this.interpolatePosition,e,t,n,i);var r=e.size-1,a=r*this.m*3;i&&(a+=3*this.m);var s=e.get(i?0:r);t[a]=s.x,t[a+1]=s.y,t[a+2]=s.z},Rr.prototype.getTangent=function(e,t,n,i){e.reset(),this.vectorSubdivide(this.interpolateTangent,e,t,n,i);var r=(e.size-1)*this.m*3;i&&(r+=3*this.m),lr(t,t,r-3,r,3)},Rr.prototype.interpolateNormalDir=function(e,t,n,i,r,a,s,o,c,A,l,u,d){for(var p=0;p<this.m;++p){var h=u+3*p;d&&(h+=3*this.m2);var g=this.dt*p;this.interpolateToVec(e,t,n,i,g,this.vec1),this.interpolateToVec(r,a,s,o,g,this.vec2),this.vDir.subVectors(this.vec2,this.vec1).normalize(),this.vTan.fromArray(c,h),this.vBin.crossVectors(this.vDir,this.vTan).normalize(),this.vBin.toArray(l,h),this.vNorm.crossVectors(this.vTan,this.vBin).normalize(),this.vNorm.toArray(A,h)}},Rr.prototype.interpolateNormal=function(e,t,n,i,r){for(var a=0;a<this.m;++a){var s=r+3*a;e.copy(this.vNorm),this.vTan.fromArray(t,s),this.vBin.crossVectors(e,this.vTan).normalize(),this.vBin.toArray(i,s),this.vNorm.crossVectors(this.vTan,this.vBin).normalize(),this.vNorm.toArray(n,s)}},Rr.prototype.getNormal=function(e,t,n,i,r,a){this.vNorm.set(0,0,1);for(var s=e-1,o=r||0,c=0;c<s;++c)this.interpolateNormal(this.vDir,t,n,i,o),o+=3*this.m;a&&(this.interpolateNormal(this.vDir,t,n,i,o),o+=3*this.m),this.vBin.toArray(i,o),this.vNorm.toArray(n,o)},Rr.prototype.getNormalDir=function(e,t,n,i,r,a,s,o){e.reset(),t.reset();var c=new P,A=new P,l=new P,u=new P,d=new P,p=new P().copy(e.next()),h=new P().copy(e.next()),g=new P().copy(e.next()),b=new P,y=new P().copy(t.next()),v=new P().copy(t.next()),_=new P().copy(t.next());this.vNorm.set(0,0,1);for(var w=e.size,E=w-1,B=a||0,R=0;R<E;++R)d.copy(p),p.copy(h),h.copy(g),g.copy(e.next()),b.copy(y),y.copy(v),v.copy(_),_.copy(t.next()),R===0?(c.subVectors(b,d),A.subVectors(y,p),c.dot(A)<0&&(A.multiplyScalar(-1),y.addVectors(p,A)),l.subVectors(v,h),A.dot(l)<0&&(l.multiplyScalar(-1),v.addVectors(h,l))):l.copy(u),u.subVectors(_,g),l.dot(u)<0&&(u.multiplyScalar(-1),_.addVectors(g,u)),this.interpolateNormalDir(d,p,h,g,b,y,v,_,n,i,r,B,o),B+=3*this.m;if(s&&(d.copy(e.get(w-2)),p.copy(e.get(w-1)),h.copy(e.get(0)),g.copy(e.get(1)),b.copy(t.get(w-2)),y.copy(t.get(w-1)),v.copy(t.get(0)),_.copy(t.get(1)),l.copy(u),u.subVectors(_,g),l.dot(u)<0&&(u.multiplyScalar(-1),_.addVectors(g,u)),this.interpolateNormalDir(d,p,h,g,b,y,v,_,n,i,r,B,o),B+=3*this.m),o){this.vBin.fromArray(r,3*this.m2),this.vNorm.fromArray(i,3*this.m2);for(var G=0;G<this.m2;++G)this.vBin.toArray(r,3*G),this.vNorm.toArray(i,3*G)}else this.vBin.toArray(r,B),this.vNorm.toArray(i,B)},Rr.prototype.interpolateColor=function(e,t,n,i,r){var a,s;for(a=0;a<this.m2;++a)s=r+3*a,n.apply(this,[e,i,s]);for(a=this.m2;a<this.m;++a)s=r+3*a,n.apply(this,[t,i,s])},Rr.prototype.getColor=function(e,t,n,i,r){var a;e.reset(),e.next();for(var s=e.next(),o=e.size,c=o-1,A=i||0,l=0;l<c;++l)a=s,s=e.next(),this.interpolateColor(a,s,t,n,A),A+=3*this.m;r&&(a=e.get(o-1),s=e.get(0),this.interpolateColor(a,s,t,n,A),A+=3*this.m),n[A]=n[A-3],n[A+1]=n[A-2],n[A+2]=n[A-1]},Rr.prototype.interpolatePicking=function(e,t,n,i,r){var a;for(a=0;a<this.m2;++a)i[r+a]=n.apply(this,[e]);for(a=this.m2;a<this.m;++a)i[r+a]=n.apply(this,[t])},Rr.prototype.getPicking=function(e,t,n,i,r){var a;e.reset(),e.next();for(var s=e.next(),o=e.size,c=o-1,A=i||0,l=0;l<c;++l)a=s,s=e.next(),this.interpolatePicking(a,s,t,n,A),A+=this.m;r&&(a=e.get(o-1),s=e.get(0),this.interpolatePicking(a,s,t,n,A),A+=this.m),n[A]=n[A-1]},Rr.prototype.interpolateSize=function(e,t,n,i,r){for(var a=n.apply(this,[e]),s=n.apply(this,[t]),o=0;o<this.m;++o){var c=o/this.m;i[r+o]=(1-c)*a+c*s}},Rr.prototype.getSize=function(e,t,n,i,r){var a;e.reset(),e.next();for(var s=e.next(),o=e.size,c=o-1,A=i||0,l=0;l<c;++l)a=s,s=e.next(),this.interpolateSize(a,s,t,n,A),A+=this.m;r&&(a=e.get(o-1),s=e.get(0),this.interpolateSize(a,s,t,n,A),A+=this.m),n[A]=n[A-1]};var la=function(e,t){this.polymer=e,this.size=e.residueCount;var n=t||{};this.directional=n.directional||!1,this.positionIterator=n.positionIterator||!1,this.subdiv=n.subdiv||1,this.smoothSheet=n.smoothSheet||!1,n.tension?this.tension=n.tension:this.tension=this.polymer.isNucleic()?.5:.9,this.interpolator=new Rr(this.subdiv,this.tension)};la.prototype.getAtomIterator=function(e,t){var n=this.polymer,i=n.structure,r=n.residueCount,a=0,s=-1,o=[i.getAtomProxy(),i.getAtomProxy(),i.getAtomProxy(),i.getAtomProxy()],c=[new P,new P,new P,new P],A=i.getAtomProxy(),l=i.getAtomProxy();function u(d){var p=o[a%4];if(p.index=n.getAtomIndexByType(d,e),t&&d>0&&d<r&&p.sstruc==="e"){var h=c[a%4];return A.index=n.getAtomIndexByType(d+1,e),l.index=n.getAtomIndexByType(d-1,e),h.addVectors(A,l).add(p).add(p).multiplyScalar(.25),a+=1,h}return a+=1,p}return{size:r,next:function(){var d=u(s);return s+=1,d},get:u,reset:function(){a=0,s=-1}}},la.prototype.getSubdividedColor=function(e){var t=this.subdiv,n=this.polymer,i=(n.residueCount-1)*t*3+3;n.isCyclic&&(i+=3*t);var r=new Float32Array(i),a=this.getAtomIterator("trace"),s=e||{};s.structure=n.structure;var o=Nn.getScheme(s);return this.interpolator.getColor(a,function(c,A,l){o.atomColorToArray(c,A,l)},r,0,n.isCyclic),{color:r}},la.prototype.getSubdividedPicking=function(){var e=this.subdiv,t=this.polymer,n=(t.residueCount-1)*e+1;t.isCyclic&&(n+=e);var i=t.structure,r=this.getAtomIterator("trace"),a=new Float32Array(n);return this.interpolator.getPicking(r,function(s){return s.index},a,0,t.isCyclic),{picking:new Ol(a,i)}},la.prototype.getSubdividedPosition=function(){return{position:this.getPosition()}},la.prototype.getSubdividedOrientation=function(){var e=this.getTangent(),t=this.getNormals(e);return{tangent:e,normal:t.normal,binormal:t.binormal}},la.prototype.getSubdividedSize=function(e){var t=this.subdiv,n=this.polymer,i=(n.residueCount-1)*t+1;n.isCyclic&&(i+=t);var r=new Float32Array(i),a=this.getAtomIterator("trace"),s=new Ac(e);return this.interpolator.getSize(a,function(o){return s.atomRadius(o)},r,0,n.isCyclic),{size:r}},la.prototype.getPosition=function(){var e=this.subdiv,t=this.polymer,n=(t.residueCount-1)*e*3+3;t.isCyclic&&(n+=3*e);var i=new Float32Array(n),r=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getPosition(r,i,0,t.isCyclic),i},la.prototype.getTangent=function(){var e=this.subdiv,t=this.polymer,n=(this.size-1)*e*3+3;t.isCyclic&&(n+=3*e);var i=new Float32Array(n),r=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getTangent(r,i,0,t.isCyclic),i},la.prototype.getNormals=function(e){var t=this.subdiv,n=this.polymer,i=n.isProtein(),r=this.size,a=(r-1)*t*3+3;n.isCyclic&&(a+=3*t);var s=new Float32Array(a),o=new Float32Array(a);if(this.directional&&!this.polymer.isCg()){var c=this.getAtomIterator("direction1"),A=this.getAtomIterator("direction2");this.interpolator.getNormalDir(c,A,e,s,o,0,n.isCyclic,i)}else this.interpolator.getNormal(r,e,s,o,0,n.isCyclic);return{normal:s,binormal:o}};var aS=new P,Uy=new P,oue=Object.assign({radialSegments:4,capped:!1,aspectRatio:1},ga),cue=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,function(a,s){s===void 0&&(s={});var o=z(s.radialSegments,4),c=z(s.capped,!1),A=c?o:0,l=c?o-2:0,u=a.position.length/3,d=u*o*3+2*A*3,p=2*(u-1)*o*3+2*l*3;return{position:new Float32Array(d),color:new Float32Array(d),index:cc(p,d/3),normal:new Float32Array(d),picking:a.picking}}(i,r),r),this.capVertices=this.parameters.capped?this.parameters.radialSegments:0,this.capTriangles=this.parameters.capped?this.parameters.radialSegments-2:0,this.size2=i.position.length/3,i.primitiveId=np(this.size2),this.setAttributes(i),this.makeIndex()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return oue},t.prototype.setAttributes=function(i){i===void 0&&(i={});var r,a,s,o,c,A,l,u,d,p,h,g,b,y=this.parameters.aspectRatio,v=this.size2,_=v-1,w=this.parameters.radialSegments,E=this.geometry.attributes;i.position&&(r=i.position,a=i.normal,s=i.binormal,o=i.tangent,A=i.size,u=E.position.array,p=E.normal.array,E.position.needsUpdate=!0,E.normal.needsUpdate=!0),i.color&&(c=i.color,d=E.color.array,E.color.needsUpdate=!0),i.primitiveId&&(l=i.primitiveId,h=E.primitiveId.array,E.primitiveId.needsUpdate=!0);var B=0,R=0,G=0,C=0,O=0,I=0,D=0,k=0,L=0,T=0,H=[],W=[],j=[],ce=[],ue=[],te=[];if(r)for(var re=0;re<w;++re){var ae=re/w*2*Math.PI;H[re]=y*Math.cos(ae),W[re]=Math.sin(ae),j[re]=y*Math.cos(ae-.01),ce[re]=Math.sin(ae-.01),ue[re]=y*Math.cos(ae+.01),te[re]=Math.sin(ae+.01)}for(var fe=0;fe<v;++fe){b=(g=3*fe)*w,r&&o&&a&&s&&A&&(aS.set(o[g],o[g+1],o[g+2]),R=a[g],G=a[g+1],C=a[g+2],O=s[g],I=s[g+1],D=s[g+2],k=r[g],L=r[g+1],T=r[g+2],B=A[fe]);for(var ye=0;ye<w;++ye){var se=b+3*ye;if(r){var me=-B*H[ye],pe=B*W[ye],Ee=-B*j[ye],ee=B*ce[ye],ie=-B*ue[ye],oe=B*te[ye];u[se]=k+me*R+pe*O,u[se+1]=L+me*G+pe*I,u[se+2]=T+me*C+pe*D,Uy.set(ie*R+oe*O-(Ee*R+ee*O),ie*G+oe*I-(Ee*G+ee*I),ie*C+oe*D-(Ee*C+ee*D)).cross(aS),p[se]=Uy.x,p[se+1]=Uy.y,p[se+2]=Uy.z}c&&(d[se]=c[g],d[se+1]=c[g+1],d[se+2]=c[g+2]),l&&(h[fe*w+ye]=l[fe])}}g=0,b=3*v*w;for(var he=0;he<w;++he){var Re=g+3*he,Ge=b+3*he;r&&o&&(u[Ge]=u[Re],u[Ge+1]=u[Re+1],u[Ge+2]=u[Re+2],p[Ge]=o[g],p[Ge+1]=o[g+1],p[Ge+2]=o[g+2]),c&&(d[Ge]=d[Re],d[Ge+1]=d[Re+1],d[Ge+2]=d[Re+2]),l&&(h[v*w+he]=h[0+he])}g=3*(v-1)*w,b=3*(v+1)*w;for(var Le=0;Le<w;++Le){var K=g+3*Le,Z=b+3*Le;r&&o&&(u[Z]=u[K],u[Z+1]=u[K+1],u[Z+2]=u[K+2],p[Z]=o[3*_],p[Z+1]=o[3*_+1],p[Z+2]=o[3*_+2]),c&&(d[Z]=d[K],d[Z+1]=d[K+1],d[Z+2]=d[K+2]),l&&(h[(v+1)*w+Le]=h[(v-1)*w+Le])}},t.prototype.makeIndex=function(){var i=this.geometry.getIndex();if(i){for(var r,a,s=i.array,o=this.size2,c=o-1,A=this.capTriangles,l=this.parameters.radialSegments,u=this.parameters.radialSegments+1,d=0;d<c;++d)for(var p=d*l*3*2,h=d*l,g=(d+1)*l,b=0;b<l;++b)s[a=p+3*b*2]=h+b,s[a+1]=h+(b+1)%l,s[a+2]=g+b,s[a+3]=g+b,s[a+4]=h+(b+1)%l,s[a+5]=g+(b+1)%l;for(var y=[0],v=1;v<u/2;++v)y.push(v),l-v!==v&&y.push(l-v);a=c*l*3*2,r=o*l;for(var _=0;_<y.length-2;++_)_%2==0?(s[a+3*_+0]=r+y[_+0],s[a+3*_+1]=r+y[_+1],s[a+3*_+2]=r+y[_+2]):(s[a+3*_+0]=r+y[_+2],s[a+3*_+1]=r+y[_+1],s[a+3*_+2]=r+y[_+0]);a=c*l*3*2+3*A,r=o*l+l;for(var w=0;w<y.length-2;++w)w%2==0?(s[a+3*w+0]=r+y[w+0],s[a+3*w+1]=r+y[w+1],s[a+3*w+2]=r+y[w+2]):(s[a+3*w+0]=r+y[w+2],s[a+3*w+1]=r+y[w+1],s[a+3*w+2]=r+y[w+0])}else De.error("Index is null")},Object.defineProperties(t.prototype,n),t}(d0),$7=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="cartoon",this.parameters=Object.assign({aspectRatio:{type:"number",precision:1,max:10,min:1,rebuild:!0},subdiv:{type:"integer",max:50,min:1,rebuild:!0},radialSegments:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},capped:{type:"boolean",rebuild:!0},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=z(i.colorScheme,"chainname"),i.colorScale=z(i.colorScale,"RdYlBu"),i.radiusType=z(i.radiusType,"sstruc"),i.radiusScale=z(i.radiusScale,.7),i.useInteriorColor=z(i.useInteriorColor,!0),this.aspectRatio=z(i.aspectRatio,5),this.tension=z(i.tension,NaN),this.capped=z(i.capped,!0),this.smoothSheet=z(i.smoothSheet,!1),i.quality==="low"?(this.subdiv=3,this.radialSegments=6):i.quality==="medium"?this.subdiv=6:i.quality==="high"?this.subdiv=12:this.subdiv=z(i.subdiv,6),e.prototype.init.call(this,i)},t.prototype.getSplineParams=function(n){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:this.aspectRatio!==1,smoothSheet:this.smoothSheet},n)},t.prototype.getSpline=function(n){return new la(n,this.getSplineParams())},t.prototype.getAspectRatio=function(n){return n.isCg()?1:this.aspectRatio},t.prototype.getAtomRadius=function(n){return n.isTrace()?e.prototype.getAtomRadius.call(this,n):0},t.prototype.createData=function(n){var i=this,r=[],a=[];return this.structure.eachPolymer(function(s){if(!(s.residueCount<4)){a.push(s);var o=i.getSpline(s),c=i.getAspectRatio(s),A=o.getSubdividedPosition(),l=o.getSubdividedOrientation(),u=o.getSubdividedColor(i.getColorParams()),d=o.getSubdividedPicking(),p=o.getSubdividedSize(i.getRadiusParams());r.push(new cue(Object.assign({},A,l,u,d,p),i.getBufferParams({radialSegments:i.radialSegments,aspectRatio:c,capped:i.capped})))}},n.getSelection()),{bufferList:r,polymerList:a}},t.prototype.updateData=function(n,i){je&&De.time(this.type+" repr update"),n=n||{};for(var r=0,a=i.polymerList.length;r<a;++r){var s={},o=i.polymerList[r],c=this.getSpline(o),A=this.getAspectRatio(o);if(Object.assign(i.bufferList[r],{aspectRatio:A}),n.position||n.radius){var l=c.getSubdividedPosition(),u=c.getSubdividedOrientation(),d=c.getSubdividedSize(this.getRadiusParams(A));s.position=l.position,s.normal=u.normal,s.binormal=u.binormal,s.tangent=u.tangent,s.size=d.size}if(n.color){var p=c.getSubdividedColor(this.getColorParams());s.color=p.color}if(n.picking){var h=c.getSubdividedPicking();s.picking=h.picking}i.bufferList[r].setAttributes(s)}je&&De.timeEnd(this.type+" repr update")},t.prototype.setParameters=function(n){var i={};return n&&n.aspectRatio&&(i.radius=!0),n&&n.tension&&(i.position=!0),e.prototype.setParameters.call(this,n,i,!1),this},t}(Or);Ci.add("cartoon",$7);var Aue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="contact",this.parameters=Object.assign({hydrogenBond:{type:"boolean",rebuild:!0},weakHydrogenBond:{type:"boolean",rebuild:!0},waterHydrogenBond:{type:"boolean",rebuild:!0},backboneHydrogenBond:{type:"boolean",rebuild:!0},hydrophobic:{type:"boolean",rebuild:!0},halogenBond:{type:"boolean",rebuild:!0},ionicInteraction:{type:"boolean",rebuild:!0},metalCoordination:{type:"boolean",rebuild:!0},cationPi:{type:"boolean",rebuild:!0},piStacking:{type:"boolean",rebuild:!0},filterSele:{type:"text",rebuild:!0},labelVisible:{type:"boolean",rebuild:!0},labelFixedSize:{type:"boolean",buffer:"fixedSize"},labelSize:{type:"number",precision:3,max:10,min:.001,rebuild:!0},labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},maxHydrophobicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondSulfurDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondAccAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondDonAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondAccPlaneAngle:{type:"integer",max:90,min:0,rebuild:!0},maxHbondDonPlaneAngle:{type:"integer",max:90,min:0,rebuild:!0},maxPiStackingDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingAngle:{type:"integer",max:180,min:0,rebuild:!0},maxCationPiDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxCationPiOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxIonicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondAngle:{type:"integer",max:180,min:0,rebuild:!0},maxMetalDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},refineSaltBridges:{type:"boolean",rebuild:!0},masterModelIndex:{type:"integer",max:1e3,min:-1,rebuild:!0},lineOfSightDistFactor:{type:"number",precision:1,max:10,min:0,rebuild:!0},radialSegments:!0,disableImpostor:!0},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.radiusSize=z(i.radiusSize,.05),i.useInteriorColor=z(i.useInteriorColor,!0),this.hydrogenBond=z(i.hydrogenBond,!0),this.weakHydrogenBond=z(i.weakHydrogenBond,!1),this.waterHydrogenBond=z(i.waterHydrogenBond,!1),this.backboneHydrogenBond=z(i.backboneHydrogenBond,!1),this.hydrophobic=z(i.hydrophobic,!1),this.halogenBond=z(i.halogenBond,!0),this.ionicInteraction=z(i.ionicInteraction,!0),this.metalCoordination=z(i.metalCoordination,!0),this.cationPi=z(i.cationPi,!0),this.piStacking=z(i.piStacking,!0),this.filterSele=z(i.filterSele,""),this.labelVisible=z(i.labelVisible,!1),this.labelFixedSize=z(i.labelFixedSize,!1),this.labelSize=z(i.labelSize,2),this.labelUnit=z(i.labelUnit,""),this.maxHydrophobicDist=z(i.maxHydrophobicDist,4),this.maxHbondDist=z(i.maxHbondDist,3.5),this.maxHbondSulfurDist=z(i.maxHbondSulfurDist,4.1),this.maxHbondAccAngle=z(i.maxHbondAccAngle,45),this.maxHbondDonAngle=z(i.maxHbondDonAngle,45),this.maxHbondAccPlaneAngle=z(i.maxHbondAccPlaneAngle,90),this.maxHbondDonPlaneAngle=z(i.maxHbondDonPlaneAngle,30),this.maxPiStackingDist=z(i.maxPiStackingDist,5.5),this.maxPiStackingOffset=z(i.maxPiStackingOffset,2),this.maxPiStackingAngle=z(i.maxPiStackingAngle,30),this.maxCationPiDist=z(i.maxCationPiDist,6),this.maxCationPiOffset=z(i.maxCationPiOffset,2),this.maxIonicDist=z(i.maxIonicDist,5),this.maxHalogenBondDist=z(i.maxHalogenBondDist,3.5),this.maxHalogenBondAngle=z(i.maxHalogenBondAngle,30),this.maxMetalDist=z(i.maxMetalDist,3),this.refineSaltBridges=z(i.refineSaltBridges,!0),this.masterModelIndex=z(i.masterModelIndex,-1),this.lineOfSightDistFactor=z(i.lineOfSightDistFactor,1),e.prototype.init.call(this,i)},t.prototype.getAtomRadius=function(){return 0},t.prototype.getContactData=function(n){var i={maxHydrophobicDist:this.maxHydrophobicDist,maxHbondDist:this.maxHbondDist,maxHbondSulfurDist:this.maxHbondSulfurDist,maxHbondAccAngle:this.maxHbondAccAngle,maxHbondDonAngle:this.maxHbondDonAngle,maxHbondAccPlaneAngle:this.maxHbondAccPlaneAngle,maxHbondDonPlaneAngle:this.maxHbondDonPlaneAngle,maxPiStackingDist:this.maxPiStackingDist,maxPiStackingOffset:this.maxPiStackingOffset,maxPiStackingAngle:this.maxPiStackingAngle,maxCationPiDist:this.maxCationPiDist,maxCationPiOffset:this.maxCationPiOffset,maxIonicDist:this.maxIonicDist,maxHalogenBondDist:this.maxHalogenBondDist,maxHalogenBondAngle:this.maxHalogenBondAngle,maxMetalDist:this.maxMetalDist,refineSaltBridges:this.refineSaltBridges,masterModelIndex:this.masterModelIndex,lineOfSightDistFactor:this.lineOfSightDistFactor},r={hydrogenBond:this.hydrogenBond,weakHydrogenBond:this.weakHydrogenBond,waterHydrogenBond:this.waterHydrogenBond,backboneHydrogenBond:this.backboneHydrogenBond,hydrophobic:this.hydrophobic,halogenBond:this.halogenBond,ionicInteraction:this.ionicInteraction,metalCoordination:this.metalCoordination,cationPi:this.cationPi,piStacking:this.piStacking,radius:this.radiusSize*this.radiusScale,filterSele:this.filterSele};return pAe(lAe(n,i),n,r)},t.prototype.createData=function(n){var i=this.getContactData(n),r=[new y0(k0e(i),this.getBufferParams({sphereDetail:1,dullInterior:!0,disableImpostor:this.disableImpostor}))];if(this.labelVisible){var a={size:this.labelSize,unit:this.labelUnit};r.push(new ap(function(s,o){for(var c=tc(s.position1,s.position2),A=[],l=F2(s.position1,s.position2),u=l.length/3,d=0;d<u;d++){var p=3*d,h=Math.sqrt(Math.pow(l[p],2)+Math.pow(l[p+1],2)+Math.pow(l[p+2],2));switch(o.unit){case"angstrom":A[d]=h.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":A[d]=(h/10).toFixed(2)+" nm";break;default:A[d]=h.toFixed(2)}}return{position:c,size:os(c.length/3,o.size),color:s.color,text:A}}(i,a),this.getBufferParams({fixedSize:this.labelFixedSize})))}return{bufferList:r}},t}(Or);Ci.add("contact",Aue);var lue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="dihedral",this.parameters=Object.assign({atomQuad:{type:"hidden",rebuild:!0},extendLine:{type:"boolean",rebuild:!0,default:!0},lineVisible:{type:"boolean",default:!0},planeVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.side=z(i.side,"double"),i.opacity=z(i.opacity,.5),this.atomQuad=z(i.atomQuad,[]),this.extendLine=z(i.extendLine,!0),this.lineVisible=z(i.lineVisible,!0),this.planeVisible=z(i.planeVisible,!0),this.sectorVisible=z(i.sectorVisible,!0),e.prototype.init.call(this,i)},t.prototype.createData=function(n){if(n.atomCount&&this.atomQuad.length){var i=function(c,A){A===void 0&&(A={});for(var l=z(A.angleStep,Math.PI/90),u=c.length,d=c.length/12,p=new Float32Array(d),h=new Float32Array(3*d),g=new Array(d),b=new Array(d),y=new Array(d),v=new Array(d),_=new Array(d),w=0,E=0,B=0,R=un(),G=un(),C=un(),O=un(),I=un(),D=un(),k=un(),L=un(),T=un(),H=un(),W=un(),j=un(),ce=un(),ue=un(),te=un(),re=0,ae=function(Z){if(da(R,c,Z),da(G,c,Z+3),da(C,c,Z+6),da(O,c,Z+9),Ii(I,R,G),Ii(D,C,G),AA(D)!==0){Ii(k,O,C),di(L,D,.5),ho(T,G,L),ki(I,I),ki(D,D),ki(k,k),Ii(L,R,T);var Ce=Ga(L,D)>0;Ii(L,O,T);var ve=Ga(L,D)<0;if(di(L,D,Ga(D,I)),Ii(H,I,L),di(L,D,Ga(D,k)),Ii(W,k,L),AA(H)!==0&&AA(W)!==0){ki(H,H),ki(W,W);var de=p[re]=function(Dt,Me){var it=Dt[0],ut=Dt[1],vt=Dt[2],ot=Me[0],Ht=Me[1],Et=Me[2],bt=ut*Et-vt*Ht,en=vt*ot-it*Et,ct=it*Ht-ut*ot,yt=Math.sqrt(bt*bt+en*en+ct*ct),Mt=it*ot+ut*Ht+vt*Et;return Math.atan2(yt,Mt)}(H,W);g[re]=(iI*de).toFixed(1)+String.fromCharCode(176),Ua(ue,H,D),ki(ue,ue),Ga(ue,W)<0&&L2(ue,ue),uo(L,T,H,ue,de/2),yn(L,h,3*re);var be=Math.ceil(de/l),Pe=be+(A.extendLine?4:2),Ve=A.extendLine?36:0,Fe=new Float32Array(3*Pe),He=new Float32Array(3*Pe),ke=new Float32Array(9*be),qe=new Float32Array(Ve);b[re]=Fe,y[re]=He,v[re]=ke,_[re]=qe,A.extendLine&&(Ce?(Ii(L,R,C),ki(L,L),di(j,L,1/Ga(H,L)),ho(j,j,C)):(di(j,I,1/Ga(H,I)),ho(j,j,G)),ve?(Ii(L,O,G),ki(L,L),di(ce,L,1/Ga(W,L)),ho(ce,ce,G)):(di(ce,k,1/Ga(W,k)),ho(ce,ce,C))),ho(te,T,H);var Ye=0;A.extendLine?(yn(R,Fe,Ye),yn(j,He,Ye),yn(j,Fe,Ye+=3),yn(te,He,Ye),Ye+=3,yn(j,qe,0),yn(te,qe,3),yn(Ce?C:G,qe,6),yn(Ce?C:G,qe,9),yn(te,qe,12),yn(T,qe,15)):(yn(T,Fe,Ye),yn(te,He,Ye),Ye+=3);for(var We=function(Dt,Me){var it=9*Me;yn(T,ke,it),yn(te,ke,it+3),yn(te,Fe,Ye),uo(te,T,H,ue,Dt),yn(te,ke,it+6),yn(te,He,Ye),Ye+=3},mt=0,Qt=l;Qt<de;Qt+=l)We(Qt,mt++);We(de,mt++),A.extendLine?(yn(te,Fe,3*(Pe-2)),yn(ce,He,3*(Pe-2)),yn(ce,Fe,3*(Pe-1)),yn(O,He,3*(Pe-1)),yn(ce,qe,18),yn(te,qe,21),yn(ve?G:C,qe,24),yn(ve?G:C,qe,27),yn(te,qe,30),yn(T,qe,33)):(yn(te,Fe,Ye),yn(T,He,Ye),Ye+=3),w+=3*Pe,E+=9*be,B+=Ve,re+=1}}},fe=0;fe<u;fe+=12)ae(fe);for(var ye=re,se=new Float32Array(w),me=new Float32Array(w),pe=new Float32Array(E),Ee=new Float32Array(B),ee=0,ie=0,oe=0,he=0;he<ye;he++){var Re=b[he],Ge=y[he],Le=v[he],K=_[he];lr(Re,se,0,ee,Re.length),lr(Ge,me,0,ee,Ge.length),lr(Le,pe,0,ie,Le.length),lr(K,Ee,0,oe,K.length),ee+=Re.length,ie+=Le.length,oe+=K.length}return{labelPosition:h.subarray(0,3*ye),labelText:g.slice(0,ye),linePosition1:se,linePosition2:me,planePosition:Ee,sectorPosition:pe}}(K7(n,this.atomQuad),{extendLine:this.extendLine}),r=this.n=i.labelText.length,a=new pt(this.labelColor);this.textBuffer=new ap({position:i.labelPosition,size:os(r,this.labelSize),color:li(r,a.r,a.g,a.b),text:i.labelText},this.getLabelBufferParams());var s=new pt(this.colorValue);this.lineLength=i.linePosition1.length/3;var o=li(this.lineLength,s.r,s.g,s.b);return this.lineBuffer=new p0(j_({position1:i.linePosition1,position2:i.linePosition2,color:o,color2:o}),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),this.planeLength=i.planePosition.length/3,this.planeBuffer=new d0({position:i.planePosition,color:li(this.planeLength,s.r,s.g,s.b)},this.getBufferParams({visible:this.planeVisible})),this.sectorLength=i.sectorPosition.length/3,this.sectorBuffer=new d0({position:i.sectorPosition,color:li(this.sectorLength,s.r,s.g,s.b)},this.getBufferParams({visible:this.sectorVisible})),{bufferList:[this.textBuffer,this.lineBuffer,this.planeBuffer,this.sectorBuffer]}}},t.prototype.updateData=function(n,i){e.prototype.updateData.call(this,n,i);var r={},a={},s={};if(n.color){var o=new pt(this.colorValue);Object.assign(r,{color:li(this.lineLength,o.r,o.g,o.b),color2:li(this.lineLength,o.r,o.g,o.b)}),Object.assign(a,{color:li(this.planeLength,o.r,o.g,o.b)}),Object.assign(s,{color:li(this.sectorLength,o.r,o.g,o.b)})}this.lineBuffer.setAttributes(r),this.planeBuffer.setAttributes(a),this.sectorBuffer.setAttributes(s)},t.prototype.setParameters=function(n){return e.prototype.setParameters.call(this,n,{},!1),!n||n.lineVisible===void 0&&n.sectorVisible===void 0&&n.planeVisible===void 0||this.setVisibility(this.visible),n&&n.lineOpacity&&this.lineBuffer.setParameters({opacity:n.lineOpacity}),n&&n.opacity!==void 0&&this.lineBuffer.setParameters({opacity:this.lineOpacity}),n&&n.linewidth&&this.lineBuffer.setParameters({linewidth:n.linewidth}),this},t.prototype.setVisibility=function(n,i){return e.prototype.setVisibility.call(this,n,!0),this.lineBuffer&&this.lineBuffer.setVisibility(this.lineVisible&&this.visible),this.planeBuffer&&this.planeBuffer.setVisibility(this.planeVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),i||this.viewer.requestRender(),this},t}(V7);Ci.add("dihedral",lue);function fE(e,t){function n(a,s){return s in a}var i=Object.assign({},e);for(var r in i)n(i,r)&&n(t,r)&&(i[r]=z(t[r],i[r]));return i}function so(e,t){var n=new pt(e),i=new Float32Array(3*t);return li(t,n.r,n.g,n.b,i),i}var uue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="dihedral-histogram",this.parameters=Object.assign({histogramsData:{type:"hidden",rebuild:!0},histogramBinBorderVisible:{type:"boolean",default:!0},scaleBinToSectorArea:{type:"boolean",rebuild:!0,default:!1}},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{},r=fE({histogramBinBorderColor:"grey",adjacentBondArrowColor:"black",distantBondArrowColor:"magenta",frontHistogramColor:"green",backHistogramColor:"blue",opaqueMiddleDiscColor:"white"},i);Object.assign(this,r);var a=fE({histogramsData:[],histogramOpacity:1,opaqueMiddleDiscVisible:!0,opaqueMiddleDiscOpacity:1,histogramBinBorderVisible:!0,histogramBinBorderWidth:1,histogramBinBorderOpacity:.5,bondArrowVisible:!0,bondArrowWidth:2,bondArrowOpacity:1,scaleBinToSectorArea:!1},i);Object.assign(this,a),this.histogramsData.forEach(function(s){var o=fE(r,s);Object.assign(s,o)}),i.side=z(i.side,"double"),i.opacity=z(i.opacity,.5),i.radiusType=z(i.radiusType,"size"),i.radiusSize=z(i.radiusSize,.15),e.prototype.init.call(this,i)},t.prototype.getHistogramBinBorderBufferParameters=function(){return this.getBufferParams({linewidth:this.histogramBinBorderWidth,visible:this.histogramBinBorderVisible,opacity:this.histogramBinBorderOpacity})},t.prototype.getBondArrowsBufferParameters=function(){return this.getBufferParams({linewidth:this.bondArrowWidth,visible:this.bondArrowVisible,opacity:this.bondArrowOpacity})},t.prototype.getOpaqueMiddleDiscBufferParameters=function(){return this.getBufferParams({visible:this.opaqueMiddleDiscVisible,opacity:this.opaqueMiddleDiscOpacity})},t.prototype.getHistogramBufferParameters=function(){return this.getBufferParams({visible:!0,opacity:this.histogramOpacity,side:"double"})},t.prototype.createData=function(n){if(n.atomCount&&this.histogramsData.length){this.histogramsData.forEach(function(u){return u.atomPositions=K7(n,[u.atomQuad])});var i=this.scaleBinToSectorArea?function(u){return Math.sqrt(u)}:function(u){return u};this.histogramsData.forEach(function(u){return u.histogram360Scaled=u.histogram360.map(i)});for(var r=[],a=0;a<this.histogramsData.length;a++){var s=void 0,o=this.histogramsData[a];o.histogram360.length>=3&&(s=due(o)),s!==void 0&&r.push(s)}return this.frontHistogramBinBordersBuffer=A(r.map(function(u){return u.frontHistogramBinBorders}),this.getHistogramBinBorderBufferParameters()),this.backHistogramBinBordersBuffer=A(r.map(function(u){return u.backHistogramBinBorders}),this.getHistogramBinBorderBufferParameters()),this.adjacentBondArrowsBuffer=A(r.map(function(u){return u.adjacentBondArrows}),this.getBondArrowsBufferParameters()),this.distantBondArrowsBuffer=A(r.map(function(u){return u.distantBondArrows}),this.getBondArrowsBufferParameters()),this.opaqueMiddleDiscBuffer=l(r.map(function(u){return u.opaqueMiddleDisc}),this.getOpaqueMiddleDiscBufferParameters()),this.frontHistogramBuffer=l(r.map(function(u){return u.frontHistogram}),this.getHistogramBufferParameters()),this.backHistogramBuffer=l(r.map(function(u){return u.backHistogram}),this.getHistogramBufferParameters()),{bufferList:[].concat(this.frontHistogramBinBordersBuffer,this.backHistogramBinBordersBuffer,this.adjacentBondArrowsBuffer,this.distantBondArrowsBuffer,this.opaqueMiddleDiscBuffer,this.frontHistogramBuffer,this.backHistogramBuffer)}}function c(u){for(var d=u.map(function(b){return b.length}),p=new Float32Array(T7(d)),h=0,g=0;g<u.length;g++)p.set(u[g],h),h+=u[g].length;return p}function A(u,d){return new p0({position1:c(u.map(function(p){return p.startPoints})),position2:c(u.map(function(p){return p.endPoints})),color:c(u.map(function(p){return p.startColors})),color2:c(u.map(function(p){return p.endColors}))},d)}function l(u,d){return new d0({position:c(u.map(function(p){return p.triangles})),color:c(u.map(function(p){return p.triangleColors}))},d)}},t.prototype.setParameters=function(n){return e.prototype.setParameters.call(this,n,{},!1),n&&n.histogramBinBorderVisible!==void 0&&this.setVisibility(this.visible),this},t.prototype.setVisibility=function(n,i){return e.prototype.setVisibility.call(this,n,!0),this.frontHistogramBinBordersBuffer&&this.frontHistogramBinBordersBuffer.setVisibility(this.histogramBinBorderVisible),this.backHistogramBinBordersBuffer&&this.backHistogramBinBordersBuffer.setVisibility(this.histogramBinBorderVisible),i||this.viewer.requestRender(),this},t}(Or);function due(e){for(var t=e.atomPositions,n=e.histogram360Scaled,i=n.length<=180?360:2*n.length,r={triangles:new Float32Array(3*i*3),triangleColors:so(e.opaqueMiddleDiscColor,3*i)},a={triangles:new Float32Array(3*n.length*3),triangleColors:so(e.frontHistogramColor,3*n.length)},s={triangles:new Float32Array(3*n.length*3),triangleColors:so(e.backHistogramColor,3*n.length)},o={startPoints:new Float32Array(3*n.length),endPoints:new Float32Array(3*n.length),startColors:so(e.histogramBinBorderColor,n.length),endColors:so(e.histogramBinBorderColor,n.length)},c={startPoints:new Float32Array(3*n.length),endPoints:new Float32Array(3*n.length),startColors:so(e.histogramBinBorderColor,n.length),endColors:so(e.histogramBinBorderColor,n.length)},A={startPoints:new Float32Array(6),endPoints:new Float32Array(6),startColors:so(e.adjacentBondArrowColor,n.length),endColors:so(e.adjacentBondArrowColor,n.length)},l={startPoints:new Float32Array(6),endPoints:new Float32Array(6),startColors:so(e.distantBondArrowColor,n.length),endColors:so(e.distantBondArrowColor,n.length)},u=un(),d=un(),p=un(),h=un(),g=un(),b=un(),y=un(),v=un(),_=un(),w=un(),E=un(),B=un(),R=un(),G=un(),C=un(),O=un(),I=[u,d,p,h],D=0;D<I.length;D++)da(I[D],t,3*D);if(Ii(g,u,d),Ii(b,p,d),Ii(v,h,p),AA(b)!==0&&(di(C,b,.5),ho(_,d,C),ki(g,g),ki(b,b),ki(v,v),L2(y,b),di(C,y,Ga(y,g)),Ii(w,g,C),di(C,b,Ga(b,v)),Ii(E,v,C),AA(w)!==0&&AA(E)!==0)){ki(w,w),ki(E,E);var k=Math.acos(Ga(w,E));Ua(B,y,w),Ua(R,b,E),ki(B,B),ki(R,R);var L=k;Ga(B,E)<0&&(L=-k),ho(G,_,w);for(var T=Math.max.apply(null,n),H=2*Math.PI/n.length,W=2*Math.PI/i,j=0;j<i;j++){var ce=3*j*3;yn(_,r.triangles,ce),uo(G,_,w,B,j*W),yn(G,r.triangles,ce+3),uo(G,_,w,B,(j+1)*W),yn(G,r.triangles,ce+6)}return di(C,b,-.01),ho(_,_,C),te(a,o,0,w,B),di(C,b,.02),ho(_,_,C),te(s,c,1,E,R),{opaqueMiddleDisc:r,frontHistogram:a,backHistogram:s,frontHistogramBinBorders:o,backHistogramBinBorders:c,adjacentBondArrows:A,distantBondArrows:l}}function ue(re,ae,fe,ye,se){var me=3*ae*3;yn(_,re,me);var pe=Number(n[ae])/T;di(C,fe,pe),di(O,ye,pe),uo(G,_,C,O,ae*se),yn(G,re,me+3),uo(G,_,C,O,(ae+1)*se),yn(G,re,me+6)}function te(re,ae,fe,ye,se){lr(_,A.startPoints,0,3*fe,_.length),uo(C,_,ye,se,0+0*H),lr(C,A.endPoints,0,3*fe,_.length),lr(_,l.startPoints,0,3*fe,_.length),uo(C,_,ye,se,L),lr(C,l.endPoints,0,3*fe,_.length);for(var me=0;me<n.length;me++)lr(_,ae.startPoints,0,3*me,_.length),uo(C,_,ye,se,0+H*me),lr(C,ae.endPoints,0,3*me,C.length);for(var pe=0;pe<n.length;pe++)ue(re.triangles,pe,ye,se,H)}}Ci.add("dihedral-histogram",uue);var pue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="distance",this.parameters=Object.assign({radialSegments:!0,openEnded:!0,disableImpostor:!0,labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},useCylinder:{type:"boolean",rebuild:!0},atomPair:{type:"hidden",rebuild:!0}},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.linewidth=z(i.linewidth,5),i.radiusType=z(i.radiusType,"size"),i.radiusSize=z(i.radiusSize,.2),this.labelUnit=z(i.labelUnit,""),this.useCylinder=z(i.useCylinder,!1),this.atomPair=z(i.atomPair,[]),e.prototype.init.call(this,i)},t.prototype.getDistanceData=function(n,i){var r=this,a=i.length,s=new Array(a),o=new Float32Array(3*a),c=new si,A=new si,l=new wg,u=n.getAtomProxy(),d=n.getAtomProxy(),p=0,h=n.getAtomSet();i.forEach(function(b,y){var v=b[0],_=b[1];if(typeof v=="number"&&Number.isInteger(v)&&typeof _=="number"&&Number.isInteger(_)){if(!h.get(v)||!h.get(_))return void(p+=1);u.index=v,d.index=_}else{c.setString(v),A.setString(_);var w=n.getAtomIndices(c),E=n.getAtomIndices(A);if(!w.length||!E.length)return void(p+=1);u.index=w[0],d.index=E[0]}l.addBond(u,d,1),y-=p;var B=u.distanceTo(d);switch(r.labelUnit){case"angstrom":s[y]=B.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":s[y]=(B/10).toFixed(2)+" nm";break;default:s[y]=B.toFixed(2)}var R=3*y;o[R+0]=(u.x+d.x)/2,o[R+1]=(u.y+d.y)/2,o[R+2]=(u.z+d.z)/2}),p>0&&(a-=p,o=o.subarray(0,3*a));var g=new cn(l.count,!0);return{text:s,position:o,bondSet:g,bondStore:l}},t.prototype.getBondData=function(n,i,r){var a=n.getBondData(this.getBondParams(i,r));return a.picking&&(a.picking=new vAe(a.picking.array,a.picking.structure,r.bondStore)),a},t.prototype.createData=function(n){if(n.atomCount&&this.atomPair.length){var i=this.atomPair.length,r=new pt(this.labelColor),a=this.getDistanceData(n,this.atomPair);this.textBuffer=new ap({position:a.position,size:os(i,this.labelSize),color:li(i,r.r,r.g,r.b),text:a.text},this.getLabelBufferParams());var s={bondSet:a.bondSet,bondStore:a.bondStore},o=this.getBondData(n,{position:!0,color:!0,picking:!0,radius:this.useCylinder},s);return this.useCylinder?this.distanceBuffer=new y0(o,this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})):this.distanceBuffer=new p0(cI(o),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),{bondSet:a.bondSet,bondStore:a.bondStore,position:a.position,bufferList:[this.textBuffer,this.distanceBuffer]}}},t.prototype.updateData=function(n,i){e.prototype.updateData.call(this,n,i);var r={bondSet:i.bondSet,bondStore:i.bondStore},a=this.getBondData(i.sview,n,r),s={};n&&!n.color||Object.assign(s,{color:a.color,color2:a.color2}),n&&!n.radius||Object.assign(s,{radius:a.radius}),this.distanceBuffer.setAttributes(s)},t.prototype.setParameters=function(n){return e.prototype.setParameters.call(this,n,{},!1),this.useCylinder||(n&&n.lineOpacity&&this.distanceBuffer.setParameters({opacity:n.lineOpacity}),n&&n.opacity!==void 0&&this.distanceBuffer.setParameters({opacity:this.lineOpacity}),n&&n.linewidth&&this.distanceBuffer.setParameters({linewidth:n.linewidth})),this},t}(V7);function hE(e){return 2*(e.position.length/3)*3}Ci.add("distance",pue);var fue=Object.assign({scale:1,color:"grey"},ga),sS=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,{position:new Float32Array(hE(i)),color:new Float32Array(hE(i))},r),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag";var a=new pt(this.parameters.color),s=this.geometry.attributes;li(hE(i)/3,a.r,a.g,a.b,s.color.array),this.setAttributes(i)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return fue},t.prototype.setAttributes=function(i){i===void 0&&(i={});var r,a,s,o=this.geometry.attributes;i.position&&i.vector&&(r=i.position,a=i.vector,s=o.position.array,o.position.needsUpdate=!0);var c=this.size/2,A=this.parameters.scale;if(r&&a)for(var l=0;l<c;l++){var u=2*l*3,d=3*l;s[u+0]=r[d+0],s[u+1]=r[d+1],s[u+2]=r[d+2],s[u+3]=r[d+0]+a[d+0]*A,s[u+4]=r[d+1]+a[d+1]*A,s[u+5]=r[d+2]+a[d+2]*A}},Object.defineProperties(t.prototype,n),t}(Fn),hue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="helixorient",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=z(i.colorScheme,"sstruc"),i.radiusType=z(i.radiusType,"size"),i.radiusSize=z(i.radiusSize,.15),i.radiusScale=z(i.radiusScale,1),i.useInteriorColor=z(i.useInteriorColor,!0),e.prototype.init.call(this,i)},t.prototype.createData=function(n){var i=this,r=[],a=[];return this.structure.eachPolymer(function(s){if(!(s.residueCount<4)){a.push(s);var o=new $c(s),c=o.getPosition(),A=o.getColor(i.getColorParams()),l=o.getSize(i.getRadiusParams()),u=o.getPicking();r.push(new RA({position:c.center,color:A.color,radius:l.size,picking:u.picking},i.getBufferParams({sphereDetail:i.sphereDetail,disableImpostor:i.disableImpostor,dullInterior:!0})),new sS({position:c.center,vector:c.axis},i.getBufferParams({color:"skyblue",scale:1})),new sS({position:c.center,vector:c.resdir},i.getBufferParams({color:"lightgreen",scale:1})))}},n.getSelection()),{bufferList:r,polymerList:a}},t.prototype.updateData=function(n,i){je&&De.time(this.type+" repr update"),n=n||{};for(var r=0,a=i.polymerList.length;r<a;++r){var s=3*r,o={},c=i.polymerList[r],A=new $c(c);if(n.position){var l=A.getPosition();Object.assign(o,{position:l.center}),i.bufferList[s+1].setAttributes({position:l.center,vector:l.axis}),i.bufferList[s+2].setAttributes({position:l.center,vector:l.resdir})}i.bufferList[s].setAttributes(o)}je&&De.timeEnd(this.type+" repr update")},t}(Or);Ci.add("helixorient",hue);var zI=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="licorice",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.aspectRatio=1,e.prototype.init.call(this,i)},t}(z2);Ci.add("licorice",zI),Vn.add("shader/HyperballStickImpostor.vert",`
attribute vec3 mapping;
attribute float radius;
attribute float radius2;
attribute vec3 position1;
attribute vec3 position2;
varying mat4 matrix_near;
varying vec4 prime1;
varying vec4 prime2;
varying float vRadius;
varying float vRadius2;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor1;
varying vec3 vColor2;
#endif
uniform float shrink;
uniform mat4 modelViewProjectionMatrix;
uniform mat4 modelViewProjectionMatrixInverse;
void main(){
vRadius = radius;
vRadius2 = radius2;
vec4 spaceposition;
vec3 position_atom1;
vec3 position_atom2;
vec4 vertex_position;
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
vColor1 = color;
vColor2 = color2;
#endif
float radius1 = radius;
position_atom1 = position1;
position_atom2 = position2;
float distance = distance( position_atom1, position_atom2 );
spaceposition.z = mapping.z * distance;
if (radius1 > radius2) {
spaceposition.y = mapping.y * 1.5 * radius1;
spaceposition.x = mapping.x * 1.5 * radius1;
} else {
spaceposition.y = mapping.y * 1.5 * radius2;
spaceposition.x = mapping.x * 1.5 * radius2;
}
spaceposition.w = 1.0;
vec4 e3 = vec4( 1.0 );
vec3 e1, e1_temp, e2, e2_temp;
e3.xyz = normalize(position_atom1-position_atom2);
if (e3.z == 0.0) { e3.z = 0.0000000000001;}
if ( (position_atom1.x - position_atom2.x) == 0.0) { position_atom1.x += 0.001;}
if ( (position_atom1.y - position_atom2.y) == 0.0) { position_atom1.y += 0.001;}
if ( (position_atom1.z - position_atom2.z) == 0.0) { position_atom1.z += 0.001;}
vec4 focus = vec4( 1.0 );
focus.x = ( position_atom1.x*position_atom1.x - position_atom2.x*position_atom2.x +
( radius2*radius2 - radius1*radius1 )*e3.x*e3.x/shrink )/(2.0*(position_atom1.x - position_atom2.x));
focus.y = ( position_atom1.y*position_atom1.y - position_atom2.y*position_atom2.y +
( radius2*radius2 - radius1*radius1 )*e3.y*e3.y/shrink )/(2.0*(position_atom1.y - position_atom2.y));
focus.z = ( position_atom1.z*position_atom1.z - position_atom2.z*position_atom2.z +
( radius2*radius2 - radius1*radius1 )*e3.z*e3.z/shrink )/(2.0*(position_atom1.z - position_atom2.z));
e1.x = 1.0;
e1.y = 1.0;
e1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;
e1_temp = e1 - focus.xyz;
e1 = normalize(e1_temp);
e2_temp = e1.yzx * e3.zxy - e1.zxy * e3.yzx;
e2 = normalize(e2_temp);
mat3 R= mat3( e1.xyz, e2.xyz, e3.xyz );
vertex_position.xyz = R * spaceposition.xyz;
vertex_position.w = 1.0;
vertex_position.x += (position_atom1.x+position_atom2.x) / 2.0;
vertex_position.y += (position_atom1.y+position_atom2.y) / 2.0;
vertex_position.z += (position_atom1.z+position_atom2.z) / 2.0;
gl_Position = modelViewProjectionMatrix * vertex_position;
vec4 i_near, i_far;
vec4 near = gl_Position;
near.z = 0.0 ;
near = modelViewProjectionMatrixInverse * near;
i_near = near;
vec4 far = gl_Position;
far.z = far.w ;
i_far = modelViewProjectionMatrixInverse * far;
prime1 = vec4( position_atom1 - (position_atom1 - focus.xyz)*shrink, 1.0 );
prime2 = vec4( position_atom2 - (position_atom2 - focus.xyz)*shrink, 1.0 );
float Rsquare = (radius1*radius1/shrink) - (
(position_atom1.x - focus.x)*(position_atom1.x - focus.x) +
(position_atom1.y - focus.y)*(position_atom1.y - focus.y) +
(position_atom1.z - focus.z)*(position_atom1.z - focus.z)
);
focus.w = Rsquare;
matrix_near = mat4( i_near, i_far, focus, e3 );
gl_Position.z = 1.0;
}`),Vn.add("shader/HyperballStickImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform float shrink;
uniform mat4 modelViewMatrix;
uniform mat4 modelViewProjectionMatrix;
uniform mat4 modelViewMatrixInverseTranspose;
uniform mat4 projectionMatrix;
varying mat4 matrix_near;
varying vec4 prime1;
varying vec4 prime2;
varying float vRadius;
varying float vRadius2;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
varying vec3 vColor1;
varying vec3 vColor2;
#include common
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool interior = false;
float calcClip( vec4 cameraPos ){
return dot( cameraPos, vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
float calcClip( vec3 cameraPos ){
return calcClip( vec4( cameraPos, 1.0 ) );
}
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
struct Ray {
vec3 origin ;
vec3 direction ;
};
bool cutoff_plane (vec3 M, vec3 cutoff, vec3 x3){
float a = x3.x;
float b = x3.y;
float c = x3.z;
float d = -x3.x*cutoff.x-x3.y*cutoff.y-x3.z*cutoff.z;
float l = a*M.x+b*M.y+c*M.z+d;
if (l<0.0) {return true;}
else{return false;}
}
vec3 isect_surf(Ray r, mat4 matrix_coef){
vec4 direction = vec4(r.direction, 0.0);
vec4 origin = vec4(r.origin, 1.0);
float a = dot(direction,(matrix_coef*direction));
float b = dot(origin,(matrix_coef*direction));
float c = dot(origin,(matrix_coef*origin));
float delta =b*b-a*c;
gl_FragColor.a = 1.0;
if (delta<0.0){
discard;
}
float t1 =(-b-sqrt(delta))/a;
return r.origin+t1*r.direction;
}
vec3 isect_surf2(Ray r, mat4 matrix_coef){
vec4 direction = vec4(r.direction, 0.0);
vec4 origin = vec4(r.origin, 1.0);
float a = dot(direction,(matrix_coef*direction));
float b = dot(origin,(matrix_coef*direction));
float c = dot(origin,(matrix_coef*origin));
float delta =b*b-a*c;
gl_FragColor.a = 1.0;
if (delta<0.0){
discard;
}
float t2 =(-b+sqrt(delta))/a;
return r.origin+t2*r.direction;
}
Ray primary_ray(vec4 near1, vec4 far1){
vec3 near=near1.xyz/near1.w;
vec3 far=far1.xyz/far1.w;
return Ray(near,far-near);
}
float update_z_buffer(vec3 M, mat4 ModelViewP){
float depth1;
vec4 Ms=(ModelViewP*vec4(M,1.0));
return depth1=(1.0+Ms.z/Ms.w)/2.0;
}
void main(){
float radius = max( vRadius, vRadius2 );
vec4 i_near, i_far, focus;
vec3 e3, e1, e1_temp, e2;
i_near = vec4(matrix_near[0][0],matrix_near[0][1],matrix_near[0][2],matrix_near[0][3]);
i_far = vec4(matrix_near[1][0],matrix_near[1][1],matrix_near[1][2],matrix_near[1][3]);
focus = vec4(matrix_near[2][0],matrix_near[2][1],matrix_near[2][2],matrix_near[2][3]);
e3 = vec3(matrix_near[3][0],matrix_near[3][1],matrix_near[3][2]);
e1.x = 1.0;
e1.y = 1.0;
e1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;
e1_temp = e1 - focus.xyz;
e1 = normalize(e1_temp);
e2 = normalize(cross(e1,e3));
vec4 equation = focus;
float shrinkfactor = shrink;
float t1 = -1.0/(1.0-shrinkfactor);
float t2 = 1.0/(shrinkfactor);
vec4 colonne1, colonne2, colonne3, colonne4;
mat4 mat;
vec3 equation1 = vec3(t2,t2,t1);
float A1 = - e1.x*equation.x - e1.y*equation.y - e1.z*equation.z;
float A2 = - e2.x*equation.x - e2.y*equation.y - e2.z*equation.z;
float A3 = - e3.x*equation.x - e3.y*equation.y - e3.z*equation.z;
float A11 = equation1.x*e1.x*e1.x + equation1.y*e2.x*e2.x + equation1.z*e3.x*e3.x;
float A21 = equation1.x*e1.x*e1.y + equation1.y*e2.x*e2.y + equation1.z*e3.x*e3.y;
float A31 = equation1.x*e1.x*e1.z + equation1.y*e2.x*e2.z + equation1.z*e3.x*e3.z;
float A41 = equation1.x*e1.x*A1 + equation1.y*e2.x*A2 + equation1.z*e3.x*A3;
float A22 = equation1.x*e1.y*e1.y + equation1.y*e2.y*e2.y + equation1.z*e3.y*e3.y;
float A32 = equation1.x*e1.y*e1.z + equation1.y*e2.y*e2.z + equation1.z*e3.y*e3.z;
float A42 = equation1.x*e1.y*A1 + equation1.y*e2.y*A2 + equation1.z*e3.y*A3;
float A33 = equation1.x*e1.z*e1.z + equation1.y*e2.z*e2.z + equation1.z*e3.z*e3.z;
float A43 = equation1.x*e1.z*A1 + equation1.y*e2.z*A2 + equation1.z*e3.z*A3;
float A44 = equation1.x*A1*A1 + equation1.y*A2*A2 + equation1.z*A3*A3 - equation.w;
colonne1 = vec4(A11,A21,A31,A41);
colonne2 = vec4(A21,A22,A32,A42);
colonne3 = vec4(A31,A32,A33,A43);
colonne4 = vec4(A41,A42,A43,A44);
mat = mat4(colonne1,colonne2,colonne3,colonne4);
Ray ray = primary_ray(i_near,i_far) ;
vec3 M;
M = isect_surf(ray, mat);
if (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }
vec4 M1 = vec4(M,1.0);
vec4 M2 = mat*M1;
vec3 _normal = ( modelViewMatrixInverseTranspose * M2 ).xyz;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
#ifdef NEAR_CLIP
if( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 ){
M = isect_surf2(ray, mat);
if( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 )
discard;
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / radius ) );
}
}else if( gl_FragDepthEXT <= 0.0 ){
M = isect_surf2(ray, mat);
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix);
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );
}
}
#else
if( gl_FragDepthEXT <= 0.0 ){
M = isect_surf2(ray, mat);
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );
}
}
#endif
if (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }
if (gl_FragDepthEXT < 0.0)
discard;
if (gl_FragDepthEXT > 1.0)
discard;
float distance_ratio = ((M.x-prime2.x)*e3.x + (M.y-prime2.y)*e3.y +(M.z-prime2.z)*e3.z) /
distance(prime2.xyz,prime1.xyz);
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vViewPosition = -( modelViewMatrix * vec4( M, 1.0 ) ).xyz;
vec3 vNormal = _normal;
vec3 vColor;
if( distance_ratio>0.5 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
vec3 normal = normalize( vNormal );
vec3 geometryNormal = normal;
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var mue=new Float32Array([-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,-1,1,1,-1,1,1,1,-1,1,1]),yue=new Uint16Array([0,1,2,0,2,3,1,5,6,1,6,2,4,6,5,4,7,6,0,7,4,0,3,7,0,5,1,0,4,5,3,2,6,3,6,7]),gue=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,"v3",i,r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return n.mapping.get=function(){return mue},n.mappingIndices.get=function(){return yue},n.mappingIndicesSize.get=function(){return 36},n.mappingSize.get=function(){return 8},n.mappingItemSize.get=function(){return 3},Object.defineProperties(t.prototype,n),t}(k7),VI=Object.assign({shrink:.14},ga),bue=Object.assign({shrink:{uniform:!0}},Hl),vue=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r),this.parameterTypes=bue,this.isImpostor=!0,this.vertexShader="HyperballStickImpostor.vert",this.fragmentShader="HyperballStickImpostor.frag",this.addUniforms({modelViewProjectionMatrix:{value:new st},modelViewProjectionMatrixInverse:{value:new st},modelViewMatrixInverseTranspose:{value:new st},shrink:{value:this.parameters.shrink}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null},radius2:{type:"f",value:null}}),this.setAttributes(i),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return VI},Object.defineProperties(t.prototype,n),t}(gue);Object.assign({disableImpostor:!1},W7,VI);var wue=function(e,t){return t===void 0&&(t={}),!ec||t&&t.disableImpostor?(e.radius=function(n,i){for(var r=n.length,a=new Float32Array(r),s=0;s<r;s++)a[s]=Math.min(n[s],i[s]);return a}(e.radius,e.radius2),new HI(e,t)):new vue(e,t)},Eue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="hyperball",this.parameters=Object.assign({shrink:{type:"number",precision:3,max:1,min:.001,buffer:!0}},this.parameters,{multipleBond:null,bondSpacing:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.radiusScale=z(i.radiusScale,.2),i.radiusType=z(i.radiusType,"vdw"),i.useInteriorColor=z(i.useInteriorColor,!0),this.shrink=z(i.shrink,.12),e.prototype.init.call(this,i)},t.prototype.getBondParams=function(n,i){return n&&!n.radius||(i=Object.assign({radius2:!0},i)),e.prototype.getBondParams.call(this,n,i)},t.prototype.createData=function(n){var i=new RA(n.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));return this.__center=new Float32Array(3*n.bondCount),{bufferList:[i,new wue(n.getBondData(this.getBondParams()),this.getBufferParams({shrink:this.shrink,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))]}},t.prototype.updateData=function(n,i){var r=i.sview.getAtomData(this.getAtomParams()),a=i.sview.getBondData(this.getBondParams()),s={},o={};if(!n||n.position){Object.assign(s,{position:r.position});var c=a.position1,A=a.position2;Object.assign(o,{position:tc(c,A,this.__center),position1:c,position2:A})}n&&!n.color||(Object.assign(s,{color:r.color}),Object.assign(o,{color:a.color,color2:a.color2})),n&&!n.radius||(Object.assign(s,{radius:r.radius}),Object.assign(o,{radius:a.radius,radius2:a.radius2})),i.bufferList[0].setAttributes(s),i.bufferList[1].setAttributes(o)},t}(zI);Ci.add("hyperball",Eue);var X3=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n=""),this.type=e,this.text=t,this.format=n,this.errorLogged=!1};X3.prototype.atomLabel=function(e){var t;switch(this.type){case"atomname":t=e.atomname;break;case"atomindex":t=""+e.index;break;case"occupancy":t=e.occupancy.toFixed(2);break;case"bfactor":t=e.bfactor.toFixed(2);break;case"serial":t=""+e.serial;break;case"element":t=e.element;break;case"atom":t=e.atomname+"|"+e.index;break;case"resname":t=e.resname;break;case"resno":t=""+e.resno;break;case"res":t=""+($3[e.resname.toUpperCase()]||e.resname)+e.resno;break;case"residue":var n=$3[e.resname.toUpperCase()];t=n&&!e.inscode?""+n+e.resno:"["+e.resname+"]"+e.resno+e.inscode;break;case"text":t=this.text[e.index];break;case"format":try{t=ua.sprintf(this.format,e)}catch(i){this.errorLogged||(this.errorLogged=!0,console.log(i.message))}break;default:t=e.qualifiedName()}return t===void 0?"":t},X3.types={"":"",atomname:"atom name",atomindex:"atom index",occupancy:"occupancy",bfactor:"b-factor",serial:"serial",element:"element",atom:"atom name + index",resname:"residue name",resno:"residue no",res:"one letter code + no",residue:"[residue name] + no + inscode",text:"text",format:"format",qualified:"qualified name"};var _ue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="label",this.parameters=Object.assign({labelType:{type:"select",options:X3.types,rebuild:!0},labelText:{type:"hidden",rebuild:!0},labelFormat:{type:"text",rebuild:!0},labelGrouping:{type:"select",options:{atom:"atom",residue:"residue"},rebuild:!0},fontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:!0},fontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:!0},fontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:!0},xOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},yOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},zOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},attachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},showBorder:{type:"boolean",buffer:!0},borderColor:{type:"color",buffer:!0},borderWidth:{type:"number",precision:2,max:.3,min:0,buffer:!0},showBackground:{type:"boolean",rebuild:!0},backgroundColor:{type:"color",buffer:!0},backgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},backgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:!0},fixedSize:{type:"boolean",buffer:!0}},this.parameters,{side:null,flatShaded:null,wireframe:null,linewidth:null,roughness:null,metalness:null,diffuse:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};this.labelType=z(i.labelType,"res"),this.labelText=z(i.labelText,{}),this.labelFormat=z(i.labelFormat,""),this.labelGrouping=z(i.labelGrouping,"atom"),this.fontFamily=z(i.fontFamily,"sans-serif"),this.fontStyle=z(i.fontStyle,"normal"),this.fontWeight=z(i.fontWeight,"bold"),this.xOffset=z(i.xOffset,0),this.yOffset=z(i.yOffset,0),this.zOffset=z(i.zOffset,.5),this.attachment=z(i.attachment,"bottom-left"),this.showBorder=z(i.showBorder,!1),this.borderColor=z(i.borderColor,"lightgrey"),this.borderWidth=z(i.borderWidth,.15),this.showBackground=z(i.showBackground,!1),this.backgroundColor=z(i.backgroundColor,"lightgrey"),this.backgroundMargin=z(i.backgroundMargin,.5),this.backgroundOpacity=z(i.backgroundOpacity,1),this.fixedSize=z(i.fixedSize,!1),e.prototype.init.call(this,i)},t.prototype.getTextData=function(n,i){var r,a,s,o,c,A,l,u=this.getAtomParams(i),d=new X3(this.labelType,this.labelText,this.labelFormat);if(this.labelGrouping==="atom"){var p=n.getAtomData(u);r=p.position,a=p.radius,s=p.color,i&&!i.text||(o=[],n.eachAtom(function(v){return o.push(d.atomLabel(v))}))}else if(this.labelGrouping==="residue"){i&&!i.position||(c=[]),i&&!i.color||(l=[]),i&&!i.radius||(A=[]),i&&!i.text||(o=[]),u.colorParams&&(u.colorParams.structure=n.getStructure());var h=Nn.getScheme(u.colorParams),g=new Ac(u.radiusParams),b=n.getAtomProxy(),y=0;n.eachResidue(function(v){var _=3*y;v.isProtein()||v.isNucleic()?(b.index=v.traceAtomIndex,i&&!i.position||b.positionToArray(c,_)):(b.index=v.atomOffset,i&&!i.position||v.positionToArray(c,_)),i&&!i.color||h.atomColorToArray(b,l,_),i&&!i.radius||(A[y]=g.atomRadius(b)),i&&!i.text||o.push(d.atomLabel(b)),++y}),i&&!i.position||(r=new Float32Array(c)),i&&!i.color||(s=new Float32Array(l)),i&&!i.radius||(a=new Float32Array(A))}return{position:r,size:a,color:s,text:o}},t.prototype.createData=function(n){return{bufferList:[new ap(this.getTextData(n,{position:!0,color:!0,radius:!0,text:!0}),this.getBufferParams({fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight,xOffset:this.xOffset,yOffset:this.yOffset,zOffset:this.zOffset,attachment:this.attachment,showBorder:this.showBorder,borderColor:this.borderColor,borderWidth:this.borderWidth,showBackground:this.showBackground,backgroundColor:this.backgroundColor,backgroundMargin:this.backgroundMargin,backgroundOpacity:this.backgroundOpacity,fixedSize:this.fixedSize}))]}},t.prototype.updateData=function(n,i){i.bufferList[0].setAttributes(this.getTextData(i.sview,n))},t.prototype.getAtomRadius=function(){return 0},t}(Or);Ci.add("label",_ue);var xue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="line",this.parameters=Object.assign({multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0},lines:{type:"boolean",rebuild:!0},crosses:{type:"select",rebuild:!0,options:{off:"off",lone:"lone",all:"all"}},crossSize:{type:"number",precision:2,max:2,min:.1}},this.parameters,{flatShaded:null,side:null,wireframe:null,roughness:null,metalness:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};this.multipleBond=z(i.multipleBond,"off"),this.bondSpacing=z(i.bondSpacing,1),this.linewidth=z(i.linewidth,2),this.lines=z(i.lines,!0),this.crosses=z(i.crosses,"lone"),this.crossSize=z(i.crossSize,.4),e.prototype.init.call(this,i)},t.prototype.getAtomRadius=function(n){return .1},t.prototype.getBondParams=function(n,i){return i=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,radiusParams:{type:"size",size:.1,scale:1}},i),e.prototype.getBondParams.call(this,n,i)},t.prototype._crossData=function(n,i){if(!n||n.position||n.color){var r,a,s,o,c={};this.crosses==="lone"&&Object.assign(c,{atomSet:(r=i,a=r.getAtomSet(),s=r.getBondSet(),o=r.getBondProxy(),s.forEach(function(L){o.index=L,a.clear(o.atomIndex1),a.clear(o.atomIndex2)}),a)});var A=i.getAtomData(this.getAtomParams(n,c)),l={},u=A.position,d=A.color,p=A.picking,h=(u||d).length,g=3*h,b=new Float32Array(0),y=new Float32Array(0),v=new Float32Array(0),_=new Float32Array(0),w=0,E=new Float32Array(0);n&&!n.position||(b=l.position1=new Float32Array(g),y=l.position2=new Float32Array(g),w=this.crossSize/2),n&&!n.color||(v=l.color=new Float32Array(g),_=l.color2=new Float32Array(g)),n&&!n.picking||(E=new Float32Array(3*A.picking.array.length));for(var B=0;B<h;B++){var R=3*B,G=3*R;if(!n||n.position){var C=u[R],O=u[R+1],I=u[R+2];b[G]=C-w,b[G+1]=O,b[G+2]=I,y[G]=C+w,y[G+1]=O,y[G+2]=I,b[G+3]=C,b[G+4]=O-w,b[G+5]=I,y[G+3]=C,y[G+4]=O+w,y[G+5]=I,b[G+6]=C,b[G+7]=O,b[G+8]=I-w,y[G+6]=C,y[G+7]=O,y[G+8]=I+w}if(!n||n.color)for(var D=G+9,k=G;k<D;k+=3)v[k]=_[k]=d[R],v[k+1]=_[k+1]=d[R+1],v[k+2]=_[k+2]=d[R+2];n&&!n.picking||(E[R]=E[R+1]=E[R+2]=p.array[B])}return n&&!n.picking||(l.picking=new Ol(E,p.structure)),l}},t.prototype.createData=function(n){var i={position:!0,color:!0,picking:!0},r=[];if(this.lines){var a=n.getBondData(this.getBondParams(i)),s=new p0(a,this.getBufferParams({linewidth:this.linewidth}));r.push(s)}if(this.crosses!=="off"){var o=new p0(this._crossData(i,n),this.getBufferParams({linewidth:this.linewidth}));r.push(o)}return{bufferList:r}},t.prototype.updateData=function(n,i){var r=0;if(this.lines){var a=i.sview.getBondData(this.getBondParams(n)),s={};n&&!n.position||Object.assign(s,{position1:a.position1,position2:a.position2}),n&&!n.color||Object.assign(s,{color:a.color,color2:a.color2}),i.bufferList[r++].setAttributes(s)}if(this.crosses!=="off"){var o=this._crossData(n,i.sview),c={};n&&!n.position||Object.assign(c,{position1:o.position1,position2:o.position2}),n&&!n.color||Object.assign(c,{color:o.color,color2:o.color2}),i.bufferList[r++].setAttributes(c)}},t.prototype.setParameters=function(n){var i={};return n&&(n.bondSpacing||n.crossSize)&&Object.assign(i,{position:!0}),e.prototype.setParameters.call(this,n,i,!1),this},t}(Or);function KI(e,t,n,i,r){var a=new(i=i||Int32Array)(e*t*n*(r=r||1));function s(o,c,A){return((o*t+c)*n+A)*r}return{data:a,index:s,set:function(o,c,A){for(var l=[],u=arguments.length-3;u-- >0;)l[u]=arguments[u+3];for(var d=s(o,c,A),p=0;p<r;++p)a[d+p]=l[p]},toArray:function(o,c,A,l,u){l===void 0&&(l=[]),u===void 0&&(u=0);for(var d=s(o,c,A),p=0;p<r;++p)l[u+p]=a[d+p]},fromArray:function(o,c,A,l,u){u===void 0&&(u=0);for(var d=s(o,c,A),p=0;p<r;++p)a[d+p]=l[u+p]},copy:function(o){a.set(o.data)}}}function xg(e,t,n){var i=BI(t),r=Oh(e);e.length===0&&(r[0].set([0,0,0]),r[1].set([0,0,0]));var a,s,o,c,A,l,u,d,p,h,g,b,y,v,_,w=r[0],E=r[1];function B(L,T,H,W,j){a=T||1.4,s=H||2,b=j||!0;var ce=0;for(var ue in i)ce=Math.max(ce,ue);var te=Vh(w,E,ce,s,L?a:0);c=te.dim[0],A=te.dim[1],l=te.dim[2],u=te.matrix,d=te.tran,s=te.scaleFactor,p={},h={},G(L),g=a*s,o=W||a/s,y=new Uint8Array(c*A*l),L&&(v=new Float64Array(c*A*l)),b&&(_=new Int32Array(c*A*l))}var R=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];function G(L){var T,H,W,j,ce,ue,te,re,ae,fe;for(var ye in i)if(T=parseFloat(ye),!p[ye]){for(ue=(te=L?(T+a)*s+.5:T*s+.5)*te,re=Math.floor(te)+1,ae=new Int32Array(re*re),fe=0,H=0;H<re;++H)for(W=0;W<re;++W)(j=H*H+W*W)>ue?ae[fe]=-1:(ce=Math.sqrt(ue-j),ae[fe]=Math.floor(ce)),++fe;h[ye]=re,p[ye]=ae}}function C(L){var T,H,W,j,ce,ue,te,re,ae,fe,ye,se,me,pe,Ee,ee,ie,oe,he=3*L,Re=L;T=Math.floor(.5+s*(e[he]+d[0])),H=Math.floor(.5+s*(e[he+1]+d[1])),W=Math.floor(.5+s*(e[he+2]+d[2]));var Ge,Le=t[Re],K=p[Le],Z=0,Ce=A*l,ve=h[Le];for(fe=0;fe<ve;++fe)for(ye=0;ye<ve;++ye){if((Ge=K[Z])!==-1){for(ee=-1;ee<2;++ee)for(ie=-1;ie<2;++ie)for(oe=-1;oe<2;++oe)if(ee!==0&&ie!==0&&oe!==0){for(te=ee*fe,ae=oe*ye,se=0;se<=Ge;++se)if(pe=H+(re=se*ie),Ee=W+ae,!((me=T+te)<0||pe<0||Ee<0||me>=c||pe>=A||Ee>=l)){var de=me*Ce+pe*l+Ee;if(b)if(1&y[de]){if(1&y[de]){var be=_[de];be!==he&&te*te+re*re+ae*ae<(j=T+te-Math.floor(.5+s*(e[be]+d[0])))*j+(ce=H+re-Math.floor(.5+s*(e[be+1]+d[1])))*ce+(ue=W+ae-Math.floor(.5+s*(e[be+2]+d[2])))*ue&&(_[de]=L)}}else y[de]|=1,_[de]=L;else y[de]|=1}}}Z++}}function O(L){var T,H;for(console.time("EDTSurface fillvoxels"),T=0,H=y.length;T<H;++T)y[T]=0,L&&(v[T]=-1),b&&(_[T]=-1);for(T=0,H=e.length/3;T<H;++T)C(T);for(T=0,H=y.length;T<H;++T)1&y[T]&&(y[T]|=2);console.timeEnd("EDTSurface fillvoxels")}function I(L){var T,H,W,j,ce,ue,te,re,ae,fe,ye,se,me,pe,Ee,ee,ie,oe,he,Re=3*L,Ge=L,Le=0;T=Math.floor(.5+s*(e[Re]+d[0])),H=Math.floor(.5+s*(e[Re+1]+d[1])),W=Math.floor(.5+s*(e[Re+2]+d[2]));var K=t[Ge],Z=A*l;for(me=0,he=h[K];me<he;++me)for(pe=0;pe<he;++pe){if(p[K][Le]!==-1){for(ee=-1;ee<2;++ee)for(ie=-1;ie<2;++ie)for(oe=-1;oe<2;++oe)if(ee!==0&&ie!==0&&oe!==0){for(te=ee*me,ae=oe*pe,Ee=0;Ee<=p[K][Le];++Ee)if(ye=H+(re=Ee*ie),se=W+ae,!((fe=T+te)<0||ye<0||se<0||fe>=c||ye>=A||se>=l)){var Ce=fe*Z+ye*l+se;if(2&y[Ce]){if(b){var ve=_[Ce];te*te+re*re+ae*ae<(j=Math.floor(.5+s*(e[ve]+d[0])))*j+(ce=Math.floor(.5+s*(e[ve+1]+d[1])))*ce+(ue=Math.floor(.5+s*(e[ve+2]+d[2])))*ue&&(_[Ce]=L)}}else y[Ce]|=2,b&&(_[Ce]=L)}}}Le++}}function D(){var L,T,H,W;console.time("EDTSurface fastdistancemap");var j,ce=KI(c,A,l,Uint16Array,3),ue=A*l,te=g*g,re=0;for(L=0;L<c;++L)for(T=0;T<A;++T)for(H=0;H<l;++H)y[j=L*ue+T*l+H]&=-3,1&y[j]&&4&y[j]&&(ce.set(L,T,H,L,T,H),v[j]=0,y[j]|=2,re+=1);var ae=new Int32Array(3*re),fe=0,ye=new Int32Array(3*re),se=0;for(L=0;L<c;++L)for(T=0;T<A;++T)for(H=0;H<l;++H)4&y[j=L*ue+T*l+H]&&(ae[fe]=L,ae[fe+1]=T,ae[fe+2]=H,fe+=3,y[j]&=-5);do for(se=k(ae,ce,fe,ye),fe=0,L=0,W=se;L<W;L+=3)j=ue*ye[L]+l*ye[L+1]+ye[L+2],y[j]&=-5,v[j]<=1.0404*te&&(ae[fe]=ye[L],ae[fe+1]=ye[L+1],ae[fe+2]=ye[L+2],fe+=3);while(fe>0);var me,pe=o*o,Ee=new Uint16Array(3);for(L=0;L<c;++L)for(T=0;T<A;++T)for(H=0;H<l;++H)y[j=L*ue+T*l+H]&=-5,1&y[j]&&(2&y[j]&&!(2&y[j]&&v[j]>=pe)||(y[j]|=4,b&&2&y[j]&&(ce.toArray(L,T,H,Ee),me=Ee[0]*ue+Ee[1]*l+Ee[2],_[j]=_[me])));console.timeEnd("EDTSurface fastdistancemap")}function k(L,T,H,W){var j,ce,ue,te,re,ae,fe,ye,se,me,pe,Ee,ee=new Uint16Array(3),ie=0;if(H===0)return ie;var oe=-1,he=-1,Re=-1,Ge=A*l;for(fe=0,se=H;fe<se;fe+=3)for(j=L[fe],ce=L[fe+1],ue=L[fe+2],T.toArray(j,ce,ue,ee),ye=0;ye<6;++ye)oe=j+(Ee=R[ye])[0],he=ce+Ee[1],Re=ue+Ee[2],oe<c&&oe>-1&&he<A&&he>-1&&Re<l&&Re>-1&&(1&y[pe=oe*Ge+l*he+Re]&&!(2&y[pe])?(T.fromArray(oe,he,Re,ee),me=(te=oe-ee[0])*te+(re=he-ee[1])*re+(ae=Re-ee[2])*ae,v[pe]=me,y[pe]|=2,y[pe]|=4,W[ie]=oe,W[ie+1]=he,W[ie+2]=Re,ie+=3):1&y[pe]&&2&y[pe]&&(me=(te=oe-ee[0])*te+(re=he-ee[1])*re+(ae=Re-ee[2])*ae)<v[pe]&&(T.fromArray(oe,he,Re,ee),v[pe]=me,4&y[pe]||(y[pe]|=4,W[ie]=oe,W[ie+1]=he,W[ie+2]=Re,ie+=3)));for(fe=0,se=H;fe<se;fe+=3)for(j=L[fe],ce=L[fe+1],ue=L[fe+2],T.toArray(j,ce,ue,ee),ye=6;ye<18;ye++)oe=j+(Ee=R[ye])[0],he=ce+Ee[1],Re=ue+Ee[2],oe<c&&oe>-1&&he<A&&he>-1&&Re<l&&Re>-1&&(1&y[pe=oe*Ge+l*he+Re]&&!(2&y[pe])?(T.fromArray(oe,he,Re,ee),me=(te=oe-ee[0])*te+(re=he-ee[1])*re+(ae=Re-ee[2])*ae,v[pe]=me,y[pe]|=2,y[pe]|=4,W[ie]=oe,W[ie+1]=he,W[ie+2]=Re,ie+=3):1&y[pe]&&2&y[pe]&&(me=(te=oe-ee[0])*te+(re=he-ee[1])*re+(ae=Re-ee[2])*ae)<v[pe]&&(T.fromArray(oe,he,Re,ee),v[pe]=me,4&y[pe]||(y[pe]|=4,W[ie]=oe,W[ie+1]=he,W[ie+2]=Re,ie+=3)));for(fe=0,se=H;fe<se;fe+=3)for(j=L[fe],ce=L[fe+1],ue=L[fe+2],T.toArray(j,ce,ue,ee),ye=18;ye<26;ye++)oe=j+(Ee=R[ye])[0],he=ce+Ee[1],Re=ue+Ee[2],oe<c&&oe>-1&&he<A&&he>-1&&Re<l&&Re>-1&&(1&y[pe=oe*Ge+l*he+Re]&&!(2&y[pe])?(T.fromArray(oe,he,Re,ee),me=(te=oe-ee[0])*te+(re=he-ee[1])*re+(ae=Re-ee[2])*ae,v[pe]=me,y[pe]|=2,y[pe]|=4,W[ie]=oe,W[ie+1]=he,W[ie+2]=Re,ie+=3):1&y[pe]&&2&y[pe]&&(me=(te=oe-ee[0])*te+(re=he-ee[1])*re+(ae=Re-ee[2])*ae)<v[pe]&&(T.fromArray(oe,he,Re,ee),v[pe]=me,4&y[pe]||(y[pe]|=4,W[ie]=oe,W[ie+1]=he,W[ie+2]=Re,ie+=3)));return ie}this.getVolume=function(L,T,H,W,j){console.time("EDTSurface.getVolume");var ce=L!=="vws";B(ce,T,H,W,j),O(ce),function(){var re,ae,fe,ye=A*l;for(re=0;re<c;++re)for(ae=0;ae<l;++ae)for(fe=0;fe<A;++fe){var se=re*ye+fe*l+ae;if(1&y[se])for(var me=0;me<26;){var pe=re+R[me][0],Ee=ae+R[me][2],ee=fe+R[me][1];if(pe>-1&&pe<c&&ee>-1&&ee<A&&Ee>-1&&Ee<l&&!(1&y[pe*ye+ee*l+Ee])){y[se]|=4;break}me++}}}(),L!=="ms"&&L!=="ses"||D(),L==="ses"&&(G(!1),function(){var re,ae;for(re=0,ae=y.length;re<ae;++re)y[re]&=-3;for(re=0,ae=e.length/3;re<ae;++re)I(re)}()),function(re){var ae,fe=y.length;if(re==="vws")for(ae=0;ae<fe;++ae)y[ae]&=-5,y[ae]=2&y[ae]?1:0;else if(re==="ms")for(ae=0;ae<fe;++ae)y[ae]&=-3,4&y[ae]&&(y[ae]|=2),y[ae]&=-5,y[ae]=2&y[ae]?1:0;else if(re==="ses")for(ae=0;ae<fe;++ae)4&y[ae]&&2&y[ae]?y[ae]&=-5:4&y[ae]&&!(2&y[ae])&&(y[ae]|=2),y[ae]=2&y[ae]?1:0;else if(re==="sas")for(ae=0;ae<fe;++ae)y[ae]&=-5,y[ae]=2&y[ae]?1:0}(L);for(var ue=0,te=_.length;ue<te;++ue)_[ue]=n[_[ue]];return console.timeEnd("EDTSurface.getVolume"),{data:y,nx:l,ny:A,nz:c,atomindex:_}},this.getSurface=function(L,T,H,W,j,ce,ue){var te=this.getVolume(L,T,H,W,j);return new lA(te.data,te.nx,te.ny,te.nz,te.atomindex).getSurface(1,ce,void 0,u,ue)}}function WI(e,t,n,i,r,a,s){s=Math.max(.1,s);var o=e.length,c=r[0],A=r[1],l=r[2],u=a[0],d=a[1],p=a[2];function h(ce,ue){return Math.floor((ce-ue)/s)}for(var g,b,y,v=h(u,c)+1,_=h(d,A)+1,w=h(p,l)+1,E=v*_*w,B=_*w,R=[],G=0;G<o;G++){var C=(g=e[G],b=t[G],y=n[G],(h(g,c)*_+h(b,A))*w+h(y,l));R[C]===void 0?R[C]=[G]:R[C].push(G)}var O=new Uint32Array(E),I=new Uint16Array(E),D=new Uint32Array(o),k=0,L=0;for(G=0;G<E;G++){var T=O[G]=k,H=R[G];if(H!==void 0)for(var W=0;W<H.length;W++)D[k]=H[W],k++;var j=k-T;I[G]=j,j>L&&(L=j)}return{neighbourListLength:27*L+1,withinRadii:function(ce,ue,te,re,ae){for(var fe=0,ye=h(ce,c),se=h(ue,A),me=h(te,l),pe=Math.max(0,ye-1),Ee=Math.max(0,se-1),ee=Math.max(0,me-1),ie=Math.min(v,ye+2),oe=Math.min(_,se+2),he=Math.min(w,me+2),Re=pe;Re<ie;++Re)for(var Ge=Re*B,Le=Ee;Le<oe;++Le)for(var K=Le*w,Z=ee;Z<he;++Z)for(var Ce=Ge+K+Z,ve=O[Ce],de=ve+I[Ce],be=ve;be<de;be++){var Pe=D[be],Ve=e[Pe]-ce,Fe=t[Pe]-ue,He=n[Pe]-te,ke=i[Pe]+re;Ve*Ve+Fe*Fe+He*He<=ke*ke&&(ae[fe++]=D[be])}ae[fe]=-1}}}function Bg(e,t,n){for(var i=t.length,r=new Float32Array(i),a=new Float32Array(i),s=new Float32Array(i),o=0;o<i;o++){var c=3*o;r[o]=e[c],a[o]=e[c+1],s[o]=e[c+2]}var A=Oh(e);e.length===0&&(A[0].set([0,0,0]),A[1].set([0,0,0]));var l,u,d,p,h,g,b,y,v,_,w,E,B,R,G,C,O,I,D,k=A[0],L=A[1],T=-1,H=new Float32Array([0,0,0]),W=new Float32Array([0,0,0]),j=new Float32Array([0,0,0]),ce=new Float32Array([0,0,0]);function ue(me,pe,Ee,ee){p=z(me,1.4),h=z(pe,2),g=z(Ee,!0),b=z(ee,30),l=new Float32Array(i),u=new Float32Array(i);for(var ie=0;ie<l.length;++ie){var oe=t[ie]+p;l[ie]=oe,u[ie]=oe*oe}d=0;for(var he=0;he<l.length;++he)l[he]>d&&(d=l[he]);var Re;Re=Vh(k,L,d,h,0),h=Re.scaleFactor,y=Re.dim,v=Re.matrix,D=Math.max(5,2+Math.floor(p*h)),_=os(y[0]*y[1]*y[2],-1001),w=new Int32Array(_.length),E=new Float32Array(y[0]),B=new Float32Array(y[1]),R=new Float32Array(y[2]),te(E,k[0],1/h),te(B,k[1],1/h),te(R,k[2],1/h),function(){var Ge=0,Le=2*Math.PI/b;C=new Float32Array(b),G=new Float32Array(b);for(var K=0;K<b;K++)C[K]=Math.cos(Ge),G[K]=Math.sin(Ge),Ge+=Le}(),O=WI(r,a,s,l,k,L,2.01*d),I=new Int32Array(O.neighbourListLength),T=-1}function te(me,pe,Ee){for(var ee=0;ee<me.length;ee++)me[ee]=pe+Ee*ee}function re(me,pe,Ee,ee,ie){var oe;if(T!==-1){if((oe=T)!==ee&&oe!==ie&&ae(oe,me,pe,Ee))return oe;T=-1}var he=0;for(oe=I[he];oe>=0;){if(oe!==ee&&oe!==ie&&ae(oe,me,pe,Ee))return T=oe,oe;oe=I[++he]}return T=-1,-1}function ae(me,pe,Ee,ee){var ie=3*me,oe=u[me],he=e[ie]-pe,Re=e[ie+1]-Ee,Ge=e[ie+2]-ee;return he*he+Re*Re+Ge*Ge<oe}function fe(){for(var me=0;me<i;me++){var pe=r[me],Ee=a[me],ee=s[me],ie=l[me],oe=u[me];O.withinRadii(pe,Ee,ee,ie,I);for(var he=Math.ceil(ie*h),Re=Math.floor(h*(pe-k[0])),Ge=Math.floor(h*(Ee-k[1])),Le=Math.floor(h*(ee-k[2])),K=Math.max(0,Re-he),Z=Math.max(0,Ge-he),Ce=Math.max(0,Le-he),ve=Math.min(y[0],Re+he+2),de=Math.min(y[1],Ge+he+2),be=Math.min(y[2],Le+he+2),Pe=K;Pe<ve;Pe++)for(var Ve=E[Pe]-pe,Fe=y[1]*y[2]*Pe,He=Z;He<de;He++)for(var ke=B[He]-Ee,qe=Ve*Ve+ke*ke,Ye=Fe+y[2]*He,We=Ce;We<be;We++){var mt=R[We]-ee,Qt=qe+mt*mt;if(Qt<oe){var Dt=We+Ye;_[Dt]<0&&(_[Dt]=-_[Dt]);var Me=Math.sqrt(Qt),it=ie/Me,ut=Ve*it,vt=ke*it,ot=mt*it;if(re(ut+=pe,vt+=Ee,ot+=ee,me,-1)===-1){var Ht=ie-Me;Ht<_[Dt]&&(_[Dt]=Ht,g&&(w[Dt]=me))}}}}}function ye(me,pe){var Ee=l[me],ee=l[pe],ie=H[0]=r[pe]-r[me],oe=H[1]=a[pe]-a[me],he=H[2]=s[pe]-s[me],Re=ie*ie+oe*oe+he*he,Ge=Math.sqrt(Re),Le=Ee*((Ee*Ee+Ge*Ge-ee*ee)/(2*Ee*Ge));ki(H,H),function(ct,yt){ct[0]=ct[1]=ct[2]=1,yt[0]!==0?ct[0]=(yt[1]+yt[2])/-yt[0]:yt[1]!==0?ct[1]=(yt[0]+yt[2])/-yt[1]:yt[2]!==0&&(ct[2]=(yt[0]+yt[1])/-yt[2])}(j,H),ki(j,j),Ua(ce,H,j),ki(ce,ce);var K=Math.sqrt(Ee*Ee-Le*Le);di(j,j,K),di(ce,ce,K),di(H,H,Le),W[0]=H[0]+r[me],W[1]=H[1]+a[me],W[2]=H[2]+s[me],T=-1;for(var Z=D,Ce=0;Ce<b;Ce++){var ve=C[Ce],de=G[Ce],be=W[0]+ve*j[0]+de*ce[0],Pe=W[1]+ve*j[1]+de*ce[1],Ve=W[2]+ve*j[2]+de*ce[2];if(re(be,Pe,Ve,me,pe)===-1)for(var Fe=Math.floor(h*(be-k[0])),He=Math.floor(h*(Pe-k[1])),ke=Math.floor(h*(Ve-k[2])),qe=Math.max(0,Fe-Z),Ye=Math.max(0,He-Z),We=Math.max(0,ke-Z),mt=Math.min(y[0],Fe+Z+2),Qt=Math.min(y[1],He+Z+2),Dt=Math.min(y[2],ke+Z+2),Me=qe;Me<mt;Me++){ie=be-E[Me];for(var it=y[1]*y[2]*Me,ut=Ye;ut<Qt;ut++)for(var vt=ie*ie+(oe=Pe-B[ut])*oe,ot=it+y[2]*ut,Ht=We;Ht<Dt;Ht++){Re=vt+(he=Ve-R[Ht])*he;var Et=Ht+ot,bt=_[Et];if(bt>0&&Re<bt*bt&&(_[Et]=Math.sqrt(Re),g)){var en=ie*H[0]+oe*H[1]+he*H[2];w[Et]=en<0?pe:me}}}}}function se(me,pe,Ee){console.time("AVSurface.getVolume"),console.time("AVSurface.init"),ue(me,pe,Ee),console.timeEnd("AVSurface.init"),console.time("AVSurface.projectPoints"),fe(),console.timeEnd("AVSurface.projectPoints"),console.time("AVSurface.projectTorii"),function(){for(var ee=0;ee<i;ee++){O.withinRadii(r[ee],a[ee],s[ee],l[ee],I);for(var ie=0,oe=I[ie];oe>=0;)ee<oe&&ye(ee,oe),oe=I[++ie]}}(),console.timeEnd("AVSurface.projectTorii"),function(){for(var ee=0;ee<_.length;ee++)_[ee]<0&&(_[ee]=0)}(),function(){for(var ee=0;ee<w.length;ee++)w[ee]=n[w[ee]]}(),console.timeEnd("AVSurface.getVolume")}this.getSurface=function(me,pe,Ee,ee,ie,oe,he){return se(pe,Ee,ie),new lA(_,y[2],y[1],y[0],w).getSurface(pe,!1,void 0,v,he)}}Ci.add("line",xue),Object.assign(xg,{__deps:[Vh,BI,lA,Oh,KI]}),Object.assign(Bg,{__deps:[Vh,lA,os,Oh,di,Ua,ki,WI,z]}),Dh.add("molsurf",function(e,t){var n=e.data.args,i=e.data.params;if(n&&i){var r=new(i.type==="av"?Bg:xg)(n.coordList,n.radiusList,n.indexList).getSurface(i.type,i.probeRadius,i.scaleFactor,i.cutoff,!0,i.smooth,i.contour),a=[r.position.buffer,r.index.buffer];r.normal&&a.push(r.normal.buffer),r.atomindex&&a.push(r.atomindex.buffer),t({sd:r,p:i},a)}},[xg,Bg]);var $u=function(e){this.structure=e};$u.prototype._getAtomData=function(e){return this.structure.getAtomData({what:{position:!0,radius:!0,index:!0},radiusParams:z(e.radiusParams,{type:"vdw",scale:1})})},$u.prototype._makeSurface=function(e,t){var n=new Yr(t.name,"",e);return n.info.type=t.type,n.info.probeRadius=t.probeRadius,n.info.scaleFactor=t.scaleFactor,n.info.smooth=t.smooth,n.info.cutoff=t.cutoff,n},$u.prototype.getSurface=function(e){var t=e||{},n=this._getAtomData(e),i=n.position,r=n.radius,a=n.index,s=new(t.type==="av"?Bg:xg)(i,r,a).getSurface(t.type,t.probeRadius,t.scaleFactor,t.cutoff,!0,t.smooth,t.contour);return this._makeSurface(s,t)},$u.prototype.getSurfaceWorker=function(e,t){var n=this,i=Object.assign({},e);if(window.hasOwnProperty("Worker")){this.worker===void 0&&(this.worker=new K3("molsurf"));var r=this._getAtomData(e),a=r.position,s=r.radius,o=r.index,c={args:{coordList:a,radiusList:s,indexList:o},params:i},A=[a.buffer,s.buffer,o.buffer];this.worker.post(c,A,function(u){t(n._makeSurface(u.data.sd,i))},function(u){console.warn("MolecularSurface.getSurfaceWorker error - trying without worker",u),n.worker.terminate(),n.worker=void 0;var d=n.getSurface(i);t(d)})}else{var l=this.getSurface(i);t(l)}},$u.prototype.dispose=function(){this.worker&&this.worker.terminate()};var Bue=function(e){function t(n,i,r){var a=this;e.call(this,n,i,r),this.type="surface",this.parameters=Object.assign({surfaceType:{type:"select",rebuild:!0,options:{vws:"vws",sas:"sas",ms:"ms",ses:"ses",av:"av"}},probeRadius:{type:"number",precision:1,max:20,min:0,rebuild:!0},smooth:{type:"integer",precision:1,max:10,min:0,rebuild:!0},scaleFactor:{type:"number",precision:1,max:5,min:0,rebuild:!0},cutoff:{type:"number",precision:2,max:50,min:0,rebuild:!0},contour:{type:"boolean",rebuild:!0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},filterSele:{type:"text",rebuild:!0},colorVolume:{type:"hidden"},useWorker:{type:"boolean",rebuild:!0}},this.parameters,{radius:null,scale:null}),this.__infoList=[],this.structure.signals.refreshed.add(function(){a.__forceNewMolsurf=!0}),this.toBePrepared=!0,this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=z(i.colorScheme,"uniform"),i.colorValue=z(i.colorValue,14540253),i.disablePicking=z(i.disablePicking,!0),this.surfaceType=z(i.surfaceType,"ms"),this.probeRadius=z(i.probeRadius,1.4),this.smooth=z(i.smooth,2),this.scaleFactor=z(i.scaleFactor,2),this.cutoff=z(i.cutoff,0),this.contour=z(i.contour,!1),this.background=z(i.background,!1),this.opaqueBack=z(i.opaqueBack,!0),this.filterSele=z(i.filterSele,""),this.colorVolume=z(i.colorVolume,void 0),this.useWorker=z(i.useWorker,!0),e.prototype.init.call(this,n)},t.prototype.prepareData=function(n,i,r){var a=this.__infoList[i];if(a||(a={},this.__infoList[i]=a),a.molsurf&&a.sele===n.selection.string)r(i);else{if(this.filterSele){var s=n.structure.getView(new si(this.filterSele)),o=s.boundingBox.getSize(new P),c=Math.max(o.x,o.y,o.z),A=n.getAtomSetWithinPoint(s.center,c/2+6);if((n=n.getView(new si(n.getAtomSetWithinSelection(A,3).toSeleString()))).atomCount===0)return void r(i)}a.sele=n.selection.string,a.molsurf=new $u(n);var l=this.getSurfaceParams(),u=function(d){a.surface=d,r(i)};this.useWorker?a.molsurf.getSurfaceWorker(l,u):u(a.molsurf.getSurface(l))}},t.prototype.prepare=function(n){var i=this;if((this.__forceNewMolsurf||this.__sele!==this.selection.string||this.__surfaceParams!==JSON.stringify(this.getSurfaceParams()))&&(this.__infoList.forEach(function(o){o&&o.molsurf&&o.molsurf.dispose()}),this.__infoList.length=0),this.structureView.atomCount!==0){var r=function(){i.__sele=i.selection.string,i.__surfaceParams=JSON.stringify(i.getSurfaceParams()),i.__forceNewMolsurf=!1,n()},a=this.assembly==="default"?this.defaultAssembly:this.assembly,s=this.structure.biomolDict[a];s?s.partList.forEach(function(o,c){var A=o.getView(i.structureView);i.prepareData(A,c,function(l){l===s.partList.length-1&&r()})}):this.prepareData(this.structureView,0,r)}else n()},t.prototype.createData=function(n,i){var r=this.__infoList[i],a=r.surface;if(a){var s={position:a.getPosition(),color:a.getColor(this.getColorParams()),index:a.getFilteredIndex(this.filterSele,n)},o=[];if(a.contour){var c=new CI(s,this.getBufferParams({wireframe:!1}));o.push(c)}else{Object.assign(s,{normal:a.getNormal(),picking:a.getPicking(n.getStructure())});var A=new RI(s,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1}));if(this.getBufferParams().side=="double"){var l=new Cs(A);o.push(l)}else o.push(A)}return{bufferList:o,info:r}}},t.prototype.updateData=function(n,i){var r={};if(n.position||n.radius)return this.__forceNewMolsurf=!0,void this.build();n.color&&(r.color=i.info.surface.getColor(this.getColorParams())),n.index&&(r.index=i.info.surface.getFilteredIndex(this.filterSele,i.sview)),i.bufferList[0].setAttributes(r)},t.prototype.setParameters=function(n,i,r){return i===void 0&&(i={}),n&&n.filterSele&&(i.index=!0),n&&n.colorVolume!==void 0&&(i.color=!0),n&&n.wireframe&&(n.contour||n.contour===void 0&&this.contour)&&(n.wireframe=!1),e.prototype.setParameters.call(this,n,i,r),this},t.prototype.getSurfaceParams=function(n){return n===void 0&&(n={}),Object.assign({type:this.surfaceType,probeRadius:this.probeRadius,scaleFactor:this.scaleFactor,smooth:this.smooth&&!this.contour,cutoff:this.cutoff,contour:this.contour,useWorker:this.useWorker,radiusParams:this.getRadiusParams()},n)},t.prototype.getColorParams=function(){var n=e.prototype.getColorParams.call(this);return n.volume=this.colorVolume,n},t.prototype.getAtomRadius=function(){return 0},t.prototype.clear=function(){e.prototype.clear.call(this)},t.prototype.dispose=function(){this.__infoList.forEach(function(n){n&&n.molsurf&&n.molsurf.dispose()}),this.__infoList.length=0,e.prototype.dispose.call(this)},t}(Or);Ci.add("surface",Bue);var Rue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="point",this.parameters=Object.assign({pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{flatShaded:null,wireframe:null,linewidth:null,side:null,roughness:null,metalness:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};this.pointSize=z(i.pointSize,1),this.sizeAttenuation=z(i.sizeAttenuation,!0),this.sortParticles=z(i.sortParticles,!1),this.useTexture=z(i.useTexture,!1),this.alphaTest=z(i.alphaTest,.5),this.forceTransparent=z(i.forceTransparent,!1),this.edgeBleach=z(i.edgeBleach,0),e.prototype.init.call(this,i)},t.prototype.createData=function(n){var i=n.getAtomData(this.getAtomParams({position:!0,color:!0,picking:!0}));return{bufferList:[new H7(i,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach}))]}},t.prototype.updateData=function(n,i){var r=i.sview.getAtomData(this.getAtomParams(n)),a={};n&&!n.position||Object.assign(a,{position:r.position}),n&&!n.color||Object.assign(a,{color:r.color}),i.bufferList[0].setAttributes(a)},t.prototype.getAtomRadius=function(){return .1},t}(Or);Ci.add("point",Rue),Vn.add("shader/Ribbon.vert",`#define STANDARD
uniform float clipNear;
uniform vec3 clipCenter;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
attribute vec3 dir;
attribute float size;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#endif
#include common
void main(void){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#include beginnormal_vertex
#include defaultnormal_vertex
#ifndef FLAT_SHADED
vNormal = normalize( transformedNormal );
#endif
#endif
#include begin_vertex
transformed += normalize( dir ) * size;
#include project_vertex
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`);var Cue=new Uint16Array([0,1,2,1,3,2]);function Wp(e){return 3*(4*(e.position.length/3-1))}var Nue=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,{position:new Float32Array(Wp(n)),color:new Float32Array(Wp(n)),index:cc(Wp(n),Wp(n)/3),normal:new Float32Array(Wp(n)),picking:n.picking},i),this.vertexShader="Ribbon.vert";var r=n.position.length/3-1,a=4*r,s=3*a;this.addAttributes({dir:{type:"v3",value:new Float32Array(s)}}),this.addAttributes({size:{type:"f",value:new Float32Array(a)}}),n.primitiveId=np(r),this.setAttributes(n),this.makeIndex()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAttributes=function(n){n===void 0&&(n={});var i,r,a,s,o,c,A,l,u,d,p,h,g,b,y,v,_,w,E,B=this.size/4,R=this.geometry.attributes;n.position&&(i=n.position,A=R.position.array,R.position.needsUpdate=!0),n.normal&&(r=n.normal,l=R.normal.array,R.normal.needsUpdate=!0),n.size&&(a=n.size,u=R.size.array,R.size.needsUpdate=!0),n.dir&&(s=n.dir,d=R.dir.array,R.dir.needsUpdate=!0),n.color&&(o=n.color,p=R.color.array,R.color.needsUpdate=!0),n.primitiveId&&(c=n.primitiveId,h=R.primitiveId.array,R.primitiveId.needsUpdate=!0);var G=a?a[0]:null;for(g=0;g<B;++g){for(w=3*g,y=3*g*4,_=4*g,i&&(A[y]=A[y+3]=i[w],A[y+1]=A[y+4]=i[w+1],A[y+2]=A[y+5]=i[w+2],A[y+6]=A[y+9]=i[w+3],A[y+7]=A[y+10]=i[w+4],A[y+8]=A[y+11]=i[w+5]),r&&(l[y]=l[y+3]=-r[w],l[y+1]=l[y+4]=-r[w+1],l[y+2]=l[y+5]=-r[w+2],l[y+6]=l[y+9]=-r[w+3],l[y+7]=l[y+10]=-r[w+4],l[y+8]=l[y+11]=-r[w+5]),b=0;b<4;++b)v=y+3*b,o&&(p[v]=o[w],p[v+1]=o[w+1],p[v+2]=o[w+2]),c&&(h[_+b]=c[g]);a&&(E=a[g],G!==a[g]?(u[_]=G,u[_+1]=G,u[_+2]=E,u[_+3]=E):(u[_]=E,u[_+1]=E,u[_+2]=E,u[_+3]=E),G=E),s&&(d[y]=s[w],d[y+1]=s[w+1],d[y+2]=s[w+2],d[y+3]=-s[w],d[y+4]=-s[w+1],d[y+5]=-s[w+2],d[y+6]=s[w+3],d[y+7]=s[w+4],d[y+8]=s[w+5],d[y+9]=-s[w+3],d[y+10]=-s[w+4],d[y+11]=-s[w+5])}},t.prototype.makeIndex=function(){var n=this.geometry.getIndex();if(n)for(var i=n.array,r=i.length/4/3,a=0;a<r;++a){var s=6*a,o=4*a;i.set(Cue,s);for(var c=0;c<6;++c)i[s+c]+=o}else De.error("Index is null")},t}(d0),Sue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="ribbon",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{side:null,wireframe:null,linewidth:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=z(i.colorScheme,"chainname"),i.colorScale=z(i.colorScale,"RdYlBu"),i.radiusType=z(i.radiusType,"sstruc"),i.radiusScale=z(i.radiusScale,4),i.quality==="low"?this.subdiv=3:i.quality==="medium"?this.subdiv=6:i.quality==="high"?this.subdiv=12:this.subdiv=z(i.subdiv,6),this.tension=z(i.tension,NaN),this.smoothSheet=z(i.smoothSheet,!1),e.prototype.init.call(this,i)},t.prototype.getSplineParams=function(n){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!0,smoothSheet:this.smoothSheet},n)},t.prototype.getAtomRadius=function(n){return n.isTrace()?e.prototype.getAtomRadius.call(this,n):0},t.prototype.createData=function(n){var i=this,r=[],a=[];return this.structure.eachPolymer(function(s){if(!(s.residueCount<4)){a.push(s);var o=new la(s,i.getSplineParams()),c=o.getSubdividedPosition(),A=o.getSubdividedOrientation(),l=o.getSubdividedColor(i.getColorParams()),u=o.getSubdividedPicking(),d=o.getSubdividedSize(i.getRadiusParams());r.push(new Nue({position:c.position,normal:A.binormal,dir:A.normal,color:l.color,size:d.size,picking:u.picking},i.getBufferParams()))}},n.getSelection()),{bufferList:r,polymerList:a}},t.prototype.updateData=function(n,i){n=n||{};var r=0,a=i.polymerList.length;for(r=0;r<a;++r){var s={},o=new la(i.polymerList[r],this.getSplineParams());if(n.position){var c=o.getSubdividedPosition(),A=o.getSubdividedOrientation();Object.assign(s,{position:c.position,normal:A.binormal,dir:A.normal})}if(n.radius||n.scale){var l=o.getSubdividedSize(this.getRadiusParams());Object.assign(s,{size:l.size})}if(n.color){var u=o.getSubdividedColor(this.getColorParams());Object.assign(s,{color:u.color})}i.bufferList[r].setAttributes(s)}},t.prototype.setParameters=function(n){var i={};return n&&n.tension&&Object.assign(i,{position:!0}),e.prototype.setParameters.call(this,n,i,!1),this},t}(Or);Ci.add("ribbon",Sue);var Gue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="rocket",this.parameters=Object.assign({localAngle:{type:"integer",max:180,min:0,rebuild:!0},centerDist:{type:"number",precision:1,max:10,min:0,rebuild:!0},ssBorder:{type:"boolean",rebuild:!0},radialSegments:!0,openEnded:!0,disableImpostor:!0},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=z(i.colorScheme,"sstruc"),i.radiusSize=z(i.radiusSize,1.5),i.radiusScale=z(i.radiusScale,1),i.openEnded=z(i.openEnded,!1),i.useInteriorColor=z(i.useInteriorColor,!0),this.localAngle=z(i.localAngle,30),this.centerDist=z(i.centerDist,2.5),this.ssBorder=z(i.ssBorder,!1),e.prototype.init.call(this,i)},t.prototype.createData=function(n){var i=this,r=0,a=[],s=[];this.structure.eachPolymer(function(l){if(!(l.residueCount<4||l.isNucleic())){var u=new U7(l),d=u.getAxis(i.localAngle,i.centerDist,i.ssBorder,i.getColorParams(),i.getRadiusParams());r+=d.size.length,a.push(d),s.push(u)}},n.getSelection());var o={begin:new Float32Array(3*r),end:new Float32Array(3*r),size:new Float32Array(r),color:new Float32Array(3*r),picking:{}},c=new Float32Array(r),A=0;return a.forEach(function(l){o.begin.set(l.begin,3*A),o.end.set(l.end,3*A),o.size.set(l.size,A),o.color.set(l.color,3*A),c.set(l.picking.array,A),A+=l.size.length}),r&&(o.picking=new Ol(c,n.getStructure())),{bufferList:[new y0({position1:o.begin,position2:o.end,color:o.color,color2:o.color,radius:o.size,picking:o.picking},this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))],axisList:a,helixbundleList:s,axisData:o}},t.prototype.updateData=function(n,i){var r=this;if((n=n||{}).position)this.build();else{var a={};if(n.color||n.radius){var s=0;i.helixbundleList.forEach(function(o){var c=o.getAxis(r.localAngle,r.centerDist,r.ssBorder,r.getColorParams(),r.getRadiusParams());n.color&&i.axisData.color.set(c.color,3*s),(n.radius||n.scale)&&i.axisData.size.set(c.size,s),s+=c.size.length}),n.color&&Object.assign(a,{color:i.axisData.color,color2:i.axisData.color}),(n.radius||n.scale)&&Object.assign(a,{radius:i.axisData.size})}i.bufferList[0].setAttributes(a)}},t}(Or);Ci.add("rocket",Gue);var Mue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="rope",this.parameters=Object.assign({smooth:{type:"integer",max:15,min:0,rebuild:!0}},this.parameters,{aspectRatio:null,smoothSheet:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.aspectRatio=1,i.tension=z(i.tension,.5),i.radiusScale=z(i.radiusScale,5),i.smoothSheet=!1,this.smooth=z(i.smooth,2),e.prototype.init.call(this,i)},t.prototype.getSpline=function(n){var i=new $c(n);return new la(n,this.getSplineParams({directional:!1,positionIterator:i.getCenterIterator(this.smooth)}))},t}($7);Ci.add("rope",Mue);var Tue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="spacefill",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.useInteriorColor=z(i.useInteriorColor,!0),e.prototype.init.call(this,i)},t.prototype.createData=function(n){return{bufferList:[new RA(n.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,dullInterior:!0,disableImpostor:this.disableImpostor}))]}},t.prototype.updateData=function(n,i){var r=i.sview.getAtomData(this.getAtomParams(n)),a={};n&&!n.position||Object.assign(a,{position:r.position}),n&&!n.color||Object.assign(a,{color:r.color}),n&&!n.radius||Object.assign(a,{radius:r.radius}),i.bufferList[0].setAttributes(a)},t}(Or);function oS(e){return 3*(e.position.length/3-1)*2}Ci.add("spacefill",Tue);var Fue=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,{position:new Float32Array(oS(n)),color:new Float32Array(oS(n))},i),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag",this.setAttributes(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAttributes=function(n){var i,r,a,s,o=this.geometry.attributes;if(n.position&&(i=n.position,a=o.position.array,o.position.needsUpdate=!0),n.color&&(r=n.color,s=o.color.array,o.color.needsUpdate=!0),i||r)for(var c,A,l=this.size-1,u=0;u<l;++u)c=3*u,A=3*u*2,i&&(a[A]=i[c],a[A+1]=i[c+1],a[A+2]=i[c+2],a[A+3]=i[c+3],a[A+4]=i[c+4],a[A+5]=i[c+5]),r&&(s[A]=r[c],s[A+1]=r[c+1],s[A+2]=r[c+2],s[A+3]=r[c+3],s[A+4]=r[c+4],s[A+5]=r[c+5]);else De.warn("TraceBuffer.prototype.setAttributes no data")},t}(Fn),Iue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="trace",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=z(i.colorScheme,"chainname"),i.colorScale=z(i.colorScale,"RdYlBu"),i.quality==="low"?this.subdiv=3:i.quality==="medium"?this.subdiv=6:i.quality==="high"?this.subdiv=12:this.subdiv=z(i.subdiv,6),this.tension=z(i.tension,NaN),this.smoothSheet=z(i.smoothSheet,!1),e.prototype.init.call(this,i)},t.prototype.getSplineParams=function(n){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!1,smoothSheet:this.smoothSheet},n)},t.prototype.getAtomRadius=function(n){return n.isTrace()?.1:0},t.prototype.createData=function(n){var i=this,r=[],a=[];return this.structure.eachPolymer(function(s){if(!(s.residueCount<4)){a.push(s);var o=new la(s,i.getSplineParams()),c=o.getSubdividedPosition(),A=o.getSubdividedColor(i.getColorParams());r.push(new Fue(Object.assign({},c,A),i.getBufferParams()))}},n.getSelection()),{bufferList:r,polymerList:a}},t.prototype.updateData=function(n,i){n=n||{};var r=0,a=i.polymerList.length;for(r=0;r<a;++r){var s={},o=new la(i.polymerList[r],this.getSplineParams());if(n.position){var c=o.getSubdividedPosition();Object.assign(s,{position:c.position})}if(n.color){var A=o.getSubdividedColor(this.getColorParams());Object.assign(s,{color:A.color})}i.bufferList[r].setAttributes(s)}},t.prototype.setParameters=function(n){var i={};return n&&n.tension&&Object.assign(i,{position:!0}),e.prototype.setParameters.call(this,n,i,!1),this},t}(Or);Ci.add("trace",Iue);var Lue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="tube",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.aspectRatio=1,i.radiusScale=z(i.radiusScale,2),i.quality==="low"&&(this.radialSegments=5),e.prototype.init.call(this,i)},t.prototype.getSplineParams=function(){return e.prototype.getSplineParams.call(this,{directional:!1})},t}($7);Ci.add("tube",Lue);var Pue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="unitcell",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0},this.parameters,{assembly:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{},r=.5;this.structure.unitcell&&(r=Math.cbrt(this.structure.unitcell.volume)/200),i.radiusSize=z(i.radiusSize,r),i.colorValue=z(i.colorValue,"orange"),i.useInteriorColor=z(i.useInteriorColor,!0),e.prototype.init.call(this,i)},t.prototype.getUnitcellData=function(n){return n.unitcell.getData(n)},t.prototype.create=function(){var n=this.structureView.getStructure();if(n.unitcell){var i=this.getUnitcellData(n);this.sphereBuffer=new RA(i.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new y0(i.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})}},t.prototype.createData=function(n){},t.prototype.updateData=function(n,i){var r=i.sview.getStructure();if(r.unitcell){var a=this.getUnitcellData(r),s={},o={};n&&!n.position||(Object.assign(s,{position:a.vertex.position}),Object.assign(o,{position1:a.edge.position1,position2:a.edge.position2})),n&&!n.color||(Object.assign(s,{color:a.vertex.color}),Object.assign(o,{color:a.edge.color,color2:a.edge.color2})),n&&!n.radius||(Object.assign(s,{radius:a.vertex.radius}),Object.assign(o,{radius:a.edge.radius})),this.sphereBuffer.setAttributes(s),this.cylinderBuffer.setAttributes(o)}},t}(Or);Ci.add("unitcell",Pue);var Uue=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="validation",this.parameters=Object.assign({},this.parameters,{radiusType:null,radiusSize:null,radiusScale:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorValue=z(i.colorValue,"#f0027f"),i.useInteriorColor=z(i.useInteriorColor,!0),e.prototype.init.call(this,i)},t.prototype.createData=function(n){if(n.validation){var i=n.validation.getClashData({structure:n,color:this.colorValue});return{bufferList:[new y0(i,this.getBufferParams({openEnded:!1}))]}}},t}(Or);Ci.add("validation",Uue);var cS=new P,mE=new P,yE=new P,Due=new P(0,1,0),kue=Object.assign({radialSegments:60,openEnded:!1},ga),$I=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,{position:new Float32Array(i.position1.length),color:i.color,picking:i.picking},r,function(a){a===void 0&&(a={});var s=new Rh(1,1,z(a.radialSegments,60),1,z(a.openEnded,!1));return s.applyMatrix4(new st().makeRotationX(-Math.PI/2)),s}(r)),this.updateNormals=!0,this._position=new Float32Array(i.position1.length),this.setAttributes(i,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return kue},t.prototype.applyPositionTransform=function(i,r,a){mE.fromArray(this._position1,a),yE.fromArray(this._position2,a),i.lookAt(mE,yE,Due);var s=this._radius[r];cS.set(s,s,mE.distanceTo(yE)),i.scale(cS)},t.prototype.setAttributes=function(i,r){i===void 0&&(i={}),i.position1&&i.position2&&(tc(i.position1,i.position2,this._position),this._position1=i.position1,this._position2=i.position2,i.position=this._position),i.radius&&(this._radius=i.radius),e.prototype.setAttributes.call(this,i,r)},Object.defineProperties(t.prototype,n),t}(BA);ls.add("cone",$I);var jI=function(e){e===void 0&&(e=[]),this.geometryList=e};jI.prototype.computeBoundingBox=function(){var e=this;this.boundingBox?this.boundingBox.empty():this.boundingBox=new gi,this.geometryList.forEach(function(t){t.boundingBox||t.computeBoundingBox(),e.boundingBox.union(t.boundingBox)})};var Oue=Object.assign({aspectRatio:1.5,radialSegments:50,openEnded:!1,disableImpostor:!1},ga),Io=function(e,t){t===void 0&&(t={}),this.group=new ui,this.wireframeGroup=new ui,this.pickingGroup=new ui,this.visible=!0,this.parameters=As(t,this.defaultParameters),this.splitPosition=new Float32Array(e.position1.length),this.cylinderRadius=new Float32Array(e.radius.length);var n=this.makeAttributes(e),i={radialSegments:this.parameters.radialSegments,openEnded:this.parameters.openEnded,disableImpostor:this.parameters.disableImpostor};this.cylinderBuffer=new y0(n.cylinder,i),this.coneBuffer=new $I(n.cone,i),this.geometry=new jI([this.cylinderBuffer.geometry,this.coneBuffer.geometry]),this.matrix=z(t.matrix,new st),this.picking=e.picking},$p={defaultParameters:{configurable:!0},matrix:{configurable:!0},pickable:{configurable:!0}};$p.defaultParameters.get=function(){return Oue},$p.matrix.set=function(e){Fn.prototype.setMatrix.call(this,e)},$p.matrix.get=function(){return this.group.matrix.clone()},$p.pickable.get=function(){return!!this.picking},Io.prototype.makeAttributes=function(e){e===void 0&&(e={});var t,n,i=this.splitPosition,r=this.cylinderRadius,a=this.parameters.aspectRatio,s={},o={};if(e.radius){for(t=0,n=r.length;t<n;++t)r[t]=e.radius[t]/a;s.radius=r,o.radius=e.radius}if(e.position1&&e.position2){var c=new P,A=new P,l=new P,u=new P;for(t=0,n=i.length;t<n;t+=3){c.fromArray(e.position1,t),A.fromArray(e.position2,t),l.subVectors(c,A);var d=l.length(),p=r[t/3]*a*2,h=Math.min(d,p);l.setLength(h),u.copy(A).add(l),u.toArray(i,t)}s.position1=e.position1,s.position2=i,o.position1=i,o.position2=e.position2}return e.color&&(s.color=e.color,s.color2=e.color,o.color=e.color),{cylinder:s,cone:o}},Io.prototype.getMesh=function(){return new ui().add(this.cylinderBuffer.getMesh(),this.coneBuffer.getMesh())},Io.prototype.getWireframeMesh=function(){return new ui().add(this.cylinderBuffer.getWireframeMesh(),this.coneBuffer.getWireframeMesh())},Io.prototype.getPickingMesh=function(){return new ui().add(this.cylinderBuffer.getPickingMesh(),this.coneBuffer.getPickingMesh())},Io.prototype.setAttributes=function(e){e===void 0&&(e={});var t=this.makeAttributes(e);this.cylinderBuffer.setAttributes(t.cylinder),this.coneBuffer.setAttributes(t.cone)},Io.prototype.setParameters=function(e){e===void 0&&(e={}),(e=Object.assign({},e))&&e.matrix!==void 0&&(this.matrix=e.matrix),delete e.matrix,e&&e.wireframe!==void 0&&(this.parameters.wireframe=e.wireframe,this.setVisibility(this.visible)),this.cylinderBuffer.setParameters(e),this.coneBuffer.setParameters(e)},Io.prototype.setVisibility=function(e){Fn.prototype.setVisibility.call(this,e)},Io.prototype.dispose=function(){this.cylinderBuffer.dispose(),this.coneBuffer.dispose()},Object.defineProperties(Io.prototype,$p),ls.add("arrow",Io);var AS=new P,gE=new P,bE=new P,Hue=new P(0,0,0),Que=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,n,i,new cm(1,1,1)),this.updateNormals=!0,this.setAttributes(n,!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyPositionTransform=function(n,i,r){gE.fromArray(this._heightAxis,r),bE.fromArray(this._depthAxis,r),n.lookAt(Hue,gE,bE),AS.set(this._size[i],bE.length(),gE.length()),n.scale(AS)},t.prototype.setAttributes=function(n,i){n===void 0&&(n={}),n.size&&(this._size=n.size),n.heightAxis&&(this._heightAxis=n.heightAxis),n.depthAxis&&(this._depthAxis=n.depthAxis),e.prototype.setAttributes.call(this,n,i)},t}(BA);ls.add("box",Que);var lS=new P,vE=new P,wE=new P,zue=new P(0,0,0),Vue=Object.assign({sphereDetail:2},ga),Kue=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r,new Ml(1,z(r.sphereDetail,2))),this.updateNormals=!0,this.setAttributes(i,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return Vue},t.prototype.applyPositionTransform=function(i,r,a){vE.fromArray(this._majorAxis,a),wE.fromArray(this._minorAxis,a),i.lookAt(zue,vE,wE),lS.set(this._radius[r],wE.length(),vE.length()),i.scale(lS)},t.prototype.setAttributes=function(i,r){i===void 0&&(i={}),i.radius&&(this._radius=i.radius),i.majorAxis&&(this._majorAxis=i.majorAxis),i.minorAxis&&(this._minorAxis=i.minorAxis),e.prototype.setAttributes.call(this,i,r)},Object.defineProperties(t.prototype,n),t}(BA);ls.add("ellipsoid",Kue);var uS=new P,EE=new P,_E=new P,Wue=new P(0,0,0),$ue=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,n,i,new Gl(1,0)),this.updateNormals=!0,this.setAttributes(n,!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyPositionTransform=function(n,i,r){EE.fromArray(this._heightAxis,r),_E.fromArray(this._depthAxis,r),n.lookAt(Wue,EE,_E),uS.set(this._size[i],_E.length(),EE.length()),n.scale(uS)},t.prototype.setAttributes=function(n,i){n===void 0&&(n={}),n.size&&(this._size=n.size),n.heightAxis&&(this._heightAxis=n.heightAxis),n.depthAxis&&(this._depthAxis=n.depthAxis),e.prototype.setAttributes.call(this,n,i)},t}(BA);ls.add("octahedron",$ue);var dS=new P,xE=new P,BE=new P,jue=new P(0,0,0),Yue=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,n,i,new Nd(1,0)),this.updateNormals=!0,this.setAttributes(n,!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyPositionTransform=function(n,i,r){xE.fromArray(this._heightAxis,r),BE.fromArray(this._depthAxis,r),n.lookAt(jue,xE,BE),dS.set(this._size[i],BE.length(),xE.length()),n.scale(dS)},t.prototype.setAttributes=function(n,i){n===void 0&&(n={}),n.size&&(this._size=n.size),n.heightAxis&&(this._heightAxis=n.heightAxis),n.depthAxis&&(this._depthAxis=n.depthAxis),e.prototype.setAttributes.call(this,n,i)},t}(BA);ls.add("tetrahedron",Yue);var pS=new P,fS=new P,hS=new P,que=new P(0,0,0),Xue=Object.assign({radiusRatio:.2,radialSegments:16,tubularSegments:32},ga),Zue=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r,new Gd(1,z(r.radiusRatio,.2),z(r.radialSegments,16),z(r.tubularSegments,32))),this.updateNormals=!0,this.setAttributes(i,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return Xue},t.prototype.applyPositionTransform=function(i,r,a){fS.fromArray(this._majorAxis,a),hS.fromArray(this._minorAxis,a),i.lookAt(que,fS,hS);var s=this._radius[r];pS.set(s,s,s),i.scale(pS)},t.prototype.setAttributes=function(i,r){i===void 0&&(i={}),i.radius&&(this._radius=i.radius),i.majorAxis&&(this._majorAxis=i.majorAxis),i.minorAxis&&(this._minorAxis=i.minorAxis),e.prototype.setAttributes.call(this,i,r)},Object.defineProperties(t.prototype,n),t}(BA);ls.add("torus",Zue);var Jr=function(e,t){var n=t||{};this.streamer=e,this.name=z(n.name,""),this.path=z(n.path,"")},Gu={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0},isJson:{configurable:!0},isXml:{configurable:!0}};Gu.type.get=function(){return""},Gu.__objName.get=function(){return""},Gu.isBinary.get=function(){return!1},Gu.isJson.get=function(){return!1},Gu.isXml.get=function(){return!1},Jr.prototype.parse=function(){var e=this;return this.streamer.read().then(function(){return e._beforeParse(),e._parse(),e._afterParse(),e[e.__objName]})},Jr.prototype._parse=function(){},Jr.prototype._beforeParse=function(){},Jr.prototype._afterParse=function(){je&&De.log(this[this.__objName])},Object.defineProperties(Jr.prototype,Gu);var g0=function(e){function t(i,r){var a=r||{};e.call(this,i,a),this.firstModelOnly=z(a.firstModelOnly,!1),this.asTrajectory=z(a.asTrajectory,!1),this.cAlphaOnly=z(a.cAlphaOnly,!1),this.structure=new qt(this.name,this.path),this.structureBuilder=new Eg(this.structure)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"structure"},n.__objName.get=function(){return"structure"},Object.defineProperties(t.prototype,n),t}(Jr),po=function(e,t,n,i,r){n===void 0&&(n=""),r===void 0&&(r=[]),this.structure=e,this.index=t,this.description=n,this.entityType=function(a){switch(a=a.toLowerCase()){case"polymer":return 1;case"non-polymer":return 2;case"macrolide":return 3;case"water":return 4;default:return 0}}(i||""),this.chainIndexList=r,r.forEach(function(a){e.chainStore.entityIndex[a]=t})},mS={type:{configurable:!0}};mS.type.get=function(){return function(e){switch(e){case 1:return"polymer";case 2:return"non-polymer";case 3:return"macrolide";case 4:return"water";default:return}}(this.entityType)},po.prototype.getEntityType=function(){return this.entityType},po.prototype.isPolymer=function(){return this.entityType===1},po.prototype.isNonPolymer=function(){return this.entityType===2},po.prototype.isMacrolide=function(){return this.entityType===3},po.prototype.isWater=function(){return this.entityType===4},po.prototype.eachChain=function(e){var t=this.structure.getChainProxy();this.chainIndexList.forEach(function(n){t.index=n,e(t)})},Object.defineProperties(po.prototype,mS);var Jue={a:1,b:1,c:1,alpha:90,beta:90,gamma:90,spacegroup:"P 1"},bl=function(e){e===void 0&&(e=Jue),this.cartToFrac=new st,this.fracToCart=new st,this.a=e.a,this.b=e.b,this.c=e.c,this.alpha=e.alpha,this.beta=e.beta,this.gamma=e.gamma,this.spacegroup=e.spacegroup;var t=Oi(this.alpha),n=Oi(this.beta),i=Oi(this.gamma),r=Math.cos(t),a=Math.cos(n),s=Math.cos(i),o=Math.sin(n),c=Math.sin(i);if(this.volume=this.a*this.b*this.c*Math.sqrt(1-r*r-a*a-s*s+2*r*a*s),e.cartToFrac===void 0){var A=this.a*this.b*c/this.volume,l=(a*s-r)/(o*c);this.fracToCart.set(this.a,0,0,0,this.b*s,this.b*c,0,0,this.c*a,-this.c*o*l,1/A,0,0,0,0,1).transpose(),this.cartToFrac.getInverse(this.fracToCart)}else this.cartToFrac.copy(e.cartToFrac),this.fracToCart.getInverse(this.cartToFrac)};bl.prototype.getPosition=function(e){var t=new Float32Array(24);if(e.unitcell){var n=e.unitcell,i=e.center.clone().applyMatrix4(n.cartToFrac).floor(),r=new P,a=0,s=function(o,c,A){r.set(o,c,A).add(i).applyMatrix4(n.fracToCart).toArray(t,a),a+=3};s(0,0,0),s(1,0,0),s(0,1,0),s(0,0,1),s(1,1,0),s(1,0,1),s(0,1,1),s(1,1,1)}return t},bl.prototype.getCenter=function(e){return function(t,n){n===void 0&&(n=new P);for(var i=t.length,r=0;r<i;r+=3)n.x+=t[r],n.y+=t[r+1],n.z+=t[r+2];return n.divideScalar(i/3),n}(this.getPosition(e))},bl.prototype.getData=function(e,t){t===void 0&&(t={});var n=z(t.colorValue,"orange"),i=z(t.radius,Math.cbrt(this.volume)/200),r=new pt(n),a=new P,s=this.getPosition(e),o=li(8,r.r,r.g,r.b),c=os(8,i),A=new Float32Array(36),l=new Float32Array(36),u=li(12,r.r,r.g,r.b),d=os(12,i),p=0;function h(b,y){a.fromArray(s,3*b).toArray(A,p),a.fromArray(s,3*y).toArray(l,p),p+=3}h(0,1),h(0,2),h(0,3),h(1,4),h(1,5),h(2,6),h(3,5),h(4,7),h(5,7),h(2,4),h(7,6),h(3,6);var g=new GAe(this,e);return{vertex:{position:s,color:o,radius:c,picking:g},edge:{position1:A,position2:l,color:u,color2:u,radius:d,picking:g}}};var Z3={1:"h",2:"h",3:"i",4:"h",5:"g",6:"h",7:"h",8:"h",9:"h",10:"h",0:"h"},ede=["DAL","DAR","DSG","DAS","DCY","DGL","DGN","DHI","DIL","DLE","DLY","MED","DPN","DPR","DSN","DTH","DTR","DTY","DVA","DNE"],tde=["MOL_ID","MOLECULE","CHAIN","FRAGMENT","SYNONYM","EC","ENGINEERED","MUTATION","OTHER_DETAILS"],yS=/\s+/;function gS(e,t,n){var i=""+e;return t&&(i+=":"+t),n&&(i+="^"+n),i}var Qf=function(e){function t(i,r){var a=r||{};e.call(this,i,a),this.hex=z(a.hex,!1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"pdb"},t.prototype._parse=function(){je&&De.time("PdbParser._parse "+this.name);var i=!1,r=this.streamer.peekLines(1)[0],a=r.substr(62,4),s=r.substr(72,4);a===s&&s.trim()&&(i=!0);var o,c,A,l,u,d,p,h,g,b,y,v,_,w,E,B,R,G,C,O,I,D,k,L,T,H,W,j,ce,ue,te,re,ae,fe,ye=this.type==="pqr",se=this.type==="pdbqt",me=this.structure,pe=this.structureBuilder,Ee=this.hex,ee=10,ie=10,oe=this.firstModelOnly,he=this.asTrajectory,Re=this.cAlphaOnly,Ge=me.frames,Le=me.boxes,K=!1,Z=me.biomolDict,Ce={},ve={},de={},be=[],Pe={},Ve={},Fe={},He={},ke={helices:[],sheets:[]},qe=ke.helices,Ye=ke.sheets,We=me.atomMap,mt=me.atomStore;mt.resize(Math.round(this.streamer.data.length/80)),(ye||se)&&mt.addField("partialCharge",1,"float32"),ye&&mt.addField("radius",1,"float32");var Qt=me.getAtomProxy(),Dt=me.getAtomProxy(),Me=0,it=0,ut=!0;this.streamer.eachChunkOfLines(function(bt){(function(en,ct,yt){for(var Mt,Ae=en;Ae<ct;++Ae)if(d=yt[Ae],(p=d.substr(0,6))==="ATOM  "||p==="HETATM"){if(ut&&(he?(K?(o=new Float32Array(3*mt.count),Ge.push(o)):o=[],c=0):oe||(Ce={}),j=(W=1).toString(),ce=!0,ut=!1),oe&&it>0)continue;var ze=void 0,Ue=void 0,S=void 0,U=void 0,Q=0;if(ye){if(Q=(U=d.split(yS)).length===10?1:0,w=U[2],Re&&w!=="CA")continue;ze=parseFloat(U[6-Q]),Ue=parseFloat(U[7-Q]),S=parseFloat(U[8-Q])}else{if(w=d.substr(12,4).trim(),Re&&w!=="CA")continue;ze=parseFloat(d.substr(30,8)),Ue=parseFloat(d.substr(38,8)),S=parseFloat(d.substr(46,8))}if(he){var Y=3*c;if(o[Y+0]=ze,o[Y+1]=Ue,o[Y+2]=S,c+=1,K)continue}var q=void 0;ye?(h=parseInt(U[1]),q="",E=d[0]==="H"?1:0,g=Q?"":U[4],b=parseInt(U[5-Q]),_="",y=U[3],R="",v=1):(h=parseInt(d.substr(6,5),ee),Ee&&h===99999&&(ee=16),E=d[0]==="H"?1:0,g=d[21].trim(),b=parseInt(d.substr(22,4),ie),Ee&&b===9999&&(ie=16),_=d[26].trim(),y=d.substr(17,4).trim()||"MOL",B=parseFloat(d.substr(60,6)),R=d[16].trim(),v=parseFloat(d.substr(54,6)),i||(se?(q=d.substr(76,3).trim())in tN&&(q=tN[q]):(q=d.substr(76,2).trim(),g||(g=d.substr(72,4).trim())),G=parseInt((d.substr(79,1)+d.substr(78,1)).trim()))),mt.growIfFull(),mt.atomTypeId[Me]=We.add(w,q),mt.x[Me]=ze,mt.y[Me]=Ue,mt.z[Me]=S,mt.serial[Me]=h,mt.altloc[Me]=R.charCodeAt(0),mt.occupancy[Me]=isNaN(v)?0:v,ye?(mt.partialCharge[Me]=parseFloat(U[9-Q]),mt.radius[Me]=parseFloat(U[10-Q])):(mt.bfactor[Me]=isNaN(B)?0:B,se&&(mt.partialCharge[Me]=parseFloat(d.substr(70,6))),isFinite(G)&&(mt.formalCharge||mt.addField("formalCharge",1,"int8"),mt.formalCharge[Me]=G));var le=gS(b,g,_);!E||Ve[le]||ede.includes(y)?ce||ue===g||(j=(W+=1).toString()):ue===g&&re===y&&(j3.includes(y)||te===b&&ae===_)||(j=(W+=1).toString(),te=b,re=y,ae=_),pe.addAtom(it,g,j,y,b,E,void 0,_),Ce[h]=Me,Me+=1,ce=!1,ue=g}else if(p==="CONECT"){var ge=Ce[parseInt(d.substr(6,5))],Be=[11,16,21,26],Ke={};if(ge===void 0)continue;for(var Qe=0;Qe<4;++Qe){var Ze=parseInt(d.substr(Be[Qe],5));if(!Number.isNaN(Ze)&&(Ze=Ce[Ze])!==void 0)if(ge<Ze?(Qt.index=ge,Dt.index=Ze):(Qt.index=Ze,Dt.index=ge),Ke[Ze]!==void 0)me.bondStore.bondOrder[Ke[Ze]]+=1;else{var gt=Qt.index+"|"+Dt.index;de[gt]===void 0&&(de[gt]=!0,Ke[Ze]=me.bondStore.count,me.bondStore.addBond(Qt,Dt,1))}}}else if(p==="HELIX "){C=d[19].trim(),O=parseInt(d.substr(21,4)),I=d[25].trim(),D=d[31].trim(),k=parseInt(d.substr(33,4)),L=d[37].trim();var tt=parseInt(d.substr(39,1));tt=(Z3[tt]||Z3[0]).charCodeAt(0),qe.push([C,O,I,D,k,L,tt])}else if(p==="SHEET ")C=d[21].trim(),O=parseInt(d.substr(22,4)),I=d[26].trim(),D=d[32].trim(),k=parseInt(d.substr(33,4)),L=d[37].trim(),Ye.push([C,O,I,D,k,L]);else if(p==="HETNAM")Pe[d.substr(11,3)]=d.substr(15).trim();else if(p==="SEQRES"){var nt=d[11].trim();nt!==fe&&(He[nt]=[],fe=nt),(Mt=He[nt]).push.apply(Mt,d.substr(19).trim().split(yS))}else if(p==="MODRES"){var ht=d.substr(12,3).trim(),Lt=d[16].trim(),Ot=d[22].trim(),Pt=parseInt(d.substr(18,4).trim()),ei=gS(Pt,Lt,Ot);Ve[ei]={resname:ht,chainname:Lt,inscode:Ot,resno:Pt}}else if(p==="COMPND"){var Mn=d.substr(10,70).trim(),ar=Mn.indexOf(":"),na=Mn.substring(0,ar),tn=void 0;tde.includes(na)?(H=na,tn=Mn.substring(ar+2)):tn=Mn,tn=tn.replace(/;$/,""),H==="MOL_ID"?(T={chainList:[],name:""},be.push(T)):H==="MOLECULE"?(T.name&&(T.name+=" "),T.name+=tn):H==="CHAIN"&&Array.prototype.push.apply(T.chainList,tn.split(/\s*,\s*/))}else if(d.startsWith("TER")){var Je=me.getChainProxy(me.chainStore.count-1);Fe[Je.chainname]=Je.index,j=(W+=1).toString(),ce=!0}else if(p==="REMARK"&&d.substr(7,3)==="350"){if(d.substr(11,12)==="BIOMOLECULE:"){var Tt=d.substr(23).trim();/^(0|[1-9][0-9]*)$/.test(Tt)&&(Tt="BU"+Tt),A=new Pr(Tt),Z[Tt]=A}else if(d.substr(13,5)==="BIOMT"){var ln=d.split(/\s+/),xn=parseInt(d[18])-1;xn===0&&(u=new st,l.matrixList.push(u));var jt=u.elements;jt[0+xn]=parseFloat(ln[4]),jt[4+xn]=parseFloat(ln[5]),jt[8+xn]=parseFloat(ln[6]),jt[12+xn]=parseFloat(ln[7])}else if(d.substr(11,30)==="APPLY THE FOLLOWING TO CHAINS:"||d.substr(11,30)==="                   AND CHAINS:"){d.substr(11,5)==="APPLY"&&(l=A.addPart());for(var Bn=d.substr(41,30).split(","),bn=0,Kn=Bn.length;bn<Kn;++bn){var Ki=Bn[bn].trim();Ki&&l.chainList.push(Ki)}}}else if(p==="HEADER")me.id=d.substr(62,4);else if(p==="TITLE ")me.title+=(me.title?" ":"")+d.substr(10,70).trim();else if(p==="MODEL ")ut=!0;else if(p==="ENDMDL"||d.trim()==="END"){if(ut)continue;he&&!K&&(Ge.push(new Float32Array(o)),K=!0),it+=1,ut=!0}else if(d.substr(0,5)==="MTRIX"){if(d[59]==="1")continue;A&&A.name==="NCS"||(A=new Pr("NCS"),Z.NCS=A,l=A.addPart());var fn=d.split(/\s+/),ti=parseInt(d[5])-1;ti===0&&(u=new st,l.matrixList.push(u));var us=u.elements;us[0+ti]=parseFloat(fn[2]),us[4+ti]=parseFloat(fn[3]),us[8+ti]=parseFloat(fn[4]),us[12+ti]=parseFloat(fn[5])}else if(d.substr(0,5)==="ORIGX"){ve.origx||(ve.origx=new st);var ba=d.split(/\s+/),ds=parseInt(d[5])-1,ps=ve.origx.elements;ps[0+ds]=parseFloat(ba[1]),ps[4+ds]=parseFloat(ba[2]),ps[8+ds]=parseFloat(ba[3]),ps[12+ds]=parseFloat(ba[4])}else if(d.substr(0,5)==="SCALE"){ve.scale||(ve.scale=new st);var ka=d.split(/\s+/),ia=parseInt(d[5])-1,Oa=ve.scale.elements;Oa[0+ia]=parseFloat(ka[1]),Oa[4+ia]=parseFloat(ka[2]),Oa[8+ia]=parseFloat(ka[3]),Oa[12+ia]=parseFloat(ka[4])}else if(p==="CRYST1"){var Bo=parseFloat(d.substr(6,9)),js=parseFloat(d.substr(15,9)),b0=parseFloat(d.substr(24,9)),Ys=parseFloat(d.substr(33,7)),mc=parseFloat(d.substr(40,7)),Ro=parseFloat(d.substr(47,7)),qs=d.substr(55,11).trim(),va=new Float32Array(9);va[0]=Bo,va[4]=js,va[8]=b0,Le.push(va),it===0&&(ve.a=Bo,ve.b=js,ve.c=b0,ve.alpha=Ys,ve.beta=mc,ve.gamma=Ro,ve.spacegroup=qs)}})(0,bt.length,bt)}),pe.finalize();var vt=be.length;if(vt){me.eachChain(function(bt){bt.entityIndex=vt}),be.forEach(function(bt,en){var ct=bt.chainList.map(function(yt){return Fe[yt]});me.entityList.push(new po(me,en,bt.name,"polymer",ct))});var ot=be.length,Ht=me.getResidueProxy(),Et={};me.eachChain(function(bt){bt.entityIndex===vt&&(Ht.index=bt.residueOffset,Et[Ht.resname]||(Et[Ht.resname]=[]),Et[Ht.resname].push(bt.index))}),Object.keys(Et).forEach(function(bt){var en=Et[bt],ct="non-polymer",yt=Pe[bt]||bt;j3.includes(bt)&&(yt="water",ct="water"),me.entityList.push(new po(me,ot,yt,ct,en)),ot+=1})}ve.a!==void 0?me.unitcell=new bl(ve):me.unitcell=void 0,(qe.length||Ye.length)&&II(me,ke),me.finalizeAtoms(),i||Q2(me),Y3(me),me.finalizeBonds(),qe.length||Ye.length||H2(me),q3(me),je&&De.timeEnd("PdbParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(g0);Jt.add("pdb",Qf),Jt.add("pdb1",Qf),Jt.add("ent",Qf);var nde=/\s+/,bS=/'((?:(?!'\s).)*)'|"((?:(?!"\s).)*)"|(\S+)/g,jp=/"/g,Yp=/^['"]+|['"]+$/g;function vS(e){return!e||e[0]!==e[e.length-1]||e[0]!=="'"&&e[0]!=='"'?e:e.substring(1,e.length-1)}function Ca(e,t){Array.isArray(e[t])||Object.keys(e).forEach(function(n){e[n]=[e[n]]})}function Za(e){return e!=="?"}function Dy(e,t){return Za(e)?e:t}function wS(e){switch(e.toLowerCase()){case"?":case"sing":return 1;case"doub":return 2;case"trip":return 3;case"quad":return 4}return 0}var RE=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"cif"},t.prototype._parse=function(){De.time("CifParser._parse "+this.name);var i,r,a,s,o,c,A,l,u,d,p,h,g,b,y,v,_,w,E,B,R,G,C=this.structure,O=this.structureBuilder,I=this.firstModelOnly,D=this.asTrajectory,k=this.cAlphaOnly,L=C.frames,T={},H={},W={},j=!1,ce=null,ue=!1,te=!1,re=!1,ae=[],fe=null,ye=null,se=null,me=null,pe=[],Ee=C.atomMap,ee=C.atomStore;ee.resize(this.streamer.data.length/100);var ie,oe=0,he=0;if(this.streamer.eachChunkOfLines(function(Ce){(function(ve,de,be){for(var Pe=ve;Pe<de;++Pe)if(a=be[Pe],((s=a.trim())||j||te)&&s[0]!=="#")if(s.substring(0,5)==="data_")T.data=s.substring(5).trim();else if(s[0]===";")j?(te?(fe===ae.length&&(fe=0),ae[fe].push(ce),fe+=1):se===!1?T[ye]=ce:T[ye][se]=ce,j=!1,ce=null):(j=!0,ce=s.substring(1));else if(s==="loop_")te=!0,re=!0,ae.length=0,pe.length=0,fe=0;else if(s[0]==="_"){var Ve,Fe,He;if(te&&!re&&(te=!1),te)Fe=(Ve=s.split("."))[0].substring(1),He=Ve[1],Ve.length===1?(He=!1,T[Fe]||(T[Fe]=[]),ae.push(T[Fe])):(T[Fe]||(T[Fe]={}),T[Fe][He]?je&&De.warn(Fe,He,"already exists"):(T[Fe][He]=[],ae.push(T[Fe][He]),pe.push(He))),ye=Fe,se=He,me=!0;else{var ke=s.match(bS),qe=ke[0],Ye=ke[1];Fe=(Ve=qe.split("."))[0].substring(1),He=Ve[1],Ve.length===1?(He=!1,T[Fe]=Ye):(T[Fe]||(T[Fe]={}),T[Fe][He]?je&&De.warn(Fe,He,"already exists"):T[Fe][He]=Ye),Ye||(ue=!0),ye=Fe,se=He}}else if(j)ce+=a;else if(te){if(!s)continue;if(ye==="atom_site"){var We=s.split(nde);me&&(o=pe.indexOf("auth_asym_id"),c=pe.indexOf("auth_seq_id"),A=pe.indexOf("label_seq_id"),l=pe.indexOf("label_atom_id"),u=pe.indexOf("label_comp_id"),d=pe.indexOf("label_asym_id"),p=pe.indexOf("label_entity_id"),h=pe.indexOf("label_alt_id"),w=pe.indexOf("Cartn_x"),E=pe.indexOf("Cartn_y"),B=pe.indexOf("Cartn_z"),b=pe.indexOf("id"),y=pe.indexOf("type_symbol"),g=pe.indexOf("group_PDB"),R=pe.indexOf("B_iso_or_equiv"),v=pe.indexOf("pdbx_PDB_model_num"),_=pe.indexOf("pdbx_PDB_ins_code"),G=pe.indexOf("occupancy"),me=!1,ie=parseInt(We[v]),D&&(i=[],r=0));var mt=parseInt(We[v]);if(ie!==mt&&(D&&(he===0&&L.push(new Float32Array(i)),i=new Float32Array(3*ee.count),L.push(i),r=0),he+=1),ie=mt,I&&he>0)continue;var Qt=We[l].replace(jp,"");if(k&&Qt!=="CA")continue;var Dt=parseFloat(We[w]),Me=parseFloat(We[E]),it=parseFloat(We[B]);if(D){var ut=3*r;if(i[ut+0]=Dt,i[ut+1]=Me,i[ut+2]=it,r+=1,he>0)continue}var vt=We[u],ot=parseInt(We[c!==-1?c:A]),Ht=We[_];Ht=Ht==="?"?"":Ht;var Et=We[o],bt=We[d],en=We[g][0]==="H"?1:0,ct=We[y],yt=parseFloat(We[R]),Mt=parseFloat(We[G]),Ae=We[h];if(Ae=Ae==="."?"":Ae,ee.growIfFull(),ee.atomTypeId[oe]=Ee.add(Qt,ct),ee.x[oe]=Dt,ee.y[oe]=Me,ee.z[oe]=it,ee.serial[oe]=parseInt(We[b]),ee.bfactor[oe]=isNaN(yt)?0:yt,ee.occupancy[oe]=isNaN(Mt)?0:Mt,ee.altloc[oe]=Ae.charCodeAt(0),O.addAtom(he,Et,bt,vt,ot,en,void 0,Ht),je){var ze=H[bt];ze!==void 0&&ze!==Et&&je&&De.warn(ze,Et)}H[bt]=Et;var Ue=We[p];W[Ue]||(W[Ue]=new Set),W[Ue].add(C.chainStore.count-1),oe+=1}else{var S=s.match(bS),U=S.length;fe===ae.length&&(fe=0);for(var Q=0;Q<U;++Q)ae[fe+Q].push(S[Q]);fe+=U}re=!1}else if(s[0]==="'"&&s[s.length-1]==="'"){var Y=s.substring(1,s.length-1);se===!1?T[ye]=Y:T[ye][se]=Y}else ue?se===!1?T[ye]=s:T[ye][se]=s:je&&De.log("CifParser._parse: unknown state",s);else j=!1,te=!1,ue=!1,ae.length=0,fe=null,ye=null,se=null,me=null,pe.length=0})(0,Ce.length,Ce)}),T.chem_comp&&T.chem_comp_atom)(function(Ce,ve,de){var be,Pe,Ve=ve.atomStore,Fe=ve.atomMap,He=Ce.chem_comp,ke=Ce.chem_comp_atom,qe=Ce.chem_comp_bond;He&&(He.name&&(ve.title=He.name.trim().replace(Yp,"")),He.id&&(ve.id=He.id.trim().replace(Yp,"")));var Ye={};if(ke){var We,mt,Qt,Dt;for(Ca(ke,"comp_id"),Pe=ke.comp_id.length,be=0;be<Pe;++be)Ve.growIfFull(),We=ke.atom_id[be].replace(jp,""),mt=ke.type_symbol[be],Ye[We]=be,Ve.atomTypeId[be]=Fe.add(We,mt),Ve.x[be]=ke.model_Cartn_x[be],Ve.y[be]=ke.model_Cartn_y[be],Ve.z[be]=ke.model_Cartn_z[be],Ve.serial[be]=be,Qt=ke.pdbx_component_comp_id[be],Dt=ke.pdbx_residue_numbering?ke.pdbx_residue_numbering[be]:1,de.addAtom(0,"","",Qt,Dt,!0);for(be=0;be<Pe;++be){var Me=be+Pe;Ve.growIfFull(),We=ke.atom_id[be].replace(jp,""),mt=ke.type_symbol[be],Ve.atomTypeId[Me]=Fe.add(We,mt),Ve.x[Me]=ke.pdbx_model_Cartn_x_ideal[be],Ve.y[Me]=ke.pdbx_model_Cartn_y_ideal[be],Ve.z[Me]=ke.pdbx_model_Cartn_z_ideal[be],Ve.serial[Me]=Me,Qt=ke.pdbx_component_comp_id[be],Dt=ke.pdbx_residue_numbering?ke.pdbx_residue_numbering[be]:1,de.addAtom(1,"","",Qt,Dt,!0)}}if(ke&&qe){var it,ut,vt;Ca(qe,"comp_id"),Pe=qe.comp_id.length;var ot=ke.comp_id.length,Ht=ve.getAtomProxy(),Et=ve.getAtomProxy();for(be=0;be<Pe;++be)it=qe.atom_id_1[be].replace(jp,""),ut=qe.atom_id_2[be].replace(jp,""),vt=wS(qe.value_order[be]),Ht.index=Ye[it],Et.index=Ye[ut],ve.bondStore.growIfFull(),ve.bondStore.addBond(Ht,Et,vt),Ht.index+=ot,Et.index+=ot,ve.bondStore.growIfFull(),ve.bondStore.addBond(Ht,Et,vt)}})(T,C,O),O.finalize(),C.finalizeAtoms(),C.finalizeBonds(),Ul(C);else if(T.atom_site_type_symbol&&T.atom_site_label&&T.atom_site_fract_x)(function(Ce,ve,de){var be=ve.atomStore,Pe=ve.atomMap;Ce.data&&(ve.id=Ce.data,ve.name=Ce.data),ve.unitcell=new bl({a:parseFloat(Ce.cell_length_a),b:parseFloat(Ce.cell_length_b),c:parseFloat(Ce.cell_length_c),alpha:parseFloat(Ce.cell_angle_alpha),beta:parseFloat(Ce.cell_angle_beta),gamma:parseFloat(Ce.cell_angle_gamma),spacegroup:vS(Ce["symmetry_space_group_name_H-M"])});for(var Ve=new P,Fe=new P,He=Ce.atom_site_type_symbol.length,ke=0;ke<He;++ke){be.growIfFull();var qe=Ce.atom_site_label[ke],Ye=Ce.atom_site_type_symbol[ke];be.atomTypeId[ke]=Pe.add(qe,Ye),Ve.set(Ce.atom_site_fract_x[ke],Ce.atom_site_fract_y[ke],Ce.atom_site_fract_z[ke]),Ve.applyMatrix4(ve.unitcell.fracToCart),Fe.add(Ve),be.x[ke]=Ve.x,be.y[ke]=Ve.y,be.z[ke]=Ve.z,Ce.atom_site_occupancy&&(be.occupancy[ke]=parseFloat(Ce.atom_site_occupancy[ke])),be.serial[ke]=ke,de.addAtom(0,"","","HET",1,!0)}Fe.divideScalar(He),ve.center=Fe,q3(ve);var We=new P,mt=new P,Qt=ve.biomolDict.SUPERCELL.partList[0].matrixList,Dt=He;function Me(ot){return Pe.get(be.atomTypeId[ot]).covalent}for(var it=new st,ut=function(ot){var Ht=Me(ot);Ve.set(be.x[ot],be.y[ot],be.z[ot]),Qt.forEach(function(Et){if(!it.equals(Et)){We.copy(Ve),We.applyMatrix4(Et);for(var bt=0;bt<He;++bt){mt.set(be.x[bt],be.y[bt],be.z[bt]);var en=We.distanceToSquared(mt),ct=Me(bt)+Ht,yt=ct+.3,Mt=ct-.5;if(en<yt*yt&&en>Mt*Mt)return be.growIfFull(),be.atomTypeId[Dt]=be.atomTypeId[ot],be.x[Dt]=We.x,be.y[Dt]=We.y,be.z[Dt]=We.z,be.occupancy[Dt]=be.occupancy[ot],be.serial[Dt]=Dt,be.altloc[Dt]="A".charCodeAt(0),de.addAtom(0,"","","HET",1,!0),void(Dt+=1)}}})},vt=0;vt<He;++vt)ut(vt)})(T,C,O),O.finalize(),C.finalizeAtoms(),Y3(C),C.finalizeBonds();else{var Re=function(Ce,ve,de){var be,Pe,Ve,Fe,He=[],ke=[],qe=Ce.struct_conf;if(qe)for(Ca(qe,"id"),be=0,Pe=qe.beg_auth_seq_id.length;be<Pe;++be){var Ye=parseInt(qe.pdbx_PDB_helix_class[be]);Number.isNaN(Ye)||(Ve=qe.pdbx_beg_PDB_ins_code[be],Fe=qe.pdbx_end_PDB_ins_code[be],He.push([de[qe.beg_label_asym_id[be]],parseInt(qe.beg_auth_seq_id[be]),Dy(Ve,""),de[qe.end_label_asym_id[be]],parseInt(qe.end_auth_seq_id[be]),Dy(Fe,""),(Z3[Ye]||Z3[0]).charCodeAt(0)]))}var We=Ce.struct_sheet_range;if(We)for(Ca(We,"id"),be=0,Pe=We.beg_auth_seq_id.length;be<Pe;++be)Ve=We.pdbx_beg_PDB_ins_code[be],Fe=We.pdbx_end_PDB_ins_code[be],ke.push([de[We.beg_label_asym_id[be]],parseInt(We.beg_auth_seq_id[be]),Dy(Ve,""),de[We.end_label_asym_id[be]],parseInt(We.end_auth_seq_id[be]),Dy(Fe,"")]);return!(!qe&&!We)&&{helices:He,sheets:ke}}(T,0,H);if(function(Ce,ve,de){var be={},Pe=ve.biomolDict;if(Ce.pdbx_struct_oper_list){var Ve=Ce.pdbx_struct_oper_list;Ca(Ve,"id"),Ve.id.forEach(function(en,ct){var yt=new st,Mt=yt.elements;Mt[0]=parseFloat(Ve["matrix[1][1]"][ct]),Mt[1]=parseFloat(Ve["matrix[1][2]"][ct]),Mt[2]=parseFloat(Ve["matrix[1][3]"][ct]),Mt[4]=parseFloat(Ve["matrix[2][1]"][ct]),Mt[5]=parseFloat(Ve["matrix[2][2]"][ct]),Mt[6]=parseFloat(Ve["matrix[2][3]"][ct]),Mt[8]=parseFloat(Ve["matrix[3][1]"][ct]),Mt[9]=parseFloat(Ve["matrix[3][2]"][ct]),Mt[10]=parseFloat(Ve["matrix[3][3]"][ct]),Mt[3]=parseFloat(Ve["vector[1]"][ct]),Mt[7]=parseFloat(Ve["vector[2]"][ct]),Mt[11]=parseFloat(Ve["vector[3]"][ct]),yt.transpose(),be[en]=yt})}if(Ce.pdbx_struct_assembly_gen){var Fe=Ce.pdbx_struct_assembly_gen;Ca(Fe,"assembly_id");var He=function(en){var ct={};return en.replace(/[()']/g,"").split(",").forEach(function(yt){if(yt.includes("-"))for(var Mt=yt.split("-"),Ae=parseInt(Mt[0]),ze=parseInt(Mt[1]);Ae<=ze;++Ae)ct[Ae]=be[Ae];else ct[yt]=be[yt]}),ct};Fe.assembly_id.forEach(function(en,ct){var yt={},Mt=Fe.oper_expression[ct].replace(/['"]\(|['"]/g,"");if(Mt.includes(")(")||Mt.indexOf("(")>0){Mt=Mt.split("(");var Ae=He(Mt[0]),ze=He(Mt[1]);Object.keys(Ae).forEach(function(le){Object.keys(ze).forEach(function(ge){var Be=new st;Be.multiplyMatrices(Ae[le],ze[ge]),yt[le+"x"+ge]=Be})})}else yt=He(Mt);var Ue=[];for(var S in yt)Ue.push(yt[S]);var U=en;/^(0|[1-9][0-9]*)$/.test(U)&&(U="BU"+U);for(var Q=Fe.asym_id_list[ct].split(","),Y=0,q=Q.length;Y<q;++Y)Q[Y]=de[Q[Y]];Pe[U]===void 0&&(Pe[U]=new Pr(U)),Pe[U].addPart(Ue,Q)})}if(Ce.struct_ncs_oper){var ke=Ce.struct_ncs_oper;Ca(ke,"id");var qe="NCS";Pe.NCS=new Pr(qe);var Ye=Pe.NCS.addPart();ke.id.forEach(function(en,ct){if(ke.code[ct]!=="given"){var yt=new st,Mt=yt.elements;Mt[0]=parseFloat(ke["matrix[1][1]"][ct]),Mt[1]=parseFloat(ke["matrix[1][2]"][ct]),Mt[2]=parseFloat(ke["matrix[1][3]"][ct]),Mt[4]=parseFloat(ke["matrix[2][1]"][ct]),Mt[5]=parseFloat(ke["matrix[2][2]"][ct]),Mt[6]=parseFloat(ke["matrix[2][3]"][ct]),Mt[8]=parseFloat(ke["matrix[3][1]"][ct]),Mt[9]=parseFloat(ke["matrix[3][2]"][ct]),Mt[10]=parseFloat(ke["matrix[3][3]"][ct]),Mt[3]=parseFloat(ke["vector[1]"][ct]),Mt[7]=parseFloat(ke["vector[2]"][ct]),Mt[11]=parseFloat(ke["vector[3]"][ct]),yt.transpose(),Ye.matrixList.push(yt)}}),Ye.matrixList.length===0&&delete Pe.NCS}var We={};if(Ce.cell){var mt=Ce.cell,Qt=parseFloat(mt.length_a),Dt=parseFloat(mt.length_b),Me=parseFloat(mt.length_c),it=new Float32Array(9);it[0]=Qt,it[4]=Dt,it[8]=Me,ve.boxes.push(it),We.a=Qt,We.b=Dt,We.c=Me,We.alpha=parseFloat(mt.angle_alpha),We.beta=parseFloat(mt.angle_beta),We.gamma=parseFloat(mt.angle_gamma)}Ce.symmetry&&(We.spacegroup=vS(Ce.symmetry["space_group_name_H-M"]));var ut=new st;if(Ce.database_PDB_matrix){var vt=Ce.database_PDB_matrix,ot=ut.elements;ot[0]=parseFloat(vt["origx[1][1]"]),ot[1]=parseFloat(vt["origx[1][2]"]),ot[2]=parseFloat(vt["origx[1][3]"]),ot[4]=parseFloat(vt["origx[2][1]"]),ot[5]=parseFloat(vt["origx[2][2]"]),ot[6]=parseFloat(vt["origx[2][3]"]),ot[8]=parseFloat(vt["origx[3][1]"]),ot[9]=parseFloat(vt["origx[3][2]"]),ot[10]=parseFloat(vt["origx[3][3]"]),ot[3]=parseFloat(vt["origx_vector[1]"]),ot[7]=parseFloat(vt["origx_vector[2]"]),ot[11]=parseFloat(vt["origx_vector[3]"]),ut.transpose(),We.origx=ut}var Ht=new st;if(Ce.atom_sites){var Et=Ce.atom_sites,bt=Ht.elements;bt[0]=parseFloat(Et["fract_transf_matrix[1][1]"]),bt[1]=parseFloat(Et["fract_transf_matrix[1][2]"]),bt[2]=parseFloat(Et["fract_transf_matrix[1][3]"]),bt[4]=parseFloat(Et["fract_transf_matrix[2][1]"]),bt[5]=parseFloat(Et["fract_transf_matrix[2][2]"]),bt[6]=parseFloat(Et["fract_transf_matrix[2][3]"]),bt[8]=parseFloat(Et["fract_transf_matrix[3][1]"]),bt[9]=parseFloat(Et["fract_transf_matrix[3][2]"]),bt[10]=parseFloat(Et["fract_transf_matrix[3][3]"]),bt[3]=parseFloat(Et["fract_transf_vector[1]"]),bt[7]=parseFloat(Et["fract_transf_vector[2]"]),bt[11]=parseFloat(Et["fract_transf_vector[3]"]),Ht.transpose(),We.scale=Ht}We.a!==void 0?ve.unitcell=new bl(We):ve.unitcell=void 0}(T,C,H),function(Ce,ve,de){var be=Ce.struct_conn;if(be){Ca(be,"id");for(var Pe=/"/g,Ve=ve.getAtomProxy(),Fe=ve.getAtomProxy(),He={},ke=0,qe=be.id.length;ke<qe;++ke){var Ye=be.conn_type_id[ke];if(Ye!=="hydrog"&&Ye!=="mismat"&&Ye!=="saltbr"&&be.ptnr1_symmetry[ke]==="1_555"&&be.ptnr2_symmetry[ke]==="1_555"){var We=be.pdbx_ptnr1_PDB_ins_code[ke],mt=be.pdbx_ptnr1_label_alt_id[ke],Qt=be.ptnr1_auth_seq_id[ke]+(Za(We)?"^"+We:"")+":"+de[be.ptnr1_label_asym_id[ke]]+"."+be.ptnr1_label_atom_id[ke].replace(Pe,"")+(Za(mt)?"%"+mt:""),Dt=He[Qt];if(!Dt){var Me=new si(Qt);if(Me.selection.error){je&&De.warn("invalid selection for connection",Qt);continue}Dt=ve.getAtomIndices(Me),He[Qt]=Dt}var it=be.pdbx_ptnr2_PDB_ins_code[ke],ut=be.pdbx_ptnr2_label_alt_id[ke],vt=be.ptnr2_auth_seq_id[ke]+(Za(it)?"^"+it:"")+":"+de[be.ptnr2_label_asym_id[ke]]+"."+be.ptnr2_label_atom_id[ke].replace(Pe,"")+(Za(ut)?"%"+ut:""),ot=He[vt];if(!ot){var Ht=new si(vt);if(Ht.selection.error){je&&De.warn("invalid selection for connection",vt);continue}ot=ve.getAtomIndices(Ht),He[vt]=ot}var Et=Dt.length,bt=ot.length;if(Et>bt){var en=Et;Et=bt,bt=en;var ct=Dt;Dt=ot,ot=ct}if(Et!==0&&bt!==0)for(var yt=0;yt<bt;++yt)Ve.index=Dt[yt%Et],Fe.index=ot[yt],Ve&&Fe?ve.bondStore.addBond(Ve,Fe,wS(be.pdbx_value_order[ke])):De.log("atoms for connection not found");else je&&De.warn("no atoms found for",Qt,vt)}}}}(T,C,H),function(Ce,ve,de){if(Ce.entity){Ca(Ce.entity,"id");for(var be=Ce.entity,Pe=be.id.length,Ve=0;Ve<Pe;++Ve){var Fe=be.pdbx_description[Ve],He=be.type[Ve],ke=Array.from(de[be.id[Ve]]);ve.entityList[Ve]=new po(ve,Ve,Fe,He,ke)}}}(T,C,W),T.struct&&T.struct.title&&(C.title=T.struct.title.trim().replace(Yp,"")),T.entry&&T.entry.id&&(C.id=T.entry.id.trim().replace(Yp,"")),T.pdbx_audit_revision_history){if(T.pdbx_audit_revision_history.revision_date){Ca(T.pdbx_audit_revision_history,"revision_date");var Ge=T.pdbx_audit_revision_history.revision_date.filter(Za);Ge.length&&(C.header.releaseDate=Ge[0])}if(T.pdbx_database_status.recvd_initial_deposition_date){Ca(T.pdbx_database_status,"recvd_initial_deposition_date");var Le=T.pdbx_database_status.recvd_initial_deposition_date.filter(Za);Le.length&&(C.header.depositionDate=Le[0])}}else if(T.database_PDB_rev){if(T.database_PDB_rev.date){Ca(T.database_PDB_rev,"date");var K=T.database_PDB_rev.date.filter(Za);K.length&&(C.header.releaseDate=K[0])}if(T.database_PDB_rev.date_original){Ca(T.database_PDB_rev,"date_original");var Z=T.database_PDB_rev.date_original.filter(Za);Z.length&&(C.header.depositionDate=Z[0])}}T.reflns&&T.reflns.d_resolution_high?Za(T.reflns.d_resolution_high)&&(C.header.resolution=parseFloat(T.reflns.d_resolution_high)):T.refine&&T.refine.ls_d_res_high&&Za(T.refine.ls_d_res_high)&&(C.header.resolution=parseFloat(T.refine.ls_d_res_high)),T.refine&&T.refine.ls_R_factor_R_free&&Za(T.refine.ls_R_factor_R_free)&&(C.header.rFree=parseFloat(T.refine.ls_R_factor_R_free)),T.refine&&T.refine.ls_R_factor_R_work&&Za(T.refine.ls_R_factor_R_work)&&(C.header.rWork=parseFloat(T.refine.ls_R_factor_R_work)),T.exptl&&T.exptl.method&&(Ca(T.exptl,"method"),C.header.experimentalMethods=T.exptl.method.map(function(Ce){return Ce.replace(Yp,"")})),O.finalize(),C.finalizeAtoms(),Y3(C),C.finalizeBonds(),Re?II(C,Re):H2(C),q3(C),C.extraData.cif=T}je&&De.timeEnd("CifParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(g0);Jt.add("cif",RE),Jt.add("mcif",RE),Jt.add("mmcif",RE);var ide=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"gro"},t.prototype._parse=function(){je&&De.time("GroParser._parse "+this.name);var i,r,a=this.structure,s=this.structureBuilder,o=this.firstModelOnly,c=this.asTrajectory,A=this.cAlphaOnly,l=a.frames,u=a.boxes,d=this.streamer.peekLines(3);a.title=d[0].trim();var p,h,g,b,y=5+(d[2].length-d[2].lastIndexOf(".")-1),v=20+y,_=20+2*y,w=parseInt(d[1]),E=w+3,B=a.atomMap,R=a.atomStore;R.resize(w);var G=0,C=0,O=0;this.streamer.eachChunkOfLines(function(I){(function(D,k,L){for(var T=D;T<k;++T){var H=++O-1,W=L[T];if(W){if(H%E==0)c&&(i=new Float32Array(3*w),l.push(i),r=0);else if(H%E!=1)if(H%E==E-1){var j=W.trim().split(/\s+/),ce=new Float32Array(9);if(ce[0]=10*parseFloat(j[0]),ce[4]=10*parseFloat(j[1]),ce[8]=10*parseFloat(j[2]),u.push(ce),o)return!0;C+=1}else{if(p=W.substr(10,5).trim(),A&&p!=="CA")continue;var ue=10*parseFloat(W.substr(20,y)),te=10*parseFloat(W.substr(v,y)),re=10*parseFloat(W.substr(_,y));if(c){var ae=3*r;if(i[ae+0]=ue,i[ae+1]=te,i[ae+2]=re,r+=1,H>E)continue}h=W.substr(5,5).trim(),g=parseInt(W.substr(0,5)),b=parseInt(W.substr(15,5)),R.growIfFull(),R.atomTypeId[G]=B.add(p),R.x[G]=ue,R.y[G]=te,R.z[G]=re,R.serial[G]=b,s.addAtom(C,"","",h,g,0,"l"),G+=1}}}})(0,I.length,I)}),s.finalize(),a.finalizeAtoms(),Q2(a),Y3(a),a.finalizeBonds(),H2(a),je&&De.timeEnd("GroParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(g0);Jt.add("gro",ide);var rde=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"].concat(["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"]);function fm(e,t,n){return t?new e(t.buffer,t.byteOffset,t.byteLength/(n||1)):void 0}function ox(e){return fm(DataView,e)}function CE(e){return fm(Int8Array,e)}function J3(e){return fm(Int32Array,e,4)}function qp(e,t){var n=e.length/2;t||(t=new Int16Array(n));for(var i=0,r=0;i<n;++i,r+=2)t[i]=e[r]<<8^e[r+1]<<0;return t}function Lo(e,t){var n=e.length/4;t||(t=new Int32Array(n));for(var i=0,r=0;i<n;++i,r+=4)t[i]=e[r]<<24^e[r+1]<<16^e[r+2]<<8^e[r+3]<<0;return t}function e2(e,t,n){var i=e.length,r=1/t;n||(n=new Float32Array(i));for(var a=0;a<i;++a)n[a]=e[a]*r;return n}function ky(e,t){var n,i;if(!t){var r=0;for(n=0,i=e.length;n<i;n+=2)r+=e[n+1];t=new e.constructor(r)}var a=0;for(n=0,i=e.length;n<i;n+=2)for(var s=e[n],o=e[n+1],c=0;c<o;++c)t[a]=s,++a;return t}function YI(e,t){var n=e.length;t||(t=new e.constructor(n)),n&&(t[0]=e[0]);for(var i=1;i<n;++i)t[i]=e[i]+t[i-1];return t}function t2(e,t){var n,i,r=e instanceof Int8Array?127:32767,a=-r-1,s=e.length;if(!t){var o=0;for(n=0;n<s;++n)e[n]<r&&e[n]>a&&++o;t=new Int32Array(o)}for(n=0,i=0;n<s;){for(var c=0;e[n]===r||e[n]===a;)c+=e[n],++n;c+=e[n],++n,t[i]=c,++i}return t}function ES(e,t,n){return e2(t2(e,J3(n)),t,n)}function ade(e,t,n){var i=t2(e,J3(n));return function(r,a,s){return e2(YI(r,J3(s)),a,s)}(i,t,fm(Float32Array,i,4))}function qI(e){var t=0,n=new DataView(e.buffer);function i(c){for(var A={},l=0;l<c;l++)A[o()]=o();return A}function r(c){var A=e.subarray(t,t+c);return t+=c,A}function a(c){var A=e.subarray(t,t+c);t+=c;var l=65535;if(c>l){for(var u=[],d=0;d<A.length;d+=l)u.push(String.fromCharCode.apply(null,A.subarray(d,d+l)));return u.join("")}return String.fromCharCode.apply(null,A)}function s(c){for(var A=new Array(c),l=0;l<c;l++)A[l]=o();return A}function o(){var c,A,l=e[t];if((128&l)==0)return t++,l;if((240&l)==128)return t++,i(A=15&l);if((240&l)==144)return t++,s(A=15&l);if((224&l)==160)return t++,a(A=31&l);if((224&l)==224)return c=n.getInt8(t),t++,c;switch(l){case 192:return t++,null;case 194:return t++,!1;case 195:return t++,!0;case 196:return A=n.getUint8(t+1),t+=2,r(A);case 197:return A=n.getUint16(t+1),t+=3,r(A);case 198:return A=n.getUint32(t+1),t+=5,r(A);case 202:return c=n.getFloat32(t+1),t+=5,c;case 203:return c=n.getFloat64(t+1),t+=9,c;case 204:return c=e[t+1],t+=2,c;case 205:return c=n.getUint16(t+1),t+=3,c;case 206:return c=n.getUint32(t+1),t+=5,c;case 208:return c=n.getInt8(t+1),t+=2,c;case 209:return c=n.getInt16(t+1),t+=3,c;case 210:return c=n.getInt32(t+1),t+=5,c;case 217:return A=n.getUint8(t+1),t+=2,a(A);case 218:return A=n.getUint16(t+1),t+=3,a(A);case 219:return A=n.getUint32(t+1),t+=5,a(A);case 220:return A=n.getUint16(t+1),t+=3,s(A);case 221:return A=n.getUint32(t+1),t+=5,s(A);case 222:return A=n.getUint16(t+1),t+=3,i(A);case 223:return A=n.getUint32(t+1),t+=5,i(A)}throw new Error("Unknown type 0x"+l.toString(16))}return o()}function sde(e,t,n,i){switch(e){case 1:return function(a,s){var o=a.length;s||(s=new Float32Array(o/4));for(var c=ox(s),A=ox(a),l=0,u=0,d=o/4;l<d;++l,u+=4)c.setFloat32(u,A.getFloat32(u),!0);return s}(t);case 2:return CE(t);case 3:return qp(t);case 4:return Lo(t);case 5:return fm(Uint8Array,t);case 6:return ky(Lo(t),new Uint8Array(n));case 7:return ky(Lo(t));case 8:return YI(ky(Lo(t)),r);case 9:return function(a,s,o){return e2(ky(a,J3(o)),s,o)}(Lo(t),Lo(i)[0]);case 10:return ade(qp(t),Lo(i)[0]);case 11:return e2(qp(t),Lo(i)[0]);case 12:return ES(qp(t),Lo(i)[0]);case 13:return ES(CE(t),Lo(i)[0]);case 14:return t2(qp(t));case 15:return t2(CE(t))}var r}function ode(e,t){var n=(t=t||{}).ignoreFields,i={};return rde.forEach(function(r){var a,s,o,c,A,l=!!n&&n.indexOf(r)!==-1,u=e[r];l||u===void 0||(u instanceof Uint8Array?i[r]=sde.apply(null,(s=ox(a=u),o=s.getInt32(0),c=s.getInt32(4),A=a.subarray(8,12),[o,a=a.subarray(12),c,A])):i[r]=u)}),i}var cde={0:"i".charCodeAt(0),1:"s".charCodeAt(0),2:"h".charCodeAt(0),3:"e".charCodeAt(0),4:"g".charCodeAt(0),5:"b".charCodeAt(0),6:"t".charCodeAt(0),7:"l".charCodeAt(0),"-1":"".charCodeAt(0)},Ade=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"mmtf"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){var i,r,a,s,o;je&&De.time("MmtfParser._parse "+this.name);var c,A,l,u,d,p,h=this.structure,g=ode(qI(this.streamer.data));if(["depositionDate","releaseDate","resolution","rFree","rWork","experimentalMethods"].forEach(function(We){g[We]!==void 0&&(h.header[We]=g[We])}),h.id=g.structureId,h.title=g.title,h.atomStore.addField("formalCharge",1,"int8"),this.firstModelOnly||this.asTrajectory){for(d=1,l=0,i=0,r=u=g.chainsPerModel[0];i<r;++i)l+=g.groupsPerChain[i];for(A=0,i=0,r=l;i<r;++i)A+=(o=g.groupList[g.groupTypeList[i]]).atomNameList.length;c=g.numBonds,p=[u]}else c=g.numBonds,A=g.numAtoms,l=g.numGroups,u=g.numChains,d=g.numModels,p=g.chainsPerModel;if(c+=l,this.asTrajectory)for(i=0,r=g.numModels;i<r;++i){var b=new Float32Array(3*A),y=A*i;for(a=0;a<A;++a){var v=3*a,_=a+y;b[v]=g.xCoordList[_],b[v+1]=g.yCoordList[_],b[v+2]=g.zCoordList[_]}h.frames.push(b)}var w=new Uint32Array(c),E=new Uint32Array(c),B=new Uint8Array(c),R=new Uint32Array(A),G=new Int8Array(A),C=new Uint32Array(l),O=new Uint32Array(l),I=new Uint16Array(l),D=new Uint16Array(u),k=new Uint32Array(u),L=new Uint32Array(u),T=new Uint32Array(d),H=new Uint32Array(d),W=0;for(i=0,r=d;i<r;++i){var j=p[i];for(T[i]=W,H[i]=j,a=0;a<j;++a)D[a+W]=i;W+=j}var ce=g.groupsPerChain,ue=0;for(i=0,r=u;i<r;++i){var te=ce[i];for(k[i]=ue,L[i]=te,a=0;a<te;++a)C[a+ue]=i;ue+=te}var re=0,ae=0;for(i=0,r=l;i<r;++i){var fe=(o=g.groupList[g.groupTypeList[i]]).atomNameList.length,ye=o.formalChargeList,se=o.bondAtomList,me=o.bondOrderList;for(a=0,s=me.length;a<s;++a)w[ae]=re+se[2*a],E[ae]=re+se[2*a+1],B[ae]=me[a],ae+=1;for(O[i]=re,I[i]=fe,a=0;a<fe;++a)R[re]=i,G[re]=ye[a],re+=1}var pe=g.bondAtomList;if(pe)for(g.bondOrderList&&B.set(g.bondOrderList,ae),i=0,r=pe.length;i<r;i+=2){var Ee=pe[i],ee=pe[i+1];Ee<A&&ee<A&&(w[ae]=Ee,E[ae]=ee,ae+=1)}h.bondStore.length=B.length,h.bondStore.count=ae,h.bondStore.atomIndex1=w,h.bondStore.atomIndex2=E,h.bondStore.bondOrder=B,h.atomStore.length=A,h.atomStore.count=A,h.atomStore.residueIndex=R,h.atomStore.atomTypeId=new Uint16Array(A),h.atomStore.x=g.xCoordList.subarray(0,A),h.atomStore.y=g.yCoordList.subarray(0,A),h.atomStore.z=g.zCoordList.subarray(0,A),h.atomStore.serial=g.atomIdList.subarray(0,A),h.atomStore.bfactor=g.bFactorList.subarray(0,A),h.atomStore.altloc=g.altLocList.subarray(0,A),h.atomStore.occupancy=g.occupancyList.subarray(0,A),h.atomStore.formalCharge=G,h.residueStore.length=l,h.residueStore.count=l,h.residueStore.chainIndex=C,h.residueStore.residueTypeId=g.groupTypeList,h.residueStore.atomOffset=O,h.residueStore.atomCount=I,h.residueStore.resno=g.groupIdList.subarray(0,l),h.residueStore.sstruc=g.secStructList.subarray(0,l),h.residueStore.inscode=g.insCodeList.subarray(0,l),h.chainStore.length=u,h.chainStore.count=u,h.chainStore.entityIndex=new Uint16Array(u),h.chainStore.modelIndex=D,h.chainStore.residueOffset=k,h.chainStore.residueCount=L,h.chainStore.chainname=g.chainNameList.subarray(0,4*u),h.chainStore.chainid=g.chainIdList.subarray(0,4*u),h.modelStore.length=d,h.modelStore.count=d,h.modelStore.chainOffset=T,h.modelStore.chainCount=H;var ie={};for(i=0,r=g.groupList.length;i<r;++i){var oe=g.groupList[i],he=[];for(a=0,s=oe.atomNameList.length;a<s;++a){var Re=oe.elementList[a].toUpperCase(),Ge=oe.atomNameList[a];he.push(h.atomMap.add(Ge,Re))}var Le=oe.chemCompType.toUpperCase(),K=V0e.includes(Le),Z=oe.bondOrderList.length,Ce=new Array(Z),ve=new Array(Z);for(a=0;a<Z;++a)Ce[a]=oe.bondAtomList[2*a],ve[a]=oe.bondAtomList[2*a+1];var de={atomIndices1:Ce,atomIndices2:ve,bondOrders:oe.bondOrderList};ie[i]=h.residueMap.add(oe.groupName,he,K,Le,de)}for(i=0,r=l;i<r;++i)h.residueStore.residueTypeId[i]=ie[h.residueStore.residueTypeId[i]];for(i=0,r=h.atomStore.count;i<r;++i){var be=h.atomStore.residueIndex[i],Pe=h.residueMap.list[h.residueStore.residueTypeId[be]],Ve=h.residueStore.atomOffset[be];h.atomStore.atomTypeId[i]=Pe.atomTypeIdList[i-Ve]}if(g.secStructList){var Fe=g.secStructList.length;for(i=0,r=h.residueStore.count;i<r;++i){var He=cde[h.residueStore.sstruc[i%Fe]];He!==void 0&&(h.residueStore.sstruc[i]=He)}}if(g.entityList&&g.entityList.forEach(function(We,mt){h.entityList[mt]=new po(h,mt,We.description,We.type,We.chainIndexList)}),g.bioAssemblyList&&g.bioAssemblyList.forEach(function(We,mt){var Qt=mt+1,Dt=new Pr(""+Qt);h.biomolDict["BU"+Qt]=Dt;var Me={};We.transformList.forEach(function(it){var ut=new st().fromArray(it.matrix).transpose(),vt=it.chainIndexList.map(function(Ht){for(var Et="",bt=0;bt<4;++bt){var en=g.chainNameList[4*Ht+bt];if(!en)break;Et+=String.fromCharCode(en)}return Et}),ot=Me[vt.toString()];ot?ot.matrixList.push(ut):Me[vt.toString()]=Dt.addPart([ut],vt)})}),g.ncsOperatorList){var ke=new Pr("NCS"),qe=ke.addPart();g.ncsOperatorList.forEach(function(We){var mt=new st().fromArray(We).transpose();qe.matrixList.push(mt)}),qe.matrixList.length>0&&(h.biomolDict.NCS=ke)}var Ye=g.unitCell;Ye&&Array.isArray(Ye)&&Ye[0]?h.unitcell=new bl({a:Ye[0],b:Ye[1],c:Ye[2],alpha:Ye[3],beta:Ye[4],gamma:Ye[5],spacegroup:g.spaceGroup}):h.unitcell=void 0,rp(h,!0),ip(h,!0),h.finalizeAtoms(),h.finalizeBonds(),q3(h),je&&De.timeEnd("MmtfParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(g0);Jt.add("mmtf",Ade);var NE=/\s+/,lde={1:1,2:2,3:3,am:1,ar:1,du:1,un:1,nc:0},ude=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"mol2"},t.prototype._parse=function(){je&&De.time("Mol2Parser._parse "+this.name);var i,r,a=this.structure,s=this.structureBuilder,o=this.firstModelOnly,c=this.asTrajectory,A=a.frames,l=!1,u=a.atomMap,d=a.atomStore;d.resize(Math.round(this.streamer.data.length/60)),d.addField("partialCharge",1,"float32");var p=0,h=0,g=0,b=-1,y=0,v=0,_=a.getAtomProxy(),w=a.getAtomProxy();this.streamer.eachChunkOfLines(function(E){(function(B,R,G){for(var C=B;C<R;++C){var O=G[C].trim();if(O!==""&&O[0]!=="#"){if(O[0]==="@")O==="@<TRIPOS>MOLECULE"?(v=1,h=0,++b):O==="@<TRIPOS>ATOM"?(v=2,g=d.count,c&&(r=0,i=new Float32Array(3*y),A.push(i),b>0&&(l=!0))):v=O==="@<TRIPOS>BOND"?3:0;else if(v===1){if(h===0)a.title=O,a.id=O;else if(h===1){var I=O.split(NE);y=parseInt(I[0])}++h}else if(v===2){var D=O.split(NE);if(o&&b>0)continue;var k=parseFloat(D[2]),L=parseFloat(D[3]),T=parseFloat(D[4]);if(c){var H=3*r;if(i[H+0]=k,i[H+1]=L,i[H+2]=T,r+=1,l)continue}var W=D[0],j=D[1],ce=D[5].split(".")[0],ue=D[6]?parseInt(D[6]):1,te=D[7]?D[7]:"",re=D[8]?parseFloat(D[8]):0;d.growIfFull(),d.atomTypeId[p]=u.add(j,ce),d.x[p]=k,d.y[p]=L,d.z[p]=T,d.serial[p]=W,d.partialCharge[p]=re,s.addAtom(b,"","",te,ue,1),p+=1}else if(v===3){if(o&&b>0||c&&b>0)continue;var ae=O.split(NE);_.index=parseInt(ae[1])-1+g,w.index=parseInt(ae[2])-1+g;var fe=lde[ae[3]];a.bondStore.addBond(_,w,fe)}}}})(0,E.length,E)}),s.finalize(),a.finalizeAtoms(),Q2(a),ip(a,!0),rp(a,!0),a.finalizeBonds(),Ul(a),H2(a),je&&De.timeEnd("Mol2Parser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(g0);Jt.add("mol2",ude);var dde=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"pdbqt"},Object.defineProperties(t.prototype,n),t}(Qf);Jt.add("pdbqt",dde);var pde=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"pqr"},Object.defineProperties(t.prototype,n),t}(Qf);Jt.add("pqr",pde);var fde=/> +<(.+)>/,SE=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"sdf"},t.prototype._parse=function(){je&&De.time("SdfParser._parse "+this.name);var i=this.structure,r=this.structureBuilder,a=this.firstModelOnly,s=this.asTrajectory,o=this.streamer.peekLines(2);i.id=o[0].trim(),i.title=o[1].trim();var c,A,l=i.frames,u=!1,d=i.atomMap,p=i.atomStore;p.resize(Math.round(this.streamer.data.length/50)),p.addField("formalCharge",1,"int8");var h,g,b,y,v,_,w,E,B,R,G,C,O,I,D=i.getAtomProxy(),k=i.getAtomProxy(),L=0,T=0,H=0,W=0,j=[],ce=!1,ue={};i.extraData.sdf=j;var te=!1,re=!1,ae=!1,fe=[],ye=[],se=new Map;this.streamer.eachChunkOfLines(function(me){(function(pe,Ee,ee){for(var ie=pe;ie<Ee;++ie){var oe=ee[ie];if(te&&oe&&(fe=oe.substring(7).split(" "),ye.length&&(fe=ye.concat(fe),ye=[]),fe[fe.length-1]==="-"))fe.pop(),ye=fe;else{if(oe.substr(0,4)==="$$$$")T=-1,++H,W=p.count,j.push(ue),ue={},ce=!1,te=!1;else if(T===3)(te=oe.indexOf(" V3000")>-1)?se.clear():(g=parseInt(oe.substr(0,3)),b=parseInt(oe.substr(3,3)),w=(_=v=(y=4)+g)+b,s&&(A=0,c=new Float32Array(3*g),l.push(c),H>0&&(u=!0)));else if(te&&fe[0]==="COUNTS")g=parseInt(fe[1]),s&&(A=0,c=new Float32Array(3*g),l.push(c),H>0&&(u=!0));else if(te&&fe.length==2)fe[1]==="ATOM"?fe[0]==="BEGIN"?re=!0:fe[0]==="END"&&(re=!1):fe[1]==="BOND"&&(fe[0]==="BEGIN"?ae=!0:fe[0]==="END"&&(ae=!1));else if(re||!te&&T>=y&&T<v){if(a&&H>0)continue;var he=0;if(te){if(E=parseFloat(fe[2]),B=parseFloat(fe[3]),R=parseFloat(fe[4]),C=fe[1],O=parseInt(fe[0]),se.set(O,L),G=C+O,fe.length>6){var Re=fe.slice(6).find(function(de){return de.indexOf("CHG=")===0});Re&&(he=parseInt(Re.substring(4)))}}else E=parseFloat(oe.substr(0,10)),B=parseFloat(oe.substr(10,10)),R=parseFloat(oe.substr(20,10)),C=oe.substr(31,3).trim(),G=C+(L-W+1);if(s){var Ge=3*A;if(c[Ge+0]=E,c[Ge+1]=B,c[Ge+2]=R,A+=1,u)continue}p.growIfFull(),p.atomTypeId[L]=d.add(G,C),p.x[L]=E,p.y[L]=B,p.z[L]=R,p.serial[L]=te?O:L,p.formalCharge[L]=he,r.addAtom(H,"","","HET",1,1),L+=1}else if(ae||!te&&T>=_&&T<w){if(a&&H>0||s&&H>0)continue;te?(D.index=se.get(parseInt(fe[2])),k.index=se.get(parseInt(fe[3])),I=parseInt(fe[1])):(D.index=parseInt(oe.substr(0,3))-1+W,k.index=parseInt(oe.substr(3,3))-1+W,I=parseInt(oe.substr(6,3))),i.bondStore.addBond(D,k,I)}else if(oe.substr(0,6)==="M  CHG")for(var Le=parseInt(oe.substr(6,3)),K=0,Z=10;K<Le;++K,Z+=8){var Ce=parseInt(oe.substr(Z,3))-1+W,ve=parseInt(oe.substr(Z+4,3));p.formalCharge[Ce]=ve}else oe.charAt(0)===">"&&(h=oe.match(fde))?(ce=h[1],ue[ce]=[]):ce!==!1&&oe&&ue[ce].push(oe);++T}}})(0,me.length,me)}),r.finalize(),i.finalizeAtoms(),i.finalizeBonds(),Ul(i),je&&De.timeEnd("SdfParser._parse "+this.name)},t.prototype._postProcess=function(){Ul(this.structure)},Object.defineProperties(t.prototype,n),t}(g0);Jt.add("sdf",SE),Jt.add("sd",SE),Jt.add("mol",SE);function Xp(e,t,n){return parseInt(e.substr(t,n).trim())}var _S=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"prmtop"},t.prototype._parse=function(){je&&De.time("PrmtopParser._parse "+this.name);var i=this.structure,r=this.structureBuilder,a=i.atomMap,s=i.atomStore;s.addField("partialCharge",1,"float32"),s.addField("radius",1,"float32");var o,c,A,l,u,d=[],p={},h=["NATOM","NTYPES","NBONH","MBONA","NTHETH","MTHETA","NPHIH","MPHIA","NHPARM","NPARM","NNB","NRES","NBONA","NTHETA","NPHIA","NUMBND","NUMANG","NPTRA","NATYP","NPHB","IFPERT","NBPER","NGPER","NDPER","MBPER","MGPER","MDPER","IFBOX","NMXRS","IFCAP","NUMEXTRA","NCOPY"];h.forEach(function(O){p[O]=0});var g,b,y,v,_,w=new Uint8Array(0);this.streamer.eachChunkOfLines(function(O){(function(I,D,k){for(var L=I;L<D;++L){var T=k[L],H=T.trim();if(H&&!T.startsWith("%FORMAT")){if(T.startsWith("%FLAG")){var W=T.substr(5).trim();v=0,W==="TITLE"?y=0:W==="POINTERS"?y=1:W==="ATOM_NAME"?y=2:W==="CHARGE"?y=3:W==="MASS"?y=4:W==="RESIDUE_LABEL"?y=5:W==="RESIDUE_POINTER"?y=6:W==="BONDS_INC_HYDROGEN"?(_=0,y=7):W==="BONDS_WITHOUT_HYDROGEN"?(_=p.NBONH,y=8):y=W==="RADII"?9:void 0}else if(y===0)d.push(H);else if(y===1){for(var j=Math.min(v+10,32),ce=0;v<j;++ce,++v)p[h[v]]=parseInt(T.substr(8*ce,8).trim());o=new Array(p.NATOM),c=new Float32Array(p.NATOM),A=new Float32Array(p.NATOM),s.resize(p.NATOM);var ue=p.NBONH+p.MBONA;l=new Uint32Array(ue),u=new Uint32Array(ue),w=new Uint8Array(ue),g=new Array(p.NRES),b=new Uint32Array(p.NRES)}else if(y===2)for(var te=Math.min(v+20,p.NATOM),re=0;v<te;++re,++v)o[v]=T.substr(4*re,4).trim();else if(y===3)for(var ae=Math.min(v+5,p.NATOM),fe=0;v<ae;++fe,++v)c[v]=parseFloat(T.substr(16*fe,16))/18.2223;else if(y!==4){if(y===5)for(var ye=Math.min(v+20,p.NRES),se=0;v<ye;++se,++v)g[v]=T.substr(4*se,4).trim();else if(y===6)for(var me=Math.min(v+10,p.NRES),pe=0;v<me;++pe,++v)b[v]=Xp(T,8*pe,8);else if(y===7)for(var Ee=Math.min(v+10,3*p.NBONH),ee=0;v<Ee;++ee,++v){var ie=v%3;ie===0&&(l[_]=Xp(T,8*ee,8)/3),ie===1&&(u[_]=Xp(T,8*ee,8)/3,w[_]=1,++_)}else if(y===8)for(var oe=Math.min(v+10,3*p.MBONA),he=0;v<oe;++he,++v){var Re=v%3;Re===0&&(l[_]=Xp(T,8*he,8)/3),Re===1&&(u[_]=Xp(T,8*he,8)/3,w[_]=1,++_)}else if(y===9)for(var Ge=Math.min(v+5,p.NATOM),Le=0;v<Ge;++Le,++v)A[v]=parseFloat(T.substr(16*Le,16))}}}})(0,O.length,O)}),i.title=d.join(" ");for(var E=p.NATOM,B=0,R=g[0],G=1,C=0;C<E;++C)C+1===b[B+1]&&(++B,R=g[B],G=B+1),s.atomTypeId[C]=a.add(o[C]),s.serial[C]=C+1,r.addAtom(0,"","",R,G);s.partialCharge.set(c),s.radius.set(A),i.bondStore.length=w.length,i.bondStore.count=w.length,i.bondStore.atomIndex1=l,i.bondStore.atomIndex2=u,i.bondStore.bondOrder=w,r.finalize(),i.finalizeAtoms(),i.finalizeBonds(),ip(i,!0),rp(i,!0,!0),Q2(i,!0),Ul(i),je&&De.timeEnd("PrmtopParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(g0);Jt.add("prmtop",_S),Jt.add("parm7",_S);var Oy=/\s+/,hde=/(^\*|REMARK)*/,mde=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"psf"},t.prototype._parse=function(){je&&De.time("PsfParser._parse "+this.name);var i=this.structure,r=this.structureBuilder,a=i.atomMap,s=i.atomStore;s.addField("partialCharge",1,"float32");var o,c,A,l,u,d,p=[],h=0,g=0,b=0;this.streamer.eachChunkOfLines(function(y){(function(v,_,w){for(var E=v;E<_;++E){var B=w[E].trim();if(B){if(o===2){var R=B.split(Oy),G=parseInt(R[0]),C=R[1],O=parseInt(R[2]),I=R[3],D=R[4],k=parseFloat(R[6]);C!==A&&(c=Kh(g),++g),s.growIfFull(),s.atomTypeId[h]=a.add(D),s.serial[h]=G,s.partialCharge[h]=k,r.addAtom(0,c,c,I,O),h+=1,A=C}else if(o===3)for(var L=B.split(Oy),T=0,H=L.length;T<H;T+=2)l[b]=parseInt(L[T])-1,u[b]=parseInt(L[T+1])-1,d[b]=1,b+=1;else if(o===1)p.push(B.replace(hde,"").trim());else if(o!==4){if(o!==5){if(o!==6)if(B.includes("!NATOM")){o=2;var W=parseInt(B.split(Oy)[0]);s.resize(W)}else if(B.includes("!NBOND")){o=3;var j=parseInt(B.split(Oy)[0]);l=new Uint32Array(j),u=new Uint32Array(j),d=new Uint8Array(j)}else B.includes("!NTITLE")?o=1:B.includes("!NTHETA")?o=4:B.includes("!NPHI")?o=5:B.includes("!NIMPHI")&&(o=6)}}}else o=void 0}})(0,y.length,y)}),i.title=p.join(" "),i.bondStore.length=d.length,i.bondStore.count=b,i.bondStore.atomIndex1=l,i.bondStore.atomIndex2=u,i.bondStore.bondOrder=d,r.finalize(),i.finalizeAtoms(),i.finalizeBonds(),ip(i,!0),rp(i,!0,!0),Ul(i),je&&De.timeEnd("PsfParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(g0);Jt.add("psf",mde);var yde=/\[ (.+) \]/,Hy=/\s+/,gde=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"top"},t.prototype._parse=function(){je&&De.time("TopParser._parse "+this.name);var i=this.structure,r=this.structureBuilder,a=i.atomMap,s=i.bondStore,o=i.atomStore;o.addField("partialCharge",1,"float32");var c,A,l=[],u={};this.streamer.eachChunkOfLines(function(E){(function(B,R,G){for(var C=B;C<R;++C){var O=G[C],I=O.trim();if(I&&I[0]!=="*"&&I[0]!==";"){if(I.startsWith("#include"))throw new Error("TopParser: #include statements not allowed");var D=O.match(yde);if(D===null){var k=I.indexOf(";");if(k!==-1&&(I=I.substring(0,k).trim()),A===2){var L=I.split(Hy)[0];u[L]=c}else if(A===3){var T=I.split(Hy);c.atoms.push([parseInt(T[2]),T[3],T[4],parseFloat(T[6])])}else if(A===4){var H=I.split(Hy);c.bonds.push([parseInt(H[0]),parseInt(H[1])])}else if(A===0)i.title=I;else if(A===1){var W=I.split(Hy);l.push([W[0],parseInt(W[1])])}}else{var j=D[1];j==="moleculetype"?(A=2,c={atoms:[],bonds:[]}):A=j==="atoms"?3:j==="bonds"?4:j==="system"?0:j==="molecules"?1:void 0}}}})(0,E.length,E)});var d=0,p=0;l.forEach(function(E){var B=E[0],R=E[1],G=u[B];d+=R*G.atoms.length,p+=R*G.bonds.length}),o.resize(d),s.resize(p);var h,g=0,b=0,y=0,v=0,_=0,w=0;l.forEach(function(E){for(var B=E[0],R=E[1],G=u[B],C=Kh(v),O=function(D){h=-1;var k=j3.includes(B)?C:Kh(y);G.atoms.forEach(function(L){var T=L[0],H=L[1],W=L[2],j=L[3];T!==h&&++b,o.atomTypeId[g]=a.add(W),o.serial[g]=g+1,o.partialCharge[g]=j,r.addAtom(0,C,k,H,b+1),++g,h=T}),G.bonds.forEach(function(L){s.atomIndex1[_]=w+L[0]-1,s.atomIndex2[_]=w+L[1]-1,++_}),++y,w+=G.atoms.length},I=0;I<R;++I)O();++v}),s.count=p,r.finalize(),i.finalizeAtoms(),i.finalizeBonds(),ip(i,!0),rp(i,!0,!0),Ul(i),je&&De.timeEnd("TopParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(g0);Jt.add("top",gde);var V2=function(e){function t(i,r){e.call(this,i,r),this.frames=new z7(this.name,this.path)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"trajectory"},n.__objName.get=function(){return"frames"},Object.defineProperties(t.prototype,n),t}(Jr),bde=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"dcd"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){je&&De.time("DcdParser._parse "+this.name);var i=tp(this.streamer.data),r=new DataView(i),a=this.frames,s=a.coordinates,o=a.boxes,c={},A=0,l=new Int32Array(i,0,23),u=l[0]!==r.getInt32(0);if(l[0]!==84)for(var d=i.byteLength,p=0;p<d;p+=4)r.setFloat32(p,r.getFloat32(p),!0);l[0]!==84&&De.error("dcd bad format, header block start"),String.fromCharCode(r.getUint8(4),r.getUint8(5),r.getUint8(6),r.getUint8(7))!=="CORD"&&De.error("dcd bad format, format string");var h=!1,g=!1,b=!1;l[22]!==0&&(h=!0,l[12]!==0&&(g=!0),l[13]===1&&(b=!0)),c.NSET=l[2],c.ISTART=l[3],c.NSAVC=l[4],c.NAMNF=l[10],c.DELTA=h?r.getFloat32(44,u):r.getFloat64(44,u),l[22]!==84&&De.error("dcd bad format, header block end"),A=A+84+8;var y=r.getInt32(A,u),v=A+1;if((y-4)%80!=0&&De.error("dcd bad format, title block start"),c.TITLE=H3(new Uint8Array(i,v,y)),r.getInt32(v+y+4-1,u)!==y&&De.error("dcd bad format, title block end"),A=A+y+8,r.getInt32(A,u)!==4&&De.error("dcd bad format, natom block start"),c.NATOM=r.getInt32(A+4,u),r.getInt32(A+8,u)!==4&&De.error("dcd bad format, natom block end"),A=A+4+8,c.NAMNF>0)De.error("dcd format with fixed atoms unsupported, aborting");else{for(var _=c.NATOM,w=4*_,E=0,B=c.NSET;E<B;++E){if(g){A+=4;var R=new Float32Array(9);R[0]=r.getFloat64(A,u),R[4]=r.getFloat64(A+16,u),R[8]=r.getFloat64(A+40,u),o.push(R),A+=48,A+=4}for(var G=new Float32Array(3*_),C=0;C<3;++C){r.getInt32(A,u)!==w&&De.error("dcd bad format, coord block start",E,C),A+=4;for(var O=new Float32Array(i,A,_),I=0;I<_;++I)G[3*I+C]=O[I];A+=w,r.getInt32(A,u)!==w&&De.error("dcd bad format, coord block end",E,C),A+=4}s.push(G),b&&(A+=4+r.getInt32(A,u)+4)}c.DELTA&&(a.deltaTime=20.45482949774598*c.DELTA),c.ISTART>=1&&(a.timeOffset=(c.ISTART-1)*a.deltaTime),je&&De.timeEnd("DcdParser._parse "+this.name)}},Object.defineProperties(t.prototype,n),t}(V2);function ts(e,t){if(e)throw new TypeError("Not a valid NetCDF v3.x file: "+t)}function XI(e){e.offset%4!=0&&e.skip(4-e.offset%4)}function cx(e){var t=e.readUint32(),n=e.readChars(t);return XI(e),n}Jt.add("dcd",bde);var K2=1,W2=2,$2=3,j2=4,Y2=5,q2=6;function ZI(e){switch(Number(e)){case K2:return"byte";case W2:return"char";case $2:return"short";case j2:return"int";case Y2:return"float";case q2:return"double";default:return"undefined"}}function xS(e){switch(Number(e)){case K2:case W2:return 1;case $2:return 2;case j2:case Y2:return 4;case q2:return 8;default:return-1}}function BS(e){switch(String(e)){case"byte":return K2;case"char":return W2;case"short":return $2;case"int":return j2;case"float":return Y2;case"double":return q2;default:return-1}}function Qy(e,t){if(e!==1){for(var n=new Array(e),i=0;i<e;i++)n[i]=t();return n}return t()}function Ax(e,t,n){switch(t){case K2:return e.readBytes(n);case W2:return function(i){return i.charCodeAt(i.length-1)===0?i.substring(0,i.length-1):i}(e.readChars(n));case $2:return Qy(n,e.readInt16.bind(e));case j2:return Qy(n,e.readInt32.bind(e));case Y2:return Qy(n,e.readFloat32.bind(e));case q2:return Qy(n,e.readFloat64.bind(e));default:return void ts(!0,"non valid type "+t)}}function vde(e,t){var n={recordDimension:{length:e.readUint32()}};n.version=t;var i=function(a){var s,o,c,A=a.readUint32();if(A===0)return ts(a.readUint32()!==0,"wrong empty tag for list of dimensions"),[];ts(A!==10,"wrong tag for list of dimensions");var l=a.readUint32();s=new Array(l);for(var u=0;u<l;u++){var d=cx(a),p=a.readUint32();p===0&&(o=u,c=d),s[u]={name:d,size:p}}return{dimensions:s,recordId:o,recordName:c}}(e);n.recordDimension.id=i.recordId,n.recordDimension.name=i.recordName,n.dimensions=i.dimensions,n.globalAttributes=RS(e);var r=function(a,s,o){var c,A=a.readUint32(),l=0;if(A===0)return ts(a.readUint32()!==0,"wrong empty tag for list of variables"),[];ts(A!==11,"wrong tag for list of variables");var u=a.readUint32();c=new Array(u);for(var d=0;d<u;d++){for(var p=cx(a),h=a.readUint32(),g=new Array(h),b=0;b<h;b++)g[b]=a.readUint32();var y=RS(a),v=a.readUint32();ts(v<1&&v>6,"non valid type "+v);var _=a.readUint32(),w=a.readUint32();o===2&&(ts(w>0,"offsets larger than 4GB not supported"),w=a.readUint32()),g[0]===s&&(l+=_),c[d]={name:p,dimensions:g,attributes:y,type:ZI(v),size:_,offset:w,record:g[0]===s}}return{variables:c,recordStep:l}}(e,i.recordId,t);return n.variables=r.variables,n.recordDimension.recordStep=r.recordStep,n}function RS(e){var t,n=e.readUint32();if(n===0)return ts(e.readUint32()!==0,"wrong empty tag for list of attributes"),[];ts(n!==12,"wrong tag for list of attributes");var i=e.readUint32();t=new Array(i);for(var r=0;r<i;r++){var a=cx(e),s=e.readUint32();ts(s<1||s>6,"non valid type "+s);var o=e.readUint32(),c=Ax(e,s,o);XI(e),t[r]={name:a,type:ZI(s),value:c}}return t}var zf=function(e){var t=new En(e);t.setBigEndian(),ts(t.readChars(3)!=="CDF","should start with CDF");var n=t.readByte();ts(n>2,"unknown version"),this.header=vde(t,n),this.buffer=t},Mu={version:{configurable:!0},recordDimension:{configurable:!0},dimensions:{configurable:!0},globalAttributes:{configurable:!0},variables:{configurable:!0}};Mu.version.get=function(){return this.header.version===1?"classic format":"64-bit offset format"},Mu.recordDimension.get=function(){return this.header.recordDimension},Mu.dimensions.get=function(){return this.header.dimensions},Mu.globalAttributes.get=function(){return this.header.globalAttributes},Mu.variables.get=function(){return this.header.variables},zf.prototype.hasDataVariable=function(e){return this.header.variables.findIndex(function(t){return t.name===e})!==-1},zf.prototype.getDataVariable=function(e){var t;return ts((t=typeof e=="string"?this.header.variables.find(function(n){return n.name===e}):e)===void 0,"variable not found"),this.buffer.seek(t.offset),t.record?function(n,i,r){for(var a=BS(i.type),s=i.size?i.size/xS(a):1,o=r.length,c=new Array(o),A=r.recordStep,l=0;l<o;l++){var u=n.offset;c[l]=Ax(n,a,s),n.seek(u+A)}return c}(this.buffer,t,this.header.recordDimension):function(n,i){for(var r=BS(i.type),a=i.size/xS(r),s=new Array(a),o=0;o<a;o++)s[o]=Ax(n,r,1);return s}(this.buffer,t)},Object.defineProperties(zf.prototype,Mu);var GE=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"nctraj"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){je&&De.time("NctrajParser._parse "+this.name);var i=new zf(this.streamer.data),r=this.frames,a=r.coordinates,s=r.boxes,o=r.times;i.getDataVariable("coordinates").forEach(function(c){a.push(new Float32Array(c))}),i.hasDataVariable("cell_lengths")&&i.getDataVariable("cell_lengths").forEach(function(c){s.push(new Float32Array(c))}),i.hasDataVariable("time")&&i.getDataVariable("time").forEach(function(c){o.push(c)}),o.length>=1&&(r.timeOffset=o[0]),o.length>=2&&(r.deltaTime=o[1]-o[0]),je&&De.timeEnd("NctrajParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(V2);Jt.add("nctraj",GE),Jt.add("ncdf",GE),Jt.add("nc",GE);var wde=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"trr"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){je&&De.time("TrrParser._parse "+this.name);for(var i=tp(this.streamer.data),r=new DataView(i),a=this.frames,s=a.coordinates,o=a.boxes,c=a.times,A=0;;){A+=8;var l=r.getInt32(A);A+=4,A+=l;var u=r.getInt32(A+8),d=r.getInt32(A+12),p=r.getInt32(A+16),h=r.getInt32(A+28),g=r.getInt32(A+32),b=r.getInt32(A+36),y=r.getInt32(A+40);A+=52;var v=u/9,_=3*y;if(v===8?c.push(r.getFloat64(A)):c.push(r.getFloat32(A)),A+=2*v,u){var w=new Float32Array(9);if(v===8)for(var E=0;E<9;++E)w[E]=10*r.getFloat64(A),A+=8;else for(var B=0;B<9;++B)w[B]=10*r.getFloat32(A),A+=4;o.push(w)}if(A+=d,A+=p,h){var R=void 0;if(v===8){R=new Float32Array(_);for(var G=0;G<_;++G)R[G]=10*r.getFloat64(A),A+=8}else{for(var C=new Uint32Array(i,A,_),O=0;O<_;++O){var I=C[O];C[O]=(255&I)<<24|(65280&I)<<8|I>>8&65280|I>>24&255}R=new Float32Array(i,A,_);for(var D=0;D<_;++D)R[D]*=10,A+=4}s.push(R)}if(A+=g,(A+=b)>=i.byteLength)break}c.length>=1&&(a.timeOffset=c[0]),c.length>=2&&(a.deltaTime=c[1]-c[0]),je&&De.timeEnd("TrrParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(V2);Jt.add("trr",wde);var Tu=new Uint32Array([0,0,0,0,0,0,0,0,0,8,10,12,16,20,25,32,40,50,64,80,101,128,161,203,256,322,406,512,645,812,1024,1290,1625,2048,2580,3250,4096,5060,6501,8192,10321,13003,16384,20642,26007,32768,41285,52015,65536,82570,104031,131072,165140,208063,262144,330280,416127,524287,660561,832255,1048576,1321122,1664510,2097152,2642245,3329021,4194304,5284491,6658042,8388607,10568983,13316085,16777216]);function ME(e){for(var t=1,n=0;e>=t&&n<32;)n++,t<<=1;return n}var Zp=new Uint8Array(32);function Ede(e,t){var n=1,i=0;Zp[0]=1;for(var r=0;r<e;r++){var a=void 0,s=0;for(a=0;a<n;a++)s+=Zp[a]*t[r],Zp[a]=255&s,s>>=8;for(;s!==0;)Zp[a++]=255&s,s>>=8;n=a}var o=1;for(n--;Zp[n]>=o;)i++,o*=2;return i+8*n}function rl(e,t,n,i){for(var r=(1<<n)-1,a=i[1],s=i[2],o=e[0],c=0;n>=8;)c|=(s=s<<8|t[o++])>>a<<n-8,n-=8;return n>0&&(a<n&&(a+=8,s=s<<8|t[o++]),c|=s>>(a-=n)&(1<<n)-1),c&=r,e[0]=o,e[1]=a,e[2]=s,c}var oo=new Int32Array(32);function CS(e,t,n,i,r,a,s){var o=0;for(oo[1]=0,oo[2]=0,oo[3]=0;i>8;)oo[o++]=rl(e,t,8,s),i-=8;i>0&&(oo[o++]=rl(e,t,i,s));for(var c=n-1;c>0;c--){for(var A=0,l=o-1;l>=0;l--){var u=(A=A<<8|oo[l])/r[c]|0;oo[l]=u,A-=u*r[c]}a[c]=A}a[0]=oo[0]|oo[1]<<8|oo[2]<<16|oo[3]<<24}var _de=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"xtc"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){je&&De.time("XtcParser._parse "+this.name);for(var i=tp(this.streamer.data),r=new DataView(i),a=this.frames,s=a.coordinates,o=a.boxes,c=a.times,A=new Int32Array(6),l=new Int32Array(3),u=new Int32Array(3),d=new Uint32Array(3),p=new Float32Array(3),h=new Float32Array(3),g=0,b=new Int32Array(3),y=new Uint32Array(b.buffer);;){var v=void 0,_=r.getInt32(g+4);g+=12;var w=3*_;c.push(r.getFloat32(g)),g+=4;for(var E=new Float32Array(9),B=0;B<9;++B)E[B]=10*r.getFloat32(g),g+=4;if(o.push(E),_<=9){v=new Float32Array(_);for(var R=0;R<_;++R)v[R]=r.getFloat32(g),g+=4}else{b[0]=b[1]=b[2]=0,l[0]=l[1]=l[2]=0,d[0]=d[1]=d[2]=0,u[0]=u[1]=u[2]=0,p[0]=p[1]=p[2]=0,h[0]=h[1]=h[2]=0,v=new Float32Array(w);var G=0,C=r.getInt32(g);g+=4;var O=r.getFloat32(g);g+=4,A[0]=r.getInt32(g),A[1]=r.getInt32(g+4),A[2]=r.getInt32(g+8),A[3]=r.getInt32(g+12),A[4]=r.getInt32(g+16),A[5]=r.getInt32(g+20),l[0]=A[3]-A[0]+1,l[1]=A[4]-A[1]+1,l[2]=A[5]-A[2]+1,g+=24;var I=void 0;(l[0]|l[1]|l[2])>16777215?(u[0]=ME(l[0]),u[1]=ME(l[1]),u[2]=ME(l[2]),I=0):I=Ede(3,l);var D=r.getInt32(g);g+=4;var k=D-1,L=Tu[k=9>k?9:k]/2|0,T=Tu[D]/2|0;d[0]=d[1]=d[2]=Tu[D];var H=4*Math.ceil(r.getInt32(g)/4);g+=4;var W=1/O,j=0,ce=0,ue=new Uint8Array(i,g);for(p[0]=p[1]=p[2]=0;ce<C;){I===0?(p[0]=rl(b,ue,u[0],y),p[1]=rl(b,ue,u[1],y),p[2]=rl(b,ue,u[2],y)):CS(b,ue,3,I,l,p,y),ce++,p[0]+=A[0],p[1]+=A[1],p[2]+=A[2],h[0]=p[0],h[1]=p[1],h[2]=p[2];var te=0;if(rl(b,ue,1,y)===1&&(j=rl(b,ue,5,y),j-=te=j%3,te--),j>0){p[0]=p[1]=p[2]=0;for(var re=0;re<j;re+=3){if(CS(b,ue,3,D,d,p,y),ce++,p[0]+=h[0]-T,p[1]+=h[1]-T,p[2]+=h[2]-T,re===0){var ae=p[0];p[0]=h[0],h[0]=ae,ae=p[1],p[1]=h[1],h[1]=ae,ae=p[2],p[2]=h[2],h[2]=ae,v[G++]=h[0]*W,v[G++]=h[1]*W,v[G++]=h[2]*W}else h[0]=p[0],h[1]=p[1],h[2]=p[2];v[G++]=p[0]*W,v[G++]=p[1]*W,v[G++]=p[2]*W}}else v[G++]=p[0]*W,v[G++]=p[1]*W,v[G++]=p[2]*W;if(D+=te,te<0?(T=L,L=D>9?Tu[D-1]/2|0:0):te>0&&(L=T,T=Tu[D]/2|0),d[0]=d[1]=d[2]=Tu[D],d[0]===0||d[1]===0||d[2]===0)return void console.error("(xdrfile error) Undefined error.")}g+=H}for(var fe=0;fe<w;fe++)v[fe]*=10;if(s.push(v),g>=i.byteLength)break}c.length>=1&&(a.timeOffset=c[0]),c.length>=2&&(a.deltaTime=c[1]-c[0]),je&&De.timeEnd("XtcParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(V2);Jt.add("xtc",_de);var hm=function(e){function t(i,r){var a=r||{};e.call(this,i,a),this.volume=new jn(this.name,this.path),this.voxelSize=z(a.voxelSize,1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"volume"},n.__objName.get=function(){return"volume"},t.prototype._afterParse=function(){this.volume.setMatrix(this.getMatrix()),e.prototype._afterParse.call(this)},t.prototype.getMatrix=function(){return new st},Object.defineProperties(t.prototype,n),t}(Jr),xde=/\s+/,Bde=/-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,NS=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"cube"},t.prototype._parse=function(){je&&De.time("CubeParser._parse "+this.name);var i=this.volume,r=this.streamer.peekLines(6),a={},s=.529177210859*this.voxelSize;function o(d,p){var h=r[d].trim().split(xde)[p];return parseFloat(h)}a.atomCount=Math.abs(o(2,0)),a.originX=.529177210859*o(2,1),a.originY=.529177210859*o(2,2),a.originZ=.529177210859*o(2,3),a.NVX=o(3,0),a.NVY=o(4,0),a.NVZ=o(5,0),a.basisX=new P(o(3,1),o(3,2),o(3,3)).multiplyScalar(s),a.basisY=new P(o(4,1),o(4,2),o(4,3)).multiplyScalar(s),a.basisZ=new P(o(5,1),o(5,2),o(5,3)).multiplyScalar(s);var c=new Float32Array(a.NVX*a.NVY*a.NVZ),A=0,l=0,u=o(2,0)>0?0:1;this.streamer.eachChunkOfLines(function(d){(function(p,h,g){for(var b=p;b<h;++b){var y=g[b].trim();if(y!==""&&l>=a.atomCount+6+u)for(var v=y.match(Bde),_=0,w=v.length;_<w;++_)c[A]=parseFloat(v[_]),++A;++l}})(0,d.length,d)}),i.header=a,i.setData(c,a.NVZ,a.NVY,a.NVX),je&&De.timeEnd("CubeParser._parse "+this.name)},t.prototype.getMatrix=function(){var i=this.volume.header,r=new st;return r.multiply(new st().makeTranslation(i.originX,i.originY,i.originZ)),r.multiply(new st().makeBasis(i.basisZ,i.basisY,i.basisX)),r},Object.defineProperties(t.prototype,n),t}(hm);Jt.add("cub",NS),Jt.add("cube",NS);var SS=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"dsn6"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){je&&De.time("Dsn6Parser._parse "+this.name);var i,r,a=this.volume,s={},o=tp(this.streamer.data),c=new Int16Array(o),A=new Uint8Array(o),l=String.fromCharCode.apply(null,A.subarray(0,512));if(l.startsWith(":-)"))s.xStart=parseInt(l.substr(10,5)),s.yStart=parseInt(l.substr(15,5)),s.zStart=parseInt(l.substr(20,5)),s.xExtent=parseInt(l.substr(32,5)),s.yExtent=parseInt(l.substr(38,5)),s.zExtent=parseInt(l.substr(42,5)),s.xRate=parseInt(l.substr(52,5)),s.yRate=parseInt(l.substr(58,5)),s.zRate=parseInt(l.substr(62,5)),s.xlen=parseFloat(l.substr(73,10))*this.voxelSize,s.ylen=parseFloat(l.substr(83,10))*this.voxelSize,s.zlen=parseFloat(l.substr(93,10))*this.voxelSize,s.alpha=parseFloat(l.substr(103,10)),s.beta=parseFloat(l.substr(113,10)),s.gamma=parseFloat(l.substr(123,10)),i=parseFloat(l.substr(138,12))/100,r=parseInt(l.substr(155,8)),s.sigma=100*parseFloat(l.substr(170,12));else{if(c[18]!==100)for(var u=0,d=c.length;u<d;++u){var p=c[u];c[u]=(255&p)<<8|p>>8&255}s.xStart=c[0],s.yStart=c[1],s.zStart=c[2],s.xExtent=c[3],s.yExtent=c[4],s.zExtent=c[5],s.xRate=c[6],s.yRate=c[7],s.zRate=c[8];var h=1/c[17],g=h*this.voxelSize;s.xlen=c[9]*g,s.ylen=c[10]*g,s.zlen=c[11]*g,s.alpha=c[12]*h,s.beta=c[13]*h,s.gamma=c[14]*h,i=c[15]/100,r=c[16],s.gamma=c[14]*h}a.header=s,je&&De.log(s,i,r);for(var b=new Float32Array(s.xExtent*s.yExtent*s.zExtent),y=512,v=Math.ceil(s.xExtent/8),_=Math.ceil(s.yExtent/8),w=Math.ceil(s.zExtent/8),E=0;E<w;++E)for(var B=0;B<_;++B)for(var R=0;R<v;++R)for(var G=0;G<8;++G)for(var C=8*E+G,O=0;O<8;++O)for(var I=8*B+O,D=0;D<8;++D){var k=8*R+D;if(!(k<s.xExtent&&I<s.yExtent&&C<s.zExtent)){y+=8-D;break}b[(k*s.yExtent+I)*s.zExtent+C]=(A[y]-r)/i,++y}a.setData(b,s.zExtent,s.yExtent,s.xExtent),s.sigma&&a.setStats(void 0,void 0,void 0,s.sigma),je&&De.timeEnd("Dsn6Parser._parse "+this.name)},t.prototype.getMatrix=function(){var i=this.volume.header,r=[i.xlen,0,0],a=[i.ylen*Math.cos(Math.PI/180*i.gamma),i.ylen*Math.sin(Math.PI/180*i.gamma),0],s=[i.zlen*Math.cos(Math.PI/180*i.beta),i.zlen*(Math.cos(Math.PI/180*i.alpha)-Math.cos(Math.PI/180*i.gamma)*Math.cos(Math.PI/180*i.beta))/Math.sin(Math.PI/180*i.gamma),0];s[2]=Math.sqrt(i.zlen*i.zlen*Math.sin(Math.PI/180*i.beta)*Math.sin(Math.PI/180*i.beta)-s[1]*s[1]);var o=[[],r,a,s],c=[0,i.xRate,i.yRate,i.zRate],A=[0,1,2,3],l=new st;return l.set(o[A[1]][0]/c[A[1]],o[A[2]][0]/c[A[2]],o[A[3]][0]/c[A[3]],0,o[A[1]][1]/c[A[1]],o[A[2]][1]/c[A[2]],o[A[3]][1]/c[A[3]],0,o[A[1]][2]/c[A[1]],o[A[2]][2]/c[A[2]],o[A[3]][2]/c[A[3]],0,0,0,0,1),l.multiply(new st().makeRotationY(Oi(90))),l.multiply(new st().makeTranslation(-i.zStart,i.yStart,i.xStart)),l.multiply(new st().makeScale(-1,1,1)),l},Object.defineProperties(t.prototype,n),t}(hm);Jt.add("dsn6",SS),Jt.add("brix",SS);var zy=/\s+/,JI=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"dx"},t.prototype._parse=function(){je&&De.time("DxParser._parse "+this.name);var i=this.volume,r=this.streamer.peekLines(30),a=this.parseHeaderLines(r),s=this.volume.header,o=a.dataLineStart,c=s.nx*s.ny*s.nz,A=new Float32Array(c),l=0,u=0;this.streamer.eachChunkOfLines(function(d){(function(p,h,g){for(var b=p;b<h;++b){if(l<c&&u>o){var y=g[b].trim();if(y!=="")for(var v=y.split(zy),_=0,w=v.length;_<w;++_)A[l]=parseFloat(v[_]),++l}++u}})(0,d.length,d)}),i.setData(A,s.nz,s.ny,s.nx),je&&De.timeEnd("DxParser._parse "+this.name)},t.prototype.parseHeaderLines=function(i){for(var r={},a=i.length,s=0,o=0,c=0,A=0;A<a;++A){var l=void 0,u=i[A];if(u.startsWith("object 1"))l=u.split(zy),r.nx=parseInt(l[5]),r.ny=parseInt(l[6]),r.nz=parseInt(l[7]);else if(u.startsWith("origin"))l=u.split(zy),r.xmin=parseFloat(l[1]),r.ymin=parseFloat(l[2]),r.zmin=parseFloat(l[3]);else if(u.startsWith("delta"))l=u.split(zy),c===0?r.hx=parseFloat(l[1])*this.voxelSize:c===1?r.hy=parseFloat(l[2])*this.voxelSize:c===2&&(r.hz=parseFloat(l[3])*this.voxelSize),c+=1;else if(u.startsWith("object 3")){s=A,o+=u.length+1;break}o+=u.length+1}return this.volume.header=r,{dataLineStart:s,headerByteCount:o}},t.prototype.getMatrix=function(){var i=this.volume.header,r=new st;return r.multiply(new st().makeRotationY(Oi(90))),r.multiply(new st().makeTranslation(-i.zmin,i.ymin,i.xmin)),r.multiply(new st().makeScale(-i.hz,i.hy,i.hx)),r},Object.defineProperties(t.prototype,n),t}(hm);Jt.add("dx",JI);var Rde=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"dxbin"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){je&&De.time("DxbinParser._parse "+this.name);for(var i=tp(this.streamer.data),r=function(d,p,h){p===void 0&&(p=10485760),h===void 0&&(h=`
`);for(var g="",b=[],y=0;y<d.length;y+=p){var v=H3(d.subarray(y,y+p)),_=v.lastIndexOf(h);if(_===-1)g+=v;else{var w=g+v.substr(0,_);b=b.concat(w.split(h)),g=_===v.length-h.length?"":v.substr(_+h.length)}}return g!==""&&b.push(g),b}(new Uint8Array(i,0,1e3)),a=this.parseHeaderLines(r),s=this.volume.header,o=a.headerByteCount,c=s.nx*s.ny*s.nz,A=new DataView(i),l=new Float32Array(c),u=0;u<c;++u)l[u]=A.getFloat64(8*u+o,!0);this.volume.setData(l,s.nz,s.ny,s.nx),je&&De.timeEnd("DxbinParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(JI);Jt.add("dxbin",Rde);var TE=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"mrc"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){je&&De.time("MrcParser._parse "+this.name);var i,r=this.volume,a={},s=tp(this.streamer.data),o=new Int32Array(s,0,56),c=new Float32Array(s,0,56),A=new DataView(s);if(a.MAP=String.fromCharCode(A.getUint8(208),A.getUint8(209),A.getUint8(210),A.getUint8(211)),a.MACHST=[A.getUint8(212),A.getUint8(213)],a.MACHST[0]===17&&a.MACHST[1]===17)for(var l=s.byteLength,u=0;u<l;u+=4)A.setFloat32(u,A.getFloat32(u),!0);if(a.NX=o[0],a.NY=o[1],a.NZ=o[2],a.MODE=o[3],a.NXSTART=o[4],a.NYSTART=o[5],a.NZSTART=o[6],a.MX=o[7],a.MY=o[8],a.MZ=o[9],a.xlen=c[10]*this.voxelSize,a.ylen=c[11]*this.voxelSize,a.zlen=c[12]*this.voxelSize,a.alpha=c[13],a.beta=c[14],a.gamma=c[15],a.MAPC=o[16],a.MAPR=o[17],a.MAPS=o[18],a.DMIN=c[19],a.DMAX=c[20],a.DMEAN=c[21],a.ISPG=o[22],a.NSYMBT=o[23],a.LSKFLG=o[24],a.originX=c[49],a.originY=c[50],a.originZ=c[51],a.ARMS=c[54],r.header=a,a.MODE===2)i=new Float32Array(s,1024+a.NSYMBT,a.NX*a.NY*a.NZ);else if(a.MODE===0){if(i=new Float32Array(new Int8Array(s,1024+a.NSYMBT,a.NX*a.NY*a.NZ)),o[39]===-128&&o[40]===127)for(var d=(a.DMAX-a.DMIN)/255,p=.5*(a.DMIN+a.DMAX+d),h=0,g=i.length;h<g;++h)i[h]=d*i[h]+p}else De.error("MrcParser unknown mode",a.MODE);r.setData(i,a.NX,a.NY,a.NZ),a.ARMS!==0&&r.setStats(a.DMIN,a.DMAX,a.DMEAN,a.ARMS),je&&De.timeEnd("MrcParser._parse "+this.name)},t.prototype.getMatrix=function(){var i=this.volume.header,r=[i.xlen,0,0],a=[i.ylen*Math.cos(Math.PI/180*i.gamma),i.ylen*Math.sin(Math.PI/180*i.gamma),0],s=[i.zlen*Math.cos(Math.PI/180*i.beta),i.zlen*(Math.cos(Math.PI/180*i.alpha)-Math.cos(Math.PI/180*i.gamma)*Math.cos(Math.PI/180*i.beta))/Math.sin(Math.PI/180*i.gamma),0];s[2]=Math.sqrt(i.zlen*i.zlen*Math.sin(Math.PI/180*i.beta)*Math.sin(Math.PI/180*i.beta)-s[1]*s[1]);var o=[[],r,a,s],c=[0,i.MX,i.MY,i.MZ],A=[0,i.MAPC,i.MAPR,i.MAPS],l=new st;return l.set(o[A[1]][0]/c[A[1]],o[A[2]][0]/c[A[2]],o[A[3]][0]/c[A[3]],0,o[A[1]][1]/c[A[1]],o[A[2]][1]/c[A[2]],o[A[3]][1]/c[A[3]],0,o[A[1]][2]/c[A[1]],o[A[2]][2]/c[A[2]],o[A[3]][2]/c[A[3]],0,0,0,0,1),l.setPosition(new P(i.originX,i.originY,i.originZ)),l.multiply(new st().makeTranslation(i.NXSTART,i.NYSTART,i.NZSTART)),l},Object.defineProperties(t.prototype,n),t}(hm);Jt.add("mrc",TE),Jt.add("ccp4",TE),Jt.add("map",TE);var Cde=/\s+/;function FE(e){return e.trim().split(Cde).map(parseFloat)}var GS=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"xplor"},t.prototype._parse=function(){je&&De.time("XplorParser._parse "+this.name);var i,r=this.volume,a=this.streamer.peekLines(8),s={},o=(i=a[2].startsWith("REMARKS")?parseInt(a[1].substring(0,8))+2:5)+3,c=FE(a[i]);s.NA=c[0],s.AMIN=c[1],s.AMAX=c[2],s.NB=c[3],s.BMIN=c[4],s.BMAX=c[5],s.NC=c[6],s.CMIN=c[7],s.CMAX=c[8];var A=FE(a[i+1]);s.a=A[0]*this.voxelSize,s.b=A[1]*this.voxelSize,s.c=A[2]*this.voxelSize,s.alpha=A[3],s.beta=A[4],s.gamma=A[5];var l=s.AMAX-s.AMIN+1,u=s.BMAX-s.BMIN+1,d=s.CMAX-s.CMIN+1,p=l*u*d,h=new Float32Array(p),g=Math.ceil(1+l*u/6),b=0,y=0;this.streamer.eachChunkOfLines(function(v){(function(_,w,E){for(var B=_;B<w;++B){var R=E[B];if(y>=o&&(y-o)%g!=0&&b<p)for(var G=0;G<6;++G){var C=parseFloat(R.substr(12*G,12));if(isNaN(C))break;h[b++]=C}else if(b===p){var O=R.trim();if(O&&O!=="-9999"){var I=FE(R);s.RAVE=I[0],s.RSIGMA=I[1]}}++y}})(0,v.length,v)}),r.header=s,r.setData(h,l,u,d),s.RAVE!==0&&s.RSIGMA!==1&&r.setStats(void 0,void 0,s.RAVE,s.RSIGMA),je&&De.timeEnd("XplorParser._parse "+this.name)},t.prototype.getMatrix=function(){var i=this.volume.header,r=[i.a,0,0],a=[i.b*Math.cos(Math.PI/180*i.gamma),i.b*Math.sin(Math.PI/180*i.gamma),0],s=[i.c*Math.cos(Math.PI/180*i.beta),i.c*(Math.cos(Math.PI/180*i.alpha)-Math.cos(Math.PI/180*i.gamma)*Math.cos(Math.PI/180*i.beta))/Math.sin(Math.PI/180*i.gamma),0];s[2]=Math.sqrt(i.c*i.c*Math.sin(Math.PI/180*i.beta)*Math.sin(Math.PI/180*i.beta)-s[1]*s[1]);var o=[[],r,a,s],c=[0,i.NA,i.NB,i.NC],A=[0,1,2,3],l=new st;return l.set(o[A[1]][0]/c[A[1]],o[A[2]][0]/c[A[2]],o[A[3]][0]/c[A[3]],0,o[A[1]][1]/c[A[1]],o[A[2]][1]/c[A[2]],o[A[3]][1]/c[A[3]],0,o[A[1]][2]/c[A[1]],o[A[2]][2]/c[A[2]],o[A[3]][2]/c[A[3]],0,0,0,0,1),l.multiply(new st().makeTranslation(i.AMIN,i.BMIN,i.CMIN)),l},Object.defineProperties(t.prototype,n),t}(hm);function Si(e,t,n){var i,r,a;e/=360,t/=100,n/=100;var s=Math.floor(6*e),o=6*e-s,c=n*(1-t),A=n*(1-o*t),l=n*(1-(1-o)*t);switch(s%6){case 0:i=n,r=l,a=c;break;case 1:i=A,r=n,a=c;break;case 2:i=c,r=n,a=l;break;case 3:i=c,r=A,a=n;break;case 4:i=l,r=c,a=n;break;case 5:i=n,r=c,a=A}return[i,r,a]}Jt.add("xplor",GS),Jt.add("cns",GS);var lx={red:Si(0,100,100),orange:Si(20,100,100),gold:Si(40,100,100),yellow:Si(60,100,100),lime:Si(80,100,100),green:Si(120,80,100),sea:Si(150,100,100),cyan:Si(180,100,85),sky:Si(210,75,95),blue:Si(240,70,100),purple:Si(275,75,100),magenta:Si(300,95,100),hotpink:Si(335,100,100),pink:Si(350,55,100),peach:Si(25,75,100),lilac:Si(275,55,100),pinktint:Si(340,30,100),peachtint:Si(25,50,100),yellowtint:Si(60,50,100),greentint:Si(135,40,100),bluetint:Si(220,40,100),lilactint:Si(275,35,100),white:Si(0,0,100),gray:Si(0,0,50),brown:Si(20,45,75),deadwhite:[1,1,1],deadblack:[0,0,0],invisible:[0,0,0]},Nde=/[\s,]+/,eL=/[^{}\s]*{[^{}]+}|[^{}\s]+/g,ux=/^{+|}+$/g,Sde=/^['"]+|['"]+$/g,tL=/\s*=\s*/g;function Vy(e){for(var t,n,i,r=[],a=(e=e.replace(tL,"=")).match(eL),s=1;s<a.length;++s){var o=a[s];if(o[0]==="{")t=o.substring(1,o.length-1);else{var c=o.split("=");c.length===2&&(c[0]==="color"?n=lx[c[1]]:c[0]==="width"?i=parseInt(c[1]):c[0]==="master"&&r.push(c[1].replace(ux,"")))}}return{listName:t,listColor:n,listMasters:r,listWidth:i}}function Ky(e){for(var t,n,i,r=(e=e.trim()).indexOf("{"),a=e.indexOf("}"),s=e.substr(a+1).split(Nde),o=e.substr(r+1,a-1),c=[parseFloat(s[s.length-3]),parseFloat(s[s.length-2]),parseFloat(s[s.length-1])],A=!1,l=!1,u=4;u<=s.length;u++){var d=s[s.length-u];d in lx&&(t=lx[s[s.length-u]]),d.startsWith("width")&&(n=parseInt(d.substring(5))),d.startsWith("r=")&&(i=parseFloat(d.split("=")[1])),d.startsWith("P")&&(A=!0),d.startsWith("X")&&(l=!0)}return{label:o,position:c,color:t,radius:i,width:n,isLineBreak:A,isTriangleBreak:l}}function IE(e){var t=e.indexOf("{"),n=e.indexOf("}");return e.substring(t!==-1?t+1:0,n!==-1?n:void 0).trim()}function Gde(e){var t=e.indexOf("}");return t===-1?void 0:e.substr(t+1).trim()}function LE(e){for(var t="",n=[],i={},r=(e=e.replace(tL,"=")).match(eL),a=1;a<r.length;++a){var s=r[a];if(s[0]==="{")t=s.substring(1,s.length-1);else{var o=s.split("=");o.length===2?o[0]==="master"?n.push(o[1].replace(ux,"")):i[o[0]]=o[1].replace(ux,""):i[o[0]]=!0}}return{groupName:t,groupFlags:i,groupMasters:n}}var Mde=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"kin"},n.__objName.get=function(){return"kinemage"},t.prototype._parse=function(){je&&De.time("KinParser._parse "+this.name);var i,r,a={kinemage:void 0,onewidth:void 0,"1viewid":void 0,pdbfile:void 0,texts:[],text:"",captions:[],caption:"",groupDict:{},subgroupDict:{},masterDict:{},pointmasterDict:{},dotLists:[],vectorLists:[],ballLists:[],ribbonLists:[]};this.kinemage=a;var s,o,c,A,l,u,d,p,h,g,b,y,v,_,w,E,B,R,G,C,O,I,D=!1,k="",L=!1,T="",H=null,W=null,j=!1,ce="",ue=!1,te="",re=!1,ae=!1;if(this.streamer.eachChunkOfLines(function(ye){(function(se,me,pe){for(var Ee=se;Ee<me;++Ee){var ee=pe[Ee];if(ee[0]==="@"&&(D=!1,L=!1,j=!1,ue=!1,re=!1,ae=!1),ee)if(ee.startsWith("@dotlist")){var ie=Vy(ee),oe=ie.listColor,he=ie.listName,Re=ie.listMasters;D=!0,k="",o=[],c=[],A=[],s=oe,i&&(Re=Re.concat(i)),r&&(Re=Re.concat(r)),a.dotLists.push({name:he,masterArray:Re,labelArray:o,positionArray:c,colorArray:A})}else if(ee.startsWith("@vectorlist")){var Ge=Vy(ee),Le=Ge.listMasters,K=Ge.listName,Z=Ge.listWidth,Ce=Ge.listColor;Le&&Le.forEach(function(Ot){a.masterDict[Ot]||(a.masterDict[Ot]={indent:!1,visible:!1})}),L=!0,T="",H=null,W=null,d=[],p=[],h=[],g=[],b=[],y=[],l=Ce,u=[],Z&&u.push(Z),i&&(Le=Le.concat(i)),r&&(Le=Le.concat(r)),a.vectorLists.push({name:K,masterArray:Le,label1Array:d,label2Array:p,position1Array:h,position2Array:g,color1Array:b,color2Array:y,width:u})}else if(ee.startsWith("@balllist")){var ve=Vy(ee),de=ve.listName,be=ve.listColor,Pe=ve.listMasters;Pe&&Pe.forEach(function(Ot){a.masterDict[Ot]||(a.masterDict[Ot]={indent:!1,visible:!1})}),j=!0,ce="",w=[],v=[],E=[],B=[],_=be,i&&(Pe=Pe.concat(i)),r&&(Pe=Pe.concat(r)),a.ballLists.push({name:de,masterArray:Pe,labelArray:w,radiusArray:v,positionArray:E,colorArray:B})}else if(ee.startsWith("@ribbonlist")||ee.startsWith("@trianglelist")){var Ve=Vy(ee),Fe=Ve.listMasters,He=Ve.listName,ke=Ve.listColor;Fe&&Fe.forEach(function(Ot){a.masterDict[Ot]||(a.masterDict[Ot]={indent:!1,visible:!1})}),ue=!0,te="",G=[],C=[],O=[],I=[],R=ke,i&&(Fe=Fe.concat(i)),r&&(Fe=Fe.concat(r)),a.ribbonLists.push({name:He,masterArray:Fe,labelArray:G,positionArray:C,breakArray:O,colorArray:I})}else if(ee.startsWith("@text"))re=!0,a.texts.push(ee.substr(5));else if(ee.startsWith("@caption"))ae=!0,a.captions.push(ee.substr(8));else if(D){var qe=Ky(ee),Ye=qe.label,We=qe.color,mt=qe.position;Ye==='"'?Ye=k:k=Ye,We===void 0&&(We=s),o.push(Ye),c.push.apply(c,mt),A.push.apply(A,We)}else if(L)for(var Qt=ee.replace(/(?!^){/g,`
{`).split(/\n/),Dt=0;Dt<Qt.length;Dt++){var Me=Ky(Qt[Dt]),it=Me.label,ut=Me.color,vt=Me.width,ot=Me.position,Ht=Me.isLineBreak;it==='"'?it=T:T=it,ut===void 0&&(ut=l),Ht||H!==null&&(vt&&u.push(vt),d.push(T),h.push.apply(h,H),b.push.apply(b,W),p.push(it),g.push.apply(g,ot),y.push.apply(y,ut)),T=it,H=ot,W=ut}else if(j){var Et=Ky(ee),bt=Et.label,en=Et.radius,ct=Et.color,yt=Et.position;bt==='"'?bt=ce:ce=bt,en===void 0&&(en=1),ct===void 0&&(ct=_),w.push(bt),v.push(en),E.push.apply(E,yt),B.push.apply(B,ct)}else if(ue){var Mt=Ky(ee),Ae=Mt.label,ze=Mt.color,Ue=Mt.position,S=Mt.isTriangleBreak;Ae==='"'?Ae=te:te=Ae,ze===void 0&&(ze=R),G.push(Ae),C.push.apply(C,Ue),O.push(S),I.push.apply(I,ze)}else if(re)a.texts.push(ee);else if(ae)a.captions.push(ee);else if(ee.startsWith("@kinemage"))a.kinemage=parseInt(ee.substr(9).trim());else if(ee.startsWith("@onewidth"))a.onewidth=!0;else if(ee.startsWith("@1viewid"))a["1viewid"]=IE(ee);else if(ee.startsWith("@pdbfile"))a.pdbfile=IE(ee);else if(ee.startsWith("@group")){var U=LE(ee),Q=U.groupName,Y=U.groupFlags,q=U.groupMasters;for(var le in a.groupDict[Q]||(a.groupDict[Q]={dominant:!1,animate:!1},i=q),i&&i.forEach(function(Ot){a.masterDict[Ot]||(a.masterDict[Ot]={indent:!1,visible:!1})}),Y)a.groupDict[Q][le]=Y[le]}else if(ee.startsWith("@subgroup")){var ge=LE(ee),Be=ge.groupName,Ke=ge.groupFlags,Qe=ge.groupMasters;for(var Ze in a.subgroupDict[Be]||(a.subgroupDict[Be]={dominant:!1,animate:!1},r=Qe),r&&r.forEach(function(Ot){a.masterDict[Ot]||(a.masterDict[Ot]={indent:!1,visible:!1})}),Ke)a.subgroupDict[Be][Ze]=Ke[Ze]}else if(ee.startsWith("@master")){var gt=IE(ee),tt=Gde(ee);a.masterDict[gt]||(a.masterDict[gt]={indent:!1,visible:!1}),tt==="on"?a.masterDict[gt].visible=!0:tt==="off"?a.masterDict[gt].visible=!1:tt==="indent"&&(a.masterDict[gt].indent=!0)}else if(ee.startsWith("@pointmaster")){var nt=LE(ee),ht=nt.groupName,Lt=nt.groupFlags;a.pointmasterDict[ht]={id:Object.keys(Lt)[0].replace(Sde,"")}}else console.log(ee);else D=!1,L=!1,j=!1,ue=!1}})(0,ye.length,ye)}),a.text=a.texts.join(`
`).trim(),a.caption=a.captions.join(`
`).trim(),a.ribbonLists){var fe=[];a.ribbonLists.forEach(function(ye){fe.push(function(se){for(var me=se.labelArray,pe=se.positionArray,Ee=se.colorArray,ee=se.breakArray,ie=[],oe=[],he=[],Re=[],Ge=0;Ge<ee.length/3;Ge++){var Le=3*Ge,K=9*Ge;ee[Le+1]||ee[Le+2]||(ie.push(me[Le]),ie.push(me[Le+1]),ie.push(me[Le+2]),Re.push(ee[Le]),Re.push(ee[Le+1]),Re.push(ee[Le+2]),oe.push(pe[K]),oe.push(pe[K+1]),oe.push(pe[K+2]),oe.push(pe[K+3]),oe.push(pe[K+4]),oe.push(pe[K+5]),oe.push(pe[K+6]),oe.push(pe[K+7]),oe.push(pe[K+8]),he.push(Ee[K]),he.push(Ee[K+1]),he.push(Ee[K+2]),he.push(Ee[K+3]),he.push(Ee[K+4]),he.push(Ee[K+5]),he.push(Ee[K+6]),he.push(Ee[K+7]),he.push(Ee[K+8]))}return{name:se.name,masterArray:se.masterArray,labelArray:ie,positionArray:oe,breakArray:Re,colorArray:he}}(function(se){for(var me=se.labelArray,pe=se.positionArray,Ee=se.colorArray,ee=se.breakArray,ie=[],oe=0;oe<3*(me.length-2);++oe)ie[oe]=me[oe-2*Math.floor(oe/3)];for(var he=[],Re=0;Re<3*(ee.length-2);++Re)he[Re]=ee[Re-2*Math.floor(Re/3)];for(var Ge=[],Le=0;Le<9*(pe.length/3-2);++Le)Ge[Le]=pe[Le-6*Math.floor(Le/9)];for(var K=[],Z=0;Z<9*(Ee.length/3-2);++Z)K[Z]=Ee[Z-6*Math.floor(Z/9)];for(var Ce=[],ve=0;ve<Ge.length/3;++ve)Ce.push(new P(Ge[3*ve],Ge[3*ve]+1,Ge[3*ve]+2));return{name:se.name,masterArray:se.masterArray,labelArray:ie,positionArray:Ge,breakArray:he,colorArray:K}}(ye)))}),a.ribbonLists=fe}je&&De.timeEnd("KinParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Jr);Jt.add("kin",Mde);var nL=function(e){function t(i,r){e.call(this,i,r),this.loader=this.getLoader(),this.surface=new Yr(this.name,this.path)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"surface"},n.__objName.get=function(){return"surface"},t.prototype._parse=function(){var i=this.loader.parse(this.streamer.asText());this.surface.fromGeometry(i)},Object.defineProperties(t.prototype,n),t}(Jr),dx=function(){this.regexp={vertex_pattern:/^v\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,normal_pattern:/^vn\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,uv_pattern:/^vt\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}};dx.prototype={constructor:dx,setPath:function(e){this.path=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],startObject:function(t,n){if(this.object&&this.object.fromDeclaration===!1)return this.object.name=t,void(this.object.fromDeclaration=n!==!1);this.object={name:t||"",geometry:{vertices:[],normals:[]},fromDeclaration:n!==!1},this.objects.push(this.object)},parseVertexIndex:function(t,n){var i=parseInt(t,10);return 3*(i>=0?i-1:i+n/3)},parseNormalIndex:function(t,n){var i=parseInt(t,10);return 3*(i>=0?i-1:i+n/3)},addVertex:function(t,n,i){var r=this.vertices,a=this.object.geometry.vertices;a.push(r[t+0]),a.push(r[t+1]),a.push(r[t+2]),a.push(r[n+0]),a.push(r[n+1]),a.push(r[n+2]),a.push(r[i+0]),a.push(r[i+1]),a.push(r[i+2])},addVertexLine:function(t){var n=this.vertices,i=this.object.geometry.vertices;i.push(n[t+0]),i.push(n[t+1]),i.push(n[t+2])},addNormal:function(t,n,i){var r=this.normals,a=this.object.geometry.normals;a.push(r[t+0]),a.push(r[t+1]),a.push(r[t+2]),a.push(r[n+0]),a.push(r[n+1]),a.push(r[n+2]),a.push(r[i+0]),a.push(r[i+1]),a.push(r[i+2])},addFace:function(t,n,i,r,a,s,o,c){var A,l=this.vertices.length,u=this.parseVertexIndex(t,l),d=this.parseVertexIndex(n,l),p=this.parseVertexIndex(i,l);if(r===void 0?this.addVertex(u,d,p):(A=this.parseVertexIndex(r,l),this.addVertex(u,d,A),this.addVertex(d,p,A)),a!==void 0){var h=this.normals.length;u=this.parseNormalIndex(a,h),d=a===s?u:this.parseNormalIndex(s,h),p=a===o?u:this.parseNormalIndex(o,h),r===void 0?this.addNormal(u,d,p):(A=this.parseNormalIndex(c,h),this.addNormal(u,d,A),this.addNormal(d,p,A))}},addLineGeometry:function(t){this.object.geometry.type="Line";for(var n=this.vertices.length,i=0,r=t.length;i<r;i++)this.addVertexLine(this.parseVertexIndex(t[i],n))}};return e.startObject("",!1),e},parse:function(e){var t,n,i=this._createParserState();e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));var r=e.split(`
`),a="",s="",o="",c=[],A=typeof"".trimLeft=="function";for(t=0,n=r.length;t<n;t++)if(a=r[t],(a=A?a.trimLeft():a.trim()).length!==0&&(s=a.charAt(0))!=="#"){if(s==="v"){if((o=a.charAt(1))===" "&&(c=this.regexp.vertex_pattern.exec(a))!==null)i.vertices.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]));else if(o==="n"&&(c=this.regexp.normal_pattern.exec(a))!==null)i.normals.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]));else if(o!=="t"||this.regexp.uv_pattern.exec(a)===null)throw new Error("Unexpected vertex/normal/uv line: '"+a+"'")}else if(s==="f"){if((c=this.regexp.face_vertex_uv_normal.exec(a))!==null)i.addFace(c[1],c[4],c[7],c[10],c[3],c[6],c[9],c[12]);else if(this.regexp.face_vertex_uv.exec(a)===null)if((c=this.regexp.face_vertex_normal.exec(a))!==null)i.addFace(c[1],c[3],c[5],c[7],c[2],c[4],c[6],c[8]);else{if((c=this.regexp.face_vertex.exec(a))===null)throw new Error("Unexpected face line: '"+a+"'");i.addFace(c[1],c[2],c[3],c[4])}}else if(s==="l"){var l=a.substring(1).trim().split(" "),u=[],d=[];if(a.indexOf("/")===-1)u=l;else for(var p=0,h=l.length;p<h;p++){var g=l[p].split("/");g[0]!==""&&u.push(g[0]),g[1]!==""&&d.push(g[1])}i.addLineGeometry(u,d)}else if((c=this.regexp.object_pattern.exec(a))!==null){var b=c[0].substr(1).trim();i.startObject(b)}else if(!this.regexp.material_use_pattern.test(a)){if(!this.regexp.material_library_pattern.test(a)){if(this.regexp.smoothing_pattern.exec(a)===null){if(a==="\0")continue;throw new Error("Unexpected line: '"+a+"'")}}}}var y=[];for(t=0,n=i.objects.length;t<n;t++){var v=i.objects[t].geometry;if(v.vertices.length!==0){var _=new Rt;_.setAttribute("position",new Vt(new Float32Array(v.vertices),3)),v.normals.length>0?_.setAttribute("normal",new Vt(new Float32Array(v.normals),3)):_.computeVertexNormals(),y.push(_)}}return y}};var Tde=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"obj"},t.prototype.getLoader=function(){return new dx},Object.defineProperties(t.prototype,n),t}(nL);Jt.add("obj",Tde);var px=function(){this.propertyNameMapping={}};px.prototype={constructor:px,setPropertyNameMapping:function(e){this.propertyNameMapping=e},bin2str:function(e){for(var t=new Uint8Array(e),n="",i=0;i<e.byteLength;i++)n+=String.fromCharCode(t[i]);return n},isASCII:function(e){return this.parseHeader(this.bin2str(e)).format==="ascii"},parse:function(e){return e instanceof ArrayBuffer?this.isASCII(e)?this.parseASCII(this.bin2str(e)):this.parseBinary(e):this.parseASCII(e)},parseHeader:function(e){var t="",n=0,i=/ply([\s\S]*)end_header\s/.exec(e);i!==null&&(t=i[1],n=i[0].length);for(var r,a,s,o,c,A,l={comments:[],elements:[],headerLength:n},u=t.split(`
`),d=0;d<u.length;d++){var p=u[d];if((p=p.trim())!=="")switch(a=(s=p.split(/\s+/)).shift(),p=s.join(" "),a){case"format":l.format=s[0],l.version=s[1];break;case"comment":l.comments.push(p);break;case"element":r!==void 0&&l.elements.push(r),(r={}).name=s[0],r.count=parseInt(s[1]),r.properties=[];break;case"property":r.properties.push((o=s,c=this.propertyNameMapping,A=void 0,(A={type:o[0]}).type==="list"?(A.name=o[3],A.countType=o[1],A.itemType=o[2]):A.name=o[1],A.name in c&&(A.name=c[A.name]),A));break;default:console.log("unhandled",a,s)}}return r!==void 0&&l.elements.push(r),l},parseASCIINumber:function(e,t){switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(e);case"float":case"double":case"float32":case"float64":return parseFloat(e)}},parseASCIIElement:function(e,t){for(var n=t.split(/\s+/),i={},r=0;r<e.length;r++)if(e[r].type==="list"){for(var a=[],s=this.parseASCIINumber(n.shift(),e[r].countType),o=0;o<s;o++)a.push(this.parseASCIINumber(n.shift(),e[r].itemType));i[e[r].name]=a}else i[e[r].name]=this.parseASCIINumber(n.shift(),e[r].type);return i},parseASCII:function(e){var t,n=new an,i=this.parseHeader(e),r="";(t=/end_header\s([\s\S]*)$/.exec(e))!==null&&(r=t[1]);var a=r.split(`
`),s=0,o=0;n.useColor=!1;for(var c=0;c<a.length;c++){var A=a[c];if((A=A.trim())!==""){o>=i.elements[s].count&&(s++,o=0);var l=this.parseASCIIElement(i.elements[s].properties,A);this.handleElement(n,i.elements[s].name,l),o++}}return this.postProcess(n)},postProcess:function(e){if(e.useColor){for(var t=0;t<e.faces.length;t++)e.faces[t].vertexColors=[e.colors[e.faces[t].a],e.colors[e.faces[t].b],e.colors[e.faces[t].c]];e.elementsNeedUpdate=!0}return e.computeBoundingSphere(),e},handleElement:function(e,t,n){if(t==="vertex"){if(e.vertices.push(new P(n.x,n.y,n.z)),"red"in n&&"green"in n&&"blue"in n){e.useColor=!0;var i=new pt;i.setRGB(n.red/255,n.green/255,n.blue/255),e.colors.push(i)}}else if(t==="face"){var r=n.vertex_indices;r.length===3?e.faces.push(new fl(r[0],r[1],r[2])):r.length===4&&e.faces.push(new fl(r[0],r[1],r[3]),new fl(r[1],r[2],r[3]))}},binaryRead:function(e,t,n,i){switch(n){case"int8":case"char":return[e.getInt8(t),1];case"uint8":case"uchar":return[e.getUint8(t),1];case"int16":case"short":return[e.getInt16(t,i),2];case"uint16":case"ushort":return[e.getUint16(t,i),2];case"int32":case"int":return[e.getInt32(t,i),4];case"uint32":case"uint":return[e.getUint32(t,i),4];case"float32":case"float":return[e.getFloat32(t,i),4];case"float64":case"double":return[e.getFloat64(t,i),8]}},binaryReadElement:function(e,t,n,i){for(var r,a={},s=0,o=0;o<n.length;o++)if(n[o].type==="list"){var c=[],A=(r=this.binaryRead(e,t+s,n[o].countType,i))[0];s+=r[1];for(var l=0;l<A;l++)r=this.binaryRead(e,t+s,n[o].itemType,i),c.push(r[0]),s+=r[1];a[n[o].name]=c}else r=this.binaryRead(e,t+s,n[o].type,i),a[n[o].name]=r[0],s+=r[1];return[a,s]},parseBinary:function(e){for(var t,n=new an,i=this.parseHeader(this.bin2str(e)),r=i.format==="binary_little_endian",a=new DataView(e,i.headerLength),s=0,o=0;o<i.elements.length;o++)for(var c=0;c<i.elements[o].count;c++){s+=(t=this.binaryReadElement(a,s,i.elements[o].properties,r))[1];var A=t[0];this.handleElement(n,i.elements[o].name,A)}return this.postProcess(n)}};var Fde=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"ply"},t.prototype.getLoader=function(){return new px},Object.defineProperties(t.prototype,n),t}(nL);Jt.add("ply",Fde);var Ide=function(e){function t(i,r){var a=r||{};e.call(this,i,a),this.delimiter=z(a.delimiter,","),this.comment=z(a.comment,"#"),this.columnNames=z(a.columnNames,!1),this.table={name:this.name,path:this.path,columnNames:[],data:[]}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"csv"},n.__objName.get=function(){return"table"},t.prototype._parse=function(){var i=this,r=this.table.data,a=new RegExp("\\s*"+this.delimiter+"\\s*"),s=0;this.streamer.eachChunkOfLines(function(o){for(var c=o.length,A=0;A<c;++A){var l=o[A].trim();if(!l.startsWith(i.comment)){var u=l.split(a);s===0?i.table.columnNames=u:l&&r.push(u),++s}}})},Object.defineProperties(t.prototype,n),t}(Jr);Jt.add("csv",Ide);var Lde=function(e){function t(i,r){var a=r||{};e.call(this,i,a),this.string=z(a.string,!1),this.json={name:this.name,path:this.path,data:{}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0},isJson:{configurable:!0}};return n.type.get=function(){return"json"},n.__objName.get=function(){return"json"},n.isJson.get=function(){return!0},t.prototype._parse=function(){this.streamer.isBinary()||this.string?this.json.data=JSON.parse(this.streamer.asText()):this.json.data=this.streamer.data},Object.defineProperties(t.prototype,n),t}(Jr);Jt.add("json",Lde);var Pde=function(e){function t(i,r){var a=r||{};e.call(this,i,a),this.msgpack={name:this.name,path:this.path,data:void 0}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"msgpack"},n.__objName.get=function(){return"msgpack"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){je&&De.time("MsgpackParser._parse "+this.name),this.msgpack.data=qI(this.streamer.data),je&&De.timeEnd("MsgpackParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Jr);Jt.add("msgpack",Pde);var Ude=function(e){function t(i,r){var a=r||{};e.call(this,i,a),this.netcdf={name:this.name,path:this.path,data:void 0}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"netcdf"},n.__objName.get=function(){return"netcdf"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){je&&De.time("NetcdfParser._parse "+this.name),this.netcdf.data=new zf(this.streamer.data),je&&De.timeEnd("NetcdfParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Jr);Jt.add("netcdf",Ude);var MS=function(e){function t(i,r){e.call(this,i,r),this.text={name:this.name,path:this.path,data:""}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"text"},n.__objName.get=function(){return"text"},t.prototype._parse=function(){this.text.data=this.streamer.asText()},Object.defineProperties(t.prototype,n),t}(Jr);Jt.add("txt",MS),Jt.add("text",MS);var Dde=/^['"]|['"]$/g,kde=/^<([\w-:.]+)\s*/,Ode=/^([^<]*)/,Hde=/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/;function Qde(e){return e=e.trim().replace(/<!--[\s\S]*?-->/g,""),{declaration:t(),root:n()};function t(){if(r(/^<\?xml\s*/)){for(var o={attributes:{}};!a()&&!s("?>");){var c=i();if(!c)return o;o.attributes[c.name]=c.value}return r(/\?>\s*/),o}}function n(){var o=r(kde);if(o){for(var c,A={name:o[1],attributes:{},children:[]};!(a()||s(">")||s("?>")||s("/>"));){var l=i();if(!l)return A;A.attributes[l.name]=l.value}if(r(/^\s*\/>\s*/))return A;for(r(/\??>\s*/),A.content=function(){var u=r(Ode);return u?u[1]:""}();c=n();)A.children.push(c);return r(/^<\/[\w-:.]+>\s*/),A}}function i(){var o,c=r(Hde);if(c)return{name:c[1],value:(o=c[2],o.replace(Dde,""))}}function r(o){var c=e.match(o);if(c)return e=e.slice(c[0].length),c}function a(){return e.length===0}function s(o){return e.indexOf(o)===0}}var iL=function(e){function t(i,r){var a=r||{};e.call(this,i,a),this.useDomParser=z(a.useDomParser,!1),this.xml={name:this.name,path:this.path,data:{}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0},isXml:{configurable:!0}};return n.type.get=function(){return"xml"},n.__objName.get=function(){return"xml"},n.isXml.get=function(){return!0},t.prototype.__xmlParser=function(i){return Qde(i)},t.prototype.__domParser=function(i){return new window.DOMParser().parseFromString(i,"text/xml")},t.prototype._parse=function(){je&&De.time("XmlParser._parse "+this.name),this.useDomParser?this.streamer.data instanceof Document?this.xml.data=this.streamer.data:this.xml.data=this.__domParser(this.streamer.asText()):this.xml.data=this.__xmlParser(this.streamer.asText()),je&&De.timeEnd("XmlParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Jr);function or(e,t){var n=e.getNamedItem(t);return n!==null?n.value:""}function TS(e,t,n){n===void 0&&(n=!1);var i=or(e,"icode").trim(),r=or(e,"chain").trim(),a=or(e,"altcode"),s=or(e,"resnum");return i&&(s+="^"+i),r&&(s+=":"+r),t&&(s+="."+t),n&&a.trim()&&(s+="%"+a),s+="/"+(parseInt(or(e,"model"))-1)}function zde(e){var t=or(e,"chain").trim(),n="["+or(e,"rescode")+"]"+or(e,"resnum");return t&&(n+=":"+t),n}function PE(e,t,n){e[t]===void 0?e[t]=n:e[t]|=n}function UE(e,t){return e!==null&&e.value===t}function Vde(e,t,n){for(var i=0,r=t.getElementsByTagName("clash"),a=0,s=r.length;a<s;++a)if(e[or(r[a].attributes,"cid")]){i+=1;break}return t.getElementsByTagName("angle-outlier").length>0&&(i+=1),t.getElementsByTagName("bond-outlier").length>0&&(i+=1),t.getElementsByTagName("plane-outlier").length>0&&(i+=1),UE(n.getNamedItem("rota"),"OUTLIER")&&(i+=1),UE(n.getNamedItem("rama"),"OUTLIER")&&(i+=1),UE(n.getNamedItem("RNApucker"),"outlier")&&(i+=1),i}Jt.add("xml",iL);var Rg=function(e,t){this.name=e,this.path=t,this.rsrzDict={},this.rsccDict={},this.rciDict={},this.clashDict={},this.clashArray=[],this.geoDict={},this.geoAtomDict={},this.atomDict={},this.clashSele="NONE"},FS={type:{configurable:!0}};FS.type.get=function(){return"validation"},Rg.prototype.fromXml=function(e){je&&De.time("Validation.fromXml");var t=this.rsrzDict,n=this.rsccDict,i=this.rciDict,r=this.clashDict,a=this.clashArray,s=this.geoDict,o=this.geoAtomDict,c=this.atomDict,A=e.getElementsByTagName("Entry");if(A.length===1){var l=A[0].getElementsByTagName("chemical_shift_list");if(l.length===1)for(var u=l[0].getElementsByTagName("random_coil_index"),d=0,p=u.length;d<p;++d){var h=u[d].attributes;i[zde(h)]=parseFloat(or(h,"value"))}}var g=e.getElementsByTagName("ModelledSubgroup"),b={},y=[];je&&De.time("Validation.fromXml#clashDict");for(var v=0,_=g.length;v<_;++v){var w=g[v],E=w.attributes,B=TS(E);E.getNamedItem("rsrz")!==null&&(t[B]=parseFloat(or(E,"rsrz"))),E.getNamedItem("rscc")!==null&&(n[B]=parseFloat(or(E,"rscc")));var R=e.createAttribute("sele");R.value=B,E.setNamedItem(R);for(var G=w.getElementsByTagName("clash"),C=0,O=G.length;C<O;++C){var I=G[C].attributes,D=or(I,"atom");if(D7(D)!=="H"){var k=or(I,"cid"),L=TS(E,D,!0);if(c[L]=!0,b[k]===void 0)b[k]={sele1:L,res1:B};else{var T=b[k];T.res1!==B&&(T.sele2=L,T.res2=B,y.push(T.res1,B),r[k]=T,a.push(T))}}}}je&&De.timeEnd("Validation.fromXml#clashDict");for(var H=0,W=g.length;H<W;++H){var j=g[H],ce=j.attributes,ue=or(ce,"sele");if(or(ce,"seq")!=="."){var te=Vde(r,j,ce);te>0&&(s[ue]=te)}else{var re=j.getElementsByTagName("clash"),ae=j.getElementsByTagName("mog-bond-outlier"),fe=j.getElementsByTagName("mog-angle-outlier");if(ae.length>0||fe.length>0||re.length>0){var ye={};o[ue]=ye;for(var se=0,me=re.length;se<me;++se){var pe=re[se].attributes;r[or(pe,"cid")]&&PE(ye,or(pe,"atom"),1)}for(var Ee=0,ee=ae.length;Ee<ee;++Ee)or(ae[Ee].attributes,"atoms").split(",").forEach(function(he){PE(ye,he,2)});for(var ie=0,oe=fe.length;ie<oe;++ie)or(fe[ie].attributes,"atoms").split(",").forEach(function(he){PE(ye,he,4)})}}}this.clashSele=y.length?y.join(" OR "):"NONE",je&&De.timeEnd("Validation.fromXml")},Rg.prototype.getClashData=function(e){je&&De.time("Validation.getClashData");var t=e||{},n=t.structure,i=n.atomSet,r=new pt(z(t.color,"#f0027f")),a=n.getAtomProxy(),s=n.getAtomProxy(),o=new P,c=new P,A=new P,l=this.clashArray,u=l.length,d=new Float32Array(3*u),p=new Float32Array(3*u),h=li(u,r.r,r.g,r.b),g=new Float32Array(u),b=new Float32Array(u);je&&De.time("Validation.getClashData#atomDict");var y=this.atomDict;n.eachAtom(function(_){var w=function(E){var B=E.inscode,R=E.chainname,G=E.atomname,C=E.altloc,O=E.resno+"";return B&&(O+="^"+B),R&&(O+=":"+R),G&&(O+="."+G),C&&(O+="%"+C),O+"/"+E.modelIndex}(_);y[w]===!0&&(y[w]=_.index)}),je&&De.timeEnd("Validation.getClashData#atomDict");var v=0;return l.forEach(function(_,w){if(a.index=y[_.sele1],s.index=y[_.sele2],a.index!==void 0&&s.index!==void 0&&i.isSet(a.index,s.index)){o.subVectors(s,a).setLength(a.vdw),c.copy(a).add(o),o.subVectors(a,s).setLength(s.vdw),A.copy(s).add(o);var E=a.distanceTo(s)/2,B=Math.sqrt(a.vdw*a.vdw-E*E),R=Math.sqrt(s.vdw*s.vdw-E*E);c.toArray(d,3*v),A.toArray(p,3*v),g[v]=(B+R)/2,b[v]=w,++v}}),je&&De.timeEnd("Validation.getClashData"),{position1:d.subarray(0,3*v),position2:p.subarray(0,3*v),color:h.subarray(0,3*v),color2:h.subarray(0,3*v),radius:g.subarray(0,v),picking:new bAe(b.subarray(0,v),this,n)}},Object.defineProperties(Rg.prototype,FS);var Kde=function(e){function t(i,r){var a=r||{};e.call(this,i,a),this.useDomParser=!0,this.validation=new Rg(this.name,this.path)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={__objName:{configurable:!0},isXml:{configurable:!0}};return n.__objName.get=function(){return"validation"},n.isXml.get=function(){return!0},t.prototype._parse=function(){e.prototype._parse.call(this),je&&De.time("ValidationParser._parse "+this.name),this.validation.fromXml(this.xml.data),je&&De.timeEnd("ValidationParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(iL);function rL(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}function fd(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var a=0;a<i;a++)e[r+a]=t[n+a]}function fx(e,t,n,i){for(var r=65535&e|0,a=e>>>16&65535|0,s=0;n!==0;){n-=s=n>2e3?2e3:n;do a=a+(r=r+t[i++]|0)|0;while(--s);r%=65521,a%=65521}return r|a<<16|0}Jt.add("validation",Kde);var Wde=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();function Po(e,t,n,i){var r=Wde,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^r[255&(e^t[s])];return-1^e}function $de(e,t){var n,i,r,a,s,o,c,A,l,u,d,p,h,g,b,y,v,_,w,E,B,R,G,C,O;n=e.state,i=e.next_in,C=e.input,r=i+(e.avail_in-5),a=e.next_out,O=e.output,s=a-(t-e.avail_out),o=a+(e.avail_out-257),c=n.dmax,A=n.wsize,l=n.whave,u=n.wnext,d=n.window,p=n.hold,h=n.bits,g=n.lencode,b=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{h<15&&(p+=C[i++]<<h,h+=8,p+=C[i++]<<h,h+=8),_=g[p&y];t:for(;;){if(p>>>=w=_>>>24,h-=w,(w=_>>>16&255)===0)O[a++]=65535&_;else{if(!(16&w)){if((64&w)==0){_=g[(65535&_)+(p&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}E=65535&_,(w&=15)&&(h<w&&(p+=C[i++]<<h,h+=8),E+=p&(1<<w)-1,p>>>=w,h-=w),h<15&&(p+=C[i++]<<h,h+=8,p+=C[i++]<<h,h+=8),_=b[p&v];n:for(;;){if(p>>>=w=_>>>24,h-=w,!(16&(w=_>>>16&255))){if((64&w)==0){_=b[(65535&_)+(p&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(B=65535&_,h<(w&=15)&&(p+=C[i++]<<h,(h+=8)<w&&(p+=C[i++]<<h,h+=8)),(B+=p&(1<<w)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=w,h-=w,B>(w=a-s)){if((w=B-w)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(R=0,G=d,u===0){if(R+=A-w,w<E){E-=w;do O[a++]=d[R++];while(--w);R=a-B,G=O}}else if(u<w){if(R+=A+u-w,(w-=u)<E){E-=w;do O[a++]=d[R++];while(--w);if(R=0,u<E){E-=w=u;do O[a++]=d[R++];while(--w);R=a-B,G=O}}}else if(R+=u-w,w<E){E-=w;do O[a++]=d[R++];while(--w);R=a-B,G=O}for(;E>2;)O[a++]=G[R++],O[a++]=G[R++],O[a++]=G[R++],E-=3;E&&(O[a++]=G[R++],E>1&&(O[a++]=G[R++]))}else{R=a-B;do O[a++]=O[R++],O[a++]=O[R++],O[a++]=O[R++],E-=3;while(E>2);E&&(O[a++]=O[R++],E>1&&(O[a++]=O[R++]))}break}}break}}while(i<r&&a<o);i-=E=h>>3,p&=(1<<(h-=E<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=a<o?o-a+257:257-(a-o),n.hold=p,n.bits=h}var jde=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Yde=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],qde=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Xde=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Vf(e,t,n,i,r,a,s,o){var c,A,l,u,d,p,h,g,b,y=o.bits,v=0,_=0,w=0,E=0,B=0,R=0,G=0,C=0,O=0,I=0,D=null,k=0,L=new Uint16Array(16),T=new Uint16Array(16),H=null,W=0;for(v=0;v<=15;v++)L[v]=0;for(_=0;_<i;_++)L[t[n+_]]++;for(B=y,E=15;E>=1&&L[E]===0;E--);if(B>E&&(B=E),E===0)return r[a++]=20971520,r[a++]=20971520,o.bits=1,0;for(w=1;w<E&&L[w]===0;w++);for(B<w&&(B=w),C=1,v=1;v<=15;v++)if(C<<=1,(C-=L[v])<0)return-1;if(C>0&&(e===0||E!==1))return-1;for(T[1]=0,v=1;v<15;v++)T[v+1]=T[v]+L[v];for(_=0;_<i;_++)t[n+_]!==0&&(s[T[t[n+_]]++]=_);if(e===0?(D=H=s,p=19):e===1?(D=jde,k-=257,H=Yde,W-=257,p=256):(D=qde,H=Xde,p=-1),I=0,_=0,v=w,d=a,R=B,G=0,l=-1,u=(O=1<<B)-1,e===1&&O>852||e===2&&O>592)return 1;for(;;){h=v-G,s[_]<p?(g=0,b=s[_]):s[_]>p?(g=H[W+s[_]],b=D[k+s[_]]):(g=96,b=0),c=1<<v-G,w=A=1<<R;do r[d+(I>>G)+(A-=c)]=h<<24|g<<16|b|0;while(A!==0);for(c=1<<v-1;I&c;)c>>=1;if(c!==0?(I&=c-1,I+=c):I=0,_++,--L[v]==0){if(v===E)break;v=t[n+s[_]]}if(v>B&&(I&u)!==l){for(G===0&&(G=B),d+=w,C=1<<(R=v-G);R+G<E&&!((C-=L[R+G])<=0);)R++,C<<=1;if(O+=1<<R,e===1&&O>852||e===2&&O>592)return 1;r[l=I&u]=B<<24|R<<16|d-a|0}}return I!==0&&(r[d+I]=v-G<<24|64<<16|0),o.bits=B,0}function IS(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function Zde(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Jde(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,function(n){var i;return n&&n.state?(i=n.state,n.total_in=n.total_out=i.total=0,n.msg="",i.wrap&&(n.adler=1&i.wrap),i.mode=1,i.last=0,i.havedict=0,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(852),i.distcode=i.distdyn=new Int32Array(592),i.sane=1,i.back=-1,0):-2}(e)):-2}function epe(e,t){var n,i;return e?(i=new Zde,e.state=i,i.window=null,n=function(r,a){var s,o;return r&&r.state?(o=r.state,a<0?(s=0,a=-a):(s=1+(a>>4),a<48&&(a&=15)),a&&(a<8||a>15)?-2:(o.window!==null&&o.wbits!==a&&(o.window=null),o.wrap=s,o.wbits=a,Jde(r))):-2}(e,t),n!==0&&(e.state=null),n):-2}var DE,kE,LS=!0;function tpe(e){if(LS){var t;for(DE=new Int32Array(512),kE=new Int32Array(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Vf(1,e.lens,0,288,DE,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Vf(2,e.lens,0,32,kE,0,e.work,{bits:5}),LS=!1}e.lencode=DE,e.lenbits=9,e.distcode=kE,e.distbits=5}function aL(e,t,n,i){var r,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(fd(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((r=a.wsize-a.wnext)>i&&(r=i),fd(a.window,t,n-i,r,a.wnext),(i-=r)?(fd(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0}function npe(e,t){var n,i,r,a,s,o,c,A,l,u,d,p,h,g,b,y,v,_,w,E,B,R,G,C,O=0,I=new Uint8Array(4),D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return-2;(n=e.state).mode===12&&(n.mode=13),s=e.next_out,r=e.output,c=e.avail_out,a=e.next_in,i=e.input,o=e.avail_in,A=n.hold,l=n.bits,u=o,d=c,R=0;e:for(;;)switch(n.mode){case 1:if(n.wrap===0){n.mode=13;break}for(;l<16;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}if(2&n.wrap&&A===35615){n.check=0,I[0]=255&A,I[1]=A>>>8&255,n.check=Po(n.check,I,2,0),A=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&A)<<8)+(A>>8))%31){e.msg="incorrect header check",n.mode=30;break}if((15&A)!=8){e.msg="unknown compression method",n.mode=30;break}if(l-=4,B=8+(15&(A>>>=4)),n.wbits===0)n.wbits=B;else if(B>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<B,e.adler=n.check=1,n.mode=512&A?10:12,A=0,l=0;break;case 2:for(;l<16;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}if(n.flags=A,(255&n.flags)!=8){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=A>>8&1),512&n.flags&&(I[0]=255&A,I[1]=A>>>8&255,n.check=Po(n.check,I,2,0)),A=0,l=0,n.mode=3;case 3:for(;l<32;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}n.head&&(n.head.time=A),512&n.flags&&(I[0]=255&A,I[1]=A>>>8&255,I[2]=A>>>16&255,I[3]=A>>>24&255,n.check=Po(n.check,I,4,0)),A=0,l=0,n.mode=4;case 4:for(;l<16;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}n.head&&(n.head.xflags=255&A,n.head.os=A>>8),512&n.flags&&(I[0]=255&A,I[1]=A>>>8&255,n.check=Po(n.check,I,2,0)),A=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}n.length=A,n.head&&(n.head.extra_len=A),512&n.flags&&(I[0]=255&A,I[1]=A>>>8&255,n.check=Po(n.check,I,2,0)),A=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((p=n.length)>o&&(p=o),p&&(n.head&&(B=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),fd(n.head.extra,i,a,p,B)),512&n.flags&&(n.check=Po(n.check,i,p,a)),o-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(o===0)break e;p=0;do B=i[a+p++],n.head&&B&&n.length<65536&&(n.head.name+=String.fromCharCode(B));while(B&&p<o);if(512&n.flags&&(n.check=Po(n.check,i,p,a)),o-=p,a+=p,B)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(o===0)break e;p=0;do B=i[a+p++],n.head&&B&&n.length<65536&&(n.head.comment+=String.fromCharCode(B));while(B&&p<o);if(512&n.flags&&(n.check=Po(n.check,i,p,a)),o-=p,a+=p,B)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}if(A!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}A=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;l<32;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}e.adler=n.check=IS(A),A=0,l=0,n.mode=11;case 11:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,n.hold=A,n.bits=l,2;e.adler=n.check=1,n.mode=12;case 12:if(t===5||t===6)break e;case 13:if(n.last){A>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}switch(n.last=1&A,l-=1,3&(A>>>=1)){case 0:n.mode=14;break;case 1:if(tpe(n),n.mode=20,t===6){A>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}A>>>=2,l-=2;break;case 14:for(A>>>=7&l,l-=7&l;l<32;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}if((65535&A)!=(A>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&A,A=0,l=0,n.mode=15,t===6)break e;case 15:n.mode=16;case 16:if(p=n.length){if(p>o&&(p=o),p>c&&(p=c),p===0)break e;fd(r,i,a,p,s),o-=p,a+=p,c-=p,s+=p,n.length-=p;break}n.mode=12;break;case 17:for(;l<14;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}if(n.nlen=257+(31&A),A>>>=5,l-=5,n.ndist=1+(31&A),A>>>=5,l-=5,n.ncode=4+(15&A),A>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}n.lens[D[n.have++]]=7&A,A>>>=3,l-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,G={bits:n.lenbits},R=Vf(0,n.lens,0,19,n.lencode,0,n.work,G),n.lenbits=G.bits,R){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;y=(O=n.lencode[A&(1<<n.lenbits)-1])>>>16&255,v=65535&O,!((b=O>>>24)<=l);){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}if(v<16)A>>>=b,l-=b,n.lens[n.have++]=v;else{if(v===16){for(C=b+2;l<C;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}if(A>>>=b,l-=b,n.have===0){e.msg="invalid bit length repeat",n.mode=30;break}B=n.lens[n.have-1],p=3+(3&A),A>>>=2,l-=2}else if(v===17){for(C=b+3;l<C;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}l-=b,B=0,p=3+(7&(A>>>=b)),A>>>=3,l-=3}else{for(C=b+7;l<C;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}l-=b,B=0,p=11+(127&(A>>>=b)),A>>>=7,l-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;p--;)n.lens[n.have++]=B}}if(n.mode===30)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,G={bits:n.lenbits},R=Vf(1,n.lens,0,n.nlen,n.lencode,0,n.work,G),n.lenbits=G.bits,R){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,G={bits:n.distbits},R=Vf(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,G),n.distbits=G.bits,R){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,t===6)break e;case 20:n.mode=21;case 21:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,n.hold=A,n.bits=l,$de(e,d),s=e.next_out,r=e.output,c=e.avail_out,a=e.next_in,i=e.input,o=e.avail_in,A=n.hold,l=n.bits,n.mode===12&&(n.back=-1);break}for(n.back=0;y=(O=n.lencode[A&(1<<n.lenbits)-1])>>>16&255,v=65535&O,!((b=O>>>24)<=l);){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}if(y&&(240&y)==0){for(_=b,w=y,E=v;y=(O=n.lencode[E+((A&(1<<_+w)-1)>>_)])>>>16&255,v=65535&O,!(_+(b=O>>>24)<=l);){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}A>>>=_,l-=_,n.back+=_}if(A>>>=b,l-=b,n.back+=b,n.length=v,y===0){n.mode=26;break}if(32&y){n.back=-1,n.mode=12;break}if(64&y){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&y,n.mode=22;case 22:if(n.extra){for(C=n.extra;l<C;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}n.length+=A&(1<<n.extra)-1,A>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;y=(O=n.distcode[A&(1<<n.distbits)-1])>>>16&255,v=65535&O,!((b=O>>>24)<=l);){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}if((240&y)==0){for(_=b,w=y,E=v;y=(O=n.distcode[E+((A&(1<<_+w)-1)>>_)])>>>16&255,v=65535&O,!(_+(b=O>>>24)<=l);){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}A>>>=_,l-=_,n.back+=_}if(A>>>=b,l-=b,n.back+=b,64&y){e.msg="invalid distance code",n.mode=30;break}n.offset=v,n.extra=15&y,n.mode=24;case 24:if(n.extra){for(C=n.extra;l<C;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}n.offset+=A&(1<<n.extra)-1,A>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(c===0)break e;if(p=d-c,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}p>n.wnext?(p-=n.wnext,h=n.wsize-p):h=n.wnext-p,p>n.length&&(p=n.length),g=n.window}else g=r,h=s-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do r[s++]=g[h++];while(--p);n.length===0&&(n.mode=21);break;case 26:if(c===0)break e;r[s++]=n.length,c--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(o===0)break e;o--,A|=i[a++]<<l,l+=8}if(d-=c,e.total_out+=d,n.total+=d,d&&(e.adler=n.check=n.flags?Po(n.check,r,d,s-d):fx(n.check,r,d,s-d)),d=c,(n.flags?A:IS(A))!==n.check){e.msg="incorrect data check",n.mode=30;break}A=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(o===0)break e;o--,A+=i[a++]<<l,l+=8}if(A!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}A=0,l=0}n.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;default:return-2}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,n.hold=A,n.bits=l,(n.wsize||d!==e.avail_out&&n.mode<30&&(n.mode<27||t!==4))&&aL(e,e.output,e.next_out,d-e.avail_out),u-=e.avail_in,d-=e.avail_out,e.total_in+=u,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?Po(n.check,r,d,e.next_out-d):fx(n.check,r,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===12?128:0)+(n.mode===20||n.mode===15?256:0),(u===0&&d===0||t===4)&&R===0&&(R=-5),R}function ipe(e,t){var n,i=t.length;return e&&e.state?(n=e.state).wrap!==0&&n.mode!==11?-2:n.mode===11&&fx(1,t,i,0)!==n.check?-3:aL(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2}var sL=!0,oL=!0;try{String.fromCharCode.apply(null,[0])}catch{sL=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oL=!1}for(var Wh=new Uint8Array(256),z0=0;z0<256;z0++)Wh[z0]=z0>=252?6:z0>=248?5:z0>=240?4:z0>=224?3:z0>=192?2:1;function rpe(e){var t,n,i,r,a,s=e.length,o=0;for(r=0;r<s;r++)(64512&(n=e.charCodeAt(r)))==55296&&r+1<s&&(64512&(i=e.charCodeAt(r+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),r++),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),a=0,r=0;a<o;r++)(64512&(n=e.charCodeAt(r)))==55296&&r+1<s&&(64512&(i=e.charCodeAt(r+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t}function ape(e,t){var n,i,r,a,s=t||e.length,o=new Array(2*s);for(i=0,n=0;n<s;)if((r=e[n++])<128)o[i++]=r;else if((a=Wh[r])>4)o[i++]=65533,n+=a-1;else{for(r&=a===2?31:a===3?15:7;a>1&&n<s;)r=r<<6|63&e[n++],a--;a>1?o[i++]=65533:r<65536?o[i++]=r:(r-=65536,o[i++]=55296|r>>10&1023,o[i++]=56320|1023&r)}return function(c,A){if(A<65537&&(c.subarray&&oL||!c.subarray&&sL))return String.fromCharCode.apply(null,rL(c,A));for(var l="",u=0;u<A;u++)l+=String.fromCharCode(c[u]);return l}(o,i)}function spe(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&(192&e[n])==128;)n--;return n<0||n===0?t:n+Wh[e[n]]>t?n:t}Wh[254]=Wh[254]=1;var ope={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function cpe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Ape(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var PS=Object.prototype.toString;function ad(e){if(!(this instanceof ad))return new ad(e);this.options=function(s){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var c=o.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var A in c)c.hasOwnProperty(A)&&(s[A]=c[A])}}return s}({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cpe,this.strm.avail_out=0;var n,i,r,a=epe(this.strm,t.windowBits);if(a!==0)throw new Error(ope[a]);this.header=new Ape,n=this.strm,i=this.header,n&&n.state&&((2&(r=n.state).wrap)==0||(r.head=i,i.done=!1))}ad.prototype.push=function(e,t){var n,i,r,a,s,o,c=this.strm,A=this.options.chunkSize,l=this.options.dictionary,u=!1;if(this.ended)return!1;i=t===~~t?t:t===!0?4:0,typeof e=="string"?c.input=function(d){for(var p=new Uint8Array(d.length),h=0,g=p.length;h<g;h++)p[h]=d.charCodeAt(h);return p}(e):PS.call(e)==="[object ArrayBuffer]"?c.input=new Uint8Array(e):c.input=e,c.next_in=0,c.avail_in=c.input.length;do{if(c.avail_out===0&&(c.output=new Uint8Array(A),c.next_out=0,c.avail_out=A),(n=npe(c,0))===2&&l&&(o=typeof l=="string"?rpe(l):PS.call(l)==="[object ArrayBuffer]"?new Uint8Array(l):l,n=ipe(this.strm,o)),n===-5&&u===!0&&(n=0,u=!1),n!==1&&n!==0)return this.onEnd(n),this.ended=!0,!1;c.next_out&&(c.avail_out!==0&&n!==1&&(c.avail_in!==0||i!==4&&i!==2)||(this.options.to==="string"?(r=spe(c.output,c.next_out),a=c.next_out-r,s=ape(c.output,r),c.next_out=a,c.avail_out=A-a,a&&fd(c.output,c.output,r,a,0),this.onData(s)):this.onData(rL(c.output,c.next_out)))),c.avail_in===0&&c.avail_out===0&&(u=!0)}while((c.avail_in>0||c.avail_out===0)&&n!==1);return n===1&&(i=4),i===4?(n=function(d){if(!d||!d.state)return-2;var p=d.state;return p.window&&(p.window=null),d.state=null,0}(this.strm),this.onEnd(n),this.ended=!0,n===0):i!==2||(this.onEnd(0),c.avail_out=0,!0)},ad.prototype.onData=function(e){this.chunks.push(e)},ad.prototype.onEnd=function(e){e===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=function(t){var n,i,r,a,s,o;for(r=0,n=0,i=t.length;n<i;n++)r+=t[n].length;for(o=new Uint8Array(r),a=0,n=0,i=t.length;n<i;n++)s=t[n],o.set(s,a),a+=s.length;return o}(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},M7.add("gz",function(e){var t;e instanceof ArrayBuffer&&(e=new Uint8Array(e));try{t=function(n,i){var r=new ad(i);if(r.push(n,!0),r.err)throw r.msg;return r.result}(e)}catch{t=e}return t});var sp=function(){},OE="//mmtf.rcsb.org/v1.0/full/",lpe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){var i,r=br(n),a=r.name.substr(0,4);return!["pdb","cif"].includes(r.ext)||r.compressed!==!1&&r.compressed!=="gz"?r.ext==="mmtf"?i=r.base.endsWith(".bb")?"//mmtf.rcsb.org/v1.0/reduced/"+a:OE+a:(r.ext&&De.warn("unsupported ext",r.ext),i=OE+a):i="//files.rcsb.org/download/"+r.path,R7()+i},t.prototype.getExt=function(n){var i=br(n).ext;return i||"mmtf"},t}(sp);yl.add("rcsb",new lpe);var US="//pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/",upe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){var i,r=br(n),a=r.name;return r.ext&&r.ext!=="sdf"&&De.warn("unsupported ext",r.ext),i=US+a+"/SDF?record_type=3d",R7()+i},t.prototype.getExt=function(n){var i=br(n).ext;return i||"sdf"},t}(sp);yl.add("pubchem",new upe);var HE=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){return n},t.prototype.getExt=function(n){return br(n).ext},t}(sp);yl.add("ftp",new HE),yl.add("http",new HE),yl.add("https",new HE);var DS="//alphafold.ebi.ac.uk/files/AF-",dpe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){var i,r=br(n),a=r.name;return r.ext&&r.ext!=="pdb"&&De.warn("unsupported AF ext",r.ext),i=DS+a+"-F1-model_v2.pdb",R7()+i},t.prototype.getExt=function(n){var i=br(n).ext;return i||"pdb"},t}(sp);yl.add("alphafold",new dpe);var ppe=/^((http|https|ftp):)*\/\//;(function(e){function t(n){n===void 0&&(n=""),e.call(this),this.baseUrl=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){var i,r,a,s,o=br(n),c=this.baseUrl+o.path;return ppe.test(this.baseUrl)||(i=c,r=window.location,a=r.pathname,s=a.substring(0,a.lastIndexOf("/")+1),c=r.origin+s+i),c},t.prototype.getExt=function(n){return br(n).ext},t})(sp);(function(e){function t(n){n===void 0&&(n=""),e.call(this),this.baseUrl=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getListing=function(n){n===void 0&&(n="");var i=this.baseUrl+"dir/"+n;return i[i.length-1]!=="/"&&(i+="/"),V_(i,{ext:"json"}).then(function(r){return{path:n,data:r.data}})},t.prototype.getUrl=function(n){var i=br(n);return this.baseUrl+"file/"+i.path+i.query},t.prototype.getCountUrl=function(n){var i=br(n);return this.baseUrl+"traj/numframes/"+i.path+i.query},t.prototype.getFrameUrl=function(n,i){var r=br(n);return this.baseUrl+"traj/frame/"+i+"/"+r.path+r.query},t.prototype.getFrameParams=function(n,i){return"atomIndices="+i.join(";")},t.prototype.getPathUrl=function(n,i){var r=br(n);return this.baseUrl+"traj/path/"+i+"/"+r.path+r.query},t.prototype.getExt=function(n){return br(n).ext},t})(sp);function kS(e,t){return{type:"integer",max:e,min:t}}function Fu(e,t,n){return{type:"number",precision:e,max:t,min:n}}function Iu(e,t,n){return{type:"range",step:e,max:t,min:n}}function Jp(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return{type:"select",options:e.reduce(function(n,i){var r;return Object.assign(Object.assign({},n),((r={})[i]=i,r))},{})}}Jp("auto","low","medium","high"),Iu(1,5,-1),Fu(1,10,0),Fu(1,10,0),Fu(1,10,0),Iu(1,100,0),Iu(1,100,0),kS(200,0),Jp("scene","camera"),Jp("relative","absolute"),Iu(1,100,0),Iu(1,100,0),Jp("perspective","orthographic","stereo"),Fu(3,1,.01),Iu(1,120,15),Fu(2,10,0),Fu(2,10,0),kS(1e4,-1),Jp.apply(void 0,Object.keys(NI));window.Promise||(window.Promise=zi);var i2,cL,r2,AL,ol,Ef;class fpe{constructor(t,n){tu(this,i2);tu(this,r2);tu(this,ol);this.config=t,this.config={...t},this.data=n,this.initStage()}initStage(){let t=this;document.getElementById(t.config.parentElement).innerHTML="",document.querySelector(".protein-tooltip")&&document.querySelector(".protein-tooltip").remove(),t.stage=new kn(t.config.parentElement,{backgroundColor:"#FFFFFF"}),t.resize();const n=t.data[t.config.dataset].mut_metric_df.reduce((r,a)=>(r[a.site_protein]=a.site_reference,r),{}),i=document.createElement("div");i.className="protein-tooltip",document.body.appendChild(i),t.stage.mouseControls.remove("hoverPick"),t.stage.signals.hovered.add(function(r){var a;if(r&&r.atom){let s=r.atom;i.innerHTML=`<strong>Site:</strong> ${[n[s.resno]]} </br > <strong>Residue:</strong> ${s.resname}${Go(a=t,i2,cL).call(a,s.resname)} </br > <strong>Chain:</strong> ${s.chainname}`,i.style.display="block"}else i.style.display="none"}),t.stage.viewer.container.addEventListener("mousemove",r=>{i.style.top=r.pageY-10+"px",i.style.left=r.pageX+10+"px"}),t.stage.viewer.container.addEventListener("mouseleave",()=>{i.style.display="none"}),t.load()}load(){let t=this;t.config.pdbID.length==4?(t.structure=`rcsb://${t.config.pdbID}`,t.loadConfig={}):(t.structure=new Blob([t.config.pdbID],{type:"text/plain"}),t.loadConfig={ext:"pdb"});let n=t.data[t.config.dataset].dataChains,i=t.data[t.config.dataset].excludeChains;n!="polymer"?(t.dataChainSelection=`protein and (:${n.join(" or :")})`,t.backgroundChainSelection=`protein and (not :${n.join(" and not :")})`,i!="none"&&(t.backgroundChainSelection+=` and (not :${i.join(" and not :")})`)):(t.dataChainSelection="protein",t.backgroundChainSelection="none"),t.stage.loadFile(t.structure,t.loadConfig).then(function(r){t.component=r,t.nonCarbonHydrogens=[],t.component.structure.eachAtom(function(a){if(a.element=="H"){let s=[];a.eachBondedAtom(function(o){s.push(o.element)}),s.some(o=>o!=="C")&&t.nonCarbonHydrogens.push(a.index)}}),t.config.dispatch.on("updateSites",a=>{t.selectSites(a)}),t.updateRepresentation(),t.updateData(),t.stage.autoView()}).catch(function(r){new o2().showAlert(`Failed to load protein: (${r})`)})}updateRepresentation(){var n,i,r;let t=this;t.stage.getRepresentationsByName("dataChains").dispose(),t.component.addRepresentation(t.config.proteinRepresentation,{sele:t.config.showNonCarbonHydrogens?`(${t.dataChainSelection} and not hydrogen)`+Go(n=t,ol,Ef).call(n,t.dataChainSelection):`(${t.dataChainSelection} and not hydrogen)`,color:t.config.proteinElement?"element":t.config.proteinColor,opacity:t.config.proteinOpacity,name:"dataChains",smoothSheet:!0,side:"front",surfaceType:"av"}),t.stage.getRepresentationsByName("backgroundChains").dispose(),t.backgroundChainSelection!="none"&&t.component.addRepresentation(t.config.backgroundRepresentation,{sele:t.config.showNonCarbonHydrogens?`(${t.backgroundChainSelection} and not hydrogen)`+Go(i=t,ol,Ef).call(i,t.backgroundChainSelection):`(${t.backgroundChainSelection} and not hydrogen)`,color:t.config.backgroundColor,opacity:t.config.backgroundOpacity,name:"backgroundChains",smoothSheet:!0,side:"front",surfaceType:"av"}),t.stage.getRepresentationsByName("ligands").dispose(),t.config.showGlycans&&t.component.addRepresentation(t.config.ligandRepresentation,{sele:"ligand and not protein",color:t.config.ligandElement?"element":t.config.ligandColor,name:"ligands",multipleBond:"symmetric",radiusScale:t.config.ligandRepresentation=="ball+stick"?1.5:1}),t.stage.getRepresentationsByName("nucleotide_cartoon").dispose(),t.stage.getRepresentationsByName("nucleotide_bases").dispose(),t.config.showNucleotides&&(t.component.addRepresentation("cartoon",{sele:"(nucleic or rna or dna)",color:"resname",name:"nucleotide_cartoon"}),t.component.addRepresentation("base",{sele:"(nucleic or rna or dna)",color:"resname",name:"nucleotide_bases"})),t.currentSelectionSiteString!==void 0&&(t.stage.getRepresentationsByName("currentSelection").setParameters({opacity:t.config.selectionOpacity}),t.stage.getRepresentationsByName("currentSelection").setSelection(t.config.showNonCarbonHydrogens?`(${t.currentSelectionSiteString} and not hydrogen)`+Go(r=t,ol,Ef).call(r,t.currentSelectionSiteString):`(${t.currentSelectionSiteString} and not hydrogen)`),t.config.selectionRepresentation!==t.stage.getRepresentationsByName("currentSelection").list[0].repr.type&&t.selectSites(Cx(".selected").data()))}updateData(){let t=this;t.mutMetric=t.data[t.config.dataset].mut_metric_df,t.mutMetricSummary=QG(t.mutMetric).filter(a=>a.condition===t.config.proteinCondition),t.colorAccessor=a=>t.config.floor&&a[t.config.summary]<0?0:a[t.config.summary];const n=t.data[t.config.dataset].condition_colors[t.config.proteinCondition];let i;t.data[t.config.dataset].negative_condition_colors?i=t.data[t.config.dataset].negative_condition_colors[t.config.proteinCondition]:i=u4(n);const r=ZA(t.mutMetricSummary,t.colorAccessor).map(Math.abs);r[0]===0&&r[1]===0?t.colorScale=Kc().domain([0,0]).range(["white","white"]):t.config.floor?t.colorScale=Kc().domain([0,Ms(t.mutMetricSummary,t.colorAccessor)]).range(["white",n]):t.colorScale=Kc().domain([-Ms(r),0,Ms(r)]).range([i,"white",n]),t.colorMap=new Map(t.mutMetricSummary.map(a=>[parseInt(a.site_protein),t.colorScale(a[t.config.summary])])),t.schemeId=Nn.addScheme(function(){this.atomColor=a=>t.colorMap.has(a.resno)?parseInt(uA(t.colorMap.get(a.resno)).formatHex().slice(1),16):parseInt(t.config.proteinColor.slice(1),16)}),t.currentSelectionSiteString!==void 0&&t.stage.getRepresentationsByName("currentSelection").setParameters({color:t.schemeId})}selectSites(t){var r;let n=this,i=[];if(t.forEach(a=>{const s=a.site_protein,o=a.site_chain.split(" ");if(!isNaN(parseInt(s))){const c=o.map(A=>{var l;return Go(l=n,r2,AL).call(l,s,A)}).join(" or ");i.push(c)}}),n.currentSelectionSiteString=i.length?`protein and (${i.join(" or ")})`:void 0,n.currentSelectionSiteString!==void 0)return n.stage.getRepresentationsByName("currentSelection").dispose(),n.component.addRepresentation(n.config.selectionRepresentation,{color:n.schemeId,opacity:n.config.selectionOpacity,roughness:1,name:"currentSelection",surfaceType:"av",side:"front",useWorker:!0}).setSelection(n.config.showNonCarbonHydrogens?`(${n.currentSelectionSiteString} and not hydrogen)`+Go(r=n,ol,Ef).call(r,n.currentSelectionSiteString):`(${n.currentSelectionSiteString} and not hydrogen)`);n.stage.getRepresentationsByName("currentSelection").dispose()}resize(t){let n=this;const i=t*1.5;document.querySelector(".protein").style.height=`${i}px`,n.stage.handleResize()}clear(){this.stage.removeAllComponents()}saveImage(){let t=this;t.stage.makeImage({factor:4,antialias:!0,trim:!1,transparent:!1}).then(function(n){let i=new Date,r=i.getFullYear().toString()+"-"+(i.getMonth()+1).toString().padStart(2,"0")+"-"+i.getDate().toString().padStart(2,"0"),a=`${t.config.dataset}_${t.config.proteinCondition}_${r}.png`;WF(n,a)})}}i2=new WeakSet,cL=function(t){const i={ALA:"A",ARG:"R",ASN:"N",ASP:"D",CYS:"C",GLU:"E",GLN:"Q",GLY:"G",HIS:"H",ILE:"I",LEU:"L",LYS:"K",MET:"M",PHE:"F",PRO:"P",SER:"S",THR:"T",TRP:"W",TYR:"Y",VAL:"V",SEC:"U",PYL:"O"}[t.toUpperCase()];return i?` (${i})`:""},r2=new WeakSet,AL=function(t,n){return`(${n!="polymer"?":":""}${n} and ${t})`},ol=new WeakSet,Ef=function(t){let n=this;return n.nonCarbonHydrogens.length?` or (@${n.nonCarbonHydrogens.join(",")} and (${t}))`:""};class hpe{constructor(t,n){this.config=t,this.config={parentElement:t.parentElement,dataset:t.dataset,proteinCondition:t.proteinCondition,chartConditions:t.chartConditions,label:t.label||"Condition"},this.data=JSON.parse(JSON.stringify(n)),this.initLegend()}initLegend(){let t=this;document.querySelector(this.config.parentElement).innerHTML="",t.margin={left:20,top:20,bottom:20,point:25},t.svg=kt(t.config.parentElement).append("svg").attr("width","100%"),t.background=t.svg.append("rect").attr("x",0).attr("y",0).attr("width","100%").attr("fill","white").attr("ry",10),t.legend=t.svg.append("g").attr("class","condition-legend"),t.updateLegend()}updateLegend(){let t=this;if(t.data[t.config.dataset].legend){const n=document.querySelector("#condition-option label");n.textContent=t.config.label,document.getElementById("condition-option").style.display="block"}else{document.getElementById("condition-option").style.display="none";return}t.allConditions=Object.keys(t.data[t.config.dataset].condition_colors),t.conditionColors=t.data[t.config.dataset].condition_colors,t.config.height=(t.allConditions.length-1)*t.margin.point+t.margin.top+t.margin.bottom,t.svg.attr("height",t.config.height),t.background.attr("height",t.config.height),t.renderLegend()}renderLegend(){let t=this;t.legend.selectAll(".condition-box").data(t.allConditions,n=>n).join(n=>n.append("rect").attr("class","condition-box").attr("x",t.margin.left-t.margin.point/2).attr("y",(i,r)=>t.margin.top-10+r*t.margin.point).attr("width","calc(100% - 20px)").attr("height",20).style("opacity",i=>t.config.proteinCondition.includes(i)?".25":"0").attr("ry",4).style("fill",i=>t.conditionColors[i]).on("click",(i,r)=>{i.altKey&&t.config.chartConditions.includes(r)?t.deselectChartConditions(r):i.altKey&&!t.config.chartConditions.includes(r)?t.selectChartConditions(r):t.selectProteinCondition(r)}),n=>n.attr("y",(i,r)=>t.margin.top-10+r*t.margin.point).style("fill",i=>t.conditionColors[i]).style("opacity",i=>t.config.proteinCondition.includes(i)?".25":"0"),n=>n.remove()),t.legend.selectAll(".condition-circle").data(t.allConditions,n=>n).join(n=>n.append("circle").attr("class","condition-circle").attr("cx",t.margin.left).attr("cy",(i,r)=>t.margin.top+r*t.margin.point).attr("r",7).style("fill",i=>t.conditionColors[i]).style("opacity",i=>t.config.chartConditions.includes(i)?"1":"0.2").on("click",(i,r)=>{i.altKey&&t.config.chartConditions.includes(r)?t.deselectChartConditions(r):i.altKey&&!t.config.chartConditions.includes(r)?t.selectChartConditions(r):t.selectProteinCondition(r)}),n=>n.attr("cy",(i,r)=>t.margin.top+r*t.margin.point).style("fill",i=>t.conditionColors[i]).style("opacity",i=>t.config.chartConditions.includes(i)?"1":"0.2"),n=>n.remove()),t.legend.selectAll(".condition-label").data(t.allConditions,n=>n).join(n=>n.append("text").attr("class","condition-label").attr("x",t.margin.left*2).attr("y",(i,r)=>t.margin.top+r*t.margin.point).text(i=>`${i}`).style("fill",i=>t.conditionColors[i]).style("opacity",i=>t.config.chartConditions.includes(i)?"1":"0.2").attr("text-anchor","left").style("alignment-baseline","middle").attr("dominant-baseline","middle").style("user-select","none").on("click",(i,r)=>{i.altKey&&t.config.chartConditions.includes(r)?t.deselectChartConditions(r):i.altKey&&!t.config.chartConditions.includes(r)?t.selectChartConditions(r):t.selectProteinCondition(r)}),n=>n.attr("y",(i,r)=>t.margin.top+r*t.margin.point).text(i=>`${i}`).style("fill",i=>t.conditionColors[i]).style("opacity",i=>t.config.chartConditions.includes(i)?"1":"0.2"),n=>n.remove())}selectProteinCondition(t){let n=this;if(!n.config.chartConditions.includes(t))return;n.legend.selectAll(".condition-box").style("opacity","0"),n.legend.selectAll(".condition-box").filter(function(r){return r==t}).style("opacity",".25"),n.config.proteinCondition=t;const i=new CustomEvent("proteinConditionSelected",{detail:n.config.proteinCondition});window.dispatchEvent(i)}selectChartConditions(t){let n=this;n.legend.selectAll(".condition-label").filter(function(r){return r==t}).style("opacity","1"),n.legend.selectAll(".condition-circle").filter(function(r){return r==t}).style("opacity","1"),n.config.chartConditions.push(t);const i=new CustomEvent("chartConditionsSelected",{detail:n.config.chartConditions});window.dispatchEvent(i)}deselectChartConditions(t){let n=this;if(n.config.chartConditions.length==1)return;n.config.chartConditions=n.config.chartConditions.filter(function(r){return r!=t}),n.config.proteinCondition==t&&n.selectProteinCondition(n.config.chartConditions[0]),n.legend.selectAll(".condition-label").filter(function(r){return r==t}).style("opacity",".25"),n.legend.selectAll(".condition-circle").filter(function(r){return r==t}).style("opacity",".25");const i=new CustomEvent("chartConditionsSelected",{detail:n.config.chartConditions});window.dispatchEvent(i)}}class mpe{constructor(t,n){this.data=t,this.uiInstance=n,this.initTool()}initTool(){let t=this;for(const n in t.data){t.data[n].condition_col===null?(t.data[n].conditions=["default"],t.data[n].legend=!1):(t.data[n].conditions=t.data[n].conditions.map(s=>s.toString()),t.data[n].legend=!0);const i=t.data[n].sitemap,r=t.data[n].metric_col,a=t.data[n].condition_col;t.data[n].mut_metric_df=t.data[n].mut_metric_df.map(s=>{const o=a!==null?s[a].toString():"default";return{...s,site:i[s.reference_site].sequential_site,site_reference:s.reference_site,site_protein:i[s.reference_site].protein_site,site_chain:i[s.reference_site].chains,metric:s[r],condition:o}})}t.dataset=Object.keys(t.data)[0],t.datasetDescription=t.data[t.dataset].description||"A description wasn't provided for this dataset.",t.uiInstance.datasetDescription=t.datasetDescription,t.setState(),t.updateURLParams(),t.chart=new qte({parentElement:"#chart",dataset:t.dataset,chartConditions:t.chartConditions,summary:t.summary,floor:t.floor,mutations:t.mutations,metric:t.data[t.dataset].metric_col,tooltips:t.data[t.dataset].tooltip_cols,filters:t.filters},t.data),t.legend=new hpe({parentElement:"#legend",dataset:t.dataset,proteinCondition:t.proteinCondition,chartConditions:t.chartConditions,label:t.data[t.dataset].condition_col},t.data),t.protein=new fpe({parentElement:"viewport",dataset:t.dataset,proteinCondition:t.proteinCondition,summary:t.summary,floor:t.floor,pdbID:t.data[t.dataset].pdb,dispatch:t.chart.dispatch,proteinRepresentation:t.proteinRepresentation,selectionRepresentation:t.selectionRepresentation,backgroundRepresentation:t.backgroundRepresentation,ligandRepresentation:t.ligandRepresentation,proteinColor:t.proteinColor,backgroundColor:t.backgroundColor,ligandColor:t.ligandColor,ligandElement:t.ligandElement,proteinElement:t.proteinElement,backgroundOpacity:t.backgroundOpacity,proteinOpacity:t.proteinOpacity,selectionOpacity:t.selectionOpacity,showGlycans:t.showGlycans,showNucleotides:t.showNucleotides,showNonCarbonHydrogens:t.showNonCarbonHydrogens},t.data),t.initSelect(kt("#dataset"),Object.keys(t.data),t.dataset),t.initSelect(kt("#summary"),["sum","mean","max","min"],t.summary),t.initCheckbox(kt("#floor"),t.floor),t.initCheckbox(kt("#mutations"),t.mutations),t.initSelect(kt("#proteinRepresentation"),["spacefill","surface","cartoon","rope","ball+stick"],t.proteinRepresentation),t.initSelect(kt("#selectionRepresentation"),["spacefill","surface","cartoon","rope","ball+stick"],t.selectionRepresentation),t.initSelect(kt("#backgroundRepresentation"),["spacefill","surface","cartoon","rope","ball+stick"],t.backgroundRepresentation),t.initSelect(kt("#ligandRepresentation"),["spacefill","ball+stick"],t.ligandRepresentation),t.initCheckbox(kt("#showGlycans"),t.showGlycans),t.initCheckbox(kt("#showNucleotides"),t.showNucleotides),t.initCheckbox(kt("#showNonCarbonHydrogens"),t.showNonCarbonHydrogens),t.initColorPicker(kt("#proteinColor"),t.proteinColor),t.initColorPicker(kt("#backgroundColor"),t.backgroundColor),t.initColorPicker(kt("#ligandColor"),t.ligandColor),t.initCheckbox(kt("#ligandElement"),t.ligandElement),t.initCheckbox(kt("#proteinElement"),t.proteinElement),t.initRange(kt("#proteinOpacity"),t.proteinOpacity),t.initRange(kt("#selectionOpacity"),t.selectionOpacity),t.initRange(kt("#backgroundOpacity"),t.backgroundOpacity),kt("#filters").html(""),t.data[t.dataset].filter_cols&&Object.keys(t.data[t.dataset].filter_cols).forEach(n=>{let i,r;const a=t.data[t.dataset].filter_limits;a&&a[n]?[i,r]=a[n]:(i=ef(t.data[t.dataset].mut_metric_df,s=>s[n]),r=Ms(t.data[t.dataset].mut_metric_df,s=>s[n])),t.initFilter(n,t.data[t.dataset].filter_cols[n],i,r,t.filters[n])})}initSelect(t,n,i=n[0]){t.selectAll("option").data(n).join("option").attr("value",r=>r).text(r=>r).property("selected",r=>r===i)}initCheckbox(t,n=!0){t.property("checked",n)}initColorPicker(t,n="#D3D3D3"){t.attr("type","color").property("value",n)}initRange(t,n=1){typeof n=="string"&&(n=parseFloat(n)),t.attr("type","range").attr("min",0).attr("max",1).attr("step",.01).property("value",n)}initFilter(t,n,i,r,a){let s=this,o=kt("#filters");o.append("label").attr("for",t).style("display","block").text(n),o.append("input").attr("type","range").attr("id",t).attr("min",i).attr("max",r).attr("value",a).attr("step",(r-i)/100).on("input",function(){s.updateFilter(this)}),o.append("span").attr("class","output").attr("id",`${t}-output`).text(ll(".2f")(a))}updateSelectedDataset(t){let n=this;n.dataset=kt(t).property("value"),n.chart.config.dataset=n.dataset,n.protein.config.dataset=n.dataset,n.legend.config.dataset=n.dataset,n.chartConditions=n.data[n.dataset].conditions,n.proteinCondition=n.chartConditions[0],n.chart.config.chartConditions=n.chartConditions,n.legend.config.chartConditions=n.chartConditions,n.protein.config.proteinCondition=n.proteinCondition,n.legend.config.proteinCondition=n.proteinCondition,n.datasetDescription=n.data[n.dataset].description||"A description wasn't provided for this dataset.",n.uiInstance.datasetDescription=n.datasetDescription,kt("#alertBanner").classed("hidden")||kt("#alertMessage").text(n.datasetDescription),n.filters={},n.data[n.dataset].filter_cols&&(n.filters=Object.keys(n.data[n.dataset].filter_cols).reduce((i,r)=>({...i,[r]:ef(n.data[n.dataset].mut_metric_df,a=>a[r])}),{})),kt("#filters").html(""),n.data[n.dataset].filter_cols&&Object.keys(n.data[n.dataset].filter_cols).forEach(i=>{let r,a;const s=n.data[n.dataset].filter_limits;s&&s[i]?[r,a]=s[i]:(r=ef(n.data[n.dataset].mut_metric_df,o=>o[i]),a=Ms(n.data[n.dataset].mut_metric_df,o=>o[i])),n.initFilter(i,n.data[n.dataset].filter_cols[i],r,a,n.filters[i])}),n.chart.config.filters=n.filters,n.chart.deselectSites(),n.chart.updateVis(),n.legend.updateLegend(),console.log(n.data[n.dataset]),n.data[n.dataset].pdb!==n.protein.config.pdbID?(n.protein.config.pdbID=n.data[n.dataset].pdb,n.protein.clear(),n.protein.load()):JSON.stringify(n.data[n.dataset].dataChains)!==JSON.stringify(n.protein.config.dataChains)&&(n.protein.clear(),n.protein.load()),n.updateURLParams()}updateChartOptions(t){let n=this;const i=kt(t),r=i.attr("id"),a=i.property(r=="floor"||r=="mutations"?"checked":"value");n[r]=a,n.chart.config[r]=a,n.protein.config[r]=a,n.chart.updateVis(),n.protein.updateData(),n.updateURLParams()}updateProteinOptions(t){let n=this;const i=kt(t),r=i.attr("id");let a=i.property("value");if(a==="true"?a=!0:a==="false"&&(a=!1),r==="proteinRepresentation"){const o=new Map([["surface",new Set(["spacefill","surface","cartoon","rope","ball+stick"])],["spacefill",new Set(["spacefill","surface","cartoon","rope","ball+stick"])],["cartoon",new Set(["cartoon","rope"])],["rope",new Set(["cartoon","rope"])],["ball+stick",new Set(["ball+stick"])]]).get(a);o&&o.has(n.protein.config.selectionRepresentation)&&new o2().showAlert(`The current representation of the selection (${n.protein.config.selectionRepresentation}) may be obscured by the ${n.protein.config.proteinRepresentation} representation of the protein. Consider toggling the opacity of the protein representation.`,"warning")}n[r]=a,n.protein.config[r]=a,n.protein.updateRepresentation(),n.updateURLParams()}updateProteinCondition(t){let n=this;n.proteinCondition=t,n.protein.config.proteinCondition=t,n.protein.updateData(),n.updateURLParams()}updateChartConditions(t){let n=this;n.chartConditions=t,n.chart.config.chartConditions=t,n.chart.updateVis(),n.updateURLParams()}updateFilter(t){let n=this;const i=kt(t),r=i.attr("id"),a=parseFloat(i.property("value"));kt(`#${r}-output`).text(ll(".2f")(a)),n.filters[r]=a,n.chart.config.filters=n.filters,n.chart.updateVis(),n.protein.updateData(),n.protein.selectSites(Cx(".selected").data()),n.updateURLParams()}setState(){let t=this;t.defaultParams={dataset:{abbrev:"e",default:t.dataset,json:!1},proteinCondition:{abbrev:"pe",default:t.data[t.dataset].conditions[0],json:!1},chartConditions:{abbrev:"ce",default:t.data[t.dataset].conditions,json:!0},summary:{abbrev:"s",default:"sum",json:!1},floor:{abbrev:"f",default:!1,json:!1},mutations:{abbrev:"m",default:!1,json:!1},proteinRepresentation:{abbrev:"pr",default:"cartoon",json:!1},selectionRepresentation:{abbrev:"sr",default:"spacefill",json:!1},backgroundRepresentation:{abbrev:"br",default:"rope",json:!1},ligandRepresentation:{abbrev:"lr",default:"spacefill",json:!1},proteinColor:{nabbrevame:"pc",default:"#d3d3d3",json:!1},backgroundColor:{abbrev:"bc",default:"#d3d3d3",json:!1},ligandColor:{abbrev:"lc",default:"#d3d3d3",json:!1},ligandElement:{abbrev:"le",default:!1,json:!1},proteinElement:{abbrev:"pce",default:!1,json:!1},proteinOpacity:{abbrev:"po",default:"1",json:!1},selectionOpacity:{abbrev:"so",default:"1",json:!1},backgroundOpacity:{abbrev:"bo",default:"1",json:!1},showGlycans:{abbrev:"g",default:!1,json:!1},showNucleotides:{abbrev:"n",default:!1,json:!1},showNonCarbonHydrogens:{abbrev:"h",default:!1,json:!1},filters:{abbrev:"fi",default:t.data[t.dataset].filter_cols?Object.keys(t.data[t.dataset].filter_cols).reduce((i,r)=>({...i,[r]:ef(t.data[t.dataset].mut_metric_df,a=>a[r])}),{}):{},json:!0}};const n=new URLSearchParams(window.location.search);for(const i in t.defaultParams)if(n.has(t.defaultParams[i].abbrev))if(t.defaultParams[i].json){let r=JSON.parse(decodeURIComponent(n.get(t.defaultParams[i].abbrev)));t[i]=r}else{let r=n.get(t.defaultParams[i].abbrev);r==="true"?t[i]=!0:r==="false"?t[i]=!1:t[i]=r}else typeof t.defaultParams[i].default=="object"?t[i]=Kf.exports.cloneDeep(t.defaultParams[i].default):t[i]=t.defaultParams[i].default}updateURLParams(){let t=this;const n=new URLSearchParams(window.location.search);if(!!n.has("data")){for(const i in t.defaultParams){const r=t.defaultParams[i].abbrev,a=t[i],s=t.defaultParams[i].default;if(!Kf.exports.isEqual(a,s)){t.defaultParams[i].json?n.set(r,encodeURIComponent(JSON.stringify(a))):n.set(r,a);continue}n.has(r)&&n.delete(r)}window.history.replaceState({},"",`${location.pathname}?${n}`)}}}const Wy={"REGN mAb Cocktail":{mut_metric_df:[{mutant:"A",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.00332},{mutant:"D",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.002249},{mutant:"E",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"F",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"G",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"H",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.002029},{mutant:"I",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"K",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"L",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.003418},{mutant:"M",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"P",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.0038},{mutant:"Q",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"R",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"S",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"T",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.001857},{mutant:"V",reference_site:331,Antibody:"REGN10933",wildtype:"N",Escape:.002269},{mutant:"A",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.00293},{mutant:"C",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"D",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.003159},{mutant:"E",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"F",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.001233},{mutant:"G",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.001856},{mutant:"H",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"K",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"L",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.005045},{mutant:"M",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.002626},{mutant:"N",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.002591},{mutant:"P",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"Q",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"R",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"S",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.00113},{mutant:"T",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.002418},{mutant:"V",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"W",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"Y",reference_site:332,Antibody:"REGN10933",wildtype:"I",Escape:.005004},{mutant:"A",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"C",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.002874},{mutant:"D",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.00175},{mutant:"E",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"F",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"G",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"H",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001485},{mutant:"K",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"L",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.002234},{mutant:"M",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001917},{mutant:"N",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001448},{mutant:"P",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"Q",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001953},{mutant:"R",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"S",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"V",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001188},{mutant:"W",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"Y",reference_site:333,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"A",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.005325},{mutant:"C",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.002177},{mutant:"D",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.0282},{mutant:"E",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.006518},{mutant:"F",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.004503},{mutant:"G",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"H",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.001645},{mutant:"I",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.0292},{mutant:"K",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"L",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.00547},{mutant:"M",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.004644},{mutant:"P",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"Q",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.00339},{mutant:"R",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"S",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"T",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"V",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"Y",reference_site:334,Antibody:"REGN10933",wildtype:"N",Escape:.002955},{mutant:"A",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"C",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.01894},{mutant:"D",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.00249},{mutant:"E",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.002458},{mutant:"F",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"G",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"H",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"I",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"K",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.0035},{mutant:"M",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.002288},{mutant:"N",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"P",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.004899},{mutant:"Q",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"R",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.001979},{mutant:"S",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.001757},{mutant:"T",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"V",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"W",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.002076},{mutant:"Y",reference_site:335,Antibody:"REGN10933",wildtype:"L",Escape:.004982},{mutant:"G",reference_site:336,Antibody:"REGN10933",wildtype:"C",Escape:.01436},{mutant:"A",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.007468},{mutant:"C",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.001865},{mutant:"D",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.001133},{mutant:"E",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.002008},{mutant:"G",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.009428},{mutant:"H",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.005652},{mutant:"K",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"L",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.003004},{mutant:"M",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"N",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"Q",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.002879},{mutant:"R",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.002777},{mutant:"S",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"T",reference_site:337,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"I",reference_site:338,Antibody:"REGN10933",wildtype:"F",Escape:.00532},{mutant:"L",reference_site:338,Antibody:"REGN10933",wildtype:"F",Escape:.001228},{mutant:"M",reference_site:338,Antibody:"REGN10933",wildtype:"F",Escape:.001605},{mutant:"W",reference_site:338,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"Y",reference_site:338,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"A",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.005147},{mutant:"D",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"E",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.004006},{mutant:"F",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.00681},{mutant:"H",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.002545},{mutant:"I",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.003589},{mutant:"K",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.004032},{mutant:"L",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.001158},{mutant:"M",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.001587},{mutant:"N",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"P",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.003667},{mutant:"Q",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.002797},{mutant:"R",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.002059},{mutant:"S",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.002759},{mutant:"T",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"V",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.004748},{mutant:"W",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.002936},{mutant:"Y",reference_site:339,Antibody:"REGN10933",wildtype:"G",Escape:.001242},{mutant:"A",reference_site:340,Antibody:"REGN10933",wildtype:"E",Escape:.003731},{mutant:"D",reference_site:340,Antibody:"REGN10933",wildtype:"E",Escape:.001198},{mutant:"G",reference_site:340,Antibody:"REGN10933",wildtype:"E",Escape:.008927},{mutant:"K",reference_site:340,Antibody:"REGN10933",wildtype:"E",Escape:.001594},{mutant:"L",reference_site:340,Antibody:"REGN10933",wildtype:"E",Escape:.002389},{mutant:"M",reference_site:340,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"N",reference_site:340,Antibody:"REGN10933",wildtype:"E",Escape:.006594},{mutant:"P",reference_site:340,Antibody:"REGN10933",wildtype:"E",Escape:.006002},{mutant:"Q",reference_site:340,Antibody:"REGN10933",wildtype:"E",Escape:.005502},{mutant:"S",reference_site:340,Antibody:"REGN10933",wildtype:"E",Escape:.00398},{mutant:"T",reference_site:340,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"I",reference_site:341,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"L",reference_site:341,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"I",reference_site:342,Antibody:"REGN10933",wildtype:"F",Escape:.004056},{mutant:"L",reference_site:342,Antibody:"REGN10933",wildtype:"F",Escape:.009387},{mutant:"M",reference_site:342,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"E",reference_site:344,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"K",reference_site:344,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"N",reference_site:344,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"Q",reference_site:344,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"R",reference_site:344,Antibody:"REGN10933",wildtype:"A",Escape:.005781},{mutant:"S",reference_site:344,Antibody:"REGN10933",wildtype:"A",Escape:.00221},{mutant:"A",reference_site:345,Antibody:"REGN10933",wildtype:"T",Escape:.0016},{mutant:"D",reference_site:345,Antibody:"REGN10933",wildtype:"T",Escape:.004604},{mutant:"E",reference_site:345,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"K",reference_site:345,Antibody:"REGN10933",wildtype:"T",Escape:.001836},{mutant:"P",reference_site:345,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"R",reference_site:345,Antibody:"REGN10933",wildtype:"T",Escape:.00235},{mutant:"S",reference_site:345,Antibody:"REGN10933",wildtype:"T",Escape:.003008},{mutant:"A",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.002079},{mutant:"C",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.002685},{mutant:"D",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.01348},{mutant:"E",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"F",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"G",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"H",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"I",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.001682},{mutant:"K",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"L",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.02114},{mutant:"M",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.001772},{mutant:"N",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.002958},{mutant:"Q",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.00192},{mutant:"S",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.005436},{mutant:"T",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.009405},{mutant:"V",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.001291},{mutant:"W",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"Y",reference_site:346,Antibody:"REGN10933",wildtype:"R",Escape:.001744},{mutant:"W",reference_site:347,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"D",reference_site:348,Antibody:"REGN10933",wildtype:"A",Escape:.001886},{mutant:"E",reference_site:348,Antibody:"REGN10933",wildtype:"A",Escape:.003984},{mutant:"G",reference_site:348,Antibody:"REGN10933",wildtype:"A",Escape:.002761},{mutant:"H",reference_site:348,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"K",reference_site:348,Antibody:"REGN10933",wildtype:"A",Escape:.0197},{mutant:"N",reference_site:348,Antibody:"REGN10933",wildtype:"A",Escape:.002703},{mutant:"P",reference_site:348,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"Q",reference_site:348,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"S",reference_site:348,Antibody:"REGN10933",wildtype:"A",Escape:.00214},{mutant:"Y",reference_site:348,Antibody:"REGN10933",wildtype:"A",Escape:.002455},{mutant:"N",reference_site:349,Antibody:"REGN10933",wildtype:"S",Escape:.001624},{mutant:"P",reference_site:349,Antibody:"REGN10933",wildtype:"S",Escape:.009787},{mutant:"F",reference_site:351,Antibody:"REGN10933",wildtype:"Y",Escape:.003538},{mutant:"H",reference_site:351,Antibody:"REGN10933",wildtype:"Y",Escape:.00173},{mutant:"W",reference_site:351,Antibody:"REGN10933",wildtype:"Y",Escape:.002458},{mutant:"D",reference_site:352,Antibody:"REGN10933",wildtype:"A",Escape:.002814},{mutant:"E",reference_site:352,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"G",reference_site:352,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"H",reference_site:352,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"K",reference_site:352,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"M",reference_site:352,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"N",reference_site:352,Antibody:"REGN10933",wildtype:"A",Escape:.001302},{mutant:"Q",reference_site:352,Antibody:"REGN10933",wildtype:"A",Escape:0},{mutant:"R",reference_site:352,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"S",reference_site:352,Antibody:"REGN10933",wildtype:"A",Escape:.002555},{mutant:"Y",reference_site:352,Antibody:"REGN10933",wildtype:"A",Escape:.00329},{mutant:"F",reference_site:353,Antibody:"REGN10933",wildtype:"W",Escape:.004599},{mutant:"A",reference_site:354,Antibody:"REGN10933",wildtype:"N",Escape:.001902},{mutant:"D",reference_site:354,Antibody:"REGN10933",wildtype:"N",Escape:.003839},{mutant:"G",reference_site:354,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"H",reference_site:354,Antibody:"REGN10933",wildtype:"N",Escape:.002443},{mutant:"K",reference_site:354,Antibody:"REGN10933",wildtype:"N",Escape:.001799},{mutant:"R",reference_site:354,Antibody:"REGN10933",wildtype:"N",Escape:.008092},{mutant:"S",reference_site:354,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"T",reference_site:354,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"V",reference_site:354,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"A",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"E",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:.004717},{mutant:"H",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:.003361},{mutant:"I",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:.002458},{mutant:"L",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"M",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"N",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:0},{mutant:"Q",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:.003564},{mutant:"R",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:.001137},{mutant:"S",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"T",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:.00622},{mutant:"V",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:.003986},{mutant:"Y",reference_site:356,Antibody:"REGN10933",wildtype:"K",Escape:.00154},{mutant:"A",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"C",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.03308},{mutant:"D",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.002275},{mutant:"E",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.008695},{mutant:"H",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.01082},{mutant:"I",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.006876},{mutant:"K",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"L",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.007986},{mutant:"M",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"N",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.002249},{mutant:"P",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.00683},{mutant:"Q",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.003249},{mutant:"S",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.003075},{mutant:"T",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"V",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"W",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.002325},{mutant:"Y",reference_site:357,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"C",reference_site:358,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"F",reference_site:358,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"L",reference_site:358,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"M",reference_site:358,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"V",reference_site:358,Antibody:"REGN10933",wildtype:"I",Escape:.004898},{mutant:"W",reference_site:358,Antibody:"REGN10933",wildtype:"I",Escape:.005648},{mutant:"Y",reference_site:358,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"A",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"C",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.00138},{mutant:"D",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.002441},{mutant:"E",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.002528},{mutant:"F",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.002771},{mutant:"G",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.001553},{mutant:"H",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"I",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.003311},{mutant:"K",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"N",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"P",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.005483},{mutant:"Q",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.002234},{mutant:"R",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.001996},{mutant:"T",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"V",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.009362},{mutant:"W",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.05346},{mutant:"Y",reference_site:359,Antibody:"REGN10933",wildtype:"S",Escape:.002249},{mutant:"D",reference_site:360,Antibody:"REGN10933",wildtype:"N",Escape:.002249},{mutant:"E",reference_site:360,Antibody:"REGN10933",wildtype:"N",Escape:.002641},{mutant:"K",reference_site:360,Antibody:"REGN10933",wildtype:"N",Escape:.003697},{mutant:"Q",reference_site:360,Antibody:"REGN10933",wildtype:"N",Escape:.01319},{mutant:"R",reference_site:360,Antibody:"REGN10933",wildtype:"N",Escape:.002427},{mutant:"S",reference_site:360,Antibody:"REGN10933",wildtype:"N",Escape:.007853},{mutant:"E",reference_site:361,Antibody:"REGN10933",wildtype:"C",Escape:.02753},{mutant:"N",reference_site:361,Antibody:"REGN10933",wildtype:"C",Escape:.02418},{mutant:"P",reference_site:361,Antibody:"REGN10933",wildtype:"C",Escape:.001602},{mutant:"A",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.00266},{mutant:"C",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"D",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"E",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"F",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.00313},{mutant:"G",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.006829},{mutant:"H",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.002009},{mutant:"I",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"K",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"L",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.001828},{mutant:"M",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"N",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.01118},{mutant:"Q",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.001707},{mutant:"R",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"S",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.009929},{mutant:"T",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.01054},{mutant:"W",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.002807},{mutant:"Y",reference_site:362,Antibody:"REGN10933",wildtype:"V",Escape:.003349},{mutant:"C",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.001582},{mutant:"F",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"G",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.004876},{mutant:"H",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.03159},{mutant:"I",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.003422},{mutant:"L",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"M",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.002381},{mutant:"P",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.003979},{mutant:"Q",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.03059},{mutant:"S",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.003514},{mutant:"T",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.004344},{mutant:"V",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.002451},{mutant:"W",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"Y",reference_site:363,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"A",reference_site:365,Antibody:"REGN10933",wildtype:"Y",Escape:.007065},{mutant:"C",reference_site:365,Antibody:"REGN10933",wildtype:"Y",Escape:.01235},{mutant:"F",reference_site:365,Antibody:"REGN10933",wildtype:"Y",Escape:.003532},{mutant:"G",reference_site:365,Antibody:"REGN10933",wildtype:"Y",Escape:.01714},{mutant:"I",reference_site:365,Antibody:"REGN10933",wildtype:"Y",Escape:.001698},{mutant:"L",reference_site:365,Antibody:"REGN10933",wildtype:"Y",Escape:.002923},{mutant:"M",reference_site:365,Antibody:"REGN10933",wildtype:"Y",Escape:.001175},{mutant:"P",reference_site:365,Antibody:"REGN10933",wildtype:"Y",Escape:.008441},{mutant:"T",reference_site:365,Antibody:"REGN10933",wildtype:"Y",Escape:.003687},{mutant:"V",reference_site:365,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"W",reference_site:365,Antibody:"REGN10933",wildtype:"Y",Escape:.002976},{mutant:"A",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.004278},{mutant:"D",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.002785},{mutant:"E",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"F",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.004932},{mutant:"G",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"H",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.002249},{mutant:"I",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.004067},{mutant:"K",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.002585},{mutant:"L",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.01175},{mutant:"M",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.004751},{mutant:"N",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.004686},{mutant:"P",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.005071},{mutant:"Q",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"R",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"T",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.004869},{mutant:"V",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.00661},{mutant:"W",reference_site:366,Antibody:"REGN10933",wildtype:"S",Escape:.008609},{mutant:"A",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.001407},{mutant:"C",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"D",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.005743},{mutant:"E",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"F",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"G",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.003984},{mutant:"H",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"I",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.00226},{mutant:"K",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.00145},{mutant:"L",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"M",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"N",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.007505},{mutant:"P",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.005336},{mutant:"Q",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.002488},{mutant:"R",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"S",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.002102},{mutant:"T",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"W",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.001597},{mutant:"Y",reference_site:367,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"F",reference_site:368,Antibody:"REGN10933",wildtype:"L",Escape:.008035},{mutant:"I",reference_site:368,Antibody:"REGN10933",wildtype:"L",Escape:.004783},{mutant:"M",reference_site:368,Antibody:"REGN10933",wildtype:"L",Escape:.005328},{mutant:"V",reference_site:368,Antibody:"REGN10933",wildtype:"L",Escape:.001756},{mutant:"A",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.005071},{mutant:"C",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.007821},{mutant:"D",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.008629},{mutant:"E",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.005196},{mutant:"F",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"G",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.003068},{mutant:"H",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.003543},{mutant:"I",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.005824},{mutant:"K",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.00361},{mutant:"L",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.002766},{mutant:"M",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.004589},{mutant:"N",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.008002},{mutant:"P",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.01487},{mutant:"Q",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.004454},{mutant:"R",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.002938},{mutant:"S",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.003229},{mutant:"T",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"V",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"W",reference_site:369,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"A",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"D",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.002648},{mutant:"E",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.002284},{mutant:"G",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.001354},{mutant:"H",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.001243},{mutant:"K",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"L",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.005738},{mutant:"M",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.002922},{mutant:"P",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.00396},{mutant:"Q",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.003507},{mutant:"R",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.002153},{mutant:"S",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"T",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"Y",reference_site:370,Antibody:"REGN10933",wildtype:"N",Escape:.001217},{mutant:"A",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.002888},{mutant:"C",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.001561},{mutant:"D",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"E",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"F",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.004853},{mutant:"G",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.00797},{mutant:"H",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.001764},{mutant:"I",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.00139},{mutant:"K",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.00198},{mutant:"L",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"M",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.003166},{mutant:"N",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.001499},{mutant:"P",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.005546},{mutant:"Q",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"R",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.002697},{mutant:"T",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.001667},{mutant:"V",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"W",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"Y",reference_site:371,Antibody:"REGN10933",wildtype:"S",Escape:.004009},{mutant:"D",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.003848},{mutant:"E",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"F",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"G",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"H",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.003753},{mutant:"I",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.004091},{mutant:"K",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.004033},{mutant:"L",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"M",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"N",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.003626},{mutant:"P",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.003066},{mutant:"Q",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.002002},{mutant:"R",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"S",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.004057},{mutant:"T",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.00124},{mutant:"V",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.004715},{mutant:"W",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.01366},{mutant:"Y",reference_site:372,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"A",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.002009},{mutant:"C",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.00406},{mutant:"D",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.005644},{mutant:"E",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.001386},{mutant:"F",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.001702},{mutant:"G",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.005896},{mutant:"H",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"I",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.002628},{mutant:"K",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.002425},{mutant:"L",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.004583},{mutant:"M",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.002264},{mutant:"N",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"P",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.001439},{mutant:"Q",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"R",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"T",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"V",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.001387},{mutant:"W",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.001632},{mutant:"Y",reference_site:373,Antibody:"REGN10933",wildtype:"S",Escape:.002498},{mutant:"A",reference_site:374,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"D",reference_site:374,Antibody:"REGN10933",wildtype:"F",Escape:.004398},{mutant:"H",reference_site:374,Antibody:"REGN10933",wildtype:"F",Escape:.005046},{mutant:"I",reference_site:374,Antibody:"REGN10933",wildtype:"F",Escape:.003008},{mutant:"L",reference_site:374,Antibody:"REGN10933",wildtype:"F",Escape:.00904},{mutant:"M",reference_site:374,Antibody:"REGN10933",wildtype:"F",Escape:.003429},{mutant:"N",reference_site:374,Antibody:"REGN10933",wildtype:"F",Escape:.01664},{mutant:"Q",reference_site:374,Antibody:"REGN10933",wildtype:"F",Escape:.01544},{mutant:"T",reference_site:374,Antibody:"REGN10933",wildtype:"F",Escape:.003557},{mutant:"V",reference_site:374,Antibody:"REGN10933",wildtype:"F",Escape:.00389},{mutant:"W",reference_site:374,Antibody:"REGN10933",wildtype:"F",Escape:.001843},{mutant:"Y",reference_site:374,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"A",reference_site:375,Antibody:"REGN10933",wildtype:"S",Escape:.007885},{mutant:"D",reference_site:375,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"E",reference_site:375,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"G",reference_site:375,Antibody:"REGN10933",wildtype:"S",Escape:.002157},{mutant:"H",reference_site:375,Antibody:"REGN10933",wildtype:"S",Escape:.001901},{mutant:"K",reference_site:375,Antibody:"REGN10933",wildtype:"S",Escape:.00172},{mutant:"N",reference_site:375,Antibody:"REGN10933",wildtype:"S",Escape:.002443},{mutant:"Q",reference_site:375,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"T",reference_site:375,Antibody:"REGN10933",wildtype:"S",Escape:.003739},{mutant:"C",reference_site:376,Antibody:"REGN10933",wildtype:"T",Escape:.002002},{mutant:"D",reference_site:376,Antibody:"REGN10933",wildtype:"T",Escape:.001335},{mutant:"F",reference_site:376,Antibody:"REGN10933",wildtype:"T",Escape:.003306},{mutant:"H",reference_site:376,Antibody:"REGN10933",wildtype:"T",Escape:.007557},{mutant:"I",reference_site:376,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"K",reference_site:376,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"L",reference_site:376,Antibody:"REGN10933",wildtype:"T",Escape:.001246},{mutant:"M",reference_site:376,Antibody:"REGN10933",wildtype:"T",Escape:.002863},{mutant:"N",reference_site:376,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"S",reference_site:376,Antibody:"REGN10933",wildtype:"T",Escape:.003082},{mutant:"V",reference_site:376,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"Y",reference_site:376,Antibody:"REGN10933",wildtype:"T",Escape:.002967},{mutant:"I",reference_site:377,Antibody:"REGN10933",wildtype:"F",Escape:.001696},{mutant:"L",reference_site:377,Antibody:"REGN10933",wildtype:"F",Escape:.001703},{mutant:"M",reference_site:377,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"V",reference_site:377,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"W",reference_site:377,Antibody:"REGN10933",wildtype:"F",Escape:.004081},{mutant:"A",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.003651},{mutant:"C",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.004364},{mutant:"D",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.003274},{mutant:"E",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.004713},{mutant:"H",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.001738},{mutant:"I",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.004027},{mutant:"L",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.00359},{mutant:"M",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.00203},{mutant:"N",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.006193},{mutant:"Q",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"R",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"S",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.00835},{mutant:"T",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.002197},{mutant:"V",reference_site:378,Antibody:"REGN10933",wildtype:"K",Escape:.002241},{mutant:"F",reference_site:380,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"W",reference_site:380,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"H",reference_site:381,Antibody:"REGN10933",wildtype:"G",Escape:.00343},{mutant:"K",reference_site:381,Antibody:"REGN10933",wildtype:"G",Escape:.00282},{mutant:"N",reference_site:381,Antibody:"REGN10933",wildtype:"G",Escape:.002796},{mutant:"Q",reference_site:381,Antibody:"REGN10933",wildtype:"G",Escape:.001594},{mutant:"R",reference_site:381,Antibody:"REGN10933",wildtype:"G",Escape:.003652},{mutant:"S",reference_site:381,Antibody:"REGN10933",wildtype:"G",Escape:.003241},{mutant:"C",reference_site:382,Antibody:"REGN10933",wildtype:"V",Escape:.008193},{mutant:"F",reference_site:382,Antibody:"REGN10933",wildtype:"V",Escape:.001625},{mutant:"I",reference_site:382,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"L",reference_site:382,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"T",reference_site:382,Antibody:"REGN10933",wildtype:"V",Escape:.003042},{mutant:"Y",reference_site:382,Antibody:"REGN10933",wildtype:"V",Escape:.002946},{mutant:"A",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:0},{mutant:"C",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.00199},{mutant:"D",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"E",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"H",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"I",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.003235},{mutant:"K",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.007428},{mutant:"L",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"M",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:0},{mutant:"N",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"P",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.001964},{mutant:"Q",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.005767},{mutant:"R",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.002759},{mutant:"T",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.001998},{mutant:"V",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.002022},{mutant:"Y",reference_site:383,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"A",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.00187},{mutant:"E",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.00157},{mutant:"F",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"G",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.007991},{mutant:"H",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"I",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.001899},{mutant:"K",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"L",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.003476},{mutant:"M",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"N",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.002042},{mutant:"Q",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.001861},{mutant:"R",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.003943},{mutant:"S",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.001868},{mutant:"T",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.001393},{mutant:"V",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"W",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.002968},{mutant:"Y",reference_site:384,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"A",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.00394},{mutant:"C",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.004476},{mutant:"D",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.004283},{mutant:"E",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.001809},{mutant:"F",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.00445},{mutant:"G",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.004254},{mutant:"H",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.01632},{mutant:"I",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.007029},{mutant:"K",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.003408},{mutant:"L",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.001842},{mutant:"M",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"N",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"P",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.002077},{mutant:"Q",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"R",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.001685},{mutant:"S",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"V",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"W",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.004109},{mutant:"Y",reference_site:385,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"A",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.04262},{mutant:"C",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.006415},{mutant:"D",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"E",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.006311},{mutant:"G",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"H",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"I",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.003842},{mutant:"L",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.003688},{mutant:"M",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"N",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.004503},{mutant:"Q",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"R",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"S",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"T",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.001721},{mutant:"V",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"Y",reference_site:386,Antibody:"REGN10933",wildtype:"K",Escape:.00848},{mutant:"I",reference_site:387,Antibody:"REGN10933",wildtype:"L",Escape:.001502},{mutant:"M",reference_site:387,Antibody:"REGN10933",wildtype:"L",Escape:.003673},{mutant:"A",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"D",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.001538},{mutant:"E",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"G",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.02515},{mutant:"H",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"K",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.001421},{mutant:"L",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.004575},{mutant:"M",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.001409},{mutant:"P",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"Q",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.00798},{mutant:"R",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.00145},{mutant:"S",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.004411},{mutant:"T",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"V",reference_site:388,Antibody:"REGN10933",wildtype:"N",Escape:.00497},{mutant:"A",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.001517},{mutant:"C",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.001973},{mutant:"E",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.005393},{mutant:"F",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.007667},{mutant:"G",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.003887},{mutant:"H",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"K",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"L",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.002837},{mutant:"M",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.00224},{mutant:"N",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.00635},{mutant:"Q",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"R",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.001856},{mutant:"S",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.005172},{mutant:"T",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"W",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.001984},{mutant:"Y",reference_site:389,Antibody:"REGN10933",wildtype:"D",Escape:.001952},{mutant:"A",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.002626},{mutant:"C",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.002474},{mutant:"D",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.002122},{mutant:"E",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.001687},{mutant:"F",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.003203},{mutant:"G",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.002354},{mutant:"H",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.004502},{mutant:"I",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"K",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.003078},{mutant:"M",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"N",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.005564},{mutant:"Q",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.005823},{mutant:"R",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.001427},{mutant:"S",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.001818},{mutant:"T",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.00339},{mutant:"V",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.00366},{mutant:"W",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.005661},{mutant:"Y",reference_site:390,Antibody:"REGN10933",wildtype:"L",Escape:.006224},{mutant:"A",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.00151},{mutant:"D",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.001125},{mutant:"E",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.001125},{mutant:"F",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.001125},{mutant:"G",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.001125},{mutant:"H",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.01063},{mutant:"I",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.001125},{mutant:"K",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.002404},{mutant:"L",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.005566},{mutant:"M",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.001207},{mutant:"N",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.001832},{mutant:"P",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.001125},{mutant:"Q",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.001125},{mutant:"R",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.003116},{mutant:"S",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.001192},{mutant:"T",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.003372},{mutant:"V",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.001125},{mutant:"W",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.002448},{mutant:"Y",reference_site:391,Antibody:"REGN10933",wildtype:"C",Escape:.001125},{mutant:"A",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"C",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.002509},{mutant:"H",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.002041},{mutant:"I",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.004088},{mutant:"L",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.003018},{mutant:"M",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"N",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.001167},{mutant:"P",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"S",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.004287},{mutant:"T",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.00222},{mutant:"V",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"W",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.002127},{mutant:"Y",reference_site:392,Antibody:"REGN10933",wildtype:"F",Escape:.002375},{mutant:"A",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.004713},{mutant:"C",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.003012},{mutant:"D",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.003164},{mutant:"E",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.0029},{mutant:"G",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.006014},{mutant:"H",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.0278},{mutant:"I",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.007566},{mutant:"K",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"L",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.04489},{mutant:"M",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.008542},{mutant:"N",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.006066},{mutant:"Q",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"R",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"S",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.001919},{mutant:"V",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.0107},{mutant:"Y",reference_site:393,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"A",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.001245},{mutant:"C",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.005474},{mutant:"D",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.005006},{mutant:"E",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"F",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.001475},{mutant:"G",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.003201},{mutant:"H",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"I",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.001727},{mutant:"K",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.005271},{mutant:"L",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.007092},{mutant:"M",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.006682},{mutant:"P",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.005256},{mutant:"Q",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.002588},{mutant:"R",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.007367},{mutant:"S",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"T",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"V",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.009163},{mutant:"W",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.006375},{mutant:"Y",reference_site:394,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"A",reference_site:395,Antibody:"REGN10933",wildtype:"V",Escape:.01227},{mutant:"G",reference_site:395,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"I",reference_site:395,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"L",reference_site:395,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"M",reference_site:395,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"C",reference_site:396,Antibody:"REGN10933",wildtype:"Y",Escape:.002532},{mutant:"F",reference_site:396,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"H",reference_site:396,Antibody:"REGN10933",wildtype:"Y",Escape:.001778},{mutant:"I",reference_site:396,Antibody:"REGN10933",wildtype:"Y",Escape:.009009},{mutant:"L",reference_site:396,Antibody:"REGN10933",wildtype:"Y",Escape:.004938},{mutant:"M",reference_site:396,Antibody:"REGN10933",wildtype:"Y",Escape:.01651},{mutant:"N",reference_site:396,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"S",reference_site:396,Antibody:"REGN10933",wildtype:"Y",Escape:.009857},{mutant:"T",reference_site:396,Antibody:"REGN10933",wildtype:"Y",Escape:.009786},{mutant:"V",reference_site:396,Antibody:"REGN10933",wildtype:"Y",Escape:.001233},{mutant:"W",reference_site:396,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"C",reference_site:397,Antibody:"REGN10933",wildtype:"A",Escape:.01531},{mutant:"I",reference_site:397,Antibody:"REGN10933",wildtype:"A",Escape:.003031},{mutant:"L",reference_site:397,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"V",reference_site:397,Antibody:"REGN10933",wildtype:"A",Escape:.007147},{mutant:"T",reference_site:399,Antibody:"REGN10933",wildtype:"S",Escape:.009562},{mutant:"I",reference_site:401,Antibody:"REGN10933",wildtype:"V",Escape:.02596},{mutant:"C",reference_site:402,Antibody:"REGN10933",wildtype:"I",Escape:.02017},{mutant:"L",reference_site:402,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"V",reference_site:402,Antibody:"REGN10933",wildtype:"I",Escape:.003531},{mutant:"A",reference_site:403,Antibody:"REGN10933",wildtype:"R",Escape:.003542},{mutant:"K",reference_site:403,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"M",reference_site:403,Antibody:"REGN10933",wildtype:"R",Escape:.002031},{mutant:"S",reference_site:403,Antibody:"REGN10933",wildtype:"R",Escape:.005701},{mutant:"T",reference_site:403,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"A",reference_site:404,Antibody:"REGN10933",wildtype:"G",Escape:.03622},{mutant:"K",reference_site:404,Antibody:"REGN10933",wildtype:"G",Escape:.003854},{mutant:"A",reference_site:405,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"E",reference_site:405,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"K",reference_site:405,Antibody:"REGN10933",wildtype:"D",Escape:.001272},{mutant:"N",reference_site:405,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"R",reference_site:405,Antibody:"REGN10933",wildtype:"D",Escape:.002249},{mutant:"S",reference_site:405,Antibody:"REGN10933",wildtype:"D",Escape:.004113},{mutant:"D",reference_site:406,Antibody:"REGN10933",wildtype:"E",Escape:.0149},{mutant:"Q",reference_site:406,Antibody:"REGN10933",wildtype:"E",Escape:.00711},{mutant:"W",reference_site:406,Antibody:"REGN10933",wildtype:"E",Escape:.3279},{mutant:"I",reference_site:407,Antibody:"REGN10933",wildtype:"V",Escape:.009413},{mutant:"L",reference_site:407,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"A",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.005431},{mutant:"C",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.002782},{mutant:"E",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"F",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.001537},{mutant:"G",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"H",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"K",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"L",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.01},{mutant:"P",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.01761},{mutant:"S",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"T",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.002651},{mutant:"V",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.001188},{mutant:"W",reference_site:408,Antibody:"REGN10933",wildtype:"R",Escape:.001866},{mutant:"E",reference_site:409,Antibody:"REGN10933",wildtype:"Q",Escape:.001811},{mutant:"V",reference_site:410,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"E",reference_site:411,Antibody:"REGN10933",wildtype:"A",Escape:.002655},{mutant:"G",reference_site:411,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"Q",reference_site:411,Antibody:"REGN10933",wildtype:"A",Escape:.002002},{mutant:"R",reference_site:411,Antibody:"REGN10933",wildtype:"A",Escape:.001282},{mutant:"S",reference_site:411,Antibody:"REGN10933",wildtype:"A",Escape:.002584},{mutant:"A",reference_site:413,Antibody:"REGN10933",wildtype:"G",Escape:.001515},{mutant:"C",reference_site:413,Antibody:"REGN10933",wildtype:"G",Escape:.001955},{mutant:"F",reference_site:413,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"H",reference_site:413,Antibody:"REGN10933",wildtype:"G",Escape:.001143},{mutant:"K",reference_site:413,Antibody:"REGN10933",wildtype:"G",Escape:.001555},{mutant:"L",reference_site:413,Antibody:"REGN10933",wildtype:"G",Escape:.001999},{mutant:"M",reference_site:413,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"N",reference_site:413,Antibody:"REGN10933",wildtype:"G",Escape:.002375},{mutant:"Q",reference_site:413,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"R",reference_site:413,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"S",reference_site:413,Antibody:"REGN10933",wildtype:"G",Escape:.00145},{mutant:"Y",reference_site:413,Antibody:"REGN10933",wildtype:"G",Escape:.002271},{mutant:"A",reference_site:414,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"C",reference_site:414,Antibody:"REGN10933",wildtype:"Q",Escape:.00167},{mutant:"E",reference_site:414,Antibody:"REGN10933",wildtype:"Q",Escape:.00656},{mutant:"G",reference_site:414,Antibody:"REGN10933",wildtype:"Q",Escape:.003598},{mutant:"I",reference_site:414,Antibody:"REGN10933",wildtype:"Q",Escape:.002024},{mutant:"K",reference_site:414,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"M",reference_site:414,Antibody:"REGN10933",wildtype:"Q",Escape:.004054},{mutant:"R",reference_site:414,Antibody:"REGN10933",wildtype:"Q",Escape:.005558},{mutant:"S",reference_site:414,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"T",reference_site:414,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"V",reference_site:414,Antibody:"REGN10933",wildtype:"Q",Escape:.008569},{mutant:"A",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.001183},{mutant:"D",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.004629},{mutant:"E",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.003268},{mutant:"G",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.0072},{mutant:"H",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.001562},{mutant:"I",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.004157},{mutant:"K",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.001538},{mutant:"M",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.00325},{mutant:"N",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"Q",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.001874},{mutant:"R",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"S",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.00208},{mutant:"V",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"Y",reference_site:415,Antibody:"REGN10933",wildtype:"T",Escape:.002138},{mutant:"A",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.02007},{mutant:"C",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.2703},{mutant:"D",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.7281},{mutant:"E",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.5641},{mutant:"F",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.8196},{mutant:"G",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.1216},{mutant:"H",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.337},{mutant:"I",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.01558},{mutant:"L",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.02618},{mutant:"M",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.04799},{mutant:"N",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.003173},{mutant:"P",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.05084},{mutant:"Q",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.02166},{mutant:"R",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.06988},{mutant:"S",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.009814},{mutant:"T",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.02103},{mutant:"V",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.02792},{mutant:"W",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.7221},{mutant:"Y",reference_site:417,Antibody:"REGN10933",wildtype:"K",Escape:.6782},{mutant:"V",reference_site:418,Antibody:"REGN10933",wildtype:"I",Escape:.00503},{mutant:"P",reference_site:419,Antibody:"REGN10933",wildtype:"A",Escape:.001679},{mutant:"S",reference_site:419,Antibody:"REGN10933",wildtype:"A",Escape:.00518},{mutant:"A",reference_site:420,Antibody:"REGN10933",wildtype:"D",Escape:.006901},{mutant:"E",reference_site:420,Antibody:"REGN10933",wildtype:"D",Escape:.005823},{mutant:"K",reference_site:420,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"M",reference_site:420,Antibody:"REGN10933",wildtype:"D",Escape:.002819},{mutant:"N",reference_site:420,Antibody:"REGN10933",wildtype:"D",Escape:.001544},{mutant:"Q",reference_site:420,Antibody:"REGN10933",wildtype:"D",Escape:.001301},{mutant:"R",reference_site:420,Antibody:"REGN10933",wildtype:"D",Escape:.003377},{mutant:"S",reference_site:420,Antibody:"REGN10933",wildtype:"D",Escape:.006546},{mutant:"F",reference_site:421,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"L",reference_site:421,Antibody:"REGN10933",wildtype:"Y",Escape:.003169},{mutant:"M",reference_site:421,Antibody:"REGN10933",wildtype:"Y",Escape:.01104},{mutant:"W",reference_site:421,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"H",reference_site:424,Antibody:"REGN10933",wildtype:"K",Escape:.002407},{mutant:"R",reference_site:424,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"I",reference_site:425,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"M",reference_site:425,Antibody:"REGN10933",wildtype:"L",Escape:.003249},{mutant:"V",reference_site:425,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"A",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"E",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"F",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.001901},{mutant:"G",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.003998},{mutant:"H",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.001856},{mutant:"I",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.001397},{mutant:"K",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"L",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.002679},{mutant:"M",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.004257},{mutant:"N",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.01054},{mutant:"P",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.004995},{mutant:"Q",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.008684},{mutant:"R",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"S",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.001663},{mutant:"T",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.001555},{mutant:"V",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.001866},{mutant:"W",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.001862},{mutant:"Y",reference_site:427,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"A",reference_site:428,Antibody:"REGN10933",wildtype:"D",Escape:.01055},{mutant:"E",reference_site:428,Antibody:"REGN10933",wildtype:"D",Escape:.0023},{mutant:"G",reference_site:428,Antibody:"REGN10933",wildtype:"D",Escape:.001184},{mutant:"H",reference_site:428,Antibody:"REGN10933",wildtype:"D",Escape:.001435},{mutant:"K",reference_site:428,Antibody:"REGN10933",wildtype:"D",Escape:.003002},{mutant:"N",reference_site:428,Antibody:"REGN10933",wildtype:"D",Escape:.001125},{mutant:"P",reference_site:428,Antibody:"REGN10933",wildtype:"D",Escape:.006857},{mutant:"Q",reference_site:428,Antibody:"REGN10933",wildtype:"D",Escape:.00193},{mutant:"R",reference_site:428,Antibody:"REGN10933",wildtype:"D",Escape:.001532},{mutant:"S",reference_site:428,Antibody:"REGN10933",wildtype:"D",Escape:.001408},{mutant:"T",reference_site:428,Antibody:"REGN10933",wildtype:"D",Escape:.01731},{mutant:"W",reference_site:429,Antibody:"REGN10933",wildtype:"F",Escape:.01048},{mutant:"A",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.002066},{mutant:"C",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.003223},{mutant:"F",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.001532},{mutant:"H",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.002503},{mutant:"I",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.001674},{mutant:"K",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"L",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.001809},{mutant:"M",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"N",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.001934},{mutant:"Q",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"R",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"S",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.006606},{mutant:"V",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.00204},{mutant:"W",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.005524},{mutant:"Y",reference_site:430,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"I",reference_site:433,Antibody:"REGN10933",wildtype:"V",Escape:.003034},{mutant:"F",reference_site:434,Antibody:"REGN10933",wildtype:"I",Escape:.00445},{mutant:"L",reference_site:434,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"M",reference_site:434,Antibody:"REGN10933",wildtype:"I",Escape:.001749},{mutant:"V",reference_site:434,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"W",reference_site:434,Antibody:"REGN10933",wildtype:"I",Escape:.001645},{mutant:"Y",reference_site:434,Antibody:"REGN10933",wildtype:"I",Escape:.002286},{mutant:"S",reference_site:435,Antibody:"REGN10933",wildtype:"A",Escape:.004747},{mutant:"T",reference_site:435,Antibody:"REGN10933",wildtype:"A",Escape:.006688},{mutant:"P",reference_site:437,Antibody:"REGN10933",wildtype:"N",Escape:.03572},{mutant:"A",reference_site:438,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"T",reference_site:438,Antibody:"REGN10933",wildtype:"S",Escape:.01015},{mutant:"D",reference_site:439,Antibody:"REGN10933",wildtype:"N",Escape:.001603},{mutant:"H",reference_site:439,Antibody:"REGN10933",wildtype:"N",Escape:.01092},{mutant:"K",reference_site:439,Antibody:"REGN10933",wildtype:"N",Escape:0},{mutant:"L",reference_site:439,Antibody:"REGN10933",wildtype:"N",Escape:.00191},{mutant:"M",reference_site:439,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"Q",reference_site:439,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"S",reference_site:439,Antibody:"REGN10933",wildtype:"N",Escape:.002249},{mutant:"T",reference_site:439,Antibody:"REGN10933",wildtype:"N",Escape:.01552},{mutant:"V",reference_site:439,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"Y",reference_site:439,Antibody:"REGN10933",wildtype:"N",Escape:.00194},{mutant:"A",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.004704},{mutant:"C",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.001966},{mutant:"D",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"E",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.004912},{mutant:"F",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.004529},{mutant:"G",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.001559},{mutant:"H",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.002473},{mutant:"I",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.008019},{mutant:"K",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.004257},{mutant:"L",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.003439},{mutant:"M",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.002224},{mutant:"P",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.009207},{mutant:"Q",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.005334},{mutant:"R",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.006884},{mutant:"S",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.004851},{mutant:"T",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.001777},{mutant:"V",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"Y",reference_site:440,Antibody:"REGN10933",wildtype:"N",Escape:.002811},{mutant:"A",reference_site:441,Antibody:"REGN10933",wildtype:"L",Escape:.001702},{mutant:"F",reference_site:441,Antibody:"REGN10933",wildtype:"L",Escape:.002342},{mutant:"H",reference_site:441,Antibody:"REGN10933",wildtype:"L",Escape:.05488},{mutant:"I",reference_site:441,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"Q",reference_site:441,Antibody:"REGN10933",wildtype:"L",Escape:.001635},{mutant:"R",reference_site:441,Antibody:"REGN10933",wildtype:"L",Escape:.002249},{mutant:"S",reference_site:441,Antibody:"REGN10933",wildtype:"L",Escape:.0021},{mutant:"V",reference_site:441,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"W",reference_site:441,Antibody:"REGN10933",wildtype:"L",Escape:.00319},{mutant:"A",reference_site:443,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"C",reference_site:443,Antibody:"REGN10933",wildtype:"S",Escape:.002741},{mutant:"G",reference_site:443,Antibody:"REGN10933",wildtype:"S",Escape:.002515},{mutant:"N",reference_site:443,Antibody:"REGN10933",wildtype:"S",Escape:.00161},{mutant:"Q",reference_site:443,Antibody:"REGN10933",wildtype:"S",Escape:.0038},{mutant:"T",reference_site:443,Antibody:"REGN10933",wildtype:"S",Escape:.002989},{mutant:"V",reference_site:443,Antibody:"REGN10933",wildtype:"S",Escape:.00311},{mutant:"Y",reference_site:443,Antibody:"REGN10933",wildtype:"S",Escape:.00224},{mutant:"A",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.0019},{mutant:"C",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.005222},{mutant:"D",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.009312},{mutant:"E",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"F",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"G",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.00635},{mutant:"H",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.004244},{mutant:"I",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"L",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"M",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"N",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.002964},{mutant:"P",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.001895},{mutant:"Q",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.003485},{mutant:"R",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.001655},{mutant:"S",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"T",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"V",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"W",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.003745},{mutant:"Y",reference_site:444,Antibody:"REGN10933",wildtype:"K",Escape:.00183},{mutant:"A",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.007457},{mutant:"C",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"D",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"E",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.002399},{mutant:"F",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"G",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"H",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"I",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"K",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"L",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.003621},{mutant:"M",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.005325},{mutant:"N",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"P",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.009023},{mutant:"Q",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.001458},{mutant:"R",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.001257},{mutant:"S",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.006363},{mutant:"T",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"W",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.0101},{mutant:"Y",reference_site:445,Antibody:"REGN10933",wildtype:"V",Escape:.002262},{mutant:"A",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.003839},{mutant:"C",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.01658},{mutant:"D",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.002491},{mutant:"E",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"F",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.00398},{mutant:"H",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.002146},{mutant:"I",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.004254},{mutant:"K",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.002656},{mutant:"L",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"M",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.01291},{mutant:"N",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.001411},{mutant:"P",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.004673},{mutant:"Q",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.001994},{mutant:"R",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.008336},{mutant:"S",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.002072},{mutant:"T",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.00268},{mutant:"V",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"W",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.009745},{mutant:"Y",reference_site:446,Antibody:"REGN10933",wildtype:"G",Escape:.001247},{mutant:"A",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.001797},{mutant:"C",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.004508},{mutant:"D",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"E",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"F",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.0156},{mutant:"H",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.006635},{mutant:"I",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.003225},{mutant:"K",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"L",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.009308},{mutant:"M",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.005232},{mutant:"N",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.003841},{mutant:"P",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.001271},{mutant:"Q",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.001301},{mutant:"R",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"S",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"T",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.002406},{mutant:"V",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.005405},{mutant:"Y",reference_site:447,Antibody:"REGN10933",wildtype:"G",Escape:.002186},{mutant:"A",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.01307},{mutant:"C",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.01508},{mutant:"D",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.002616},{mutant:"E",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.01198},{mutant:"G",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"H",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.002236},{mutant:"K",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.004289},{mutant:"P",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"Q",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.003873},{mutant:"R",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.005607},{mutant:"S",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"T",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.005167},{mutant:"V",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.004126},{mutant:"Y",reference_site:448,Antibody:"REGN10933",wildtype:"N",Escape:.002715},{mutant:"A",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.002041},{mutant:"C",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.002322},{mutant:"D",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.002331},{mutant:"E",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.002591},{mutant:"F",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"G",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"H",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.003523},{mutant:"I",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.006252},{mutant:"K",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"L",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.001631},{mutant:"M",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.001674},{mutant:"N",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"P",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"Q",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.006315},{mutant:"R",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.001612},{mutant:"S",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"T",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.007334},{mutant:"V",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"W",reference_site:449,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"A",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"C",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.0117},{mutant:"D",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.001216},{mutant:"E",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.00131},{mutant:"F",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.006864},{mutant:"G",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"H",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.002372},{mutant:"I",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.01088},{mutant:"K",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"L",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.005545},{mutant:"M",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.00174},{mutant:"P",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.00321},{mutant:"Q",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"R",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"S",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.005766},{mutant:"T",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.002763},{mutant:"V",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.00695},{mutant:"W",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.003278},{mutant:"Y",reference_site:450,Antibody:"REGN10933",wildtype:"N",Escape:.002786},{mutant:"F",reference_site:451,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"H",reference_site:451,Antibody:"REGN10933",wildtype:"Y",Escape:.001707},{mutant:"I",reference_site:451,Antibody:"REGN10933",wildtype:"Y",Escape:.001743},{mutant:"L",reference_site:451,Antibody:"REGN10933",wildtype:"Y",Escape:.00317},{mutant:"M",reference_site:451,Antibody:"REGN10933",wildtype:"Y",Escape:.001821},{mutant:"Q",reference_site:451,Antibody:"REGN10933",wildtype:"Y",Escape:.001831},{mutant:"A",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"C",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.006542},{mutant:"D",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.006547},{mutant:"E",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.001643},{mutant:"F",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"G",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.008469},{mutant:"H",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.002567},{mutant:"I",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.03244},{mutant:"K",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"M",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.001951},{mutant:"N",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.00915},{mutant:"Q",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.002714},{mutant:"R",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"S",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.004886},{mutant:"T",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"V",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.001666},{mutant:"W",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.001802},{mutant:"Y",reference_site:452,Antibody:"REGN10933",wildtype:"L",Escape:.004895},{mutant:"A",reference_site:453,Antibody:"REGN10933",wildtype:"Y",Escape:.5938},{mutant:"F",reference_site:453,Antibody:"REGN10933",wildtype:"Y",Escape:.5735},{mutant:"H",reference_site:453,Antibody:"REGN10933",wildtype:"Y",Escape:.3966},{mutant:"K",reference_site:453,Antibody:"REGN10933",wildtype:"Y",Escape:.6957},{mutant:"M",reference_site:453,Antibody:"REGN10933",wildtype:"Y",Escape:.5563},{mutant:"R",reference_site:453,Antibody:"REGN10933",wildtype:"Y",Escape:.6462},{mutant:"S",reference_site:453,Antibody:"REGN10933",wildtype:"Y",Escape:.198},{mutant:"V",reference_site:453,Antibody:"REGN10933",wildtype:"Y",Escape:.4383},{mutant:"A",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.7148},{mutant:"C",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.3907},{mutant:"E",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.9904},{mutant:"F",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.3624},{mutant:"G",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.8482},{mutant:"H",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.5042},{mutant:"I",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.008348},{mutant:"M",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.004371},{mutant:"N",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.5334},{mutant:"P",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.1836},{mutant:"R",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.8508},{mutant:"S",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.5444},{mutant:"T",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.03796},{mutant:"V",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"W",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.5742},{mutant:"Y",reference_site:455,Antibody:"REGN10933",wildtype:"L",Escape:.2873},{mutant:"A",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.4065},{mutant:"C",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.002679},{mutant:"G",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.6728},{mutant:"H",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.002305},{mutant:"I",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"K",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.3117},{mutant:"L",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"Q",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.002258},{mutant:"R",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"T",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.0112},{mutant:"V",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.007879},{mutant:"W",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"Y",reference_site:456,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"A",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"D",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"E",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.001663},{mutant:"F",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.001692},{mutant:"G",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.001442},{mutant:"H",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.006514},{mutant:"I",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.006737},{mutant:"L",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"M",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.001637},{mutant:"N",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.001217},{mutant:"P",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"Q",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.002847},{mutant:"R",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.00355},{mutant:"S",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.002449},{mutant:"T",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.004075},{mutant:"V",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.003019},{mutant:"W",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.002754},{mutant:"Y",reference_site:458,Antibody:"REGN10933",wildtype:"K",Escape:.002735},{mutant:"A",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.001313},{mutant:"C",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.002466},{mutant:"D",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.001382},{mutant:"E",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.001286},{mutant:"F",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.006412},{mutant:"G",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.008479},{mutant:"H",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.002589},{mutant:"I",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.003393},{mutant:"K",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.002885},{mutant:"L",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.003232},{mutant:"M",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"N",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"P",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.002298},{mutant:"Q",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.001278},{mutant:"R",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.003568},{mutant:"T",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.003028},{mutant:"V",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"Y",reference_site:459,Antibody:"REGN10933",wildtype:"S",Escape:.001781},{mutant:"A",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.003154},{mutant:"C",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"D",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"E",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.005124},{mutant:"F",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.002559},{mutant:"G",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.02696},{mutant:"H",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"I",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"K",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.001719},{mutant:"L",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"M",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.00433},{mutant:"P",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.001868},{mutant:"Q",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.002118},{mutant:"R",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"S",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"T",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.001295},{mutant:"V",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"Y",reference_site:460,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"I",reference_site:461,Antibody:"REGN10933",wildtype:"L",Escape:.01166},{mutant:"M",reference_site:461,Antibody:"REGN10933",wildtype:"L",Escape:.002249},{mutant:"V",reference_site:461,Antibody:"REGN10933",wildtype:"L",Escape:.00151},{mutant:"A",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.002923},{mutant:"C",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"D",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"E",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.0084},{mutant:"F",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.005292},{mutant:"G",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.007069},{mutant:"H",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"I",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.01133},{mutant:"L",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"M",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"N",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"Q",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"R",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"S",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"T",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"V",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"Y",reference_site:462,Antibody:"REGN10933",wildtype:"K",Escape:.007588},{mutant:"A",reference_site:463,Antibody:"REGN10933",wildtype:"P",Escape:.001945},{mutant:"A",reference_site:464,Antibody:"REGN10933",wildtype:"F",Escape:.02393},{mutant:"G",reference_site:464,Antibody:"REGN10933",wildtype:"F",Escape:.001727},{mutant:"H",reference_site:464,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"L",reference_site:464,Antibody:"REGN10933",wildtype:"F",Escape:.01232},{mutant:"M",reference_site:464,Antibody:"REGN10933",wildtype:"F",Escape:.0032},{mutant:"N",reference_site:464,Antibody:"REGN10933",wildtype:"F",Escape:.002662},{mutant:"Q",reference_site:464,Antibody:"REGN10933",wildtype:"F",Escape:.003589},{mutant:"S",reference_site:464,Antibody:"REGN10933",wildtype:"F",Escape:.01926},{mutant:"W",reference_site:464,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"Y",reference_site:464,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"D",reference_site:465,Antibody:"REGN10933",wildtype:"E",Escape:.02096},{mutant:"G",reference_site:465,Antibody:"REGN10933",wildtype:"E",Escape:.001156},{mutant:"H",reference_site:465,Antibody:"REGN10933",wildtype:"E",Escape:.002581},{mutant:"Q",reference_site:465,Antibody:"REGN10933",wildtype:"E",Escape:.004178},{mutant:"H",reference_site:466,Antibody:"REGN10933",wildtype:"R",Escape:.005082},{mutant:"K",reference_site:466,Antibody:"REGN10933",wildtype:"R",Escape:.001125},{mutant:"Q",reference_site:466,Antibody:"REGN10933",wildtype:"R",Escape:.003193},{mutant:"A",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"C",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.002398},{mutant:"D",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"E",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"G",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.008893},{mutant:"H",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.02065},{mutant:"K",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.007687},{mutant:"L",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.001587},{mutant:"M",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.002781},{mutant:"N",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.007256},{mutant:"P",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.006198},{mutant:"Q",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"R",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.003825},{mutant:"S",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.001713},{mutant:"T",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"V",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.003451},{mutant:"Y",reference_site:468,Antibody:"REGN10933",wildtype:"I",Escape:.007172},{mutant:"A",reference_site:469,Antibody:"REGN10933",wildtype:"S",Escape:.006767},{mutant:"C",reference_site:469,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"D",reference_site:469,Antibody:"REGN10933",wildtype:"S",Escape:.002845},{mutant:"E",reference_site:469,Antibody:"REGN10933",wildtype:"S",Escape:.001534},{mutant:"G",reference_site:469,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"K",reference_site:469,Antibody:"REGN10933",wildtype:"S",Escape:.001254},{mutant:"N",reference_site:469,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"Q",reference_site:469,Antibody:"REGN10933",wildtype:"S",Escape:.002601},{mutant:"R",reference_site:469,Antibody:"REGN10933",wildtype:"S",Escape:.002284},{mutant:"T",reference_site:469,Antibody:"REGN10933",wildtype:"S",Escape:.00435},{mutant:"A",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"C",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"D",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.003164},{mutant:"E",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"F",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:8249e-7},{mutant:"G",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.003001},{mutant:"H",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.004827},{mutant:"I",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"K",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"L",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.004241},{mutant:"M",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"N",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.005147},{mutant:"Q",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.01181},{mutant:"R",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"S",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"V",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"Y",reference_site:470,Antibody:"REGN10933",wildtype:"T",Escape:.002692},{mutant:"A",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"C",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.002881},{mutant:"D",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.00135},{mutant:"F",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.002299},{mutant:"G",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.001826},{mutant:"H",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.00635},{mutant:"I",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.001782},{mutant:"K",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.004105},{mutant:"L",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"M",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.003797},{mutant:"N",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"P",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.002007},{mutant:"Q",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"R",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.002144},{mutant:"S",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.00197},{mutant:"T",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"V",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.00189},{mutant:"Y",reference_site:471,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"A",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.004343},{mutant:"C",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.05317},{mutant:"D",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.4552},{mutant:"E",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.02677},{mutant:"F",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.00309},{mutant:"G",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.122},{mutant:"H",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.01257},{mutant:"K",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.07492},{mutant:"L",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"M",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"N",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.02899},{mutant:"P",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.002321},{mutant:"Q",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.01685},{mutant:"S",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.01145},{mutant:"T",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.002404},{mutant:"V",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.001125},{mutant:"W",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.001615},{mutant:"Y",reference_site:472,Antibody:"REGN10933",wildtype:"I",Escape:.006716},{mutant:"A",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.006586},{mutant:"C",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.1092},{mutant:"E",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.002576},{mutant:"F",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.004184},{mutant:"H",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"I",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"L",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"M",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.006661},{mutant:"N",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.006545},{mutant:"Q",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.003111},{mutant:"S",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.006958},{mutant:"T",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.004548},{mutant:"V",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"W",reference_site:473,Antibody:"REGN10933",wildtype:"Y",Escape:.003582},{mutant:"A",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.001193},{mutant:"D",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.0116},{mutant:"E",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.002272},{mutant:"G",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.001264},{mutant:"H",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.002296},{mutant:"K",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.001202},{mutant:"M",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.002318},{mutant:"N",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.007816},{mutant:"P",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.003435},{mutant:"R",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.005652},{mutant:"S",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.005187},{mutant:"T",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.002536},{mutant:"V",reference_site:474,Antibody:"REGN10933",wildtype:"Q",Escape:.003124},{mutant:"C",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.01121},{mutant:"D",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.381},{mutant:"E",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.02308},{mutant:"F",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.002726},{mutant:"G",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.007353},{mutant:"I",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.008655},{mutant:"K",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.4288},{mutant:"L",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.01219},{mutant:"M",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.006622},{mutant:"N",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.9107},{mutant:"Q",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.005445},{mutant:"R",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.01739},{mutant:"S",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.01052},{mutant:"T",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.008823},{mutant:"V",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.001403},{mutant:"Y",reference_site:475,Antibody:"REGN10933",wildtype:"A",Escape:.005608},{mutant:"A",reference_site:476,Antibody:"REGN10933",wildtype:"G",Escape:.002267},{mutant:"D",reference_site:476,Antibody:"REGN10933",wildtype:"G",Escape:.8944},{mutant:"E",reference_site:476,Antibody:"REGN10933",wildtype:"G",Escape:.8074},{mutant:"H",reference_site:476,Antibody:"REGN10933",wildtype:"G",Escape:.002195},{mutant:"K",reference_site:476,Antibody:"REGN10933",wildtype:"G",Escape:.4338},{mutant:"N",reference_site:476,Antibody:"REGN10933",wildtype:"G",Escape:.2345},{mutant:"Q",reference_site:476,Antibody:"REGN10933",wildtype:"G",Escape:.01047},{mutant:"R",reference_site:476,Antibody:"REGN10933",wildtype:"G",Escape:.4691},{mutant:"S",reference_site:476,Antibody:"REGN10933",wildtype:"G",Escape:.03826},{mutant:"T",reference_site:476,Antibody:"REGN10933",wildtype:"G",Escape:.004044},{mutant:"A",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.001659},{mutant:"C",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.0259},{mutant:"D",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.01469},{mutant:"F",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.07464},{mutant:"G",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"H",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.002249},{mutant:"I",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.005487},{mutant:"L",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.01434},{mutant:"N",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.003468},{mutant:"P",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.009823},{mutant:"Q",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"R",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.002008},{mutant:"T",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.001374},{mutant:"V",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.005093},{mutant:"W",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.002249},{mutant:"Y",reference_site:477,Antibody:"REGN10933",wildtype:"S",Escape:.01015},{mutant:"A",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.002078},{mutant:"C",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.001939},{mutant:"D",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.008733},{mutant:"E",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.002553},{mutant:"F",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.00151},{mutant:"G",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.007115},{mutant:"H",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"I",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"K",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"L",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.002384},{mutant:"M",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"N",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.005068},{mutant:"P",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.007186},{mutant:"Q",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"R",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"S",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"V",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.002492},{mutant:"W",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.01131},{mutant:"Y",reference_site:478,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"A",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"C",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"D",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"E",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"F",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"G",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.001175},{mutant:"H",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"I",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.003043},{mutant:"K",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"L",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.008205},{mutant:"M",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.008047},{mutant:"N",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"Q",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"R",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.01098},{mutant:"S",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.002001},{mutant:"T",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.002465},{mutant:"V",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"Y",reference_site:479,Antibody:"REGN10933",wildtype:"P",Escape:.001591},{mutant:"A",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.004697},{mutant:"C",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.004891},{mutant:"D",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.003158},{mutant:"E",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"F",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.002724},{mutant:"G",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.001637},{mutant:"H",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.006419},{mutant:"I",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.002269},{mutant:"K",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.002555},{mutant:"L",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.004965},{mutant:"M",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.003559},{mutant:"P",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.002351},{mutant:"Q",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"R",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.006744},{mutant:"S",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.00264},{mutant:"T",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.005894},{mutant:"V",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.07559},{mutant:"Y",reference_site:481,Antibody:"REGN10933",wildtype:"N",Escape:.01035},{mutant:"A",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"C",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.004872},{mutant:"D",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.001343},{mutant:"F",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.002704},{mutant:"H",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.005388},{mutant:"K",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.001907},{mutant:"L",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.01427},{mutant:"N",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.005791},{mutant:"P",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.01997},{mutant:"Q",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"R",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.004182},{mutant:"S",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.001607},{mutant:"T",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.003632},{mutant:"Y",reference_site:482,Antibody:"REGN10933",wildtype:"G",Escape:.01378},{mutant:"A",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.003277},{mutant:"C",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.002863},{mutant:"D",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.001419},{mutant:"E",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.001718},{mutant:"F",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"G",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.007039},{mutant:"H",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.002291},{mutant:"I",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"K",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.003878},{mutant:"L",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"M",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"N",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.0017},{mutant:"Q",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.007235},{mutant:"R",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.001973},{mutant:"S",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"T",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"W",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.001401},{mutant:"Y",reference_site:483,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"A",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.01316},{mutant:"C",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.04464},{mutant:"D",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"F",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.4695},{mutant:"G",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.00712},{mutant:"H",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.005499},{mutant:"I",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.5415},{mutant:"K",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.008034},{mutant:"L",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.5425},{mutant:"M",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.03207},{mutant:"N",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.00912},{mutant:"P",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.007114},{mutant:"Q",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.003081},{mutant:"R",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.01758},{mutant:"S",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"T",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.009118},{mutant:"V",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.5552},{mutant:"W",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.2418},{mutant:"Y",reference_site:484,Antibody:"REGN10933",wildtype:"E",Escape:.5288},{mutant:"A",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.001377},{mutant:"C",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.02782},{mutant:"D",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.01701},{mutant:"E",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.03081},{mutant:"H",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.01514},{mutant:"K",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"M",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.01349},{mutant:"N",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.01286},{mutant:"P",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.8925},{mutant:"Q",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"R",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.008563},{mutant:"S",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.01071},{mutant:"T",reference_site:485,Antibody:"REGN10933",wildtype:"G",Escape:.1827},{mutant:"A",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.9669},{mutant:"C",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.9307},{mutant:"D",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.9834},{mutant:"E",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.9494},{mutant:"G",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.9806},{mutant:"H",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.509},{mutant:"I",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.8248},{mutant:"K",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.9875},{mutant:"L",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.2666},{mutant:"M",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.2303},{mutant:"N",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.9639},{mutant:"P",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.9648},{mutant:"Q",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.9318},{mutant:"R",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.9549},{mutant:"S",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.9704},{mutant:"T",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.9634},{mutant:"V",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.943},{mutant:"W",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"Y",reference_site:486,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"A",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.01089},{mutant:"D",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.8188},{mutant:"E",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.9573},{mutant:"F",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.9566},{mutant:"G",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.001438},{mutant:"H",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.003854},{mutant:"K",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.6412},{mutant:"L",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.802},{mutant:"M",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.614},{mutant:"Q",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.02762},{mutant:"R",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.9482},{mutant:"S",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.008926},{mutant:"T",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.6334},{mutant:"Y",reference_site:487,Antibody:"REGN10933",wildtype:"N",Escape:.913},{mutant:"F",reference_site:489,Antibody:"REGN10933",wildtype:"Y",Escape:.01891},{mutant:"H",reference_site:489,Antibody:"REGN10933",wildtype:"Y",Escape:.9402},{mutant:"I",reference_site:489,Antibody:"REGN10933",wildtype:"Y",Escape:.794},{mutant:"L",reference_site:489,Antibody:"REGN10933",wildtype:"Y",Escape:.748},{mutant:"M",reference_site:489,Antibody:"REGN10933",wildtype:"Y",Escape:.5029},{mutant:"Q",reference_site:489,Antibody:"REGN10933",wildtype:"Y",Escape:.8957},{mutant:"V",reference_site:489,Antibody:"REGN10933",wildtype:"Y",Escape:.9067},{mutant:"W",reference_site:489,Antibody:"REGN10933",wildtype:"Y",Escape:.7384},{mutant:"A",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"C",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.003032},{mutant:"D",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"E",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"G",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"H",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"I",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.004915},{mutant:"K",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.001312},{mutant:"L",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.008067},{mutant:"M",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.01036},{mutant:"N",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"P",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"Q",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.02526},{mutant:"R",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.005166},{mutant:"S",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.001612},{mutant:"T",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"V",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.003701},{mutant:"W",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.001758},{mutant:"Y",reference_site:490,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"F",reference_site:492,Antibody:"REGN10933",wildtype:"L",Escape:.001883},{mutant:"I",reference_site:492,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"V",reference_site:492,Antibody:"REGN10933",wildtype:"L",Escape:.007061},{mutant:"A",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.08755},{mutant:"C",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.6059},{mutant:"D",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.7925},{mutant:"E",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.7195},{mutant:"F",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.4491},{mutant:"G",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.03218},{mutant:"H",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.195},{mutant:"I",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.06399},{mutant:"K",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.6328},{mutant:"L",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.1787},{mutant:"M",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.02785},{mutant:"N",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"R",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.1046},{mutant:"S",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.04426},{mutant:"T",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.006014},{mutant:"V",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.026},{mutant:"W",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.4258},{mutant:"Y",reference_site:493,Antibody:"REGN10933",wildtype:"Q",Escape:.6379},{mutant:"A",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"D",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.01418},{mutant:"F",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"G",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.002423},{mutant:"H",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"I",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.009906},{mutant:"K",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"M",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.003681},{mutant:"N",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"P",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.004439},{mutant:"R",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.003385},{mutant:"T",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.002181},{mutant:"V",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.005876},{mutant:"W",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.003241},{mutant:"Y",reference_site:494,Antibody:"REGN10933",wildtype:"S",Escape:.004638},{mutant:"A",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"C",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.006216},{mutant:"D",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"E",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.00469},{mutant:"F",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.002095},{mutant:"H",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.006929},{mutant:"I",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.003704},{mutant:"K",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.01085},{mutant:"L",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.006741},{mutant:"M",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.003109},{mutant:"N",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.00168},{mutant:"Q",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"R",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"S",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.001977},{mutant:"T",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"V",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.02201},{mutant:"W",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.002074},{mutant:"Y",reference_site:496,Antibody:"REGN10933",wildtype:"G",Escape:.002492},{mutant:"A",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"C",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.002434},{mutant:"D",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.004202},{mutant:"E",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"F",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"G",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"H",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.003255},{mutant:"I",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.008501},{mutant:"K",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"L",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.002896},{mutant:"M",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"N",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"R",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"S",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001265},{mutant:"T",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"V",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001353},{mutant:"W",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"Y",reference_site:498,Antibody:"REGN10933",wildtype:"Q",Escape:.001125},{mutant:"A",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"C",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.00184},{mutant:"D",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"E",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.001652},{mutant:"G",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.002041},{mutant:"H",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.002233},{mutant:"L",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.003719},{mutant:"M",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.003997},{mutant:"N",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.01884},{mutant:"Q",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.003581},{mutant:"R",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.001179},{mutant:"S",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.001302},{mutant:"T",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"V",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.002691},{mutant:"Y",reference_site:499,Antibody:"REGN10933",wildtype:"P",Escape:.00227},{mutant:"A",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.007481},{mutant:"C",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.00217},{mutant:"D",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.002043},{mutant:"E",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"F",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.003602},{mutant:"G",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"H",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"I",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.001448},{mutant:"K",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"L",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.003235},{mutant:"M",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.006565},{mutant:"N",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"P",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.005298},{mutant:"Q",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.005089},{mutant:"R",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"S",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.003401},{mutant:"V",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"W",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.00438},{mutant:"Y",reference_site:500,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"A",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.00639},{mutant:"C",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.001679},{mutant:"F",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"G",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.002519},{mutant:"H",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.01035},{mutant:"I",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.002844},{mutant:"L",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"M",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.006474},{mutant:"P",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.0021},{mutant:"Q",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.002504},{mutant:"R",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.001189},{mutant:"S",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.003638},{mutant:"T",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.009383},{mutant:"V",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.01264},{mutant:"W",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.001125},{mutant:"Y",reference_site:501,Antibody:"REGN10933",wildtype:"N",Escape:.003267},{mutant:"A",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"C",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"D",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"E",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.001301},{mutant:"F",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"G",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.002287},{mutant:"H",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"I",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"K",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"L",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"M",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.001912},{mutant:"N",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.003106},{mutant:"Q",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.002376},{mutant:"R",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"S",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.009509},{mutant:"T",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.00209},{mutant:"W",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.002266},{mutant:"Y",reference_site:503,Antibody:"REGN10933",wildtype:"V",Escape:.005608},{mutant:"A",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.001424},{mutant:"C",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.002034},{mutant:"D",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.002557},{mutant:"E",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.00337},{mutant:"F",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.004482},{mutant:"H",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"I",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"K",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"L",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.003616},{mutant:"M",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.001462},{mutant:"N",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.001592},{mutant:"P",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"Q",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.002067},{mutant:"R",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"S",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.003873},{mutant:"T",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"V",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.007605},{mutant:"W",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.001161},{mutant:"Y",reference_site:504,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"F",reference_site:505,Antibody:"REGN10933",wildtype:"Y",Escape:.003488},{mutant:"H",reference_site:505,Antibody:"REGN10933",wildtype:"Y",Escape:.002066},{mutant:"M",reference_site:505,Antibody:"REGN10933",wildtype:"Y",Escape:.009064},{mutant:"N",reference_site:505,Antibody:"REGN10933",wildtype:"Y",Escape:.002208},{mutant:"Q",reference_site:505,Antibody:"REGN10933",wildtype:"Y",Escape:.003862},{mutant:"W",reference_site:505,Antibody:"REGN10933",wildtype:"Y",Escape:.00626},{mutant:"A",reference_site:506,Antibody:"REGN10933",wildtype:"Q",Escape:.00329},{mutant:"E",reference_site:506,Antibody:"REGN10933",wildtype:"Q",Escape:.002471},{mutant:"H",reference_site:506,Antibody:"REGN10933",wildtype:"Q",Escape:.02819},{mutant:"N",reference_site:506,Antibody:"REGN10933",wildtype:"Q",Escape:.006009},{mutant:"A",reference_site:507,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"A",reference_site:508,Antibody:"REGN10933",wildtype:"Y",Escape:.0101},{mutant:"F",reference_site:508,Antibody:"REGN10933",wildtype:"Y",Escape:.003699},{mutant:"H",reference_site:508,Antibody:"REGN10933",wildtype:"Y",Escape:.001125},{mutant:"M",reference_site:508,Antibody:"REGN10933",wildtype:"Y",Escape:.002389},{mutant:"N",reference_site:508,Antibody:"REGN10933",wildtype:"Y",Escape:.003448},{mutant:"T",reference_site:508,Antibody:"REGN10933",wildtype:"Y",Escape:.003477},{mutant:"V",reference_site:508,Antibody:"REGN10933",wildtype:"Y",Escape:.001704},{mutant:"W",reference_site:508,Antibody:"REGN10933",wildtype:"Y",Escape:.001849},{mutant:"I",reference_site:510,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"I",reference_site:512,Antibody:"REGN10933",wildtype:"V",Escape:.001146},{mutant:"I",reference_site:513,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"M",reference_site:513,Antibody:"REGN10933",wildtype:"L",Escape:.003567},{mutant:"A",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.001686},{mutant:"C",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"F",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"G",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.005846},{mutant:"H",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.002725},{mutant:"I",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"K",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.004213},{mutant:"L",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.01496},{mutant:"M",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.0138},{mutant:"N",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.002116},{mutant:"Q",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"R",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.002047},{mutant:"T",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"V",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.003457},{mutant:"W",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"Y",reference_site:514,Antibody:"REGN10933",wildtype:"S",Escape:.005142},{mutant:"L",reference_site:515,Antibody:"REGN10933",wildtype:"F",Escape:.001479},{mutant:"M",reference_site:515,Antibody:"REGN10933",wildtype:"F",Escape:.001125},{mutant:"D",reference_site:516,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"H",reference_site:516,Antibody:"REGN10933",wildtype:"E",Escape:.01644},{mutant:"K",reference_site:516,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"N",reference_site:516,Antibody:"REGN10933",wildtype:"E",Escape:.001831},{mutant:"P",reference_site:516,Antibody:"REGN10933",wildtype:"E",Escape:.001125},{mutant:"R",reference_site:516,Antibody:"REGN10933",wildtype:"E",Escape:.001541},{mutant:"S",reference_site:516,Antibody:"REGN10933",wildtype:"E",Escape:.003446},{mutant:"T",reference_site:516,Antibody:"REGN10933",wildtype:"E",Escape:.002249},{mutant:"E",reference_site:517,Antibody:"REGN10933",wildtype:"L",Escape:.02608},{mutant:"H",reference_site:517,Antibody:"REGN10933",wildtype:"L",Escape:.003658},{mutant:"I",reference_site:517,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"K",reference_site:517,Antibody:"REGN10933",wildtype:"L",Escape:.0016},{mutant:"M",reference_site:517,Antibody:"REGN10933",wildtype:"L",Escape:.002574},{mutant:"N",reference_site:517,Antibody:"REGN10933",wildtype:"L",Escape:.009821},{mutant:"Q",reference_site:517,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"R",reference_site:517,Antibody:"REGN10933",wildtype:"L",Escape:.00226},{mutant:"S",reference_site:517,Antibody:"REGN10933",wildtype:"L",Escape:.009562},{mutant:"T",reference_site:517,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"V",reference_site:517,Antibody:"REGN10933",wildtype:"L",Escape:.02273},{mutant:"Y",reference_site:517,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"F",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.001613},{mutant:"H",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"I",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"K",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.00525},{mutant:"M",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.002463},{mutant:"N",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.001796},{mutant:"P",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.007526},{mutant:"Q",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.002118},{mutant:"R",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.007945},{mutant:"S",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"T",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.004419},{mutant:"V",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.002934},{mutant:"W",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"Y",reference_site:518,Antibody:"REGN10933",wildtype:"L",Escape:.001125},{mutant:"C",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.001125},{mutant:"D",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.002821},{mutant:"F",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.01065},{mutant:"I",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.0249},{mutant:"L",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.001125},{mutant:"N",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.001125},{mutant:"P",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.00382},{mutant:"Q",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.001125},{mutant:"R",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.00732},{mutant:"S",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.001125},{mutant:"T",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.003845},{mutant:"V",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.001975},{mutant:"Y",reference_site:519,Antibody:"REGN10933",wildtype:"H",Escape:.001138},{mutant:"C",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.005428},{mutant:"D",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.004711},{mutant:"E",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"F",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.05017},{mutant:"G",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.002746},{mutant:"H",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.006024},{mutant:"I",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"K",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.002708},{mutant:"L",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"M",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.001452},{mutant:"N",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.001834},{mutant:"P",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.01349},{mutant:"R",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"S",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.0027},{mutant:"T",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.001444},{mutant:"V",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.002662},{mutant:"Y",reference_site:520,Antibody:"REGN10933",wildtype:"A",Escape:.0026},{mutant:"C",reference_site:521,Antibody:"REGN10933",wildtype:"P",Escape:.002249},{mutant:"F",reference_site:521,Antibody:"REGN10933",wildtype:"P",Escape:.001184},{mutant:"G",reference_site:521,Antibody:"REGN10933",wildtype:"P",Escape:.002332},{mutant:"H",reference_site:521,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"N",reference_site:521,Antibody:"REGN10933",wildtype:"P",Escape:.002346},{mutant:"R",reference_site:521,Antibody:"REGN10933",wildtype:"P",Escape:.004886},{mutant:"S",reference_site:521,Antibody:"REGN10933",wildtype:"P",Escape:.001171},{mutant:"T",reference_site:521,Antibody:"REGN10933",wildtype:"P",Escape:.008694},{mutant:"C",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.004706},{mutant:"D",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"E",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.006259},{mutant:"G",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"H",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.005238},{mutant:"I",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"K",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.005305},{mutant:"L",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"M",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"P",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"R",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"S",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.001776},{mutant:"T",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.008176},{mutant:"V",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.0032},{mutant:"W",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"Y",reference_site:522,Antibody:"REGN10933",wildtype:"A",Escape:.001125},{mutant:"I",reference_site:523,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"Y",reference_site:523,Antibody:"REGN10933",wildtype:"T",Escape:.0105},{mutant:"A",reference_site:524,Antibody:"REGN10933",wildtype:"V",Escape:.001125},{mutant:"G",reference_site:524,Antibody:"REGN10933",wildtype:"V",Escape:.0105},{mutant:"I",reference_site:524,Antibody:"REGN10933",wildtype:"V",Escape:.004403},{mutant:"A",reference_site:525,Antibody:"REGN10933",wildtype:"C",Escape:.004412},{mutant:"F",reference_site:525,Antibody:"REGN10933",wildtype:"C",Escape:.001125},{mutant:"I",reference_site:525,Antibody:"REGN10933",wildtype:"C",Escape:.001734},{mutant:"L",reference_site:525,Antibody:"REGN10933",wildtype:"C",Escape:.00216},{mutant:"N",reference_site:525,Antibody:"REGN10933",wildtype:"C",Escape:.003737},{mutant:"R",reference_site:525,Antibody:"REGN10933",wildtype:"C",Escape:.001125},{mutant:"S",reference_site:525,Antibody:"REGN10933",wildtype:"C",Escape:.01031},{mutant:"A",reference_site:526,Antibody:"REGN10933",wildtype:"G",Escape:.006919},{mutant:"D",reference_site:526,Antibody:"REGN10933",wildtype:"G",Escape:.004101},{mutant:"E",reference_site:526,Antibody:"REGN10933",wildtype:"G",Escape:.00349},{mutant:"L",reference_site:526,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"N",reference_site:526,Antibody:"REGN10933",wildtype:"G",Escape:.002648},{mutant:"P",reference_site:526,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"R",reference_site:526,Antibody:"REGN10933",wildtype:"G",Escape:.001871},{mutant:"S",reference_site:526,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"V",reference_site:526,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"W",reference_site:526,Antibody:"REGN10933",wildtype:"G",Escape:.001125},{mutant:"A",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.002405},{mutant:"C",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.006269},{mutant:"E",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.009839},{mutant:"F",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"G",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"H",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.004532},{mutant:"I",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"K",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.00177},{mutant:"L",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"M",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"N",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.001878},{mutant:"Q",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"R",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.001327},{mutant:"S",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"T",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.01043},{mutant:"V",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.002036},{mutant:"Y",reference_site:527,Antibody:"REGN10933",wildtype:"P",Escape:.001125},{mutant:"A",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.003893},{mutant:"C",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.006349},{mutant:"D",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.001546},{mutant:"E",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.002691},{mutant:"G",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.003925},{mutant:"H",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.01491},{mutant:"I",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.00198},{mutant:"L",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.00305},{mutant:"M",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"N",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.001337},{mutant:"P",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"Q",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.001859},{mutant:"R",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.003701},{mutant:"S",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"T",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.00358},{mutant:"V",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.00358},{mutant:"W",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.002097},{mutant:"Y",reference_site:528,Antibody:"REGN10933",wildtype:"K",Escape:.001219},{mutant:"C",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.002273},{mutant:"D",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001136},{mutant:"E",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"F",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"G",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"H",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"I",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001513},{mutant:"L",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"M",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.002781},{mutant:"N",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"P",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"Q",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"R",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"S",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.003182},{mutant:"T",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.0105},{mutant:"V",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"W",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.001125},{mutant:"Y",reference_site:529,Antibody:"REGN10933",wildtype:"K",Escape:.009094},{mutant:"A",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001828},{mutant:"C",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001861},{mutant:"D",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"E",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.02688},{mutant:"F",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"G",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.005114},{mutant:"H",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001286},{mutant:"I",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.004329},{mutant:"K",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001277},{mutant:"L",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"M",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.00405},{mutant:"N",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"P",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"Q",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"R",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"T",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.006129},{mutant:"V",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"W",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"Y",reference_site:530,Antibody:"REGN10933",wildtype:"S",Escape:.001125},{mutant:"A",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.004197},{mutant:"C",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"D",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.005573},{mutant:"E",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"F",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.001672},{mutant:"G",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.007998},{mutant:"H",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"I",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.004738},{mutant:"K",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.001672},{mutant:"L",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.003033},{mutant:"M",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"N",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.003722},{mutant:"P",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"Q",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.008619},{mutant:"R",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.0022},{mutant:"S",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.01125},{mutant:"V",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.001233},{mutant:"W",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.001125},{mutant:"Y",reference_site:531,Antibody:"REGN10933",wildtype:"T",Escape:.001437},{mutant:"A",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"D",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.00156},{mutant:"E",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"F",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"G",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"H",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"I",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.00207},{mutant:"K",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"L",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"M",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.00208},{mutant:"P",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"Q",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002078},{mutant:"R",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"S",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"T",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002082},{mutant:"V",reference_site:331,Antibody:"REGN10987",wildtype:"N",Escape:.002066},{mutant:"A",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"C",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002072},{mutant:"D",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002077},{mutant:"E",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002077},{mutant:"F",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002079},{mutant:"G",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002071},{mutant:"H",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002078},{mutant:"K",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002077},{mutant:"L",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002078},{mutant:"M",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002073},{mutant:"N",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"P",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"Q",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002078},{mutant:"R",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002073},{mutant:"S",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002072},{mutant:"T",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"V",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002077},{mutant:"W",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"Y",reference_site:332,Antibody:"REGN10987",wildtype:"I",Escape:.002077},{mutant:"A",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"C",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"D",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"E",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002074},{mutant:"F",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002072},{mutant:"G",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"H",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"K",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"L",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"M",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002081},{mutant:"N",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"P",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"Q",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"R",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"S",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"V",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002072},{mutant:"W",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"Y",reference_site:333,Antibody:"REGN10987",wildtype:"T",Escape:.002073},{mutant:"A",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"C",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.00361},{mutant:"D",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"E",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002079},{mutant:"F",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"G",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"H",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"I",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.00208},{mutant:"K",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"L",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002079},{mutant:"M",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"P",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002079},{mutant:"Q",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"R",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"S",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002078},{mutant:"T",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002078},{mutant:"V",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"Y",reference_site:334,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"A",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"C",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"D",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002067},{mutant:"E",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"F",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002073},{mutant:"G",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002082},{mutant:"H",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002073},{mutant:"I",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"K",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"M",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002077},{mutant:"N",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002079},{mutant:"P",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"Q",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002074},{mutant:"R",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"S",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002077},{mutant:"T",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002074},{mutant:"V",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002077},{mutant:"W",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002072},{mutant:"Y",reference_site:335,Antibody:"REGN10987",wildtype:"L",Escape:.002072},{mutant:"G",reference_site:336,Antibody:"REGN10987",wildtype:"C",Escape:.05206},{mutant:"A",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.002077},{mutant:"C",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.002082},{mutant:"D",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.002074},{mutant:"E",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.002073},{mutant:"G",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.002592},{mutant:"H",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.002078},{mutant:"K",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"L",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.00208},{mutant:"M",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"N",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"Q",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.00208},{mutant:"R",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"S",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.00208},{mutant:"T",reference_site:337,Antibody:"REGN10987",wildtype:"P",Escape:.01181},{mutant:"I",reference_site:338,Antibody:"REGN10987",wildtype:"F",Escape:.002083},{mutant:"L",reference_site:338,Antibody:"REGN10987",wildtype:"F",Escape:.002079},{mutant:"M",reference_site:338,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"W",reference_site:338,Antibody:"REGN10987",wildtype:"F",Escape:.002072},{mutant:"Y",reference_site:338,Antibody:"REGN10987",wildtype:"F",Escape:.002073},{mutant:"A",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.00208},{mutant:"D",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"E",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"F",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"H",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"I",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"K",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002078},{mutant:"L",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002081},{mutant:"M",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"N",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.00207},{mutant:"P",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002083},{mutant:"Q",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002071},{mutant:"R",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002078},{mutant:"S",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002074},{mutant:"T",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002083},{mutant:"V",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002081},{mutant:"W",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002078},{mutant:"Y",reference_site:339,Antibody:"REGN10987",wildtype:"G",Escape:.002071},{mutant:"A",reference_site:340,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"D",reference_site:340,Antibody:"REGN10987",wildtype:"E",Escape:.00208},{mutant:"G",reference_site:340,Antibody:"REGN10987",wildtype:"E",Escape:.004805},{mutant:"K",reference_site:340,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"L",reference_site:340,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"M",reference_site:340,Antibody:"REGN10987",wildtype:"E",Escape:.009197},{mutant:"N",reference_site:340,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"P",reference_site:340,Antibody:"REGN10987",wildtype:"E",Escape:.002082},{mutant:"Q",reference_site:340,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"S",reference_site:340,Antibody:"REGN10987",wildtype:"E",Escape:.002083},{mutant:"T",reference_site:340,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"I",reference_site:341,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"L",reference_site:341,Antibody:"REGN10987",wildtype:"V",Escape:.002081},{mutant:"I",reference_site:342,Antibody:"REGN10987",wildtype:"F",Escape:.002078},{mutant:"L",reference_site:342,Antibody:"REGN10987",wildtype:"F",Escape:.00208},{mutant:"M",reference_site:342,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"E",reference_site:344,Antibody:"REGN10987",wildtype:"A",Escape:.00208},{mutant:"K",reference_site:344,Antibody:"REGN10987",wildtype:"A",Escape:.002081},{mutant:"N",reference_site:344,Antibody:"REGN10987",wildtype:"A",Escape:.002074},{mutant:"Q",reference_site:344,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"R",reference_site:344,Antibody:"REGN10987",wildtype:"A",Escape:.002078},{mutant:"S",reference_site:344,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"A",reference_site:345,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"D",reference_site:345,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"E",reference_site:345,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"K",reference_site:345,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"P",reference_site:345,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"R",reference_site:345,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"S",reference_site:345,Antibody:"REGN10987",wildtype:"T",Escape:.002069},{mutant:"A",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"C",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"D",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002075},{mutant:"E",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002075},{mutant:"F",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"G",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002074},{mutant:"H",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002078},{mutant:"I",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"K",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002074},{mutant:"L",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002078},{mutant:"M",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002071},{mutant:"N",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002075},{mutant:"Q",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002077},{mutant:"S",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002075},{mutant:"T",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"V",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002077},{mutant:"W",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002075},{mutant:"Y",reference_site:346,Antibody:"REGN10987",wildtype:"R",Escape:.002075},{mutant:"W",reference_site:347,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"D",reference_site:348,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"E",reference_site:348,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"G",reference_site:348,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"H",reference_site:348,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"K",reference_site:348,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"N",reference_site:348,Antibody:"REGN10987",wildtype:"A",Escape:.002077},{mutant:"P",reference_site:348,Antibody:"REGN10987",wildtype:"A",Escape:.002077},{mutant:"Q",reference_site:348,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"S",reference_site:348,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"Y",reference_site:348,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"N",reference_site:349,Antibody:"REGN10987",wildtype:"S",Escape:.003053},{mutant:"P",reference_site:349,Antibody:"REGN10987",wildtype:"S",Escape:.002083},{mutant:"F",reference_site:351,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"H",reference_site:351,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"W",reference_site:351,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"D",reference_site:352,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"E",reference_site:352,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"G",reference_site:352,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"H",reference_site:352,Antibody:"REGN10987",wildtype:"A",Escape:.002071},{mutant:"K",reference_site:352,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"M",reference_site:352,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"N",reference_site:352,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"Q",reference_site:352,Antibody:"REGN10987",wildtype:"A",Escape:.002593},{mutant:"R",reference_site:352,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"S",reference_site:352,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"Y",reference_site:352,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"F",reference_site:353,Antibody:"REGN10987",wildtype:"W",Escape:.002077},{mutant:"A",reference_site:354,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"D",reference_site:354,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"G",reference_site:354,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"H",reference_site:354,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"K",reference_site:354,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"R",reference_site:354,Antibody:"REGN10987",wildtype:"N",Escape:.00208},{mutant:"S",reference_site:354,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"T",reference_site:354,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"V",reference_site:354,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"A",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"E",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.00208},{mutant:"H",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"I",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"L",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"M",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"N",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.002594},{mutant:"Q",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"R",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"S",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.002078},{mutant:"T",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"V",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.008098},{mutant:"Y",reference_site:356,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"A",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"C",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"D",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"E",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002079},{mutant:"H",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"I",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002069},{mutant:"K",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.00207},{mutant:"L",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002073},{mutant:"M",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002077},{mutant:"N",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.00156},{mutant:"P",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002078},{mutant:"Q",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002074},{mutant:"S",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002081},{mutant:"T",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002074},{mutant:"V",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002075},{mutant:"W",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002077},{mutant:"Y",reference_site:357,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"C",reference_site:358,Antibody:"REGN10987",wildtype:"I",Escape:.002082},{mutant:"F",reference_site:358,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"L",reference_site:358,Antibody:"REGN10987",wildtype:"I",Escape:.002073},{mutant:"M",reference_site:358,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"V",reference_site:358,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"W",reference_site:358,Antibody:"REGN10987",wildtype:"I",Escape:.00208},{mutant:"Y",reference_site:358,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"A",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"C",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.00207},{mutant:"D",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"E",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"F",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"G",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002079},{mutant:"H",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"I",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002082},{mutant:"K",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"N",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002079},{mutant:"P",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"Q",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"R",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"T",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"V",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.06753},{mutant:"W",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"Y",reference_site:359,Antibody:"REGN10987",wildtype:"S",Escape:.00156},{mutant:"D",reference_site:360,Antibody:"REGN10987",wildtype:"N",Escape:.00156},{mutant:"E",reference_site:360,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"K",reference_site:360,Antibody:"REGN10987",wildtype:"N",Escape:.002073},{mutant:"Q",reference_site:360,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"R",reference_site:360,Antibody:"REGN10987",wildtype:"N",Escape:.002079},{mutant:"S",reference_site:360,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"E",reference_site:361,Antibody:"REGN10987",wildtype:"C",Escape:.002605},{mutant:"N",reference_site:361,Antibody:"REGN10987",wildtype:"C",Escape:.0308},{mutant:"P",reference_site:361,Antibody:"REGN10987",wildtype:"C",Escape:.01021},{mutant:"A",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"C",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"D",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"E",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.00207},{mutant:"F",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"G",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002066},{mutant:"H",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002078},{mutant:"I",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002077},{mutant:"K",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"L",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002077},{mutant:"M",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002073},{mutant:"N",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"Q",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"R",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"S",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002082},{mutant:"T",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002078},{mutant:"W",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"Y",reference_site:362,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"C",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.002081},{mutant:"F",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.00207},{mutant:"G",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"H",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.002077},{mutant:"I",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"L",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"M",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.002077},{mutant:"P",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"Q",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.00208},{mutant:"S",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.002073},{mutant:"T",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"V",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"W",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"Y",reference_site:363,Antibody:"REGN10987",wildtype:"A",Escape:.002074},{mutant:"A",reference_site:365,Antibody:"REGN10987",wildtype:"Y",Escape:.002081},{mutant:"C",reference_site:365,Antibody:"REGN10987",wildtype:"Y",Escape:.04884},{mutant:"F",reference_site:365,Antibody:"REGN10987",wildtype:"Y",Escape:.002073},{mutant:"G",reference_site:365,Antibody:"REGN10987",wildtype:"Y",Escape:.0207},{mutant:"I",reference_site:365,Antibody:"REGN10987",wildtype:"Y",Escape:.002078},{mutant:"L",reference_site:365,Antibody:"REGN10987",wildtype:"Y",Escape:.002078},{mutant:"M",reference_site:365,Antibody:"REGN10987",wildtype:"Y",Escape:.002077},{mutant:"P",reference_site:365,Antibody:"REGN10987",wildtype:"Y",Escape:.01349},{mutant:"T",reference_site:365,Antibody:"REGN10987",wildtype:"Y",Escape:.002077},{mutant:"V",reference_site:365,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"W",reference_site:365,Antibody:"REGN10987",wildtype:"Y",Escape:.002078},{mutant:"A",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002081},{mutant:"D",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"E",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"F",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"G",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"H",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.00156},{mutant:"I",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.01129},{mutant:"K",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"L",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002082},{mutant:"M",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002083},{mutant:"N",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"P",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.08959},{mutant:"Q",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"R",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"T",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002078},{mutant:"V",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002079},{mutant:"W",reference_site:366,Antibody:"REGN10987",wildtype:"S",Escape:.002068},{mutant:"A",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"C",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002079},{mutant:"D",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002077},{mutant:"E",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"F",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002074},{mutant:"G",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002082},{mutant:"H",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"I",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002077},{mutant:"K",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"L",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.00208},{mutant:"M",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002073},{mutant:"N",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"P",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002077},{mutant:"Q",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002077},{mutant:"R",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.009078},{mutant:"S",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002074},{mutant:"T",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"W",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002073},{mutant:"Y",reference_site:367,Antibody:"REGN10987",wildtype:"V",Escape:.002082},{mutant:"F",reference_site:368,Antibody:"REGN10987",wildtype:"L",Escape:.00208},{mutant:"I",reference_site:368,Antibody:"REGN10987",wildtype:"L",Escape:.002078},{mutant:"M",reference_site:368,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"V",reference_site:368,Antibody:"REGN10987",wildtype:"L",Escape:.01982},{mutant:"A",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002077},{mutant:"C",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"D",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.02615},{mutant:"E",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002082},{mutant:"F",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002073},{mutant:"G",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.004131},{mutant:"H",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.00208},{mutant:"I",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"K",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"L",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"M",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"N",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.00208},{mutant:"P",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.02523},{mutant:"Q",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.005289},{mutant:"R",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"S",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002082},{mutant:"T",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002071},{mutant:"V",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002074},{mutant:"W",reference_site:369,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"A",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"D",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.00208},{mutant:"E",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"G",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"H",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.005217},{mutant:"K",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.002073},{mutant:"L",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"M",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"P",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"Q",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"R",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"S",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.002073},{mutant:"T",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"Y",reference_site:370,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"A",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"C",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"D",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002082},{mutant:"E",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"F",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002082},{mutant:"G",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002078},{mutant:"H",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.00207},{mutant:"I",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002079},{mutant:"K",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002078},{mutant:"L",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.00208},{mutant:"M",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"N",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.4977},{mutant:"P",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"Q",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"R",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.00208},{mutant:"T",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"V",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002072},{mutant:"W",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"Y",reference_site:371,Antibody:"REGN10987",wildtype:"S",Escape:.00828},{mutant:"D",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002078},{mutant:"E",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"F",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002074},{mutant:"G",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"H",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002074},{mutant:"I",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"K",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"L",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002074},{mutant:"M",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"N",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"P",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"Q",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"R",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002078},{mutant:"S",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"T",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"V",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"W",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"Y",reference_site:372,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"A",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002074},{mutant:"C",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"D",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"E",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"F",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"G",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.01196},{mutant:"H",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"I",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"K",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002071},{mutant:"L",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"M",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002078},{mutant:"N",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"P",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"Q",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"R",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"T",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.00208},{mutant:"V",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"W",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"Y",reference_site:373,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"A",reference_site:374,Antibody:"REGN10987",wildtype:"F",Escape:.002078},{mutant:"D",reference_site:374,Antibody:"REGN10987",wildtype:"F",Escape:.00726},{mutant:"H",reference_site:374,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"I",reference_site:374,Antibody:"REGN10987",wildtype:"F",Escape:.002077},{mutant:"L",reference_site:374,Antibody:"REGN10987",wildtype:"F",Escape:.002079},{mutant:"M",reference_site:374,Antibody:"REGN10987",wildtype:"F",Escape:.01368},{mutant:"N",reference_site:374,Antibody:"REGN10987",wildtype:"F",Escape:.04411},{mutant:"Q",reference_site:374,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"T",reference_site:374,Antibody:"REGN10987",wildtype:"F",Escape:.007728},{mutant:"V",reference_site:374,Antibody:"REGN10987",wildtype:"F",Escape:.002081},{mutant:"W",reference_site:374,Antibody:"REGN10987",wildtype:"F",Escape:.002077},{mutant:"Y",reference_site:374,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"A",reference_site:375,Antibody:"REGN10987",wildtype:"S",Escape:.002078},{mutant:"D",reference_site:375,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"E",reference_site:375,Antibody:"REGN10987",wildtype:"S",Escape:.002072},{mutant:"G",reference_site:375,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"H",reference_site:375,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"K",reference_site:375,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"N",reference_site:375,Antibody:"REGN10987",wildtype:"S",Escape:.002067},{mutant:"Q",reference_site:375,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"T",reference_site:375,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"C",reference_site:376,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"D",reference_site:376,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"F",reference_site:376,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"H",reference_site:376,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"I",reference_site:376,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"K",reference_site:376,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"L",reference_site:376,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"M",reference_site:376,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"N",reference_site:376,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"S",reference_site:376,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"V",reference_site:376,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"Y",reference_site:376,Antibody:"REGN10987",wildtype:"T",Escape:.00208},{mutant:"I",reference_site:377,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"L",reference_site:377,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"M",reference_site:377,Antibody:"REGN10987",wildtype:"F",Escape:.002078},{mutant:"V",reference_site:377,Antibody:"REGN10987",wildtype:"F",Escape:.002081},{mutant:"W",reference_site:377,Antibody:"REGN10987",wildtype:"F",Escape:.002082},{mutant:"A",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"C",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002595},{mutant:"D",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"E",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002077},{mutant:"H",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"I",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"L",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.00207},{mutant:"M",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"N",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002081},{mutant:"Q",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"R",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"S",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002071},{mutant:"T",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"V",reference_site:378,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"F",reference_site:380,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"W",reference_site:380,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"H",reference_site:381,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"K",reference_site:381,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"N",reference_site:381,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"Q",reference_site:381,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"R",reference_site:381,Antibody:"REGN10987",wildtype:"G",Escape:.002074},{mutant:"S",reference_site:381,Antibody:"REGN10987",wildtype:"G",Escape:.002079},{mutant:"C",reference_site:382,Antibody:"REGN10987",wildtype:"V",Escape:.002079},{mutant:"F",reference_site:382,Antibody:"REGN10987",wildtype:"V",Escape:.002071},{mutant:"I",reference_site:382,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"L",reference_site:382,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"T",reference_site:382,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"Y",reference_site:382,Antibody:"REGN10987",wildtype:"V",Escape:.00208},{mutant:"A",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002595},{mutant:"C",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"D",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"E",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"H",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"I",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002072},{mutant:"K",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"L",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002078},{mutant:"M",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002591},{mutant:"N",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002068},{mutant:"P",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"Q",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"R",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"T",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"V",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"Y",reference_site:383,Antibody:"REGN10987",wildtype:"S",Escape:.002083},{mutant:"A",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"E",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002073},{mutant:"F",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002074},{mutant:"G",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"H",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.00208},{mutant:"I",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"K",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002071},{mutant:"L",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002077},{mutant:"M",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"N",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"Q",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"R",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"S",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"T",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"V",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"W",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"Y",reference_site:384,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"A",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"C",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002071},{mutant:"D",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"E",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"F",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"G",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002072},{mutant:"H",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002078},{mutant:"I",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"K",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"L",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002072},{mutant:"M",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"N",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002078},{mutant:"P",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002066},{mutant:"Q",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"R",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"S",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"V",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"W",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002073},{mutant:"Y",reference_site:385,Antibody:"REGN10987",wildtype:"T",Escape:.002073},{mutant:"A",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002081},{mutant:"C",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002073},{mutant:"D",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"E",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002079},{mutant:"G",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002077},{mutant:"H",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002072},{mutant:"I",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"L",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002073},{mutant:"M",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002073},{mutant:"N",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"Q",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002064},{mutant:"R",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"S",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002078},{mutant:"T",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002067},{mutant:"V",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"Y",reference_site:386,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"I",reference_site:387,Antibody:"REGN10987",wildtype:"L",Escape:.002077},{mutant:"M",reference_site:387,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"A",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"D",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"E",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"G",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"H",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.00207},{mutant:"K",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"L",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"M",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"P",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"Q",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002078},{mutant:"R",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002083},{mutant:"S",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"T",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"V",reference_site:388,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"A",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002072},{mutant:"C",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"E",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002071},{mutant:"F",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002074},{mutant:"G",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.00208},{mutant:"H",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"K",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"L",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002077},{mutant:"M",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002078},{mutant:"N",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"Q",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002074},{mutant:"R",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002079},{mutant:"S",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002074},{mutant:"T",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002078},{mutant:"W",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"Y",reference_site:389,Antibody:"REGN10987",wildtype:"D",Escape:.002079},{mutant:"A",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"C",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"D",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002068},{mutant:"E",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002077},{mutant:"F",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"G",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002077},{mutant:"H",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002078},{mutant:"I",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"K",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002072},{mutant:"M",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002074},{mutant:"N",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"Q",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"R",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"S",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002078},{mutant:"T",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002081},{mutant:"V",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002074},{mutant:"W",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002077},{mutant:"Y",reference_site:390,Antibody:"REGN10987",wildtype:"L",Escape:.002073},{mutant:"A",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002079},{mutant:"D",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002076},{mutant:"E",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002077},{mutant:"F",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002079},{mutant:"G",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002074},{mutant:"H",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002081},{mutant:"I",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.00207},{mutant:"K",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002079},{mutant:"L",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002081},{mutant:"M",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002076},{mutant:"N",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002081},{mutant:"P",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.00208},{mutant:"Q",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002075},{mutant:"R",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002079},{mutant:"S",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002078},{mutant:"T",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002076},{mutant:"V",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002081},{mutant:"W",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002075},{mutant:"Y",reference_site:391,Antibody:"REGN10987",wildtype:"C",Escape:.002077},{mutant:"A",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.002074},{mutant:"C",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.002079},{mutant:"H",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"I",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"L",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.002074},{mutant:"M",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"N",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"P",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.00208},{mutant:"S",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"T",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"V",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"W",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.002077},{mutant:"Y",reference_site:392,Antibody:"REGN10987",wildtype:"F",Escape:.002071},{mutant:"A",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"C",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"D",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"E",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"G",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002074},{mutant:"H",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"I",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002088},{mutant:"K",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002068},{mutant:"L",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.004139},{mutant:"M",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"N",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002079},{mutant:"Q",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002078},{mutant:"R",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002078},{mutant:"S",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002079},{mutant:"V",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002079},{mutant:"Y",reference_site:393,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"A",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"C",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"D",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002078},{mutant:"E",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"F",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"G",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"H",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002082},{mutant:"I",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"K",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002067},{mutant:"L",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002079},{mutant:"M",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"P",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"Q",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002068},{mutant:"R",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"S",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"T",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"V",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.004031},{mutant:"W",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"Y",reference_site:394,Antibody:"REGN10987",wildtype:"N",Escape:.00207},{mutant:"A",reference_site:395,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"G",reference_site:395,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"I",reference_site:395,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"L",reference_site:395,Antibody:"REGN10987",wildtype:"V",Escape:.00208},{mutant:"M",reference_site:395,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"C",reference_site:396,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"F",reference_site:396,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"H",reference_site:396,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"I",reference_site:396,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"L",reference_site:396,Antibody:"REGN10987",wildtype:"Y",Escape:.002073},{mutant:"M",reference_site:396,Antibody:"REGN10987",wildtype:"Y",Escape:.002074},{mutant:"N",reference_site:396,Antibody:"REGN10987",wildtype:"Y",Escape:.002079},{mutant:"S",reference_site:396,Antibody:"REGN10987",wildtype:"Y",Escape:.005415},{mutant:"T",reference_site:396,Antibody:"REGN10987",wildtype:"Y",Escape:.002072},{mutant:"V",reference_site:396,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"W",reference_site:396,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"C",reference_site:397,Antibody:"REGN10987",wildtype:"A",Escape:.01264},{mutant:"I",reference_site:397,Antibody:"REGN10987",wildtype:"A",Escape:.002077},{mutant:"L",reference_site:397,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"V",reference_site:397,Antibody:"REGN10987",wildtype:"A",Escape:.007232},{mutant:"T",reference_site:399,Antibody:"REGN10987",wildtype:"S",Escape:.003026},{mutant:"I",reference_site:401,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"C",reference_site:402,Antibody:"REGN10987",wildtype:"I",Escape:.002082},{mutant:"L",reference_site:402,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"V",reference_site:402,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"A",reference_site:403,Antibody:"REGN10987",wildtype:"R",Escape:.002075},{mutant:"K",reference_site:403,Antibody:"REGN10987",wildtype:"R",Escape:.002075},{mutant:"M",reference_site:403,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"S",reference_site:403,Antibody:"REGN10987",wildtype:"R",Escape:.002083},{mutant:"T",reference_site:403,Antibody:"REGN10987",wildtype:"R",Escape:.002074},{mutant:"A",reference_site:404,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"K",reference_site:404,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"A",reference_site:405,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"E",reference_site:405,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"K",reference_site:405,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"N",reference_site:405,Antibody:"REGN10987",wildtype:"D",Escape:.002074},{mutant:"R",reference_site:405,Antibody:"REGN10987",wildtype:"D",Escape:.00156},{mutant:"S",reference_site:405,Antibody:"REGN10987",wildtype:"D",Escape:.002073},{mutant:"D",reference_site:406,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"Q",reference_site:406,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"W",reference_site:406,Antibody:"REGN10987",wildtype:"E",Escape:.1529},{mutant:"I",reference_site:407,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"L",reference_site:407,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"A",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"C",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"E",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.002075},{mutant:"F",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"G",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.002075},{mutant:"H",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.00207},{mutant:"K",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"L",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.002079},{mutant:"P",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.002066},{mutant:"S",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.002075},{mutant:"T",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"V",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"W",reference_site:408,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"E",reference_site:409,Antibody:"REGN10987",wildtype:"Q",Escape:.002416},{mutant:"V",reference_site:410,Antibody:"REGN10987",wildtype:"I",Escape:.002492},{mutant:"E",reference_site:411,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"G",reference_site:411,Antibody:"REGN10987",wildtype:"A",Escape:.002077},{mutant:"Q",reference_site:411,Antibody:"REGN10987",wildtype:"A",Escape:.002073},{mutant:"R",reference_site:411,Antibody:"REGN10987",wildtype:"A",Escape:.002383},{mutant:"S",reference_site:411,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"A",reference_site:413,Antibody:"REGN10987",wildtype:"G",Escape:.002083},{mutant:"C",reference_site:413,Antibody:"REGN10987",wildtype:"G",Escape:.002072},{mutant:"F",reference_site:413,Antibody:"REGN10987",wildtype:"G",Escape:.002068},{mutant:"H",reference_site:413,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"K",reference_site:413,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"L",reference_site:413,Antibody:"REGN10987",wildtype:"G",Escape:.002078},{mutant:"M",reference_site:413,Antibody:"REGN10987",wildtype:"G",Escape:.002078},{mutant:"N",reference_site:413,Antibody:"REGN10987",wildtype:"G",Escape:.002069},{mutant:"Q",reference_site:413,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"R",reference_site:413,Antibody:"REGN10987",wildtype:"G",Escape:.002071},{mutant:"S",reference_site:413,Antibody:"REGN10987",wildtype:"G",Escape:.002245},{mutant:"Y",reference_site:413,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"A",reference_site:414,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"C",reference_site:414,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"E",reference_site:414,Antibody:"REGN10987",wildtype:"Q",Escape:.002077},{mutant:"G",reference_site:414,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"I",reference_site:414,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"K",reference_site:414,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"M",reference_site:414,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"R",reference_site:414,Antibody:"REGN10987",wildtype:"Q",Escape:.002083},{mutant:"S",reference_site:414,Antibody:"REGN10987",wildtype:"Q",Escape:.002073},{mutant:"T",reference_site:414,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"V",reference_site:414,Antibody:"REGN10987",wildtype:"Q",Escape:.00208},{mutant:"A",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"D",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"E",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002068},{mutant:"G",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"H",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002072},{mutant:"I",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"K",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002924},{mutant:"M",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002079},{mutant:"N",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002071},{mutant:"Q",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"R",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"S",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"V",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"Y",reference_site:415,Antibody:"REGN10987",wildtype:"T",Escape:.002078},{mutant:"A",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"C",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"D",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"E",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002079},{mutant:"F",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"G",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002079},{mutant:"H",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002078},{mutant:"I",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002078},{mutant:"L",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"M",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"N",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002069},{mutant:"P",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"Q",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"R",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"S",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"T",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002077},{mutant:"V",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"W",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"Y",reference_site:417,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"V",reference_site:418,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"P",reference_site:419,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"S",reference_site:419,Antibody:"REGN10987",wildtype:"A",Escape:.002078},{mutant:"A",reference_site:420,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"E",reference_site:420,Antibody:"REGN10987",wildtype:"D",Escape:.00208},{mutant:"K",reference_site:420,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"M",reference_site:420,Antibody:"REGN10987",wildtype:"D",Escape:.002072},{mutant:"N",reference_site:420,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"Q",reference_site:420,Antibody:"REGN10987",wildtype:"D",Escape:.002079},{mutant:"R",reference_site:420,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"S",reference_site:420,Antibody:"REGN10987",wildtype:"D",Escape:.002074},{mutant:"F",reference_site:421,Antibody:"REGN10987",wildtype:"Y",Escape:.002078},{mutant:"L",reference_site:421,Antibody:"REGN10987",wildtype:"Y",Escape:.002077},{mutant:"M",reference_site:421,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"W",reference_site:421,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"H",reference_site:424,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"R",reference_site:424,Antibody:"REGN10987",wildtype:"K",Escape:.002071},{mutant:"I",reference_site:425,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"M",reference_site:425,Antibody:"REGN10987",wildtype:"L",Escape:.002079},{mutant:"V",reference_site:425,Antibody:"REGN10987",wildtype:"L",Escape:.002079},{mutant:"A",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002073},{mutant:"E",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002074},{mutant:"F",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"G",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"H",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"I",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002079},{mutant:"K",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002079},{mutant:"L",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002078},{mutant:"M",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002073},{mutant:"N",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"P",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.004508},{mutant:"Q",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"R",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002074},{mutant:"S",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002072},{mutant:"T",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"V",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"W",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"Y",reference_site:427,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"A",reference_site:428,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"E",reference_site:428,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"G",reference_site:428,Antibody:"REGN10987",wildtype:"D",Escape:.002077},{mutant:"H",reference_site:428,Antibody:"REGN10987",wildtype:"D",Escape:.002072},{mutant:"K",reference_site:428,Antibody:"REGN10987",wildtype:"D",Escape:.002107},{mutant:"N",reference_site:428,Antibody:"REGN10987",wildtype:"D",Escape:.002071},{mutant:"P",reference_site:428,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"Q",reference_site:428,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"R",reference_site:428,Antibody:"REGN10987",wildtype:"D",Escape:.002075},{mutant:"S",reference_site:428,Antibody:"REGN10987",wildtype:"D",Escape:.002076},{mutant:"T",reference_site:428,Antibody:"REGN10987",wildtype:"D",Escape:.00208},{mutant:"W",reference_site:429,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"A",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"C",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"F",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002074},{mutant:"H",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002078},{mutant:"I",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"K",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002074},{mutant:"L",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"M",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"N",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.00208},{mutant:"Q",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002079},{mutant:"R",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002074},{mutant:"S",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"V",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"W",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"Y",reference_site:430,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"I",reference_site:433,Antibody:"REGN10987",wildtype:"V",Escape:.002081},{mutant:"F",reference_site:434,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"L",reference_site:434,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"M",reference_site:434,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"V",reference_site:434,Antibody:"REGN10987",wildtype:"I",Escape:.002072},{mutant:"W",reference_site:434,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"Y",reference_site:434,Antibody:"REGN10987",wildtype:"I",Escape:.002072},{mutant:"S",reference_site:435,Antibody:"REGN10987",wildtype:"A",Escape:.002073},{mutant:"T",reference_site:435,Antibody:"REGN10987",wildtype:"A",Escape:.00207},{mutant:"P",reference_site:437,Antibody:"REGN10987",wildtype:"N",Escape:.008312},{mutant:"A",reference_site:438,Antibody:"REGN10987",wildtype:"S",Escape:.002079},{mutant:"T",reference_site:438,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"D",reference_site:439,Antibody:"REGN10987",wildtype:"N",Escape:.003202},{mutant:"H",reference_site:439,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"K",reference_site:439,Antibody:"REGN10987",wildtype:"N",Escape:.06063},{mutant:"L",reference_site:439,Antibody:"REGN10987",wildtype:"N",Escape:.0242},{mutant:"M",reference_site:439,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"Q",reference_site:439,Antibody:"REGN10987",wildtype:"N",Escape:.004029},{mutant:"S",reference_site:439,Antibody:"REGN10987",wildtype:"N",Escape:.6551},{mutant:"T",reference_site:439,Antibody:"REGN10987",wildtype:"N",Escape:.8449},{mutant:"V",reference_site:439,Antibody:"REGN10987",wildtype:"N",Escape:.002078},{mutant:"Y",reference_site:439,Antibody:"REGN10987",wildtype:"N",Escape:.6058},{mutant:"A",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"C",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.06584},{mutant:"D",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.4686},{mutant:"E",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.6321},{mutant:"F",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.8326},{mutant:"G",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"H",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.002594},{mutant:"I",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.9109},{mutant:"K",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.565},{mutant:"L",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.9579},{mutant:"M",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.468},{mutant:"P",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.01361},{mutant:"Q",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.1667},{mutant:"R",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.002083},{mutant:"S",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.002082},{mutant:"T",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.4962},{mutant:"V",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.5196},{mutant:"Y",reference_site:440,Antibody:"REGN10987",wildtype:"N",Escape:.5023},{mutant:"A",reference_site:441,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"F",reference_site:441,Antibody:"REGN10987",wildtype:"L",Escape:.002077},{mutant:"H",reference_site:441,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"I",reference_site:441,Antibody:"REGN10987",wildtype:"L",Escape:.002079},{mutant:"Q",reference_site:441,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"R",reference_site:441,Antibody:"REGN10987",wildtype:"L",Escape:.00156},{mutant:"S",reference_site:441,Antibody:"REGN10987",wildtype:"L",Escape:.7052},{mutant:"V",reference_site:441,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"W",reference_site:441,Antibody:"REGN10987",wildtype:"L",Escape:.002591},{mutant:"A",reference_site:443,Antibody:"REGN10987",wildtype:"S",Escape:.00208},{mutant:"C",reference_site:443,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"G",reference_site:443,Antibody:"REGN10987",wildtype:"S",Escape:.01984},{mutant:"N",reference_site:443,Antibody:"REGN10987",wildtype:"S",Escape:.6469},{mutant:"Q",reference_site:443,Antibody:"REGN10987",wildtype:"S",Escape:.6069},{mutant:"T",reference_site:443,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"V",reference_site:443,Antibody:"REGN10987",wildtype:"S",Escape:.01478},{mutant:"Y",reference_site:443,Antibody:"REGN10987",wildtype:"S",Escape:.7986},{mutant:"A",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9747},{mutant:"C",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9426},{mutant:"D",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.8499},{mutant:"E",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9617},{mutant:"F",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9547},{mutant:"G",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9656},{mutant:"H",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.988},{mutant:"I",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9938},{mutant:"L",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.969},{mutant:"M",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9689},{mutant:"N",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9434},{mutant:"P",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9923},{mutant:"Q",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9698},{mutant:"R",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.01247},{mutant:"S",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9604},{mutant:"T",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9817},{mutant:"V",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9818},{mutant:"W",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9818},{mutant:"Y",reference_site:444,Antibody:"REGN10987",wildtype:"K",Escape:.9834},{mutant:"A",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.9799},{mutant:"C",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.9731},{mutant:"D",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.9571},{mutant:"E",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.9936},{mutant:"F",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.8851},{mutant:"G",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.9761},{mutant:"H",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.8988},{mutant:"I",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.002083},{mutant:"K",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:1},{mutant:"L",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.806},{mutant:"M",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.4669},{mutant:"N",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.9735},{mutant:"P",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.9771},{mutant:"Q",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.9949},{mutant:"R",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.9693},{mutant:"S",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.9757},{mutant:"T",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.9465},{mutant:"W",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.7947},{mutant:"Y",reference_site:445,Antibody:"REGN10987",wildtype:"V",Escape:.9714},{mutant:"A",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.7438},{mutant:"C",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.9342},{mutant:"D",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.9783},{mutant:"E",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.9533},{mutant:"F",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.726},{mutant:"H",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.943},{mutant:"I",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.9525},{mutant:"K",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.9896},{mutant:"L",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.8538},{mutant:"M",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.8218},{mutant:"N",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.9243},{mutant:"P",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.9902},{mutant:"Q",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.9725},{mutant:"R",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.953},{mutant:"S",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.8243},{mutant:"T",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.9862},{mutant:"V",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.9594},{mutant:"W",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.7883},{mutant:"Y",reference_site:446,Antibody:"REGN10987",wildtype:"G",Escape:.8243},{mutant:"A",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.2216},{mutant:"C",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.5914},{mutant:"D",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.9863},{mutant:"E",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.7348},{mutant:"F",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.9084},{mutant:"H",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.7447},{mutant:"I",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.5625},{mutant:"K",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.4278},{mutant:"L",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.9056},{mutant:"M",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.491},{mutant:"N",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.9457},{mutant:"P",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.9204},{mutant:"Q",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.6683},{mutant:"R",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.2098},{mutant:"S",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.6446},{mutant:"T",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.6549},{mutant:"V",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.8373},{mutant:"Y",reference_site:447,Antibody:"REGN10987",wildtype:"G",Escape:.7025},{mutant:"A",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.4968},{mutant:"C",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.5141},{mutant:"D",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.6127},{mutant:"E",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.6337},{mutant:"G",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.6467},{mutant:"H",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.5174},{mutant:"K",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.643},{mutant:"P",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.9101},{mutant:"Q",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.5996},{mutant:"R",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.7005},{mutant:"S",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.01589},{mutant:"T",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.116},{mutant:"V",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.6604},{mutant:"Y",reference_site:448,Antibody:"REGN10987",wildtype:"N",Escape:.0776},{mutant:"A",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"C",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"D",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002068},{mutant:"E",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002077},{mutant:"F",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"G",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002074},{mutant:"H",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"I",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002079},{mutant:"K",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002074},{mutant:"L",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002072},{mutant:"M",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"N",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002064},{mutant:"P",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.2707},{mutant:"Q",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"R",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002072},{mutant:"S",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002074},{mutant:"T",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.00207},{mutant:"V",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"W",reference_site:449,Antibody:"REGN10987",wildtype:"Y",Escape:.002072},{mutant:"A",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"C",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.003306},{mutant:"D",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002379},{mutant:"E",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"F",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"G",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"H",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002078},{mutant:"I",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.009536},{mutant:"K",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"L",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002082},{mutant:"M",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"P",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.8386},{mutant:"Q",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"R",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"S",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.03684},{mutant:"T",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.9781},{mutant:"V",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002103},{mutant:"W",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"Y",reference_site:450,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"F",reference_site:451,Antibody:"REGN10987",wildtype:"Y",Escape:.002077},{mutant:"H",reference_site:451,Antibody:"REGN10987",wildtype:"Y",Escape:.00208},{mutant:"I",reference_site:451,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"L",reference_site:451,Antibody:"REGN10987",wildtype:"Y",Escape:.002078},{mutant:"M",reference_site:451,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"Q",reference_site:451,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"A",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"C",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002082},{mutant:"D",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"E",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002074},{mutant:"F",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002082},{mutant:"G",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"H",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"I",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002078},{mutant:"K",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"M",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002078},{mutant:"N",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"Q",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"R",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002073},{mutant:"S",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.00208},{mutant:"T",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002097},{mutant:"V",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002078},{mutant:"W",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002074},{mutant:"Y",reference_site:452,Antibody:"REGN10987",wildtype:"L",Escape:.002078},{mutant:"A",reference_site:453,Antibody:"REGN10987",wildtype:"Y",Escape:.002068},{mutant:"F",reference_site:453,Antibody:"REGN10987",wildtype:"Y",Escape:.002082},{mutant:"H",reference_site:453,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"K",reference_site:453,Antibody:"REGN10987",wildtype:"Y",Escape:.002078},{mutant:"M",reference_site:453,Antibody:"REGN10987",wildtype:"Y",Escape:.002077},{mutant:"R",reference_site:453,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"S",reference_site:453,Antibody:"REGN10987",wildtype:"Y",Escape:.002079},{mutant:"V",reference_site:453,Antibody:"REGN10987",wildtype:"Y",Escape:.002078},{mutant:"A",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002078},{mutant:"C",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002079},{mutant:"E",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"F",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"G",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"H",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"I",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002077},{mutant:"M",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"N",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"P",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002074},{mutant:"R",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"S",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"T",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002074},{mutant:"V",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002082},{mutant:"W",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"Y",reference_site:455,Antibody:"REGN10987",wildtype:"L",Escape:.002071},{mutant:"A",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"C",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"G",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.002078},{mutant:"H",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.00208},{mutant:"I",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.002078},{mutant:"K",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"L",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.002073},{mutant:"Q",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"R",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"T",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"V",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.002073},{mutant:"W",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"Y",reference_site:456,Antibody:"REGN10987",wildtype:"F",Escape:.09267},{mutant:"A",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"D",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"E",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"F",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"G",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"H",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"I",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002946},{mutant:"L",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002079},{mutant:"M",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.00208},{mutant:"N",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"P",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"Q",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"R",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002077},{mutant:"S",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002081},{mutant:"T",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002072},{mutant:"V",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.00207},{mutant:"W",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"Y",reference_site:458,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"A",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002071},{mutant:"C",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"D",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"E",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"F",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"G",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"H",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002073},{mutant:"I",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"K",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"L",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"M",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002078},{mutant:"N",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"P",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"Q",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002078},{mutant:"R",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002073},{mutant:"T",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002071},{mutant:"V",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"Y",reference_site:459,Antibody:"REGN10987",wildtype:"S",Escape:.00208},{mutant:"A",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002078},{mutant:"C",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"D",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002072},{mutant:"E",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002072},{mutant:"F",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002078},{mutant:"G",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.005806},{mutant:"H",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"I",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002072},{mutant:"K",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"L",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"M",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"P",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"Q",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"R",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"S",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"T",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"V",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"Y",reference_site:460,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"I",reference_site:461,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"M",reference_site:461,Antibody:"REGN10987",wildtype:"L",Escape:.00156},{mutant:"V",reference_site:461,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"A",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"C",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"D",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002078},{mutant:"E",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002884},{mutant:"F",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"G",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"H",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"I",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"L",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"M",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"N",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002077},{mutant:"Q",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"R",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"S",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002079},{mutant:"T",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"V",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002071},{mutant:"Y",reference_site:462,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"A",reference_site:463,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"A",reference_site:464,Antibody:"REGN10987",wildtype:"F",Escape:.002078},{mutant:"G",reference_site:464,Antibody:"REGN10987",wildtype:"F",Escape:.002077},{mutant:"H",reference_site:464,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"L",reference_site:464,Antibody:"REGN10987",wildtype:"F",Escape:.002082},{mutant:"M",reference_site:464,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"N",reference_site:464,Antibody:"REGN10987",wildtype:"F",Escape:.002079},{mutant:"Q",reference_site:464,Antibody:"REGN10987",wildtype:"F",Escape:.00208},{mutant:"S",reference_site:464,Antibody:"REGN10987",wildtype:"F",Escape:.007496},{mutant:"W",reference_site:464,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"Y",reference_site:464,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"D",reference_site:465,Antibody:"REGN10987",wildtype:"E",Escape:.00208},{mutant:"G",reference_site:465,Antibody:"REGN10987",wildtype:"E",Escape:.002852},{mutant:"H",reference_site:465,Antibody:"REGN10987",wildtype:"E",Escape:.00208},{mutant:"Q",reference_site:465,Antibody:"REGN10987",wildtype:"E",Escape:.002078},{mutant:"H",reference_site:466,Antibody:"REGN10987",wildtype:"R",Escape:.002076},{mutant:"K",reference_site:466,Antibody:"REGN10987",wildtype:"R",Escape:.002072},{mutant:"Q",reference_site:466,Antibody:"REGN10987",wildtype:"R",Escape:.002072},{mutant:"A",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002077},{mutant:"C",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"D",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"E",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002077},{mutant:"G",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002077},{mutant:"H",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002593},{mutant:"K",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002073},{mutant:"L",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002066},{mutant:"M",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"N",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"P",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002083},{mutant:"Q",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002069},{mutant:"R",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.00208},{mutant:"S",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"T",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"V",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"Y",reference_site:468,Antibody:"REGN10987",wildtype:"I",Escape:.002082},{mutant:"A",reference_site:469,Antibody:"REGN10987",wildtype:"S",Escape:.002078},{mutant:"C",reference_site:469,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"D",reference_site:469,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"E",reference_site:469,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"G",reference_site:469,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"K",reference_site:469,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"N",reference_site:469,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"Q",reference_site:469,Antibody:"REGN10987",wildtype:"S",Escape:.002073},{mutant:"R",reference_site:469,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"T",reference_site:469,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"A",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"C",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"D",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"E",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"F",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002591},{mutant:"G",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"H",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"I",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"K",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002074},{mutant:"L",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"M",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002069},{mutant:"N",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002078},{mutant:"Q",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002069},{mutant:"R",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002074},{mutant:"S",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.00208},{mutant:"V",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002074},{mutant:"Y",reference_site:470,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"A",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"C",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"D",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002073},{mutant:"F",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"G",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002074},{mutant:"H",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"I",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"K",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002083},{mutant:"L",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002079},{mutant:"M",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"N",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.00208},{mutant:"P",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"Q",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002069},{mutant:"R",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"S",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"T",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"V",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002074},{mutant:"Y",reference_site:471,Antibody:"REGN10987",wildtype:"E",Escape:.002074},{mutant:"A",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"C",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"D",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002073},{mutant:"E",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"F",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"G",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"H",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.00208},{mutant:"K",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002077},{mutant:"L",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"M",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"N",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002078},{mutant:"P",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"Q",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002078},{mutant:"S",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"T",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"V",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"W",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002076},{mutant:"Y",reference_site:472,Antibody:"REGN10987",wildtype:"I",Escape:.002075},{mutant:"A",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"C",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"E",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"F",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.002074},{mutant:"H",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.006637},{mutant:"I",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.002073},{mutant:"L",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.002078},{mutant:"M",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.00208},{mutant:"N",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"Q",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"S",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"T",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.002079},{mutant:"V",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.002077},{mutant:"W",reference_site:473,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"A",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002594},{mutant:"D",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002073},{mutant:"E",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"G",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"H",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"K",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"M",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002077},{mutant:"N",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"P",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"R",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"S",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"T",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"V",reference_site:474,Antibody:"REGN10987",wildtype:"Q",Escape:.002077},{mutant:"C",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"D",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"E",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"F",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"G",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"I",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"K",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"L",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"M",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002074},{mutant:"N",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.03631},{mutant:"Q",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"R",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"S",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002074},{mutant:"T",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002078},{mutant:"V",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"Y",reference_site:475,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"A",reference_site:476,Antibody:"REGN10987",wildtype:"G",Escape:.002071},{mutant:"D",reference_site:476,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"E",reference_site:476,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"H",reference_site:476,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"K",reference_site:476,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"N",reference_site:476,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"Q",reference_site:476,Antibody:"REGN10987",wildtype:"G",Escape:.002122},{mutant:"R",reference_site:476,Antibody:"REGN10987",wildtype:"G",Escape:.002074},{mutant:"S",reference_site:476,Antibody:"REGN10987",wildtype:"G",Escape:.002078},{mutant:"T",reference_site:476,Antibody:"REGN10987",wildtype:"G",Escape:.002073},{mutant:"A",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"C",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002073},{mutant:"D",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"F",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002074},{mutant:"G",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"H",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.00156},{mutant:"I",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"L",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"N",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"P",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002078},{mutant:"Q",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002071},{mutant:"R",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"T",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002079},{mutant:"V",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"W",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.00156},{mutant:"Y",reference_site:477,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"A",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002073},{mutant:"C",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"D",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002072},{mutant:"E",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"F",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"G",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002078},{mutant:"H",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"I",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002068},{mutant:"K",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002078},{mutant:"L",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"M",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"N",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"P",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"Q",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002073},{mutant:"R",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002074},{mutant:"S",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"V",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"W",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002065},{mutant:"Y",reference_site:478,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"A",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"C",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002073},{mutant:"D",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002074},{mutant:"E",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002078},{mutant:"F",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"G",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"H",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002077},{mutant:"I",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002073},{mutant:"K",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002873},{mutant:"L",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002079},{mutant:"M",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.00208},{mutant:"N",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"Q",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"R",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002074},{mutant:"S",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002082},{mutant:"T",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002078},{mutant:"V",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002078},{mutant:"Y",reference_site:479,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"A",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"C",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"D",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"E",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"F",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"G",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"H",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"I",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"K",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"L",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"M",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"P",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"Q",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"R",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"S",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"T",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"V",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002081},{mutant:"Y",reference_site:481,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"A",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"C",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002078},{mutant:"D",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002074},{mutant:"F",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"H",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"K",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"L",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002082},{mutant:"N",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002078},{mutant:"P",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002079},{mutant:"Q",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.003815},{mutant:"R",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"S",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002074},{mutant:"T",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002078},{mutant:"Y",reference_site:482,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"A",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"C",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"D",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"E",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.00207},{mutant:"F",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002077},{mutant:"G",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"H",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"I",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002074},{mutant:"K",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"L",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"M",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.009066},{mutant:"N",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"Q",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"R",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002074},{mutant:"S",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.00208},{mutant:"T",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002074},{mutant:"W",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"Y",reference_site:483,Antibody:"REGN10987",wildtype:"V",Escape:.002077},{mutant:"A",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002064},{mutant:"C",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"D",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.00208},{mutant:"F",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"G",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.00207},{mutant:"H",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"I",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"K",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"L",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002073},{mutant:"M",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"N",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002077},{mutant:"P",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"Q",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"R",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002077},{mutant:"S",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002077},{mutant:"T",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002066},{mutant:"V",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"W",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"Y",reference_site:484,Antibody:"REGN10987",wildtype:"E",Escape:.002073},{mutant:"A",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002074},{mutant:"C",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"D",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002081},{mutant:"E",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002073},{mutant:"H",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"K",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"M",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002074},{mutant:"N",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"P",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"Q",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"R",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"S",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"T",reference_site:485,Antibody:"REGN10987",wildtype:"G",Escape:.002082},{mutant:"A",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"C",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"D",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"E",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"G",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002071},{mutant:"H",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002072},{mutant:"I",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002074},{mutant:"K",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002074},{mutant:"L",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"M",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002069},{mutant:"N",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"P",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002079},{mutant:"Q",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002077},{mutant:"R",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"S",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002077},{mutant:"T",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"V",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"W",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"Y",reference_site:486,Antibody:"REGN10987",wildtype:"F",Escape:.002078},{mutant:"A",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002079},{mutant:"D",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"E",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"F",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"G",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"H",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"K",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"L",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002072},{mutant:"M",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"Q",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"R",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002079},{mutant:"S",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002077},{mutant:"T",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"Y",reference_site:487,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"F",reference_site:489,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"H",reference_site:489,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"I",reference_site:489,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"L",reference_site:489,Antibody:"REGN10987",wildtype:"Y",Escape:.002072},{mutant:"M",reference_site:489,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"Q",reference_site:489,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"V",reference_site:489,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"W",reference_site:489,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"A",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"C",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.00208},{mutant:"D",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002079},{mutant:"E",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"G",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"H",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"I",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002077},{mutant:"K",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"L",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002078},{mutant:"M",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"N",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"P",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"Q",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002077},{mutant:"R",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"S",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002078},{mutant:"T",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002077},{mutant:"V",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"W",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"Y",reference_site:490,Antibody:"REGN10987",wildtype:"F",Escape:.002071},{mutant:"F",reference_site:492,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"I",reference_site:492,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"V",reference_site:492,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"A",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002078},{mutant:"C",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"D",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"E",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"F",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"G",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"H",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"I",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"K",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"L",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002065},{mutant:"M",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"N",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"R",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"S",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"T",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"V",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"W",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002591},{mutant:"Y",reference_site:493,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"A",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"D",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002589},{mutant:"F",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"G",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"H",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002074},{mutant:"I",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"K",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"M",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"N",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"P",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"R",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"T",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"V",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"W",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"Y",reference_site:494,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"A",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"C",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.003073},{mutant:"D",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.007593},{mutant:"E",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"F",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"H",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002083},{mutant:"I",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"K",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"L",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002078},{mutant:"M",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"N",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"Q",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"R",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"S",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002082},{mutant:"T",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"V",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"W",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"Y",reference_site:496,Antibody:"REGN10987",wildtype:"G",Escape:.002082},{mutant:"A",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"C",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"D",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"E",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"F",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.02425},{mutant:"G",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"H",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002081},{mutant:"I",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"K",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"L",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.00321},{mutant:"M",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"N",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"R",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002078},{mutant:"S",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002073},{mutant:"T",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002072},{mutant:"V",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.002075},{mutant:"W",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.2834},{mutant:"Y",reference_site:498,Antibody:"REGN10987",wildtype:"Q",Escape:.008974},{mutant:"A",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"C",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.8679},{mutant:"D",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.9947},{mutant:"E",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.8744},{mutant:"G",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.8269},{mutant:"H",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.3335},{mutant:"L",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.05697},{mutant:"M",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.2294},{mutant:"N",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.7046},{mutant:"Q",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.657},{mutant:"R",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.8923},{mutant:"S",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.782},{mutant:"T",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.5848},{mutant:"V",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.002079},{mutant:"Y",reference_site:499,Antibody:"REGN10987",wildtype:"P",Escape:.3508},{mutant:"A",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002072},{mutant:"C",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"D",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.4751},{mutant:"E",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"F",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"G",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.00232},{mutant:"H",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"I",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"K",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002368},{mutant:"L",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"M",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002074},{mutant:"N",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"P",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"Q",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"R",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"S",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002073},{mutant:"V",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"W",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.00208},{mutant:"Y",reference_site:500,Antibody:"REGN10987",wildtype:"T",Escape:.002082},{mutant:"A",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"C",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"F",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002068},{mutant:"G",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"H",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002069},{mutant:"I",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"L",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"M",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.00207},{mutant:"P",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002079},{mutant:"Q",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002075},{mutant:"R",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"S",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002074},{mutant:"T",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"V",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"W",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002076},{mutant:"Y",reference_site:501,Antibody:"REGN10987",wildtype:"N",Escape:.002071},{mutant:"A",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002078},{mutant:"C",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"D",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002074},{mutant:"E",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"F",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"G",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"H",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"I",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002074},{mutant:"K",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"L",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"M",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"N",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002074},{mutant:"Q",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002078},{mutant:"R",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002079},{mutant:"S",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002072},{mutant:"T",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.007378},{mutant:"W",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"Y",reference_site:503,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"A",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"C",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"D",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"E",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"F",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002074},{mutant:"H",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"I",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"K",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"L",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002073},{mutant:"M",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.00208},{mutant:"N",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002071},{mutant:"P",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002081},{mutant:"Q",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"R",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002074},{mutant:"S",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002083},{mutant:"T",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"V",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"W",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002077},{mutant:"Y",reference_site:504,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"F",reference_site:505,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"H",reference_site:505,Antibody:"REGN10987",wildtype:"Y",Escape:.002079},{mutant:"M",reference_site:505,Antibody:"REGN10987",wildtype:"Y",Escape:.002584},{mutant:"N",reference_site:505,Antibody:"REGN10987",wildtype:"Y",Escape:.002075},{mutant:"Q",reference_site:505,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"W",reference_site:505,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"A",reference_site:506,Antibody:"REGN10987",wildtype:"Q",Escape:.002076},{mutant:"E",reference_site:506,Antibody:"REGN10987",wildtype:"Q",Escape:.002077},{mutant:"H",reference_site:506,Antibody:"REGN10987",wildtype:"Q",Escape:.005702},{mutant:"N",reference_site:506,Antibody:"REGN10987",wildtype:"Q",Escape:.002599},{mutant:"A",reference_site:507,Antibody:"REGN10987",wildtype:"P",Escape:.3451},{mutant:"A",reference_site:508,Antibody:"REGN10987",wildtype:"Y",Escape:.002082},{mutant:"F",reference_site:508,Antibody:"REGN10987",wildtype:"Y",Escape:.002077},{mutant:"H",reference_site:508,Antibody:"REGN10987",wildtype:"Y",Escape:.002078},{mutant:"M",reference_site:508,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"N",reference_site:508,Antibody:"REGN10987",wildtype:"Y",Escape:.002079},{mutant:"T",reference_site:508,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"V",reference_site:508,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"W",reference_site:508,Antibody:"REGN10987",wildtype:"Y",Escape:.002076},{mutant:"I",reference_site:510,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"I",reference_site:512,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"I",reference_site:513,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"M",reference_site:513,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"A",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002082},{mutant:"C",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"F",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"G",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002081},{mutant:"H",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"I",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"K",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.003851},{mutant:"L",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002077},{mutant:"M",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"N",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"Q",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"R",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"T",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002071},{mutant:"V",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002079},{mutant:"W",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.002083},{mutant:"Y",reference_site:514,Antibody:"REGN10987",wildtype:"S",Escape:.00208},{mutant:"L",reference_site:515,Antibody:"REGN10987",wildtype:"F",Escape:.002075},{mutant:"M",reference_site:515,Antibody:"REGN10987",wildtype:"F",Escape:.002076},{mutant:"D",reference_site:516,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"H",reference_site:516,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"K",reference_site:516,Antibody:"REGN10987",wildtype:"E",Escape:.002075},{mutant:"N",reference_site:516,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"P",reference_site:516,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"R",reference_site:516,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"S",reference_site:516,Antibody:"REGN10987",wildtype:"E",Escape:.002076},{mutant:"T",reference_site:516,Antibody:"REGN10987",wildtype:"E",Escape:.00156},{mutant:"E",reference_site:517,Antibody:"REGN10987",wildtype:"L",Escape:.002077},{mutant:"H",reference_site:517,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"I",reference_site:517,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"K",reference_site:517,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"M",reference_site:517,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"N",reference_site:517,Antibody:"REGN10987",wildtype:"L",Escape:.002078},{mutant:"Q",reference_site:517,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"R",reference_site:517,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"S",reference_site:517,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"T",reference_site:517,Antibody:"REGN10987",wildtype:"L",Escape:.002074},{mutant:"V",reference_site:517,Antibody:"REGN10987",wildtype:"L",Escape:.004383},{mutant:"Y",reference_site:517,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"F",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002078},{mutant:"H",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"I",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"K",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"M",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"N",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002074},{mutant:"P",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"Q",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"R",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"S",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"T",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"V",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"W",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002076},{mutant:"Y",reference_site:518,Antibody:"REGN10987",wildtype:"L",Escape:.002075},{mutant:"C",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.002075},{mutant:"D",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.03777},{mutant:"F",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.002075},{mutant:"I",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.002076},{mutant:"L",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.002075},{mutant:"N",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.002074},{mutant:"P",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.002076},{mutant:"Q",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.0518},{mutant:"R",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.002075},{mutant:"S",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.002071},{mutant:"T",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.002079},{mutant:"V",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.002076},{mutant:"Y",reference_site:519,Antibody:"REGN10987",wildtype:"H",Escape:.002077},{mutant:"C",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002074},{mutant:"D",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"E",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002074},{mutant:"F",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"G",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.00259},{mutant:"H",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002072},{mutant:"I",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002077},{mutant:"K",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"L",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"M",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002073},{mutant:"N",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"P",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002065},{mutant:"R",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002077},{mutant:"S",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002078},{mutant:"T",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"V",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002079},{mutant:"Y",reference_site:520,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"C",reference_site:521,Antibody:"REGN10987",wildtype:"P",Escape:.00156},{mutant:"F",reference_site:521,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"G",reference_site:521,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"H",reference_site:521,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"N",reference_site:521,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"R",reference_site:521,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"S",reference_site:521,Antibody:"REGN10987",wildtype:"P",Escape:.002078},{mutant:"T",reference_site:521,Antibody:"REGN10987",wildtype:"P",Escape:.002081},{mutant:"C",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"D",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"E",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002078},{mutant:"G",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002078},{mutant:"H",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002082},{mutant:"I",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"K",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002594},{mutant:"L",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"M",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"P",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"R",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"S",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"T",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"V",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002075},{mutant:"W",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002076},{mutant:"Y",reference_site:522,Antibody:"REGN10987",wildtype:"A",Escape:.002074},{mutant:"I",reference_site:523,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"Y",reference_site:523,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"A",reference_site:524,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"G",reference_site:524,Antibody:"REGN10987",wildtype:"V",Escape:.002076},{mutant:"I",reference_site:524,Antibody:"REGN10987",wildtype:"V",Escape:.002075},{mutant:"A",reference_site:525,Antibody:"REGN10987",wildtype:"C",Escape:.002076},{mutant:"F",reference_site:525,Antibody:"REGN10987",wildtype:"C",Escape:.002078},{mutant:"I",reference_site:525,Antibody:"REGN10987",wildtype:"C",Escape:.002076},{mutant:"L",reference_site:525,Antibody:"REGN10987",wildtype:"C",Escape:.002076},{mutant:"N",reference_site:525,Antibody:"REGN10987",wildtype:"C",Escape:.002076},{mutant:"R",reference_site:525,Antibody:"REGN10987",wildtype:"C",Escape:.002076},{mutant:"S",reference_site:525,Antibody:"REGN10987",wildtype:"C",Escape:.002075},{mutant:"A",reference_site:526,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"D",reference_site:526,Antibody:"REGN10987",wildtype:"G",Escape:.002074},{mutant:"E",reference_site:526,Antibody:"REGN10987",wildtype:"G",Escape:.002078},{mutant:"L",reference_site:526,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"N",reference_site:526,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"P",reference_site:526,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"R",reference_site:526,Antibody:"REGN10987",wildtype:"G",Escape:.002076},{mutant:"S",reference_site:526,Antibody:"REGN10987",wildtype:"G",Escape:.002072},{mutant:"V",reference_site:526,Antibody:"REGN10987",wildtype:"G",Escape:.002075},{mutant:"W",reference_site:526,Antibody:"REGN10987",wildtype:"G",Escape:.002074},{mutant:"A",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002078},{mutant:"C",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002591},{mutant:"E",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"F",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"G",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"H",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002076},{mutant:"I",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"K",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"L",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002077},{mutant:"M",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"N",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002073},{mutant:"Q",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002078},{mutant:"R",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"S",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002074},{mutant:"T",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002074},{mutant:"V",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002079},{mutant:"Y",reference_site:527,Antibody:"REGN10987",wildtype:"P",Escape:.002075},{mutant:"A",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"C",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002077},{mutant:"D",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.00208},{mutant:"E",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"G",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"H",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"I",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"L",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002078},{mutant:"M",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"N",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"P",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"Q",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"R",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002077},{mutant:"S",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.00208},{mutant:"T",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"V",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002074},{mutant:"W",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"Y",reference_site:528,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"C",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"D",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"E",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"F",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002072},{mutant:"G",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002076},{mutant:"H",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"I",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002069},{mutant:"L",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"M",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002065},{mutant:"N",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002078},{mutant:"P",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002077},{mutant:"Q",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002073},{mutant:"R",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"S",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"T",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002077},{mutant:"V",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"W",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002075},{mutant:"Y",reference_site:529,Antibody:"REGN10987",wildtype:"K",Escape:.002078},{mutant:"A",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"C",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"D",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"E",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"F",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002078},{mutant:"G",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"H",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"I",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002074},{mutant:"K",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002072},{mutant:"L",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002076},{mutant:"M",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"N",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"P",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002072},{mutant:"Q",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002074},{mutant:"R",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002073},{mutant:"T",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"V",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002097},{mutant:"W",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"Y",reference_site:530,Antibody:"REGN10987",wildtype:"S",Escape:.002075},{mutant:"A",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"C",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"D",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"E",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"F",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"G",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002079},{mutant:"H",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002074},{mutant:"I",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"K",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002068},{mutant:"L",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002077},{mutant:"M",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"N",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002073},{mutant:"P",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002073},{mutant:"Q",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002075},{mutant:"R",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002079},{mutant:"S",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002079},{mutant:"V",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002076},{mutant:"W",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002072},{mutant:"Y",reference_site:531,Antibody:"REGN10987",wildtype:"T",Escape:.002079}],sitemap:{331:{protein_site:331,sequential_site:331,chains:"E"},332:{protein_site:332,sequential_site:332,chains:"E"},333:{protein_site:333,sequential_site:333,chains:"E"},334:{protein_site:334,sequential_site:334,chains:"E"},335:{protein_site:335,sequential_site:335,chains:"E"},336:{protein_site:336,sequential_site:336,chains:"E"},337:{protein_site:337,sequential_site:337,chains:"E"},338:{protein_site:338,sequential_site:338,chains:"E"},339:{protein_site:339,sequential_site:339,chains:"E"},340:{protein_site:340,sequential_site:340,chains:"E"},341:{protein_site:341,sequential_site:341,chains:"E"},342:{protein_site:342,sequential_site:342,chains:"E"},344:{protein_site:344,sequential_site:344,chains:"E"},345:{protein_site:345,sequential_site:345,chains:"E"},346:{protein_site:346,sequential_site:346,chains:"E"},347:{protein_site:347,sequential_site:347,chains:"E"},348:{protein_site:348,sequential_site:348,chains:"E"},349:{protein_site:349,sequential_site:349,chains:"E"},351:{protein_site:351,sequential_site:351,chains:"E"},352:{protein_site:352,sequential_site:352,chains:"E"},353:{protein_site:353,sequential_site:353,chains:"E"},354:{protein_site:354,sequential_site:354,chains:"E"},356:{protein_site:356,sequential_site:356,chains:"E"},357:{protein_site:357,sequential_site:357,chains:"E"},358:{protein_site:358,sequential_site:358,chains:"E"},359:{protein_site:359,sequential_site:359,chains:"E"},360:{protein_site:360,sequential_site:360,chains:"E"},361:{protein_site:361,sequential_site:361,chains:"E"},362:{protein_site:362,sequential_site:362,chains:"E"},363:{protein_site:363,sequential_site:363,chains:"E"},365:{protein_site:365,sequential_site:365,chains:"E"},366:{protein_site:366,sequential_site:366,chains:"E"},367:{protein_site:367,sequential_site:367,chains:"E"},368:{protein_site:368,sequential_site:368,chains:"E"},369:{protein_site:369,sequential_site:369,chains:"E"},370:{protein_site:370,sequential_site:370,chains:"E"},371:{protein_site:371,sequential_site:371,chains:"E"},372:{protein_site:372,sequential_site:372,chains:"E"},373:{protein_site:373,sequential_site:373,chains:"E"},374:{protein_site:374,sequential_site:374,chains:"E"},375:{protein_site:375,sequential_site:375,chains:"E"},376:{protein_site:376,sequential_site:376,chains:"E"},377:{protein_site:377,sequential_site:377,chains:"E"},378:{protein_site:378,sequential_site:378,chains:"E"},380:{protein_site:380,sequential_site:380,chains:"E"},381:{protein_site:381,sequential_site:381,chains:"E"},382:{protein_site:382,sequential_site:382,chains:"E"},383:{protein_site:383,sequential_site:383,chains:"E"},384:{protein_site:384,sequential_site:384,chains:"E"},385:{protein_site:385,sequential_site:385,chains:"E"},386:{protein_site:386,sequential_site:386,chains:"E"},387:{protein_site:387,sequential_site:387,chains:"E"},388:{protein_site:388,sequential_site:388,chains:"E"},389:{protein_site:389,sequential_site:389,chains:"E"},390:{protein_site:390,sequential_site:390,chains:"E"},391:{protein_site:391,sequential_site:391,chains:"E"},392:{protein_site:392,sequential_site:392,chains:"E"},393:{protein_site:393,sequential_site:393,chains:"E"},394:{protein_site:394,sequential_site:394,chains:"E"},395:{protein_site:395,sequential_site:395,chains:"E"},396:{protein_site:396,sequential_site:396,chains:"E"},397:{protein_site:397,sequential_site:397,chains:"E"},399:{protein_site:399,sequential_site:399,chains:"E"},401:{protein_site:401,sequential_site:401,chains:"E"},402:{protein_site:402,sequential_site:402,chains:"E"},403:{protein_site:403,sequential_site:403,chains:"E"},404:{protein_site:404,sequential_site:404,chains:"E"},405:{protein_site:405,sequential_site:405,chains:"E"},406:{protein_site:406,sequential_site:406,chains:"E"},407:{protein_site:407,sequential_site:407,chains:"E"},408:{protein_site:408,sequential_site:408,chains:"E"},409:{protein_site:409,sequential_site:409,chains:"E"},410:{protein_site:410,sequential_site:410,chains:"E"},411:{protein_site:411,sequential_site:411,chains:"E"},413:{protein_site:413,sequential_site:413,chains:"E"},414:{protein_site:414,sequential_site:414,chains:"E"},415:{protein_site:415,sequential_site:415,chains:"E"},417:{protein_site:417,sequential_site:417,chains:"E"},418:{protein_site:418,sequential_site:418,chains:"E"},419:{protein_site:419,sequential_site:419,chains:"E"},420:{protein_site:420,sequential_site:420,chains:"E"},421:{protein_site:421,sequential_site:421,chains:"E"},424:{protein_site:424,sequential_site:424,chains:"E"},425:{protein_site:425,sequential_site:425,chains:"E"},427:{protein_site:427,sequential_site:427,chains:"E"},428:{protein_site:428,sequential_site:428,chains:"E"},429:{protein_site:429,sequential_site:429,chains:"E"},430:{protein_site:430,sequential_site:430,chains:"E"},433:{protein_site:433,sequential_site:433,chains:"E"},434:{protein_site:434,sequential_site:434,chains:"E"},435:{protein_site:435,sequential_site:435,chains:"E"},437:{protein_site:437,sequential_site:437,chains:"E"},438:{protein_site:438,sequential_site:438,chains:"E"},439:{protein_site:439,sequential_site:439,chains:"E"},440:{protein_site:440,sequential_site:440,chains:"E"},441:{protein_site:441,sequential_site:441,chains:"E"},443:{protein_site:443,sequential_site:443,chains:"E"},444:{protein_site:444,sequential_site:444,chains:"E"},445:{protein_site:445,sequential_site:445,chains:"E"},446:{protein_site:446,sequential_site:446,chains:"E"},447:{protein_site:447,sequential_site:447,chains:"E"},448:{protein_site:448,sequential_site:448,chains:"E"},449:{protein_site:449,sequential_site:449,chains:"E"},450:{protein_site:450,sequential_site:450,chains:"E"},451:{protein_site:451,sequential_site:451,chains:"E"},452:{protein_site:452,sequential_site:452,chains:"E"},453:{protein_site:453,sequential_site:453,chains:"E"},455:{protein_site:455,sequential_site:455,chains:"E"},456:{protein_site:456,sequential_site:456,chains:"E"},458:{protein_site:458,sequential_site:458,chains:"E"},459:{protein_site:459,sequential_site:459,chains:"E"},460:{protein_site:460,sequential_site:460,chains:"E"},461:{protein_site:461,sequential_site:461,chains:"E"},462:{protein_site:462,sequential_site:462,chains:"E"},463:{protein_site:463,sequential_site:463,chains:"E"},464:{protein_site:464,sequential_site:464,chains:"E"},465:{protein_site:465,sequential_site:465,chains:"E"},466:{protein_site:466,sequential_site:466,chains:"E"},468:{protein_site:468,sequential_site:468,chains:"E"},469:{protein_site:469,sequential_site:469,chains:"E"},470:{protein_site:470,sequential_site:470,chains:"E"},471:{protein_site:471,sequential_site:471,chains:"E"},472:{protein_site:472,sequential_site:472,chains:"E"},473:{protein_site:473,sequential_site:473,chains:"E"},474:{protein_site:474,sequential_site:474,chains:"E"},475:{protein_site:475,sequential_site:475,chains:"E"},476:{protein_site:476,sequential_site:476,chains:"E"},477:{protein_site:477,sequential_site:477,chains:"E"},478:{protein_site:478,sequential_site:478,chains:"E"},479:{protein_site:479,sequential_site:479,chains:"E"},481:{protein_site:481,sequential_site:481,chains:"E"},482:{protein_site:482,sequential_site:482,chains:"E"},483:{protein_site:483,sequential_site:483,chains:"E"},484:{protein_site:484,sequential_site:484,chains:"E"},485:{protein_site:485,sequential_site:485,chains:"E"},486:{protein_site:486,sequential_site:486,chains:"E"},487:{protein_site:487,sequential_site:487,chains:"E"},489:{protein_site:489,sequential_site:489,chains:"E"},490:{protein_site:490,sequential_site:490,chains:"E"},492:{protein_site:492,sequential_site:492,chains:"E"},493:{protein_site:493,sequential_site:493,chains:"E"},494:{protein_site:494,sequential_site:494,chains:"E"},496:{protein_site:496,sequential_site:496,chains:"E"},498:{protein_site:498,sequential_site:498,chains:"E"},499:{protein_site:499,sequential_site:499,chains:"E"},500:{protein_site:500,sequential_site:500,chains:"E"},501:{protein_site:501,sequential_site:501,chains:"E"},503:{protein_site:503,sequential_site:503,chains:"E"},504:{protein_site:504,sequential_site:504,chains:"E"},505:{protein_site:505,sequential_site:505,chains:"E"},506:{protein_site:506,sequential_site:506,chains:"E"},507:{protein_site:507,sequential_site:507,chains:"E"},508:{protein_site:508,sequential_site:508,chains:"E"},510:{protein_site:510,sequential_site:510,chains:"E"},512:{protein_site:512,sequential_site:512,chains:"E"},513:{protein_site:513,sequential_site:513,chains:"E"},514:{protein_site:514,sequential_site:514,chains:"E"},515:{protein_site:515,sequential_site:515,chains:"E"},516:{protein_site:516,sequential_site:516,chains:"E"},517:{protein_site:517,sequential_site:517,chains:"E"},518:{protein_site:518,sequential_site:518,chains:"E"},519:{protein_site:519,sequential_site:519,chains:"E"},520:{protein_site:520,sequential_site:520,chains:"E"},521:{protein_site:521,sequential_site:521,chains:"E"},522:{protein_site:522,sequential_site:522,chains:"E"},523:{protein_site:523,sequential_site:523,chains:"E"},524:{protein_site:524,sequential_site:524,chains:"E"},525:{protein_site:525,sequential_site:525,chains:"E"},526:{protein_site:526,sequential_site:526,chains:"E"},527:{protein_site:527,sequential_site:527,chains:"E"},528:{protein_site:528,sequential_site:528,chains:"E"},529:{protein_site:529,sequential_site:529,chains:"E"},530:{protein_site:530,sequential_site:530,chains:"E"},531:{protein_site:531,sequential_site:531,chains:"E"}},metric_col:"Escape",condition_col:"Antibody",conditions:["REGN10987","REGN10933"],condition_colors:{REGN10987:"#220ea1",REGN10933:"#a10e0e"},negative_condition_colors:null,alphabet:["R","K","H","D","E","Q","N","S","T","Y","W","F","A","I","L","M","V","G","P","C","-","*"],pdb:"6XDG",dataChains:["E"],excludeChains:["none"],filter_cols:null,filter_limits:null,tooltip_cols:null,excludedAminoAcids:null,description:null,title:"Escape from the Regeneron anti-RBD antibody cocktail"}},X2=new qn.Renderer;function ype(e){return e.replace(/\$\$([\s\S]+?)\$\$/g,(t,n)=>LB.renderToString(n,{displayMode:!0})).replace(/\$([\s\S]+?)\$/g,(t,n)=>LB.renderToString(n,{displayMode:!1}))}const gpe=X2.text;X2.text=function(e){const t=ype(e);return gpe(t)};const Fr=new o2;let ai,bpe=new Lz;vpe().then(e=>{ai=new mpe(e,bpe),wpe(),Epe(),_pe(),xpe(),Bpe(),window.dispatchEvent(new Event("resize"))});async function vpe(){const e=new URLSearchParams(window.location.search),t=e.get("data"),n=e.get("markdown");if(t)try{const i=await fetch(t);if(i.ok){const r=await i.json();try{d4(r)}catch(a){return Fr.showAlert(a.message),Wy}if(n)try{const a=await fetch(n);if(!a.ok){Fr.showAlert(`There was an error fetching the markdown from the URL. HTTP Status: ${a.status}`);return}const s=await a.text();document.getElementById("markdown").style.display="block",document.getElementById("markdown-container").innerHTML=qn.parse(s,{renderer:X2})}catch(a){Fr.showAlert(`Fetch operation failed: ${a.message}`)}else document.getElementById("markdown").style.display="none",document.getElementById("markdown-container").innerHTML="";return document.getElementById("remote-file").click(function(a){a.stopPropagation()}),document.getElementById("url-json-file").value=t,document.getElementById("url-markdown-file").value=n,document.getElementById("url-markdown-file").disabled=!1,r}else return Fr.showAlert(`HTTP error! status: ${i.status}`),Wy}catch(i){return Fr.showAlert(`Fetch operation failed: ${i.message}`),Wy}else return Wy}function wpe(){kt("#local-json-file").on("change",function(){const e=document.getElementById("local-json-file");if(e.files.length===0){Fr.showAlert("Please select a JSON file to upload.");return}const t=e.files[0];if(t.type!=="application/json"){Fr.showAlert("Please select a valid JSON file.");return}const n=new FileReader;n.onload=function(){const i=JSON.parse(n.result);try{d4(i)}catch(r){Fr.showAlert(r.message);return}ai.data=i,ai.initTool()},n.readAsText(t),window.history.replaceState({},"",`${location.pathname}`),document.getElementById("url-json-file").value="",document.getElementById("url-markdown-file").value="",document.getElementById("url-markdown-file").disabled=!0,document.getElementById("markdown-container").innerHTML="",document.getElementById("markdown").style.display="none",window.dispatchEvent(new Event("resize"))}),kt("#url-json-file").on("keyup",async function(e){if(e.key==="Enter"){if(!this.value){Fr.showAlert("Please enter a URL.");return}try{new URL(this.value)}catch{Fr.showAlert("Please enter a valid URL.");return}try{const t=await fetch(this.value);if(!t.ok){Fr.showAlert(`There was an error fetching data from the URL. HTTP Status: ${t.status}`);return}const n=await t.json();try{d4(n)}catch(r){Fr.showAlert(r.message);return}document.getElementById("url-markdown-file").disabled=!1;const i=new URLSearchParams;i.set("data",this.value),window.history.replaceState({},"",`${location.pathname}?${i}`),ai.data=n,ai.initTool(),window.dispatchEvent(new Event("resize")),document.getElementById("local-json-file").value=""}catch(t){Fr.showAlert(`Fetch operation failed: ${t.message}`)}}}),kt("#url-markdown-file").on("keyup",async function(e){if(e.key==="Enter"){if(!this.value){Fr.showAlert("Please enter a URL.");return}try{new URL(this.value)}catch{Fr.showAlert("Please enter a valid URL.");return}try{const t=await fetch(this.value);if(!t.ok){Fr.showAlert(`There was an error fetching data from the URL. HTTP Status: ${t.status}`);return}const n=await t.text();document.getElementById("markdown").style.display="block",document.getElementById("markdown-container").innerHTML=qn.parse(n,{renderer:X2});const i=new URLSearchParams(window.location.search);i.set("markdown",this.value),window.history.replaceState({},"",`${location.pathname}?${i}`)}catch(t){Fr.showAlert(`Fetch operation failed: ${t.message}`)}}})}function Epe(){kt("#dataset").on("change",function(){ai.updateSelectedDataset(this);let e=document.getElementById("chart-btn");if(e.classList.contains("is-open")){let t=e.nextElementSibling;t.style.maxHeight=t.scrollHeight+"px"}}),window.addEventListener("proteinConditionSelected",function(e){ai.updateProteinCondition(e.detail)}),window.addEventListener("chartConditionsSelected",function(e){ai.updateChartConditions(e.detail)}),kt("#summary").on("change",function(){ai.updateChartOptions(this)}),kt("#floor").on("change",function(){ai.updateChartOptions(this)}),kt("#mutations").on("change",function(){ai.updateChartOptions(this)})}function _pe(){kt("#proteinRepresentation").on("change",function(){ai.updateProteinOptions(this)}),kt("#selectionRepresentation").on("change",function(){ai.updateProteinOptions(this)}),kt("#backgroundRepresentation").on("change",function(){ai.updateProteinOptions(this)}),kt("#ligandRepresentation").on("change",function(){ai.updateProteinOptions(this)}),kt("#proteinColor").on("change",function(){ai.updateProteinOptions(this)}),kt("#backgroundColor").on("change",function(){ai.updateProteinOptions(this)}),kt("#ligandColor").on("change",function(){ai.updateProteinOptions(this)}),kt("#ligandElement").on("change",function(){this.value=this.checked?"true":"false",ai.updateProteinOptions(this)}),kt("#proteinElement").on("change",function(){this.value=this.checked?"true":"false",ai.updateProteinOptions(this)}),kt("#backgroundOpacity").on("input",function(){ai.updateProteinOptions(this)}),kt("#proteinOpacity").on("input",function(){ai.updateProteinOptions(this)}),kt("#selectionOpacity").on("input",function(){ai.updateProteinOptions(this)}),kt("#showGlycans").on("change",function(){this.value=this.checked?"true":"false",ai.updateProteinOptions(this)}),kt("#showNucleotides").on("change",function(){this.value=this.checked?"true":"false",ai.updateProteinOptions(this)}),kt("#showNonCarbonHydrogens").on("change",function(){this.value=this.checked?"true":"false",ai.updateProteinOptions(this)})}function xpe(){kt("#downloadProtein").on("click",function(){ai.protein.saveImage()}),kt("#downloadPlot").on("click",function(){ai.chart.saveImage()})}function Bpe(){window.addEventListener("resize",function(){const e=ai.chart.resize();ai.protein.resize(e)})}
